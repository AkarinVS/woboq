<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>asan_interceptors.cpp source code [llvm/compiler-rt/lib/asan/asan_interceptors.cpp] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'llvm/compiler-rt/lib/asan/asan_interceptors.cpp'; var root_path = '../../../..'; var data_path = '../../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>llvm</a>/<a href='../..'>compiler-rt</a>/<a href='..'>lib</a>/<a href='./'>asan</a>/<a href='asan_interceptors.cpp.html'>asan_interceptors.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>//===-- asan_interceptors.cpp ---------------------------------------------===//</i></td></tr>
<tr><th id="2">2</th><td><i>//</i></td></tr>
<tr><th id="3">3</th><td><i>// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</i></td></tr>
<tr><th id="4">4</th><td><i>// See <a href="https://llvm.org/LICENSE.txt">https://llvm.org/LICENSE.txt</a> for license information.</i></td></tr>
<tr><th id="5">5</th><td><i>// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</i></td></tr>
<tr><th id="6">6</th><td><i>//</i></td></tr>
<tr><th id="7">7</th><td><i>//===----------------------------------------------------------------------===//</i></td></tr>
<tr><th id="8">8</th><td><i>//</i></td></tr>
<tr><th id="9">9</th><td><i>// This file is a part of AddressSanitizer, an address sanity checker.</i></td></tr>
<tr><th id="10">10</th><td><i>//</i></td></tr>
<tr><th id="11">11</th><td><i>// Intercept various libc functions.</i></td></tr>
<tr><th id="12">12</th><td><i>//===----------------------------------------------------------------------===//</i></td></tr>
<tr><th id="13">13</th><td></td></tr>
<tr><th id="14">14</th><td><u>#include <a href="asan_interceptors.h.html">"asan_interceptors.h"</a></u></td></tr>
<tr><th id="15">15</th><td><u>#include <a href="asan_allocator.h.html">"asan_allocator.h"</a></u></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="asan_internal.h.html">"asan_internal.h"</a></u></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="asan_mapping.h.html">"asan_mapping.h"</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="asan_poisoning.h.html">"asan_poisoning.h"</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="asan_report.h.html">"asan_report.h"</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="asan_stack.h.html">"asan_stack.h"</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="asan_stats.h.html">"asan_stats.h"</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="asan_suppressions.h.html">"asan_suppressions.h"</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../lsan/lsan_common.h.html">"lsan/lsan_common.h"</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../sanitizer_common/sanitizer_libc.h.html">"sanitizer_common/sanitizer_libc.h"</a></u></td></tr>
<tr><th id="25">25</th><td></td></tr>
<tr><th id="26">26</th><td><i>// There is no general interception at all on Fuchsia and RTEMS.</i></td></tr>
<tr><th id="27">27</th><td><i>// Only the functions in asan_interceptors_memintrinsics.cpp are</i></td></tr>
<tr><th id="28">28</th><td><i>// really defined to replace libc functions.</i></td></tr>
<tr><th id="29">29</th><td><u>#<span data-ppcond="29">if</span> !<a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#111" title="0" data-ref="_M/SANITIZER_FUCHSIA">SANITIZER_FUCHSIA</a> &amp;&amp; !<a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#117" title="0" data-ref="_M/SANITIZER_RTEMS">SANITIZER_RTEMS</a></u></td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><u>#<span data-ppcond="31">if</span> <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#120" title="(0 || 1 || 0 || 0 || 0)" data-ref="_M/SANITIZER_POSIX">SANITIZER_POSIX</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../sanitizer_common/sanitizer_posix.h.html">"sanitizer_common/sanitizer_posix.h"</a></u></td></tr>
<tr><th id="33">33</th><td><u>#<span data-ppcond="31">endif</span></u></td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><u>#<span data-ppcond="35">if</span> <a class="macro" href="asan_interceptors.h.html#88" title="1" data-ref="_M/ASAN_INTERCEPT__UNWIND_RAISEEXCEPTION">ASAN_INTERCEPT__UNWIND_RAISEEXCEPTION</a> || \</u></td></tr>
<tr><th id="36">36</th><td><u>    ASAN_INTERCEPT__SJLJ_UNWIND_RAISEEXCEPTION</u></td></tr>
<tr><th id="37">37</th><td><u>#include &lt;unwind.h&gt;</u></td></tr>
<tr><th id="38">38</th><td><u>#<span data-ppcond="35">endif</span></u></td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td><u>#<span data-ppcond="40">if</span> defined(<span class="macro" data-ref="_M/__i386">__i386</span>) &amp;&amp; <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#30" title="1" data-ref="_M/SANITIZER_LINUX">SANITIZER_LINUX</a></u></td></tr>
<tr><th id="41">41</th><td><u>#define ASAN_PTHREAD_CREATE_VERSION "GLIBC_2.1"</u></td></tr>
<tr><th id="42">42</th><td><u>#<span data-ppcond="40">elif</span> defined(<span class="macro" data-ref="_M/__mips__">__mips__</span>) &amp;&amp; <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#30" title="1" data-ref="_M/SANITIZER_LINUX">SANITIZER_LINUX</a></u></td></tr>
<tr><th id="43">43</th><td><u>#define ASAN_PTHREAD_CREATE_VERSION "GLIBC_2.2"</u></td></tr>
<tr><th id="44">44</th><td><u>#<span data-ppcond="40">endif</span></u></td></tr>
<tr><th id="45">45</th><td></td></tr>
<tr><th id="46">46</th><td><b>namespace</b> <span class="namespace">__asan</span> {</td></tr>
<tr><th id="47">47</th><td></td></tr>
<tr><th id="48">48</th><td><u>#define <dfn class="macro" id="_M/ASAN_READ_STRING_OF_LEN" data-ref="_M/ASAN_READ_STRING_OF_LEN">ASAN_READ_STRING_OF_LEN</dfn>(ctx, s, len, n)                 \</u></td></tr>
<tr><th id="49">49</th><td><u>  ASAN_READ_RANGE((ctx), (s),                                   \</u></td></tr>
<tr><th id="50">50</th><td><u>    <a class="ref fn" href="../sanitizer_common/sanitizer_flags.h.html#__sanitizer::common_flags" title='__sanitizer::common_flags' data-ref="__sanitizer::common_flags" data-ref-filename="__sanitizer..common_flags">common_flags</a>()-&gt;<a class="ref field" href="../sanitizer_common/sanitizer_flags.inc.html#190" title='__sanitizer::CommonFlags::strict_string_checks' data-ref="__sanitizer::CommonFlags::strict_string_checks" data-ref-filename="__sanitizer..CommonFlags..strict_string_checks">strict_string_checks</a> ? (len) + 1 : (n))</u></td></tr>
<tr><th id="51">51</th><td></td></tr>
<tr><th id="52">52</th><td><u>#define <dfn class="macro" id="_M/ASAN_READ_STRING" data-ref="_M/ASAN_READ_STRING">ASAN_READ_STRING</dfn>(ctx, s, n)                             \</u></td></tr>
<tr><th id="53">53</th><td><u>  ASAN_READ_STRING_OF_LEN((ctx), (s), REAL(strlen)(s), (n))</u></td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td><em>static</em> <b>inline</b> <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="tu decl def fn" id="__asan::MaybeRealStrnlen" title='__asan::MaybeRealStrnlen' data-type='__sanitizer::uptr __asan::MaybeRealStrnlen(const char * s, __sanitizer::uptr maxlen)' data-ref="__asan::MaybeRealStrnlen" data-ref-filename="__asan..MaybeRealStrnlen">MaybeRealStrnlen</dfn>(<em>const</em> <em>char</em> *<dfn class="local col1 decl" id="1s" title='s' data-type='const char *' data-ref="1s" data-ref-filename="1s">s</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col2 decl" id="2maxlen" title='maxlen' data-type='__sanitizer::uptr' data-ref="2maxlen" data-ref-filename="2maxlen">maxlen</dfn>) {</td></tr>
<tr><th id="56">56</th><td><u>#<span data-ppcond="56">if</span> <a class="macro" href="../sanitizer_common/sanitizer_platform_interceptors.h.html#148" title="(1 &amp;&amp; 1)" data-ref="_M/SANITIZER_INTERCEPT_STRNLEN">SANITIZER_INTERCEPT_STRNLEN</a></u></td></tr>
<tr><th id="57">57</th><td>  <b>if</b> (<a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strnlen" data-ref="_M/REAL">REAL</a>(strnlen)) {</td></tr>
<tr><th id="58">58</th><td>    <b>return</b> <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strnlen" data-ref="_M/REAL">REAL</a>(strnlen)(<a class="local col1 ref" href="#1s" title='s' data-ref="1s" data-ref-filename="1s">s</a>, <a class="local col2 ref" href="#2maxlen" title='maxlen' data-ref="2maxlen" data-ref-filename="2maxlen">maxlen</a>);</td></tr>
<tr><th id="59">59</th><td>  }</td></tr>
<tr><th id="60">60</th><td><u>#<span data-ppcond="56">endif</span></u></td></tr>
<tr><th id="61">61</th><td>  <b>return</b> <a class="ref fn" href="../sanitizer_common/sanitizer_libc.h.html#__sanitizer::internal_strnlen" title='__sanitizer::internal_strnlen' data-ref="__sanitizer::internal_strnlen" data-ref-filename="__sanitizer..internal_strnlen">internal_strnlen</a>(<a class="local col1 ref" href="#1s" title='s' data-ref="1s" data-ref-filename="1s">s</a>, <a class="local col2 ref" href="#2maxlen" title='maxlen' data-ref="2maxlen" data-ref-filename="2maxlen">maxlen</a>);</td></tr>
<tr><th id="62">62</th><td>}</td></tr>
<tr><th id="63">63</th><td></td></tr>
<tr><th id="64">64</th><td><em>void</em> <dfn class="decl def fn" id="__asan::SetThreadName" title='__asan::SetThreadName' data-ref="__asan::SetThreadName" data-ref-filename="__asan..SetThreadName">SetThreadName</dfn>(<em>const</em> <em>char</em> *<dfn class="local col3 decl" id="3name" title='name' data-type='const char *' data-ref="3name" data-ref-filename="3name">name</dfn>) {</td></tr>
<tr><th id="65">65</th><td>  <a class="type" href="asan_thread.h.html#__asan::AsanThread" title='__asan::AsanThread' data-ref="__asan::AsanThread" data-ref-filename="__asan..AsanThread">AsanThread</a> *<dfn class="local col4 decl" id="4t" title='t' data-type='__asan::AsanThread *' data-ref="4t" data-ref-filename="4t">t</dfn> = <a class="ref fn" href="asan_thread.h.html#__asan::GetCurrentThread" title='__asan::GetCurrentThread' data-ref="__asan::GetCurrentThread" data-ref-filename="__asan..GetCurrentThread">GetCurrentThread</a>();</td></tr>
<tr><th id="66">66</th><td>  <b>if</b> (<a class="local col4 ref" href="#4t" title='t' data-ref="4t" data-ref-filename="4t">t</a>)</td></tr>
<tr><th id="67">67</th><td>    <a class="ref fn" href="asan_thread.h.html#__asan::asanThreadRegistry" title='__asan::asanThreadRegistry' data-ref="__asan::asanThreadRegistry" data-ref-filename="__asan..asanThreadRegistry">asanThreadRegistry</a>().<a class="ref fn" href="../sanitizer_common/sanitizer_thread_registry.h.html#__sanitizer::ThreadRegistry::SetThreadName" title='__sanitizer::ThreadRegistry::SetThreadName' data-ref="__sanitizer::ThreadRegistry::SetThreadName" data-ref-filename="__sanitizer..ThreadRegistry..SetThreadName">SetThreadName</a>(<a class="local col4 ref" href="#4t" title='t' data-ref="4t" data-ref-filename="4t">t</a>-&gt;<a class="ref fn" href="asan_thread.h.html#__asan::AsanThread::tid" title='__asan::AsanThread::tid' data-ref="__asan::AsanThread::tid" data-ref-filename="__asan..AsanThread..tid">tid</a>(), <a class="local col3 ref" href="#3name" title='name' data-ref="3name" data-ref-filename="3name">name</a>);</td></tr>
<tr><th id="68">68</th><td>}</td></tr>
<tr><th id="69">69</th><td></td></tr>
<tr><th id="70">70</th><td><em>int</em> <dfn class="decl def fn" id="__asan::OnExit" title='__asan::OnExit' data-ref="__asan::OnExit" data-ref-filename="__asan..OnExit">OnExit</dfn>() {</td></tr>
<tr><th id="71">71</th><td>  <b>if</b> (<a class="macro" href="../lsan/lsan_common.h.html#39" title="1" data-ref="_M/CAN_SANITIZE_LEAKS">CAN_SANITIZE_LEAKS</a> &amp;&amp; <a class="ref fn" href="../sanitizer_common/sanitizer_flags.h.html#__sanitizer::common_flags" title='__sanitizer::common_flags' data-ref="__sanitizer::common_flags" data-ref-filename="__sanitizer..common_flags">common_flags</a>()-&gt;<a class="ref field" href="../sanitizer_common/sanitizer_flags.inc.html#72" title='__sanitizer::CommonFlags::detect_leaks' data-ref="__sanitizer::CommonFlags::detect_leaks" data-ref-filename="__sanitizer..CommonFlags..detect_leaks">detect_leaks</a> &amp;&amp;</td></tr>
<tr><th id="72">72</th><td>      <span class="namespace">__lsan::</span><a class="ref fn" href="../lsan/lsan_common.h.html#__lsan::HasReportedLeaks" title='__lsan::HasReportedLeaks' data-ref="__lsan::HasReportedLeaks" data-ref-filename="__lsan..HasReportedLeaks">HasReportedLeaks</a>()) {</td></tr>
<tr><th id="73">73</th><td>    <b>return</b> <a class="ref fn" href="../sanitizer_common/sanitizer_flags.h.html#__sanitizer::common_flags" title='__sanitizer::common_flags' data-ref="__sanitizer::common_flags" data-ref-filename="__sanitizer..common_flags">common_flags</a>()-&gt;<a class="ref field" href="../sanitizer_common/sanitizer_flags.inc.html#236" title='__sanitizer::CommonFlags::exitcode' data-ref="__sanitizer::CommonFlags::exitcode" data-ref-filename="__sanitizer..CommonFlags..exitcode">exitcode</a>;</td></tr>
<tr><th id="74">74</th><td>  }</td></tr>
<tr><th id="75">75</th><td>  <i>// FIXME: ask frontend whether we need to return failure.</i></td></tr>
<tr><th id="76">76</th><td>  <b>return</b> <var>0</var>;</td></tr>
<tr><th id="77">77</th><td>}</td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td>} <i>// namespace __asan</i></td></tr>
<tr><th id="80">80</th><td></td></tr>
<tr><th id="81">81</th><td><i>// ---------------------- Wrappers ---------------- {{{1</i></td></tr>
<tr><th id="82">82</th><td><b>using</b> <b>namespace</b> <span class="namespace">__asan</span>;</td></tr>
<tr><th id="83">83</th><td></td></tr>
<tr><th id="84">84</th><td><a class="macro" href="../interception/interception.h.html#188" title="typedef void * (*malloc_type)(uptr); namespace __interception { extern malloc_type real_malloc; } extern &quot;C&quot; void * __interceptor_malloc(uptr);" data-ref="_M/DECLARE_REAL_AND_INTERCEPTOR">DECLARE_REAL_AND_INTERCEPTOR</a>(<em>void</em> *, malloc, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a>)</td></tr>
<tr><th id="85">85</th><td><a class="macro" href="../interception/interception.h.html#188" title="typedef void (*free_type)(void *); namespace __interception { extern free_type real_free; } extern &quot;C&quot; void __interceptor_free(void *);" data-ref="_M/DECLARE_REAL_AND_INTERCEPTOR">DECLARE_REAL_AND_INTERCEPTOR</a>(<em>void</em>, free, <em>void</em> *)</td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td><u>#define <dfn class="macro" id="_M/ASAN_INTERCEPTOR_ENTER" data-ref="_M/ASAN_INTERCEPTOR_ENTER">ASAN_INTERCEPTOR_ENTER</dfn>(ctx, func)                                      \</u></td></tr>
<tr><th id="88">88</th><td><u>  <a class="type" href="asan_interceptors_memintrinsics.h.html#__asan::AsanInterceptorContext" title='__asan::AsanInterceptorContext' data-ref="__asan::AsanInterceptorContext" data-ref-filename="__asan..AsanInterceptorContext">AsanInterceptorContext</a> <dfn class="local col9 decl" id="6739_ctx" title='_ctx' data-type='__asan::AsanInterceptorContext' data-ref="6739_ctx" data-ref-filename="6739_ctx"><dfn class="local col2 decl" id="6752_ctx" title='_ctx' data-type='__asan::AsanInterceptorContext' data-ref="6752_ctx" data-ref-filename="6752_ctx"><dfn class="local col3 decl" id="6763_ctx" title='_ctx' data-type='__asan::AsanInterceptorContext' data-ref="6763_ctx" data-ref-filename="6763_ctx"><dfn class="local col9 decl" id="6769_ctx" title='_ctx' data-type='__asan::AsanInterceptorContext' data-ref="6769_ctx" data-ref-filename="6769_ctx"><dfn class="local col7 decl" id="6777_ctx" title='_ctx' data-type='__asan::AsanInterceptorContext' data-ref="6777_ctx" data-ref-filename="6777_ctx"><dfn class="local col1 decl" id="6791_ctx" title='_ctx' data-type='__asan::AsanInterceptorContext' data-ref="6791_ctx" data-ref-filename="6791_ctx"><dfn class="local col3 decl" id="6803_ctx" title='_ctx' data-type='__asan::AsanInterceptorContext' data-ref="6803_ctx" data-ref-filename="6803_ctx"><dfn class="local col0 decl" id="6810_ctx" title='_ctx' data-type='__asan::AsanInterceptorContext' data-ref="6810_ctx" data-ref-filename="6810_ctx"><dfn class="local col7 decl" id="6817_ctx" title='_ctx' data-type='__asan::AsanInterceptorContext' data-ref="6817_ctx" data-ref-filename="6817_ctx"><dfn class="local col0 decl" id="6830_ctx" title='_ctx' data-type='__asan::AsanInterceptorContext' data-ref="6830_ctx" data-ref-filename="6830_ctx"><dfn class="local col7 decl" id="6837_ctx" title='_ctx' data-type='__asan::AsanInterceptorContext' data-ref="6837_ctx" data-ref-filename="6837_ctx">_ctx</dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn></dfn> = {#func};                                       \</u></td></tr>
<tr><th id="89">89</th><td><u>  ctx = (void *)&amp;<a class="local col9 ref" href="#368" title='_ctx' data-ref="6739_ctx" data-ref-filename="6739_ctx"><a class="local col2 ref" href="#389" title='_ctx' data-ref="6752_ctx" data-ref-filename="6752_ctx"><a class="local col3 ref" href="#408" title='_ctx' data-ref="6763_ctx" data-ref-filename="6763_ctx"><a class="local col9 ref" href="#430" title='_ctx' data-ref="6769_ctx" data-ref-filename="6769_ctx"><a class="local col7 ref" href="#446" title='_ctx' data-ref="6777_ctx" data-ref-filename="6777_ctx"><a class="local col1 ref" href="#462" title='_ctx' data-ref="6791_ctx" data-ref-filename="6791_ctx"><a class="local col3 ref" href="#475" title='_ctx' data-ref="6803_ctx" data-ref-filename="6803_ctx"><a class="local col0 ref" href="#488" title='_ctx' data-ref="6810_ctx" data-ref-filename="6810_ctx"><a class="local col7 ref" href="#509" title='_ctx' data-ref="6817_ctx" data-ref-filename="6817_ctx"><a class="local col0 ref" href="#527" title='_ctx' data-ref="6830_ctx" data-ref-filename="6830_ctx"><a class="local col7 ref" href="#540" title='_ctx' data-ref="6837_ctx" data-ref-filename="6837_ctx">_ctx</a></a></a></a></a></a></a></a></a></a></a>;                                                         \</u></td></tr>
<tr><th id="90">90</th><td><u>  (void) ctx;</u>                                                                  \</td></tr>
<tr><th id="91">91</th><td></td></tr>
<tr><th id="92">92</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPT_FUNCTION" data-ref="_M/COMMON_INTERCEPT_FUNCTION">COMMON_INTERCEPT_FUNCTION</dfn>(name) ASAN_INTERCEPT_FUNC(name)</u></td></tr>
<tr><th id="93">93</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPT_FUNCTION_VER" data-ref="_M/COMMON_INTERCEPT_FUNCTION_VER">COMMON_INTERCEPT_FUNCTION_VER</dfn>(name, ver)                          \</u></td></tr>
<tr><th id="94">94</th><td><u>  ASAN_INTERCEPT_FUNC_VER(name, ver)</u></td></tr>
<tr><th id="95">95</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_WRITE_RANGE" data-ref="_M/COMMON_INTERCEPTOR_WRITE_RANGE">COMMON_INTERCEPTOR_WRITE_RANGE</dfn>(ctx, ptr, size) \</u></td></tr>
<tr><th id="96">96</th><td><u>  ASAN_WRITE_RANGE(ctx, ptr, size)</u></td></tr>
<tr><th id="97">97</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_READ_RANGE" data-ref="_M/COMMON_INTERCEPTOR_READ_RANGE">COMMON_INTERCEPTOR_READ_RANGE</dfn>(ctx, ptr, size) \</u></td></tr>
<tr><th id="98">98</th><td><u>  ASAN_READ_RANGE(ctx, ptr, size)</u></td></tr>
<tr><th id="99">99</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_ENTER" data-ref="_M/COMMON_INTERCEPTOR_ENTER">COMMON_INTERCEPTOR_ENTER</dfn>(ctx, func, ...)                               \</u></td></tr>
<tr><th id="100">100</th><td><u>  ASAN_INTERCEPTOR_ENTER(ctx, func);                                           \</u></td></tr>
<tr><th id="101">101</th><td><u>  do {                                                                         \</u></td></tr>
<tr><th id="102">102</th><td><u>    if (asan_init_is_running)                                                  \</u></td></tr>
<tr><th id="103">103</th><td><u>      return REAL(func)(__VA_ARGS__);                                          \</u></td></tr>
<tr><th id="104">104</th><td><u>    if (SANITIZER_MAC &amp;&amp; UNLIKELY(!asan_inited))                               \</u></td></tr>
<tr><th id="105">105</th><td><u>      return REAL(func)(__VA_ARGS__);                                          \</u></td></tr>
<tr><th id="106">106</th><td><u>    ENSURE_ASAN_INITED();                                                      \</u></td></tr>
<tr><th id="107">107</th><td><u>  } while (false)</u></td></tr>
<tr><th id="108">108</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_DIR_ACQUIRE" data-ref="_M/COMMON_INTERCEPTOR_DIR_ACQUIRE">COMMON_INTERCEPTOR_DIR_ACQUIRE</dfn>(ctx, path) \</u></td></tr>
<tr><th id="109">109</th><td><u>  do {                                            \</u></td></tr>
<tr><th id="110">110</th><td><u>  } while (false)</u></td></tr>
<tr><th id="111">111</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_FD_ACQUIRE" data-ref="_M/COMMON_INTERCEPTOR_FD_ACQUIRE">COMMON_INTERCEPTOR_FD_ACQUIRE</dfn>(ctx, fd) \</u></td></tr>
<tr><th id="112">112</th><td><u>  do {                                         \</u></td></tr>
<tr><th id="113">113</th><td><u>  } while (false)</u></td></tr>
<tr><th id="114">114</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_FD_RELEASE" data-ref="_M/COMMON_INTERCEPTOR_FD_RELEASE">COMMON_INTERCEPTOR_FD_RELEASE</dfn>(ctx, fd) \</u></td></tr>
<tr><th id="115">115</th><td><u>  do {                                         \</u></td></tr>
<tr><th id="116">116</th><td><u>  } while (false)</u></td></tr>
<tr><th id="117">117</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_FD_SOCKET_ACCEPT" data-ref="_M/COMMON_INTERCEPTOR_FD_SOCKET_ACCEPT">COMMON_INTERCEPTOR_FD_SOCKET_ACCEPT</dfn>(ctx, fd, newfd) \</u></td></tr>
<tr><th id="118">118</th><td><u>  do {                                                      \</u></td></tr>
<tr><th id="119">119</th><td><u>  } while (false)</u></td></tr>
<tr><th id="120">120</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_SET_THREAD_NAME" data-ref="_M/COMMON_INTERCEPTOR_SET_THREAD_NAME">COMMON_INTERCEPTOR_SET_THREAD_NAME</dfn>(ctx, name) SetThreadName(name)</u></td></tr>
<tr><th id="121">121</th><td><i>// Should be asanThreadRegistry().SetThreadNameByUserId(thread, name)</i></td></tr>
<tr><th id="122">122</th><td><i>// But asan does not remember UserId's for threads (pthread_t);</i></td></tr>
<tr><th id="123">123</th><td><i>// and remembers all ever existed threads, so the linear search by UserId</i></td></tr>
<tr><th id="124">124</th><td><i>// can be slow.</i></td></tr>
<tr><th id="125">125</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_SET_PTHREAD_NAME" data-ref="_M/COMMON_INTERCEPTOR_SET_PTHREAD_NAME">COMMON_INTERCEPTOR_SET_PTHREAD_NAME</dfn>(ctx, thread, name) \</u></td></tr>
<tr><th id="126">126</th><td><u>  do {                                                         \</u></td></tr>
<tr><th id="127">127</th><td><u>  } while (false)</u></td></tr>
<tr><th id="128">128</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_BLOCK_REAL" data-ref="_M/COMMON_INTERCEPTOR_BLOCK_REAL">COMMON_INTERCEPTOR_BLOCK_REAL</dfn>(name) REAL(name)</u></td></tr>
<tr><th id="129">129</th><td><i>// Strict init-order checking is dlopen-hostile:</i></td></tr>
<tr><th id="130">130</th><td><i>// <a href="https://github.com/google/sanitizers/issues/178">https://github.com/google/sanitizers/issues/178</a></i></td></tr>
<tr><th id="131">131</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_ON_DLOPEN" data-ref="_M/COMMON_INTERCEPTOR_ON_DLOPEN">COMMON_INTERCEPTOR_ON_DLOPEN</dfn>(filename, flag)                           \</u></td></tr>
<tr><th id="132">132</th><td><u>  do {                                                                         \</u></td></tr>
<tr><th id="133">133</th><td><u>    if (flags()-&gt;strict_init_order)                                            \</u></td></tr>
<tr><th id="134">134</th><td><u>      StopInitOrderChecking();                                                 \</u></td></tr>
<tr><th id="135">135</th><td><u>    CheckNoDeepBind(filename, flag);                                           \</u></td></tr>
<tr><th id="136">136</th><td><u>  } while (false)</u></td></tr>
<tr><th id="137">137</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_ON_EXIT" data-ref="_M/COMMON_INTERCEPTOR_ON_EXIT">COMMON_INTERCEPTOR_ON_EXIT</dfn>(ctx) OnExit()</u></td></tr>
<tr><th id="138">138</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_LIBRARY_LOADED" data-ref="_M/COMMON_INTERCEPTOR_LIBRARY_LOADED">COMMON_INTERCEPTOR_LIBRARY_LOADED</dfn>(filename, handle)</u></td></tr>
<tr><th id="139">139</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_LIBRARY_UNLOADED" data-ref="_M/COMMON_INTERCEPTOR_LIBRARY_UNLOADED">COMMON_INTERCEPTOR_LIBRARY_UNLOADED</dfn>()</u></td></tr>
<tr><th id="140">140</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_NOTHING_IS_INITIALIZED" data-ref="_M/COMMON_INTERCEPTOR_NOTHING_IS_INITIALIZED">COMMON_INTERCEPTOR_NOTHING_IS_INITIALIZED</dfn> (!asan_inited)</u></td></tr>
<tr><th id="141">141</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_GET_TLS_RANGE" data-ref="_M/COMMON_INTERCEPTOR_GET_TLS_RANGE">COMMON_INTERCEPTOR_GET_TLS_RANGE</dfn>(begin, end)                           \</u></td></tr>
<tr><th id="142">142</th><td><u>  if (AsanThread *t = GetCurrentThread()) {                                    \</u></td></tr>
<tr><th id="143">143</th><td><u>    *begin = t-&gt;tls_begin();                                                   \</u></td></tr>
<tr><th id="144">144</th><td><u>    *end = t-&gt;tls_end();                                                       \</u></td></tr>
<tr><th id="145">145</th><td><u>  } else {                                                                     \</u></td></tr>
<tr><th id="146">146</th><td><u>    *begin = *end = 0;                                                         \</u></td></tr>
<tr><th id="147">147</th><td><u>  }</u></td></tr>
<tr><th id="148">148</th><td></td></tr>
<tr><th id="149">149</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_MEMMOVE_IMPL" data-ref="_M/COMMON_INTERCEPTOR_MEMMOVE_IMPL">COMMON_INTERCEPTOR_MEMMOVE_IMPL</dfn>(ctx, to, from, size) \</u></td></tr>
<tr><th id="150">150</th><td><u>  do {                                                       \</u></td></tr>
<tr><th id="151">151</th><td><u>    ASAN_INTERCEPTOR_ENTER(ctx, memmove);                    \</u></td></tr>
<tr><th id="152">152</th><td><u>    ASAN_MEMMOVE_IMPL(ctx, to, from, size);                  \</u></td></tr>
<tr><th id="153">153</th><td><u>  } while (false)</u></td></tr>
<tr><th id="154">154</th><td></td></tr>
<tr><th id="155">155</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_MEMCPY_IMPL" data-ref="_M/COMMON_INTERCEPTOR_MEMCPY_IMPL">COMMON_INTERCEPTOR_MEMCPY_IMPL</dfn>(ctx, to, from, size) \</u></td></tr>
<tr><th id="156">156</th><td><u>  do {                                                      \</u></td></tr>
<tr><th id="157">157</th><td><u>    ASAN_INTERCEPTOR_ENTER(ctx, memcpy);                    \</u></td></tr>
<tr><th id="158">158</th><td><u>    ASAN_MEMCPY_IMPL(ctx, to, from, size);                  \</u></td></tr>
<tr><th id="159">159</th><td><u>  } while (false)</u></td></tr>
<tr><th id="160">160</th><td></td></tr>
<tr><th id="161">161</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_MEMSET_IMPL" data-ref="_M/COMMON_INTERCEPTOR_MEMSET_IMPL">COMMON_INTERCEPTOR_MEMSET_IMPL</dfn>(ctx, block, c, size) \</u></td></tr>
<tr><th id="162">162</th><td><u>  do {                                                      \</u></td></tr>
<tr><th id="163">163</th><td><u>    ASAN_INTERCEPTOR_ENTER(ctx, memset);                    \</u></td></tr>
<tr><th id="164">164</th><td><u>    ASAN_MEMSET_IMPL(ctx, block, c, size);                  \</u></td></tr>
<tr><th id="165">165</th><td><u>  } while (false)</u></td></tr>
<tr><th id="166">166</th><td></td></tr>
<tr><th id="167">167</th><td><u>#<span data-ppcond="167">if</span> <a class="macro" href="../lsan/lsan_common.h.html#39" title="1" data-ref="_M/CAN_SANITIZE_LEAKS">CAN_SANITIZE_LEAKS</a></u></td></tr>
<tr><th id="168">168</th><td><u>#define <dfn class="macro" id="_M/COMMON_INTERCEPTOR_STRERROR" data-ref="_M/COMMON_INTERCEPTOR_STRERROR">COMMON_INTERCEPTOR_STRERROR</dfn>()                       \</u></td></tr>
<tr><th id="169">169</th><td><u>  __lsan::ScopedInterceptorDisabler disabler</u></td></tr>
<tr><th id="170">170</th><td><u>#<span data-ppcond="167">endif</span></u></td></tr>
<tr><th id="171">171</th><td></td></tr>
<tr><th id="172">172</th><td><u>#include <a href="../sanitizer_common/sanitizer_common_interceptors.inc.html">"sanitizer_common/sanitizer_common_interceptors.inc"</a></u></td></tr>
<tr><th id="173">173</th><td><u>#include <a href="../sanitizer_common/sanitizer_signal_interceptors.inc.html">"sanitizer_common/sanitizer_signal_interceptors.inc"</a></u></td></tr>
<tr><th id="174">174</th><td></td></tr>
<tr><th id="175">175</th><td><i>// Syscall interceptors don't have contexts, we don't support suppressions</i></td></tr>
<tr><th id="176">176</th><td><i>// for them.</i></td></tr>
<tr><th id="177">177</th><td><u>#define <dfn class="macro" id="_M/COMMON_SYSCALL_PRE_READ_RANGE" data-ref="_M/COMMON_SYSCALL_PRE_READ_RANGE">COMMON_SYSCALL_PRE_READ_RANGE</dfn>(p, s) ASAN_READ_RANGE(nullptr, p, s)</u></td></tr>
<tr><th id="178">178</th><td><u>#define <dfn class="macro" id="_M/COMMON_SYSCALL_PRE_WRITE_RANGE" data-ref="_M/COMMON_SYSCALL_PRE_WRITE_RANGE">COMMON_SYSCALL_PRE_WRITE_RANGE</dfn>(p, s) ASAN_WRITE_RANGE(nullptr, p, s)</u></td></tr>
<tr><th id="179">179</th><td><u>#define <dfn class="macro" id="_M/COMMON_SYSCALL_POST_READ_RANGE" data-ref="_M/COMMON_SYSCALL_POST_READ_RANGE">COMMON_SYSCALL_POST_READ_RANGE</dfn>(p, s) \</u></td></tr>
<tr><th id="180">180</th><td><u>  do {                                       \</u></td></tr>
<tr><th id="181">181</th><td><u>    (void)(p);                               \</u></td></tr>
<tr><th id="182">182</th><td><u>    (void)(s);                               \</u></td></tr>
<tr><th id="183">183</th><td><u>  } while (false)</u></td></tr>
<tr><th id="184">184</th><td><u>#define <dfn class="macro" id="_M/COMMON_SYSCALL_POST_WRITE_RANGE" data-ref="_M/COMMON_SYSCALL_POST_WRITE_RANGE">COMMON_SYSCALL_POST_WRITE_RANGE</dfn>(p, s) \</u></td></tr>
<tr><th id="185">185</th><td><u>  do {                                        \</u></td></tr>
<tr><th id="186">186</th><td><u>    (void)(p);                                \</u></td></tr>
<tr><th id="187">187</th><td><u>    (void)(s);                                \</u></td></tr>
<tr><th id="188">188</th><td><u>  } while (false)</u></td></tr>
<tr><th id="189">189</th><td><u>#include <a href="../sanitizer_common/sanitizer_common_syscalls.inc.html">"sanitizer_common/sanitizer_common_syscalls.inc"</a></u></td></tr>
<tr><th id="190">190</th><td><u>#include <a href="../sanitizer_common/sanitizer_syscalls_netbsd.inc.html">"sanitizer_common/sanitizer_syscalls_netbsd.inc"</a></u></td></tr>
<tr><th id="191">191</th><td></td></tr>
<tr><th id="192">192</th><td><u>#<span data-ppcond="192">if</span> <a class="macro" href="asan_interceptors.h.html#48" title="1" data-ref="_M/ASAN_INTERCEPT_PTHREAD_CREATE">ASAN_INTERCEPT_PTHREAD_CREATE</a></u></td></tr>
<tr><th id="193">193</th><td><em>static</em> <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::thread_return_t" title='__sanitizer::thread_return_t' data-type='void *' data-ref="__sanitizer::thread_return_t" data-ref-filename="__sanitizer..thread_return_t">thread_return_t</a> <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#269" title="" data-ref="_M/THREAD_CALLING_CONV">THREAD_CALLING_CONV</a> <dfn class="tu decl def fn" id="_ZL17asan_thread_startPv" title='asan_thread_start' data-type='__sanitizer::thread_return_t asan_thread_start(void * arg)' data-ref="_ZL17asan_thread_startPv" data-ref-filename="_ZL17asan_thread_startPv">asan_thread_start</dfn>(<em>void</em> *<dfn class="local col6 decl" id="6646arg" title='arg' data-type='void *' data-ref="6646arg" data-ref-filename="6646arg">arg</dfn>) {</td></tr>
<tr><th id="194">194</th><td>  <a class="type" href="asan_thread.h.html#__asan::AsanThread" title='__asan::AsanThread' data-ref="__asan::AsanThread" data-ref-filename="__asan..AsanThread">AsanThread</a> *<dfn class="local col7 decl" id="6647t" title='t' data-type='__asan::AsanThread *' data-ref="6647t" data-ref-filename="6647t">t</dfn> = (<a class="type" href="asan_thread.h.html#__asan::AsanThread" title='__asan::AsanThread' data-ref="__asan::AsanThread" data-ref-filename="__asan..AsanThread">AsanThread</a> *)<a class="local col6 ref" href="#6646arg" title='arg' data-ref="6646arg" data-ref-filename="6646arg">arg</a>;</td></tr>
<tr><th id="195">195</th><td>  <a class="ref fn" href="asan_thread.h.html#__asan::SetCurrentThread" title='__asan::SetCurrentThread' data-ref="__asan::SetCurrentThread" data-ref-filename="__asan..SetCurrentThread">SetCurrentThread</a>(<a class="local col7 ref" href="#6647t" title='t' data-ref="6647t" data-ref-filename="6647t">t</a>);</td></tr>
<tr><th id="196">196</th><td>  <b>return</b> <a class="local col7 ref" href="#6647t" title='t' data-ref="6647t" data-ref-filename="6647t">t</a>-&gt;<a class="ref fn" href="asan_thread.h.html#__asan::AsanThread::ThreadStart" title='__asan::AsanThread::ThreadStart' data-ref="__asan::AsanThread::ThreadStart" data-ref-filename="__asan..AsanThread..ThreadStart">ThreadStart</a>(<a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::GetTid" title='__sanitizer::GetTid' data-ref="__sanitizer::GetTid" data-ref-filename="__sanitizer..GetTid">GetTid</a>());</td></tr>
<tr><th id="197">197</th><td>}</td></tr>
<tr><th id="198">198</th><td></td></tr>
<tr><th id="199">199</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef int (*pthread_create_type)(void *thread, void *attr, void *(*start_routine)(void*), void *arg); namespace __interception { pthread_create_type real_pthread_create; } extern &quot;C&quot; int pthread_create(void *thread, void *attr, void *(*start_routine)(void*), void *arg) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;pthread_create&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) int __interceptor_pthread_create(void *thread, void *attr, void *(*start_routine)(void*), void *arg)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>int</em>, <dfn class="decl def fn" id="pthread_create" title='pthread_create' data-ref="pthread_create" data-ref-filename="pthread_create">pthread_create</dfn>, <em>void</em> *<dfn class="local col8 decl" id="6648thread" title='thread' data-type='void *' data-ref="6648thread" data-ref-filename="6648thread"><dfn class="local col2 decl" id="6652thread" title='thread' data-type='void *' data-ref="6652thread" data-ref-filename="6652thread"><dfn class="local col6 decl" id="6656thread" title='thread' data-type='void *' data-ref="6656thread" data-ref-filename="6656thread">thread</dfn></dfn></dfn>,</td></tr>
<tr><th id="200">200</th><td>    <em>void</em> *<dfn class="local col9 decl" id="6649attr" title='attr' data-type='void *' data-ref="6649attr" data-ref-filename="6649attr"><dfn class="local col3 decl" id="6653attr" title='attr' data-type='void *' data-ref="6653attr" data-ref-filename="6653attr"><dfn class="local col7 decl" id="6657attr" title='attr' data-type='void *' data-ref="6657attr" data-ref-filename="6657attr">attr</dfn></dfn></dfn>, <em>void</em> *(*<dfn class="local col0 decl" id="6650start_routine" title='start_routine' data-type='void *(*)(void *)' data-ref="6650start_routine" data-ref-filename="6650start_routine"><dfn class="local col4 decl" id="6654start_routine" title='start_routine' data-type='void *(*)(void *)' data-ref="6654start_routine" data-ref-filename="6654start_routine"><dfn class="local col8 decl" id="6658start_routine" title='start_routine' data-type='void *(*)(void *)' data-ref="6658start_routine" data-ref-filename="6658start_routine">start_routine</dfn></dfn></dfn>)(<em>void</em>*), <em>void</em> *<dfn class="local col1 decl" id="6651arg" title='arg' data-type='void *' data-ref="6651arg" data-ref-filename="6651arg"><dfn class="local col5 decl" id="6655arg" title='arg' data-type='void *' data-ref="6655arg" data-ref-filename="6655arg"><dfn class="local col9 decl" id="6659arg" title='arg' data-type='void *' data-ref="6659arg" data-ref-filename="6659arg">arg</dfn></dfn></dfn>) {</td></tr>
<tr><th id="201">201</th><td>  <a class="ref fn" href="asan_thread.h.html#__asan::EnsureMainThreadIDIsCorrect" title='__asan::EnsureMainThreadIDIsCorrect' data-ref="__asan::EnsureMainThreadIDIsCorrect" data-ref-filename="__asan..EnsureMainThreadIDIsCorrect">EnsureMainThreadIDIsCorrect</a>();</td></tr>
<tr><th id="202">202</th><td>  <i>// Strict init-order checking is thread-hostile.</i></td></tr>
<tr><th id="203">203</th><td>  <b>if</b> (<a class="ref fn" href="asan_flags.h.html#__asan::flags" title='__asan::flags' data-ref="__asan::flags" data-ref-filename="__asan..flags">flags</a>()-&gt;<a class="ref field" href="asan_flags.inc.html#126" title='__asan::Flags::strict_init_order' data-ref="__asan::Flags::strict_init_order" data-ref-filename="__asan..Flags..strict_init_order">strict_init_order</a>)</td></tr>
<tr><th id="204">204</th><td>    <a class="ref fn" href="asan_internal.h.html#__asan::StopInitOrderChecking" title='__asan::StopInitOrderChecking' data-ref="__asan::StopInitOrderChecking" data-ref-filename="__asan..StopInitOrderChecking">StopInitOrderChecking</a>();</td></tr>
<tr><th id="205">205</th><td>  <a class="macro" href="asan_stack.h.html#60" title="BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, true, kStackTraceMax); }" data-ref="_M/GET_STACK_TRACE_THREAD">GET_STACK_TRACE_THREAD</a>;</td></tr>
<tr><th id="206">206</th><td>  <em>int</em> <dfn class="local col0 decl" id="6660detached" title='detached' data-type='int' data-ref="6660detached" data-ref-filename="6660detached">detached</dfn> = <var>0</var>;</td></tr>
<tr><th id="207">207</th><td>  <b>if</b> (<a class="local col7 ref" href="#199" title='attr' data-ref="6657attr" data-ref-filename="6657attr">attr</a>)</td></tr>
<tr><th id="208">208</th><td>    <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_pthread_attr_getdetachstate" data-ref="_M/REAL">REAL</a>(pthread_attr_getdetachstate)(<a class="local col7 ref" href="#199" title='attr' data-ref="6657attr" data-ref-filename="6657attr">attr</a>, &amp;<a class="local col0 ref" href="#6660detached" title='detached' data-ref="6660detached" data-ref-filename="6660detached">detached</a>);</td></tr>
<tr><th id="209">209</th><td></td></tr>
<tr><th id="210">210</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::u32" title='__sanitizer::u32' data-type='unsigned int' data-ref="__sanitizer::u32" data-ref-filename="__sanitizer..u32">u32</a> <dfn class="local col1 decl" id="6661current_tid" title='current_tid' data-type='__sanitizer::u32' data-ref="6661current_tid" data-ref-filename="6661current_tid">current_tid</dfn> = <a class="ref fn" href="asan_thread.h.html#__asan::GetCurrentTidOrInvalid" title='__asan::GetCurrentTidOrInvalid' data-ref="__asan::GetCurrentTidOrInvalid" data-ref-filename="__asan..GetCurrentTidOrInvalid">GetCurrentTidOrInvalid</a>();</td></tr>
<tr><th id="211">211</th><td>  <a class="type" href="asan_thread.h.html#__asan::AsanThread" title='__asan::AsanThread' data-ref="__asan::AsanThread" data-ref-filename="__asan..AsanThread">AsanThread</a> *<dfn class="local col2 decl" id="6662t" title='t' data-type='__asan::AsanThread *' data-ref="6662t" data-ref-filename="6662t">t</dfn> =</td></tr>
<tr><th id="212">212</th><td>      <a class="type" href="asan_thread.h.html#__asan::AsanThread" title='__asan::AsanThread' data-ref="__asan::AsanThread" data-ref-filename="__asan..AsanThread">AsanThread</a>::<a class="ref fn" href="asan_thread.h.html#__asan::AsanThread::Create" title='__asan::AsanThread::Create' data-ref="__asan::AsanThread::Create" data-ref-filename="__asan..AsanThread..Create">Create</a>(<a class="local col8 ref" href="#199" title='start_routine' data-ref="6658start_routine" data-ref-filename="6658start_routine">start_routine</a>, <a class="local col9 ref" href="#199" title='arg' data-ref="6659arg" data-ref-filename="6659arg">arg</a>, <a class="local col1 ref" href="#6661current_tid" title='current_tid' data-ref="6661current_tid" data-ref-filename="6661current_tid">current_tid</a>, &amp;<a class="local col3 ref" href="#205" title='stack' data-ref="6663stack" data-ref-filename="6663stack">stack</a>, <a class="local col0 ref" href="#6660detached" title='detached' data-ref="6660detached" data-ref-filename="6660detached">detached</a>);</td></tr>
<tr><th id="213">213</th><td></td></tr>
<tr><th id="214">214</th><td>  <em>int</em> <dfn class="local col4 decl" id="6664result" title='result' data-type='int' data-ref="6664result" data-ref-filename="6664result">result</dfn>;</td></tr>
<tr><th id="215">215</th><td>  {</td></tr>
<tr><th id="216">216</th><td>    <i>// Ignore all allocations made by pthread_create: thread stack/TLS may be</i></td></tr>
<tr><th id="217">217</th><td><i>    // stored by pthread for future reuse even after thread destruction, and</i></td></tr>
<tr><th id="218">218</th><td><i>    // the linked list it's stored in doesn't even hold valid pointers to the</i></td></tr>
<tr><th id="219">219</th><td><i>    // objects, the latter are calculated by obscure pointer arithmetic.</i></td></tr>
<tr><th id="220">220</th><td><u>#<span data-ppcond="220">if</span> <a class="macro" href="../lsan/lsan_common.h.html#39" title="1" data-ref="_M/CAN_SANITIZE_LEAKS">CAN_SANITIZE_LEAKS</a></u></td></tr>
<tr><th id="221">221</th><td>    <span class="namespace">__lsan::</span><a class="type" href="../lsan/lsan_common.h.html#__lsan::ScopedInterceptorDisabler" title='__lsan::ScopedInterceptorDisabler' data-ref="__lsan::ScopedInterceptorDisabler" data-ref-filename="__lsan..ScopedInterceptorDisabler">ScopedInterceptorDisabler</a> <a class="ref fn fake" href="../lsan/lsan_common.h.html#__lsan::ScopedInterceptorDisabler::ScopedInterceptorDisabler" title='__lsan::ScopedInterceptorDisabler::ScopedInterceptorDisabler' data-ref="__lsan::ScopedInterceptorDisabler::ScopedInterceptorDisabler" data-ref-filename="__lsan..ScopedInterceptorDisabler..ScopedInterceptorDisabler"></a><dfn class="local col5 decl" id="6665disabler" title='disabler' data-type='__lsan::ScopedInterceptorDisabler' data-ref="6665disabler" data-ref-filename="6665disabler">disabler</dfn>;</td></tr>
<tr><th id="222">222</th><td><u>#<span data-ppcond="220">endif</span></u></td></tr>
<tr><th id="223">223</th><td>    <a class="local col4 ref" href="#6664result" title='result' data-ref="6664result" data-ref-filename="6664result">result</a> = <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_pthread_create" data-ref="_M/REAL">REAL</a>(pthread_create)(<a class="local col6 ref" href="#199" title='thread' data-ref="6656thread" data-ref-filename="6656thread">thread</a>, <a class="local col7 ref" href="#199" title='attr' data-ref="6657attr" data-ref-filename="6657attr">attr</a>, <a class="tu ref fn" href="#_ZL17asan_thread_startPv" title='asan_thread_start' data-ref="_ZL17asan_thread_startPv" data-ref-filename="_ZL17asan_thread_startPv">asan_thread_start</a>, <a class="local col2 ref" href="#6662t" title='t' data-ref="6662t" data-ref-filename="6662t">t</a>);</td></tr>
<tr><th id="224">224</th><td>  }</td></tr>
<tr><th id="225">225</th><td>  <b>if</b> (<a class="local col4 ref" href="#6664result" title='result' data-ref="6664result" data-ref-filename="6664result">result</a> != <var>0</var>) {</td></tr>
<tr><th id="226">226</th><td>    <i>// If the thread didn't start delete the AsanThread to avoid leaking it.</i></td></tr>
<tr><th id="227">227</th><td><i>    // Note AsanThreadContexts never get destroyed so the AsanThreadContext</i></td></tr>
<tr><th id="228">228</th><td><i>    // that was just created for the AsanThread is wasted.</i></td></tr>
<tr><th id="229">229</th><td>    <a class="local col2 ref" href="#6662t" title='t' data-ref="6662t" data-ref-filename="6662t">t</a>-&gt;<a class="ref fn" href="asan_thread.h.html#__asan::AsanThread::Destroy" title='__asan::AsanThread::Destroy' data-ref="__asan::AsanThread::Destroy" data-ref-filename="__asan..AsanThread..Destroy">Destroy</a>();</td></tr>
<tr><th id="230">230</th><td>  }</td></tr>
<tr><th id="231">231</th><td>  <b>return</b> <a class="local col4 ref" href="#6664result" title='result' data-ref="6664result" data-ref-filename="6664result">result</a>;</td></tr>
<tr><th id="232">232</th><td>}</td></tr>
<tr><th id="233">233</th><td></td></tr>
<tr><th id="234">234</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef int (*pthread_join_type)(void *t, void **arg); namespace __interception { pthread_join_type real_pthread_join; } extern &quot;C&quot; int pthread_join(void *t, void **arg) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;pthread_join&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) int __interceptor_pthread_join(void *t, void **arg)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>int</em>, <dfn class="decl def fn" id="pthread_join" title='pthread_join' data-ref="pthread_join" data-ref-filename="pthread_join">pthread_join</dfn>, <em>void</em> *<dfn class="local col6 decl" id="6666t" title='t' data-type='void *' data-ref="6666t" data-ref-filename="6666t"><dfn class="local col8 decl" id="6668t" title='t' data-type='void *' data-ref="6668t" data-ref-filename="6668t"><dfn class="local col0 decl" id="6670t" title='t' data-type='void *' data-ref="6670t" data-ref-filename="6670t">t</dfn></dfn></dfn>, <em>void</em> **<dfn class="local col7 decl" id="6667arg" title='arg' data-type='void **' data-ref="6667arg" data-ref-filename="6667arg"><dfn class="local col9 decl" id="6669arg" title='arg' data-type='void **' data-ref="6669arg" data-ref-filename="6669arg"><dfn class="local col1 decl" id="6671arg" title='arg' data-type='void **' data-ref="6671arg" data-ref-filename="6671arg">arg</dfn></dfn></dfn>) {</td></tr>
<tr><th id="235">235</th><td>  <b>return</b> <a class="ref fn" href="#238" title='__sanitizer::real_pthread_join' data-ref="__sanitizer::real_pthread_join" data-ref-filename="__sanitizer..real_pthread_join">real_pthread_join</a>(<a class="local col0 ref" href="#234" title='t' data-ref="6670t" data-ref-filename="6670t">t</a>, <a class="local col1 ref" href="#234" title='arg' data-ref="6671arg" data-ref-filename="6671arg">arg</a>);</td></tr>
<tr><th id="236">236</th><td>}</td></tr>
<tr><th id="237">237</th><td></td></tr>
<tr><th id="238">238</th><td><a class="macro" href="../sanitizer_common/sanitizer_posix.h.html#81" title="namespace __sanitizer { int real_pthread_create(void *th, void *attr, void *(*callback)(void *), void *param) { return __interception::real_pthread_create(th, attr, callback, param); } int real_pthread_join(void *th, void **ret) { return __interception::real_pthread_join(th, ret); } }" data-ref="_M/DEFINE_REAL_PTHREAD_FUNCTIONS">DEFINE_REAL_PTHREAD_FUNCTIONS</a></td></tr>
<tr><th id="239">239</th><td><u>#<span data-ppcond="192">endif</span>  // ASAN_INTERCEPT_PTHREAD_CREATE</u></td></tr>
<tr><th id="240">240</th><td></td></tr>
<tr><th id="241">241</th><td><u>#<span data-ppcond="241">if</span> <a class="macro" href="asan_interceptors.h.html#64" title="1" data-ref="_M/ASAN_INTERCEPT_SWAPCONTEXT">ASAN_INTERCEPT_SWAPCONTEXT</a></u></td></tr>
<tr><th id="242">242</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="_ZL32ClearShadowMemoryForContextStackmm" title='ClearShadowMemoryForContextStack' data-type='void ClearShadowMemoryForContextStack(__sanitizer::uptr stack, __sanitizer::uptr ssize)' data-ref="_ZL32ClearShadowMemoryForContextStackmm" data-ref-filename="_ZL32ClearShadowMemoryForContextStackmm">ClearShadowMemoryForContextStack</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col2 decl" id="6672stack" title='stack' data-type='__sanitizer::uptr' data-ref="6672stack" data-ref-filename="6672stack">stack</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col3 decl" id="6673ssize" title='ssize' data-type='__sanitizer::uptr' data-ref="6673ssize" data-ref-filename="6673ssize">ssize</dfn>) {</td></tr>
<tr><th id="243">243</th><td>  <i>// Align to page size.</i></td></tr>
<tr><th id="244">244</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col4 decl" id="6674PageSize" title='PageSize' data-type='__sanitizer::uptr' data-ref="6674PageSize" data-ref-filename="6674PageSize">PageSize</dfn> = <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::GetPageSizeCached" title='__sanitizer::GetPageSizeCached' data-ref="__sanitizer::GetPageSizeCached" data-ref-filename="__sanitizer..GetPageSizeCached">GetPageSizeCached</a>();</td></tr>
<tr><th id="245">245</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col5 decl" id="6675bottom" title='bottom' data-type='__sanitizer::uptr' data-ref="6675bottom" data-ref-filename="6675bottom">bottom</dfn> = <a class="local col2 ref" href="#6672stack" title='stack' data-ref="6672stack" data-ref-filename="6672stack">stack</a> &amp; ~(<a class="local col4 ref" href="#6674PageSize" title='PageSize' data-ref="6674PageSize" data-ref-filename="6674PageSize">PageSize</a> - <var>1</var>);</td></tr>
<tr><th id="246">246</th><td>  <a class="local col3 ref" href="#6673ssize" title='ssize' data-ref="6673ssize" data-ref-filename="6673ssize">ssize</a> += <a class="local col2 ref" href="#6672stack" title='stack' data-ref="6672stack" data-ref-filename="6672stack">stack</a> - <a class="local col5 ref" href="#6675bottom" title='bottom' data-ref="6675bottom" data-ref-filename="6675bottom">bottom</a>;</td></tr>
<tr><th id="247">247</th><td>  <a class="local col3 ref" href="#6673ssize" title='ssize' data-ref="6673ssize" data-ref-filename="6673ssize">ssize</a> = <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::RoundUpTo" title='__sanitizer::RoundUpTo' data-ref="__sanitizer::RoundUpTo" data-ref-filename="__sanitizer..RoundUpTo">RoundUpTo</a>(<a class="local col3 ref" href="#6673ssize" title='ssize' data-ref="6673ssize" data-ref-filename="6673ssize">ssize</a>, <a class="local col4 ref" href="#6674PageSize" title='PageSize' data-ref="6674PageSize" data-ref-filename="6674PageSize">PageSize</a>);</td></tr>
<tr><th id="248">248</th><td>  <em>static</em> <em>const</em> <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col6 decl" id="6676kMaxSaneContextStackSize" title='kMaxSaneContextStackSize' data-type='const __sanitizer::uptr' data-ref="6676kMaxSaneContextStackSize" data-ref-filename="6676kMaxSaneContextStackSize">kMaxSaneContextStackSize</dfn> = <var>1</var> &lt;&lt; <var>22</var>;  <i>// 4 Mb</i></td></tr>
<tr><th id="249">249</th><td>  <b>if</b> (<a class="ref fn" href="asan_mapping.h.html#__asan::AddrIsInMem" title='__asan::AddrIsInMem' data-ref="__asan::AddrIsInMem" data-ref-filename="__asan..AddrIsInMem">AddrIsInMem</a>(<a class="local col5 ref" href="#6675bottom" title='bottom' data-ref="6675bottom" data-ref-filename="6675bottom">bottom</a>) &amp;&amp; <a class="local col3 ref" href="#6673ssize" title='ssize' data-ref="6673ssize" data-ref-filename="6673ssize">ssize</a> &amp;&amp; <a class="local col3 ref" href="#6673ssize" title='ssize' data-ref="6673ssize" data-ref-filename="6673ssize">ssize</a> &lt;= <a class="local col6 ref" href="#6676kMaxSaneContextStackSize" title='kMaxSaneContextStackSize' data-ref="6676kMaxSaneContextStackSize" data-ref-filename="6676kMaxSaneContextStackSize">kMaxSaneContextStackSize</a>) {</td></tr>
<tr><th id="250">250</th><td>    <a class="ref fn" href="asan_poisoning.h.html#__asan::PoisonShadow" title='__asan::PoisonShadow' data-ref="__asan::PoisonShadow" data-ref-filename="__asan..PoisonShadow">PoisonShadow</a>(<a class="local col5 ref" href="#6675bottom" title='bottom' data-ref="6675bottom" data-ref-filename="6675bottom">bottom</a>, <a class="local col3 ref" href="#6673ssize" title='ssize' data-ref="6673ssize" data-ref-filename="6673ssize">ssize</a>, <var>0</var>);</td></tr>
<tr><th id="251">251</th><td>  }</td></tr>
<tr><th id="252">252</th><td>}</td></tr>
<tr><th id="253">253</th><td></td></tr>
<tr><th id="254">254</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef int (*swapcontext_type)(struct ucontext_t *oucp, struct ucontext_t *ucp); namespace __interception { swapcontext_type real_swapcontext; } extern &quot;C&quot; int swapcontext(struct ucontext_t *oucp, struct ucontext_t *ucp) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;swapcontext&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) int __interceptor_swapcontext(struct ucontext_t *oucp, struct ucontext_t *ucp)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>int</em>, <dfn class="decl def fn" id="swapcontext" title='swapcontext' data-ref="swapcontext" data-ref-filename="swapcontext">swapcontext</dfn>, <b>struct</b> <dfn class="type" id="ucontext_t" title='ucontext_t' data-ref="ucontext_t" data-ref-filename="ucontext_t"><a class="type" href="#254" title='ucontext_t' data-ref="ucontext_t" data-ref-filename="ucontext_t"><a class="type" href="#254" title='ucontext_t' data-ref="ucontext_t" data-ref-filename="ucontext_t"><a class="type" href="#254" title='ucontext_t' data-ref="ucontext_t" data-ref-filename="ucontext_t">ucontext_t</a></a></a></dfn> *<dfn class="local col7 decl" id="6677oucp" title='oucp' data-type='struct ucontext_t *' data-ref="6677oucp" data-ref-filename="6677oucp"><dfn class="local col9 decl" id="6679oucp" title='oucp' data-type='struct ucontext_t *' data-ref="6679oucp" data-ref-filename="6679oucp"><dfn class="local col1 decl" id="6681oucp" title='oucp' data-type='struct ucontext_t *' data-ref="6681oucp" data-ref-filename="6681oucp">oucp</dfn></dfn></dfn>,</td></tr>
<tr><th id="255">255</th><td>            <b>struct</b> <a class="type" href="#254" title='ucontext_t' data-ref="ucontext_t" data-ref-filename="ucontext_t">ucontext_t</a> *<dfn class="local col8 decl" id="6678ucp" title='ucp' data-type='struct ucontext_t *' data-ref="6678ucp" data-ref-filename="6678ucp"><dfn class="local col0 decl" id="6680ucp" title='ucp' data-type='struct ucontext_t *' data-ref="6680ucp" data-ref-filename="6680ucp"><dfn class="local col2 decl" id="6682ucp" title='ucp' data-type='struct ucontext_t *' data-ref="6682ucp" data-ref-filename="6682ucp">ucp</dfn></dfn></dfn>) {</td></tr>
<tr><th id="256">256</th><td>  <em>static</em> <em>bool</em> <dfn class="local col3 decl" id="6683reported_warning" title='reported_warning' data-type='bool' data-ref="6683reported_warning" data-ref-filename="6683reported_warning">reported_warning</dfn> = <b>false</b>;</td></tr>
<tr><th id="257">257</th><td>  <b>if</b> (!<a class="local col3 ref" href="#6683reported_warning" title='reported_warning' data-ref="6683reported_warning" data-ref-filename="6683reported_warning">reported_warning</a>) {</td></tr>
<tr><th id="258">258</th><td>    <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::Report" title='__sanitizer::Report' data-ref="__sanitizer::Report" data-ref-filename="__sanitizer..Report">Report</a>(<q>"WARNING: ASan doesn't fully support makecontext/swapcontext "</q></td></tr>
<tr><th id="259">259</th><td>           <q>"functions and may produce false positives in some cases!\n"</q>);</td></tr>
<tr><th id="260">260</th><td>    <a class="local col3 ref" href="#6683reported_warning" title='reported_warning' data-ref="6683reported_warning" data-ref-filename="6683reported_warning">reported_warning</a> = <b>true</b>;</td></tr>
<tr><th id="261">261</th><td>  }</td></tr>
<tr><th id="262">262</th><td>  <i>// Clear shadow memory for new context (it may share stack</i></td></tr>
<tr><th id="263">263</th><td><i>  // with current context).</i></td></tr>
<tr><th id="264">264</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col4 decl" id="6684stack" title='stack' data-type='__sanitizer::uptr' data-ref="6684stack" data-ref-filename="6684stack">stack</dfn>, <dfn class="local col5 decl" id="6685ssize" title='ssize' data-type='__sanitizer::uptr' data-ref="6685ssize" data-ref-filename="6685ssize">ssize</dfn>;</td></tr>
<tr><th id="265">265</th><td>  <a class="ref fn" href="asan_internal.h.html#__asan::ReadContextStack" title='__asan::ReadContextStack' data-ref="__asan::ReadContextStack" data-ref-filename="__asan..ReadContextStack">ReadContextStack</a>(<a class="local col2 ref" href="#254" title='ucp' data-ref="6682ucp" data-ref-filename="6682ucp">ucp</a>, &amp;<a class="local col4 ref" href="#6684stack" title='stack' data-ref="6684stack" data-ref-filename="6684stack">stack</a>, &amp;<a class="local col5 ref" href="#6685ssize" title='ssize' data-ref="6685ssize" data-ref-filename="6685ssize">ssize</a>);</td></tr>
<tr><th id="266">266</th><td>  <a class="tu ref fn" href="#_ZL32ClearShadowMemoryForContextStackmm" title='ClearShadowMemoryForContextStack' data-use='c' data-ref="_ZL32ClearShadowMemoryForContextStackmm" data-ref-filename="_ZL32ClearShadowMemoryForContextStackmm">ClearShadowMemoryForContextStack</a>(<a class="local col4 ref" href="#6684stack" title='stack' data-ref="6684stack" data-ref-filename="6684stack">stack</a>, <a class="local col5 ref" href="#6685ssize" title='ssize' data-ref="6685ssize" data-ref-filename="6685ssize">ssize</a>);</td></tr>
<tr><th id="267">267</th><td><u>#<span data-ppcond="267">if</span> <span class="macro" title="" data-ref="_M/__has_attribute">__has_attribute</span>(__indirect_return__) &amp;&amp; \</u></td></tr>
<tr><th id="268">268</th><td><u>    (defined(<span class="macro" data-ref="_M/__x86_64__">__x86_64__</span>) || defined(<span class="macro" data-ref="_M/__i386__">__i386__</span>))</u></td></tr>
<tr><th id="269">269</th><td>  <em>int</em> (*real_swapcontext)(<b>struct</b> ucontext_t *, <b>struct</b> ucontext_t *)</td></tr>
<tr><th id="270">270</th><td>    <b>__attribute__</b>((__indirect_return__))</td></tr>
<tr><th id="271">271</th><td>    = REAL(swapcontext);</td></tr>
<tr><th id="272">272</th><td>  <em>int</em> res = real_swapcontext(oucp, ucp);</td></tr>
<tr><th id="273">273</th><td><u>#<span data-ppcond="267">else</span></u></td></tr>
<tr><th id="274">274</th><td>  <em>int</em> <dfn class="local col6 decl" id="6686res" title='res' data-type='int' data-ref="6686res" data-ref-filename="6686res">res</dfn> = <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_swapcontext" data-ref="_M/REAL">REAL</a>(swapcontext)(<a class="local col1 ref" href="#254" title='oucp' data-ref="6681oucp" data-ref-filename="6681oucp">oucp</a>, <a class="local col2 ref" href="#254" title='ucp' data-ref="6682ucp" data-ref-filename="6682ucp">ucp</a>);</td></tr>
<tr><th id="275">275</th><td><u>#<span data-ppcond="267">endif</span></u></td></tr>
<tr><th id="276">276</th><td>  <i>// swapcontext technically does not return, but program may swap context to</i></td></tr>
<tr><th id="277">277</th><td><i>  // "oucp" later, that would look as if swapcontext() returned 0.</i></td></tr>
<tr><th id="278">278</th><td><i>  // We need to clear shadow for ucp once again, as it may be in arbitrary</i></td></tr>
<tr><th id="279">279</th><td><i>  // state.</i></td></tr>
<tr><th id="280">280</th><td>  <a class="tu ref fn" href="#_ZL32ClearShadowMemoryForContextStackmm" title='ClearShadowMemoryForContextStack' data-use='c' data-ref="_ZL32ClearShadowMemoryForContextStackmm" data-ref-filename="_ZL32ClearShadowMemoryForContextStackmm">ClearShadowMemoryForContextStack</a>(<a class="local col4 ref" href="#6684stack" title='stack' data-ref="6684stack" data-ref-filename="6684stack">stack</a>, <a class="local col5 ref" href="#6685ssize" title='ssize' data-ref="6685ssize" data-ref-filename="6685ssize">ssize</a>);</td></tr>
<tr><th id="281">281</th><td>  <b>return</b> <a class="local col6 ref" href="#6686res" title='res' data-ref="6686res" data-ref-filename="6686res">res</a>;</td></tr>
<tr><th id="282">282</th><td>}</td></tr>
<tr><th id="283">283</th><td><u>#<span data-ppcond="241">endif</span>  // ASAN_INTERCEPT_SWAPCONTEXT</u></td></tr>
<tr><th id="284">284</th><td></td></tr>
<tr><th id="285">285</th><td><u>#<span data-ppcond="285">if</span> <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#50" title="0" data-ref="_M/SANITIZER_NETBSD">SANITIZER_NETBSD</a></u></td></tr>
<tr><th id="286">286</th><td><u>#define longjmp __longjmp14</u></td></tr>
<tr><th id="287">287</th><td><u>#define siglongjmp __siglongjmp14</u></td></tr>
<tr><th id="288">288</th><td><u>#<span data-ppcond="285">endif</span></u></td></tr>
<tr><th id="289">289</th><td></td></tr>
<tr><th id="290">290</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef void (*longjmp_type)(void *env, int val); namespace __interception { longjmp_type real_longjmp; } extern &quot;C&quot; void longjmp(void *env, int val) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;longjmp&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __interceptor_longjmp(void *env, int val)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>void</em>, <dfn class="decl def fn" id="longjmp" title='longjmp' data-ref="longjmp" data-ref-filename="longjmp">longjmp</dfn>, <em>void</em> *<dfn class="local col7 decl" id="6687env" title='env' data-type='void *' data-ref="6687env" data-ref-filename="6687env"><dfn class="local col9 decl" id="6689env" title='env' data-type='void *' data-ref="6689env" data-ref-filename="6689env"><dfn class="local col1 decl" id="6691env" title='env' data-type='void *' data-ref="6691env" data-ref-filename="6691env">env</dfn></dfn></dfn>, <em>int</em> <dfn class="local col8 decl" id="6688val" title='val' data-type='int' data-ref="6688val" data-ref-filename="6688val"><dfn class="local col0 decl" id="6690val" title='val' data-type='int' data-ref="6690val" data-ref-filename="6690val"><dfn class="local col2 decl" id="6692val" title='val' data-type='int' data-ref="6692val" data-ref-filename="6692val">val</dfn></dfn></dfn>) {</td></tr>
<tr><th id="291">291</th><td>  <a class="ref fn" href="asan_interface_internal.h.html#__asan_handle_no_return" title='__asan_handle_no_return' data-ref="__asan_handle_no_return" data-ref-filename="__asan_handle_no_return">__asan_handle_no_return</a>();</td></tr>
<tr><th id="292">292</th><td>  <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_longjmp" data-ref="_M/REAL">REAL</a>(longjmp)(<a class="local col1 ref" href="#290" title='env' data-ref="6691env" data-ref-filename="6691env">env</a>, <a class="local col2 ref" href="#290" title='val' data-ref="6692val" data-ref-filename="6692val">val</a>);</td></tr>
<tr><th id="293">293</th><td>}</td></tr>
<tr><th id="294">294</th><td></td></tr>
<tr><th id="295">295</th><td><u>#<span data-ppcond="295">if</span> <a class="macro" href="asan_interceptors.h.html#46" title="1" data-ref="_M/ASAN_INTERCEPT__LONGJMP">ASAN_INTERCEPT__LONGJMP</a></u></td></tr>
<tr><th id="296">296</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef void (*_longjmp_type)(void *env, int val); namespace __interception { _longjmp_type real__longjmp; } extern &quot;C&quot; void _longjmp(void *env, int val) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;_longjmp&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __interceptor__longjmp(void *env, int val)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>void</em>, <dfn class="decl def fn" id="_longjmp" title='_longjmp' data-ref="_longjmp" data-ref-filename="_longjmp">_longjmp</dfn>, <em>void</em> *<dfn class="local col3 decl" id="6693env" title='env' data-type='void *' data-ref="6693env" data-ref-filename="6693env"><dfn class="local col5 decl" id="6695env" title='env' data-type='void *' data-ref="6695env" data-ref-filename="6695env"><dfn class="local col7 decl" id="6697env" title='env' data-type='void *' data-ref="6697env" data-ref-filename="6697env">env</dfn></dfn></dfn>, <em>int</em> <dfn class="local col4 decl" id="6694val" title='val' data-type='int' data-ref="6694val" data-ref-filename="6694val"><dfn class="local col6 decl" id="6696val" title='val' data-type='int' data-ref="6696val" data-ref-filename="6696val"><dfn class="local col8 decl" id="6698val" title='val' data-type='int' data-ref="6698val" data-ref-filename="6698val">val</dfn></dfn></dfn>) {</td></tr>
<tr><th id="297">297</th><td>  <a class="ref fn" href="asan_interface_internal.h.html#__asan_handle_no_return" title='__asan_handle_no_return' data-ref="__asan_handle_no_return" data-ref-filename="__asan_handle_no_return">__asan_handle_no_return</a>();</td></tr>
<tr><th id="298">298</th><td>  <a class="macro" href="../interception/interception.h.html#171" title="__interception::real__longjmp" data-ref="_M/REAL">REAL</a>(_longjmp)(<a class="local col7 ref" href="#296" title='env' data-ref="6697env" data-ref-filename="6697env">env</a>, <a class="local col8 ref" href="#296" title='val' data-ref="6698val" data-ref-filename="6698val">val</a>);</td></tr>
<tr><th id="299">299</th><td>}</td></tr>
<tr><th id="300">300</th><td><u>#<span data-ppcond="295">endif</span></u></td></tr>
<tr><th id="301">301</th><td></td></tr>
<tr><th id="302">302</th><td><u>#<span data-ppcond="302">if</span> <a class="macro" href="asan_interceptors.h.html#76" title="1" data-ref="_M/ASAN_INTERCEPT___LONGJMP_CHK">ASAN_INTERCEPT___LONGJMP_CHK</a></u></td></tr>
<tr><th id="303">303</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef void (*__longjmp_chk_type)(void *env, int val); namespace __interception { __longjmp_chk_type real___longjmp_chk; } extern &quot;C&quot; void __longjmp_chk(void *env, int val) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;__longjmp_chk&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __interceptor___longjmp_chk(void *env, int val)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>void</em>, <dfn class="decl def fn" id="__longjmp_chk" title='__longjmp_chk' data-ref="__longjmp_chk" data-ref-filename="__longjmp_chk">__longjmp_chk</dfn>, <em>void</em> *<dfn class="local col9 decl" id="6699env" title='env' data-type='void *' data-ref="6699env" data-ref-filename="6699env"><dfn class="local col1 decl" id="6701env" title='env' data-type='void *' data-ref="6701env" data-ref-filename="6701env"><dfn class="local col3 decl" id="6703env" title='env' data-type='void *' data-ref="6703env" data-ref-filename="6703env">env</dfn></dfn></dfn>, <em>int</em> <dfn class="local col0 decl" id="6700val" title='val' data-type='int' data-ref="6700val" data-ref-filename="6700val"><dfn class="local col2 decl" id="6702val" title='val' data-type='int' data-ref="6702val" data-ref-filename="6702val"><dfn class="local col4 decl" id="6704val" title='val' data-type='int' data-ref="6704val" data-ref-filename="6704val">val</dfn></dfn></dfn>) {</td></tr>
<tr><th id="304">304</th><td>  <a class="ref fn" href="asan_interface_internal.h.html#__asan_handle_no_return" title='__asan_handle_no_return' data-ref="__asan_handle_no_return" data-ref-filename="__asan_handle_no_return">__asan_handle_no_return</a>();</td></tr>
<tr><th id="305">305</th><td>  <a class="macro" href="../interception/interception.h.html#171" title="__interception::real___longjmp_chk" data-ref="_M/REAL">REAL</a>(__longjmp_chk)(<a class="local col3 ref" href="#303" title='env' data-ref="6703env" data-ref-filename="6703env">env</a>, <a class="local col4 ref" href="#303" title='val' data-ref="6704val" data-ref-filename="6704val">val</a>);</td></tr>
<tr><th id="306">306</th><td>}</td></tr>
<tr><th id="307">307</th><td><u>#<span data-ppcond="302">endif</span></u></td></tr>
<tr><th id="308">308</th><td></td></tr>
<tr><th id="309">309</th><td><u>#<span data-ppcond="309">if</span> <a class="macro" href="asan_interceptors.h.html#70" title="1" data-ref="_M/ASAN_INTERCEPT_SIGLONGJMP">ASAN_INTERCEPT_SIGLONGJMP</a></u></td></tr>
<tr><th id="310">310</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef void (*siglongjmp_type)(void *env, int val); namespace __interception { siglongjmp_type real_siglongjmp; } extern &quot;C&quot; void siglongjmp(void *env, int val) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;siglongjmp&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __interceptor_siglongjmp(void *env, int val)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>void</em>, <dfn class="decl def fn" id="siglongjmp" title='siglongjmp' data-ref="siglongjmp" data-ref-filename="siglongjmp">siglongjmp</dfn>, <em>void</em> *<dfn class="local col5 decl" id="6705env" title='env' data-type='void *' data-ref="6705env" data-ref-filename="6705env"><dfn class="local col7 decl" id="6707env" title='env' data-type='void *' data-ref="6707env" data-ref-filename="6707env"><dfn class="local col9 decl" id="6709env" title='env' data-type='void *' data-ref="6709env" data-ref-filename="6709env">env</dfn></dfn></dfn>, <em>int</em> <dfn class="local col6 decl" id="6706val" title='val' data-type='int' data-ref="6706val" data-ref-filename="6706val"><dfn class="local col8 decl" id="6708val" title='val' data-type='int' data-ref="6708val" data-ref-filename="6708val"><dfn class="local col0 decl" id="6710val" title='val' data-type='int' data-ref="6710val" data-ref-filename="6710val">val</dfn></dfn></dfn>) {</td></tr>
<tr><th id="311">311</th><td>  <a class="ref fn" href="asan_interface_internal.h.html#__asan_handle_no_return" title='__asan_handle_no_return' data-ref="__asan_handle_no_return" data-ref-filename="__asan_handle_no_return">__asan_handle_no_return</a>();</td></tr>
<tr><th id="312">312</th><td>  <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_siglongjmp" data-ref="_M/REAL">REAL</a>(siglongjmp)(<a class="local col9 ref" href="#310" title='env' data-ref="6709env" data-ref-filename="6709env">env</a>, <a class="local col0 ref" href="#310" title='val' data-ref="6710val" data-ref-filename="6710val">val</a>);</td></tr>
<tr><th id="313">313</th><td>}</td></tr>
<tr><th id="314">314</th><td><u>#<span data-ppcond="309">endif</span></u></td></tr>
<tr><th id="315">315</th><td></td></tr>
<tr><th id="316">316</th><td><u>#<span data-ppcond="316">if</span> <a class="macro" href="asan_interceptors.h.html#83" title="1" data-ref="_M/ASAN_INTERCEPT___CXA_THROW">ASAN_INTERCEPT___CXA_THROW</a></u></td></tr>
<tr><th id="317">317</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef void (*__cxa_throw_type)(void *a, void *b, void *c); namespace __interception { __cxa_throw_type real___cxa_throw; } extern &quot;C&quot; void __cxa_throw(void *a, void *b, void *c) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;__cxa_throw&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __interceptor___cxa_throw(void *a, void *b, void *c)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>void</em>, <dfn class="decl def fn" id="__cxa_throw" title='__cxa_throw' data-ref="__cxa_throw" data-ref-filename="__cxa_throw">__cxa_throw</dfn>, <em>void</em> *<dfn class="local col1 decl" id="6711a" title='a' data-type='void *' data-ref="6711a" data-ref-filename="6711a"><dfn class="local col4 decl" id="6714a" title='a' data-type='void *' data-ref="6714a" data-ref-filename="6714a"><dfn class="local col7 decl" id="6717a" title='a' data-type='void *' data-ref="6717a" data-ref-filename="6717a">a</dfn></dfn></dfn>, <em>void</em> *<dfn class="local col2 decl" id="6712b" title='b' data-type='void *' data-ref="6712b" data-ref-filename="6712b"><dfn class="local col5 decl" id="6715b" title='b' data-type='void *' data-ref="6715b" data-ref-filename="6715b"><dfn class="local col8 decl" id="6718b" title='b' data-type='void *' data-ref="6718b" data-ref-filename="6718b">b</dfn></dfn></dfn>, <em>void</em> *<dfn class="local col3 decl" id="6713c" title='c' data-type='void *' data-ref="6713c" data-ref-filename="6713c"><dfn class="local col6 decl" id="6716c" title='c' data-type='void *' data-ref="6716c" data-ref-filename="6716c"><dfn class="local col9 decl" id="6719c" title='c' data-type='void *' data-ref="6719c" data-ref-filename="6719c">c</dfn></dfn></dfn>) {</td></tr>
<tr><th id="318">318</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#299" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((__interception::real___cxa_throw)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 318, &quot;(&quot; &quot;(__interception::real___cxa_throw)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK">CHECK</a>(<a class="macro" href="../interception/interception.h.html#171" title="__interception::real___cxa_throw" data-ref="_M/REAL">REAL</a>(__cxa_throw));</td></tr>
<tr><th id="319">319</th><td>  <a class="ref fn" href="asan_interface_internal.h.html#__asan_handle_no_return" title='__asan_handle_no_return' data-ref="__asan_handle_no_return" data-ref-filename="__asan_handle_no_return">__asan_handle_no_return</a>();</td></tr>
<tr><th id="320">320</th><td>  <a class="macro" href="../interception/interception.h.html#171" title="__interception::real___cxa_throw" data-ref="_M/REAL">REAL</a>(__cxa_throw)(<a class="local col7 ref" href="#317" title='a' data-ref="6717a" data-ref-filename="6717a">a</a>, <a class="local col8 ref" href="#317" title='b' data-ref="6718b" data-ref-filename="6718b">b</a>, <a class="local col9 ref" href="#317" title='c' data-ref="6719c" data-ref-filename="6719c">c</a>);</td></tr>
<tr><th id="321">321</th><td>}</td></tr>
<tr><th id="322">322</th><td><u>#<span data-ppcond="316">endif</span></u></td></tr>
<tr><th id="323">323</th><td></td></tr>
<tr><th id="324">324</th><td><u>#<span data-ppcond="324">if</span> <a class="macro" href="asan_interceptors.h.html#84" title="1" data-ref="_M/ASAN_INTERCEPT___CXA_RETHROW_PRIMARY_EXCEPTION">ASAN_INTERCEPT___CXA_RETHROW_PRIMARY_EXCEPTION</a></u></td></tr>
<tr><th id="325">325</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef void (*__cxa_rethrow_primary_exception_type)(void *a); namespace __interception { __cxa_rethrow_primary_exception_type real___cxa_rethrow_primary_exception; } extern &quot;C&quot; void __cxa_rethrow_primary_exception(void *a) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;__cxa_rethrow_primary_exception&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __interceptor___cxa_rethrow_primary_exception(void *a)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>void</em>, <dfn class="decl def fn" id="__cxa_rethrow_primary_exception" title='__cxa_rethrow_primary_exception' data-ref="__cxa_rethrow_primary_exception" data-ref-filename="__cxa_rethrow_primary_exception">__cxa_rethrow_primary_exception</dfn>, <em>void</em> *<dfn class="local col0 decl" id="6720a" title='a' data-type='void *' data-ref="6720a" data-ref-filename="6720a"><dfn class="local col1 decl" id="6721a" title='a' data-type='void *' data-ref="6721a" data-ref-filename="6721a"><dfn class="local col2 decl" id="6722a" title='a' data-type='void *' data-ref="6722a" data-ref-filename="6722a">a</dfn></dfn></dfn>) {</td></tr>
<tr><th id="326">326</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#299" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((__interception::real___cxa_rethrow_primary_exception)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 326, &quot;(&quot; &quot;(__interception::real___cxa_rethrow_primary_exception)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK">CHECK</a>(<a class="macro" href="../interception/interception.h.html#171" title="__interception::real___cxa_rethrow_primary_exception" data-ref="_M/REAL">REAL</a>(__cxa_rethrow_primary_exception));</td></tr>
<tr><th id="327">327</th><td>  <a class="ref fn" href="asan_interface_internal.h.html#__asan_handle_no_return" title='__asan_handle_no_return' data-ref="__asan_handle_no_return" data-ref-filename="__asan_handle_no_return">__asan_handle_no_return</a>();</td></tr>
<tr><th id="328">328</th><td>  <a class="macro" href="../interception/interception.h.html#171" title="__interception::real___cxa_rethrow_primary_exception" data-ref="_M/REAL">REAL</a>(__cxa_rethrow_primary_exception)(<a class="local col2 ref" href="#325" title='a' data-ref="6722a" data-ref-filename="6722a">a</a>);</td></tr>
<tr><th id="329">329</th><td>}</td></tr>
<tr><th id="330">330</th><td><u>#<span data-ppcond="324">endif</span></u></td></tr>
<tr><th id="331">331</th><td></td></tr>
<tr><th id="332">332</th><td><u>#<span data-ppcond="332">if</span> <a class="macro" href="asan_interceptors.h.html#88" title="1" data-ref="_M/ASAN_INTERCEPT__UNWIND_RAISEEXCEPTION">ASAN_INTERCEPT__UNWIND_RAISEEXCEPTION</a></u></td></tr>
<tr><th id="333">333</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef _Unwind_Reason_Code (*_Unwind_RaiseException_type)(_Unwind_Exception *object); namespace __interception { _Unwind_RaiseException_type real__Unwind_RaiseException; } extern &quot;C&quot; _Unwind_Reason_Code _Unwind_RaiseException(_Unwind_Exception *object) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;_Unwind_RaiseException&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) _Unwind_Reason_Code __interceptor__Unwind_RaiseException(_Unwind_Exception *object)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<span class='typedef' title='_Unwind_Reason_Code' data-type='enum _Unwind_Reason_Code' data-ref="_Unwind_Reason_Code" data-ref-filename="_Unwind_Reason_Code">_Unwind_Reason_Code</span>, <dfn class="decl def fn" id="_Unwind_RaiseException" title='_Unwind_RaiseException' data-ref="_Unwind_RaiseException" data-ref-filename="_Unwind_RaiseException">_Unwind_RaiseException</dfn>,</td></tr>
<tr><th id="334">334</th><td>            <span class='typedef' title='_Unwind_Exception' data-type='struct _Unwind_Exception' data-ref="_Unwind_Exception" data-ref-filename="_Unwind_Exception">_Unwind_Exception</span> *<dfn class="local col3 decl" id="6723object" title='object' data-type='_Unwind_Exception *' data-ref="6723object" data-ref-filename="6723object"><dfn class="local col4 decl" id="6724object" title='object' data-type='_Unwind_Exception *' data-ref="6724object" data-ref-filename="6724object"><dfn class="local col5 decl" id="6725object" title='object' data-type='_Unwind_Exception *' data-ref="6725object" data-ref-filename="6725object">object</dfn></dfn></dfn>) {</td></tr>
<tr><th id="335">335</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#299" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((__interception::real__Unwind_RaiseException)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 335, &quot;(&quot; &quot;(__interception::real__Unwind_RaiseException)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK">CHECK</a>(<a class="macro" href="../interception/interception.h.html#171" title="__interception::real__Unwind_RaiseException" data-ref="_M/REAL">REAL</a>(_Unwind_RaiseException));</td></tr>
<tr><th id="336">336</th><td>  <a class="ref fn" href="asan_interface_internal.h.html#__asan_handle_no_return" title='__asan_handle_no_return' data-ref="__asan_handle_no_return" data-ref-filename="__asan_handle_no_return">__asan_handle_no_return</a>();</td></tr>
<tr><th id="337">337</th><td>  <b>return</b> <a class="macro" href="../interception/interception.h.html#171" title="__interception::real__Unwind_RaiseException" data-ref="_M/REAL">REAL</a>(_Unwind_RaiseException)(<a class="local col5 ref" href="#333" title='object' data-ref="6725object" data-ref-filename="6725object">object</a>);</td></tr>
<tr><th id="338">338</th><td>}</td></tr>
<tr><th id="339">339</th><td><u>#<span data-ppcond="332">endif</span></u></td></tr>
<tr><th id="340">340</th><td></td></tr>
<tr><th id="341">341</th><td><u>#<span data-ppcond="341">if</span> ASAN_INTERCEPT__SJLJ_UNWIND_RAISEEXCEPTION</u></td></tr>
<tr><th id="342">342</th><td>INTERCEPTOR(_Unwind_Reason_Code, _Unwind_SjLj_RaiseException,</td></tr>
<tr><th id="343">343</th><td>            _Unwind_Exception *object) {</td></tr>
<tr><th id="344">344</th><td>  CHECK(REAL(_Unwind_SjLj_RaiseException));</td></tr>
<tr><th id="345">345</th><td>  __asan_handle_no_return();</td></tr>
<tr><th id="346">346</th><td>  <b>return</b> REAL(_Unwind_SjLj_RaiseException)(object);</td></tr>
<tr><th id="347">347</th><td>}</td></tr>
<tr><th id="348">348</th><td><u>#<span data-ppcond="341">endif</span></u></td></tr>
<tr><th id="349">349</th><td></td></tr>
<tr><th id="350">350</th><td><u>#<span data-ppcond="350">if</span> <a class="macro" href="asan_interceptors.h.html#47" title="1" data-ref="_M/ASAN_INTERCEPT_INDEX">ASAN_INTERCEPT_INDEX</a></u></td></tr>
<tr><th id="351">351</th><td><u># <span data-ppcond="351">if</span> <a class="macro" href="asan_interceptors.h.html#58" title="1" data-ref="_M/ASAN_USE_ALIAS_ATTRIBUTE_FOR_INDEX">ASAN_USE_ALIAS_ATTRIBUTE_FOR_INDEX</a></u></td></tr>
<tr><th id="352">352</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef char* (*index_type)(const char *string, int c); namespace __interception { index_type real_index; } extern &quot;C&quot; char* index(const char *string, int c) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;index&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) char* __interceptor_index(const char *string, int c)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>char</em>*, <dfn class="decl def fn" id="index" title='index' data-ref="index" data-ref-filename="index">index</dfn>, <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="6726string" title='string' data-type='const char *' data-ref="6726string" data-ref-filename="6726string"><dfn class="local col8 decl" id="6728string" title='string' data-type='const char *' data-ref="6728string" data-ref-filename="6728string"><dfn class="local col0 decl" id="6730string" title='string' data-type='const char *' data-ref="6730string" data-ref-filename="6730string">string</dfn></dfn></dfn>, <em>int</em> <dfn class="local col7 decl" id="6727c" title='c' data-type='int' data-ref="6727c" data-ref-filename="6727c"><dfn class="local col9 decl" id="6729c" title='c' data-type='int' data-ref="6729c" data-ref-filename="6729c"><dfn class="local col1 decl" id="6731c" title='c' data-type='int' data-ref="6731c" data-ref-filename="6731c">c</dfn></dfn></dfn>)</td></tr>
<tr><th id="353">353</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#220" title="__attribute__((alias(&quot;__interceptor_&quot; &quot;strchr&quot;)))" data-ref="_M/ALIAS">ALIAS</a>(<a class="macro" href="../interception/interception.h.html#150" title="&quot;__interceptor_&quot; &quot;strchr&quot;" data-ref="_M/WRAPPER_NAME">WRAPPER_NAME</a>(strchr));</td></tr>
<tr><th id="354">354</th><td><u># <span data-ppcond="351">else</span></u></td></tr>
<tr><th id="355">355</th><td><u>#  if SANITIZER_MAC</u></td></tr>
<tr><th id="356">356</th><td>DECLARE_REAL(<em>char</em>*, index, <em>const</em> <em>char</em> *string, <em>int</em> c)</td></tr>
<tr><th id="357">357</th><td>OVERRIDE_FUNCTION(index, strchr);</td></tr>
<tr><th id="358">358</th><td><u>#  else</u></td></tr>
<tr><th id="359">359</th><td>DEFINE_REAL(<em>char</em>*, index, <em>const</em> <em>char</em> *string, <em>int</em> c)</td></tr>
<tr><th id="360">360</th><td><u>#  endif</u></td></tr>
<tr><th id="361">361</th><td><u># <span data-ppcond="351">endif</span></u></td></tr>
<tr><th id="362">362</th><td><u>#<span data-ppcond="350">endif</span>  // ASAN_INTERCEPT_INDEX</u></td></tr>
<tr><th id="363">363</th><td></td></tr>
<tr><th id="364">364</th><td><i>// For both strcat() and strncat() we need to check the validity of |to|</i></td></tr>
<tr><th id="365">365</th><td><i>// argument irrespective of the |from| length.</i></td></tr>
<tr><th id="366">366</th><td>  <a class="macro" href="../interception/interception.h.html#227" title="typedef char * (*strcat_type)(char *to, const char *from); namespace __interception { strcat_type real_strcat; } extern &quot;C&quot; char * strcat(char *to, const char *from) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;strcat&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) char * __interceptor_strcat(char *to, const char *from)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>char</em> *, <dfn class="decl def fn" id="strcat" title='strcat' data-ref="strcat" data-ref-filename="strcat">strcat</dfn>, <em>char</em> *<dfn class="local col2 decl" id="6732to" title='to' data-type='char *' data-ref="6732to" data-ref-filename="6732to"><dfn class="local col4 decl" id="6734to" title='to' data-type='char *' data-ref="6734to" data-ref-filename="6734to"><dfn class="local col6 decl" id="6736to" title='to' data-type='char *' data-ref="6736to" data-ref-filename="6736to">to</dfn></dfn></dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="6733from" title='from' data-type='const char *' data-ref="6733from" data-ref-filename="6733from"><dfn class="local col5 decl" id="6735from" title='from' data-type='const char *' data-ref="6735from" data-ref-filename="6735from"><dfn class="local col7 decl" id="6737from" title='from' data-type='const char *' data-ref="6737from" data-ref-filename="6737from">from</dfn></dfn></dfn>) {</td></tr>
<tr><th id="367">367</th><td>    <em>void</em> *<dfn class="local col8 decl" id="6738ctx" title='ctx' data-type='void *' data-ref="6738ctx" data-ref-filename="6738ctx">ctx</dfn>;</td></tr>
<tr><th id="368">368</th><td>    <a class="macro" href="#87" title="AsanInterceptorContext _ctx = {&quot;strcat&quot;}; ctx = (void *)&amp;_ctx; (void) ctx;" data-ref="_M/ASAN_INTERCEPTOR_ENTER">ASAN_INTERCEPTOR_ENTER</a>(<a class="local col8 ref" href="#6738ctx" title='ctx' data-ref="6738ctx" data-ref-filename="6738ctx">ctx</a>, strcat);</td></tr>
<tr><th id="369">369</th><td>    <a class="macro" href="asan_interceptors.h.html#27" title="do { do { __sanitizer::u64 v1 = (__sanitizer::u64)((!asan_init_is_running)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 369, &quot;(&quot; &quot;(!asan_init_is_running)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false); if (__builtin_expect(!!(!asan_inited), 0)) { AsanInitFromRtl(); } } while (0)" data-ref="_M/ENSURE_ASAN_INITED">ENSURE_ASAN_INITED</a>();</td></tr>
<tr><th id="370">370</th><td>    <b>if</b> (<a class="ref fn" href="asan_flags.h.html#__asan::flags" title='__asan::flags' data-ref="__asan::flags" data-ref-filename="__asan..flags">flags</a>()-&gt;<a class="ref field" href="asan_flags.inc.html#46" title='__asan::Flags::replace_str' data-ref="__asan::Flags::replace_str" data-ref-filename="__asan..Flags..replace_str">replace_str</a>) {</td></tr>
<tr><th id="371">371</th><td>      <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col0 decl" id="6740from_length" title='from_length' data-type='__sanitizer::uptr' data-ref="6740from_length" data-ref-filename="6740from_length">from_length</dfn> = <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strlen" data-ref="_M/REAL">REAL</a>(strlen)(<a class="local col7 ref" href="#366" title='from' data-ref="6737from" data-ref-filename="6737from">from</a>);</td></tr>
<tr><th id="372">372</th><td>      <a class="macro" href="asan_interceptors_memintrinsics.h.html#123" title="do { uptr __offset = (uptr)(from); uptr __size = (uptr)(from_length + 1); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)ctx; bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, false, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_READ_RANGE">ASAN_READ_RANGE</a>(<a class="local col8 ref" href="#6738ctx" title='ctx' data-ref="6738ctx" data-ref-filename="6738ctx">ctx</a>, <a class="local col7 ref" href="#366" title='from' data-ref="6737from" data-ref-filename="6737from">from</a>, <a class="local col0 ref" href="#6740from_length" title='from_length' data-ref="6740from_length" data-ref-filename="6740from_length">from_length</a> + <var>1</var>);</td></tr>
<tr><th id="373">373</th><td>      <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col1 decl" id="6741to_length" title='to_length' data-type='__sanitizer::uptr' data-ref="6741to_length" data-ref-filename="6741to_length">to_length</dfn> = <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strlen" data-ref="_M/REAL">REAL</a>(strlen)(<a class="local col6 ref" href="#366" title='to' data-ref="6736to" data-ref-filename="6736to">to</a>);</td></tr>
<tr><th id="374">374</th><td>      <a class="macro" href="#48" title="do { uptr __offset = (uptr)((to)); uptr __size = (uptr)(common_flags()-&gt;strict_string_checks ? (to_length) + 1 : (to_length)); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)(ctx); bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, false, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_READ_STRING_OF_LEN">ASAN_READ_STRING_OF_LEN</a>(<a class="local col8 ref" href="#6738ctx" title='ctx' data-ref="6738ctx" data-ref-filename="6738ctx">ctx</a>, <a class="local col6 ref" href="#366" title='to' data-ref="6736to" data-ref-filename="6736to">to</a>, <a class="local col1 ref" href="#6741to_length" title='to_length' data-ref="6741to_length" data-ref-filename="6741to_length">to_length</a>, <a class="local col1 ref" href="#6741to_length" title='to_length' data-ref="6741to_length" data-ref-filename="6741to_length">to_length</a>);</td></tr>
<tr><th id="375">375</th><td>      <a class="macro" href="asan_interceptors_memintrinsics.h.html#125" title="do { uptr __offset = (uptr)(to + to_length); uptr __size = (uptr)(from_length + 1); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)ctx; bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, true, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_WRITE_RANGE">ASAN_WRITE_RANGE</a>(<a class="local col8 ref" href="#6738ctx" title='ctx' data-ref="6738ctx" data-ref-filename="6738ctx">ctx</a>, <a class="local col6 ref" href="#366" title='to' data-ref="6736to" data-ref-filename="6736to">to</a> + <a class="local col1 ref" href="#6741to_length" title='to_length' data-ref="6741to_length" data-ref-filename="6741to_length">to_length</a>, <a class="local col0 ref" href="#6740from_length" title='from_length' data-ref="6740from_length" data-ref-filename="6740from_length">from_length</a> + <var>1</var>);</td></tr>
<tr><th id="376">376</th><td>      <i>// If the copying actually happens, the |from| string should not overlap</i></td></tr>
<tr><th id="377">377</th><td><i>      // with the resulting string starting at |to|, which has a length of</i></td></tr>
<tr><th id="378">378</th><td><i>      // to_length + from_length + 1.</i></td></tr>
<tr><th id="379">379</th><td>      <b>if</b> (<a class="local col0 ref" href="#6740from_length" title='from_length' data-ref="6740from_length" data-ref-filename="6740from_length">from_length</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="380">380</th><td>        <a class="macro" href="asan_interceptors_memintrinsics.h.html#135" title="do { const char *offset1 = (const char *)to; const char *offset2 = (const char *)from; if (RangesOverlap(offset1, from_length + to_length + 1, offset2, from_length + 1)) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; bool suppressed = IsInterceptorSuppressed(&quot;strcat&quot;); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { suppressed = IsStackTraceSuppressed(&amp;stack); } if (!suppressed) { ReportStringFunctionMemoryRangesOverlap(&quot;strcat&quot;, offset1, from_length + to_length + 1, offset2, from_length + 1, &amp;stack); } } } while (0)" data-ref="_M/CHECK_RANGES_OVERLAP">CHECK_RANGES_OVERLAP</a>(<q>"strcat"</q>, <a class="local col6 ref" href="#366" title='to' data-ref="6736to" data-ref-filename="6736to">to</a>, <a class="local col0 ref" href="#6740from_length" title='from_length' data-ref="6740from_length" data-ref-filename="6740from_length">from_length</a> + <a class="local col1 ref" href="#6741to_length" title='to_length' data-ref="6741to_length" data-ref-filename="6741to_length">to_length</a> + <var>1</var>, <a class="local col7 ref" href="#366" title='from' data-ref="6737from" data-ref-filename="6737from">from</a>,</td></tr>
<tr><th id="381">381</th><td>                             <a class="local col0 ref" href="#6740from_length" title='from_length' data-ref="6740from_length" data-ref-filename="6740from_length">from_length</a> + <var>1</var>);</td></tr>
<tr><th id="382">382</th><td>      }</td></tr>
<tr><th id="383">383</th><td>    }</td></tr>
<tr><th id="384">384</th><td>    <b>return</b> <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strcat" data-ref="_M/REAL">REAL</a>(strcat)(<a class="local col6 ref" href="#366" title='to' data-ref="6736to" data-ref-filename="6736to">to</a>, <a class="local col7 ref" href="#366" title='from' data-ref="6737from" data-ref-filename="6737from">from</a>);</td></tr>
<tr><th id="385">385</th><td>  }</td></tr>
<tr><th id="386">386</th><td></td></tr>
<tr><th id="387">387</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef char* (*strncat_type)(char *to, const char *from, uptr size); namespace __interception { strncat_type real_strncat; } extern &quot;C&quot; char* strncat(char *to, const char *from, uptr size) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;strncat&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) char* __interceptor_strncat(char *to, const char *from, uptr size)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>char</em>*, <dfn class="decl def fn" id="strncat" title='strncat' data-ref="strncat" data-ref-filename="strncat">strncat</dfn>, <em>char</em> *<dfn class="local col2 decl" id="6742to" title='to' data-type='char *' data-ref="6742to" data-ref-filename="6742to"><dfn class="local col5 decl" id="6745to" title='to' data-type='char *' data-ref="6745to" data-ref-filename="6745to"><dfn class="local col8 decl" id="6748to" title='to' data-type='char *' data-ref="6748to" data-ref-filename="6748to">to</dfn></dfn></dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="6743from" title='from' data-type='const char *' data-ref="6743from" data-ref-filename="6743from"><dfn class="local col6 decl" id="6746from" title='from' data-type='const char *' data-ref="6746from" data-ref-filename="6746from"><dfn class="local col9 decl" id="6749from" title='from' data-type='const char *' data-ref="6749from" data-ref-filename="6749from">from</dfn></dfn></dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col4 decl" id="6744size" title='size' data-type='__sanitizer::uptr' data-ref="6744size" data-ref-filename="6744size"><dfn class="local col7 decl" id="6747size" title='size' data-type='__sanitizer::uptr' data-ref="6747size" data-ref-filename="6747size"><dfn class="local col0 decl" id="6750size" title='size' data-type='__sanitizer::uptr' data-ref="6750size" data-ref-filename="6750size">size</dfn></dfn></dfn>) {</td></tr>
<tr><th id="388">388</th><td>  <em>void</em> *<dfn class="local col1 decl" id="6751ctx" title='ctx' data-type='void *' data-ref="6751ctx" data-ref-filename="6751ctx">ctx</dfn>;</td></tr>
<tr><th id="389">389</th><td>  <a class="macro" href="#87" title="AsanInterceptorContext _ctx = {&quot;strncat&quot;}; ctx = (void *)&amp;_ctx; (void) ctx;" data-ref="_M/ASAN_INTERCEPTOR_ENTER">ASAN_INTERCEPTOR_ENTER</a>(<a class="local col1 ref" href="#6751ctx" title='ctx' data-ref="6751ctx" data-ref-filename="6751ctx">ctx</a>, strncat);</td></tr>
<tr><th id="390">390</th><td>  <a class="macro" href="asan_interceptors.h.html#27" title="do { do { __sanitizer::u64 v1 = (__sanitizer::u64)((!asan_init_is_running)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 390, &quot;(&quot; &quot;(!asan_init_is_running)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false); if (__builtin_expect(!!(!asan_inited), 0)) { AsanInitFromRtl(); } } while (0)" data-ref="_M/ENSURE_ASAN_INITED">ENSURE_ASAN_INITED</a>();</td></tr>
<tr><th id="391">391</th><td>  <b>if</b> (<a class="ref fn" href="asan_flags.h.html#__asan::flags" title='__asan::flags' data-ref="__asan::flags" data-ref-filename="__asan..flags">flags</a>()-&gt;<a class="ref field" href="asan_flags.inc.html#46" title='__asan::Flags::replace_str' data-ref="__asan::Flags::replace_str" data-ref-filename="__asan..Flags..replace_str">replace_str</a>) {</td></tr>
<tr><th id="392">392</th><td>    <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col3 decl" id="6753from_length" title='from_length' data-type='__sanitizer::uptr' data-ref="6753from_length" data-ref-filename="6753from_length">from_length</dfn> = <a class="tu ref fn" href="#__asan::MaybeRealStrnlen" title='__asan::MaybeRealStrnlen' data-use='c' data-ref="__asan::MaybeRealStrnlen" data-ref-filename="__asan..MaybeRealStrnlen">MaybeRealStrnlen</a>(<a class="local col9 ref" href="#387" title='from' data-ref="6749from" data-ref-filename="6749from">from</a>, <a class="local col0 ref" href="#387" title='size' data-ref="6750size" data-ref-filename="6750size">size</a>);</td></tr>
<tr><th id="393">393</th><td>    <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col4 decl" id="6754copy_length" title='copy_length' data-type='__sanitizer::uptr' data-ref="6754copy_length" data-ref-filename="6754copy_length">copy_length</dfn> = <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::Min" title='__sanitizer::Min' data-ref="__sanitizer::Min" data-ref-filename="__sanitizer..Min">Min</a>(<a class="local col0 ref" href="#387" title='size' data-ref="6750size" data-ref-filename="6750size">size</a>, <a class="local col3 ref" href="#6753from_length" title='from_length' data-ref="6753from_length" data-ref-filename="6753from_length">from_length</a> + <var>1</var>);</td></tr>
<tr><th id="394">394</th><td>    <a class="macro" href="asan_interceptors_memintrinsics.h.html#123" title="do { uptr __offset = (uptr)(from); uptr __size = (uptr)(copy_length); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)ctx; bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, false, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_READ_RANGE">ASAN_READ_RANGE</a>(<a class="local col1 ref" href="#6751ctx" title='ctx' data-ref="6751ctx" data-ref-filename="6751ctx">ctx</a>, <a class="local col9 ref" href="#387" title='from' data-ref="6749from" data-ref-filename="6749from">from</a>, <a class="local col4 ref" href="#6754copy_length" title='copy_length' data-ref="6754copy_length" data-ref-filename="6754copy_length">copy_length</a>);</td></tr>
<tr><th id="395">395</th><td>    <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col5 decl" id="6755to_length" title='to_length' data-type='__sanitizer::uptr' data-ref="6755to_length" data-ref-filename="6755to_length">to_length</dfn> = <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strlen" data-ref="_M/REAL">REAL</a>(strlen)(<a class="local col8 ref" href="#387" title='to' data-ref="6748to" data-ref-filename="6748to">to</a>);</td></tr>
<tr><th id="396">396</th><td>    <a class="macro" href="#48" title="do { uptr __offset = (uptr)((to)); uptr __size = (uptr)(common_flags()-&gt;strict_string_checks ? (to_length) + 1 : (to_length)); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)(ctx); bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, false, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_READ_STRING_OF_LEN">ASAN_READ_STRING_OF_LEN</a>(<a class="local col1 ref" href="#6751ctx" title='ctx' data-ref="6751ctx" data-ref-filename="6751ctx">ctx</a>, <a class="local col8 ref" href="#387" title='to' data-ref="6748to" data-ref-filename="6748to">to</a>, <a class="local col5 ref" href="#6755to_length" title='to_length' data-ref="6755to_length" data-ref-filename="6755to_length">to_length</a>, <a class="local col5 ref" href="#6755to_length" title='to_length' data-ref="6755to_length" data-ref-filename="6755to_length">to_length</a>);</td></tr>
<tr><th id="397">397</th><td>    <a class="macro" href="asan_interceptors_memintrinsics.h.html#125" title="do { uptr __offset = (uptr)(to + to_length); uptr __size = (uptr)(from_length + 1); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)ctx; bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, true, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_WRITE_RANGE">ASAN_WRITE_RANGE</a>(<a class="local col1 ref" href="#6751ctx" title='ctx' data-ref="6751ctx" data-ref-filename="6751ctx">ctx</a>, <a class="local col8 ref" href="#387" title='to' data-ref="6748to" data-ref-filename="6748to">to</a> + <a class="local col5 ref" href="#6755to_length" title='to_length' data-ref="6755to_length" data-ref-filename="6755to_length">to_length</a>, <a class="local col3 ref" href="#6753from_length" title='from_length' data-ref="6753from_length" data-ref-filename="6753from_length">from_length</a> + <var>1</var>);</td></tr>
<tr><th id="398">398</th><td>    <b>if</b> (<a class="local col3 ref" href="#6753from_length" title='from_length' data-ref="6753from_length" data-ref-filename="6753from_length">from_length</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="399">399</th><td>      <a class="macro" href="asan_interceptors_memintrinsics.h.html#135" title="do { const char *offset1 = (const char *)to; const char *offset2 = (const char *)from; if (RangesOverlap(offset1, to_length + copy_length + 1, offset2, copy_length)) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; bool suppressed = IsInterceptorSuppressed(&quot;strncat&quot;); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { suppressed = IsStackTraceSuppressed(&amp;stack); } if (!suppressed) { ReportStringFunctionMemoryRangesOverlap(&quot;strncat&quot;, offset1, to_length + copy_length + 1, offset2, copy_length, &amp;stack); } } } while (0)" data-ref="_M/CHECK_RANGES_OVERLAP">CHECK_RANGES_OVERLAP</a>(<q>"strncat"</q>, <a class="local col8 ref" href="#387" title='to' data-ref="6748to" data-ref-filename="6748to">to</a>, <a class="local col5 ref" href="#6755to_length" title='to_length' data-ref="6755to_length" data-ref-filename="6755to_length">to_length</a> + <a class="local col4 ref" href="#6754copy_length" title='copy_length' data-ref="6754copy_length" data-ref-filename="6754copy_length">copy_length</a> + <var>1</var>,</td></tr>
<tr><th id="400">400</th><td>                           <a class="local col9 ref" href="#387" title='from' data-ref="6749from" data-ref-filename="6749from">from</a>, <a class="local col4 ref" href="#6754copy_length" title='copy_length' data-ref="6754copy_length" data-ref-filename="6754copy_length">copy_length</a>);</td></tr>
<tr><th id="401">401</th><td>    }</td></tr>
<tr><th id="402">402</th><td>  }</td></tr>
<tr><th id="403">403</th><td>  <b>return</b> <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strncat" data-ref="_M/REAL">REAL</a>(strncat)(<a class="local col8 ref" href="#387" title='to' data-ref="6748to" data-ref-filename="6748to">to</a>, <a class="local col9 ref" href="#387" title='from' data-ref="6749from" data-ref-filename="6749from">from</a>, <a class="local col0 ref" href="#387" title='size' data-ref="6750size" data-ref-filename="6750size">size</a>);</td></tr>
<tr><th id="404">404</th><td>}</td></tr>
<tr><th id="405">405</th><td></td></tr>
<tr><th id="406">406</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef char * (*strcpy_type)(char *to, const char *from); namespace __interception { strcpy_type real_strcpy; } extern &quot;C&quot; char * strcpy(char *to, const char *from) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;strcpy&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) char * __interceptor_strcpy(char *to, const char *from)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>char</em> *, <dfn class="decl def fn" id="strcpy" title='strcpy' data-ref="strcpy" data-ref-filename="strcpy">strcpy</dfn>, <em>char</em> *<dfn class="local col6 decl" id="6756to" title='to' data-type='char *' data-ref="6756to" data-ref-filename="6756to"><dfn class="local col8 decl" id="6758to" title='to' data-type='char *' data-ref="6758to" data-ref-filename="6758to"><dfn class="local col0 decl" id="6760to" title='to' data-type='char *' data-ref="6760to" data-ref-filename="6760to">to</dfn></dfn></dfn>, <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="6757from" title='from' data-type='const char *' data-ref="6757from" data-ref-filename="6757from"><dfn class="local col9 decl" id="6759from" title='from' data-type='const char *' data-ref="6759from" data-ref-filename="6759from"><dfn class="local col1 decl" id="6761from" title='from' data-type='const char *' data-ref="6761from" data-ref-filename="6761from">from</dfn></dfn></dfn>) {</td></tr>
<tr><th id="407">407</th><td>  <em>void</em> *<dfn class="local col2 decl" id="6762ctx" title='ctx' data-type='void *' data-ref="6762ctx" data-ref-filename="6762ctx">ctx</dfn>;</td></tr>
<tr><th id="408">408</th><td>  <a class="macro" href="#87" title="AsanInterceptorContext _ctx = {&quot;strcpy&quot;}; ctx = (void *)&amp;_ctx; (void) ctx;" data-ref="_M/ASAN_INTERCEPTOR_ENTER">ASAN_INTERCEPTOR_ENTER</a>(<a class="local col2 ref" href="#6762ctx" title='ctx' data-ref="6762ctx" data-ref-filename="6762ctx">ctx</a>, strcpy);</td></tr>
<tr><th id="409">409</th><td><u>#<span data-ppcond="409">if</span> <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#73" title="0" data-ref="_M/SANITIZER_MAC">SANITIZER_MAC</a></u></td></tr>
<tr><th id="410">410</th><td>  <b>if</b> (UNLIKELY(!asan_inited))</td></tr>
<tr><th id="411">411</th><td>    <b>return</b> REAL(strcpy)(to, from);</td></tr>
<tr><th id="412">412</th><td><u>#<span data-ppcond="409">endif</span></u></td></tr>
<tr><th id="413">413</th><td>  <i>// strcpy is called from malloc_default_purgeable_zone()</i></td></tr>
<tr><th id="414">414</th><td><i>  // in __asan::ReplaceSystemAlloc() on Mac.</i></td></tr>
<tr><th id="415">415</th><td>  <b>if</b> (<a class="ref" href="asan_internal.h.html#__asan::asan_init_is_running" title='__asan::asan_init_is_running' data-ref="__asan::asan_init_is_running" data-ref-filename="__asan..asan_init_is_running">asan_init_is_running</a>) {</td></tr>
<tr><th id="416">416</th><td>    <b>return</b> <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strcpy" data-ref="_M/REAL">REAL</a>(strcpy)(<a class="local col0 ref" href="#406" title='to' data-ref="6760to" data-ref-filename="6760to">to</a>, <a class="local col1 ref" href="#406" title='from' data-ref="6761from" data-ref-filename="6761from">from</a>);</td></tr>
<tr><th id="417">417</th><td>  }</td></tr>
<tr><th id="418">418</th><td>  <a class="macro" href="asan_interceptors.h.html#27" title="do { do { __sanitizer::u64 v1 = (__sanitizer::u64)((!asan_init_is_running)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 418, &quot;(&quot; &quot;(!asan_init_is_running)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false); if (__builtin_expect(!!(!asan_inited), 0)) { AsanInitFromRtl(); } } while (0)" data-ref="_M/ENSURE_ASAN_INITED">ENSURE_ASAN_INITED</a>();</td></tr>
<tr><th id="419">419</th><td>  <b>if</b> (<a class="ref fn" href="asan_flags.h.html#__asan::flags" title='__asan::flags' data-ref="__asan::flags" data-ref-filename="__asan..flags">flags</a>()-&gt;<a class="ref field" href="asan_flags.inc.html#46" title='__asan::Flags::replace_str' data-ref="__asan::Flags::replace_str" data-ref-filename="__asan..Flags..replace_str">replace_str</a>) {</td></tr>
<tr><th id="420">420</th><td>    <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col4 decl" id="6764from_size" title='from_size' data-type='__sanitizer::uptr' data-ref="6764from_size" data-ref-filename="6764from_size">from_size</dfn> = <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strlen" data-ref="_M/REAL">REAL</a>(strlen)(<a class="local col1 ref" href="#406" title='from' data-ref="6761from" data-ref-filename="6761from">from</a>) + <var>1</var>;</td></tr>
<tr><th id="421">421</th><td>    <a class="macro" href="asan_interceptors_memintrinsics.h.html#135" title="do { const char *offset1 = (const char *)to; const char *offset2 = (const char *)from; if (RangesOverlap(offset1, from_size, offset2, from_size)) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; bool suppressed = IsInterceptorSuppressed(&quot;strcpy&quot;); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { suppressed = IsStackTraceSuppressed(&amp;stack); } if (!suppressed) { ReportStringFunctionMemoryRangesOverlap(&quot;strcpy&quot;, offset1, from_size, offset2, from_size, &amp;stack); } } } while (0)" data-ref="_M/CHECK_RANGES_OVERLAP">CHECK_RANGES_OVERLAP</a>(<q>"strcpy"</q>, <a class="local col0 ref" href="#406" title='to' data-ref="6760to" data-ref-filename="6760to">to</a>, <a class="local col4 ref" href="#6764from_size" title='from_size' data-ref="6764from_size" data-ref-filename="6764from_size">from_size</a>, <a class="local col1 ref" href="#406" title='from' data-ref="6761from" data-ref-filename="6761from">from</a>, <a class="local col4 ref" href="#6764from_size" title='from_size' data-ref="6764from_size" data-ref-filename="6764from_size">from_size</a>);</td></tr>
<tr><th id="422">422</th><td>    <a class="macro" href="asan_interceptors_memintrinsics.h.html#123" title="do { uptr __offset = (uptr)(from); uptr __size = (uptr)(from_size); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)ctx; bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, false, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_READ_RANGE">ASAN_READ_RANGE</a>(<a class="local col2 ref" href="#6762ctx" title='ctx' data-ref="6762ctx" data-ref-filename="6762ctx">ctx</a>, <a class="local col1 ref" href="#406" title='from' data-ref="6761from" data-ref-filename="6761from">from</a>, <a class="local col4 ref" href="#6764from_size" title='from_size' data-ref="6764from_size" data-ref-filename="6764from_size">from_size</a>);</td></tr>
<tr><th id="423">423</th><td>    <a class="macro" href="asan_interceptors_memintrinsics.h.html#125" title="do { uptr __offset = (uptr)(to); uptr __size = (uptr)(from_size); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)ctx; bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, true, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_WRITE_RANGE">ASAN_WRITE_RANGE</a>(<a class="local col2 ref" href="#6762ctx" title='ctx' data-ref="6762ctx" data-ref-filename="6762ctx">ctx</a>, <a class="local col0 ref" href="#406" title='to' data-ref="6760to" data-ref-filename="6760to">to</a>, <a class="local col4 ref" href="#6764from_size" title='from_size' data-ref="6764from_size" data-ref-filename="6764from_size">from_size</a>);</td></tr>
<tr><th id="424">424</th><td>  }</td></tr>
<tr><th id="425">425</th><td>  <b>return</b> <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strcpy" data-ref="_M/REAL">REAL</a>(strcpy)(<a class="local col0 ref" href="#406" title='to' data-ref="6760to" data-ref-filename="6760to">to</a>, <a class="local col1 ref" href="#406" title='from' data-ref="6761from" data-ref-filename="6761from">from</a>);</td></tr>
<tr><th id="426">426</th><td>}</td></tr>
<tr><th id="427">427</th><td></td></tr>
<tr><th id="428">428</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef char* (*strdup_type)(const char *s); namespace __interception { strdup_type real_strdup; } extern &quot;C&quot; char* strdup(const char *s) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;strdup&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) char* __interceptor_strdup(const char *s)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>char</em>*, <dfn class="decl def fn" id="strdup" title='strdup' data-ref="strdup" data-ref-filename="strdup">strdup</dfn>, <em>const</em> <em>char</em> *<dfn class="local col5 decl" id="6765s" title='s' data-type='const char *' data-ref="6765s" data-ref-filename="6765s"><dfn class="local col6 decl" id="6766s" title='s' data-type='const char *' data-ref="6766s" data-ref-filename="6766s"><dfn class="local col7 decl" id="6767s" title='s' data-type='const char *' data-ref="6767s" data-ref-filename="6767s">s</dfn></dfn></dfn>) {</td></tr>
<tr><th id="429">429</th><td>  <em>void</em> *<dfn class="local col8 decl" id="6768ctx" title='ctx' data-type='void *' data-ref="6768ctx" data-ref-filename="6768ctx">ctx</dfn>;</td></tr>
<tr><th id="430">430</th><td>  <a class="macro" href="#87" title="AsanInterceptorContext _ctx = {&quot;strdup&quot;}; ctx = (void *)&amp;_ctx; (void) ctx;" data-ref="_M/ASAN_INTERCEPTOR_ENTER">ASAN_INTERCEPTOR_ENTER</a>(<a class="local col8 ref" href="#6768ctx" title='ctx' data-ref="6768ctx" data-ref-filename="6768ctx">ctx</a>, strdup);</td></tr>
<tr><th id="431">431</th><td>  <b>if</b> (<a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#229" title="__builtin_expect(!!(!asan_inited), 0)" data-ref="_M/UNLIKELY">UNLIKELY</a>(!<a class="ref" href="asan_internal.h.html#__asan::asan_inited" title='__asan::asan_inited' data-ref="__asan::asan_inited" data-ref-filename="__asan..asan_inited">asan_inited</a>)) <b>return</b> <a class="ref fn" href="../sanitizer_common/sanitizer_libc.h.html#__sanitizer::internal_strdup" title='__sanitizer::internal_strdup' data-ref="__sanitizer::internal_strdup" data-ref-filename="__sanitizer..internal_strdup">internal_strdup</a>(<a class="local col7 ref" href="#428" title='s' data-ref="6767s" data-ref-filename="6767s">s</a>);</td></tr>
<tr><th id="432">432</th><td>  <a class="macro" href="asan_interceptors.h.html#27" title="do { do { __sanitizer::u64 v1 = (__sanitizer::u64)((!asan_init_is_running)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 432, &quot;(&quot; &quot;(!asan_init_is_running)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false); if (__builtin_expect(!!(!asan_inited), 0)) { AsanInitFromRtl(); } } while (0)" data-ref="_M/ENSURE_ASAN_INITED">ENSURE_ASAN_INITED</a>();</td></tr>
<tr><th id="433">433</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col0 decl" id="6770length" title='length' data-type='__sanitizer::uptr' data-ref="6770length" data-ref-filename="6770length">length</dfn> = <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strlen" data-ref="_M/REAL">REAL</a>(strlen)(<a class="local col7 ref" href="#428" title='s' data-ref="6767s" data-ref-filename="6767s">s</a>);</td></tr>
<tr><th id="434">434</th><td>  <b>if</b> (<a class="ref fn" href="asan_flags.h.html#__asan::flags" title='__asan::flags' data-ref="__asan::flags" data-ref-filename="__asan..flags">flags</a>()-&gt;<a class="ref field" href="asan_flags.inc.html#46" title='__asan::Flags::replace_str' data-ref="__asan::Flags::replace_str" data-ref-filename="__asan..Flags..replace_str">replace_str</a>) {</td></tr>
<tr><th id="435">435</th><td>    <a class="macro" href="asan_interceptors_memintrinsics.h.html#123" title="do { uptr __offset = (uptr)(s); uptr __size = (uptr)(length + 1); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)ctx; bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, false, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_READ_RANGE">ASAN_READ_RANGE</a>(<a class="local col8 ref" href="#6768ctx" title='ctx' data-ref="6768ctx" data-ref-filename="6768ctx">ctx</a>, <a class="local col7 ref" href="#428" title='s' data-ref="6767s" data-ref-filename="6767s">s</a>, <a class="local col0 ref" href="#6770length" title='length' data-ref="6770length" data-ref-filename="6770length">length</a> + <var>1</var>);</td></tr>
<tr><th id="436">436</th><td>  }</td></tr>
<tr><th id="437">437</th><td>  <a class="macro" href="asan_stack.h.html#63" title="BufferedStackTrace stack; if (GetMallocContextSize() &lt;= 2) { stack.size = GetMallocContextSize(); if (GetMallocContextSize() &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (GetMallocContextSize() &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_malloc, GetMallocContextSize()); }" data-ref="_M/GET_STACK_TRACE_MALLOC">GET_STACK_TRACE_MALLOC</a>;</td></tr>
<tr><th id="438">438</th><td>  <em>void</em> *<dfn class="local col1 decl" id="6771new_mem" title='new_mem' data-type='void *' data-ref="6771new_mem" data-ref-filename="6771new_mem">new_mem</dfn> = <a class="ref fn" href="asan_allocator.h.html#__asan::asan_malloc" title='__asan::asan_malloc' data-ref="__asan::asan_malloc" data-ref-filename="__asan..asan_malloc">asan_malloc</a>(<a class="local col0 ref" href="#6770length" title='length' data-ref="6770length" data-ref-filename="6770length">length</a> + <var>1</var>, &amp;<a class="local col2 ref" href="#437" title='stack' data-ref="6772stack" data-ref-filename="6772stack">stack</a>);</td></tr>
<tr><th id="439">439</th><td>  <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_memcpy" data-ref="_M/REAL">REAL</a>(memcpy)(<a class="local col1 ref" href="#6771new_mem" title='new_mem' data-ref="6771new_mem" data-ref-filename="6771new_mem">new_mem</a>, <a class="local col7 ref" href="#428" title='s' data-ref="6767s" data-ref-filename="6767s">s</a>, <a class="local col0 ref" href="#6770length" title='length' data-ref="6770length" data-ref-filename="6770length">length</a> + <var>1</var>);</td></tr>
<tr><th id="440">440</th><td>  <b>return</b> <b>reinterpret_cast</b>&lt;<em>char</em>*&gt;(<a class="local col1 ref" href="#6771new_mem" title='new_mem' data-ref="6771new_mem" data-ref-filename="6771new_mem">new_mem</a>);</td></tr>
<tr><th id="441">441</th><td>}</td></tr>
<tr><th id="442">442</th><td></td></tr>
<tr><th id="443">443</th><td><u>#<span data-ppcond="443">if</span> <a class="macro" href="asan_interceptors.h.html#110" title="1" data-ref="_M/ASAN_INTERCEPT___STRDUP">ASAN_INTERCEPT___STRDUP</a></u></td></tr>
<tr><th id="444">444</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef char* (*__strdup_type)(const char *s); namespace __interception { __strdup_type real___strdup; } extern &quot;C&quot; char* __strdup(const char *s) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;__strdup&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) char* __interceptor___strdup(const char *s)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>char</em>*, <dfn class="decl def fn" id="__strdup" title='__strdup' data-ref="__strdup" data-ref-filename="__strdup">__strdup</dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="6773s" title='s' data-type='const char *' data-ref="6773s" data-ref-filename="6773s"><dfn class="local col4 decl" id="6774s" title='s' data-type='const char *' data-ref="6774s" data-ref-filename="6774s"><dfn class="local col5 decl" id="6775s" title='s' data-type='const char *' data-ref="6775s" data-ref-filename="6775s">s</dfn></dfn></dfn>) {</td></tr>
<tr><th id="445">445</th><td>  <em>void</em> *<dfn class="local col6 decl" id="6776ctx" title='ctx' data-type='void *' data-ref="6776ctx" data-ref-filename="6776ctx">ctx</dfn>;</td></tr>
<tr><th id="446">446</th><td>  <a class="macro" href="#87" title="AsanInterceptorContext _ctx = {&quot;strdup&quot;}; ctx = (void *)&amp;_ctx; (void) ctx;" data-ref="_M/ASAN_INTERCEPTOR_ENTER">ASAN_INTERCEPTOR_ENTER</a>(<a class="local col6 ref" href="#6776ctx" title='ctx' data-ref="6776ctx" data-ref-filename="6776ctx">ctx</a>, strdup);</td></tr>
<tr><th id="447">447</th><td>  <b>if</b> (<a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#229" title="__builtin_expect(!!(!asan_inited), 0)" data-ref="_M/UNLIKELY">UNLIKELY</a>(!<a class="ref" href="asan_internal.h.html#__asan::asan_inited" title='__asan::asan_inited' data-ref="__asan::asan_inited" data-ref-filename="__asan..asan_inited">asan_inited</a>)) <b>return</b> <a class="ref fn" href="../sanitizer_common/sanitizer_libc.h.html#__sanitizer::internal_strdup" title='__sanitizer::internal_strdup' data-ref="__sanitizer::internal_strdup" data-ref-filename="__sanitizer..internal_strdup">internal_strdup</a>(<a class="local col5 ref" href="#444" title='s' data-ref="6775s" data-ref-filename="6775s">s</a>);</td></tr>
<tr><th id="448">448</th><td>  <a class="macro" href="asan_interceptors.h.html#27" title="do { do { __sanitizer::u64 v1 = (__sanitizer::u64)((!asan_init_is_running)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 448, &quot;(&quot; &quot;(!asan_init_is_running)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false); if (__builtin_expect(!!(!asan_inited), 0)) { AsanInitFromRtl(); } } while (0)" data-ref="_M/ENSURE_ASAN_INITED">ENSURE_ASAN_INITED</a>();</td></tr>
<tr><th id="449">449</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col8 decl" id="6778length" title='length' data-type='__sanitizer::uptr' data-ref="6778length" data-ref-filename="6778length">length</dfn> = <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strlen" data-ref="_M/REAL">REAL</a>(strlen)(<a class="local col5 ref" href="#444" title='s' data-ref="6775s" data-ref-filename="6775s">s</a>);</td></tr>
<tr><th id="450">450</th><td>  <b>if</b> (<a class="ref fn" href="asan_flags.h.html#__asan::flags" title='__asan::flags' data-ref="__asan::flags" data-ref-filename="__asan..flags">flags</a>()-&gt;<a class="ref field" href="asan_flags.inc.html#46" title='__asan::Flags::replace_str' data-ref="__asan::Flags::replace_str" data-ref-filename="__asan..Flags..replace_str">replace_str</a>) {</td></tr>
<tr><th id="451">451</th><td>    <a class="macro" href="asan_interceptors_memintrinsics.h.html#123" title="do { uptr __offset = (uptr)(s); uptr __size = (uptr)(length + 1); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)ctx; bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, false, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_READ_RANGE">ASAN_READ_RANGE</a>(<a class="local col6 ref" href="#6776ctx" title='ctx' data-ref="6776ctx" data-ref-filename="6776ctx">ctx</a>, <a class="local col5 ref" href="#444" title='s' data-ref="6775s" data-ref-filename="6775s">s</a>, <a class="local col8 ref" href="#6778length" title='length' data-ref="6778length" data-ref-filename="6778length">length</a> + <var>1</var>);</td></tr>
<tr><th id="452">452</th><td>  }</td></tr>
<tr><th id="453">453</th><td>  <a class="macro" href="asan_stack.h.html#63" title="BufferedStackTrace stack; if (GetMallocContextSize() &lt;= 2) { stack.size = GetMallocContextSize(); if (GetMallocContextSize() &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (GetMallocContextSize() &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_malloc, GetMallocContextSize()); }" data-ref="_M/GET_STACK_TRACE_MALLOC">GET_STACK_TRACE_MALLOC</a>;</td></tr>
<tr><th id="454">454</th><td>  <em>void</em> *<dfn class="local col9 decl" id="6779new_mem" title='new_mem' data-type='void *' data-ref="6779new_mem" data-ref-filename="6779new_mem">new_mem</dfn> = <a class="ref fn" href="asan_allocator.h.html#__asan::asan_malloc" title='__asan::asan_malloc' data-ref="__asan::asan_malloc" data-ref-filename="__asan..asan_malloc">asan_malloc</a>(<a class="local col8 ref" href="#6778length" title='length' data-ref="6778length" data-ref-filename="6778length">length</a> + <var>1</var>, &amp;<a class="local col0 ref" href="#453" title='stack' data-ref="6780stack" data-ref-filename="6780stack">stack</a>);</td></tr>
<tr><th id="455">455</th><td>  <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_memcpy" data-ref="_M/REAL">REAL</a>(memcpy)(<a class="local col9 ref" href="#6779new_mem" title='new_mem' data-ref="6779new_mem" data-ref-filename="6779new_mem">new_mem</a>, <a class="local col5 ref" href="#444" title='s' data-ref="6775s" data-ref-filename="6775s">s</a>, <a class="local col8 ref" href="#6778length" title='length' data-ref="6778length" data-ref-filename="6778length">length</a> + <var>1</var>);</td></tr>
<tr><th id="456">456</th><td>  <b>return</b> <b>reinterpret_cast</b>&lt;<em>char</em>*&gt;(<a class="local col9 ref" href="#6779new_mem" title='new_mem' data-ref="6779new_mem" data-ref-filename="6779new_mem">new_mem</a>);</td></tr>
<tr><th id="457">457</th><td>}</td></tr>
<tr><th id="458">458</th><td><u>#<span data-ppcond="443">endif</span> // ASAN_INTERCEPT___STRDUP</u></td></tr>
<tr><th id="459">459</th><td></td></tr>
<tr><th id="460">460</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef char* (*strncpy_type)(char *to, const char *from, uptr size); namespace __interception { strncpy_type real_strncpy; } extern &quot;C&quot; char* strncpy(char *to, const char *from, uptr size) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;strncpy&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) char* __interceptor_strncpy(char *to, const char *from, uptr size)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>char</em>*, <dfn class="decl def fn" id="strncpy" title='strncpy' data-ref="strncpy" data-ref-filename="strncpy">strncpy</dfn>, <em>char</em> *<dfn class="local col1 decl" id="6781to" title='to' data-type='char *' data-ref="6781to" data-ref-filename="6781to"><dfn class="local col4 decl" id="6784to" title='to' data-type='char *' data-ref="6784to" data-ref-filename="6784to"><dfn class="local col7 decl" id="6787to" title='to' data-type='char *' data-ref="6787to" data-ref-filename="6787to">to</dfn></dfn></dfn>, <em>const</em> <em>char</em> *<dfn class="local col2 decl" id="6782from" title='from' data-type='const char *' data-ref="6782from" data-ref-filename="6782from"><dfn class="local col5 decl" id="6785from" title='from' data-type='const char *' data-ref="6785from" data-ref-filename="6785from"><dfn class="local col8 decl" id="6788from" title='from' data-type='const char *' data-ref="6788from" data-ref-filename="6788from">from</dfn></dfn></dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col3 decl" id="6783size" title='size' data-type='__sanitizer::uptr' data-ref="6783size" data-ref-filename="6783size"><dfn class="local col6 decl" id="6786size" title='size' data-type='__sanitizer::uptr' data-ref="6786size" data-ref-filename="6786size"><dfn class="local col9 decl" id="6789size" title='size' data-type='__sanitizer::uptr' data-ref="6789size" data-ref-filename="6789size">size</dfn></dfn></dfn>) {</td></tr>
<tr><th id="461">461</th><td>  <em>void</em> *<dfn class="local col0 decl" id="6790ctx" title='ctx' data-type='void *' data-ref="6790ctx" data-ref-filename="6790ctx">ctx</dfn>;</td></tr>
<tr><th id="462">462</th><td>  <a class="macro" href="#87" title="AsanInterceptorContext _ctx = {&quot;strncpy&quot;}; ctx = (void *)&amp;_ctx; (void) ctx;" data-ref="_M/ASAN_INTERCEPTOR_ENTER">ASAN_INTERCEPTOR_ENTER</a>(<a class="local col0 ref" href="#6790ctx" title='ctx' data-ref="6790ctx" data-ref-filename="6790ctx">ctx</a>, strncpy);</td></tr>
<tr><th id="463">463</th><td>  <a class="macro" href="asan_interceptors.h.html#27" title="do { do { __sanitizer::u64 v1 = (__sanitizer::u64)((!asan_init_is_running)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 463, &quot;(&quot; &quot;(!asan_init_is_running)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false); if (__builtin_expect(!!(!asan_inited), 0)) { AsanInitFromRtl(); } } while (0)" data-ref="_M/ENSURE_ASAN_INITED">ENSURE_ASAN_INITED</a>();</td></tr>
<tr><th id="464">464</th><td>  <b>if</b> (<a class="ref fn" href="asan_flags.h.html#__asan::flags" title='__asan::flags' data-ref="__asan::flags" data-ref-filename="__asan..flags">flags</a>()-&gt;<a class="ref field" href="asan_flags.inc.html#46" title='__asan::Flags::replace_str' data-ref="__asan::Flags::replace_str" data-ref-filename="__asan..Flags..replace_str">replace_str</a>) {</td></tr>
<tr><th id="465">465</th><td>    <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col2 decl" id="6792from_size" title='from_size' data-type='__sanitizer::uptr' data-ref="6792from_size" data-ref-filename="6792from_size">from_size</dfn> = <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::Min" title='__sanitizer::Min' data-ref="__sanitizer::Min" data-ref-filename="__sanitizer..Min">Min</a>(<a class="local col9 ref" href="#460" title='size' data-ref="6789size" data-ref-filename="6789size">size</a>, <a class="tu ref fn" href="#__asan::MaybeRealStrnlen" title='__asan::MaybeRealStrnlen' data-use='c' data-ref="__asan::MaybeRealStrnlen" data-ref-filename="__asan..MaybeRealStrnlen">MaybeRealStrnlen</a>(<a class="local col8 ref" href="#460" title='from' data-ref="6788from" data-ref-filename="6788from">from</a>, <a class="local col9 ref" href="#460" title='size' data-ref="6789size" data-ref-filename="6789size">size</a>) + <var>1</var>);</td></tr>
<tr><th id="466">466</th><td>    <a class="macro" href="asan_interceptors_memintrinsics.h.html#135" title="do { const char *offset1 = (const char *)to; const char *offset2 = (const char *)from; if (RangesOverlap(offset1, from_size, offset2, from_size)) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; bool suppressed = IsInterceptorSuppressed(&quot;strncpy&quot;); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { suppressed = IsStackTraceSuppressed(&amp;stack); } if (!suppressed) { ReportStringFunctionMemoryRangesOverlap(&quot;strncpy&quot;, offset1, from_size, offset2, from_size, &amp;stack); } } } while (0)" data-ref="_M/CHECK_RANGES_OVERLAP">CHECK_RANGES_OVERLAP</a>(<q>"strncpy"</q>, <a class="local col7 ref" href="#460" title='to' data-ref="6787to" data-ref-filename="6787to">to</a>, <a class="local col2 ref" href="#6792from_size" title='from_size' data-ref="6792from_size" data-ref-filename="6792from_size">from_size</a>, <a class="local col8 ref" href="#460" title='from' data-ref="6788from" data-ref-filename="6788from">from</a>, <a class="local col2 ref" href="#6792from_size" title='from_size' data-ref="6792from_size" data-ref-filename="6792from_size">from_size</a>);</td></tr>
<tr><th id="467">467</th><td>    <a class="macro" href="asan_interceptors_memintrinsics.h.html#123" title="do { uptr __offset = (uptr)(from); uptr __size = (uptr)(from_size); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)ctx; bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, false, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_READ_RANGE">ASAN_READ_RANGE</a>(<a class="local col0 ref" href="#6790ctx" title='ctx' data-ref="6790ctx" data-ref-filename="6790ctx">ctx</a>, <a class="local col8 ref" href="#460" title='from' data-ref="6788from" data-ref-filename="6788from">from</a>, <a class="local col2 ref" href="#6792from_size" title='from_size' data-ref="6792from_size" data-ref-filename="6792from_size">from_size</a>);</td></tr>
<tr><th id="468">468</th><td>    <a class="macro" href="asan_interceptors_memintrinsics.h.html#125" title="do { uptr __offset = (uptr)(to); uptr __size = (uptr)(size); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)ctx; bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, true, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_WRITE_RANGE">ASAN_WRITE_RANGE</a>(<a class="local col0 ref" href="#6790ctx" title='ctx' data-ref="6790ctx" data-ref-filename="6790ctx">ctx</a>, <a class="local col7 ref" href="#460" title='to' data-ref="6787to" data-ref-filename="6787to">to</a>, <a class="local col9 ref" href="#460" title='size' data-ref="6789size" data-ref-filename="6789size">size</a>);</td></tr>
<tr><th id="469">469</th><td>  }</td></tr>
<tr><th id="470">470</th><td>  <b>return</b> <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strncpy" data-ref="_M/REAL">REAL</a>(strncpy)(<a class="local col7 ref" href="#460" title='to' data-ref="6787to" data-ref-filename="6787to">to</a>, <a class="local col8 ref" href="#460" title='from' data-ref="6788from" data-ref-filename="6788from">from</a>, <a class="local col9 ref" href="#460" title='size' data-ref="6789size" data-ref-filename="6789size">size</a>);</td></tr>
<tr><th id="471">471</th><td>}</td></tr>
<tr><th id="472">472</th><td></td></tr>
<tr><th id="473">473</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef long (*strtol_type)(const char *nptr, char **endptr, int base); namespace __interception { strtol_type real_strtol; } extern &quot;C&quot; long strtol(const char *nptr, char **endptr, int base) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;strtol&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) long __interceptor_strtol(const char *nptr, char **endptr, int base)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>long</em>, <dfn class="decl def fn" id="strtol" title='strtol' data-ref="strtol" data-ref-filename="strtol">strtol</dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="6793nptr" title='nptr' data-type='const char *' data-ref="6793nptr" data-ref-filename="6793nptr"><dfn class="local col6 decl" id="6796nptr" title='nptr' data-type='const char *' data-ref="6796nptr" data-ref-filename="6796nptr"><dfn class="local col9 decl" id="6799nptr" title='nptr' data-type='const char *' data-ref="6799nptr" data-ref-filename="6799nptr">nptr</dfn></dfn></dfn>, <em>char</em> **<dfn class="local col4 decl" id="6794endptr" title='endptr' data-type='char **' data-ref="6794endptr" data-ref-filename="6794endptr"><dfn class="local col7 decl" id="6797endptr" title='endptr' data-type='char **' data-ref="6797endptr" data-ref-filename="6797endptr"><dfn class="local col0 decl" id="6800endptr" title='endptr' data-type='char **' data-ref="6800endptr" data-ref-filename="6800endptr">endptr</dfn></dfn></dfn>, <em>int</em> <dfn class="local col5 decl" id="6795base" title='base' data-type='int' data-ref="6795base" data-ref-filename="6795base"><dfn class="local col8 decl" id="6798base" title='base' data-type='int' data-ref="6798base" data-ref-filename="6798base"><dfn class="local col1 decl" id="6801base" title='base' data-type='int' data-ref="6801base" data-ref-filename="6801base">base</dfn></dfn></dfn>) {</td></tr>
<tr><th id="474">474</th><td>  <em>void</em> *<dfn class="local col2 decl" id="6802ctx" title='ctx' data-type='void *' data-ref="6802ctx" data-ref-filename="6802ctx">ctx</dfn>;</td></tr>
<tr><th id="475">475</th><td>  <a class="macro" href="#87" title="AsanInterceptorContext _ctx = {&quot;strtol&quot;}; ctx = (void *)&amp;_ctx; (void) ctx;" data-ref="_M/ASAN_INTERCEPTOR_ENTER">ASAN_INTERCEPTOR_ENTER</a>(<a class="local col2 ref" href="#6802ctx" title='ctx' data-ref="6802ctx" data-ref-filename="6802ctx">ctx</a>, strtol);</td></tr>
<tr><th id="476">476</th><td>  <a class="macro" href="asan_interceptors.h.html#27" title="do { do { __sanitizer::u64 v1 = (__sanitizer::u64)((!asan_init_is_running)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 476, &quot;(&quot; &quot;(!asan_init_is_running)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false); if (__builtin_expect(!!(!asan_inited), 0)) { AsanInitFromRtl(); } } while (0)" data-ref="_M/ENSURE_ASAN_INITED">ENSURE_ASAN_INITED</a>();</td></tr>
<tr><th id="477">477</th><td>  <b>if</b> (!<a class="ref fn" href="asan_flags.h.html#__asan::flags" title='__asan::flags' data-ref="__asan::flags" data-ref-filename="__asan..flags">flags</a>()-&gt;<a class="ref field" href="asan_flags.inc.html#46" title='__asan::Flags::replace_str' data-ref="__asan::Flags::replace_str" data-ref-filename="__asan..Flags..replace_str">replace_str</a>) {</td></tr>
<tr><th id="478">478</th><td>    <b>return</b> <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strtol" data-ref="_M/REAL">REAL</a>(strtol)(<a class="local col9 ref" href="#473" title='nptr' data-ref="6799nptr" data-ref-filename="6799nptr">nptr</a>, <a class="local col0 ref" href="#473" title='endptr' data-ref="6800endptr" data-ref-filename="6800endptr">endptr</a>, <a class="local col1 ref" href="#473" title='base' data-ref="6801base" data-ref-filename="6801base">base</a>);</td></tr>
<tr><th id="479">479</th><td>  }</td></tr>
<tr><th id="480">480</th><td>  <em>char</em> *<dfn class="local col4 decl" id="6804real_endptr" title='real_endptr' data-type='char *' data-ref="6804real_endptr" data-ref-filename="6804real_endptr">real_endptr</dfn>;</td></tr>
<tr><th id="481">481</th><td>  <em>long</em> <dfn class="local col5 decl" id="6805result" title='result' data-type='long' data-ref="6805result" data-ref-filename="6805result">result</dfn> = <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strtol" data-ref="_M/REAL">REAL</a>(strtol)(<a class="local col9 ref" href="#473" title='nptr' data-ref="6799nptr" data-ref-filename="6799nptr">nptr</a>, &amp;<a class="local col4 ref" href="#6804real_endptr" title='real_endptr' data-ref="6804real_endptr" data-ref-filename="6804real_endptr">real_endptr</a>, <a class="local col1 ref" href="#473" title='base' data-ref="6801base" data-ref-filename="6801base">base</a>);</td></tr>
<tr><th id="482">482</th><td>  <a class="ref fn" href="../sanitizer_common/sanitizer_common_interceptors.inc.html#_ZL17StrtolFixAndCheckPvPKcPPcS2_i" title='StrtolFixAndCheck' data-ref="_ZL17StrtolFixAndCheckPvPKcPPcS2_i" data-ref-filename="_ZL17StrtolFixAndCheckPvPKcPPcS2_i">StrtolFixAndCheck</a>(<a class="local col2 ref" href="#6802ctx" title='ctx' data-ref="6802ctx" data-ref-filename="6802ctx">ctx</a>, <a class="local col9 ref" href="#473" title='nptr' data-ref="6799nptr" data-ref-filename="6799nptr">nptr</a>, <a class="local col0 ref" href="#473" title='endptr' data-ref="6800endptr" data-ref-filename="6800endptr">endptr</a>, <a class="local col4 ref" href="#6804real_endptr" title='real_endptr' data-ref="6804real_endptr" data-ref-filename="6804real_endptr">real_endptr</a>, <a class="local col1 ref" href="#473" title='base' data-ref="6801base" data-ref-filename="6801base">base</a>);</td></tr>
<tr><th id="483">483</th><td>  <b>return</b> <a class="local col5 ref" href="#6805result" title='result' data-ref="6805result" data-ref-filename="6805result">result</a>;</td></tr>
<tr><th id="484">484</th><td>}</td></tr>
<tr><th id="485">485</th><td></td></tr>
<tr><th id="486">486</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef int (*atoi_type)(const char *nptr); namespace __interception { atoi_type real_atoi; } extern &quot;C&quot; int atoi(const char *nptr) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;atoi&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) int __interceptor_atoi(const char *nptr)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>int</em>, <dfn class="decl def fn" id="atoi" title='atoi' data-ref="atoi" data-ref-filename="atoi">atoi</dfn>, <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="6806nptr" title='nptr' data-type='const char *' data-ref="6806nptr" data-ref-filename="6806nptr"><dfn class="local col7 decl" id="6807nptr" title='nptr' data-type='const char *' data-ref="6807nptr" data-ref-filename="6807nptr"><dfn class="local col8 decl" id="6808nptr" title='nptr' data-type='const char *' data-ref="6808nptr" data-ref-filename="6808nptr">nptr</dfn></dfn></dfn>) {</td></tr>
<tr><th id="487">487</th><td>  <em>void</em> *<dfn class="local col9 decl" id="6809ctx" title='ctx' data-type='void *' data-ref="6809ctx" data-ref-filename="6809ctx">ctx</dfn>;</td></tr>
<tr><th id="488">488</th><td>  <a class="macro" href="#87" title="AsanInterceptorContext _ctx = {&quot;atoi&quot;}; ctx = (void *)&amp;_ctx; (void) ctx;" data-ref="_M/ASAN_INTERCEPTOR_ENTER">ASAN_INTERCEPTOR_ENTER</a>(<a class="local col9 ref" href="#6809ctx" title='ctx' data-ref="6809ctx" data-ref-filename="6809ctx">ctx</a>, atoi);</td></tr>
<tr><th id="489">489</th><td><u>#<span data-ppcond="489">if</span> <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#73" title="0" data-ref="_M/SANITIZER_MAC">SANITIZER_MAC</a></u></td></tr>
<tr><th id="490">490</th><td>  <b>if</b> (UNLIKELY(!asan_inited)) <b>return</b> REAL(atoi)(nptr);</td></tr>
<tr><th id="491">491</th><td><u>#<span data-ppcond="489">endif</span></u></td></tr>
<tr><th id="492">492</th><td>  <a class="macro" href="asan_interceptors.h.html#27" title="do { do { __sanitizer::u64 v1 = (__sanitizer::u64)((!asan_init_is_running)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 492, &quot;(&quot; &quot;(!asan_init_is_running)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false); if (__builtin_expect(!!(!asan_inited), 0)) { AsanInitFromRtl(); } } while (0)" data-ref="_M/ENSURE_ASAN_INITED">ENSURE_ASAN_INITED</a>();</td></tr>
<tr><th id="493">493</th><td>  <b>if</b> (!<a class="ref fn" href="asan_flags.h.html#__asan::flags" title='__asan::flags' data-ref="__asan::flags" data-ref-filename="__asan..flags">flags</a>()-&gt;<a class="ref field" href="asan_flags.inc.html#46" title='__asan::Flags::replace_str' data-ref="__asan::Flags::replace_str" data-ref-filename="__asan..Flags..replace_str">replace_str</a>) {</td></tr>
<tr><th id="494">494</th><td>    <b>return</b> <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_atoi" data-ref="_M/REAL">REAL</a>(atoi)(<a class="local col8 ref" href="#486" title='nptr' data-ref="6808nptr" data-ref-filename="6808nptr">nptr</a>);</td></tr>
<tr><th id="495">495</th><td>  }</td></tr>
<tr><th id="496">496</th><td>  <em>char</em> *<dfn class="local col1 decl" id="6811real_endptr" title='real_endptr' data-type='char *' data-ref="6811real_endptr" data-ref-filename="6811real_endptr">real_endptr</dfn>;</td></tr>
<tr><th id="497">497</th><td>  <i>// "man atoi" tells that behavior of atoi(nptr) is the same as</i></td></tr>
<tr><th id="498">498</th><td><i>  // strtol(nptr, 0, 10), i.e. it sets errno to ERANGE if the</i></td></tr>
<tr><th id="499">499</th><td><i>  // parsed integer can't be stored in *long* type (even if it's</i></td></tr>
<tr><th id="500">500</th><td><i>  // different from int). So, we just imitate this behavior.</i></td></tr>
<tr><th id="501">501</th><td>  <em>int</em> <dfn class="local col2 decl" id="6812result" title='result' data-type='int' data-ref="6812result" data-ref-filename="6812result">result</dfn> = <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strtol" data-ref="_M/REAL">REAL</a>(strtol)(<a class="local col8 ref" href="#486" title='nptr' data-ref="6808nptr" data-ref-filename="6808nptr">nptr</a>, &amp;<a class="local col1 ref" href="#6811real_endptr" title='real_endptr' data-ref="6811real_endptr" data-ref-filename="6811real_endptr">real_endptr</a>, <var>10</var>);</td></tr>
<tr><th id="502">502</th><td>  <a class="ref fn" href="../sanitizer_common/sanitizer_common_interceptors.inc.html#_ZL19FixRealStrtolEndptrPKcPPc" title='FixRealStrtolEndptr' data-ref="_ZL19FixRealStrtolEndptrPKcPPc" data-ref-filename="_ZL19FixRealStrtolEndptrPKcPPc">FixRealStrtolEndptr</a>(<a class="local col8 ref" href="#486" title='nptr' data-ref="6808nptr" data-ref-filename="6808nptr">nptr</a>, &amp;<a class="local col1 ref" href="#6811real_endptr" title='real_endptr' data-ref="6811real_endptr" data-ref-filename="6811real_endptr">real_endptr</a>);</td></tr>
<tr><th id="503">503</th><td>  <a class="macro" href="#52" title="do { uptr __offset = (uptr)(((nptr))); uptr __size = (uptr)(common_flags()-&gt;strict_string_checks ? (__interception::real_strlen(nptr)) + 1 : (((real_endptr - nptr) + 1))); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)((ctx)); bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, false, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_READ_STRING">ASAN_READ_STRING</a>(<a class="local col9 ref" href="#6809ctx" title='ctx' data-ref="6809ctx" data-ref-filename="6809ctx">ctx</a>, <a class="local col8 ref" href="#486" title='nptr' data-ref="6808nptr" data-ref-filename="6808nptr">nptr</a>, (<a class="local col1 ref" href="#6811real_endptr" title='real_endptr' data-ref="6811real_endptr" data-ref-filename="6811real_endptr">real_endptr</a> - <a class="local col8 ref" href="#486" title='nptr' data-ref="6808nptr" data-ref-filename="6808nptr">nptr</a>) + <var>1</var>);</td></tr>
<tr><th id="504">504</th><td>  <b>return</b> <a class="local col2 ref" href="#6812result" title='result' data-ref="6812result" data-ref-filename="6812result">result</a>;</td></tr>
<tr><th id="505">505</th><td>}</td></tr>
<tr><th id="506">506</th><td></td></tr>
<tr><th id="507">507</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef long (*atol_type)(const char *nptr); namespace __interception { atol_type real_atol; } extern &quot;C&quot; long atol(const char *nptr) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;atol&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) long __interceptor_atol(const char *nptr)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>long</em>, <dfn class="decl def fn" id="atol" title='atol' data-ref="atol" data-ref-filename="atol">atol</dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="6813nptr" title='nptr' data-type='const char *' data-ref="6813nptr" data-ref-filename="6813nptr"><dfn class="local col4 decl" id="6814nptr" title='nptr' data-type='const char *' data-ref="6814nptr" data-ref-filename="6814nptr"><dfn class="local col5 decl" id="6815nptr" title='nptr' data-type='const char *' data-ref="6815nptr" data-ref-filename="6815nptr">nptr</dfn></dfn></dfn>) {</td></tr>
<tr><th id="508">508</th><td>  <em>void</em> *<dfn class="local col6 decl" id="6816ctx" title='ctx' data-type='void *' data-ref="6816ctx" data-ref-filename="6816ctx">ctx</dfn>;</td></tr>
<tr><th id="509">509</th><td>  <a class="macro" href="#87" title="AsanInterceptorContext _ctx = {&quot;atol&quot;}; ctx = (void *)&amp;_ctx; (void) ctx;" data-ref="_M/ASAN_INTERCEPTOR_ENTER">ASAN_INTERCEPTOR_ENTER</a>(<a class="local col6 ref" href="#6816ctx" title='ctx' data-ref="6816ctx" data-ref-filename="6816ctx">ctx</a>, atol);</td></tr>
<tr><th id="510">510</th><td><u>#<span data-ppcond="510">if</span> <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#73" title="0" data-ref="_M/SANITIZER_MAC">SANITIZER_MAC</a></u></td></tr>
<tr><th id="511">511</th><td>  <b>if</b> (UNLIKELY(!asan_inited)) <b>return</b> REAL(atol)(nptr);</td></tr>
<tr><th id="512">512</th><td><u>#<span data-ppcond="510">endif</span></u></td></tr>
<tr><th id="513">513</th><td>  <a class="macro" href="asan_interceptors.h.html#27" title="do { do { __sanitizer::u64 v1 = (__sanitizer::u64)((!asan_init_is_running)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 513, &quot;(&quot; &quot;(!asan_init_is_running)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false); if (__builtin_expect(!!(!asan_inited), 0)) { AsanInitFromRtl(); } } while (0)" data-ref="_M/ENSURE_ASAN_INITED">ENSURE_ASAN_INITED</a>();</td></tr>
<tr><th id="514">514</th><td>  <b>if</b> (!<a class="ref fn" href="asan_flags.h.html#__asan::flags" title='__asan::flags' data-ref="__asan::flags" data-ref-filename="__asan..flags">flags</a>()-&gt;<a class="ref field" href="asan_flags.inc.html#46" title='__asan::Flags::replace_str' data-ref="__asan::Flags::replace_str" data-ref-filename="__asan..Flags..replace_str">replace_str</a>) {</td></tr>
<tr><th id="515">515</th><td>    <b>return</b> <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_atol" data-ref="_M/REAL">REAL</a>(atol)(<a class="local col5 ref" href="#507" title='nptr' data-ref="6815nptr" data-ref-filename="6815nptr">nptr</a>);</td></tr>
<tr><th id="516">516</th><td>  }</td></tr>
<tr><th id="517">517</th><td>  <em>char</em> *<dfn class="local col8 decl" id="6818real_endptr" title='real_endptr' data-type='char *' data-ref="6818real_endptr" data-ref-filename="6818real_endptr">real_endptr</dfn>;</td></tr>
<tr><th id="518">518</th><td>  <em>long</em> <dfn class="local col9 decl" id="6819result" title='result' data-type='long' data-ref="6819result" data-ref-filename="6819result">result</dfn> = <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strtol" data-ref="_M/REAL">REAL</a>(strtol)(<a class="local col5 ref" href="#507" title='nptr' data-ref="6815nptr" data-ref-filename="6815nptr">nptr</a>, &amp;<a class="local col8 ref" href="#6818real_endptr" title='real_endptr' data-ref="6818real_endptr" data-ref-filename="6818real_endptr">real_endptr</a>, <var>10</var>);</td></tr>
<tr><th id="519">519</th><td>  <a class="ref fn" href="../sanitizer_common/sanitizer_common_interceptors.inc.html#_ZL19FixRealStrtolEndptrPKcPPc" title='FixRealStrtolEndptr' data-ref="_ZL19FixRealStrtolEndptrPKcPPc" data-ref-filename="_ZL19FixRealStrtolEndptrPKcPPc">FixRealStrtolEndptr</a>(<a class="local col5 ref" href="#507" title='nptr' data-ref="6815nptr" data-ref-filename="6815nptr">nptr</a>, &amp;<a class="local col8 ref" href="#6818real_endptr" title='real_endptr' data-ref="6818real_endptr" data-ref-filename="6818real_endptr">real_endptr</a>);</td></tr>
<tr><th id="520">520</th><td>  <a class="macro" href="#52" title="do { uptr __offset = (uptr)(((nptr))); uptr __size = (uptr)(common_flags()-&gt;strict_string_checks ? (__interception::real_strlen(nptr)) + 1 : (((real_endptr - nptr) + 1))); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)((ctx)); bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, false, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_READ_STRING">ASAN_READ_STRING</a>(<a class="local col6 ref" href="#6816ctx" title='ctx' data-ref="6816ctx" data-ref-filename="6816ctx">ctx</a>, <a class="local col5 ref" href="#507" title='nptr' data-ref="6815nptr" data-ref-filename="6815nptr">nptr</a>, (<a class="local col8 ref" href="#6818real_endptr" title='real_endptr' data-ref="6818real_endptr" data-ref-filename="6818real_endptr">real_endptr</a> - <a class="local col5 ref" href="#507" title='nptr' data-ref="6815nptr" data-ref-filename="6815nptr">nptr</a>) + <var>1</var>);</td></tr>
<tr><th id="521">521</th><td>  <b>return</b> <a class="local col9 ref" href="#6819result" title='result' data-ref="6819result" data-ref-filename="6819result">result</a>;</td></tr>
<tr><th id="522">522</th><td>}</td></tr>
<tr><th id="523">523</th><td></td></tr>
<tr><th id="524">524</th><td><u>#<span data-ppcond="524">if</span> <a class="macro" href="asan_interceptors.h.html#45" title="1" data-ref="_M/ASAN_INTERCEPT_ATOLL_AND_STRTOLL">ASAN_INTERCEPT_ATOLL_AND_STRTOLL</a></u></td></tr>
<tr><th id="525">525</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef long long (*strtoll_type)(const char *nptr, char **endptr, int base); namespace __interception { strtoll_type real_strtoll; } extern &quot;C&quot; long long strtoll(const char *nptr, char **endptr, int base) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;strtoll&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) long long __interceptor_strtoll(const char *nptr, char **endptr, int base)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>long</em> <em>long</em>, <dfn class="decl def fn" id="strtoll" title='strtoll' data-ref="strtoll" data-ref-filename="strtoll">strtoll</dfn>, <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="6820nptr" title='nptr' data-type='const char *' data-ref="6820nptr" data-ref-filename="6820nptr"><dfn class="local col3 decl" id="6823nptr" title='nptr' data-type='const char *' data-ref="6823nptr" data-ref-filename="6823nptr"><dfn class="local col6 decl" id="6826nptr" title='nptr' data-type='const char *' data-ref="6826nptr" data-ref-filename="6826nptr">nptr</dfn></dfn></dfn>, <em>char</em> **<dfn class="local col1 decl" id="6821endptr" title='endptr' data-type='char **' data-ref="6821endptr" data-ref-filename="6821endptr"><dfn class="local col4 decl" id="6824endptr" title='endptr' data-type='char **' data-ref="6824endptr" data-ref-filename="6824endptr"><dfn class="local col7 decl" id="6827endptr" title='endptr' data-type='char **' data-ref="6827endptr" data-ref-filename="6827endptr">endptr</dfn></dfn></dfn>, <em>int</em> <dfn class="local col2 decl" id="6822base" title='base' data-type='int' data-ref="6822base" data-ref-filename="6822base"><dfn class="local col5 decl" id="6825base" title='base' data-type='int' data-ref="6825base" data-ref-filename="6825base"><dfn class="local col8 decl" id="6828base" title='base' data-type='int' data-ref="6828base" data-ref-filename="6828base">base</dfn></dfn></dfn>) {</td></tr>
<tr><th id="526">526</th><td>  <em>void</em> *<dfn class="local col9 decl" id="6829ctx" title='ctx' data-type='void *' data-ref="6829ctx" data-ref-filename="6829ctx">ctx</dfn>;</td></tr>
<tr><th id="527">527</th><td>  <a class="macro" href="#87" title="AsanInterceptorContext _ctx = {&quot;strtoll&quot;}; ctx = (void *)&amp;_ctx; (void) ctx;" data-ref="_M/ASAN_INTERCEPTOR_ENTER">ASAN_INTERCEPTOR_ENTER</a>(<a class="local col9 ref" href="#6829ctx" title='ctx' data-ref="6829ctx" data-ref-filename="6829ctx">ctx</a>, strtoll);</td></tr>
<tr><th id="528">528</th><td>  <a class="macro" href="asan_interceptors.h.html#27" title="do { do { __sanitizer::u64 v1 = (__sanitizer::u64)((!asan_init_is_running)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 528, &quot;(&quot; &quot;(!asan_init_is_running)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false); if (__builtin_expect(!!(!asan_inited), 0)) { AsanInitFromRtl(); } } while (0)" data-ref="_M/ENSURE_ASAN_INITED">ENSURE_ASAN_INITED</a>();</td></tr>
<tr><th id="529">529</th><td>  <b>if</b> (!<a class="ref fn" href="asan_flags.h.html#__asan::flags" title='__asan::flags' data-ref="__asan::flags" data-ref-filename="__asan..flags">flags</a>()-&gt;<a class="ref field" href="asan_flags.inc.html#46" title='__asan::Flags::replace_str' data-ref="__asan::Flags::replace_str" data-ref-filename="__asan..Flags..replace_str">replace_str</a>) {</td></tr>
<tr><th id="530">530</th><td>    <b>return</b> <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strtoll" data-ref="_M/REAL">REAL</a>(strtoll)(<a class="local col6 ref" href="#525" title='nptr' data-ref="6826nptr" data-ref-filename="6826nptr">nptr</a>, <a class="local col7 ref" href="#525" title='endptr' data-ref="6827endptr" data-ref-filename="6827endptr">endptr</a>, <a class="local col8 ref" href="#525" title='base' data-ref="6828base" data-ref-filename="6828base">base</a>);</td></tr>
<tr><th id="531">531</th><td>  }</td></tr>
<tr><th id="532">532</th><td>  <em>char</em> *<dfn class="local col1 decl" id="6831real_endptr" title='real_endptr' data-type='char *' data-ref="6831real_endptr" data-ref-filename="6831real_endptr">real_endptr</dfn>;</td></tr>
<tr><th id="533">533</th><td>  <em>long</em> <em>long</em> <dfn class="local col2 decl" id="6832result" title='result' data-type='long long' data-ref="6832result" data-ref-filename="6832result">result</dfn> = <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strtoll" data-ref="_M/REAL">REAL</a>(strtoll)(<a class="local col6 ref" href="#525" title='nptr' data-ref="6826nptr" data-ref-filename="6826nptr">nptr</a>, &amp;<a class="local col1 ref" href="#6831real_endptr" title='real_endptr' data-ref="6831real_endptr" data-ref-filename="6831real_endptr">real_endptr</a>, <a class="local col8 ref" href="#525" title='base' data-ref="6828base" data-ref-filename="6828base">base</a>);</td></tr>
<tr><th id="534">534</th><td>  <a class="ref fn" href="../sanitizer_common/sanitizer_common_interceptors.inc.html#_ZL17StrtolFixAndCheckPvPKcPPcS2_i" title='StrtolFixAndCheck' data-ref="_ZL17StrtolFixAndCheckPvPKcPPcS2_i" data-ref-filename="_ZL17StrtolFixAndCheckPvPKcPPcS2_i">StrtolFixAndCheck</a>(<a class="local col9 ref" href="#6829ctx" title='ctx' data-ref="6829ctx" data-ref-filename="6829ctx">ctx</a>, <a class="local col6 ref" href="#525" title='nptr' data-ref="6826nptr" data-ref-filename="6826nptr">nptr</a>, <a class="local col7 ref" href="#525" title='endptr' data-ref="6827endptr" data-ref-filename="6827endptr">endptr</a>, <a class="local col1 ref" href="#6831real_endptr" title='real_endptr' data-ref="6831real_endptr" data-ref-filename="6831real_endptr">real_endptr</a>, <a class="local col8 ref" href="#525" title='base' data-ref="6828base" data-ref-filename="6828base">base</a>);</td></tr>
<tr><th id="535">535</th><td>  <b>return</b> <a class="local col2 ref" href="#6832result" title='result' data-ref="6832result" data-ref-filename="6832result">result</a>;</td></tr>
<tr><th id="536">536</th><td>}</td></tr>
<tr><th id="537">537</th><td></td></tr>
<tr><th id="538">538</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef long long (*atoll_type)(const char *nptr); namespace __interception { atoll_type real_atoll; } extern &quot;C&quot; long long atoll(const char *nptr) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;atoll&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) long long __interceptor_atoll(const char *nptr)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>long</em> <em>long</em>, <dfn class="decl def fn" id="atoll" title='atoll' data-ref="atoll" data-ref-filename="atoll">atoll</dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="6833nptr" title='nptr' data-type='const char *' data-ref="6833nptr" data-ref-filename="6833nptr"><dfn class="local col4 decl" id="6834nptr" title='nptr' data-type='const char *' data-ref="6834nptr" data-ref-filename="6834nptr"><dfn class="local col5 decl" id="6835nptr" title='nptr' data-type='const char *' data-ref="6835nptr" data-ref-filename="6835nptr">nptr</dfn></dfn></dfn>) {</td></tr>
<tr><th id="539">539</th><td>  <em>void</em> *<dfn class="local col6 decl" id="6836ctx" title='ctx' data-type='void *' data-ref="6836ctx" data-ref-filename="6836ctx">ctx</dfn>;</td></tr>
<tr><th id="540">540</th><td>  <a class="macro" href="#87" title="AsanInterceptorContext _ctx = {&quot;atoll&quot;}; ctx = (void *)&amp;_ctx; (void) ctx;" data-ref="_M/ASAN_INTERCEPTOR_ENTER">ASAN_INTERCEPTOR_ENTER</a>(<a class="local col6 ref" href="#6836ctx" title='ctx' data-ref="6836ctx" data-ref-filename="6836ctx">ctx</a>, atoll);</td></tr>
<tr><th id="541">541</th><td>  <a class="macro" href="asan_interceptors.h.html#27" title="do { do { __sanitizer::u64 v1 = (__sanitizer::u64)((!asan_init_is_running)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 541, &quot;(&quot; &quot;(!asan_init_is_running)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false); if (__builtin_expect(!!(!asan_inited), 0)) { AsanInitFromRtl(); } } while (0)" data-ref="_M/ENSURE_ASAN_INITED">ENSURE_ASAN_INITED</a>();</td></tr>
<tr><th id="542">542</th><td>  <b>if</b> (!<a class="ref fn" href="asan_flags.h.html#__asan::flags" title='__asan::flags' data-ref="__asan::flags" data-ref-filename="__asan..flags">flags</a>()-&gt;<a class="ref field" href="asan_flags.inc.html#46" title='__asan::Flags::replace_str' data-ref="__asan::Flags::replace_str" data-ref-filename="__asan..Flags..replace_str">replace_str</a>) {</td></tr>
<tr><th id="543">543</th><td>    <b>return</b> <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_atoll" data-ref="_M/REAL">REAL</a>(atoll)(<a class="local col5 ref" href="#538" title='nptr' data-ref="6835nptr" data-ref-filename="6835nptr">nptr</a>);</td></tr>
<tr><th id="544">544</th><td>  }</td></tr>
<tr><th id="545">545</th><td>  <em>char</em> *<dfn class="local col8 decl" id="6838real_endptr" title='real_endptr' data-type='char *' data-ref="6838real_endptr" data-ref-filename="6838real_endptr">real_endptr</dfn>;</td></tr>
<tr><th id="546">546</th><td>  <em>long</em> <em>long</em> <dfn class="local col9 decl" id="6839result" title='result' data-type='long long' data-ref="6839result" data-ref-filename="6839result">result</dfn> = <a class="macro" href="../interception/interception.h.html#171" title="__interception::real_strtoll" data-ref="_M/REAL">REAL</a>(strtoll)(<a class="local col5 ref" href="#538" title='nptr' data-ref="6835nptr" data-ref-filename="6835nptr">nptr</a>, &amp;<a class="local col8 ref" href="#6838real_endptr" title='real_endptr' data-ref="6838real_endptr" data-ref-filename="6838real_endptr">real_endptr</a>, <var>10</var>);</td></tr>
<tr><th id="547">547</th><td>  <a class="ref fn" href="../sanitizer_common/sanitizer_common_interceptors.inc.html#_ZL19FixRealStrtolEndptrPKcPPc" title='FixRealStrtolEndptr' data-ref="_ZL19FixRealStrtolEndptrPKcPPc" data-ref-filename="_ZL19FixRealStrtolEndptrPKcPPc">FixRealStrtolEndptr</a>(<a class="local col5 ref" href="#538" title='nptr' data-ref="6835nptr" data-ref-filename="6835nptr">nptr</a>, &amp;<a class="local col8 ref" href="#6838real_endptr" title='real_endptr' data-ref="6838real_endptr" data-ref-filename="6838real_endptr">real_endptr</a>);</td></tr>
<tr><th id="548">548</th><td>  <a class="macro" href="#52" title="do { uptr __offset = (uptr)(((nptr))); uptr __size = (uptr)(common_flags()-&gt;strict_string_checks ? (__interception::real_strlen(nptr)) + 1 : (((real_endptr - nptr) + 1))); uptr __bad = 0; if (__offset &gt; __offset + __size) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; ReportStringFunctionSizeOverflow(__offset, __size, &amp;stack); } if (!QuickCheckForUnpoisonedRegion(__offset, __size) &amp;&amp; (__bad = __asan_region_is_poisoned(__offset, __size))) { AsanInterceptorContext *_ctx = (AsanInterceptorContext *)((ctx)); bool suppressed = false; if (_ctx) { suppressed = IsInterceptorSuppressed(_ctx-&gt;interceptor_name); if (!suppressed &amp;&amp; HaveStackTraceBasedSuppressions()) { BufferedStackTrace stack; if (kStackTraceMax &lt;= 2) { stack.size = kStackTraceMax; if (kStackTraceMax &gt; 0) { stack.top_frame_bp = (__sanitizer::uptr) __builtin_frame_address(0); stack.trace_buffer[0] = StackTrace::GetCurrentPc(); if (kStackTraceMax &gt; 1) stack.trace_buffer[1] = (__sanitizer::uptr) __builtin_return_address(0); } } else { stack.Unwind(StackTrace::GetCurrentPc(), (__sanitizer::uptr) __builtin_frame_address(0), nullptr, common_flags()-&gt;fast_unwind_on_fatal, kStackTraceMax); }; suppressed = IsStackTraceSuppressed(&amp;stack); } } if (!suppressed) { uptr bp = (__sanitizer::uptr) __builtin_frame_address(0); uptr pc = StackTrace::GetCurrentPc(); uptr local_stack; uptr sp = (uptr)&amp;local_stack; ReportGenericError(pc, bp, sp, __bad, false, __size, 0, false); } } } while (0)" data-ref="_M/ASAN_READ_STRING">ASAN_READ_STRING</a>(<a class="local col6 ref" href="#6836ctx" title='ctx' data-ref="6836ctx" data-ref-filename="6836ctx">ctx</a>, <a class="local col5 ref" href="#538" title='nptr' data-ref="6835nptr" data-ref-filename="6835nptr">nptr</a>, (<a class="local col8 ref" href="#6838real_endptr" title='real_endptr' data-ref="6838real_endptr" data-ref-filename="6838real_endptr">real_endptr</a> - <a class="local col5 ref" href="#538" title='nptr' data-ref="6835nptr" data-ref-filename="6835nptr">nptr</a>) + <var>1</var>);</td></tr>
<tr><th id="549">549</th><td>  <b>return</b> <a class="local col9 ref" href="#6839result" title='result' data-ref="6839result" data-ref-filename="6839result">result</a>;</td></tr>
<tr><th id="550">550</th><td>}</td></tr>
<tr><th id="551">551</th><td><u>#<span data-ppcond="524">endif</span>  // ASAN_INTERCEPT_ATOLL_AND_STRTOLL</u></td></tr>
<tr><th id="552">552</th><td></td></tr>
<tr><th id="553">553</th><td><u>#<span data-ppcond="553">if</span> <a class="macro" href="asan_interceptors.h.html#98" title="1" data-ref="_M/ASAN_INTERCEPT___CXA_ATEXIT">ASAN_INTERCEPT___CXA_ATEXIT</a> || <a class="macro" href="asan_interceptors.h.html#106" title="0" data-ref="_M/ASAN_INTERCEPT_ATEXIT">ASAN_INTERCEPT_ATEXIT</a></u></td></tr>
<tr><th id="554">554</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="_ZL11AtCxaAtexitPv" title='AtCxaAtexit' data-type='void AtCxaAtexit(void * unused)' data-ref="_ZL11AtCxaAtexitPv" data-ref-filename="_ZL11AtCxaAtexitPv">AtCxaAtexit</dfn>(<em>void</em> *<dfn class="local col0 decl" id="6840unused" title='unused' data-type='void *' data-ref="6840unused" data-ref-filename="6840unused">unused</dfn>) {</td></tr>
<tr><th id="555">555</th><td>  (<em>void</em>)<a class="local col0 ref" href="#6840unused" title='unused' data-ref="6840unused" data-ref-filename="6840unused">unused</a>;</td></tr>
<tr><th id="556">556</th><td>  <a class="ref fn" href="asan_internal.h.html#__asan::StopInitOrderChecking" title='__asan::StopInitOrderChecking' data-ref="__asan::StopInitOrderChecking" data-ref-filename="__asan..StopInitOrderChecking">StopInitOrderChecking</a>();</td></tr>
<tr><th id="557">557</th><td>}</td></tr>
<tr><th id="558">558</th><td><u>#<span data-ppcond="553">endif</span></u></td></tr>
<tr><th id="559">559</th><td></td></tr>
<tr><th id="560">560</th><td><u>#<span data-ppcond="560">if</span> <a class="macro" href="asan_interceptors.h.html#98" title="1" data-ref="_M/ASAN_INTERCEPT___CXA_ATEXIT">ASAN_INTERCEPT___CXA_ATEXIT</a></u></td></tr>
<tr><th id="561">561</th><td><a class="macro" href="../interception/interception.h.html#227" title="typedef int (*__cxa_atexit_type)(void (*func)(void *), void *arg, void *dso_handle); namespace __interception { __cxa_atexit_type real___cxa_atexit; } extern &quot;C&quot; int __cxa_atexit(void (*func)(void *), void *arg, void *dso_handle) __attribute__((weak, alias(&quot;__interceptor_&quot; &quot;__cxa_atexit&quot;), visibility(&quot;default&quot;))); extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) int __interceptor___cxa_atexit(void (*func)(void *), void *arg, void *dso_handle)" data-ref="_M/INTERCEPTOR">INTERCEPTOR</a>(<em>int</em>, <dfn class="decl def fn" id="__cxa_atexit" title='__cxa_atexit' data-ref="__cxa_atexit" data-ref-filename="__cxa_atexit">__cxa_atexit</dfn>, <em>void</em> (*<dfn class="local col1 decl" id="6841func" title='func' data-type='void (*)(void *)' data-ref="6841func" data-ref-filename="6841func"><dfn class="local col4 decl" id="6844func" title='func' data-type='void (*)(void *)' data-ref="6844func" data-ref-filename="6844func"><dfn class="local col7 decl" id="6847func" title='func' data-type='void (*)(void *)' data-ref="6847func" data-ref-filename="6847func">func</dfn></dfn></dfn>)(<em>void</em> *), <em>void</em> *<dfn class="local col2 decl" id="6842arg" title='arg' data-type='void *' data-ref="6842arg" data-ref-filename="6842arg"><dfn class="local col5 decl" id="6845arg" title='arg' data-type='void *' data-ref="6845arg" data-ref-filename="6845arg"><dfn class="local col8 decl" id="6848arg" title='arg' data-type='void *' data-ref="6848arg" data-ref-filename="6848arg">arg</dfn></dfn></dfn>,</td></tr>
<tr><th id="562">562</th><td>            <em>void</em> *<dfn class="local col3 decl" id="6843dso_handle" title='dso_handle' data-type='void *' data-ref="6843dso_handle" data-ref-filename="6843dso_handle"><dfn class="local col6 decl" id="6846dso_handle" title='dso_handle' data-type='void *' data-ref="6846dso_handle" data-ref-filename="6846dso_handle"><dfn class="local col9 decl" id="6849dso_handle" title='dso_handle' data-type='void *' data-ref="6849dso_handle" data-ref-filename="6849dso_handle">dso_handle</dfn></dfn></dfn>) {</td></tr>
<tr><th id="563">563</th><td><u>#<span data-ppcond="563">if</span> <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#73" title="0" data-ref="_M/SANITIZER_MAC">SANITIZER_MAC</a></u></td></tr>
<tr><th id="564">564</th><td>  <b>if</b> (UNLIKELY(!asan_inited)) <b>return</b> REAL(__cxa_atexit)(func, arg, dso_handle);</td></tr>
<tr><th id="565">565</th><td><u>#<span data-ppcond="563">endif</span></u></td></tr>
<tr><th id="566">566</th><td>  <a class="macro" href="asan_interceptors.h.html#27" title="do { do { __sanitizer::u64 v1 = (__sanitizer::u64)((!asan_init_is_running)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 566, &quot;(&quot; &quot;(!asan_init_is_running)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false); if (__builtin_expect(!!(!asan_inited), 0)) { AsanInitFromRtl(); } } while (0)" data-ref="_M/ENSURE_ASAN_INITED">ENSURE_ASAN_INITED</a>();</td></tr>
<tr><th id="567">567</th><td><u>#<span data-ppcond="567">if</span> <a class="macro" href="../lsan/lsan_common.h.html#39" title="1" data-ref="_M/CAN_SANITIZE_LEAKS">CAN_SANITIZE_LEAKS</a></u></td></tr>
<tr><th id="568">568</th><td>  <span class="namespace">__lsan::</span><a class="type" href="../lsan/lsan_common.h.html#__lsan::ScopedInterceptorDisabler" title='__lsan::ScopedInterceptorDisabler' data-ref="__lsan::ScopedInterceptorDisabler" data-ref-filename="__lsan..ScopedInterceptorDisabler">ScopedInterceptorDisabler</a> <a class="ref fn fake" href="../lsan/lsan_common.h.html#__lsan::ScopedInterceptorDisabler::ScopedInterceptorDisabler" title='__lsan::ScopedInterceptorDisabler::ScopedInterceptorDisabler' data-ref="__lsan::ScopedInterceptorDisabler::ScopedInterceptorDisabler" data-ref-filename="__lsan..ScopedInterceptorDisabler..ScopedInterceptorDisabler"></a><dfn class="local col0 decl" id="6850disabler" title='disabler' data-type='__lsan::ScopedInterceptorDisabler' data-ref="6850disabler" data-ref-filename="6850disabler">disabler</dfn>;</td></tr>
<tr><th id="569">569</th><td><u>#<span data-ppcond="567">endif</span></u></td></tr>
<tr><th id="570">570</th><td>  <em>int</em> <dfn class="local col1 decl" id="6851res" title='res' data-type='int' data-ref="6851res" data-ref-filename="6851res">res</dfn> = <a class="macro" href="../interception/interception.h.html#171" title="__interception::real___cxa_atexit" data-ref="_M/REAL">REAL</a>(__cxa_atexit)(<a class="local col7 ref" href="#561" title='func' data-ref="6847func" data-ref-filename="6847func">func</a>, <a class="local col8 ref" href="#561" title='arg' data-ref="6848arg" data-ref-filename="6848arg">arg</a>, <a class="local col9 ref" href="#561" title='dso_handle' data-ref="6849dso_handle" data-ref-filename="6849dso_handle">dso_handle</a>);</td></tr>
<tr><th id="571">571</th><td>  <a class="macro" href="../interception/interception.h.html#171" title="__interception::real___cxa_atexit" data-ref="_M/REAL">REAL</a>(__cxa_atexit)(<a class="tu ref fn" href="#_ZL11AtCxaAtexitPv" title='AtCxaAtexit' data-ref="_ZL11AtCxaAtexitPv" data-ref-filename="_ZL11AtCxaAtexitPv">AtCxaAtexit</a>, <b>nullptr</b>, <b>nullptr</b>);</td></tr>
<tr><th id="572">572</th><td>  <b>return</b> <a class="local col1 ref" href="#6851res" title='res' data-ref="6851res" data-ref-filename="6851res">res</a>;</td></tr>
<tr><th id="573">573</th><td>}</td></tr>
<tr><th id="574">574</th><td><u>#<span data-ppcond="560">endif</span>  // ASAN_INTERCEPT___CXA_ATEXIT</u></td></tr>
<tr><th id="575">575</th><td></td></tr>
<tr><th id="576">576</th><td><u>#<span data-ppcond="576">if</span> <a class="macro" href="asan_interceptors.h.html#106" title="0" data-ref="_M/ASAN_INTERCEPT_ATEXIT">ASAN_INTERCEPT_ATEXIT</a></u></td></tr>
<tr><th id="577">577</th><td>INTERCEPTOR(<em>int</em>, atexit, <em>void</em> (*func)()) {</td></tr>
<tr><th id="578">578</th><td>  ENSURE_ASAN_INITED();</td></tr>
<tr><th id="579">579</th><td><u>#if CAN_SANITIZE_LEAKS</u></td></tr>
<tr><th id="580">580</th><td>  __lsan::ScopedInterceptorDisabler disabler;</td></tr>
<tr><th id="581">581</th><td><u>#endif</u></td></tr>
<tr><th id="582">582</th><td>  <i>// Avoid calling real atexit as it is unrechable on at least on Linux.</i></td></tr>
<tr><th id="583">583</th><td>  <em>int</em> res = REAL(__cxa_atexit)((<em>void</em> (*)(<em>void</em> *a))func, <b>nullptr</b>, <b>nullptr</b>);</td></tr>
<tr><th id="584">584</th><td>  REAL(__cxa_atexit)(AtCxaAtexit, <b>nullptr</b>, <b>nullptr</b>);</td></tr>
<tr><th id="585">585</th><td>  <b>return</b> res;</td></tr>
<tr><th id="586">586</th><td>}</td></tr>
<tr><th id="587">587</th><td><u>#<span data-ppcond="576">endif</span></u></td></tr>
<tr><th id="588">588</th><td></td></tr>
<tr><th id="589">589</th><td><u>#<span data-ppcond="589">if</span> <a class="macro" href="asan_interceptors.h.html#126" title="0" data-ref="_M/ASAN_INTERCEPT_PTHREAD_ATFORK">ASAN_INTERCEPT_PTHREAD_ATFORK</a></u></td></tr>
<tr><th id="590">590</th><td><b>extern</b> <q>"C"</q> {</td></tr>
<tr><th id="591">591</th><td><b>extern</b> <em>int</em> _pthread_atfork(<em>void</em> (*prepare)(), <em>void</em> (*parent)(),</td></tr>
<tr><th id="592">592</th><td>                           <em>void</em> (*child)());</td></tr>
<tr><th id="593">593</th><td>};</td></tr>
<tr><th id="594">594</th><td></td></tr>
<tr><th id="595">595</th><td>INTERCEPTOR(<em>int</em>, pthread_atfork, <em>void</em> (*prepare)(), <em>void</em> (*parent)(),</td></tr>
<tr><th id="596">596</th><td>            <em>void</em> (*child)()) {</td></tr>
<tr><th id="597">597</th><td><u>#if CAN_SANITIZE_LEAKS</u></td></tr>
<tr><th id="598">598</th><td>  __lsan::ScopedInterceptorDisabler disabler;</td></tr>
<tr><th id="599">599</th><td><u>#endif</u></td></tr>
<tr><th id="600">600</th><td>  <i>// REAL(pthread_atfork) cannot be called due to symbol indirections at least</i></td></tr>
<tr><th id="601">601</th><td><i>  // on NetBSD</i></td></tr>
<tr><th id="602">602</th><td>  <b>return</b> _pthread_atfork(prepare, parent, child);</td></tr>
<tr><th id="603">603</th><td>}</td></tr>
<tr><th id="604">604</th><td><u>#<span data-ppcond="589">endif</span></u></td></tr>
<tr><th id="605">605</th><td></td></tr>
<tr><th id="606">606</th><td><u>#<span data-ppcond="606">if</span> <a class="macro" href="asan_interceptors.h.html#118" title="1" data-ref="_M/ASAN_INTERCEPT_VFORK">ASAN_INTERCEPT_VFORK</a></u></td></tr>
<tr><th id="607">607</th><td><a class="macro" href="../interception/interception.h.html#206" title="typedef int (*vfork_type)(); namespace __interception { vfork_type real_vfork; }" data-ref="_M/DEFINE_REAL">DEFINE_REAL</a>(<em>int</em>, vfork<span class='warning' title="must specify at least one argument for &apos;...&apos; parameter of variadic macro">)</span></td></tr>
<tr><th id="608">608</th><td><a class="macro" href="../interception/interception.h.html#193" title="extern &quot;C&quot; int __interceptor_vfork(); extern &quot;C&quot; int vfork();" data-ref="_M/DECLARE_EXTERN_INTERCEPTOR_AND_WRAPPER">DECLARE_EXTERN_INTERCEPTOR_AND_WRAPPER</a>(<em>int</em>, <dfn class="decl fn" id="vfork" title='vfork' data-ref="vfork" data-ref-filename="vfork">vfork</dfn><span class='warning' title="must specify at least one argument for &apos;...&apos; parameter of variadic macro">)</span></td></tr>
<tr><th id="609">609</th><td><u>#<span data-ppcond="606">endif</span></u></td></tr>
<tr><th id="610">610</th><td></td></tr>
<tr><th id="611">611</th><td><i>// ---------------------- InitializeAsanInterceptors ---------------- {{{1</i></td></tr>
<tr><th id="612">612</th><td><b>namespace</b> <span class="namespace">__asan</span> {</td></tr>
<tr><th id="613">613</th><td><em>void</em> <dfn class="decl def fn" id="__asan::InitializeAsanInterceptors" title='__asan::InitializeAsanInterceptors' data-ref="__asan::InitializeAsanInterceptors" data-ref-filename="__asan..InitializeAsanInterceptors">InitializeAsanInterceptors</dfn>() {</td></tr>
<tr><th id="614">614</th><td>  <em>static</em> <em>bool</em> <dfn class="local col2 decl" id="6852was_called_once" title='was_called_once' data-type='bool' data-ref="6852was_called_once" data-ref-filename="6852was_called_once">was_called_once</dfn>;</td></tr>
<tr><th id="615">615</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#299" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((!was_called_once)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/asan/asan_interceptors.cpp&quot;, 615, &quot;(&quot; &quot;(!was_called_once)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK">CHECK</a>(!<a class="local col2 ref" href="#6852was_called_once" title='was_called_once' data-ref="6852was_called_once" data-ref-filename="6852was_called_once">was_called_once</a>);</td></tr>
<tr><th id="616">616</th><td>  <a class="local col2 ref" href="#6852was_called_once" title='was_called_once' data-ref="6852was_called_once" data-ref-filename="6852was_called_once">was_called_once</a> = <b>true</b>;</td></tr>
<tr><th id="617">617</th><td>  <a class="ref fn" href="../sanitizer_common/sanitizer_common_interceptors.inc.html#_ZL28InitializeCommonInterceptorsv" title='InitializeCommonInterceptors' data-ref="_ZL28InitializeCommonInterceptorsv" data-ref-filename="_ZL28InitializeCommonInterceptorsv">InitializeCommonInterceptors</a>();</td></tr>
<tr><th id="618">618</th><td>  <a class="ref fn" href="../sanitizer_common/sanitizer_signal_interceptors.inc.html#_ZL28InitializeSignalInterceptorsv" title='InitializeSignalInterceptors' data-ref="_ZL28InitializeSignalInterceptorsv" data-ref-filename="_ZL28InitializeSignalInterceptorsv">InitializeSignalInterceptors</a>();</td></tr>
<tr><th id="619">619</th><td></td></tr>
<tr><th id="620">620</th><td>  <i>// Intercept str* functions.</i></td></tr>
<tr><th id="621">621</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;strcat&quot;, (::__interception::uptr *) &amp; __interception::real_strcat, (::__interception::uptr) &amp; (strcat), (::__interception::uptr) &amp; __interceptor_strcat)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;strcat&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#366" title='strcat' data-ref="strcat" data-ref-filename="strcat">strcat</a>);</td></tr>
<tr><th id="622">622</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;strcpy&quot;, (::__interception::uptr *) &amp; __interception::real_strcpy, (::__interception::uptr) &amp; (strcpy), (::__interception::uptr) &amp; __interceptor_strcpy)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;strcpy&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#406" title='strcpy' data-ref="strcpy" data-ref-filename="strcpy">strcpy</a>);</td></tr>
<tr><th id="623">623</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;strncat&quot;, (::__interception::uptr *) &amp; __interception::real_strncat, (::__interception::uptr) &amp; (strncat), (::__interception::uptr) &amp; __interceptor_strncat)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;strncat&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#387" title='strncat' data-ref="strncat" data-ref-filename="strncat">strncat</a>);</td></tr>
<tr><th id="624">624</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;strncpy&quot;, (::__interception::uptr *) &amp; __interception::real_strncpy, (::__interception::uptr) &amp; (strncpy), (::__interception::uptr) &amp; __interceptor_strncpy)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;strncpy&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#460" title='strncpy' data-ref="strncpy" data-ref-filename="strncpy">strncpy</a>);</td></tr>
<tr><th id="625">625</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;strdup&quot;, (::__interception::uptr *) &amp; __interception::real_strdup, (::__interception::uptr) &amp; (strdup), (::__interception::uptr) &amp; __interceptor_strdup)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;strdup&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#428" title='strdup' data-ref="strdup" data-ref-filename="strdup">strdup</a>);</td></tr>
<tr><th id="626">626</th><td><u>#<span data-ppcond="626">if</span> <a class="macro" href="asan_interceptors.h.html#110" title="1" data-ref="_M/ASAN_INTERCEPT___STRDUP">ASAN_INTERCEPT___STRDUP</a></u></td></tr>
<tr><th id="627">627</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;__strdup&quot;, (::__interception::uptr *) &amp; __interception::real___strdup, (::__interception::uptr) &amp; (__strdup), (::__interception::uptr) &amp; __interceptor___strdup)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;__strdup&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#444" title='__strdup' data-ref="__strdup" data-ref-filename="__strdup">__strdup</a>);</td></tr>
<tr><th id="628">628</th><td><u>#<span data-ppcond="626">endif</span></u></td></tr>
<tr><th id="629">629</th><td><u>#<span data-ppcond="629">if</span> <a class="macro" href="asan_interceptors.h.html#47" title="1" data-ref="_M/ASAN_INTERCEPT_INDEX">ASAN_INTERCEPT_INDEX</a> &amp;&amp; <a class="macro" href="asan_interceptors.h.html#58" title="1" data-ref="_M/ASAN_USE_ALIAS_ATTRIBUTE_FOR_INDEX">ASAN_USE_ALIAS_ATTRIBUTE_FOR_INDEX</a></u></td></tr>
<tr><th id="630">630</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;index&quot;, (::__interception::uptr *) &amp; __interception::real_index, (::__interception::uptr) &amp; (index), (::__interception::uptr) &amp; __interceptor_index)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;index&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#352" title='index' data-ref="index" data-ref-filename="index">index</a>);</td></tr>
<tr><th id="631">631</th><td><u>#<span data-ppcond="629">endif</span></u></td></tr>
<tr><th id="632">632</th><td></td></tr>
<tr><th id="633">633</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;atoi&quot;, (::__interception::uptr *) &amp; __interception::real_atoi, (::__interception::uptr) &amp; (atoi), (::__interception::uptr) &amp; __interceptor_atoi)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;atoi&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#486" title='atoi' data-ref="atoi" data-ref-filename="atoi">atoi</a>);</td></tr>
<tr><th id="634">634</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;atol&quot;, (::__interception::uptr *) &amp; __interception::real_atol, (::__interception::uptr) &amp; (atol), (::__interception::uptr) &amp; __interceptor_atol)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;atol&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#507" title='atol' data-ref="atol" data-ref-filename="atol">atol</a>);</td></tr>
<tr><th id="635">635</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;strtol&quot;, (::__interception::uptr *) &amp; __interception::real_strtol, (::__interception::uptr) &amp; (strtol), (::__interception::uptr) &amp; __interceptor_strtol)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;strtol&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#473" title='strtol' data-ref="strtol" data-ref-filename="strtol">strtol</a>);</td></tr>
<tr><th id="636">636</th><td><u>#<span data-ppcond="636">if</span> <a class="macro" href="asan_interceptors.h.html#45" title="1" data-ref="_M/ASAN_INTERCEPT_ATOLL_AND_STRTOLL">ASAN_INTERCEPT_ATOLL_AND_STRTOLL</a></u></td></tr>
<tr><th id="637">637</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;atoll&quot;, (::__interception::uptr *) &amp; __interception::real_atoll, (::__interception::uptr) &amp; (atoll), (::__interception::uptr) &amp; __interceptor_atoll)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;atoll&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#538" title='atoll' data-ref="atoll" data-ref-filename="atoll">atoll</a>);</td></tr>
<tr><th id="638">638</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;strtoll&quot;, (::__interception::uptr *) &amp; __interception::real_strtoll, (::__interception::uptr) &amp; (strtoll), (::__interception::uptr) &amp; __interceptor_strtoll)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;strtoll&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#525" title='strtoll' data-ref="strtoll" data-ref-filename="strtoll">strtoll</a>);</td></tr>
<tr><th id="639">639</th><td><u>#<span data-ppcond="636">endif</span></u></td></tr>
<tr><th id="640">640</th><td></td></tr>
<tr><th id="641">641</th><td>  <i>// Intecept jump-related functions.</i></td></tr>
<tr><th id="642">642</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;longjmp&quot;, (::__interception::uptr *) &amp; __interception::real_longjmp, (::__interception::uptr) &amp; (longjmp), (::__interception::uptr) &amp; __interceptor_longjmp)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;longjmp&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#290" title='longjmp' data-ref="longjmp" data-ref-filename="longjmp">longjmp</a>);</td></tr>
<tr><th id="643">643</th><td></td></tr>
<tr><th id="644">644</th><td><u>#<span data-ppcond="644">if</span> <a class="macro" href="asan_interceptors.h.html#64" title="1" data-ref="_M/ASAN_INTERCEPT_SWAPCONTEXT">ASAN_INTERCEPT_SWAPCONTEXT</a></u></td></tr>
<tr><th id="645">645</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;swapcontext&quot;, (::__interception::uptr *) &amp; __interception::real_swapcontext, (::__interception::uptr) &amp; (swapcontext), (::__interception::uptr) &amp; __interceptor_swapcontext)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;swapcontext&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#254" title='swapcontext' data-ref="swapcontext" data-ref-filename="swapcontext">swapcontext</a>);</td></tr>
<tr><th id="646">646</th><td><u>#<span data-ppcond="644">endif</span></u></td></tr>
<tr><th id="647">647</th><td><u>#<span data-ppcond="647">if</span> <a class="macro" href="asan_interceptors.h.html#46" title="1" data-ref="_M/ASAN_INTERCEPT__LONGJMP">ASAN_INTERCEPT__LONGJMP</a></u></td></tr>
<tr><th id="648">648</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;_longjmp&quot;, (::__interception::uptr *) &amp; __interception::real__longjmp, (::__interception::uptr) &amp; (_longjmp), (::__interception::uptr) &amp; __interceptor__longjmp)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;_longjmp&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#296" title='_longjmp' data-ref="_longjmp" data-ref-filename="_longjmp">_longjmp</a>);</td></tr>
<tr><th id="649">649</th><td><u>#<span data-ppcond="647">endif</span></u></td></tr>
<tr><th id="650">650</th><td><u>#<span data-ppcond="650">if</span> <a class="macro" href="asan_interceptors.h.html#76" title="1" data-ref="_M/ASAN_INTERCEPT___LONGJMP_CHK">ASAN_INTERCEPT___LONGJMP_CHK</a></u></td></tr>
<tr><th id="651">651</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;__longjmp_chk&quot;, (::__interception::uptr *) &amp; __interception::real___longjmp_chk, (::__interception::uptr) &amp; (__longjmp_chk), (::__interception::uptr) &amp; __interceptor___longjmp_chk)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;__longjmp_chk&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#303" title='__longjmp_chk' data-ref="__longjmp_chk" data-ref-filename="__longjmp_chk">__longjmp_chk</a>);</td></tr>
<tr><th id="652">652</th><td><u>#<span data-ppcond="650">endif</span></u></td></tr>
<tr><th id="653">653</th><td><u>#<span data-ppcond="653">if</span> <a class="macro" href="asan_interceptors.h.html#70" title="1" data-ref="_M/ASAN_INTERCEPT_SIGLONGJMP">ASAN_INTERCEPT_SIGLONGJMP</a></u></td></tr>
<tr><th id="654">654</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;siglongjmp&quot;, (::__interception::uptr *) &amp; __interception::real_siglongjmp, (::__interception::uptr) &amp; (siglongjmp), (::__interception::uptr) &amp; __interceptor_siglongjmp)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;siglongjmp&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#310" title='siglongjmp' data-ref="siglongjmp" data-ref-filename="siglongjmp">siglongjmp</a>);</td></tr>
<tr><th id="655">655</th><td><u>#<span data-ppcond="653">endif</span></u></td></tr>
<tr><th id="656">656</th><td></td></tr>
<tr><th id="657">657</th><td>  <i>// Intercept exception handling functions.</i></td></tr>
<tr><th id="658">658</th><td><u>#<span data-ppcond="658">if</span> <a class="macro" href="asan_interceptors.h.html#83" title="1" data-ref="_M/ASAN_INTERCEPT___CXA_THROW">ASAN_INTERCEPT___CXA_THROW</a></u></td></tr>
<tr><th id="659">659</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;__cxa_throw&quot;, (::__interception::uptr *) &amp; __interception::real___cxa_throw, (::__interception::uptr) &amp; (__cxa_throw), (::__interception::uptr) &amp; __interceptor___cxa_throw)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;__cxa_throw&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#317" title='__cxa_throw' data-ref="__cxa_throw" data-ref-filename="__cxa_throw">__cxa_throw</a>);</td></tr>
<tr><th id="660">660</th><td><u>#<span data-ppcond="658">endif</span></u></td></tr>
<tr><th id="661">661</th><td><u>#<span data-ppcond="661">if</span> <a class="macro" href="asan_interceptors.h.html#84" title="1" data-ref="_M/ASAN_INTERCEPT___CXA_RETHROW_PRIMARY_EXCEPTION">ASAN_INTERCEPT___CXA_RETHROW_PRIMARY_EXCEPTION</a></u></td></tr>
<tr><th id="662">662</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;__cxa_rethrow_primary_exception&quot;, (::__interception::uptr *) &amp; __interception::real___cxa_rethrow_primary_exception, (::__interception::uptr) &amp; (__cxa_rethrow_primary_exception), (::__interception::uptr) &amp; __interceptor___cxa_rethrow_primary_exception)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;__cxa_rethrow_primary_exception&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#325" title='__cxa_rethrow_primary_exception' data-ref="__cxa_rethrow_primary_exception" data-ref-filename="__cxa_rethrow_primary_exception">__cxa_rethrow_primary_exception</a>);</td></tr>
<tr><th id="663">663</th><td><u>#<span data-ppcond="661">endif</span></u></td></tr>
<tr><th id="664">664</th><td>  <i>// Indirectly intercept std::rethrow_exception.</i></td></tr>
<tr><th id="665">665</th><td><u>#<span data-ppcond="665">if</span> <a class="macro" href="asan_interceptors.h.html#88" title="1" data-ref="_M/ASAN_INTERCEPT__UNWIND_RAISEEXCEPTION">ASAN_INTERCEPT__UNWIND_RAISEEXCEPTION</a></u></td></tr>
<tr><th id="666">666</th><td>  <a class="macro" href="../interception/interception.h.html#287" title="::__interception::InterceptFunction( &quot;_Unwind_RaiseException&quot;, (::__interception::uptr *) &amp; __interception::real__Unwind_RaiseException, (::__interception::uptr) &amp; (_Unwind_RaiseException), (::__interception::uptr) &amp; __interceptor__Unwind_RaiseException)" data-ref="_M/INTERCEPT_FUNCTION">INTERCEPT_FUNCTION</a>(<span class='ref fn' title='_Unwind_RaiseException' data-ref="_Unwind_RaiseException" data-ref-filename="_Unwind_RaiseException">_Unwind_RaiseException</span>);</td></tr>
<tr><th id="667">667</th><td><u>#<span data-ppcond="665">endif</span></u></td></tr>
<tr><th id="668">668</th><td>  <i>// Indirectly intercept std::rethrow_exception.</i></td></tr>
<tr><th id="669">669</th><td><u>#<span data-ppcond="669">if</span> ASAN_INTERCEPT__UNWIND_SJLJ_RAISEEXCEPTION</u></td></tr>
<tr><th id="670">670</th><td>  INTERCEPT_FUNCTION(_Unwind_SjLj_RaiseException);</td></tr>
<tr><th id="671">671</th><td><u>#<span data-ppcond="669">endif</span></u></td></tr>
<tr><th id="672">672</th><td></td></tr>
<tr><th id="673">673</th><td>  <i>// Intercept threading-related functions</i></td></tr>
<tr><th id="674">674</th><td><u>#<span data-ppcond="674">if</span> <a class="macro" href="asan_interceptors.h.html#48" title="1" data-ref="_M/ASAN_INTERCEPT_PTHREAD_CREATE">ASAN_INTERCEPT_PTHREAD_CREATE</a></u></td></tr>
<tr><th id="675">675</th><td><u>#<span data-ppcond="675">if</span> defined(<span class="macro" data-ref="_M/ASAN_PTHREAD_CREATE_VERSION">ASAN_PTHREAD_CREATE_VERSION</span>)</u></td></tr>
<tr><th id="676">676</th><td>  ASAN_INTERCEPT_FUNC_VER(pthread_create, ASAN_PTHREAD_CREATE_VERSION);</td></tr>
<tr><th id="677">677</th><td><u>#<span data-ppcond="675">else</span></u></td></tr>
<tr><th id="678">678</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;pthread_create&quot;, (::__interception::uptr *) &amp; __interception::real_pthread_create, (::__interception::uptr) &amp; (pthread_create), (::__interception::uptr) &amp; __interceptor_pthread_create)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;pthread_create&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#199" title='pthread_create' data-ref="pthread_create" data-ref-filename="pthread_create">pthread_create</a>);</td></tr>
<tr><th id="679">679</th><td><u>#<span data-ppcond="675">endif</span></u></td></tr>
<tr><th id="680">680</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;pthread_join&quot;, (::__interception::uptr *) &amp; __interception::real_pthread_join, (::__interception::uptr) &amp; (pthread_join), (::__interception::uptr) &amp; __interceptor_pthread_join)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;pthread_join&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#234" title='pthread_join' data-ref="pthread_join" data-ref-filename="pthread_join">pthread_join</a>);</td></tr>
<tr><th id="681">681</th><td><u>#<span data-ppcond="674">endif</span></u></td></tr>
<tr><th id="682">682</th><td></td></tr>
<tr><th id="683">683</th><td>  <i>// Intercept atexit function.</i></td></tr>
<tr><th id="684">684</th><td><u>#<span data-ppcond="684">if</span> <a class="macro" href="asan_interceptors.h.html#98" title="1" data-ref="_M/ASAN_INTERCEPT___CXA_ATEXIT">ASAN_INTERCEPT___CXA_ATEXIT</a></u></td></tr>
<tr><th id="685">685</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;__cxa_atexit&quot;, (::__interception::uptr *) &amp; __interception::real___cxa_atexit, (::__interception::uptr) &amp; (__cxa_atexit), (::__interception::uptr) &amp; __interceptor___cxa_atexit)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;__cxa_atexit&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#561" title='__cxa_atexit' data-ref="__cxa_atexit" data-ref-filename="__cxa_atexit">__cxa_atexit</a>);</td></tr>
<tr><th id="686">686</th><td><u>#<span data-ppcond="684">endif</span></u></td></tr>
<tr><th id="687">687</th><td></td></tr>
<tr><th id="688">688</th><td><u>#<span data-ppcond="688">if</span> <a class="macro" href="asan_interceptors.h.html#106" title="0" data-ref="_M/ASAN_INTERCEPT_ATEXIT">ASAN_INTERCEPT_ATEXIT</a></u></td></tr>
<tr><th id="689">689</th><td>  ASAN_INTERCEPT_FUNC(atexit);</td></tr>
<tr><th id="690">690</th><td><u>#<span data-ppcond="688">endif</span></u></td></tr>
<tr><th id="691">691</th><td></td></tr>
<tr><th id="692">692</th><td><u>#<span data-ppcond="692">if</span> <a class="macro" href="asan_interceptors.h.html#126" title="0" data-ref="_M/ASAN_INTERCEPT_PTHREAD_ATFORK">ASAN_INTERCEPT_PTHREAD_ATFORK</a></u></td></tr>
<tr><th id="693">693</th><td>  ASAN_INTERCEPT_FUNC(pthread_atfork);</td></tr>
<tr><th id="694">694</th><td><u>#<span data-ppcond="692">endif</span></u></td></tr>
<tr><th id="695">695</th><td></td></tr>
<tr><th id="696">696</th><td><u>#<span data-ppcond="696">if</span> <a class="macro" href="asan_interceptors.h.html#118" title="1" data-ref="_M/ASAN_INTERCEPT_VFORK">ASAN_INTERCEPT_VFORK</a></u></td></tr>
<tr><th id="697">697</th><td>  <a class="macro" href="asan_interceptors.h.html#137" title="do { if (!::__interception::InterceptFunction( &quot;vfork&quot;, (::__interception::uptr *) &amp; __interception::real_vfork, (::__interception::uptr) &amp; (vfork), (::__interception::uptr) &amp; __interceptor_vfork)) do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: failed to intercept &apos;%s&apos;\n&quot;, &quot;vfork&quot;); } while (0); } while (0)" data-ref="_M/ASAN_INTERCEPT_FUNC">ASAN_INTERCEPT_FUNC</a>(<a class="ref fn" href="#608" title='vfork' data-ref="vfork" data-ref-filename="vfork">vfork</a>);</td></tr>
<tr><th id="698">698</th><td><u>#<span data-ppcond="696">endif</span></u></td></tr>
<tr><th id="699">699</th><td></td></tr>
<tr><th id="700">700</th><td>  <a class="ref fn" href="asan_interceptors.h.html#__asan::InitializePlatformInterceptors" title='__asan::InitializePlatformInterceptors' data-ref="__asan::InitializePlatformInterceptors" data-ref-filename="__asan..InitializePlatformInterceptors">InitializePlatformInterceptors</a>();</td></tr>
<tr><th id="701">701</th><td></td></tr>
<tr><th id="702">702</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_common.h.html#219" title="do { if ((uptr)Verbosity() &gt;= (1)) Report(&quot;AddressSanitizer: libc interceptors initialized\n&quot;); } while (0)" data-ref="_M/VReport">VReport</a>(<var>1</var>, <q>"AddressSanitizer: libc interceptors initialized\n"</q>);</td></tr>
<tr><th id="703">703</th><td>}</td></tr>
<tr><th id="704">704</th><td></td></tr>
<tr><th id="705">705</th><td>} <i>// namespace __asan</i></td></tr>
<tr><th id="706">706</th><td></td></tr>
<tr><th id="707">707</th><td><u>#<span data-ppcond="29">endif</span>  // !SANITIZER_FUCHSIA</u></td></tr>
<tr><th id="708">708</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2021-Jul-01</em> from project llvm revision <em>12</em>