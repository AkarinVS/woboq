<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>lsan_common.h source code [llvm/compiler-rt/lib/lsan/lsan_common.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="__lsan::CheckForLeaksParam,__lsan::ChunkTag,__lsan::Flags,__lsan::IgnoreObjectResult,__lsan::Leak,__lsan::LeakReport,__lsan::LeakedObject,__lsan::LsanMetadata,__lsan::RootRegion,__lsan::ScopedInterceptorDisabler "/>
<link rel="stylesheet" href="../../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'llvm/compiler-rt/lib/lsan/lsan_common.h'; var root_path = '../../../..'; var data_path = '../../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>llvm</a>/<a href='../..'>compiler-rt</a>/<a href='..'>lib</a>/<a href='./'>lsan</a>/<a href='lsan_common.h.html'>lsan_common.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>//=-- lsan_common.h -------------------------------------------------------===//</i></td></tr>
<tr><th id="2">2</th><td><i>//</i></td></tr>
<tr><th id="3">3</th><td><i>// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</i></td></tr>
<tr><th id="4">4</th><td><i>// See <a href="https://llvm.org/LICENSE.txt">https://llvm.org/LICENSE.txt</a> for license information.</i></td></tr>
<tr><th id="5">5</th><td><i>// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</i></td></tr>
<tr><th id="6">6</th><td><i>//</i></td></tr>
<tr><th id="7">7</th><td><i>//===----------------------------------------------------------------------===//</i></td></tr>
<tr><th id="8">8</th><td><i>//</i></td></tr>
<tr><th id="9">9</th><td><i>// This file is a part of LeakSanitizer.</i></td></tr>
<tr><th id="10">10</th><td><i>// Private LSan header.</i></td></tr>
<tr><th id="11">11</th><td><i>//</i></td></tr>
<tr><th id="12">12</th><td><i>//===----------------------------------------------------------------------===//</i></td></tr>
<tr><th id="13">13</th><td></td></tr>
<tr><th id="14">14</th><td><u>#<span data-ppcond="14">ifndef</span> <span class="macro" data-ref="_M/LSAN_COMMON_H">LSAN_COMMON_H</span></u></td></tr>
<tr><th id="15">15</th><td><u>#define <dfn class="macro" id="_M/LSAN_COMMON_H" data-ref="_M/LSAN_COMMON_H">LSAN_COMMON_H</dfn></u></td></tr>
<tr><th id="16">16</th><td></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="../sanitizer_common/sanitizer_allocator.h.html">"sanitizer_common/sanitizer_allocator.h"</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../sanitizer_common/sanitizer_common.h.html">"sanitizer_common/sanitizer_common.h"</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../sanitizer_common/sanitizer_internal_defs.h.html">"sanitizer_common/sanitizer_internal_defs.h"</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../sanitizer_common/sanitizer_platform.h.html">"sanitizer_common/sanitizer_platform.h"</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../sanitizer_common/sanitizer_stoptheworld.h.html">"sanitizer_common/sanitizer_stoptheworld.h"</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../sanitizer_common/sanitizer_symbolizer.h.html">"sanitizer_common/sanitizer_symbolizer.h"</a></u></td></tr>
<tr><th id="23">23</th><td></td></tr>
<tr><th id="24">24</th><td><i>// LeakSanitizer relies on some Glibc's internals (e.g. TLS machinery) on Linux.</i></td></tr>
<tr><th id="25">25</th><td><i>// Also, LSan doesn't like 32 bit architectures</i></td></tr>
<tr><th id="26">26</th><td><i>// because of "small" (4 bytes) pointer size that leads to high false negative</i></td></tr>
<tr><th id="27">27</th><td><i>// ratio on large leaks. But we still want to have it for some 32 bit arches</i></td></tr>
<tr><th id="28">28</th><td><i>// (e.g. x86), see <a href="https://github.com/google/sanitizers/issues/403">https://github.com/google/sanitizers/issues/403</a>.</i></td></tr>
<tr><th id="29">29</th><td><i>// To enable LeakSanitizer on a new architecture, one needs to implement the</i></td></tr>
<tr><th id="30">30</th><td><i>// internal_clone function as well as (probably) adjust the TLS machinery for</i></td></tr>
<tr><th id="31">31</th><td><i>// the new architecture inside the sanitizer library.</i></td></tr>
<tr><th id="32">32</th><td><i>// Exclude leak-detection on arm32 for Android because `__aeabi_read_tp`</i></td></tr>
<tr><th id="33">33</th><td><i>// is missing. This caused a link error.</i></td></tr>
<tr><th id="34">34</th><td><u>#<span data-ppcond="34">if</span> <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#105" title="0" data-ref="_M/SANITIZER_ANDROID">SANITIZER_ANDROID</a> &amp;&amp; (__ANDROID_API__ &lt; 28 || defined(<span class="macro" data-ref="_M/__arm__">__arm__</span>))</u></td></tr>
<tr><th id="35">35</th><td><u>#define CAN_SANITIZE_LEAKS 0</u></td></tr>
<tr><th id="36">36</th><td><u>#<span data-ppcond="34">elif</span> (<a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#30" title="1" data-ref="_M/SANITIZER_LINUX">SANITIZER_LINUX</a> || <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#73" title="0" data-ref="_M/SANITIZER_MAC">SANITIZER_MAC</a>) &amp;&amp; (<a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#125" title="64" data-ref="_M/SANITIZER_WORDSIZE">SANITIZER_WORDSIZE</a> == 64) &amp;&amp; \</u></td></tr>
<tr><th id="37">37</th><td><u>    (defined(<span class="macro" data-ref="_M/__x86_64__">__x86_64__</span>) || defined(<span class="macro" data-ref="_M/__mips64">__mips64</span>) || defined(<span class="macro" data-ref="_M/__aarch64__">__aarch64__</span>) ||  \</u></td></tr>
<tr><th id="38">38</th><td><u>     defined(<span class="macro" data-ref="_M/__powerpc64__">__powerpc64__</span>) || defined(<span class="macro" data-ref="_M/__s390x__">__s390x__</span>))</u></td></tr>
<tr><th id="39">39</th><td><u>#define <dfn class="macro" id="_M/CAN_SANITIZE_LEAKS" data-ref="_M/CAN_SANITIZE_LEAKS">CAN_SANITIZE_LEAKS</dfn> 1</u></td></tr>
<tr><th id="40">40</th><td><u>#<span data-ppcond="34">elif</span> defined(__i386__) &amp;&amp; (SANITIZER_LINUX || SANITIZER_MAC)</u></td></tr>
<tr><th id="41">41</th><td><u>#define CAN_SANITIZE_LEAKS 1</u></td></tr>
<tr><th id="42">42</th><td><u>#elif defined(__arm__) &amp;&amp; SANITIZER_LINUX</u></td></tr>
<tr><th id="43">43</th><td><u>#define CAN_SANITIZE_LEAKS 1</u></td></tr>
<tr><th id="44">44</th><td><u>#elif SANITIZER_NETBSD || SANITIZER_FUCHSIA</u></td></tr>
<tr><th id="45">45</th><td><u>#define CAN_SANITIZE_LEAKS 1</u></td></tr>
<tr><th id="46">46</th><td><u>#else</u></td></tr>
<tr><th id="47">47</th><td><u>#define CAN_SANITIZE_LEAKS 0</u></td></tr>
<tr><th id="48">48</th><td><u>#<span data-ppcond="34">endif</span></u></td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td><b>namespace</b> <span class="namespace">__sanitizer</span> {</td></tr>
<tr><th id="51">51</th><td><b>class</b> <a class="type" href="../sanitizer_common/sanitizer_flag_parser.h.html#__sanitizer::FlagParser" title='__sanitizer::FlagParser' data-ref="__sanitizer::FlagParser" data-ref-filename="__sanitizer..FlagParser" id="__sanitizer::FlagParser">FlagParser</a>;</td></tr>
<tr><th id="52">52</th><td><b>class</b> <a class="type" href="../sanitizer_common/sanitizer_thread_registry.h.html#__sanitizer::ThreadRegistry" title='__sanitizer::ThreadRegistry' data-ref="__sanitizer::ThreadRegistry" data-ref-filename="__sanitizer..ThreadRegistry" id="__sanitizer::ThreadRegistry">ThreadRegistry</a>;</td></tr>
<tr><th id="53">53</th><td><b>class</b> <a class="type" href="../sanitizer_common/sanitizer_thread_registry.h.html#__sanitizer::ThreadContextBase" title='__sanitizer::ThreadContextBase' data-ref="__sanitizer::ThreadContextBase" data-ref-filename="__sanitizer..ThreadContextBase" id="__sanitizer::ThreadContextBase">ThreadContextBase</a>;</td></tr>
<tr><th id="54">54</th><td><b>struct</b> <a class="type" href="../asan/asan_thread.h.html#__sanitizer::DTLS" title='__sanitizer::DTLS' data-ref="__sanitizer::DTLS" data-ref-filename="__sanitizer..DTLS" id="__sanitizer::DTLS">DTLS</a>;</td></tr>
<tr><th id="55">55</th><td>}</td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td><b>namespace</b> <span class="namespace">__lsan</span> {</td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td><i>// Chunk tags.</i></td></tr>
<tr><th id="60">60</th><td><b>enum</b> <dfn class="type def" id="__lsan::ChunkTag" title='__lsan::ChunkTag' data-ref="__lsan::ChunkTag" data-ref-filename="__lsan..ChunkTag">ChunkTag</dfn> {</td></tr>
<tr><th id="61">61</th><td>  <dfn class="enum" id="__lsan::kDirectlyLeaked" title='__lsan::kDirectlyLeaked' data-ref="__lsan::kDirectlyLeaked" data-ref-filename="__lsan..kDirectlyLeaked">kDirectlyLeaked</dfn> = <var>0</var>,  <i>// default</i></td></tr>
<tr><th id="62">62</th><td>  <dfn class="enum" id="__lsan::kIndirectlyLeaked" title='__lsan::kIndirectlyLeaked' data-ref="__lsan::kIndirectlyLeaked" data-ref-filename="__lsan..kIndirectlyLeaked">kIndirectlyLeaked</dfn> = <var>1</var>,</td></tr>
<tr><th id="63">63</th><td>  <dfn class="enum" id="__lsan::kReachable" title='__lsan::kReachable' data-ref="__lsan::kReachable" data-ref-filename="__lsan..kReachable">kReachable</dfn> = <var>2</var>,</td></tr>
<tr><th id="64">64</th><td>  <dfn class="enum" id="__lsan::kIgnored" title='__lsan::kIgnored' data-ref="__lsan::kIgnored" data-ref-filename="__lsan..kIgnored">kIgnored</dfn> = <var>3</var></td></tr>
<tr><th id="65">65</th><td>};</td></tr>
<tr><th id="66">66</th><td></td></tr>
<tr><th id="67">67</th><td><em>const</em> <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::u32" title='__sanitizer::u32' data-type='unsigned int' data-ref="__sanitizer::u32" data-ref-filename="__sanitizer..u32">u32</a> <dfn class="decl def" id="__lsan::kInvalidTid" title='__lsan::kInvalidTid' data-ref="__lsan::kInvalidTid" data-ref-filename="__lsan..kInvalidTid">kInvalidTid</dfn> = (<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::u32" title='__sanitizer::u32' data-type='unsigned int' data-ref="__sanitizer::u32" data-ref-filename="__sanitizer..u32">u32</a>) -<var>1</var>;</td></tr>
<tr><th id="68">68</th><td></td></tr>
<tr><th id="69">69</th><td><b>struct</b> <dfn class="type def" id="__lsan::Flags" title='__lsan::Flags' data-ref="__lsan::Flags" data-ref-filename="__lsan..Flags">Flags</dfn> {</td></tr>
<tr><th id="70">70</th><td><u>#define <dfn class="macro" id="_M/LSAN_FLAG" data-ref="_M/LSAN_FLAG">LSAN_FLAG</dfn>(Type, Name, DefaultValue, Description) Type Name;</u></td></tr>
<tr><th id="71">71</th><td><u>#include <a href="lsan_flags.inc.html">"lsan_flags.inc"</a></u></td></tr>
<tr><th id="72">72</th><td><u>#undef <a class="macro" href="#70" data-ref="_M/LSAN_FLAG">LSAN_FLAG</a></u></td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td>  <em>void</em> <dfn class="decl fn" id="__lsan::Flags::SetDefaults" title='__lsan::Flags::SetDefaults' data-ref="__lsan::Flags::SetDefaults" data-ref-filename="__lsan..Flags..SetDefaults">SetDefaults</dfn>();</td></tr>
<tr><th id="75">75</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl def fn" id="__lsan::Flags::pointer_alignment" title='__lsan::Flags::pointer_alignment' data-ref="__lsan::Flags::pointer_alignment" data-ref-filename="__lsan..Flags..pointer_alignment">pointer_alignment</dfn>() <em>const</em> {</td></tr>
<tr><th id="76">76</th><td>    <b>return</b> <a class="member field" href="lsan_flags.inc.html#41" title='__lsan::Flags::use_unaligned' data-ref="__lsan::Flags::use_unaligned" data-ref-filename="__lsan..Flags..use_unaligned">use_unaligned</a> ? <var>1</var> : <b>sizeof</b>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a>);</td></tr>
<tr><th id="77">77</th><td>  }</td></tr>
<tr><th id="78">78</th><td>};</td></tr>
<tr><th id="79">79</th><td></td></tr>
<tr><th id="80">80</th><td><b>extern</b> <a class="type" href="#__lsan::Flags" title='__lsan::Flags' data-ref="__lsan::Flags" data-ref-filename="__lsan..Flags">Flags</a> <dfn class="decl" id="__lsan::lsan_flags" title='__lsan::lsan_flags' data-ref="__lsan::lsan_flags" data-ref-filename="__lsan..lsan_flags">lsan_flags</dfn>;</td></tr>
<tr><th id="81">81</th><td><b>inline</b> <a class="type" href="#__lsan::Flags" title='__lsan::Flags' data-ref="__lsan::Flags" data-ref-filename="__lsan..Flags">Flags</a> *<dfn class="decl def fn" id="__lsan::flags" title='__lsan::flags' data-ref="__lsan::flags" data-ref-filename="__lsan..flags">flags</dfn>() { <b>return</b> &amp;<a class="ref" href="#__lsan::lsan_flags" title='__lsan::lsan_flags' data-ref="__lsan::lsan_flags" data-ref-filename="__lsan..lsan_flags">lsan_flags</a>; }</td></tr>
<tr><th id="82">82</th><td><em>void</em> <dfn class="decl fn" id="__lsan::RegisterLsanFlags" title='__lsan::RegisterLsanFlags' data-ref="__lsan::RegisterLsanFlags" data-ref-filename="__lsan..RegisterLsanFlags">RegisterLsanFlags</dfn>(<a class="type" href="../sanitizer_common/sanitizer_flag_parser.h.html#__sanitizer::FlagParser" title='__sanitizer::FlagParser' data-ref="__sanitizer::FlagParser" data-ref-filename="__sanitizer..FlagParser">FlagParser</a> *<dfn class="local col3 decl" id="153parser" title='parser' data-type='__sanitizer::FlagParser *' data-ref="153parser" data-ref-filename="153parser">parser</dfn>, <a class="type" href="#__lsan::Flags" title='__lsan::Flags' data-ref="__lsan::Flags" data-ref-filename="__lsan..Flags">Flags</a> *<dfn class="local col4 decl" id="154f" title='f' data-type='__lsan::Flags *' data-ref="154f" data-ref-filename="154f">f</dfn>);</td></tr>
<tr><th id="83">83</th><td></td></tr>
<tr><th id="84">84</th><td><b>struct</b> <dfn class="type def" id="__lsan::Leak" title='__lsan::Leak' data-ref="__lsan::Leak" data-ref-filename="__lsan..Leak">Leak</dfn> {</td></tr>
<tr><th id="85">85</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::u32" title='__sanitizer::u32' data-type='unsigned int' data-ref="__sanitizer::u32" data-ref-filename="__sanitizer..u32">u32</a> <dfn class="decl field" id="__lsan::Leak::id" title='__lsan::Leak::id' data-ref="__lsan::Leak::id" data-ref-filename="__lsan..Leak..id">id</dfn>;</td></tr>
<tr><th id="86">86</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl field" id="__lsan::Leak::hit_count" title='__lsan::Leak::hit_count' data-ref="__lsan::Leak::hit_count" data-ref-filename="__lsan..Leak..hit_count">hit_count</dfn>;</td></tr>
<tr><th id="87">87</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl field" id="__lsan::Leak::total_size" title='__lsan::Leak::total_size' data-ref="__lsan::Leak::total_size" data-ref-filename="__lsan..Leak..total_size">total_size</dfn>;</td></tr>
<tr><th id="88">88</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::u32" title='__sanitizer::u32' data-type='unsigned int' data-ref="__sanitizer::u32" data-ref-filename="__sanitizer..u32">u32</a> <dfn class="decl field" id="__lsan::Leak::stack_trace_id" title='__lsan::Leak::stack_trace_id' data-ref="__lsan::Leak::stack_trace_id" data-ref-filename="__lsan..Leak..stack_trace_id">stack_trace_id</dfn>;</td></tr>
<tr><th id="89">89</th><td>  <em>bool</em> <dfn class="decl field" id="__lsan::Leak::is_directly_leaked" title='__lsan::Leak::is_directly_leaked' data-ref="__lsan::Leak::is_directly_leaked" data-ref-filename="__lsan..Leak..is_directly_leaked">is_directly_leaked</dfn>;</td></tr>
<tr><th id="90">90</th><td>  <em>bool</em> <dfn class="decl field" id="__lsan::Leak::is_suppressed" title='__lsan::Leak::is_suppressed' data-ref="__lsan::Leak::is_suppressed" data-ref-filename="__lsan..Leak..is_suppressed">is_suppressed</dfn>;</td></tr>
<tr><th id="91">91</th><td>};</td></tr>
<tr><th id="92">92</th><td></td></tr>
<tr><th id="93">93</th><td><b>struct</b> <dfn class="type def" id="__lsan::LeakedObject" title='__lsan::LeakedObject' data-ref="__lsan::LeakedObject" data-ref-filename="__lsan..LeakedObject">LeakedObject</dfn> {</td></tr>
<tr><th id="94">94</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::u32" title='__sanitizer::u32' data-type='unsigned int' data-ref="__sanitizer::u32" data-ref-filename="__sanitizer..u32">u32</a> <dfn class="decl field" id="__lsan::LeakedObject::leak_id" title='__lsan::LeakedObject::leak_id' data-ref="__lsan::LeakedObject::leak_id" data-ref-filename="__lsan..LeakedObject..leak_id">leak_id</dfn>;</td></tr>
<tr><th id="95">95</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl field" id="__lsan::LeakedObject::addr" title='__lsan::LeakedObject::addr' data-ref="__lsan::LeakedObject::addr" data-ref-filename="__lsan..LeakedObject..addr">addr</dfn>;</td></tr>
<tr><th id="96">96</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl field" id="__lsan::LeakedObject::size" title='__lsan::LeakedObject::size' data-ref="__lsan::LeakedObject::size" data-ref-filename="__lsan..LeakedObject..size">size</dfn>;</td></tr>
<tr><th id="97">97</th><td>};</td></tr>
<tr><th id="98">98</th><td></td></tr>
<tr><th id="99">99</th><td><i>// Aggregates leaks by stack trace prefix.</i></td></tr>
<tr><th id="100">100</th><td><b>class</b> <dfn class="type def" id="__lsan::LeakReport" title='__lsan::LeakReport' data-ref="__lsan::LeakReport" data-ref-filename="__lsan..LeakReport">LeakReport</dfn> {</td></tr>
<tr><th id="101">101</th><td> <b>public</b>:</td></tr>
<tr><th id="102">102</th><td>  <dfn class="decl def fn" id="__lsan::LeakReport::LeakReport" title='__lsan::LeakReport::LeakReport' data-ref="__lsan::LeakReport::LeakReport" data-ref-filename="__lsan..LeakReport..LeakReport">LeakReport</dfn>() {}</td></tr>
<tr><th id="103">103</th><td>  <em>void</em> <dfn class="decl fn" id="__lsan::LeakReport::AddLeakedChunk" title='__lsan::LeakReport::AddLeakedChunk' data-ref="__lsan::LeakReport::AddLeakedChunk" data-ref-filename="__lsan..LeakReport..AddLeakedChunk">AddLeakedChunk</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col5 decl" id="155chunk" title='chunk' data-type='__sanitizer::uptr' data-ref="155chunk" data-ref-filename="155chunk">chunk</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::u32" title='__sanitizer::u32' data-type='unsigned int' data-ref="__sanitizer::u32" data-ref-filename="__sanitizer..u32">u32</a> <dfn class="local col6 decl" id="156stack_trace_id" title='stack_trace_id' data-type='__sanitizer::u32' data-ref="156stack_trace_id" data-ref-filename="156stack_trace_id">stack_trace_id</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col7 decl" id="157leaked_size" title='leaked_size' data-type='__sanitizer::uptr' data-ref="157leaked_size" data-ref-filename="157leaked_size">leaked_size</dfn>,</td></tr>
<tr><th id="104">104</th><td>                      <a class="type" href="#__lsan::ChunkTag" title='__lsan::ChunkTag' data-ref="__lsan::ChunkTag" data-ref-filename="__lsan..ChunkTag">ChunkTag</a> <dfn class="local col8 decl" id="158tag" title='tag' data-type='__lsan::ChunkTag' data-ref="158tag" data-ref-filename="158tag">tag</dfn>);</td></tr>
<tr><th id="105">105</th><td>  <em>void</em> <dfn class="decl fn" id="__lsan::LeakReport::ReportTopLeaks" title='__lsan::LeakReport::ReportTopLeaks' data-ref="__lsan::LeakReport::ReportTopLeaks" data-ref-filename="__lsan..LeakReport..ReportTopLeaks">ReportTopLeaks</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col9 decl" id="159max_leaks" title='max_leaks' data-type='__sanitizer::uptr' data-ref="159max_leaks" data-ref-filename="159max_leaks">max_leaks</dfn>);</td></tr>
<tr><th id="106">106</th><td>  <em>void</em> <dfn class="decl fn" id="__lsan::LeakReport::PrintSummary" title='__lsan::LeakReport::PrintSummary' data-ref="__lsan::LeakReport::PrintSummary" data-ref-filename="__lsan..LeakReport..PrintSummary">PrintSummary</dfn>();</td></tr>
<tr><th id="107">107</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl fn" id="__lsan::LeakReport::ApplySuppressions" title='__lsan::LeakReport::ApplySuppressions' data-ref="__lsan::LeakReport::ApplySuppressions" data-ref-filename="__lsan..LeakReport..ApplySuppressions">ApplySuppressions</dfn>();</td></tr>
<tr><th id="108">108</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl fn" id="__lsan::LeakReport::UnsuppressedLeakCount" title='__lsan::LeakReport::UnsuppressedLeakCount' data-ref="__lsan::LeakReport::UnsuppressedLeakCount" data-ref-filename="__lsan..LeakReport..UnsuppressedLeakCount">UnsuppressedLeakCount</dfn>();</td></tr>
<tr><th id="109">109</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl fn" id="__lsan::LeakReport::IndirectUnsuppressedLeakCount" title='__lsan::LeakReport::IndirectUnsuppressedLeakCount' data-ref="__lsan::LeakReport::IndirectUnsuppressedLeakCount" data-ref-filename="__lsan..LeakReport..IndirectUnsuppressedLeakCount">IndirectUnsuppressedLeakCount</dfn>();</td></tr>
<tr><th id="110">110</th><td></td></tr>
<tr><th id="111">111</th><td> <b>private</b>:</td></tr>
<tr><th id="112">112</th><td>  <em>void</em> <dfn class="decl fn" id="__lsan::LeakReport::PrintReportForLeak" title='__lsan::LeakReport::PrintReportForLeak' data-ref="__lsan::LeakReport::PrintReportForLeak" data-ref-filename="__lsan..LeakReport..PrintReportForLeak">PrintReportForLeak</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col0 decl" id="160index" title='index' data-type='__sanitizer::uptr' data-ref="160index" data-ref-filename="160index">index</dfn>);</td></tr>
<tr><th id="113">113</th><td>  <em>void</em> <dfn class="decl fn" id="__lsan::LeakReport::PrintLeakedObjectsForLeak" title='__lsan::LeakReport::PrintLeakedObjectsForLeak' data-ref="__lsan::LeakReport::PrintLeakedObjectsForLeak" data-ref-filename="__lsan..LeakReport..PrintLeakedObjectsForLeak">PrintLeakedObjectsForLeak</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col1 decl" id="161index" title='index' data-type='__sanitizer::uptr' data-ref="161index" data-ref-filename="161index">index</dfn>);</td></tr>
<tr><th id="114">114</th><td></td></tr>
<tr><th id="115">115</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::u32" title='__sanitizer::u32' data-type='unsigned int' data-ref="__sanitizer::u32" data-ref-filename="__sanitizer..u32">u32</a> <dfn class="decl field" id="__lsan::LeakReport::next_id_" title='__lsan::LeakReport::next_id_' data-ref="__lsan::LeakReport::next_id_" data-ref-filename="__lsan..LeakReport..next_id_">next_id_</dfn> = <var>0</var>;</td></tr>
<tr><th id="116">116</th><td>  <a class="type" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::InternalMmapVector" title='__sanitizer::InternalMmapVector' data-ref="__sanitizer::InternalMmapVector" data-ref-filename="__sanitizer..InternalMmapVector">InternalMmapVector</a>&lt;<a class="type" href="#__lsan::Leak" title='__lsan::Leak' data-ref="__lsan::Leak" data-ref-filename="__lsan..Leak">Leak</a>&gt; <dfn class="decl field" id="__lsan::LeakReport::leaks_" title='__lsan::LeakReport::leaks_' data-ref="__lsan::LeakReport::leaks_" data-ref-filename="__lsan..LeakReport..leaks_">leaks_</dfn>;</td></tr>
<tr><th id="117">117</th><td>  <a class="type" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::InternalMmapVector" title='__sanitizer::InternalMmapVector' data-ref="__sanitizer::InternalMmapVector" data-ref-filename="__sanitizer..InternalMmapVector">InternalMmapVector</a>&lt;<a class="type" href="#__lsan::LeakedObject" title='__lsan::LeakedObject' data-ref="__lsan::LeakedObject" data-ref-filename="__lsan..LeakedObject">LeakedObject</a>&gt; <dfn class="decl field" id="__lsan::LeakReport::leaked_objects_" title='__lsan::LeakReport::leaked_objects_' data-ref="__lsan::LeakReport::leaked_objects_" data-ref-filename="__lsan..LeakReport..leaked_objects_">leaked_objects_</dfn>;</td></tr>
<tr><th id="118">118</th><td>};</td></tr>
<tr><th id="119">119</th><td></td></tr>
<tr><th id="120">120</th><td><b>typedef</b> <a class="type" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::InternalMmapVector" title='__sanitizer::InternalMmapVector' data-ref="__sanitizer::InternalMmapVector" data-ref-filename="__sanitizer..InternalMmapVector">InternalMmapVector</a>&lt;<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a>&gt; <dfn class="typedef" id="__lsan::Frontier" title='__lsan::Frontier' data-type='InternalMmapVector&lt;__sanitizer::uptr&gt;' data-ref="__lsan::Frontier" data-ref-filename="__lsan..Frontier">Frontier</dfn>;</td></tr>
<tr><th id="121">121</th><td></td></tr>
<tr><th id="122">122</th><td><i>// Platform-specific functions.</i></td></tr>
<tr><th id="123">123</th><td><em>void</em> <dfn class="decl fn" id="__lsan::InitializePlatformSpecificModules" title='__lsan::InitializePlatformSpecificModules' data-ref="__lsan::InitializePlatformSpecificModules" data-ref-filename="__lsan..InitializePlatformSpecificModules">InitializePlatformSpecificModules</dfn>();</td></tr>
<tr><th id="124">124</th><td><em>void</em> <dfn class="decl fn" id="__lsan::ProcessGlobalRegions" title='__lsan::ProcessGlobalRegions' data-ref="__lsan::ProcessGlobalRegions" data-ref-filename="__lsan..ProcessGlobalRegions">ProcessGlobalRegions</dfn>(<a class="typedef" href="#__lsan::Frontier" title='__lsan::Frontier' data-type='InternalMmapVector&lt;__sanitizer::uptr&gt;' data-ref="__lsan::Frontier" data-ref-filename="__lsan..Frontier">Frontier</a> *<dfn class="local col2 decl" id="162frontier" title='frontier' data-type='__lsan::Frontier *' data-ref="162frontier" data-ref-filename="162frontier">frontier</dfn>);</td></tr>
<tr><th id="125">125</th><td><em>void</em> <dfn class="decl fn" id="__lsan::ProcessPlatformSpecificAllocations" title='__lsan::ProcessPlatformSpecificAllocations' data-ref="__lsan::ProcessPlatformSpecificAllocations" data-ref-filename="__lsan..ProcessPlatformSpecificAllocations">ProcessPlatformSpecificAllocations</dfn>(<a class="typedef" href="#__lsan::Frontier" title='__lsan::Frontier' data-type='InternalMmapVector&lt;__sanitizer::uptr&gt;' data-ref="__lsan::Frontier" data-ref-filename="__lsan..Frontier">Frontier</a> *<dfn class="local col3 decl" id="163frontier" title='frontier' data-type='__lsan::Frontier *' data-ref="163frontier" data-ref-filename="163frontier">frontier</dfn>);</td></tr>
<tr><th id="126">126</th><td></td></tr>
<tr><th id="127">127</th><td><b>struct</b> <dfn class="type def" id="__lsan::RootRegion" title='__lsan::RootRegion' data-ref="__lsan::RootRegion" data-ref-filename="__lsan..RootRegion">RootRegion</dfn> {</td></tr>
<tr><th id="128">128</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl field" id="__lsan::RootRegion::begin" title='__lsan::RootRegion::begin' data-ref="__lsan::RootRegion::begin" data-ref-filename="__lsan..RootRegion..begin">begin</dfn>;</td></tr>
<tr><th id="129">129</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl field" id="__lsan::RootRegion::size" title='__lsan::RootRegion::size' data-ref="__lsan::RootRegion::size" data-ref-filename="__lsan..RootRegion..size">size</dfn>;</td></tr>
<tr><th id="130">130</th><td>};</td></tr>
<tr><th id="131">131</th><td></td></tr>
<tr><th id="132">132</th><td><i>// LockStuffAndStopTheWorld can start to use Scan* calls to collect into</i></td></tr>
<tr><th id="133">133</th><td><i>// this Frontier vector before the StopTheWorldCallback actually runs.</i></td></tr>
<tr><th id="134">134</th><td><i>// This is used when the OS has a unified callback API for suspending</i></td></tr>
<tr><th id="135">135</th><td><i>// threads and enumerating roots.</i></td></tr>
<tr><th id="136">136</th><td><b>struct</b> <dfn class="type def" id="__lsan::CheckForLeaksParam" title='__lsan::CheckForLeaksParam' data-ref="__lsan::CheckForLeaksParam" data-ref-filename="__lsan..CheckForLeaksParam">CheckForLeaksParam</dfn> {</td></tr>
<tr><th id="137">137</th><td>  <a class="typedef" href="#__lsan::Frontier" title='__lsan::Frontier' data-type='InternalMmapVector&lt;__sanitizer::uptr&gt;' data-ref="__lsan::Frontier" data-ref-filename="__lsan..Frontier">Frontier</a> <dfn class="decl field" id="__lsan::CheckForLeaksParam::frontier" title='__lsan::CheckForLeaksParam::frontier' data-ref="__lsan::CheckForLeaksParam::frontier" data-ref-filename="__lsan..CheckForLeaksParam..frontier">frontier</dfn>;</td></tr>
<tr><th id="138">138</th><td>  <a class="type" href="#__lsan::LeakReport" title='__lsan::LeakReport' data-ref="__lsan::LeakReport" data-ref-filename="__lsan..LeakReport">LeakReport</a> <dfn class="decl field" id="__lsan::CheckForLeaksParam::leak_report" title='__lsan::CheckForLeaksParam::leak_report' data-ref="__lsan::CheckForLeaksParam::leak_report" data-ref-filename="__lsan..CheckForLeaksParam..leak_report">leak_report</dfn>;</td></tr>
<tr><th id="139">139</th><td>  <em>bool</em> <dfn class="decl field" id="__lsan::CheckForLeaksParam::success" title='__lsan::CheckForLeaksParam::success' data-ref="__lsan::CheckForLeaksParam::success" data-ref-filename="__lsan..CheckForLeaksParam..success">success</dfn> = <b>false</b>;</td></tr>
<tr><th id="140">140</th><td>};</td></tr>
<tr><th id="141">141</th><td></td></tr>
<tr><th id="142">142</th><td><a class="type" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::InternalMmapVector" title='__sanitizer::InternalMmapVector' data-ref="__sanitizer::InternalMmapVector" data-ref-filename="__sanitizer..InternalMmapVector">InternalMmapVector</a>&lt;<a class="type" href="#__lsan::RootRegion" title='__lsan::RootRegion' data-ref="__lsan::RootRegion" data-ref-filename="__lsan..RootRegion">RootRegion</a>&gt; <em>const</em> *<dfn class="decl fn" id="__lsan::GetRootRegions" title='__lsan::GetRootRegions' data-ref="__lsan::GetRootRegions" data-ref-filename="__lsan..GetRootRegions">GetRootRegions</dfn>();</td></tr>
<tr><th id="143">143</th><td><em>void</em> <dfn class="decl fn" id="__lsan::ScanRootRegion" title='__lsan::ScanRootRegion' data-ref="__lsan::ScanRootRegion" data-ref-filename="__lsan..ScanRootRegion">ScanRootRegion</dfn>(<a class="typedef" href="#__lsan::Frontier" title='__lsan::Frontier' data-type='InternalMmapVector&lt;__sanitizer::uptr&gt;' data-ref="__lsan::Frontier" data-ref-filename="__lsan..Frontier">Frontier</a> *<dfn class="local col4 decl" id="164frontier" title='frontier' data-type='__lsan::Frontier *' data-ref="164frontier" data-ref-filename="164frontier">frontier</dfn>, <a class="type" href="#__lsan::RootRegion" title='__lsan::RootRegion' data-ref="__lsan::RootRegion" data-ref-filename="__lsan..RootRegion">RootRegion</a> <em>const</em> &amp;<dfn class="local col5 decl" id="165region" title='region' data-type='const __lsan::RootRegion &amp;' data-ref="165region" data-ref-filename="165region">region</dfn>,</td></tr>
<tr><th id="144">144</th><td>                    <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col6 decl" id="166region_begin" title='region_begin' data-type='__sanitizer::uptr' data-ref="166region_begin" data-ref-filename="166region_begin">region_begin</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col7 decl" id="167region_end" title='region_end' data-type='__sanitizer::uptr' data-ref="167region_end" data-ref-filename="167region_end">region_end</dfn>, <em>bool</em> <dfn class="local col8 decl" id="168is_readable" title='is_readable' data-type='bool' data-ref="168is_readable" data-ref-filename="168is_readable">is_readable</dfn>);</td></tr>
<tr><th id="145">145</th><td><em>void</em> <dfn class="decl fn" id="__lsan::ForEachExtraStackRangeCb" title='__lsan::ForEachExtraStackRangeCb' data-ref="__lsan::ForEachExtraStackRangeCb" data-ref-filename="__lsan..ForEachExtraStackRangeCb">ForEachExtraStackRangeCb</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col9 decl" id="169begin" title='begin' data-type='__sanitizer::uptr' data-ref="169begin" data-ref-filename="169begin">begin</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col0 decl" id="170end" title='end' data-type='__sanitizer::uptr' data-ref="170end" data-ref-filename="170end">end</dfn>, <em>void</em>* <dfn class="local col1 decl" id="171arg" title='arg' data-type='void *' data-ref="171arg" data-ref-filename="171arg">arg</dfn>);</td></tr>
<tr><th id="146">146</th><td><em>void</em> <a class="decl fn" href="../asan/asan_allocator.cpp.html#__lsan::GetAdditionalThreadContextPtrs" title='__lsan::GetAdditionalThreadContextPtrs' data-ref="__lsan::GetAdditionalThreadContextPtrs" data-ref-filename="__lsan..GetAdditionalThreadContextPtrs" id="__lsan::GetAdditionalThreadContextPtrs">GetAdditionalThreadContextPtrs</a>(<a class="type" href="../sanitizer_common/sanitizer_thread_registry.h.html#__sanitizer::ThreadContextBase" title='__sanitizer::ThreadContextBase' data-ref="__sanitizer::ThreadContextBase" data-ref-filename="__sanitizer..ThreadContextBase">ThreadContextBase</a> *<dfn class="local col2 decl" id="172tctx" title='tctx' data-type='__sanitizer::ThreadContextBase *' data-ref="172tctx" data-ref-filename="172tctx">tctx</dfn>, <em>void</em> *<dfn class="local col3 decl" id="173ptrs" title='ptrs' data-type='void *' data-ref="173ptrs" data-ref-filename="173ptrs">ptrs</dfn>);</td></tr>
<tr><th id="147">147</th><td><i>// Run stoptheworld while holding any platform-specific locks, as well as the</i></td></tr>
<tr><th id="148">148</th><td><i>// allocator and thread registry locks.</i></td></tr>
<tr><th id="149">149</th><td><em>void</em> <dfn class="decl fn" id="__lsan::LockStuffAndStopTheWorld" title='__lsan::LockStuffAndStopTheWorld' data-ref="__lsan::LockStuffAndStopTheWorld" data-ref-filename="__lsan..LockStuffAndStopTheWorld">LockStuffAndStopTheWorld</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_stoptheworld.h.html#__sanitizer::StopTheWorldCallback" title='__sanitizer::StopTheWorldCallback' data-type='void (*)(const __sanitizer::SuspendedThreadsList &amp;, void *)' data-ref="__sanitizer::StopTheWorldCallback" data-ref-filename="__sanitizer..StopTheWorldCallback">StopTheWorldCallback</a> <dfn class="local col4 decl" id="174callback" title='callback' data-type='__sanitizer::StopTheWorldCallback' data-ref="174callback" data-ref-filename="174callback">callback</dfn>,</td></tr>
<tr><th id="150">150</th><td>                              <a class="type" href="#__lsan::CheckForLeaksParam" title='__lsan::CheckForLeaksParam' data-ref="__lsan::CheckForLeaksParam" data-ref-filename="__lsan..CheckForLeaksParam">CheckForLeaksParam</a>* <dfn class="local col5 decl" id="175argument" title='argument' data-type='__lsan::CheckForLeaksParam *' data-ref="175argument" data-ref-filename="175argument">argument</dfn>);</td></tr>
<tr><th id="151">151</th><td></td></tr>
<tr><th id="152">152</th><td><em>void</em> <dfn class="decl fn" id="__lsan::ScanRangeForPointers" title='__lsan::ScanRangeForPointers' data-ref="__lsan::ScanRangeForPointers" data-ref-filename="__lsan..ScanRangeForPointers">ScanRangeForPointers</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col6 decl" id="176begin" title='begin' data-type='__sanitizer::uptr' data-ref="176begin" data-ref-filename="176begin">begin</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col7 decl" id="177end" title='end' data-type='__sanitizer::uptr' data-ref="177end" data-ref-filename="177end">end</dfn>,</td></tr>
<tr><th id="153">153</th><td>                          <a class="typedef" href="#__lsan::Frontier" title='__lsan::Frontier' data-type='InternalMmapVector&lt;__sanitizer::uptr&gt;' data-ref="__lsan::Frontier" data-ref-filename="__lsan..Frontier">Frontier</a> *<dfn class="local col8 decl" id="178frontier" title='frontier' data-type='__lsan::Frontier *' data-ref="178frontier" data-ref-filename="178frontier">frontier</dfn>,</td></tr>
<tr><th id="154">154</th><td>                          <em>const</em> <em>char</em> *<dfn class="local col9 decl" id="179region_type" title='region_type' data-type='const char *' data-ref="179region_type" data-ref-filename="179region_type">region_type</dfn>, <a class="type" href="#__lsan::ChunkTag" title='__lsan::ChunkTag' data-ref="__lsan::ChunkTag" data-ref-filename="__lsan..ChunkTag">ChunkTag</a> <dfn class="local col0 decl" id="180tag" title='tag' data-type='__lsan::ChunkTag' data-ref="180tag" data-ref-filename="180tag">tag</dfn>);</td></tr>
<tr><th id="155">155</th><td><em>void</em> <dfn class="decl fn" id="__lsan::ScanGlobalRange" title='__lsan::ScanGlobalRange' data-ref="__lsan::ScanGlobalRange" data-ref-filename="__lsan..ScanGlobalRange">ScanGlobalRange</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col1 decl" id="181begin" title='begin' data-type='__sanitizer::uptr' data-ref="181begin" data-ref-filename="181begin">begin</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col2 decl" id="182end" title='end' data-type='__sanitizer::uptr' data-ref="182end" data-ref-filename="182end">end</dfn>, <a class="typedef" href="#__lsan::Frontier" title='__lsan::Frontier' data-type='InternalMmapVector&lt;__sanitizer::uptr&gt;' data-ref="__lsan::Frontier" data-ref-filename="__lsan..Frontier">Frontier</a> *<dfn class="local col3 decl" id="183frontier" title='frontier' data-type='__lsan::Frontier *' data-ref="183frontier" data-ref-filename="183frontier">frontier</dfn>);</td></tr>
<tr><th id="156">156</th><td></td></tr>
<tr><th id="157">157</th><td><b>enum</b> <dfn class="type def" id="__lsan::IgnoreObjectResult" title='__lsan::IgnoreObjectResult' data-ref="__lsan::IgnoreObjectResult" data-ref-filename="__lsan..IgnoreObjectResult">IgnoreObjectResult</dfn> {</td></tr>
<tr><th id="158">158</th><td>  <dfn class="enum" id="__lsan::kIgnoreObjectSuccess" title='__lsan::kIgnoreObjectSuccess' data-ref="__lsan::kIgnoreObjectSuccess" data-ref-filename="__lsan..kIgnoreObjectSuccess">kIgnoreObjectSuccess</dfn>,</td></tr>
<tr><th id="159">159</th><td>  <dfn class="enum" id="__lsan::kIgnoreObjectAlreadyIgnored" title='__lsan::kIgnoreObjectAlreadyIgnored' data-ref="__lsan::kIgnoreObjectAlreadyIgnored" data-ref-filename="__lsan..kIgnoreObjectAlreadyIgnored">kIgnoreObjectAlreadyIgnored</dfn>,</td></tr>
<tr><th id="160">160</th><td>  <dfn class="enum" id="__lsan::kIgnoreObjectInvalid" title='__lsan::kIgnoreObjectInvalid' data-ref="__lsan::kIgnoreObjectInvalid" data-ref-filename="__lsan..kIgnoreObjectInvalid">kIgnoreObjectInvalid</dfn></td></tr>
<tr><th id="161">161</th><td>};</td></tr>
<tr><th id="162">162</th><td></td></tr>
<tr><th id="163">163</th><td><i>// Functions called from the parent tool.</i></td></tr>
<tr><th id="164">164</th><td><em>const</em> <em>char</em> *<dfn class="decl fn" id="__lsan::MaybeCallLsanDefaultOptions" title='__lsan::MaybeCallLsanDefaultOptions' data-ref="__lsan::MaybeCallLsanDefaultOptions" data-ref-filename="__lsan..MaybeCallLsanDefaultOptions">MaybeCallLsanDefaultOptions</dfn>();</td></tr>
<tr><th id="165">165</th><td><em>void</em> <dfn class="decl fn" id="__lsan::InitCommonLsan" title='__lsan::InitCommonLsan' data-ref="__lsan::InitCommonLsan" data-ref-filename="__lsan..InitCommonLsan">InitCommonLsan</dfn>();</td></tr>
<tr><th id="166">166</th><td><em>void</em> <dfn class="decl fn" id="__lsan::DoLeakCheck" title='__lsan::DoLeakCheck' data-ref="__lsan::DoLeakCheck" data-ref-filename="__lsan..DoLeakCheck">DoLeakCheck</dfn>();</td></tr>
<tr><th id="167">167</th><td><em>void</em> <dfn class="decl fn" id="__lsan::DoRecoverableLeakCheckVoid" title='__lsan::DoRecoverableLeakCheckVoid' data-ref="__lsan::DoRecoverableLeakCheckVoid" data-ref-filename="__lsan..DoRecoverableLeakCheckVoid">DoRecoverableLeakCheckVoid</dfn>();</td></tr>
<tr><th id="168">168</th><td><em>void</em> <dfn class="decl fn" id="__lsan::DisableCounterUnderflow" title='__lsan::DisableCounterUnderflow' data-ref="__lsan::DisableCounterUnderflow" data-ref-filename="__lsan..DisableCounterUnderflow">DisableCounterUnderflow</dfn>();</td></tr>
<tr><th id="169">169</th><td><em>bool</em> <dfn class="decl fn" id="__lsan::DisabledInThisThread" title='__lsan::DisabledInThisThread' data-ref="__lsan::DisabledInThisThread" data-ref-filename="__lsan..DisabledInThisThread">DisabledInThisThread</dfn>();</td></tr>
<tr><th id="170">170</th><td></td></tr>
<tr><th id="171">171</th><td><i>// Used to implement __lsan::ScopedDisabler.</i></td></tr>
<tr><th id="172">172</th><td><em>void</em> <dfn class="decl fn" id="__lsan::DisableInThisThread" title='__lsan::DisableInThisThread' data-ref="__lsan::DisableInThisThread" data-ref-filename="__lsan..DisableInThisThread">DisableInThisThread</dfn>();</td></tr>
<tr><th id="173">173</th><td><em>void</em> <dfn class="decl fn" id="__lsan::EnableInThisThread" title='__lsan::EnableInThisThread' data-ref="__lsan::EnableInThisThread" data-ref-filename="__lsan..EnableInThisThread">EnableInThisThread</dfn>();</td></tr>
<tr><th id="174">174</th><td><i>// Can be used to ignore memory allocated by an intercepted</i></td></tr>
<tr><th id="175">175</th><td><i>// function.</i></td></tr>
<tr><th id="176">176</th><td><b>struct</b> <dfn class="type def" id="__lsan::ScopedInterceptorDisabler" title='__lsan::ScopedInterceptorDisabler' data-ref="__lsan::ScopedInterceptorDisabler" data-ref-filename="__lsan..ScopedInterceptorDisabler">ScopedInterceptorDisabler</dfn> {</td></tr>
<tr><th id="177">177</th><td>  <dfn class="decl def fn" id="__lsan::ScopedInterceptorDisabler::ScopedInterceptorDisabler" title='__lsan::ScopedInterceptorDisabler::ScopedInterceptorDisabler' data-ref="__lsan::ScopedInterceptorDisabler::ScopedInterceptorDisabler" data-ref-filename="__lsan..ScopedInterceptorDisabler..ScopedInterceptorDisabler">ScopedInterceptorDisabler</dfn>() { <a class="ref fn" href="#__lsan::DisableInThisThread" title='__lsan::DisableInThisThread' data-ref="__lsan::DisableInThisThread" data-ref-filename="__lsan..DisableInThisThread">DisableInThisThread</a>(); }</td></tr>
<tr><th id="178">178</th><td>  <dfn class="decl def fn" id="__lsan::ScopedInterceptorDisabler::~ScopedInterceptorDisabler" title='__lsan::ScopedInterceptorDisabler::~ScopedInterceptorDisabler' data-ref="__lsan::ScopedInterceptorDisabler::~ScopedInterceptorDisabler" data-ref-filename="__lsan..ScopedInterceptorDisabler..~ScopedInterceptorDisabler">~ScopedInterceptorDisabler</dfn>() { <a class="ref fn" href="#__lsan::EnableInThisThread" title='__lsan::EnableInThisThread' data-ref="__lsan::EnableInThisThread" data-ref-filename="__lsan..EnableInThisThread">EnableInThisThread</a>(); }</td></tr>
<tr><th id="179">179</th><td>};</td></tr>
<tr><th id="180">180</th><td></td></tr>
<tr><th id="181">181</th><td><i>// According to Itanium C++ ABI array cookie is a one word containing</i></td></tr>
<tr><th id="182">182</th><td><i>// size of allocated array.</i></td></tr>
<tr><th id="183">183</th><td><em>static</em> <b>inline</b> <em>bool</em> <dfn class="decl def fn" id="__lsan::IsItaniumABIArrayCookie" title='__lsan::IsItaniumABIArrayCookie' data-ref="__lsan::IsItaniumABIArrayCookie" data-ref-filename="__lsan..IsItaniumABIArrayCookie">IsItaniumABIArrayCookie</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col4 decl" id="184chunk_beg" title='chunk_beg' data-type='__sanitizer::uptr' data-ref="184chunk_beg" data-ref-filename="184chunk_beg">chunk_beg</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col5 decl" id="185chunk_size" title='chunk_size' data-type='__sanitizer::uptr' data-ref="185chunk_size" data-ref-filename="185chunk_size">chunk_size</dfn>,</td></tr>
<tr><th id="184">184</th><td>                                           <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col6 decl" id="186addr" title='addr' data-type='__sanitizer::uptr' data-ref="186addr" data-ref-filename="186addr">addr</dfn>) {</td></tr>
<tr><th id="185">185</th><td>  <b>return</b> <a class="local col5 ref" href="#185chunk_size" title='chunk_size' data-ref="185chunk_size" data-ref-filename="185chunk_size">chunk_size</a> == <b>sizeof</b>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a>) &amp;&amp; <a class="local col4 ref" href="#184chunk_beg" title='chunk_beg' data-ref="184chunk_beg" data-ref-filename="184chunk_beg">chunk_beg</a> + <a class="local col5 ref" href="#185chunk_size" title='chunk_size' data-ref="185chunk_size" data-ref-filename="185chunk_size">chunk_size</a> == <a class="local col6 ref" href="#186addr" title='addr' data-ref="186addr" data-ref-filename="186addr">addr</a> &amp;&amp;</td></tr>
<tr><th id="186">186</th><td>         *<b>reinterpret_cast</b>&lt;<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> *&gt;(<a class="local col4 ref" href="#184chunk_beg" title='chunk_beg' data-ref="184chunk_beg" data-ref-filename="184chunk_beg">chunk_beg</a>) == <var>0</var>;</td></tr>
<tr><th id="187">187</th><td>}</td></tr>
<tr><th id="188">188</th><td></td></tr>
<tr><th id="189">189</th><td><i>// According to ARM C++ ABI array cookie consists of two words:</i></td></tr>
<tr><th id="190">190</th><td><i>// struct array_cookie {</i></td></tr>
<tr><th id="191">191</th><td><i>//   std::size_t element_size; // element_size != 0</i></td></tr>
<tr><th id="192">192</th><td><i>//   std::size_t element_count;</i></td></tr>
<tr><th id="193">193</th><td><i>// };</i></td></tr>
<tr><th id="194">194</th><td><em>static</em> <b>inline</b> <em>bool</em> <dfn class="decl def fn" id="__lsan::IsARMABIArrayCookie" title='__lsan::IsARMABIArrayCookie' data-ref="__lsan::IsARMABIArrayCookie" data-ref-filename="__lsan..IsARMABIArrayCookie">IsARMABIArrayCookie</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col7 decl" id="187chunk_beg" title='chunk_beg' data-type='__sanitizer::uptr' data-ref="187chunk_beg" data-ref-filename="187chunk_beg">chunk_beg</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col8 decl" id="188chunk_size" title='chunk_size' data-type='__sanitizer::uptr' data-ref="188chunk_size" data-ref-filename="188chunk_size">chunk_size</dfn>,</td></tr>
<tr><th id="195">195</th><td>                                       <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col9 decl" id="189addr" title='addr' data-type='__sanitizer::uptr' data-ref="189addr" data-ref-filename="189addr">addr</dfn>) {</td></tr>
<tr><th id="196">196</th><td>  <b>return</b> <a class="local col8 ref" href="#188chunk_size" title='chunk_size' data-ref="188chunk_size" data-ref-filename="188chunk_size">chunk_size</a> == <var>2</var> * <b>sizeof</b>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a>) &amp;&amp; <a class="local col7 ref" href="#187chunk_beg" title='chunk_beg' data-ref="187chunk_beg" data-ref-filename="187chunk_beg">chunk_beg</a> + <a class="local col8 ref" href="#188chunk_size" title='chunk_size' data-ref="188chunk_size" data-ref-filename="188chunk_size">chunk_size</a> == <a class="local col9 ref" href="#189addr" title='addr' data-ref="189addr" data-ref-filename="189addr">addr</a> &amp;&amp;</td></tr>
<tr><th id="197">197</th><td>         *<b>reinterpret_cast</b>&lt;<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> *&gt;(<a class="local col7 ref" href="#187chunk_beg" title='chunk_beg' data-ref="187chunk_beg" data-ref-filename="187chunk_beg">chunk_beg</a> + <b>sizeof</b>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a>)) == <var>0</var>;</td></tr>
<tr><th id="198">198</th><td>}</td></tr>
<tr><th id="199">199</th><td></td></tr>
<tr><th id="200">200</th><td><i>// Special case for "new T[0]" where T is a type with DTOR.</i></td></tr>
<tr><th id="201">201</th><td><i>// new T[0] will allocate a cookie (one or two words) for the array size (0)</i></td></tr>
<tr><th id="202">202</th><td><i>// and store a pointer to the end of allocated chunk. The actual cookie layout</i></td></tr>
<tr><th id="203">203</th><td><i>// varies between platforms according to their C++ ABI implementation.</i></td></tr>
<tr><th id="204">204</th><td><b>inline</b> <em>bool</em> <dfn class="decl def fn" id="__lsan::IsSpecialCaseOfOperatorNew0" title='__lsan::IsSpecialCaseOfOperatorNew0' data-ref="__lsan::IsSpecialCaseOfOperatorNew0" data-ref-filename="__lsan..IsSpecialCaseOfOperatorNew0">IsSpecialCaseOfOperatorNew0</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col0 decl" id="190chunk_beg" title='chunk_beg' data-type='__sanitizer::uptr' data-ref="190chunk_beg" data-ref-filename="190chunk_beg">chunk_beg</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col1 decl" id="191chunk_size" title='chunk_size' data-type='__sanitizer::uptr' data-ref="191chunk_size" data-ref-filename="191chunk_size">chunk_size</dfn>,</td></tr>
<tr><th id="205">205</th><td>                                        <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col2 decl" id="192addr" title='addr' data-type='__sanitizer::uptr' data-ref="192addr" data-ref-filename="192addr">addr</dfn>) {</td></tr>
<tr><th id="206">206</th><td><u>#<span data-ppcond="206">if</span> defined(<span class="macro" data-ref="_M/__arm__">__arm__</span>)</u></td></tr>
<tr><th id="207">207</th><td>  <b>return</b> IsARMABIArrayCookie(chunk_beg, chunk_size, addr);</td></tr>
<tr><th id="208">208</th><td><u>#<span data-ppcond="206">else</span></u></td></tr>
<tr><th id="209">209</th><td>  <b>return</b> <a class="ref fn" href="#__lsan::IsItaniumABIArrayCookie" title='__lsan::IsItaniumABIArrayCookie' data-ref="__lsan::IsItaniumABIArrayCookie" data-ref-filename="__lsan..IsItaniumABIArrayCookie">IsItaniumABIArrayCookie</a>(<a class="local col0 ref" href="#190chunk_beg" title='chunk_beg' data-ref="190chunk_beg" data-ref-filename="190chunk_beg">chunk_beg</a>, <a class="local col1 ref" href="#191chunk_size" title='chunk_size' data-ref="191chunk_size" data-ref-filename="191chunk_size">chunk_size</a>, <a class="local col2 ref" href="#192addr" title='addr' data-ref="192addr" data-ref-filename="192addr">addr</a>);</td></tr>
<tr><th id="210">210</th><td><u>#<span data-ppcond="206">endif</span></u></td></tr>
<tr><th id="211">211</th><td>}</td></tr>
<tr><th id="212">212</th><td></td></tr>
<tr><th id="213">213</th><td><i>// The following must be implemented in the parent tool.</i></td></tr>
<tr><th id="214">214</th><td></td></tr>
<tr><th id="215">215</th><td><em>void</em> <a class="decl fn" href="../asan/asan_allocator.cpp.html#__lsan::ForEachChunk" title='__lsan::ForEachChunk' data-ref="__lsan::ForEachChunk" data-ref-filename="__lsan..ForEachChunk" id="__lsan::ForEachChunk">ForEachChunk</a>(<a class="typedef" href="../sanitizer_common/sanitizer_allocator.h.html#__sanitizer::ForEachChunkCallback" title='__sanitizer::ForEachChunkCallback' data-type='void (*)(__sanitizer::uptr, void *)' data-ref="__sanitizer::ForEachChunkCallback" data-ref-filename="__sanitizer..ForEachChunkCallback">ForEachChunkCallback</a> <dfn class="local col3 decl" id="193callback" title='callback' data-type='__sanitizer::ForEachChunkCallback' data-ref="193callback" data-ref-filename="193callback">callback</dfn>, <em>void</em> *<dfn class="local col4 decl" id="194arg" title='arg' data-type='void *' data-ref="194arg" data-ref-filename="194arg">arg</dfn>);</td></tr>
<tr><th id="216">216</th><td><i>// Returns the address range occupied by the global allocator object.</i></td></tr>
<tr><th id="217">217</th><td><em>void</em> <a class="decl fn" href="../asan/asan_allocator.cpp.html#__lsan::GetAllocatorGlobalRange" title='__lsan::GetAllocatorGlobalRange' data-ref="__lsan::GetAllocatorGlobalRange" data-ref-filename="__lsan..GetAllocatorGlobalRange" id="__lsan::GetAllocatorGlobalRange">GetAllocatorGlobalRange</a>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> *<dfn class="local col5 decl" id="195begin" title='begin' data-type='__sanitizer::uptr *' data-ref="195begin" data-ref-filename="195begin">begin</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> *<dfn class="local col6 decl" id="196end" title='end' data-type='__sanitizer::uptr *' data-ref="196end" data-ref-filename="196end">end</dfn>);</td></tr>
<tr><th id="218">218</th><td><i>// Wrappers for allocator's ForceLock()/ForceUnlock().</i></td></tr>
<tr><th id="219">219</th><td><em>void</em> <a class="decl fn" href="../asan/asan_allocator.cpp.html#__lsan::LockAllocator" title='__lsan::LockAllocator' data-ref="__lsan::LockAllocator" data-ref-filename="__lsan..LockAllocator" id="__lsan::LockAllocator">LockAllocator</a>();</td></tr>
<tr><th id="220">220</th><td><em>void</em> <a class="decl fn" href="../asan/asan_allocator.cpp.html#__lsan::UnlockAllocator" title='__lsan::UnlockAllocator' data-ref="__lsan::UnlockAllocator" data-ref-filename="__lsan..UnlockAllocator" id="__lsan::UnlockAllocator">UnlockAllocator</a>();</td></tr>
<tr><th id="221">221</th><td><i>// Returns true if [addr, addr + sizeof(void *)) is poisoned.</i></td></tr>
<tr><th id="222">222</th><td><em>bool</em> <dfn class="decl fn" id="__lsan::WordIsPoisoned" title='__lsan::WordIsPoisoned' data-ref="__lsan::WordIsPoisoned" data-ref-filename="__lsan..WordIsPoisoned">WordIsPoisoned</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col7 decl" id="197addr" title='addr' data-type='__sanitizer::uptr' data-ref="197addr" data-ref-filename="197addr">addr</dfn>);</td></tr>
<tr><th id="223">223</th><td><i>// Wrappers for ThreadRegistry access.</i></td></tr>
<tr><th id="224">224</th><td><em>void</em> <dfn class="decl fn" id="__lsan::LockThreadRegistry" title='__lsan::LockThreadRegistry' data-ref="__lsan::LockThreadRegistry" data-ref-filename="__lsan..LockThreadRegistry">LockThreadRegistry</dfn>();</td></tr>
<tr><th id="225">225</th><td><em>void</em> <dfn class="decl fn" id="__lsan::UnlockThreadRegistry" title='__lsan::UnlockThreadRegistry' data-ref="__lsan::UnlockThreadRegistry" data-ref-filename="__lsan..UnlockThreadRegistry">UnlockThreadRegistry</dfn>();</td></tr>
<tr><th id="226">226</th><td><a class="type" href="../sanitizer_common/sanitizer_thread_registry.h.html#__sanitizer::ThreadRegistry" title='__sanitizer::ThreadRegistry' data-ref="__sanitizer::ThreadRegistry" data-ref-filename="__sanitizer..ThreadRegistry">ThreadRegistry</a> *<dfn class="decl fn" id="__lsan::GetThreadRegistryLocked" title='__lsan::GetThreadRegistryLocked' data-ref="__lsan::GetThreadRegistryLocked" data-ref-filename="__lsan..GetThreadRegistryLocked">GetThreadRegistryLocked</dfn>();</td></tr>
<tr><th id="227">227</th><td><em>bool</em> <dfn class="decl fn" id="__lsan::GetThreadRangesLocked" title='__lsan::GetThreadRangesLocked' data-ref="__lsan::GetThreadRangesLocked" data-ref-filename="__lsan..GetThreadRangesLocked">GetThreadRangesLocked</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::tid_t" title='__sanitizer::tid_t' data-type='__sanitizer::u64' data-ref="__sanitizer::tid_t" data-ref-filename="__sanitizer..tid_t">tid_t</a> <dfn class="local col8 decl" id="198os_id" title='os_id' data-type='__sanitizer::tid_t' data-ref="198os_id" data-ref-filename="198os_id">os_id</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> *<dfn class="local col9 decl" id="199stack_begin" title='stack_begin' data-type='__sanitizer::uptr *' data-ref="199stack_begin" data-ref-filename="199stack_begin">stack_begin</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> *<dfn class="local col0 decl" id="200stack_end" title='stack_end' data-type='__sanitizer::uptr *' data-ref="200stack_end" data-ref-filename="200stack_end">stack_end</dfn>,</td></tr>
<tr><th id="228">228</th><td>                           <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> *<dfn class="local col1 decl" id="201tls_begin" title='tls_begin' data-type='__sanitizer::uptr *' data-ref="201tls_begin" data-ref-filename="201tls_begin">tls_begin</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> *<dfn class="local col2 decl" id="202tls_end" title='tls_end' data-type='__sanitizer::uptr *' data-ref="202tls_end" data-ref-filename="202tls_end">tls_end</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> *<dfn class="local col3 decl" id="203cache_begin" title='cache_begin' data-type='__sanitizer::uptr *' data-ref="203cache_begin" data-ref-filename="203cache_begin">cache_begin</dfn>,</td></tr>
<tr><th id="229">229</th><td>                           <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> *<dfn class="local col4 decl" id="204cache_end" title='cache_end' data-type='__sanitizer::uptr *' data-ref="204cache_end" data-ref-filename="204cache_end">cache_end</dfn>, <a class="type" href="../asan/asan_thread.h.html#__sanitizer::DTLS" title='__sanitizer::DTLS' data-ref="__sanitizer::DTLS" data-ref-filename="__sanitizer..DTLS">DTLS</a> **<dfn class="local col5 decl" id="205dtls" title='dtls' data-type='__sanitizer::DTLS **' data-ref="205dtls" data-ref-filename="205dtls">dtls</dfn>);</td></tr>
<tr><th id="230">230</th><td><em>void</em> <dfn class="decl fn" id="__lsan::GetAllThreadAllocatorCachesLocked" title='__lsan::GetAllThreadAllocatorCachesLocked' data-ref="__lsan::GetAllThreadAllocatorCachesLocked" data-ref-filename="__lsan..GetAllThreadAllocatorCachesLocked">GetAllThreadAllocatorCachesLocked</dfn>(<a class="type" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::InternalMmapVector" title='__sanitizer::InternalMmapVector' data-ref="__sanitizer::InternalMmapVector" data-ref-filename="__sanitizer..InternalMmapVector">InternalMmapVector</a>&lt;<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a>&gt; *<dfn class="local col6 decl" id="206caches" title='caches' data-type='InternalMmapVector&lt;__sanitizer::uptr&gt; *' data-ref="206caches" data-ref-filename="206caches">caches</dfn>);</td></tr>
<tr><th id="231">231</th><td><em>void</em> <dfn class="decl fn" id="__lsan::ForEachExtraStackRange" title='__lsan::ForEachExtraStackRange' data-ref="__lsan::ForEachExtraStackRange" data-ref-filename="__lsan..ForEachExtraStackRange">ForEachExtraStackRange</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::tid_t" title='__sanitizer::tid_t' data-type='__sanitizer::u64' data-ref="__sanitizer::tid_t" data-ref-filename="__sanitizer..tid_t">tid_t</a> <dfn class="local col7 decl" id="207os_id" title='os_id' data-type='__sanitizer::tid_t' data-ref="207os_id" data-ref-filename="207os_id">os_id</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::RangeIteratorCallback" title='__sanitizer::RangeIteratorCallback' data-type='void (*)(__sanitizer::uptr, __sanitizer::uptr, void *)' data-ref="__sanitizer::RangeIteratorCallback" data-ref-filename="__sanitizer..RangeIteratorCallback">RangeIteratorCallback</a> <dfn class="local col8 decl" id="208callback" title='callback' data-type='__sanitizer::RangeIteratorCallback' data-ref="208callback" data-ref-filename="208callback">callback</dfn>,</td></tr>
<tr><th id="232">232</th><td>                            <em>void</em> *<dfn class="local col9 decl" id="209arg" title='arg' data-type='void *' data-ref="209arg" data-ref-filename="209arg">arg</dfn>);</td></tr>
<tr><th id="233">233</th><td><i>// If called from the main thread, updates the main thread's TID in the thread</i></td></tr>
<tr><th id="234">234</th><td><i>// registry. We need this to handle processes that fork() without a subsequent</i></td></tr>
<tr><th id="235">235</th><td><i>// exec(), which invalidates the recorded TID. To update it, we must call</i></td></tr>
<tr><th id="236">236</th><td><i>// gettid() from the main thread. Our solution is to call this function before</i></td></tr>
<tr><th id="237">237</th><td><i>// leak checking and also before every call to pthread_create() (to handle cases</i></td></tr>
<tr><th id="238">238</th><td><i>// where leak checking is initiated from a non-main thread).</i></td></tr>
<tr><th id="239">239</th><td><em>void</em> <dfn class="decl fn" id="__lsan::EnsureMainThreadIDIsCorrect" title='__lsan::EnsureMainThreadIDIsCorrect' data-ref="__lsan::EnsureMainThreadIDIsCorrect" data-ref-filename="__lsan..EnsureMainThreadIDIsCorrect">EnsureMainThreadIDIsCorrect</dfn>();</td></tr>
<tr><th id="240">240</th><td><i>// If p points into a chunk that has been allocated to the user, returns its</i></td></tr>
<tr><th id="241">241</th><td><i>// user-visible address. Otherwise, returns 0.</i></td></tr>
<tr><th id="242">242</th><td><a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <a class="decl fn" href="../asan/asan_allocator.cpp.html#__lsan::PointsIntoChunk" title='__lsan::PointsIntoChunk' data-ref="__lsan::PointsIntoChunk" data-ref-filename="__lsan..PointsIntoChunk" id="__lsan::PointsIntoChunk">PointsIntoChunk</a>(<em>void</em> *<dfn class="local col0 decl" id="210p" title='p' data-type='void *' data-ref="210p" data-ref-filename="210p">p</dfn>);</td></tr>
<tr><th id="243">243</th><td><i>// Returns address of user-visible chunk contained in this allocator chunk.</i></td></tr>
<tr><th id="244">244</th><td><a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <a class="decl fn" href="../asan/asan_allocator.cpp.html#__lsan::GetUserBegin" title='__lsan::GetUserBegin' data-ref="__lsan::GetUserBegin" data-ref-filename="__lsan..GetUserBegin" id="__lsan::GetUserBegin">GetUserBegin</a>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col1 decl" id="211chunk" title='chunk' data-type='__sanitizer::uptr' data-ref="211chunk" data-ref-filename="211chunk">chunk</dfn>);</td></tr>
<tr><th id="245">245</th><td><i>// Helper for __lsan_ignore_object().</i></td></tr>
<tr><th id="246">246</th><td><a class="type" href="#__lsan::IgnoreObjectResult" title='__lsan::IgnoreObjectResult' data-ref="__lsan::IgnoreObjectResult" data-ref-filename="__lsan..IgnoreObjectResult">IgnoreObjectResult</a> <a class="decl fn" href="../asan/asan_allocator.cpp.html#__lsan::IgnoreObjectLocked" title='__lsan::IgnoreObjectLocked' data-ref="__lsan::IgnoreObjectLocked" data-ref-filename="__lsan..IgnoreObjectLocked" id="__lsan::IgnoreObjectLocked">IgnoreObjectLocked</a>(<em>const</em> <em>void</em> *<dfn class="local col2 decl" id="212p" title='p' data-type='const void *' data-ref="212p" data-ref-filename="212p">p</dfn>);</td></tr>
<tr><th id="247">247</th><td></td></tr>
<tr><th id="248">248</th><td><i>// Return the linker module, if valid for the platform.</i></td></tr>
<tr><th id="249">249</th><td><a class="type" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::LoadedModule" title='__sanitizer::LoadedModule' data-ref="__sanitizer::LoadedModule" data-ref-filename="__sanitizer..LoadedModule">LoadedModule</a> *<dfn class="decl fn" id="__lsan::GetLinker" title='__lsan::GetLinker' data-ref="__lsan::GetLinker" data-ref-filename="__lsan..GetLinker">GetLinker</dfn>();</td></tr>
<tr><th id="250">250</th><td></td></tr>
<tr><th id="251">251</th><td><i>// Return true if LSan has finished leak checking and reported leaks.</i></td></tr>
<tr><th id="252">252</th><td><em>bool</em> <dfn class="decl fn" id="__lsan::HasReportedLeaks" title='__lsan::HasReportedLeaks' data-ref="__lsan::HasReportedLeaks" data-ref-filename="__lsan..HasReportedLeaks">HasReportedLeaks</dfn>();</td></tr>
<tr><th id="253">253</th><td></td></tr>
<tr><th id="254">254</th><td><i>// Run platform-specific leak handlers.</i></td></tr>
<tr><th id="255">255</th><td><em>void</em> <dfn class="decl fn" id="__lsan::HandleLeaks" title='__lsan::HandleLeaks' data-ref="__lsan::HandleLeaks" data-ref-filename="__lsan..HandleLeaks">HandleLeaks</dfn>();</td></tr>
<tr><th id="256">256</th><td></td></tr>
<tr><th id="257">257</th><td><i>// Wrapper for chunk metadata operations.</i></td></tr>
<tr><th id="258">258</th><td><b>class</b> <dfn class="type def" id="__lsan::LsanMetadata" title='__lsan::LsanMetadata' data-ref="__lsan::LsanMetadata" data-ref-filename="__lsan..LsanMetadata">LsanMetadata</dfn> {</td></tr>
<tr><th id="259">259</th><td> <b>public</b>:</td></tr>
<tr><th id="260">260</th><td>  <i>// Constructor accepts address of user-visible chunk.</i></td></tr>
<tr><th id="261">261</th><td>  <b>explicit</b> <a class="decl fn" href="../asan/asan_allocator.cpp.html#__lsan::LsanMetadata::LsanMetadata" title='__lsan::LsanMetadata::LsanMetadata' data-ref="__lsan::LsanMetadata::LsanMetadata" data-ref-filename="__lsan..LsanMetadata..LsanMetadata" id="__lsan::LsanMetadata::LsanMetadata">LsanMetadata</a>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col3 decl" id="213chunk" title='chunk' data-type='__sanitizer::uptr' data-ref="213chunk" data-ref-filename="213chunk">chunk</dfn>);</td></tr>
<tr><th id="262">262</th><td>  <em>bool</em> <a class="decl fn" href="../asan/asan_allocator.cpp.html#__lsan::LsanMetadata::allocated" title='__lsan::LsanMetadata::allocated' data-ref="__lsan::LsanMetadata::allocated" data-ref-filename="__lsan..LsanMetadata..allocated" id="__lsan::LsanMetadata::allocated">allocated</a>() <em>const</em>;</td></tr>
<tr><th id="263">263</th><td>  <a class="type" href="#__lsan::ChunkTag" title='__lsan::ChunkTag' data-ref="__lsan::ChunkTag" data-ref-filename="__lsan..ChunkTag">ChunkTag</a> <a class="decl fn" href="../asan/asan_allocator.cpp.html#__lsan::LsanMetadata::tag" title='__lsan::LsanMetadata::tag' data-ref="__lsan::LsanMetadata::tag" data-ref-filename="__lsan..LsanMetadata..tag" id="__lsan::LsanMetadata::tag">tag</a>() <em>const</em>;</td></tr>
<tr><th id="264">264</th><td>  <em>void</em> <a class="decl fn" href="../asan/asan_allocator.cpp.html#__lsan::LsanMetadata::set_tag" title='__lsan::LsanMetadata::set_tag' data-ref="__lsan::LsanMetadata::set_tag" data-ref-filename="__lsan..LsanMetadata..set_tag" id="__lsan::LsanMetadata::set_tag">set_tag</a>(<a class="type" href="#__lsan::ChunkTag" title='__lsan::ChunkTag' data-ref="__lsan::ChunkTag" data-ref-filename="__lsan..ChunkTag">ChunkTag</a> <dfn class="local col4 decl" id="214value" title='value' data-type='__lsan::ChunkTag' data-ref="214value" data-ref-filename="214value">value</dfn>);</td></tr>
<tr><th id="265">265</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <a class="decl fn" href="../asan/asan_allocator.cpp.html#__lsan::LsanMetadata::requested_size" title='__lsan::LsanMetadata::requested_size' data-ref="__lsan::LsanMetadata::requested_size" data-ref-filename="__lsan..LsanMetadata..requested_size" id="__lsan::LsanMetadata::requested_size">requested_size</a>() <em>const</em>;</td></tr>
<tr><th id="266">266</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::u32" title='__sanitizer::u32' data-type='unsigned int' data-ref="__sanitizer::u32" data-ref-filename="__sanitizer..u32">u32</a> <a class="decl fn" href="../asan/asan_allocator.cpp.html#__lsan::LsanMetadata::stack_trace_id" title='__lsan::LsanMetadata::stack_trace_id' data-ref="__lsan::LsanMetadata::stack_trace_id" data-ref-filename="__lsan..LsanMetadata..stack_trace_id" id="__lsan::LsanMetadata::stack_trace_id">stack_trace_id</a>() <em>const</em>;</td></tr>
<tr><th id="267">267</th><td> <b>private</b>:</td></tr>
<tr><th id="268">268</th><td>  <em>void</em> *<dfn class="decl field" id="__lsan::LsanMetadata::metadata_" title='__lsan::LsanMetadata::metadata_' data-ref="__lsan::LsanMetadata::metadata_" data-ref-filename="__lsan..LsanMetadata..metadata_">metadata_</dfn>;</td></tr>
<tr><th id="269">269</th><td>};</td></tr>
<tr><th id="270">270</th><td></td></tr>
<tr><th id="271">271</th><td>}  <i>// namespace __lsan</i></td></tr>
<tr><th id="272">272</th><td></td></tr>
<tr><th id="273">273</th><td><b>extern</b> <q>"C"</q> {</td></tr>
<tr><th id="274">274</th><td><a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#36" title="__attribute__((visibility(&quot;default&quot;)))" data-ref="_M/SANITIZER_INTERFACE_ATTRIBUTE">SANITIZER_INTERFACE_ATTRIBUTE</a> <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#37" title="__attribute__((weak))" data-ref="_M/SANITIZER_WEAK_ATTRIBUTE">SANITIZER_WEAK_ATTRIBUTE</a></td></tr>
<tr><th id="275">275</th><td><em>const</em> <em>char</em> *<dfn class="decl fn" id="__lsan_default_options" title='__lsan_default_options' data-ref="__lsan_default_options" data-ref-filename="__lsan_default_options">__lsan_default_options</dfn>();</td></tr>
<tr><th id="276">276</th><td></td></tr>
<tr><th id="277">277</th><td><a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#36" title="__attribute__((visibility(&quot;default&quot;)))" data-ref="_M/SANITIZER_INTERFACE_ATTRIBUTE">SANITIZER_INTERFACE_ATTRIBUTE</a> <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#37" title="__attribute__((weak))" data-ref="_M/SANITIZER_WEAK_ATTRIBUTE">SANITIZER_WEAK_ATTRIBUTE</a></td></tr>
<tr><th id="278">278</th><td><em>int</em> <dfn class="decl fn" id="__lsan_is_turned_off" title='__lsan_is_turned_off' data-ref="__lsan_is_turned_off" data-ref-filename="__lsan_is_turned_off">__lsan_is_turned_off</dfn>();</td></tr>
<tr><th id="279">279</th><td></td></tr>
<tr><th id="280">280</th><td><a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#36" title="__attribute__((visibility(&quot;default&quot;)))" data-ref="_M/SANITIZER_INTERFACE_ATTRIBUTE">SANITIZER_INTERFACE_ATTRIBUTE</a> <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#37" title="__attribute__((weak))" data-ref="_M/SANITIZER_WEAK_ATTRIBUTE">SANITIZER_WEAK_ATTRIBUTE</a></td></tr>
<tr><th id="281">281</th><td><em>const</em> <em>char</em> *<dfn class="decl fn" id="__lsan_default_suppressions" title='__lsan_default_suppressions' data-ref="__lsan_default_suppressions" data-ref-filename="__lsan_default_suppressions">__lsan_default_suppressions</dfn>();</td></tr>
<tr><th id="282">282</th><td>}  <i>// extern "C"</i></td></tr>
<tr><th id="283">283</th><td></td></tr>
<tr><th id="284">284</th><td><u>#<span data-ppcond="14">endif</span>  // LSAN_COMMON_H</u></td></tr>
<tr><th id="285">285</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../asan/asan_allocator.cpp.html'>llvm/compiler-rt/lib/asan/asan_allocator.cpp</a><br/>Generated on <em>2021-Jul-01</em> from project llvm revision <em>12</em>