<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>hwasan_linux.cpp source code [llvm/compiler-rt/lib/hwasan/hwasan_linux.cpp] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="__hwasan::AccessInfo "/>
<link rel="stylesheet" href="../../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'llvm/compiler-rt/lib/hwasan/hwasan_linux.cpp'; var root_path = '../../../..'; var data_path = '../../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>llvm</a>/<a href='../..'>compiler-rt</a>/<a href='..'>lib</a>/<a href='./'>hwasan</a>/<a href='hwasan_linux.cpp.html'>hwasan_linux.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>//===-- hwasan_linux.cpp ----------------------------------------*- C++ -*-===//</i></td></tr>
<tr><th id="2">2</th><td><i>//</i></td></tr>
<tr><th id="3">3</th><td><i>// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</i></td></tr>
<tr><th id="4">4</th><td><i>// See <a href="https://llvm.org/LICENSE.txt">https://llvm.org/LICENSE.txt</a> for license information.</i></td></tr>
<tr><th id="5">5</th><td><i>// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</i></td></tr>
<tr><th id="6">6</th><td><i>//</i></td></tr>
<tr><th id="7">7</th><td><i>//===----------------------------------------------------------------------===//</i></td></tr>
<tr><th id="8">8</th><td><i>///</i></td></tr>
<tr><th id="9">9</th><td><i>/// \file</i></td></tr>
<tr><th id="10">10</th><td><i>/// This file is a part of HWAddressSanitizer and contains Linux-, NetBSD- and</i></td></tr>
<tr><th id="11">11</th><td><i>/// FreeBSD-specific code.</i></td></tr>
<tr><th id="12">12</th><td><i>///</i></td></tr>
<tr><th id="13">13</th><td><i>//===----------------------------------------------------------------------===//</i></td></tr>
<tr><th id="14">14</th><td></td></tr>
<tr><th id="15">15</th><td><u>#include <a href="../sanitizer_common/sanitizer_platform.h.html">"sanitizer_common/sanitizer_platform.h"</a></u></td></tr>
<tr><th id="16">16</th><td><u>#<span data-ppcond="16">if</span> <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#44" title="0" data-ref="_M/SANITIZER_FREEBSD">SANITIZER_FREEBSD</a> || <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#30" title="1" data-ref="_M/SANITIZER_LINUX">SANITIZER_LINUX</a> || <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#50" title="0" data-ref="_M/SANITIZER_NETBSD">SANITIZER_NETBSD</a></u></td></tr>
<tr><th id="17">17</th><td></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="hwasan.h.html">"hwasan.h"</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="hwasan_dynamic_shadow.h.html">"hwasan_dynamic_shadow.h"</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="hwasan_interface_internal.h.html">"hwasan_interface_internal.h"</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="hwasan_mapping.h.html">"hwasan_mapping.h"</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="hwasan_report.h.html">"hwasan_report.h"</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="hwasan_thread.h.html">"hwasan_thread.h"</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="hwasan_thread_list.h.html">"hwasan_thread_list.h"</a></u></td></tr>
<tr><th id="25">25</th><td></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="../../../../include/dlfcn.h.html">&lt;dlfcn.h&gt;</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="../../../../include/elf.h.html">&lt;elf.h&gt;</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="../../../../include/link.h.html">&lt;link.h&gt;</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="../../../../include/pthread.h.html">&lt;pthread.h&gt;</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="../../../../include/signal.h.html">&lt;signal.h&gt;</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="../../../../include/stdio.h.html">&lt;stdio.h&gt;</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../../../../include/stdlib.h.html">&lt;stdlib.h&gt;</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="../../../../include/sys/resource.h.html">&lt;sys/resource.h&gt;</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="../../../../include/sys/time.h.html">&lt;sys/time.h&gt;</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="../../../../include/unistd.h.html">&lt;unistd.h&gt;</a></u></td></tr>
<tr><th id="36">36</th><td><u>#include &lt;unwind.h&gt;</u></td></tr>
<tr><th id="37">37</th><td><u>#include <a href="../../../../include/sys/prctl.h.html">&lt;sys/prctl.h&gt;</a></u></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="../../../../include/errno.h.html">&lt;errno.h&gt;</a></u></td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td><u>#include <a href="../sanitizer_common/sanitizer_common.h.html">"sanitizer_common/sanitizer_common.h"</a></u></td></tr>
<tr><th id="41">41</th><td><u>#include <a href="../sanitizer_common/sanitizer_procmaps.h.html">"sanitizer_common/sanitizer_procmaps.h"</a></u></td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><i>// Configurations of HWASAN_WITH_INTERCEPTORS and SANITIZER_ANDROID.</i></td></tr>
<tr><th id="44">44</th><td><i>//</i></td></tr>
<tr><th id="45">45</th><td><i>// HWASAN_WITH_INTERCEPTORS=OFF, SANITIZER_ANDROID=OFF</i></td></tr>
<tr><th id="46">46</th><td><i>//   Not currently tested.</i></td></tr>
<tr><th id="47">47</th><td><i>// HWASAN_WITH_INTERCEPTORS=OFF, SANITIZER_ANDROID=ON</i></td></tr>
<tr><th id="48">48</th><td><i>//   Integration tests downstream exist.</i></td></tr>
<tr><th id="49">49</th><td><i>// HWASAN_WITH_INTERCEPTORS=ON, SANITIZER_ANDROID=OFF</i></td></tr>
<tr><th id="50">50</th><td><i>//    Tested with check-hwasan on x86_64-linux.</i></td></tr>
<tr><th id="51">51</th><td><i>// HWASAN_WITH_INTERCEPTORS=ON, SANITIZER_ANDROID=ON</i></td></tr>
<tr><th id="52">52</th><td><i>//    Tested with check-hwasan on aarch64-linux-android.</i></td></tr>
<tr><th id="53">53</th><td><u>#<span data-ppcond="53">if</span> !<a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#105" title="0" data-ref="_M/SANITIZER_ANDROID">SANITIZER_ANDROID</a></u></td></tr>
<tr><th id="54">54</th><td><a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#36" title="__attribute__((visibility(&quot;default&quot;)))" data-ref="_M/SANITIZER_INTERFACE_ATTRIBUTE">SANITIZER_INTERFACE_ATTRIBUTE</a></td></tr>
<tr><th id="55">55</th><td><a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#227" title="__thread" data-ref="_M/THREADLOCAL">THREADLOCAL</a> <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl def" id="__hwasan_tls" title='__hwasan_tls' data-ref="__hwasan_tls" data-ref-filename="__hwasan_tls">__hwasan_tls</dfn>;</td></tr>
<tr><th id="56">56</th><td><u>#<span data-ppcond="53">endif</span></u></td></tr>
<tr><th id="57">57</th><td></td></tr>
<tr><th id="58">58</th><td><b>namespace</b> <span class="namespace">__hwasan</span> {</td></tr>
<tr><th id="59">59</th><td></td></tr>
<tr><th id="60">60</th><td><i  data-doc="__hwasan::kZeroBaseShadowStart">// With the zero shadow base we can not actually map pages starting from 0.</i></td></tr>
<tr><th id="61">61</th><td><i  data-doc="__hwasan::kZeroBaseShadowStart">// This constant is somewhat arbitrary.</i></td></tr>
<tr><th id="62">62</th><td><b>constexpr</b> <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="tu decl def" id="__hwasan::kZeroBaseShadowStart" title='__hwasan::kZeroBaseShadowStart' data-type='const __sanitizer::uptr' data-ref="__hwasan::kZeroBaseShadowStart" data-ref-filename="__hwasan..kZeroBaseShadowStart">kZeroBaseShadowStart</dfn> = <var>0</var>;</td></tr>
<tr><th id="63">63</th><td><b>constexpr</b> <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="tu decl def" id="__hwasan::kZeroBaseMaxShadowStart" title='__hwasan::kZeroBaseMaxShadowStart' data-type='const __sanitizer::uptr' data-ref="__hwasan::kZeroBaseMaxShadowStart" data-ref-filename="__hwasan..kZeroBaseMaxShadowStart">kZeroBaseMaxShadowStart</dfn> = <var>1</var> &lt;&lt; <var>18</var>;</td></tr>
<tr><th id="64">64</th><td></td></tr>
<tr><th id="65">65</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="__hwasan::ProtectGap" title='__hwasan::ProtectGap' data-type='void __hwasan::ProtectGap(__sanitizer::uptr addr, __sanitizer::uptr size)' data-ref="__hwasan::ProtectGap" data-ref-filename="__hwasan..ProtectGap">ProtectGap</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col2 decl" id="2addr" title='addr' data-type='__sanitizer::uptr' data-ref="2addr" data-ref-filename="2addr">addr</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col3 decl" id="3size" title='size' data-type='__sanitizer::uptr' data-ref="3size" data-ref-filename="3size">size</dfn>) {</td></tr>
<tr><th id="66">66</th><td>  <span class="namespace">__sanitizer::</span><a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::ProtectGap" title='__sanitizer::ProtectGap' data-ref="__sanitizer::ProtectGap" data-ref-filename="__sanitizer..ProtectGap">ProtectGap</a>(<a class="local col2 ref" href="#2addr" title='addr' data-ref="2addr" data-ref-filename="2addr">addr</a>, <a class="local col3 ref" href="#3size" title='size' data-ref="3size" data-ref-filename="3size">size</a>, <a class="tu ref" href="#__hwasan::kZeroBaseShadowStart" title='__hwasan::kZeroBaseShadowStart' data-use='r' data-ref="__hwasan::kZeroBaseShadowStart" data-ref-filename="__hwasan..kZeroBaseShadowStart">kZeroBaseShadowStart</a>,</td></tr>
<tr><th id="67">67</th><td>                          <a class="tu ref" href="#__hwasan::kZeroBaseMaxShadowStart" title='__hwasan::kZeroBaseMaxShadowStart' data-use='r' data-ref="__hwasan::kZeroBaseMaxShadowStart" data-ref-filename="__hwasan..kZeroBaseMaxShadowStart">kZeroBaseMaxShadowStart</a>);</td></tr>
<tr><th id="68">68</th><td>}</td></tr>
<tr><th id="69">69</th><td></td></tr>
<tr><th id="70">70</th><td><a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl def" id="__hwasan::kLowMemStart" title='__hwasan::kLowMemStart' data-ref="__hwasan::kLowMemStart" data-ref-filename="__hwasan..kLowMemStart">kLowMemStart</dfn>;</td></tr>
<tr><th id="71">71</th><td><a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl def" id="__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</dfn>;</td></tr>
<tr><th id="72">72</th><td><a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl def" id="__hwasan::kLowShadowEnd" title='__hwasan::kLowShadowEnd' data-ref="__hwasan::kLowShadowEnd" data-ref-filename="__hwasan..kLowShadowEnd">kLowShadowEnd</dfn>;</td></tr>
<tr><th id="73">73</th><td><a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl def" id="__hwasan::kLowShadowStart" title='__hwasan::kLowShadowStart' data-ref="__hwasan::kLowShadowStart" data-ref-filename="__hwasan..kLowShadowStart">kLowShadowStart</dfn>;</td></tr>
<tr><th id="74">74</th><td><a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl def" id="__hwasan::kHighShadowStart" title='__hwasan::kHighShadowStart' data-ref="__hwasan::kHighShadowStart" data-ref-filename="__hwasan..kHighShadowStart">kHighShadowStart</dfn>;</td></tr>
<tr><th id="75">75</th><td><a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl def" id="__hwasan::kHighShadowEnd" title='__hwasan::kHighShadowEnd' data-ref="__hwasan::kHighShadowEnd" data-ref-filename="__hwasan..kHighShadowEnd">kHighShadowEnd</dfn>;</td></tr>
<tr><th id="76">76</th><td><a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl def" id="__hwasan::kHighMemStart" title='__hwasan::kHighMemStart' data-ref="__hwasan::kHighMemStart" data-ref-filename="__hwasan..kHighMemStart">kHighMemStart</dfn>;</td></tr>
<tr><th id="77">77</th><td><a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="decl def" id="__hwasan::kHighMemEnd" title='__hwasan::kHighMemEnd' data-ref="__hwasan::kHighMemEnd" data-ref-filename="__hwasan..kHighMemEnd">kHighMemEnd</dfn>;</td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="__hwasan::PrintRange" title='__hwasan::PrintRange' data-type='void __hwasan::PrintRange(__sanitizer::uptr start, __sanitizer::uptr end, const char * name)' data-ref="__hwasan::PrintRange" data-ref-filename="__hwasan..PrintRange">PrintRange</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col4 decl" id="4start" title='start' data-type='__sanitizer::uptr' data-ref="4start" data-ref-filename="4start">start</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col5 decl" id="5end" title='end' data-type='__sanitizer::uptr' data-ref="5end" data-ref-filename="5end">end</dfn>, <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="6name" title='name' data-type='const char *' data-ref="6name" data-ref-filename="6name">name</dfn>) {</td></tr>
<tr><th id="80">80</th><td>  <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::Printf" title='__sanitizer::Printf' data-ref="__sanitizer::Printf" data-ref-filename="__sanitizer..Printf">Printf</a>(<q>"|| [%p, %p] || %.*s ||\n"</q>, (<em>void</em> *)<a class="local col4 ref" href="#4start" title='start' data-ref="4start" data-ref-filename="4start">start</a>, (<em>void</em> *)<a class="local col5 ref" href="#5end" title='end' data-ref="5end" data-ref-filename="5end">end</a>, <var>10</var>, <a class="local col6 ref" href="#6name" title='name' data-ref="6name" data-ref-filename="6name">name</a>);</td></tr>
<tr><th id="81">81</th><td>}</td></tr>
<tr><th id="82">82</th><td></td></tr>
<tr><th id="83">83</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="__hwasan::PrintAddressSpaceLayout" title='__hwasan::PrintAddressSpaceLayout' data-type='void __hwasan::PrintAddressSpaceLayout()' data-ref="__hwasan::PrintAddressSpaceLayout" data-ref-filename="__hwasan..PrintAddressSpaceLayout">PrintAddressSpaceLayout</dfn>() {</td></tr>
<tr><th id="84">84</th><td>  <a class="tu ref fn" href="#__hwasan::PrintRange" title='__hwasan::PrintRange' data-use='c' data-ref="__hwasan::PrintRange" data-ref-filename="__hwasan..PrintRange">PrintRange</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighMemStart" title='__hwasan::kHighMemStart' data-ref="__hwasan::kHighMemStart" data-ref-filename="__hwasan..kHighMemStart">kHighMemStart</a>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighMemEnd" title='__hwasan::kHighMemEnd' data-ref="__hwasan::kHighMemEnd" data-ref-filename="__hwasan..kHighMemEnd">kHighMemEnd</a>, <q>"HighMem"</q>);</td></tr>
<tr><th id="85">85</th><td>  <b>if</b> (<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowEnd" title='__hwasan::kHighShadowEnd' data-ref="__hwasan::kHighShadowEnd" data-ref-filename="__hwasan..kHighShadowEnd">kHighShadowEnd</a> + <var>1</var> &lt; <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighMemStart" title='__hwasan::kHighMemStart' data-ref="__hwasan::kHighMemStart" data-ref-filename="__hwasan..kHighMemStart">kHighMemStart</a>)</td></tr>
<tr><th id="86">86</th><td>    <a class="tu ref fn" href="#__hwasan::PrintRange" title='__hwasan::PrintRange' data-use='c' data-ref="__hwasan::PrintRange" data-ref-filename="__hwasan..PrintRange">PrintRange</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowEnd" title='__hwasan::kHighShadowEnd' data-ref="__hwasan::kHighShadowEnd" data-ref-filename="__hwasan..kHighShadowEnd">kHighShadowEnd</a> + <var>1</var>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighMemStart" title='__hwasan::kHighMemStart' data-ref="__hwasan::kHighMemStart" data-ref-filename="__hwasan..kHighMemStart">kHighMemStart</a> - <var>1</var>, <q>"ShadowGap"</q>);</td></tr>
<tr><th id="87">87</th><td>  <b>else</b></td></tr>
<tr><th id="88">88</th><td>    <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#300" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((kHighShadowEnd + 1)); __sanitizer::u64 v2 = (__sanitizer::u64)((kHighMemStart)); if (__builtin_expect(!!(!(v1 == v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 88, &quot;(&quot; &quot;(kHighShadowEnd + 1)&quot; &quot;) &quot; &quot;==&quot; &quot; (&quot; &quot;(kHighMemStart)&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK_EQ">CHECK_EQ</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowEnd" title='__hwasan::kHighShadowEnd' data-ref="__hwasan::kHighShadowEnd" data-ref-filename="__hwasan..kHighShadowEnd">kHighShadowEnd</a> + <var>1</var>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighMemStart" title='__hwasan::kHighMemStart' data-ref="__hwasan::kHighMemStart" data-ref-filename="__hwasan..kHighMemStart">kHighMemStart</a>);</td></tr>
<tr><th id="89">89</th><td>  <a class="tu ref fn" href="#__hwasan::PrintRange" title='__hwasan::PrintRange' data-use='c' data-ref="__hwasan::PrintRange" data-ref-filename="__hwasan..PrintRange">PrintRange</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowStart" title='__hwasan::kHighShadowStart' data-ref="__hwasan::kHighShadowStart" data-ref-filename="__hwasan..kHighShadowStart">kHighShadowStart</a>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowEnd" title='__hwasan::kHighShadowEnd' data-ref="__hwasan::kHighShadowEnd" data-ref-filename="__hwasan..kHighShadowEnd">kHighShadowEnd</a>, <q>"HighShadow"</q>);</td></tr>
<tr><th id="90">90</th><td>  <b>if</b> (<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowEnd" title='__hwasan::kLowShadowEnd' data-ref="__hwasan::kLowShadowEnd" data-ref-filename="__hwasan..kLowShadowEnd">kLowShadowEnd</a> + <var>1</var> &lt; <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowStart" title='__hwasan::kHighShadowStart' data-ref="__hwasan::kHighShadowStart" data-ref-filename="__hwasan..kHighShadowStart">kHighShadowStart</a>)</td></tr>
<tr><th id="91">91</th><td>    <a class="tu ref fn" href="#__hwasan::PrintRange" title='__hwasan::PrintRange' data-use='c' data-ref="__hwasan::PrintRange" data-ref-filename="__hwasan..PrintRange">PrintRange</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowEnd" title='__hwasan::kLowShadowEnd' data-ref="__hwasan::kLowShadowEnd" data-ref-filename="__hwasan..kLowShadowEnd">kLowShadowEnd</a> + <var>1</var>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowStart" title='__hwasan::kHighShadowStart' data-ref="__hwasan::kHighShadowStart" data-ref-filename="__hwasan..kHighShadowStart">kHighShadowStart</a> - <var>1</var>, <q>"ShadowGap"</q>);</td></tr>
<tr><th id="92">92</th><td>  <b>else</b></td></tr>
<tr><th id="93">93</th><td>    <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#300" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((kLowMemEnd + 1)); __sanitizer::u64 v2 = (__sanitizer::u64)((kHighShadowStart)); if (__builtin_expect(!!(!(v1 == v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 93, &quot;(&quot; &quot;(kLowMemEnd + 1)&quot; &quot;) &quot; &quot;==&quot; &quot; (&quot; &quot;(kHighShadowStart)&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK_EQ">CHECK_EQ</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a> + <var>1</var>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowStart" title='__hwasan::kHighShadowStart' data-ref="__hwasan::kHighShadowStart" data-ref-filename="__hwasan..kHighShadowStart">kHighShadowStart</a>);</td></tr>
<tr><th id="94">94</th><td>  <a class="tu ref fn" href="#__hwasan::PrintRange" title='__hwasan::PrintRange' data-use='c' data-ref="__hwasan::PrintRange" data-ref-filename="__hwasan..PrintRange">PrintRange</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowStart" title='__hwasan::kLowShadowStart' data-ref="__hwasan::kLowShadowStart" data-ref-filename="__hwasan..kLowShadowStart">kLowShadowStart</a>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowEnd" title='__hwasan::kLowShadowEnd' data-ref="__hwasan::kLowShadowEnd" data-ref-filename="__hwasan..kLowShadowEnd">kLowShadowEnd</a>, <q>"LowShadow"</q>);</td></tr>
<tr><th id="95">95</th><td>  <b>if</b> (<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a> + <var>1</var> &lt; <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowStart" title='__hwasan::kLowShadowStart' data-ref="__hwasan::kLowShadowStart" data-ref-filename="__hwasan..kLowShadowStart">kLowShadowStart</a>)</td></tr>
<tr><th id="96">96</th><td>    <a class="tu ref fn" href="#__hwasan::PrintRange" title='__hwasan::PrintRange' data-use='c' data-ref="__hwasan::PrintRange" data-ref-filename="__hwasan..PrintRange">PrintRange</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a> + <var>1</var>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowStart" title='__hwasan::kLowShadowStart' data-ref="__hwasan::kLowShadowStart" data-ref-filename="__hwasan..kLowShadowStart">kLowShadowStart</a> - <var>1</var>, <q>"ShadowGap"</q>);</td></tr>
<tr><th id="97">97</th><td>  <b>else</b></td></tr>
<tr><th id="98">98</th><td>    <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#300" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((kLowMemEnd + 1)); __sanitizer::u64 v2 = (__sanitizer::u64)((kLowShadowStart)); if (__builtin_expect(!!(!(v1 == v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 98, &quot;(&quot; &quot;(kLowMemEnd + 1)&quot; &quot;) &quot; &quot;==&quot; &quot; (&quot; &quot;(kLowShadowStart)&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK_EQ">CHECK_EQ</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a> + <var>1</var>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowStart" title='__hwasan::kLowShadowStart' data-ref="__hwasan::kLowShadowStart" data-ref-filename="__hwasan..kLowShadowStart">kLowShadowStart</a>);</td></tr>
<tr><th id="99">99</th><td>  <a class="tu ref fn" href="#__hwasan::PrintRange" title='__hwasan::PrintRange' data-use='c' data-ref="__hwasan::PrintRange" data-ref-filename="__hwasan..PrintRange">PrintRange</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemStart" title='__hwasan::kLowMemStart' data-ref="__hwasan::kLowMemStart" data-ref-filename="__hwasan..kLowMemStart">kLowMemStart</a>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a>, <q>"LowMem"</q>);</td></tr>
<tr><th id="100">100</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#300" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((0)); __sanitizer::u64 v2 = (__sanitizer::u64)((kLowMemStart)); if (__builtin_expect(!!(!(v1 == v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 100, &quot;(&quot; &quot;(0)&quot; &quot;) &quot; &quot;==&quot; &quot; (&quot; &quot;(kLowMemStart)&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK_EQ">CHECK_EQ</a>(<var>0</var>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemStart" title='__hwasan::kLowMemStart' data-ref="__hwasan::kLowMemStart" data-ref-filename="__hwasan..kLowMemStart">kLowMemStart</a>);</td></tr>
<tr><th id="101">101</th><td>}</td></tr>
<tr><th id="102">102</th><td></td></tr>
<tr><th id="103">103</th><td><em>static</em> <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="tu decl def fn" id="__hwasan::GetHighMemEnd" title='__hwasan::GetHighMemEnd' data-type='__sanitizer::uptr __hwasan::GetHighMemEnd()' data-ref="__hwasan::GetHighMemEnd" data-ref-filename="__hwasan..GetHighMemEnd">GetHighMemEnd</dfn>() {</td></tr>
<tr><th id="104">104</th><td>  <i>// HighMem covers the upper part of the address space.</i></td></tr>
<tr><th id="105">105</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col7 decl" id="7max_address" title='max_address' data-type='__sanitizer::uptr' data-ref="7max_address" data-ref-filename="7max_address">max_address</dfn> = <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::GetMaxUserVirtualAddress" title='__sanitizer::GetMaxUserVirtualAddress' data-ref="__sanitizer::GetMaxUserVirtualAddress" data-ref-filename="__sanitizer..GetMaxUserVirtualAddress">GetMaxUserVirtualAddress</a>();</td></tr>
<tr><th id="106">106</th><td>  <i>// Adjust max address to make sure that kHighMemEnd and kHighMemStart are</i></td></tr>
<tr><th id="107">107</th><td><i>  // properly aligned:</i></td></tr>
<tr><th id="108">108</th><td>  <a class="local col7 ref" href="#7max_address" title='max_address' data-ref="7max_address" data-ref-filename="7max_address">max_address</a> |= (<a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::GetMmapGranularity" title='__sanitizer::GetMmapGranularity' data-ref="__sanitizer::GetMmapGranularity" data-ref-filename="__sanitizer..GetMmapGranularity">GetMmapGranularity</a>() &lt;&lt; <a class="ref" href="hwasan_mapping.h.html#kShadowScale" title='kShadowScale' data-ref="kShadowScale" data-ref-filename="kShadowScale">kShadowScale</a>) - <var>1</var>;</td></tr>
<tr><th id="109">109</th><td>  <b>return</b> <a class="local col7 ref" href="#7max_address" title='max_address' data-ref="7max_address" data-ref-filename="7max_address">max_address</a>;</td></tr>
<tr><th id="110">110</th><td>}</td></tr>
<tr><th id="111">111</th><td></td></tr>
<tr><th id="112">112</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="__hwasan::InitializeShadowBaseAddress" title='__hwasan::InitializeShadowBaseAddress' data-type='void __hwasan::InitializeShadowBaseAddress(__sanitizer::uptr shadow_size_bytes)' data-ref="__hwasan::InitializeShadowBaseAddress" data-ref-filename="__hwasan..InitializeShadowBaseAddress">InitializeShadowBaseAddress</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col8 decl" id="8shadow_size_bytes" title='shadow_size_bytes' data-type='__sanitizer::uptr' data-ref="8shadow_size_bytes" data-ref-filename="8shadow_size_bytes">shadow_size_bytes</dfn>) {</td></tr>
<tr><th id="113">113</th><td>  <a class="ref" href="hwasan_interface_internal.h.html#__hwasan_shadow_memory_dynamic_address" title='__hwasan_shadow_memory_dynamic_address' data-ref="__hwasan_shadow_memory_dynamic_address" data-ref-filename="__hwasan_shadow_memory_dynamic_address">__hwasan_shadow_memory_dynamic_address</a> =</td></tr>
<tr><th id="114">114</th><td>      <a class="ref fn" href="hwasan_dynamic_shadow.h.html#__hwasan::FindDynamicShadowStart" title='__hwasan::FindDynamicShadowStart' data-ref="__hwasan::FindDynamicShadowStart" data-ref-filename="__hwasan..FindDynamicShadowStart">FindDynamicShadowStart</a>(<a class="local col8 ref" href="#8shadow_size_bytes" title='shadow_size_bytes' data-ref="8shadow_size_bytes" data-ref-filename="8shadow_size_bytes">shadow_size_bytes</a>);</td></tr>
<tr><th id="115">115</th><td>}</td></tr>
<tr><th id="116">116</th><td></td></tr>
<tr><th id="117">117</th><td><em>void</em> <dfn class="decl def fn" id="__hwasan::InitPrctl" title='__hwasan::InitPrctl' data-ref="__hwasan::InitPrctl" data-ref-filename="__hwasan..InitPrctl">InitPrctl</dfn>() {</td></tr>
<tr><th id="118">118</th><td><u>#define <dfn class="macro" id="_M/PR_SET_TAGGED_ADDR_CTRL" data-ref="_M/PR_SET_TAGGED_ADDR_CTRL">PR_SET_TAGGED_ADDR_CTRL</dfn> 55</u></td></tr>
<tr><th id="119">119</th><td><u>#define <dfn class="macro" id="_M/PR_GET_TAGGED_ADDR_CTRL" data-ref="_M/PR_GET_TAGGED_ADDR_CTRL">PR_GET_TAGGED_ADDR_CTRL</dfn> 56</u></td></tr>
<tr><th id="120">120</th><td><u>#define <dfn class="macro" id="_M/PR_TAGGED_ADDR_ENABLE" data-ref="_M/PR_TAGGED_ADDR_ENABLE">PR_TAGGED_ADDR_ENABLE</dfn> (1UL &lt;&lt; 0)</u></td></tr>
<tr><th id="121">121</th><td>  <i>// Check we're running on a kernel that can use the tagged address ABI.</i></td></tr>
<tr><th id="122">122</th><td>  <b>if</b> (<a class="ref fn" href="../sanitizer_common/sanitizer_linux.h.html#__sanitizer::internal_prctl" title='__sanitizer::internal_prctl' data-ref="__sanitizer::internal_prctl" data-ref-filename="__sanitizer..internal_prctl">internal_prctl</a>(<a class="macro" href="#119" title="56" data-ref="_M/PR_GET_TAGGED_ADDR_CTRL">PR_GET_TAGGED_ADDR_CTRL</a>, <var>0</var>, <var>0</var>, <var>0</var>, <var>0</var>) == (<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a>)-<var>1</var> &amp;&amp;</td></tr>
<tr><th id="123">123</th><td>      <a class="macro" href="../../../../include/errno.h.html#38" title="(*__errno_location ())" data-ref="_M/errno">errno</a> == <a class="macro" href="../../../../include/asm-generic/errno-base.h.html#26" title="22" data-ref="_M/EINVAL">EINVAL</a>) {</td></tr>
<tr><th id="124">124</th><td><u>#<span data-ppcond="124">if</span> <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#105" title="0" data-ref="_M/SANITIZER_ANDROID">SANITIZER_ANDROID</a></u></td></tr>
<tr><th id="125">125</th><td>    <i>// Some older Android kernels have the tagged pointer ABI on</i></td></tr>
<tr><th id="126">126</th><td><i>    // unconditionally, and hence don't have the tagged-addr prctl while still</i></td></tr>
<tr><th id="127">127</th><td><i>    // allow the ABI.</i></td></tr>
<tr><th id="128">128</th><td><i>    // If targeting Android and the prctl is not around we assume this is the</i></td></tr>
<tr><th id="129">129</th><td><i>    // case.</i></td></tr>
<tr><th id="130">130</th><td>    <b>return</b>;</td></tr>
<tr><th id="131">131</th><td><u>#<span data-ppcond="124">else</span></u></td></tr>
<tr><th id="132">132</th><td>    <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::Printf" title='__sanitizer::Printf' data-ref="__sanitizer::Printf" data-ref-filename="__sanitizer..Printf">Printf</a>(</td></tr>
<tr><th id="133">133</th><td>        <q>"FATAL: "</q></td></tr>
<tr><th id="134">134</th><td>        <q>"HWAddressSanitizer requires a kernel with tagged address ABI.\n"</q>);</td></tr>
<tr><th id="135">135</th><td>    <a class="ref fn" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::Die" title='__sanitizer::Die' data-ref="__sanitizer::Die" data-ref-filename="__sanitizer..Die">Die</a>();</td></tr>
<tr><th id="136">136</th><td><u>#<span data-ppcond="124">endif</span></u></td></tr>
<tr><th id="137">137</th><td>  }</td></tr>
<tr><th id="138">138</th><td></td></tr>
<tr><th id="139">139</th><td>  <i>// Turn on the tagged address ABI.</i></td></tr>
<tr><th id="140">140</th><td>  <b>if</b> (<a class="ref fn" href="../sanitizer_common/sanitizer_linux.h.html#__sanitizer::internal_prctl" title='__sanitizer::internal_prctl' data-ref="__sanitizer::internal_prctl" data-ref-filename="__sanitizer..internal_prctl">internal_prctl</a>(<a class="macro" href="#118" title="55" data-ref="_M/PR_SET_TAGGED_ADDR_CTRL">PR_SET_TAGGED_ADDR_CTRL</a>, <a class="macro" href="#120" title="(1UL &lt;&lt; 0)" data-ref="_M/PR_TAGGED_ADDR_ENABLE">PR_TAGGED_ADDR_ENABLE</a>, <var>0</var>, <var>0</var>, <var>0</var>) ==</td></tr>
<tr><th id="141">141</th><td>          (<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a>)-<var>1</var> ||</td></tr>
<tr><th id="142">142</th><td>      !<a class="ref fn" href="../sanitizer_common/sanitizer_linux.h.html#__sanitizer::internal_prctl" title='__sanitizer::internal_prctl' data-ref="__sanitizer::internal_prctl" data-ref-filename="__sanitizer..internal_prctl">internal_prctl</a>(<a class="macro" href="#119" title="56" data-ref="_M/PR_GET_TAGGED_ADDR_CTRL">PR_GET_TAGGED_ADDR_CTRL</a>, <var>0</var>, <var>0</var>, <var>0</var>, <var>0</var>)) {</td></tr>
<tr><th id="143">143</th><td>    <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::Printf" title='__sanitizer::Printf' data-ref="__sanitizer::Printf" data-ref-filename="__sanitizer..Printf">Printf</a>(</td></tr>
<tr><th id="144">144</th><td>        <q>"FATAL: HWAddressSanitizer failed to enable tagged address syscall "</q></td></tr>
<tr><th id="145">145</th><td>        <q>"ABI.\nSuggest check `sysctl abi.tagged_addr_disabled` "</q></td></tr>
<tr><th id="146">146</th><td>        <q>"configuration.\n"</q>);</td></tr>
<tr><th id="147">147</th><td>    <a class="ref fn" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::Die" title='__sanitizer::Die' data-ref="__sanitizer::Die" data-ref-filename="__sanitizer..Die">Die</a>();</td></tr>
<tr><th id="148">148</th><td>  }</td></tr>
<tr><th id="149">149</th><td><u>#undef <a class="macro" href="#118" data-ref="_M/PR_SET_TAGGED_ADDR_CTRL">PR_SET_TAGGED_ADDR_CTRL</a></u></td></tr>
<tr><th id="150">150</th><td><u>#undef <a class="macro" href="#119" data-ref="_M/PR_GET_TAGGED_ADDR_CTRL">PR_GET_TAGGED_ADDR_CTRL</a></u></td></tr>
<tr><th id="151">151</th><td><u>#undef <a class="macro" href="#120" data-ref="_M/PR_TAGGED_ADDR_ENABLE">PR_TAGGED_ADDR_ENABLE</a></u></td></tr>
<tr><th id="152">152</th><td>}</td></tr>
<tr><th id="153">153</th><td></td></tr>
<tr><th id="154">154</th><td><em>bool</em> <dfn class="decl def fn" id="__hwasan::InitShadow" title='__hwasan::InitShadow' data-ref="__hwasan::InitShadow" data-ref-filename="__hwasan..InitShadow">InitShadow</dfn>() {</td></tr>
<tr><th id="155">155</th><td>  <i>// Define the entire memory range.</i></td></tr>
<tr><th id="156">156</th><td>  <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighMemEnd" title='__hwasan::kHighMemEnd' data-ref="__hwasan::kHighMemEnd" data-ref-filename="__hwasan..kHighMemEnd">kHighMemEnd</a> = <a class="tu ref fn" href="#__hwasan::GetHighMemEnd" title='__hwasan::GetHighMemEnd' data-use='c' data-ref="__hwasan::GetHighMemEnd" data-ref-filename="__hwasan..GetHighMemEnd">GetHighMemEnd</a>();</td></tr>
<tr><th id="157">157</th><td></td></tr>
<tr><th id="158">158</th><td>  <i>// Determine shadow memory base offset.</i></td></tr>
<tr><th id="159">159</th><td>  <a class="tu ref fn" href="#__hwasan::InitializeShadowBaseAddress" title='__hwasan::InitializeShadowBaseAddress' data-use='c' data-ref="__hwasan::InitializeShadowBaseAddress" data-ref-filename="__hwasan..InitializeShadowBaseAddress">InitializeShadowBaseAddress</a>(<a class="ref fn" href="hwasan_mapping.h.html#__hwasan::MemToShadowSize" title='__hwasan::MemToShadowSize' data-ref="__hwasan::MemToShadowSize" data-ref-filename="__hwasan..MemToShadowSize">MemToShadowSize</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighMemEnd" title='__hwasan::kHighMemEnd' data-ref="__hwasan::kHighMemEnd" data-ref-filename="__hwasan..kHighMemEnd">kHighMemEnd</a>));</td></tr>
<tr><th id="160">160</th><td></td></tr>
<tr><th id="161">161</th><td>  <i>// Place the low memory first.</i></td></tr>
<tr><th id="162">162</th><td>  <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a> = <a class="ref" href="hwasan_interface_internal.h.html#__hwasan_shadow_memory_dynamic_address" title='__hwasan_shadow_memory_dynamic_address' data-ref="__hwasan_shadow_memory_dynamic_address" data-ref-filename="__hwasan_shadow_memory_dynamic_address">__hwasan_shadow_memory_dynamic_address</a> - <var>1</var>;</td></tr>
<tr><th id="163">163</th><td>  <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemStart" title='__hwasan::kLowMemStart' data-ref="__hwasan::kLowMemStart" data-ref-filename="__hwasan..kLowMemStart">kLowMemStart</a> = <var>0</var>;</td></tr>
<tr><th id="164">164</th><td></td></tr>
<tr><th id="165">165</th><td>  <i>// Define the low shadow based on the already placed low memory.</i></td></tr>
<tr><th id="166">166</th><td>  <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowEnd" title='__hwasan::kLowShadowEnd' data-ref="__hwasan::kLowShadowEnd" data-ref-filename="__hwasan..kLowShadowEnd">kLowShadowEnd</a> = <a class="ref fn" href="hwasan_mapping.h.html#__hwasan::MemToShadow" title='__hwasan::MemToShadow' data-ref="__hwasan::MemToShadow" data-ref-filename="__hwasan..MemToShadow">MemToShadow</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a>);</td></tr>
<tr><th id="167">167</th><td>  <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowStart" title='__hwasan::kLowShadowStart' data-ref="__hwasan::kLowShadowStart" data-ref-filename="__hwasan..kLowShadowStart">kLowShadowStart</a> = <a class="ref" href="hwasan_interface_internal.h.html#__hwasan_shadow_memory_dynamic_address" title='__hwasan_shadow_memory_dynamic_address' data-ref="__hwasan_shadow_memory_dynamic_address" data-ref-filename="__hwasan_shadow_memory_dynamic_address">__hwasan_shadow_memory_dynamic_address</a>;</td></tr>
<tr><th id="168">168</th><td></td></tr>
<tr><th id="169">169</th><td>  <i>// High shadow takes whatever memory is left up there (making sure it is not</i></td></tr>
<tr><th id="170">170</th><td><i>  // interfering with low memory in the fixed case).</i></td></tr>
<tr><th id="171">171</th><td>  <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowEnd" title='__hwasan::kHighShadowEnd' data-ref="__hwasan::kHighShadowEnd" data-ref-filename="__hwasan..kHighShadowEnd">kHighShadowEnd</a> = <a class="ref fn" href="hwasan_mapping.h.html#__hwasan::MemToShadow" title='__hwasan::MemToShadow' data-ref="__hwasan::MemToShadow" data-ref-filename="__hwasan..MemToShadow">MemToShadow</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighMemEnd" title='__hwasan::kHighMemEnd' data-ref="__hwasan::kHighMemEnd" data-ref-filename="__hwasan..kHighMemEnd">kHighMemEnd</a>);</td></tr>
<tr><th id="172">172</th><td>  <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowStart" title='__hwasan::kHighShadowStart' data-ref="__hwasan::kHighShadowStart" data-ref-filename="__hwasan..kHighShadowStart">kHighShadowStart</a> = <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::Max" title='__sanitizer::Max' data-ref="__sanitizer::Max" data-ref-filename="__sanitizer..Max">Max</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a>, <a class="ref fn" href="hwasan_mapping.h.html#__hwasan::MemToShadow" title='__hwasan::MemToShadow' data-ref="__hwasan::MemToShadow" data-ref-filename="__hwasan..MemToShadow">MemToShadow</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowEnd" title='__hwasan::kHighShadowEnd' data-ref="__hwasan::kHighShadowEnd" data-ref-filename="__hwasan..kHighShadowEnd">kHighShadowEnd</a>)) + <var>1</var>;</td></tr>
<tr><th id="173">173</th><td></td></tr>
<tr><th id="174">174</th><td>  <i>// High memory starts where allocated shadow allows.</i></td></tr>
<tr><th id="175">175</th><td>  <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighMemStart" title='__hwasan::kHighMemStart' data-ref="__hwasan::kHighMemStart" data-ref-filename="__hwasan..kHighMemStart">kHighMemStart</a> = <a class="ref fn" href="hwasan_mapping.h.html#__hwasan::ShadowToMem" title='__hwasan::ShadowToMem' data-ref="__hwasan::ShadowToMem" data-ref-filename="__hwasan..ShadowToMem">ShadowToMem</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowStart" title='__hwasan::kHighShadowStart' data-ref="__hwasan::kHighShadowStart" data-ref-filename="__hwasan..kHighShadowStart">kHighShadowStart</a>);</td></tr>
<tr><th id="176">176</th><td></td></tr>
<tr><th id="177">177</th><td>  <i>// Check the sanity of the defined memory ranges (there might be gaps).</i></td></tr>
<tr><th id="178">178</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#300" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((kHighMemStart % GetMmapGranularity())); __sanitizer::u64 v2 = (__sanitizer::u64)((0)); if (__builtin_expect(!!(!(v1 == v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 178, &quot;(&quot; &quot;(kHighMemStart % GetMmapGranularity())&quot; &quot;) &quot; &quot;==&quot; &quot; (&quot; &quot;(0)&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK_EQ">CHECK_EQ</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighMemStart" title='__hwasan::kHighMemStart' data-ref="__hwasan::kHighMemStart" data-ref-filename="__hwasan..kHighMemStart">kHighMemStart</a> % <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::GetMmapGranularity" title='__sanitizer::GetMmapGranularity' data-ref="__sanitizer::GetMmapGranularity" data-ref-filename="__sanitizer..GetMmapGranularity">GetMmapGranularity</a>(), <var>0</var>);</td></tr>
<tr><th id="179">179</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#304" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((kHighMemStart)); __sanitizer::u64 v2 = (__sanitizer::u64)((kHighShadowEnd)); if (__builtin_expect(!!(!(v1 &gt; v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 179, &quot;(&quot; &quot;(kHighMemStart)&quot; &quot;) &quot; &quot;&gt;&quot; &quot; (&quot; &quot;(kHighShadowEnd)&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK_GT">CHECK_GT</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighMemStart" title='__hwasan::kHighMemStart' data-ref="__hwasan::kHighMemStart" data-ref-filename="__hwasan..kHighMemStart">kHighMemStart</a>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowEnd" title='__hwasan::kHighShadowEnd' data-ref="__hwasan::kHighShadowEnd" data-ref-filename="__hwasan..kHighShadowEnd">kHighShadowEnd</a>);</td></tr>
<tr><th id="180">180</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#304" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((kHighShadowEnd)); __sanitizer::u64 v2 = (__sanitizer::u64)((kHighShadowStart)); if (__builtin_expect(!!(!(v1 &gt; v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 180, &quot;(&quot; &quot;(kHighShadowEnd)&quot; &quot;) &quot; &quot;&gt;&quot; &quot; (&quot; &quot;(kHighShadowStart)&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK_GT">CHECK_GT</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowEnd" title='__hwasan::kHighShadowEnd' data-ref="__hwasan::kHighShadowEnd" data-ref-filename="__hwasan..kHighShadowEnd">kHighShadowEnd</a>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowStart" title='__hwasan::kHighShadowStart' data-ref="__hwasan::kHighShadowStart" data-ref-filename="__hwasan..kHighShadowStart">kHighShadowStart</a>);</td></tr>
<tr><th id="181">181</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#304" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((kHighShadowStart)); __sanitizer::u64 v2 = (__sanitizer::u64)((kLowMemEnd)); if (__builtin_expect(!!(!(v1 &gt; v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 181, &quot;(&quot; &quot;(kHighShadowStart)&quot; &quot;) &quot; &quot;&gt;&quot; &quot; (&quot; &quot;(kLowMemEnd)&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK_GT">CHECK_GT</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowStart" title='__hwasan::kHighShadowStart' data-ref="__hwasan::kHighShadowStart" data-ref-filename="__hwasan..kHighShadowStart">kHighShadowStart</a>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a>);</td></tr>
<tr><th id="182">182</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#304" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((kLowMemEnd)); __sanitizer::u64 v2 = (__sanitizer::u64)((kLowMemStart)); if (__builtin_expect(!!(!(v1 &gt; v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 182, &quot;(&quot; &quot;(kLowMemEnd)&quot; &quot;) &quot; &quot;&gt;&quot; &quot; (&quot; &quot;(kLowMemStart)&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK_GT">CHECK_GT</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemStart" title='__hwasan::kLowMemStart' data-ref="__hwasan::kLowMemStart" data-ref-filename="__hwasan..kLowMemStart">kLowMemStart</a>);</td></tr>
<tr><th id="183">183</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#304" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((kLowShadowEnd)); __sanitizer::u64 v2 = (__sanitizer::u64)((kLowShadowStart)); if (__builtin_expect(!!(!(v1 &gt; v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 183, &quot;(&quot; &quot;(kLowShadowEnd)&quot; &quot;) &quot; &quot;&gt;&quot; &quot; (&quot; &quot;(kLowShadowStart)&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK_GT">CHECK_GT</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowEnd" title='__hwasan::kLowShadowEnd' data-ref="__hwasan::kLowShadowEnd" data-ref-filename="__hwasan..kLowShadowEnd">kLowShadowEnd</a>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowStart" title='__hwasan::kLowShadowStart' data-ref="__hwasan::kLowShadowStart" data-ref-filename="__hwasan..kLowShadowStart">kLowShadowStart</a>);</td></tr>
<tr><th id="184">184</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#304" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((kLowShadowStart)); __sanitizer::u64 v2 = (__sanitizer::u64)((kLowMemEnd)); if (__builtin_expect(!!(!(v1 &gt; v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 184, &quot;(&quot; &quot;(kLowShadowStart)&quot; &quot;) &quot; &quot;&gt;&quot; &quot; (&quot; &quot;(kLowMemEnd)&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK_GT">CHECK_GT</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowStart" title='__hwasan::kLowShadowStart' data-ref="__hwasan::kLowShadowStart" data-ref-filename="__hwasan..kLowShadowStart">kLowShadowStart</a>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a>);</td></tr>
<tr><th id="185">185</th><td></td></tr>
<tr><th id="186">186</th><td>  <b>if</b> (<a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::Verbosity" title='__sanitizer::Verbosity' data-ref="__sanitizer::Verbosity" data-ref-filename="__sanitizer..Verbosity">Verbosity</a>())</td></tr>
<tr><th id="187">187</th><td>    <a class="tu ref fn" href="#__hwasan::PrintAddressSpaceLayout" title='__hwasan::PrintAddressSpaceLayout' data-use='c' data-ref="__hwasan::PrintAddressSpaceLayout" data-ref-filename="__hwasan..PrintAddressSpaceLayout">PrintAddressSpaceLayout</a>();</td></tr>
<tr><th id="188">188</th><td></td></tr>
<tr><th id="189">189</th><td>  <i>// Reserve shadow memory.</i></td></tr>
<tr><th id="190">190</th><td>  <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::ReserveShadowMemoryRange" title='__sanitizer::ReserveShadowMemoryRange' data-ref="__sanitizer::ReserveShadowMemoryRange" data-ref-filename="__sanitizer..ReserveShadowMemoryRange">ReserveShadowMemoryRange</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowStart" title='__hwasan::kLowShadowStart' data-ref="__hwasan::kLowShadowStart" data-ref-filename="__hwasan..kLowShadowStart">kLowShadowStart</a>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowEnd" title='__hwasan::kLowShadowEnd' data-ref="__hwasan::kLowShadowEnd" data-ref-filename="__hwasan..kLowShadowEnd">kLowShadowEnd</a>, <q>"low shadow"</q>);</td></tr>
<tr><th id="191">191</th><td>  <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::ReserveShadowMemoryRange" title='__sanitizer::ReserveShadowMemoryRange' data-ref="__sanitizer::ReserveShadowMemoryRange" data-ref-filename="__sanitizer..ReserveShadowMemoryRange">ReserveShadowMemoryRange</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowStart" title='__hwasan::kHighShadowStart' data-ref="__hwasan::kHighShadowStart" data-ref-filename="__hwasan..kHighShadowStart">kHighShadowStart</a>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowEnd" title='__hwasan::kHighShadowEnd' data-ref="__hwasan::kHighShadowEnd" data-ref-filename="__hwasan..kHighShadowEnd">kHighShadowEnd</a>, <q>"high shadow"</q>);</td></tr>
<tr><th id="192">192</th><td></td></tr>
<tr><th id="193">193</th><td>  <i>// Protect all the gaps.</i></td></tr>
<tr><th id="194">194</th><td>  <a class="tu ref fn" href="#__hwasan::ProtectGap" title='__hwasan::ProtectGap' data-use='c' data-ref="__hwasan::ProtectGap" data-ref-filename="__hwasan..ProtectGap">ProtectGap</a>(<var>0</var>, <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::Min" title='__sanitizer::Min' data-ref="__sanitizer::Min" data-ref-filename="__sanitizer..Min">Min</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemStart" title='__hwasan::kLowMemStart' data-ref="__hwasan::kLowMemStart" data-ref-filename="__hwasan..kLowMemStart">kLowMemStart</a>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowStart" title='__hwasan::kLowShadowStart' data-ref="__hwasan::kLowShadowStart" data-ref-filename="__hwasan..kLowShadowStart">kLowShadowStart</a>));</td></tr>
<tr><th id="195">195</th><td>  <b>if</b> (<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a> + <var>1</var> &lt; <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowStart" title='__hwasan::kLowShadowStart' data-ref="__hwasan::kLowShadowStart" data-ref-filename="__hwasan..kLowShadowStart">kLowShadowStart</a>)</td></tr>
<tr><th id="196">196</th><td>    <a class="tu ref fn" href="#__hwasan::ProtectGap" title='__hwasan::ProtectGap' data-use='c' data-ref="__hwasan::ProtectGap" data-ref-filename="__hwasan..ProtectGap">ProtectGap</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a> + <var>1</var>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowStart" title='__hwasan::kLowShadowStart' data-ref="__hwasan::kLowShadowStart" data-ref-filename="__hwasan..kLowShadowStart">kLowShadowStart</a> - <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a> - <var>1</var>);</td></tr>
<tr><th id="197">197</th><td>  <b>if</b> (<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowEnd" title='__hwasan::kLowShadowEnd' data-ref="__hwasan::kLowShadowEnd" data-ref-filename="__hwasan..kLowShadowEnd">kLowShadowEnd</a> + <var>1</var> &lt; <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowStart" title='__hwasan::kHighShadowStart' data-ref="__hwasan::kHighShadowStart" data-ref-filename="__hwasan..kHighShadowStart">kHighShadowStart</a>)</td></tr>
<tr><th id="198">198</th><td>    <a class="tu ref fn" href="#__hwasan::ProtectGap" title='__hwasan::ProtectGap' data-use='c' data-ref="__hwasan::ProtectGap" data-ref-filename="__hwasan..ProtectGap">ProtectGap</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowEnd" title='__hwasan::kLowShadowEnd' data-ref="__hwasan::kLowShadowEnd" data-ref-filename="__hwasan..kLowShadowEnd">kLowShadowEnd</a> + <var>1</var>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowStart" title='__hwasan::kHighShadowStart' data-ref="__hwasan::kHighShadowStart" data-ref-filename="__hwasan..kHighShadowStart">kHighShadowStart</a> - <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowShadowEnd" title='__hwasan::kLowShadowEnd' data-ref="__hwasan::kLowShadowEnd" data-ref-filename="__hwasan..kLowShadowEnd">kLowShadowEnd</a> - <var>1</var>);</td></tr>
<tr><th id="199">199</th><td>  <b>if</b> (<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowEnd" title='__hwasan::kHighShadowEnd' data-ref="__hwasan::kHighShadowEnd" data-ref-filename="__hwasan..kHighShadowEnd">kHighShadowEnd</a> + <var>1</var> &lt; <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighMemStart" title='__hwasan::kHighMemStart' data-ref="__hwasan::kHighMemStart" data-ref-filename="__hwasan..kHighMemStart">kHighMemStart</a>)</td></tr>
<tr><th id="200">200</th><td>    <a class="tu ref fn" href="#__hwasan::ProtectGap" title='__hwasan::ProtectGap' data-use='c' data-ref="__hwasan::ProtectGap" data-ref-filename="__hwasan..ProtectGap">ProtectGap</a>(<a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowEnd" title='__hwasan::kHighShadowEnd' data-ref="__hwasan::kHighShadowEnd" data-ref-filename="__hwasan..kHighShadowEnd">kHighShadowEnd</a> + <var>1</var>, <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighMemStart" title='__hwasan::kHighMemStart' data-ref="__hwasan::kHighMemStart" data-ref-filename="__hwasan..kHighMemStart">kHighMemStart</a> - <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighShadowEnd" title='__hwasan::kHighShadowEnd' data-ref="__hwasan::kHighShadowEnd" data-ref-filename="__hwasan..kHighShadowEnd">kHighShadowEnd</a> - <var>1</var>);</td></tr>
<tr><th id="201">201</th><td></td></tr>
<tr><th id="202">202</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="203">203</th><td>}</td></tr>
<tr><th id="204">204</th><td></td></tr>
<tr><th id="205">205</th><td><em>void</em> <dfn class="decl def fn" id="__hwasan::InitThreads" title='__hwasan::InitThreads' data-ref="__hwasan::InitThreads" data-ref-filename="__hwasan..InitThreads">InitThreads</dfn>() {</td></tr>
<tr><th id="206">206</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#299" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((__hwasan_shadow_memory_dynamic_address)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 206, &quot;(&quot; &quot;(__hwasan_shadow_memory_dynamic_address)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK">CHECK</a>(<a class="ref" href="hwasan_interface_internal.h.html#__hwasan_shadow_memory_dynamic_address" title='__hwasan_shadow_memory_dynamic_address' data-ref="__hwasan_shadow_memory_dynamic_address" data-ref-filename="__hwasan_shadow_memory_dynamic_address">__hwasan_shadow_memory_dynamic_address</a>);</td></tr>
<tr><th id="207">207</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col9 decl" id="9guard_page_size" title='guard_page_size' data-type='__sanitizer::uptr' data-ref="9guard_page_size" data-ref-filename="9guard_page_size">guard_page_size</dfn> = <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::GetMmapGranularity" title='__sanitizer::GetMmapGranularity' data-ref="__sanitizer::GetMmapGranularity" data-ref-filename="__sanitizer..GetMmapGranularity">GetMmapGranularity</a>();</td></tr>
<tr><th id="208">208</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col0 decl" id="10thread_space_start" title='thread_space_start' data-type='__sanitizer::uptr' data-ref="10thread_space_start" data-ref-filename="10thread_space_start">thread_space_start</dfn> =</td></tr>
<tr><th id="209">209</th><td>      <a class="ref" href="hwasan_interface_internal.h.html#__hwasan_shadow_memory_dynamic_address" title='__hwasan_shadow_memory_dynamic_address' data-ref="__hwasan_shadow_memory_dynamic_address" data-ref-filename="__hwasan_shadow_memory_dynamic_address">__hwasan_shadow_memory_dynamic_address</a> - (<var>1ULL</var> &lt;&lt; <a class="ref" href="hwasan.h.html#kShadowBaseAlignment" title='kShadowBaseAlignment' data-ref="kShadowBaseAlignment" data-ref-filename="kShadowBaseAlignment">kShadowBaseAlignment</a>);</td></tr>
<tr><th id="210">210</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col1 decl" id="11thread_space_end" title='thread_space_end' data-type='__sanitizer::uptr' data-ref="11thread_space_end" data-ref-filename="11thread_space_end">thread_space_end</dfn> =</td></tr>
<tr><th id="211">211</th><td>      <a class="ref" href="hwasan_interface_internal.h.html#__hwasan_shadow_memory_dynamic_address" title='__hwasan_shadow_memory_dynamic_address' data-ref="__hwasan_shadow_memory_dynamic_address" data-ref-filename="__hwasan_shadow_memory_dynamic_address">__hwasan_shadow_memory_dynamic_address</a> - <a class="local col9 ref" href="#9guard_page_size" title='guard_page_size' data-ref="9guard_page_size" data-ref-filename="9guard_page_size">guard_page_size</a>;</td></tr>
<tr><th id="212">212</th><td>  <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::ReserveShadowMemoryRange" title='__sanitizer::ReserveShadowMemoryRange' data-ref="__sanitizer::ReserveShadowMemoryRange" data-ref-filename="__sanitizer..ReserveShadowMemoryRange">ReserveShadowMemoryRange</a>(<a class="local col0 ref" href="#10thread_space_start" title='thread_space_start' data-ref="10thread_space_start" data-ref-filename="10thread_space_start">thread_space_start</a>, <a class="local col1 ref" href="#11thread_space_end" title='thread_space_end' data-ref="11thread_space_end" data-ref-filename="11thread_space_end">thread_space_end</a> - <var>1</var>,</td></tr>
<tr><th id="213">213</th><td>                           <q>"hwasan threads"</q>, <i>/*madvise_shadow*/</i> <b>false</b>);</td></tr>
<tr><th id="214">214</th><td>  <a class="tu ref fn" href="#__hwasan::ProtectGap" title='__hwasan::ProtectGap' data-use='c' data-ref="__hwasan::ProtectGap" data-ref-filename="__hwasan..ProtectGap">ProtectGap</a>(<a class="local col1 ref" href="#11thread_space_end" title='thread_space_end' data-ref="11thread_space_end" data-ref-filename="11thread_space_end">thread_space_end</a>,</td></tr>
<tr><th id="215">215</th><td>             <a class="ref" href="hwasan_interface_internal.h.html#__hwasan_shadow_memory_dynamic_address" title='__hwasan_shadow_memory_dynamic_address' data-ref="__hwasan_shadow_memory_dynamic_address" data-ref-filename="__hwasan_shadow_memory_dynamic_address">__hwasan_shadow_memory_dynamic_address</a> - <a class="local col1 ref" href="#11thread_space_end" title='thread_space_end' data-ref="11thread_space_end" data-ref-filename="11thread_space_end">thread_space_end</a>);</td></tr>
<tr><th id="216">216</th><td>  <a class="ref fn" href="hwasan_thread_list.h.html#__hwasan::InitThreadList" title='__hwasan::InitThreadList' data-ref="__hwasan::InitThreadList" data-ref-filename="__hwasan..InitThreadList">InitThreadList</a>(<a class="local col0 ref" href="#10thread_space_start" title='thread_space_start' data-ref="10thread_space_start" data-ref-filename="10thread_space_start">thread_space_start</a>, <a class="local col1 ref" href="#11thread_space_end" title='thread_space_end' data-ref="11thread_space_end" data-ref-filename="11thread_space_end">thread_space_end</a> - <a class="local col0 ref" href="#10thread_space_start" title='thread_space_start' data-ref="10thread_space_start" data-ref-filename="10thread_space_start">thread_space_start</a>);</td></tr>
<tr><th id="217">217</th><td>}</td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td><em>bool</em> <dfn class="decl def fn" id="__hwasan::MemIsApp" title='__hwasan::MemIsApp' data-ref="__hwasan::MemIsApp" data-ref-filename="__hwasan..MemIsApp">MemIsApp</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col2 decl" id="12p" title='p' data-type='__sanitizer::uptr' data-ref="12p" data-ref-filename="12p">p</dfn>) {</td></tr>
<tr><th id="220">220</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#299" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((GetTagFromPointer(p) == 0)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 220, &quot;(&quot; &quot;(GetTagFromPointer(p) == 0)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK">CHECK</a>(<a class="ref fn" href="hwasan.h.html#_ZL17GetTagFromPointerm" title='GetTagFromPointer' data-ref="_ZL17GetTagFromPointerm" data-ref-filename="_ZL17GetTagFromPointerm">GetTagFromPointer</a>(<a class="local col2 ref" href="#12p" title='p' data-ref="12p" data-ref-filename="12p">p</a>) == <var>0</var>);</td></tr>
<tr><th id="221">221</th><td>  <b>return</b> <a class="local col2 ref" href="#12p" title='p' data-ref="12p" data-ref-filename="12p">p</a> &gt;= <a class="ref" href="hwasan_mapping.h.html#__hwasan::kHighMemStart" title='__hwasan::kHighMemStart' data-ref="__hwasan::kHighMemStart" data-ref-filename="__hwasan..kHighMemStart">kHighMemStart</a> || (<a class="local col2 ref" href="#12p" title='p' data-ref="12p" data-ref-filename="12p">p</a> &gt;= <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemStart" title='__hwasan::kLowMemStart' data-ref="__hwasan::kLowMemStart" data-ref-filename="__hwasan..kLowMemStart">kLowMemStart</a> &amp;&amp; <a class="local col2 ref" href="#12p" title='p' data-ref="12p" data-ref-filename="12p">p</a> &lt;= <a class="ref" href="hwasan_mapping.h.html#__hwasan::kLowMemEnd" title='__hwasan::kLowMemEnd' data-ref="__hwasan::kLowMemEnd" data-ref-filename="__hwasan..kLowMemEnd">kLowMemEnd</a>);</td></tr>
<tr><th id="222">222</th><td>}</td></tr>
<tr><th id="223">223</th><td></td></tr>
<tr><th id="224">224</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="__hwasan::HwasanAtExit" title='__hwasan::HwasanAtExit' data-type='void __hwasan::HwasanAtExit()' data-ref="__hwasan::HwasanAtExit" data-ref-filename="__hwasan..HwasanAtExit">HwasanAtExit</dfn>(<em>void</em>) {</td></tr>
<tr><th id="225">225</th><td>  <b>if</b> (<a class="ref fn" href="../sanitizer_common/sanitizer_flags.h.html#__sanitizer::common_flags" title='__sanitizer::common_flags' data-ref="__sanitizer::common_flags" data-ref-filename="__sanitizer..common_flags">common_flags</a>()-&gt;<a class="ref field" href="../sanitizer_common/sanitizer_flags.inc.html#84" title='__sanitizer::CommonFlags::print_module_map' data-ref="__sanitizer::CommonFlags::print_module_map" data-ref-filename="__sanitizer..CommonFlags..print_module_map">print_module_map</a>)</td></tr>
<tr><th id="226">226</th><td>    <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::DumpProcessMap" title='__sanitizer::DumpProcessMap' data-ref="__sanitizer::DumpProcessMap" data-ref-filename="__sanitizer..DumpProcessMap">DumpProcessMap</a>();</td></tr>
<tr><th id="227">227</th><td>  <b>if</b> (<a class="ref fn" href="hwasan_flags.h.html#__hwasan::flags" title='__hwasan::flags' data-ref="__hwasan::flags" data-ref-filename="__hwasan..flags">flags</a>()-&gt;<a class="ref field" href="hwasan_flags.inc.html#23" title='__hwasan::Flags::print_stats' data-ref="__hwasan::Flags::print_stats" data-ref-filename="__hwasan..Flags..print_stats">print_stats</a> &amp;&amp; (<a class="ref fn" href="hwasan_flags.h.html#__hwasan::flags" title='__hwasan::flags' data-ref="__hwasan::flags" data-ref-filename="__hwasan..flags">flags</a>()-&gt;<a class="ref field" href="hwasan_flags.inc.html#25" title='__hwasan::Flags::atexit' data-ref="__hwasan::Flags::atexit" data-ref-filename="__hwasan..Flags..atexit">atexit</a> || <a class="ref" href="hwasan.h.html#__hwasan::hwasan_report_count" title='__hwasan::hwasan_report_count' data-ref="__hwasan::hwasan_report_count" data-ref-filename="__hwasan..hwasan_report_count">hwasan_report_count</a> &gt; <var>0</var>))</td></tr>
<tr><th id="228">228</th><td>    <a class="ref fn" href="hwasan_report.h.html#__hwasan::ReportStats" title='__hwasan::ReportStats' data-ref="__hwasan::ReportStats" data-ref-filename="__hwasan..ReportStats">ReportStats</a>();</td></tr>
<tr><th id="229">229</th><td>  <b>if</b> (<a class="ref" href="hwasan.h.html#__hwasan::hwasan_report_count" title='__hwasan::hwasan_report_count' data-ref="__hwasan::hwasan_report_count" data-ref-filename="__hwasan..hwasan_report_count">hwasan_report_count</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="230">230</th><td>    <i>// ReportAtExitStatistics();</i></td></tr>
<tr><th id="231">231</th><td>    <b>if</b> (<a class="ref fn" href="../sanitizer_common/sanitizer_flags.h.html#__sanitizer::common_flags" title='__sanitizer::common_flags' data-ref="__sanitizer::common_flags" data-ref-filename="__sanitizer..common_flags">common_flags</a>()-&gt;<a class="ref field" href="../sanitizer_common/sanitizer_flags.inc.html#236" title='__sanitizer::CommonFlags::exitcode' data-ref="__sanitizer::CommonFlags::exitcode" data-ref-filename="__sanitizer..CommonFlags..exitcode">exitcode</a>)</td></tr>
<tr><th id="232">232</th><td>      <a class="ref fn" href="../sanitizer_common/sanitizer_libc.h.html#__sanitizer::internal__exit" title='__sanitizer::internal__exit' data-ref="__sanitizer::internal__exit" data-ref-filename="__sanitizer..internal__exit">internal__exit</a>(<a class="ref fn" href="../sanitizer_common/sanitizer_flags.h.html#__sanitizer::common_flags" title='__sanitizer::common_flags' data-ref="__sanitizer::common_flags" data-ref-filename="__sanitizer..common_flags">common_flags</a>()-&gt;<a class="ref field" href="../sanitizer_common/sanitizer_flags.inc.html#236" title='__sanitizer::CommonFlags::exitcode' data-ref="__sanitizer::CommonFlags::exitcode" data-ref-filename="__sanitizer..CommonFlags..exitcode">exitcode</a>);</td></tr>
<tr><th id="233">233</th><td>  }</td></tr>
<tr><th id="234">234</th><td>}</td></tr>
<tr><th id="235">235</th><td></td></tr>
<tr><th id="236">236</th><td><em>void</em> <dfn class="decl def fn" id="__hwasan::InstallAtExitHandler" title='__hwasan::InstallAtExitHandler' data-ref="__hwasan::InstallAtExitHandler" data-ref-filename="__hwasan..InstallAtExitHandler">InstallAtExitHandler</dfn>() {</td></tr>
<tr><th id="237">237</th><td>  <a class="ref fn" href="../../../../include/stdlib.h.html#atexit" title='atexit' data-ref="atexit" data-ref-filename="atexit">atexit</a>(<a class="tu ref fn" href="#__hwasan::HwasanAtExit" title='__hwasan::HwasanAtExit' data-use='r' data-ref="__hwasan::HwasanAtExit" data-ref-filename="__hwasan..HwasanAtExit">HwasanAtExit</a>);</td></tr>
<tr><th id="238">238</th><td>}</td></tr>
<tr><th id="239">239</th><td></td></tr>
<tr><th id="240">240</th><td><i>// ---------------------- TSD ---------------- {{{1</i></td></tr>
<tr><th id="241">241</th><td></td></tr>
<tr><th id="242">242</th><td><b>extern</b> <q>"C"</q> <em>void</em> <dfn class="decl def fn" id="__hwasan::__hwasan_thread_enter" title='__hwasan::__hwasan_thread_enter' data-ref="__hwasan::__hwasan_thread_enter" data-ref-filename="__hwasan..__hwasan_thread_enter">__hwasan_thread_enter</dfn>() {</td></tr>
<tr><th id="243">243</th><td>  <a class="ref fn" href="hwasan_thread_list.h.html#__hwasan::hwasanThreadList" title='__hwasan::hwasanThreadList' data-ref="__hwasan::hwasanThreadList" data-ref-filename="__hwasan..hwasanThreadList">hwasanThreadList</a>().<a class="ref fn" href="hwasan_thread_list.h.html#__hwasan::HwasanThreadList::CreateCurrentThread" title='__hwasan::HwasanThreadList::CreateCurrentThread' data-ref="__hwasan::HwasanThreadList::CreateCurrentThread" data-ref-filename="__hwasan..HwasanThreadList..CreateCurrentThread">CreateCurrentThread</a>()-&gt;<a class="ref fn" href="hwasan_thread.h.html#__hwasan::Thread::InitRandomState" title='__hwasan::Thread::InitRandomState' data-ref="__hwasan::Thread::InitRandomState" data-ref-filename="__hwasan..Thread..InitRandomState">InitRandomState</a>();</td></tr>
<tr><th id="244">244</th><td>}</td></tr>
<tr><th id="245">245</th><td></td></tr>
<tr><th id="246">246</th><td><b>extern</b> <q>"C"</q> <em>void</em> <dfn class="decl def fn" id="__hwasan::__hwasan_thread_exit" title='__hwasan::__hwasan_thread_exit' data-ref="__hwasan::__hwasan_thread_exit" data-ref-filename="__hwasan..__hwasan_thread_exit">__hwasan_thread_exit</dfn>() {</td></tr>
<tr><th id="247">247</th><td>  <a class="type" href="hwasan_thread.h.html#__hwasan::Thread" title='__hwasan::Thread' data-ref="__hwasan::Thread" data-ref-filename="__hwasan..Thread">Thread</a> *<dfn class="local col3 decl" id="13t" title='t' data-type='__hwasan::Thread *' data-ref="13t" data-ref-filename="13t">t</dfn> = <a class="ref fn" href="#__hwasan::GetCurrentThread" title='__hwasan::GetCurrentThread' data-ref="__hwasan::GetCurrentThread" data-ref-filename="__hwasan..GetCurrentThread">GetCurrentThread</a>();</td></tr>
<tr><th id="248">248</th><td>  <i>// Make sure that signal handler can not see a stale current thread pointer.</i></td></tr>
<tr><th id="249">249</th><td>  <a class="ref fn" href="../sanitizer_common/sanitizer_atomic_clang.h.html#__sanitizer::atomic_signal_fence" title='__sanitizer::atomic_signal_fence' data-ref="__sanitizer::atomic_signal_fence" data-ref-filename="__sanitizer..atomic_signal_fence">atomic_signal_fence</a>(<a class="enum" href="../sanitizer_common/sanitizer_atomic.h.html#__sanitizer::memory_order_seq_cst" title='__sanitizer::memory_order_seq_cst' data-ref="__sanitizer::memory_order_seq_cst" data-ref-filename="__sanitizer..memory_order_seq_cst">memory_order_seq_cst</a>);</td></tr>
<tr><th id="250">250</th><td>  <b>if</b> (<a class="local col3 ref" href="#13t" title='t' data-ref="13t" data-ref-filename="13t">t</a>)</td></tr>
<tr><th id="251">251</th><td>    <a class="ref fn" href="hwasan_thread_list.h.html#__hwasan::hwasanThreadList" title='__hwasan::hwasanThreadList' data-ref="__hwasan::hwasanThreadList" data-ref-filename="__hwasan..hwasanThreadList">hwasanThreadList</a>().<a class="ref fn" href="hwasan_thread_list.h.html#__hwasan::HwasanThreadList::ReleaseThread" title='__hwasan::HwasanThreadList::ReleaseThread' data-ref="__hwasan::HwasanThreadList::ReleaseThread" data-ref-filename="__hwasan..HwasanThreadList..ReleaseThread">ReleaseThread</a>(<a class="local col3 ref" href="#13t" title='t' data-ref="13t" data-ref-filename="13t">t</a>);</td></tr>
<tr><th id="252">252</th><td>}</td></tr>
<tr><th id="253">253</th><td></td></tr>
<tr><th id="254">254</th><td><u>#<span data-ppcond="254">if</span> <span class="macro" title="1" data-ref="_M/HWASAN_WITH_INTERCEPTORS">HWASAN_WITH_INTERCEPTORS</span></u></td></tr>
<tr><th id="255">255</th><td><em>static</em> <a class="typedef" href="../../../../include/bits/pthreadtypes.h.html#pthread_key_t" title='pthread_key_t' data-type='unsigned int' data-ref="pthread_key_t" data-ref-filename="pthread_key_t">pthread_key_t</a> <dfn class="tu decl def" id="__hwasan::tsd_key" title='__hwasan::tsd_key' data-type='pthread_key_t' data-ref="__hwasan::tsd_key" data-ref-filename="__hwasan..tsd_key">tsd_key</dfn>;</td></tr>
<tr><th id="256">256</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def" id="__hwasan::tsd_key_inited" title='__hwasan::tsd_key_inited' data-type='bool' data-ref="__hwasan::tsd_key_inited" data-ref-filename="__hwasan..tsd_key_inited">tsd_key_inited</dfn> = <b>false</b>;</td></tr>
<tr><th id="257">257</th><td></td></tr>
<tr><th id="258">258</th><td><em>void</em> <dfn class="decl def fn" id="__hwasan::HwasanTSDThreadInit" title='__hwasan::HwasanTSDThreadInit' data-ref="__hwasan::HwasanTSDThreadInit" data-ref-filename="__hwasan..HwasanTSDThreadInit">HwasanTSDThreadInit</dfn>() {</td></tr>
<tr><th id="259">259</th><td>  <b>if</b> (<a class="tu ref" href="#__hwasan::tsd_key_inited" title='__hwasan::tsd_key_inited' data-use='r' data-ref="__hwasan::tsd_key_inited" data-ref-filename="__hwasan..tsd_key_inited">tsd_key_inited</a>)</td></tr>
<tr><th id="260">260</th><td>    <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#300" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((0)); __sanitizer::u64 v2 = (__sanitizer::u64)((pthread_setspecific(tsd_key, (void *)GetPthreadDestructorIterations()))); if (__builtin_expect(!!(!(v1 == v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 261, &quot;(&quot; &quot;(0)&quot; &quot;) &quot; &quot;==&quot; &quot; (&quot; &quot;(pthread_setspecific(tsd_key, (void *)GetPthreadDestructorIterations()))&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK_EQ">CHECK_EQ</a>(<var>0</var>, <a class="ref fn" href="../../../../include/pthread.h.html#pthread_setspecific" title='pthread_setspecific' data-ref="pthread_setspecific" data-ref-filename="pthread_setspecific">pthread_setspecific</a>(<a class="tu ref" href="#__hwasan::tsd_key" title='__hwasan::tsd_key' data-use='r' data-ref="__hwasan::tsd_key" data-ref-filename="__hwasan..tsd_key">tsd_key</a>,</td></tr>
<tr><th id="261">261</th><td>                                    (<em>void</em> *)<a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::GetPthreadDestructorIterations" title='__sanitizer::GetPthreadDestructorIterations' data-ref="__sanitizer::GetPthreadDestructorIterations" data-ref-filename="__sanitizer..GetPthreadDestructorIterations">GetPthreadDestructorIterations</a>()));</td></tr>
<tr><th id="262">262</th><td>}</td></tr>
<tr><th id="263">263</th><td></td></tr>
<tr><th id="264">264</th><td><em>void</em> <dfn class="decl def fn" id="__hwasan::HwasanTSDDtor" title='__hwasan::HwasanTSDDtor' data-ref="__hwasan::HwasanTSDDtor" data-ref-filename="__hwasan..HwasanTSDDtor">HwasanTSDDtor</dfn>(<em>void</em> *<dfn class="local col4 decl" id="14tsd" title='tsd' data-type='void *' data-ref="14tsd" data-ref-filename="14tsd">tsd</dfn>) {</td></tr>
<tr><th id="265">265</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col5 decl" id="15iterations" title='iterations' data-type='__sanitizer::uptr' data-ref="15iterations" data-ref-filename="15iterations">iterations</dfn> = (<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a>)<a class="local col4 ref" href="#14tsd" title='tsd' data-ref="14tsd" data-ref-filename="14tsd">tsd</a>;</td></tr>
<tr><th id="266">266</th><td>  <b>if</b> (<a class="local col5 ref" href="#15iterations" title='iterations' data-ref="15iterations" data-ref-filename="15iterations">iterations</a> &gt; <var>1</var>) {</td></tr>
<tr><th id="267">267</th><td>    <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#300" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((0)); __sanitizer::u64 v2 = (__sanitizer::u64)((pthread_setspecific(tsd_key, (void *)(iterations - 1)))); if (__builtin_expect(!!(!(v1 == v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 267, &quot;(&quot; &quot;(0)&quot; &quot;) &quot; &quot;==&quot; &quot; (&quot; &quot;(pthread_setspecific(tsd_key, (void *)(iterations - 1)))&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK_EQ">CHECK_EQ</a>(<var>0</var>, <a class="ref fn" href="../../../../include/pthread.h.html#pthread_setspecific" title='pthread_setspecific' data-ref="pthread_setspecific" data-ref-filename="pthread_setspecific">pthread_setspecific</a>(<a class="tu ref" href="#__hwasan::tsd_key" title='__hwasan::tsd_key' data-use='r' data-ref="__hwasan::tsd_key" data-ref-filename="__hwasan..tsd_key">tsd_key</a>, (<em>void</em> *)(<a class="local col5 ref" href="#15iterations" title='iterations' data-ref="15iterations" data-ref-filename="15iterations">iterations</a> - <var>1</var>)));</td></tr>
<tr><th id="268">268</th><td>    <b>return</b>;</td></tr>
<tr><th id="269">269</th><td>  }</td></tr>
<tr><th id="270">270</th><td>  <a class="ref fn" href="#__hwasan::__hwasan_thread_exit" title='__hwasan::__hwasan_thread_exit' data-ref="__hwasan::__hwasan_thread_exit" data-ref-filename="__hwasan..__hwasan_thread_exit">__hwasan_thread_exit</a>();</td></tr>
<tr><th id="271">271</th><td>}</td></tr>
<tr><th id="272">272</th><td></td></tr>
<tr><th id="273">273</th><td><em>void</em> <dfn class="decl def fn" id="__hwasan::HwasanTSDInit" title='__hwasan::HwasanTSDInit' data-ref="__hwasan::HwasanTSDInit" data-ref-filename="__hwasan..HwasanTSDInit">HwasanTSDInit</dfn>() {</td></tr>
<tr><th id="274">274</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#299" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((!tsd_key_inited)); __sanitizer::u64 v2 = (__sanitizer::u64)(0); if (__builtin_expect(!!(!(v1 != v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 274, &quot;(&quot; &quot;(!tsd_key_inited)&quot; &quot;) &quot; &quot;!=&quot; &quot; (&quot; &quot;0&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK">CHECK</a>(!<a class="tu ref" href="#__hwasan::tsd_key_inited" title='__hwasan::tsd_key_inited' data-use='r' data-ref="__hwasan::tsd_key_inited" data-ref-filename="__hwasan..tsd_key_inited">tsd_key_inited</a>);</td></tr>
<tr><th id="275">275</th><td>  <a class="tu ref" href="#__hwasan::tsd_key_inited" title='__hwasan::tsd_key_inited' data-use='w' data-ref="__hwasan::tsd_key_inited" data-ref-filename="__hwasan..tsd_key_inited">tsd_key_inited</a> = <b>true</b>;</td></tr>
<tr><th id="276">276</th><td>  <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#300" title="do { __sanitizer::u64 v1 = (__sanitizer::u64)((0)); __sanitizer::u64 v2 = (__sanitizer::u64)((pthread_key_create(&amp;tsd_key, HwasanTSDDtor))); if (__builtin_expect(!!(!(v1 == v2)), 0)) __sanitizer::CheckFailed(&quot;/fast/tmp/llvm-proj-12/compiler-rt/lib/hwasan/hwasan_linux.cpp&quot;, 276, &quot;(&quot; &quot;(0)&quot; &quot;) &quot; &quot;==&quot; &quot; (&quot; &quot;(pthread_key_create(&amp;tsd_key, HwasanTSDDtor))&quot; &quot;)&quot;, v1, v2); } while (false)" data-ref="_M/CHECK_EQ">CHECK_EQ</a>(<var>0</var>, <a class="ref fn" href="../../../../include/pthread.h.html#pthread_key_create" title='pthread_key_create' data-ref="pthread_key_create" data-ref-filename="pthread_key_create">pthread_key_create</a>(&amp;<a class="tu ref" href="#__hwasan::tsd_key" title='__hwasan::tsd_key' data-use='a' data-ref="__hwasan::tsd_key" data-ref-filename="__hwasan..tsd_key">tsd_key</a>, <a class="ref fn" href="#__hwasan::HwasanTSDDtor" title='__hwasan::HwasanTSDDtor' data-ref="__hwasan::HwasanTSDDtor" data-ref-filename="__hwasan..HwasanTSDDtor">HwasanTSDDtor</a>));</td></tr>
<tr><th id="277">277</th><td>}</td></tr>
<tr><th id="278">278</th><td><u>#<span data-ppcond="254">else</span></u></td></tr>
<tr><th id="279">279</th><td><em>void</em> HwasanTSDInit() {}</td></tr>
<tr><th id="280">280</th><td><em>void</em> HwasanTSDThreadInit() {}</td></tr>
<tr><th id="281">281</th><td><u>#<span data-ppcond="254">endif</span></u></td></tr>
<tr><th id="282">282</th><td></td></tr>
<tr><th id="283">283</th><td><u>#<span data-ppcond="283">if</span> <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#105" title="0" data-ref="_M/SANITIZER_ANDROID">SANITIZER_ANDROID</a></u></td></tr>
<tr><th id="284">284</th><td>uptr *GetCurrentThreadLongPtr() {</td></tr>
<tr><th id="285">285</th><td>  <b>return</b> (uptr *)get_android_tls_ptr();</td></tr>
<tr><th id="286">286</th><td>}</td></tr>
<tr><th id="287">287</th><td><u>#<span data-ppcond="283">else</span></u></td></tr>
<tr><th id="288">288</th><td><a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> *<dfn class="decl def fn" id="__hwasan::GetCurrentThreadLongPtr" title='__hwasan::GetCurrentThreadLongPtr' data-ref="__hwasan::GetCurrentThreadLongPtr" data-ref-filename="__hwasan..GetCurrentThreadLongPtr">GetCurrentThreadLongPtr</dfn>() {</td></tr>
<tr><th id="289">289</th><td>  <b>return</b> &amp;<a class="ref" href="#__hwasan_tls" title='__hwasan_tls' data-ref="__hwasan_tls" data-ref-filename="__hwasan_tls">__hwasan_tls</a>;</td></tr>
<tr><th id="290">290</th><td>}</td></tr>
<tr><th id="291">291</th><td><u>#<span data-ppcond="283">endif</span></u></td></tr>
<tr><th id="292">292</th><td></td></tr>
<tr><th id="293">293</th><td><u>#<span data-ppcond="293">if</span> <a class="macro" href="../sanitizer_common/sanitizer_platform.h.html#105" title="0" data-ref="_M/SANITIZER_ANDROID">SANITIZER_ANDROID</a></u></td></tr>
<tr><th id="294">294</th><td><em>void</em> AndroidTestTlsSlot() {</td></tr>
<tr><th id="295">295</th><td>  uptr kMagicValue = <var>0x010203040A0B0C0D</var>;</td></tr>
<tr><th id="296">296</th><td>  uptr *tls_ptr = GetCurrentThreadLongPtr();</td></tr>
<tr><th id="297">297</th><td>  uptr old_value = *tls_ptr;</td></tr>
<tr><th id="298">298</th><td>  *tls_ptr = kMagicValue;</td></tr>
<tr><th id="299">299</th><td>  dlerror();</td></tr>
<tr><th id="300">300</th><td>  <b>if</b> (*(uptr *)get_android_tls_ptr() != kMagicValue) {</td></tr>
<tr><th id="301">301</th><td>    Printf(</td></tr>
<tr><th id="302">302</th><td>        <q>"ERROR: Incompatible version of Android: TLS_SLOT_SANITIZER(6) is used "</q></td></tr>
<tr><th id="303">303</th><td>        <q>"for dlerror().\n"</q>);</td></tr>
<tr><th id="304">304</th><td>    Die();</td></tr>
<tr><th id="305">305</th><td>  }</td></tr>
<tr><th id="306">306</th><td>  *tls_ptr = old_value;</td></tr>
<tr><th id="307">307</th><td>}</td></tr>
<tr><th id="308">308</th><td><u>#<span data-ppcond="293">else</span></u></td></tr>
<tr><th id="309">309</th><td><em>void</em> <dfn class="decl def fn" id="__hwasan::AndroidTestTlsSlot" title='__hwasan::AndroidTestTlsSlot' data-ref="__hwasan::AndroidTestTlsSlot" data-ref-filename="__hwasan..AndroidTestTlsSlot">AndroidTestTlsSlot</dfn>() {}</td></tr>
<tr><th id="310">310</th><td><u>#<span data-ppcond="293">endif</span></u></td></tr>
<tr><th id="311">311</th><td></td></tr>
<tr><th id="312">312</th><td><a class="type" href="hwasan_thread.h.html#__hwasan::Thread" title='__hwasan::Thread' data-ref="__hwasan::Thread" data-ref-filename="__hwasan..Thread">Thread</a> *<dfn class="decl def fn" id="__hwasan::GetCurrentThread" title='__hwasan::GetCurrentThread' data-ref="__hwasan::GetCurrentThread" data-ref-filename="__hwasan..GetCurrentThread">GetCurrentThread</dfn>() {</td></tr>
<tr><th id="313">313</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> *<dfn class="local col6 decl" id="16ThreadLongPtr" title='ThreadLongPtr' data-type='__sanitizer::uptr *' data-ref="16ThreadLongPtr" data-ref-filename="16ThreadLongPtr">ThreadLongPtr</dfn> = <a class="ref fn" href="#__hwasan::GetCurrentThreadLongPtr" title='__hwasan::GetCurrentThreadLongPtr' data-ref="__hwasan::GetCurrentThreadLongPtr" data-ref-filename="__hwasan..GetCurrentThreadLongPtr">GetCurrentThreadLongPtr</a>();</td></tr>
<tr><th id="314">314</th><td>  <b>if</b> (<a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#229" title="__builtin_expect(!!(*ThreadLongPtr == 0), 0)" data-ref="_M/UNLIKELY">UNLIKELY</a>(*<a class="local col6 ref" href="#16ThreadLongPtr" title='ThreadLongPtr' data-ref="16ThreadLongPtr" data-ref-filename="16ThreadLongPtr">ThreadLongPtr</a> == <var>0</var>))</td></tr>
<tr><th id="315">315</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="316">316</th><td>  <em>auto</em> *<dfn class="local col7 decl" id="17R" title='R' data-type='__sanitizer::CompactRingBuffer&lt;unsigned long&gt; *' data-ref="17R" data-ref-filename="17R">R</dfn> = (<a class="typedef" href="hwasan_thread.h.html#__hwasan::StackAllocationsRingBuffer" title='__hwasan::StackAllocationsRingBuffer' data-type='__sanitizer::CompactRingBuffer&lt;uptr&gt;' data-ref="__hwasan::StackAllocationsRingBuffer" data-ref-filename="__hwasan..StackAllocationsRingBuffer">StackAllocationsRingBuffer</a> *)<a class="local col6 ref" href="#16ThreadLongPtr" title='ThreadLongPtr' data-ref="16ThreadLongPtr" data-ref-filename="16ThreadLongPtr">ThreadLongPtr</a>;</td></tr>
<tr><th id="317">317</th><td>  <b>return</b> <a class="ref fn" href="hwasan_thread_list.h.html#__hwasan::hwasanThreadList" title='__hwasan::hwasanThreadList' data-ref="__hwasan::hwasanThreadList" data-ref-filename="__hwasan..hwasanThreadList">hwasanThreadList</a>().<a class="ref fn" href="hwasan_thread_list.h.html#__hwasan::HwasanThreadList::GetThreadByBufferAddress" title='__hwasan::HwasanThreadList::GetThreadByBufferAddress' data-ref="__hwasan::HwasanThreadList::GetThreadByBufferAddress" data-ref-filename="__hwasan..HwasanThreadList..GetThreadByBufferAddress">GetThreadByBufferAddress</a>((<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a>)<a class="local col7 ref" href="#17R" title='R' data-ref="17R" data-ref-filename="17R">R</a>-&gt;<a class="ref fn" href="../sanitizer_common/sanitizer_ring_buffer.h.html#__sanitizer::CompactRingBuffer::Next" title='__sanitizer::CompactRingBuffer::Next' data-ref="__sanitizer::CompactRingBuffer::Next" data-ref-filename="__sanitizer..CompactRingBuffer..Next">Next</a>());</td></tr>
<tr><th id="318">318</th><td>}</td></tr>
<tr><th id="319">319</th><td></td></tr>
<tr><th id="320">320</th><td><b>struct</b> <dfn class="type def" id="__hwasan::AccessInfo" title='__hwasan::AccessInfo' data-ref="__hwasan::AccessInfo" data-ref-filename="__hwasan..AccessInfo">AccessInfo</dfn> {</td></tr>
<tr><th id="321">321</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="tu decl field" id="__hwasan::AccessInfo::addr" title='__hwasan::AccessInfo::addr' data-type='__sanitizer::uptr' data-ref="__hwasan::AccessInfo::addr" data-ref-filename="__hwasan..AccessInfo..addr">addr</dfn>;</td></tr>
<tr><th id="322">322</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="tu decl field" id="__hwasan::AccessInfo::size" title='__hwasan::AccessInfo::size' data-type='__sanitizer::uptr' data-ref="__hwasan::AccessInfo::size" data-ref-filename="__hwasan..AccessInfo..size">size</dfn>;</td></tr>
<tr><th id="323">323</th><td>  <em>bool</em> <dfn class="tu decl field" id="__hwasan::AccessInfo::is_store" title='__hwasan::AccessInfo::is_store' data-type='bool' data-ref="__hwasan::AccessInfo::is_store" data-ref-filename="__hwasan..AccessInfo..is_store">is_store</dfn>;</td></tr>
<tr><th id="324">324</th><td>  <em>bool</em> <dfn class="tu decl field" id="__hwasan::AccessInfo::is_load" title='__hwasan::AccessInfo::is_load' data-type='bool' data-ref="__hwasan::AccessInfo::is_load" data-ref-filename="__hwasan..AccessInfo..is_load">is_load</dfn>;</td></tr>
<tr><th id="325">325</th><td>  <em>bool</em> <dfn class="tu decl field" id="__hwasan::AccessInfo::recover" title='__hwasan::AccessInfo::recover' data-type='bool' data-ref="__hwasan::AccessInfo::recover" data-ref-filename="__hwasan..AccessInfo..recover">recover</dfn>;</td></tr>
<tr><th id="326">326</th><td>};</td></tr>
<tr><th id="327">327</th><td></td></tr>
<tr><th id="328">328</th><td><em>static</em> <a class="type" href="#__hwasan::AccessInfo" title='__hwasan::AccessInfo' data-ref="__hwasan::AccessInfo" data-ref-filename="__hwasan..AccessInfo">AccessInfo</a> <dfn class="tu decl def fn" id="__hwasan::GetAccessInfo" title='__hwasan::GetAccessInfo' data-type='__hwasan::AccessInfo __hwasan::GetAccessInfo(siginfo_t * info, ucontext_t * uc)' data-ref="__hwasan::GetAccessInfo" data-ref-filename="__hwasan..GetAccessInfo">GetAccessInfo</dfn>(<a class="typedef" href="../../../../include/bits/types/siginfo_t.h.html#siginfo_t" title='siginfo_t' data-type='struct siginfo_t' data-ref="siginfo_t" data-ref-filename="siginfo_t">siginfo_t</a> *<dfn class="local col8 decl" id="18info" title='info' data-type='siginfo_t *' data-ref="18info" data-ref-filename="18info">info</dfn>, <a class="typedef" href="../../../../include/sys/ucontext.h.html#ucontext_t" title='ucontext_t' data-type='struct ucontext_t' data-ref="ucontext_t" data-ref-filename="ucontext_t">ucontext_t</a> *<dfn class="local col9 decl" id="19uc" title='uc' data-type='ucontext_t *' data-ref="19uc" data-ref-filename="19uc">uc</dfn>) {</td></tr>
<tr><th id="329">329</th><td>  <i>// Access type is passed in a platform dependent way (see below) and encoded</i></td></tr>
<tr><th id="330">330</th><td><i>  // as 0xXY, where X&amp;1 is 1 for store, 0 for load, and X&amp;2 is 1 if the error is</i></td></tr>
<tr><th id="331">331</th><td><i>  // recoverable. Valid values of Y are 0 to 4, which are interpreted as</i></td></tr>
<tr><th id="332">332</th><td><i>  // log2(access_size), and 0xF, which means that access size is passed via</i></td></tr>
<tr><th id="333">333</th><td><i>  // platform dependent register (see below).</i></td></tr>
<tr><th id="334">334</th><td><u>#<span data-ppcond="334">if</span> defined(<span class="macro" data-ref="_M/__aarch64__">__aarch64__</span>)</u></td></tr>
<tr><th id="335">335</th><td>  <i>// Access type is encoded in BRK immediate as 0x900 + 0xXY. For Y == 0xF,</i></td></tr>
<tr><th id="336">336</th><td><i>  // access size is stored in X1 register. Access address is always in X0</i></td></tr>
<tr><th id="337">337</th><td><i>  // register.</i></td></tr>
<tr><th id="338">338</th><td>  uptr pc = (uptr)info-&gt;si_addr;</td></tr>
<tr><th id="339">339</th><td>  <em>const</em> <em>unsigned</em> code = ((*(u32 *)pc) &gt;&gt; <var>5</var>) &amp; <var>0xffff</var>;</td></tr>
<tr><th id="340">340</th><td>  <b>if</b> ((code &amp; <var>0xff00</var>) != <var>0x900</var>)</td></tr>
<tr><th id="341">341</th><td>    <b>return</b> AccessInfo{}; <i>// Not ours.</i></td></tr>
<tr><th id="342">342</th><td></td></tr>
<tr><th id="343">343</th><td>  <em>const</em> <em>bool</em> is_store = code &amp; <var>0x10</var>;</td></tr>
<tr><th id="344">344</th><td>  <em>const</em> <em>bool</em> recover = code &amp; <var>0x20</var>;</td></tr>
<tr><th id="345">345</th><td>  <em>const</em> uptr addr = uc-&gt;uc_mcontext.regs[<var>0</var>];</td></tr>
<tr><th id="346">346</th><td>  <em>const</em> <em>unsigned</em> size_log = code &amp; <var>0xf</var>;</td></tr>
<tr><th id="347">347</th><td>  <b>if</b> (size_log &gt; <var>4</var> &amp;&amp; size_log != <var>0xf</var>)</td></tr>
<tr><th id="348">348</th><td>    <b>return</b> AccessInfo{}; <i>// Not ours.</i></td></tr>
<tr><th id="349">349</th><td>  <em>const</em> uptr size = size_log == <var>0xf</var> ? uc-&gt;uc_mcontext.regs[<var>1</var>] : <var>1U</var> &lt;&lt; size_log;</td></tr>
<tr><th id="350">350</th><td></td></tr>
<tr><th id="351">351</th><td><u>#<span data-ppcond="334">elif</span> defined(<span class="macro" data-ref="_M/__x86_64__">__x86_64__</span>)</u></td></tr>
<tr><th id="352">352</th><td>  <i>// Access type is encoded in the instruction following INT3 as</i></td></tr>
<tr><th id="353">353</th><td><i>  // NOP DWORD ptr [EAX + 0x40 + 0xXY]. For Y == 0xF, access size is stored in</i></td></tr>
<tr><th id="354">354</th><td><i>  // RSI register. Access address is always in RDI register.</i></td></tr>
<tr><th id="355">355</th><td>  <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col0 decl" id="20pc" title='pc' data-type='__sanitizer::uptr' data-ref="20pc" data-ref-filename="20pc">pc</dfn> = (<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a>)<a class="local col9 ref" href="#19uc" title='uc' data-ref="19uc" data-ref-filename="19uc">uc</a>-&gt;<a class="ref field" href="../../../../include/sys/ucontext.h.html#ucontext_t::uc_mcontext" title='ucontext_t::uc_mcontext' data-ref="ucontext_t::uc_mcontext" data-ref-filename="ucontext_t..uc_mcontext">uc_mcontext</a>.<a class="ref field" href="../../../../include/sys/ucontext.h.html#135" title='(anonymous struct)::gregs' data-ref="(anonymous)::gregs" data-ref-filename="(anonymous)..gregs">gregs</a>[<a class="macro" href="../../../../include/sys/ucontext.h.html#85" title="REG_RIP" data-ref="_M/REG_RIP">REG_RIP</a>];</td></tr>
<tr><th id="356">356</th><td>  <span class='typedef' title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</span> *<dfn class="local col1 decl" id="21nop" title='nop' data-type='uint8_t *' data-ref="21nop" data-ref-filename="21nop">nop</dfn> = (<span class='typedef' title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</span>*)<a class="local col0 ref" href="#20pc" title='pc' data-ref="20pc" data-ref-filename="20pc">pc</a>;</td></tr>
<tr><th id="357">357</th><td>  <b>if</b> (*<a class="local col1 ref" href="#21nop" title='nop' data-ref="21nop" data-ref-filename="21nop">nop</a> != <var>0x0f</var> || *(<a class="local col1 ref" href="#21nop" title='nop' data-ref="21nop" data-ref-filename="21nop">nop</a> + <var>1</var>) != <var>0x1f</var> || *(<a class="local col1 ref" href="#21nop" title='nop' data-ref="21nop" data-ref-filename="21nop">nop</a> + <var>2</var>) != <var>0x40</var>  ||</td></tr>
<tr><th id="358">358</th><td>      *(<a class="local col1 ref" href="#21nop" title='nop' data-ref="21nop" data-ref-filename="21nop">nop</a> + <var>3</var>) &lt; <var>0x40</var>)</td></tr>
<tr><th id="359">359</th><td>    <b>return</b> <a class="type" href="#__hwasan::AccessInfo" title='__hwasan::AccessInfo' data-ref="__hwasan::AccessInfo" data-ref-filename="__hwasan..AccessInfo">AccessInfo</a>{}; <i>// Not ours.</i></td></tr>
<tr><th id="360">360</th><td>  <em>const</em> <em>unsigned</em> <dfn class="local col2 decl" id="22code" title='code' data-type='const unsigned int' data-ref="22code" data-ref-filename="22code">code</dfn> = *(<a class="local col1 ref" href="#21nop" title='nop' data-ref="21nop" data-ref-filename="21nop">nop</a> + <var>3</var>);</td></tr>
<tr><th id="361">361</th><td></td></tr>
<tr><th id="362">362</th><td>  <em>const</em> <em>bool</em> <dfn class="local col3 decl" id="23is_store" title='is_store' data-type='const bool' data-ref="23is_store" data-ref-filename="23is_store">is_store</dfn> = <a class="local col2 ref" href="#22code" title='code' data-ref="22code" data-ref-filename="22code">code</a> &amp; <var>0x10</var>;</td></tr>
<tr><th id="363">363</th><td>  <em>const</em> <em>bool</em> <dfn class="local col4 decl" id="24recover" title='recover' data-type='const bool' data-ref="24recover" data-ref-filename="24recover">recover</dfn> = <a class="local col2 ref" href="#22code" title='code' data-ref="22code" data-ref-filename="22code">code</a> &amp; <var>0x20</var>;</td></tr>
<tr><th id="364">364</th><td>  <em>const</em> <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col5 decl" id="25addr" title='addr' data-type='const __sanitizer::uptr' data-ref="25addr" data-ref-filename="25addr">addr</dfn> = <a class="local col9 ref" href="#19uc" title='uc' data-ref="19uc" data-ref-filename="19uc">uc</a>-&gt;<a class="ref field" href="../../../../include/sys/ucontext.h.html#ucontext_t::uc_mcontext" title='ucontext_t::uc_mcontext' data-ref="ucontext_t::uc_mcontext" data-ref-filename="ucontext_t..uc_mcontext">uc_mcontext</a>.<a class="ref field" href="../../../../include/sys/ucontext.h.html#135" title='(anonymous struct)::gregs' data-ref="(anonymous)::gregs" data-ref-filename="(anonymous)..gregs">gregs</a>[<a class="macro" href="../../../../include/sys/ucontext.h.html#69" title="REG_RDI" data-ref="_M/REG_RDI">REG_RDI</a>];</td></tr>
<tr><th id="365">365</th><td>  <em>const</em> <em>unsigned</em> <dfn class="local col6 decl" id="26size_log" title='size_log' data-type='const unsigned int' data-ref="26size_log" data-ref-filename="26size_log">size_log</dfn> = <a class="local col2 ref" href="#22code" title='code' data-ref="22code" data-ref-filename="22code">code</a> &amp; <var>0xf</var>;</td></tr>
<tr><th id="366">366</th><td>  <b>if</b> (<a class="local col6 ref" href="#26size_log" title='size_log' data-ref="26size_log" data-ref-filename="26size_log">size_log</a> &gt; <var>4</var> &amp;&amp; <a class="local col6 ref" href="#26size_log" title='size_log' data-ref="26size_log" data-ref-filename="26size_log">size_log</a> != <var>0xf</var>)</td></tr>
<tr><th id="367">367</th><td>    <b>return</b> <a class="type" href="#__hwasan::AccessInfo" title='__hwasan::AccessInfo' data-ref="__hwasan::AccessInfo" data-ref-filename="__hwasan..AccessInfo">AccessInfo</a>{}; <i>// Not ours.</i></td></tr>
<tr><th id="368">368</th><td>  <em>const</em> <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col7 decl" id="27size" title='size' data-type='const __sanitizer::uptr' data-ref="27size" data-ref-filename="27size">size</dfn> =</td></tr>
<tr><th id="369">369</th><td>      <a class="local col6 ref" href="#26size_log" title='size_log' data-ref="26size_log" data-ref-filename="26size_log">size_log</a> == <var>0xf</var> ? <a class="local col9 ref" href="#19uc" title='uc' data-ref="19uc" data-ref-filename="19uc">uc</a>-&gt;<a class="ref field" href="../../../../include/sys/ucontext.h.html#ucontext_t::uc_mcontext" title='ucontext_t::uc_mcontext' data-ref="ucontext_t::uc_mcontext" data-ref-filename="ucontext_t..uc_mcontext">uc_mcontext</a>.<a class="ref field" href="../../../../include/sys/ucontext.h.html#135" title='(anonymous struct)::gregs' data-ref="(anonymous)::gregs" data-ref-filename="(anonymous)..gregs">gregs</a>[<a class="macro" href="../../../../include/sys/ucontext.h.html#71" title="REG_RSI" data-ref="_M/REG_RSI">REG_RSI</a>] : <var>1U</var> &lt;&lt; <a class="local col6 ref" href="#26size_log" title='size_log' data-ref="26size_log" data-ref-filename="26size_log">size_log</a>;</td></tr>
<tr><th id="370">370</th><td></td></tr>
<tr><th id="371">371</th><td><u>#<span data-ppcond="334">else</span></u></td></tr>
<tr><th id="372">372</th><td><u># error Unsupported architecture</u></td></tr>
<tr><th id="373">373</th><td><u>#<span data-ppcond="334">endif</span></u></td></tr>
<tr><th id="374">374</th><td></td></tr>
<tr><th id="375">375</th><td>  <b>return</b> <a class="type" href="#__hwasan::AccessInfo" title='__hwasan::AccessInfo' data-ref="__hwasan::AccessInfo" data-ref-filename="__hwasan..AccessInfo">AccessInfo</a>{<a class="local col5 ref" href="#25addr" title='addr' data-ref="25addr" data-ref-filename="25addr">addr</a>, <a class="local col7 ref" href="#27size" title='size' data-ref="27size" data-ref-filename="27size">size</a>, <a class="local col3 ref" href="#23is_store" title='is_store' data-ref="23is_store" data-ref-filename="23is_store">is_store</a>, !<a class="local col3 ref" href="#23is_store" title='is_store' data-ref="23is_store" data-ref-filename="23is_store">is_store</a>, <a class="local col4 ref" href="#24recover" title='recover' data-ref="24recover" data-ref-filename="24recover">recover</a>};</td></tr>
<tr><th id="376">376</th><td>}</td></tr>
<tr><th id="377">377</th><td></td></tr>
<tr><th id="378">378</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="__hwasan::HandleTagMismatch" title='__hwasan::HandleTagMismatch' data-type='void __hwasan::HandleTagMismatch(__hwasan::AccessInfo ai, __sanitizer::uptr pc, __sanitizer::uptr frame, ucontext_t * uc, __sanitizer::uptr * registers_frame = nullptr)' data-ref="__hwasan::HandleTagMismatch" data-ref-filename="__hwasan..HandleTagMismatch">HandleTagMismatch</dfn>(<a class="type" href="#__hwasan::AccessInfo" title='__hwasan::AccessInfo' data-ref="__hwasan::AccessInfo" data-ref-filename="__hwasan..AccessInfo">AccessInfo</a> <dfn class="local col8 decl" id="28ai" title='ai' data-type='__hwasan::AccessInfo' data-ref="28ai" data-ref-filename="28ai">ai</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col9 decl" id="29pc" title='pc' data-type='__sanitizer::uptr' data-ref="29pc" data-ref-filename="29pc">pc</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col0 decl" id="30frame" title='frame' data-type='__sanitizer::uptr' data-ref="30frame" data-ref-filename="30frame">frame</dfn>,</td></tr>
<tr><th id="379">379</th><td>                              <a class="typedef" href="../../../../include/sys/ucontext.h.html#ucontext_t" title='ucontext_t' data-type='struct ucontext_t' data-ref="ucontext_t" data-ref-filename="ucontext_t">ucontext_t</a> *<dfn class="local col1 decl" id="31uc" title='uc' data-type='ucontext_t *' data-ref="31uc" data-ref-filename="31uc">uc</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> *<dfn class="local col2 decl" id="32registers_frame" title='registers_frame' data-type='__sanitizer::uptr *' data-ref="32registers_frame" data-ref-filename="32registers_frame">registers_frame</dfn> = <b>nullptr</b>) {</td></tr>
<tr><th id="380">380</th><td>  <a class="type" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::InternalMmapVector" title='__sanitizer::InternalMmapVector' data-ref="__sanitizer::InternalMmapVector" data-ref-filename="__sanitizer..InternalMmapVector">InternalMmapVector</a>&lt;<a class="type" href="../sanitizer_common/sanitizer_stacktrace.h.html#__sanitizer::BufferedStackTrace" title='__sanitizer::BufferedStackTrace' data-ref="__sanitizer::BufferedStackTrace" data-ref-filename="__sanitizer..BufferedStackTrace">BufferedStackTrace</a>&gt; <dfn class="local col3 decl" id="33stack_buffer" title='stack_buffer' data-type='InternalMmapVector&lt;__sanitizer::BufferedStackTrace&gt;' data-ref="33stack_buffer" data-ref-filename="33stack_buffer">stack_buffer</dfn><a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::InternalMmapVector::InternalMmapVector{T}" title='__sanitizer::InternalMmapVector::InternalMmapVector&lt;T&gt;' data-ref="__sanitizer::InternalMmapVector::InternalMmapVector{T}" data-ref-filename="__sanitizer..InternalMmapVector..InternalMmapVector{T}">(</a><var>1</var>);</td></tr>
<tr><th id="381">381</th><td>  <a class="type" href="../sanitizer_common/sanitizer_stacktrace.h.html#__sanitizer::BufferedStackTrace" title='__sanitizer::BufferedStackTrace' data-ref="__sanitizer::BufferedStackTrace" data-ref-filename="__sanitizer..BufferedStackTrace">BufferedStackTrace</a> *<dfn class="local col4 decl" id="34stack" title='stack' data-type='__sanitizer::BufferedStackTrace *' data-ref="34stack" data-ref-filename="34stack">stack</dfn> = <a class="local col3 ref" href="#33stack_buffer" title='stack_buffer' data-ref="33stack_buffer" data-ref-filename="33stack_buffer">stack_buffer</a>.<a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::InternalMmapVectorNoCtor::data" title='__sanitizer::InternalMmapVectorNoCtor::data' data-ref="__sanitizer::InternalMmapVectorNoCtor::data" data-ref-filename="__sanitizer..InternalMmapVectorNoCtor..data">data</a>();</td></tr>
<tr><th id="382">382</th><td>  <a class="local col4 ref" href="#34stack" title='stack' data-ref="34stack" data-ref-filename="34stack">stack</a>-&gt;<a class="ref fn" href="../sanitizer_common/sanitizer_stacktrace.h.html#__sanitizer::BufferedStackTrace::Reset" title='__sanitizer::BufferedStackTrace::Reset' data-ref="__sanitizer::BufferedStackTrace::Reset" data-ref-filename="__sanitizer..BufferedStackTrace..Reset">Reset</a>();</td></tr>
<tr><th id="383">383</th><td>  <a class="local col4 ref" href="#34stack" title='stack' data-ref="34stack" data-ref-filename="34stack">stack</a>-&gt;<a class="ref fn" href="../sanitizer_common/sanitizer_stacktrace.h.html#__sanitizer::BufferedStackTrace::Unwind" title='__sanitizer::BufferedStackTrace::Unwind' data-ref="__sanitizer::BufferedStackTrace::Unwind" data-ref-filename="__sanitizer..BufferedStackTrace..Unwind">Unwind</a>(<a class="local col9 ref" href="#29pc" title='pc' data-ref="29pc" data-ref-filename="29pc">pc</a>, <a class="local col0 ref" href="#30frame" title='frame' data-ref="30frame" data-ref-filename="30frame">frame</a>, <a class="local col1 ref" href="#31uc" title='uc' data-ref="31uc" data-ref-filename="31uc">uc</a>, <a class="ref fn" href="../sanitizer_common/sanitizer_flags.h.html#__sanitizer::common_flags" title='__sanitizer::common_flags' data-ref="__sanitizer::common_flags" data-ref-filename="__sanitizer..common_flags">common_flags</a>()-&gt;<a class="ref field" href="../sanitizer_common/sanitizer_flags.inc.html#40" title='__sanitizer::CommonFlags::fast_unwind_on_fatal' data-ref="__sanitizer::CommonFlags::fast_unwind_on_fatal" data-ref-filename="__sanitizer..CommonFlags..fast_unwind_on_fatal">fast_unwind_on_fatal</a>);</td></tr>
<tr><th id="384">384</th><td></td></tr>
<tr><th id="385">385</th><td>  <i>// The second stack frame contains the failure __hwasan_check function, as</i></td></tr>
<tr><th id="386">386</th><td><i>  // we have a stack frame for the registers saved in __hwasan_tag_mismatch that</i></td></tr>
<tr><th id="387">387</th><td><i>  // we wish to ignore. This (currently) only occurs on AArch64, as x64</i></td></tr>
<tr><th id="388">388</th><td><i>  // implementations use SIGTRAP to implement the failure, and thus do not go</i></td></tr>
<tr><th id="389">389</th><td><i>  // through the stack saver.</i></td></tr>
<tr><th id="390">390</th><td>  <b>if</b> (<a class="local col2 ref" href="#32registers_frame" title='registers_frame' data-ref="32registers_frame" data-ref-filename="32registers_frame">registers_frame</a> &amp;&amp; <a class="local col4 ref" href="#34stack" title='stack' data-ref="34stack" data-ref-filename="34stack">stack</a>-&gt;<a class="ref field" href="../sanitizer_common/sanitizer_stacktrace.h.html#__sanitizer::StackTrace::trace" title='__sanitizer::StackTrace::trace' data-ref="__sanitizer::StackTrace::trace" data-ref-filename="__sanitizer..StackTrace..trace">trace</a> &amp;&amp; <a class="local col4 ref" href="#34stack" title='stack' data-ref="34stack" data-ref-filename="34stack">stack</a>-&gt;<a class="ref field" href="../sanitizer_common/sanitizer_stacktrace.h.html#__sanitizer::StackTrace::size" title='__sanitizer::StackTrace::size' data-ref="__sanitizer::StackTrace::size" data-ref-filename="__sanitizer..StackTrace..size">size</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="391">391</th><td>    <a class="local col4 ref" href="#34stack" title='stack' data-ref="34stack" data-ref-filename="34stack">stack</a>-&gt;<a class="ref field" href="../sanitizer_common/sanitizer_stacktrace.h.html#__sanitizer::StackTrace::trace" title='__sanitizer::StackTrace::trace' data-ref="__sanitizer::StackTrace::trace" data-ref-filename="__sanitizer..StackTrace..trace">trace</a>++;</td></tr>
<tr><th id="392">392</th><td>    <a class="local col4 ref" href="#34stack" title='stack' data-ref="34stack" data-ref-filename="34stack">stack</a>-&gt;<a class="ref field" href="../sanitizer_common/sanitizer_stacktrace.h.html#__sanitizer::StackTrace::size" title='__sanitizer::StackTrace::size' data-ref="__sanitizer::StackTrace::size" data-ref-filename="__sanitizer..StackTrace..size">size</a>--;</td></tr>
<tr><th id="393">393</th><td>  }</td></tr>
<tr><th id="394">394</th><td></td></tr>
<tr><th id="395">395</th><td>  <em>bool</em> <dfn class="local col5 decl" id="35fatal" title='fatal' data-type='bool' data-ref="35fatal" data-ref-filename="35fatal">fatal</dfn> = <a class="ref fn" href="hwasan_flags.h.html#__hwasan::flags" title='__hwasan::flags' data-ref="__hwasan::flags" data-ref-filename="__hwasan..flags">flags</a>()-&gt;<a class="ref field" href="hwasan_flags.inc.html#24" title='__hwasan::Flags::halt_on_error' data-ref="__hwasan::Flags::halt_on_error" data-ref-filename="__hwasan..Flags..halt_on_error">halt_on_error</a> || !<a class="local col8 ref" href="#28ai" title='ai' data-ref="28ai" data-ref-filename="28ai">ai</a>.<a class="tu ref field" href="#__hwasan::AccessInfo::recover" title='__hwasan::AccessInfo::recover' data-use='r' data-ref="__hwasan::AccessInfo::recover" data-ref-filename="__hwasan..AccessInfo..recover">recover</a>;</td></tr>
<tr><th id="396">396</th><td>  <a class="ref fn" href="hwasan_report.h.html#__hwasan::ReportTagMismatch" title='__hwasan::ReportTagMismatch' data-ref="__hwasan::ReportTagMismatch" data-ref-filename="__hwasan..ReportTagMismatch">ReportTagMismatch</a>(<a class="local col4 ref" href="#34stack" title='stack' data-ref="34stack" data-ref-filename="34stack">stack</a>, <a class="local col8 ref" href="#28ai" title='ai' data-ref="28ai" data-ref-filename="28ai">ai</a>.<a class="tu ref field" href="#__hwasan::AccessInfo::addr" title='__hwasan::AccessInfo::addr' data-use='r' data-ref="__hwasan::AccessInfo::addr" data-ref-filename="__hwasan..AccessInfo..addr">addr</a>, <a class="local col8 ref" href="#28ai" title='ai' data-ref="28ai" data-ref-filename="28ai">ai</a>.<a class="tu ref field" href="#__hwasan::AccessInfo::size" title='__hwasan::AccessInfo::size' data-use='r' data-ref="__hwasan::AccessInfo::size" data-ref-filename="__hwasan..AccessInfo..size">size</a>, <a class="local col8 ref" href="#28ai" title='ai' data-ref="28ai" data-ref-filename="28ai">ai</a>.<a class="tu ref field" href="#__hwasan::AccessInfo::is_store" title='__hwasan::AccessInfo::is_store' data-use='r' data-ref="__hwasan::AccessInfo::is_store" data-ref-filename="__hwasan..AccessInfo..is_store">is_store</a>, <a class="local col5 ref" href="#35fatal" title='fatal' data-ref="35fatal" data-ref-filename="35fatal">fatal</a>,</td></tr>
<tr><th id="397">397</th><td>                    <a class="local col2 ref" href="#32registers_frame" title='registers_frame' data-ref="32registers_frame" data-ref-filename="32registers_frame">registers_frame</a>);</td></tr>
<tr><th id="398">398</th><td>}</td></tr>
<tr><th id="399">399</th><td></td></tr>
<tr><th id="400">400</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="__hwasan::HwasanOnSIGTRAP" title='__hwasan::HwasanOnSIGTRAP' data-type='bool __hwasan::HwasanOnSIGTRAP(int signo, siginfo_t * info, ucontext_t * uc)' data-ref="__hwasan::HwasanOnSIGTRAP" data-ref-filename="__hwasan..HwasanOnSIGTRAP">HwasanOnSIGTRAP</dfn>(<em>int</em> <dfn class="local col6 decl" id="36signo" title='signo' data-type='int' data-ref="36signo" data-ref-filename="36signo">signo</dfn>, <a class="typedef" href="../../../../include/bits/types/siginfo_t.h.html#siginfo_t" title='siginfo_t' data-type='struct siginfo_t' data-ref="siginfo_t" data-ref-filename="siginfo_t">siginfo_t</a> *<dfn class="local col7 decl" id="37info" title='info' data-type='siginfo_t *' data-ref="37info" data-ref-filename="37info">info</dfn>, <a class="typedef" href="../../../../include/sys/ucontext.h.html#ucontext_t" title='ucontext_t' data-type='struct ucontext_t' data-ref="ucontext_t" data-ref-filename="ucontext_t">ucontext_t</a> *<dfn class="local col8 decl" id="38uc" title='uc' data-type='ucontext_t *' data-ref="38uc" data-ref-filename="38uc">uc</dfn>) {</td></tr>
<tr><th id="401">401</th><td>  <a class="type" href="#__hwasan::AccessInfo" title='__hwasan::AccessInfo' data-ref="__hwasan::AccessInfo" data-ref-filename="__hwasan..AccessInfo">AccessInfo</a> <dfn class="local col9 decl" id="39ai" title='ai' data-type='__hwasan::AccessInfo' data-ref="39ai" data-ref-filename="39ai">ai</dfn> = <a class="tu ref fn" href="#__hwasan::GetAccessInfo" title='__hwasan::GetAccessInfo' data-use='c' data-ref="__hwasan::GetAccessInfo" data-ref-filename="__hwasan..GetAccessInfo">GetAccessInfo</a>(<a class="local col7 ref" href="#37info" title='info' data-ref="37info" data-ref-filename="37info">info</a>, <a class="local col8 ref" href="#38uc" title='uc' data-ref="38uc" data-ref-filename="38uc">uc</a>);</td></tr>
<tr><th id="402">402</th><td>  <b>if</b> (!<a class="local col9 ref" href="#39ai" title='ai' data-ref="39ai" data-ref-filename="39ai">ai</a>.<a class="tu ref field" href="#__hwasan::AccessInfo::is_store" title='__hwasan::AccessInfo::is_store' data-use='r' data-ref="__hwasan::AccessInfo::is_store" data-ref-filename="__hwasan..AccessInfo..is_store">is_store</a> &amp;&amp; !<a class="local col9 ref" href="#39ai" title='ai' data-ref="39ai" data-ref-filename="39ai">ai</a>.<a class="tu ref field" href="#__hwasan::AccessInfo::is_load" title='__hwasan::AccessInfo::is_load' data-use='r' data-ref="__hwasan::AccessInfo::is_load" data-ref-filename="__hwasan..AccessInfo..is_load">is_load</a>)</td></tr>
<tr><th id="403">403</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="404">404</th><td></td></tr>
<tr><th id="405">405</th><td>  <a class="type" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::SignalContext" title='__sanitizer::SignalContext' data-ref="__sanitizer::SignalContext" data-ref-filename="__sanitizer..SignalContext">SignalContext</a> <dfn class="local col0 decl" id="40sig" title='sig' data-type='__sanitizer::SignalContext' data-ref="40sig" data-ref-filename="40sig">sig</dfn><a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::SignalContext::SignalContext" title='__sanitizer::SignalContext::SignalContext' data-ref="__sanitizer::SignalContext::SignalContext" data-ref-filename="__sanitizer..SignalContext..SignalContext">{</a><a class="local col7 ref" href="#37info" title='info' data-ref="37info" data-ref-filename="37info">info</a>, <a class="local col8 ref" href="#38uc" title='uc' data-ref="38uc" data-ref-filename="38uc">uc</a>};</td></tr>
<tr><th id="406">406</th><td>  <a class="tu ref fn" href="#__hwasan::HandleTagMismatch" title='__hwasan::HandleTagMismatch' data-use='c' data-ref="__hwasan::HandleTagMismatch" data-ref-filename="__hwasan..HandleTagMismatch">HandleTagMismatch</a>(<a class="tu ref fn fake" href="#320" title='__hwasan::AccessInfo::AccessInfo' data-use='c' data-ref="__hwasan::AccessInfo::AccessInfo" data-ref-filename="__hwasan..AccessInfo..AccessInfo"></a><a class="local col9 ref" href="#39ai" title='ai' data-ref="39ai" data-ref-filename="39ai">ai</a>, <a class="type" href="../sanitizer_common/sanitizer_stacktrace.h.html#__sanitizer::StackTrace" title='__sanitizer::StackTrace' data-ref="__sanitizer::StackTrace" data-ref-filename="__sanitizer..StackTrace">StackTrace</a>::<a class="ref fn" href="../sanitizer_common/sanitizer_stacktrace.h.html#__sanitizer::StackTrace::GetNextInstructionPc" title='__sanitizer::StackTrace::GetNextInstructionPc' data-ref="__sanitizer::StackTrace::GetNextInstructionPc" data-ref-filename="__sanitizer..StackTrace..GetNextInstructionPc">GetNextInstructionPc</a>(<a class="local col0 ref" href="#40sig" title='sig' data-ref="40sig" data-ref-filename="40sig">sig</a>.<a class="ref field" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::SignalContext::pc" title='__sanitizer::SignalContext::pc' data-ref="__sanitizer::SignalContext::pc" data-ref-filename="__sanitizer..SignalContext..pc">pc</a>), <a class="local col0 ref" href="#40sig" title='sig' data-ref="40sig" data-ref-filename="40sig">sig</a>.<a class="ref field" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::SignalContext::bp" title='__sanitizer::SignalContext::bp' data-ref="__sanitizer::SignalContext::bp" data-ref-filename="__sanitizer..SignalContext..bp">bp</a>, <a class="local col8 ref" href="#38uc" title='uc' data-ref="38uc" data-ref-filename="38uc">uc</a>);</td></tr>
<tr><th id="407">407</th><td></td></tr>
<tr><th id="408">408</th><td><u>#<span data-ppcond="408">if</span> defined(<span class="macro" data-ref="_M/__aarch64__">__aarch64__</span>)</u></td></tr>
<tr><th id="409">409</th><td>  uc-&gt;uc_mcontext.pc += <var>4</var>;</td></tr>
<tr><th id="410">410</th><td><u>#<span data-ppcond="408">elif</span> defined(<span class="macro" data-ref="_M/__x86_64__">__x86_64__</span>)</u></td></tr>
<tr><th id="411">411</th><td><u>#<span data-ppcond="408">else</span></u></td></tr>
<tr><th id="412">412</th><td><u># error Unsupported architecture</u></td></tr>
<tr><th id="413">413</th><td><u>#<span data-ppcond="408">endif</span></u></td></tr>
<tr><th id="414">414</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="415">415</th><td>}</td></tr>
<tr><th id="416">416</th><td></td></tr>
<tr><th id="417">417</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="__hwasan::OnStackUnwind" title='__hwasan::OnStackUnwind' data-type='void __hwasan::OnStackUnwind(const __sanitizer::SignalContext &amp; sig, const void * , __sanitizer::BufferedStackTrace * stack)' data-ref="__hwasan::OnStackUnwind" data-ref-filename="__hwasan..OnStackUnwind">OnStackUnwind</dfn>(<em>const</em> <a class="type" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::SignalContext" title='__sanitizer::SignalContext' data-ref="__sanitizer::SignalContext" data-ref-filename="__sanitizer..SignalContext">SignalContext</a> &amp;<dfn class="local col1 decl" id="41sig" title='sig' data-type='const __sanitizer::SignalContext &amp;' data-ref="41sig" data-ref-filename="41sig">sig</dfn>, <em>const</em> <em>void</em> *,</td></tr>
<tr><th id="418">418</th><td>                          <a class="type" href="../sanitizer_common/sanitizer_stacktrace.h.html#__sanitizer::BufferedStackTrace" title='__sanitizer::BufferedStackTrace' data-ref="__sanitizer::BufferedStackTrace" data-ref-filename="__sanitizer..BufferedStackTrace">BufferedStackTrace</a> *<dfn class="local col2 decl" id="42stack" title='stack' data-type='__sanitizer::BufferedStackTrace *' data-ref="42stack" data-ref-filename="42stack">stack</dfn>) {</td></tr>
<tr><th id="419">419</th><td>  <a class="local col2 ref" href="#42stack" title='stack' data-ref="42stack" data-ref-filename="42stack">stack</a>-&gt;<a class="ref fn" href="../sanitizer_common/sanitizer_stacktrace.h.html#__sanitizer::BufferedStackTrace::Unwind" title='__sanitizer::BufferedStackTrace::Unwind' data-ref="__sanitizer::BufferedStackTrace::Unwind" data-ref-filename="__sanitizer..BufferedStackTrace..Unwind">Unwind</a>(<a class="type" href="../sanitizer_common/sanitizer_stacktrace.h.html#__sanitizer::StackTrace" title='__sanitizer::StackTrace' data-ref="__sanitizer::StackTrace" data-ref-filename="__sanitizer..StackTrace">StackTrace</a>::<a class="ref fn" href="../sanitizer_common/sanitizer_stacktrace.h.html#__sanitizer::StackTrace::GetNextInstructionPc" title='__sanitizer::StackTrace::GetNextInstructionPc' data-ref="__sanitizer::StackTrace::GetNextInstructionPc" data-ref-filename="__sanitizer..StackTrace..GetNextInstructionPc">GetNextInstructionPc</a>(<a class="local col1 ref" href="#41sig" title='sig' data-ref="41sig" data-ref-filename="41sig">sig</a>.<a class="ref field" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::SignalContext::pc" title='__sanitizer::SignalContext::pc' data-ref="__sanitizer::SignalContext::pc" data-ref-filename="__sanitizer..SignalContext..pc">pc</a>), <a class="local col1 ref" href="#41sig" title='sig' data-ref="41sig" data-ref-filename="41sig">sig</a>.<a class="ref field" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::SignalContext::bp" title='__sanitizer::SignalContext::bp' data-ref="__sanitizer::SignalContext::bp" data-ref-filename="__sanitizer..SignalContext..bp">bp</a>, <a class="local col1 ref" href="#41sig" title='sig' data-ref="41sig" data-ref-filename="41sig">sig</a>.<a class="ref field" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::SignalContext::context" title='__sanitizer::SignalContext::context' data-ref="__sanitizer::SignalContext::context" data-ref-filename="__sanitizer..SignalContext..context">context</a>,</td></tr>
<tr><th id="420">420</th><td>                <a class="ref fn" href="../sanitizer_common/sanitizer_flags.h.html#__sanitizer::common_flags" title='__sanitizer::common_flags' data-ref="__sanitizer::common_flags" data-ref-filename="__sanitizer..common_flags">common_flags</a>()-&gt;<a class="ref field" href="../sanitizer_common/sanitizer_flags.inc.html#40" title='__sanitizer::CommonFlags::fast_unwind_on_fatal' data-ref="__sanitizer::CommonFlags::fast_unwind_on_fatal" data-ref-filename="__sanitizer..CommonFlags..fast_unwind_on_fatal">fast_unwind_on_fatal</a>);</td></tr>
<tr><th id="421">421</th><td>}</td></tr>
<tr><th id="422">422</th><td></td></tr>
<tr><th id="423">423</th><td><em>void</em> <dfn class="decl def fn" id="__hwasan::HwasanOnDeadlySignal" title='__hwasan::HwasanOnDeadlySignal' data-ref="__hwasan::HwasanOnDeadlySignal" data-ref-filename="__hwasan..HwasanOnDeadlySignal">HwasanOnDeadlySignal</dfn>(<em>int</em> <dfn class="local col3 decl" id="43signo" title='signo' data-type='int' data-ref="43signo" data-ref-filename="43signo">signo</dfn>, <em>void</em> *<dfn class="local col4 decl" id="44info" title='info' data-type='void *' data-ref="44info" data-ref-filename="44info">info</dfn>, <em>void</em> *<dfn class="local col5 decl" id="45context" title='context' data-type='void *' data-ref="45context" data-ref-filename="45context">context</dfn>) {</td></tr>
<tr><th id="424">424</th><td>  <i>// Probably a tag mismatch.</i></td></tr>
<tr><th id="425">425</th><td>  <b>if</b> (<a class="local col3 ref" href="#43signo" title='signo' data-ref="43signo" data-ref-filename="43signo">signo</a> == <a class="macro" href="../../../../include/bits/signum-generic.h.html#58" title="5" data-ref="_M/SIGTRAP">SIGTRAP</a>)</td></tr>
<tr><th id="426">426</th><td>    <b>if</b> (<a class="tu ref fn" href="#__hwasan::HwasanOnSIGTRAP" title='__hwasan::HwasanOnSIGTRAP' data-use='c' data-ref="__hwasan::HwasanOnSIGTRAP" data-ref-filename="__hwasan..HwasanOnSIGTRAP">HwasanOnSIGTRAP</a>(<a class="local col3 ref" href="#43signo" title='signo' data-ref="43signo" data-ref-filename="43signo">signo</a>, (<a class="typedef" href="../../../../include/bits/types/siginfo_t.h.html#siginfo_t" title='siginfo_t' data-type='struct siginfo_t' data-ref="siginfo_t" data-ref-filename="siginfo_t">siginfo_t</a> *)<a class="local col4 ref" href="#44info" title='info' data-ref="44info" data-ref-filename="44info">info</a>, (<a class="typedef" href="../../../../include/sys/ucontext.h.html#ucontext_t" title='ucontext_t' data-type='struct ucontext_t' data-ref="ucontext_t" data-ref-filename="ucontext_t">ucontext_t</a>*)<a class="local col5 ref" href="#45context" title='context' data-ref="45context" data-ref-filename="45context">context</a>))</td></tr>
<tr><th id="427">427</th><td>      <b>return</b>;</td></tr>
<tr><th id="428">428</th><td></td></tr>
<tr><th id="429">429</th><td>  <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::HandleDeadlySignal" title='__sanitizer::HandleDeadlySignal' data-ref="__sanitizer::HandleDeadlySignal" data-ref-filename="__sanitizer..HandleDeadlySignal">HandleDeadlySignal</a>(<a class="local col4 ref" href="#44info" title='info' data-ref="44info" data-ref-filename="44info">info</a>, <a class="local col5 ref" href="#45context" title='context' data-ref="45context" data-ref-filename="45context">context</a>, <a class="ref fn" href="../sanitizer_common/sanitizer_common.h.html#__sanitizer::GetTid" title='__sanitizer::GetTid' data-ref="__sanitizer::GetTid" data-ref-filename="__sanitizer..GetTid">GetTid</a>(), &amp;<a class="tu ref fn" href="#__hwasan::OnStackUnwind" title='__hwasan::OnStackUnwind' data-use='a' data-ref="__hwasan::OnStackUnwind" data-ref-filename="__hwasan..OnStackUnwind">OnStackUnwind</a>, <b>nullptr</b>);</td></tr>
<tr><th id="430">430</th><td>}</td></tr>
<tr><th id="431">431</th><td></td></tr>
<tr><th id="432">432</th><td></td></tr>
<tr><th id="433">433</th><td>} <i>// namespace __hwasan</i></td></tr>
<tr><th id="434">434</th><td></td></tr>
<tr><th id="435">435</th><td><i>// Entry point for interoperability between __hwasan_tag_mismatch (ASM) and the</i></td></tr>
<tr><th id="436">436</th><td><i>// rest of the mismatch handling code (C++).</i></td></tr>
<tr><th id="437">437</th><td><em>void</em> <dfn class="decl def fn" id="__hwasan_tag_mismatch4" title='__hwasan_tag_mismatch4' data-ref="__hwasan_tag_mismatch4" data-ref-filename="__hwasan_tag_mismatch4">__hwasan_tag_mismatch4</dfn>(<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col6 decl" id="46addr" title='addr' data-type='__sanitizer::uptr' data-ref="46addr" data-ref-filename="46addr">addr</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> <dfn class="local col7 decl" id="47access_info" title='access_info' data-type='__sanitizer::uptr' data-ref="47access_info" data-ref-filename="47access_info">access_info</dfn>, <a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a> *<dfn class="local col8 decl" id="48registers_frame" title='registers_frame' data-type='__sanitizer::uptr *' data-ref="48registers_frame" data-ref-filename="48registers_frame">registers_frame</dfn>,</td></tr>
<tr><th id="438">438</th><td>                            <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col9 decl" id="49outsize" title='outsize' data-type='size_t' data-ref="49outsize" data-ref-filename="49outsize">outsize</dfn>) {</td></tr>
<tr><th id="439">439</th><td>  <span class="namespace">__hwasan::</span><a class="type" href="#__hwasan::AccessInfo" title='__hwasan::AccessInfo' data-ref="__hwasan::AccessInfo" data-ref-filename="__hwasan..AccessInfo">AccessInfo</a> <a class="tu ref fn fake" href="#320" title='__hwasan::AccessInfo::AccessInfo' data-use='c' data-ref="__hwasan::AccessInfo::AccessInfo" data-ref-filename="__hwasan..AccessInfo..AccessInfo"></a><dfn class="local col0 decl" id="50ai" title='ai' data-type='__hwasan::AccessInfo' data-ref="50ai" data-ref-filename="50ai">ai</dfn>;</td></tr>
<tr><th id="440">440</th><td>  <a class="local col0 ref" href="#50ai" title='ai' data-ref="50ai" data-ref-filename="50ai">ai</a>.<a class="tu ref field" href="#__hwasan::AccessInfo::is_store" title='__hwasan::AccessInfo::is_store' data-use='w' data-ref="__hwasan::AccessInfo::is_store" data-ref-filename="__hwasan..AccessInfo..is_store">is_store</a> = <a class="local col7 ref" href="#47access_info" title='access_info' data-ref="47access_info" data-ref-filename="47access_info">access_info</a> &amp; <var>0x10</var>;</td></tr>
<tr><th id="441">441</th><td>  <a class="local col0 ref" href="#50ai" title='ai' data-ref="50ai" data-ref-filename="50ai">ai</a>.<a class="tu ref field" href="#__hwasan::AccessInfo::is_load" title='__hwasan::AccessInfo::is_load' data-use='w' data-ref="__hwasan::AccessInfo::is_load" data-ref-filename="__hwasan..AccessInfo..is_load">is_load</a> = !<a class="local col0 ref" href="#50ai" title='ai' data-ref="50ai" data-ref-filename="50ai">ai</a>.<a class="tu ref field" href="#__hwasan::AccessInfo::is_store" title='__hwasan::AccessInfo::is_store' data-use='r' data-ref="__hwasan::AccessInfo::is_store" data-ref-filename="__hwasan..AccessInfo..is_store">is_store</a>;</td></tr>
<tr><th id="442">442</th><td>  <a class="local col0 ref" href="#50ai" title='ai' data-ref="50ai" data-ref-filename="50ai">ai</a>.<a class="tu ref field" href="#__hwasan::AccessInfo::recover" title='__hwasan::AccessInfo::recover' data-use='w' data-ref="__hwasan::AccessInfo::recover" data-ref-filename="__hwasan..AccessInfo..recover">recover</a> = <a class="local col7 ref" href="#47access_info" title='access_info' data-ref="47access_info" data-ref-filename="47access_info">access_info</a> &amp; <var>0x20</var>;</td></tr>
<tr><th id="443">443</th><td>  <a class="local col0 ref" href="#50ai" title='ai' data-ref="50ai" data-ref-filename="50ai">ai</a>.<a class="tu ref field" href="#__hwasan::AccessInfo::addr" title='__hwasan::AccessInfo::addr' data-use='w' data-ref="__hwasan::AccessInfo::addr" data-ref-filename="__hwasan..AccessInfo..addr">addr</a> = <a class="local col6 ref" href="#46addr" title='addr' data-ref="46addr" data-ref-filename="46addr">addr</a>;</td></tr>
<tr><th id="444">444</th><td>  <b>if</b> ((<a class="local col7 ref" href="#47access_info" title='access_info' data-ref="47access_info" data-ref-filename="47access_info">access_info</a> &amp; <var>0xf</var>) == <var>0xf</var>)</td></tr>
<tr><th id="445">445</th><td>    <a class="local col0 ref" href="#50ai" title='ai' data-ref="50ai" data-ref-filename="50ai">ai</a>.<a class="tu ref field" href="#__hwasan::AccessInfo::size" title='__hwasan::AccessInfo::size' data-use='w' data-ref="__hwasan::AccessInfo::size" data-ref-filename="__hwasan..AccessInfo..size">size</a> = <a class="local col9 ref" href="#49outsize" title='outsize' data-ref="49outsize" data-ref-filename="49outsize">outsize</a>;</td></tr>
<tr><th id="446">446</th><td>  <b>else</b></td></tr>
<tr><th id="447">447</th><td>    <a class="local col0 ref" href="#50ai" title='ai' data-ref="50ai" data-ref-filename="50ai">ai</a>.<a class="tu ref field" href="#__hwasan::AccessInfo::size" title='__hwasan::AccessInfo::size' data-use='w' data-ref="__hwasan::AccessInfo::size" data-ref-filename="__hwasan..AccessInfo..size">size</a> = <var>1</var> &lt;&lt; (<a class="local col7 ref" href="#47access_info" title='access_info' data-ref="47access_info" data-ref-filename="47access_info">access_info</a> &amp; <var>0xf</var>);</td></tr>
<tr><th id="448">448</th><td></td></tr>
<tr><th id="449">449</th><td>  <span class="namespace">__hwasan::</span><a class="tu ref fn" href="#__hwasan::HandleTagMismatch" title='__hwasan::HandleTagMismatch' data-use='c' data-ref="__hwasan::HandleTagMismatch" data-ref-filename="__hwasan..HandleTagMismatch">HandleTagMismatch</a>(<a class="tu ref fn fake" href="#320" title='__hwasan::AccessInfo::AccessInfo' data-use='c' data-ref="__hwasan::AccessInfo::AccessInfo" data-ref-filename="__hwasan..AccessInfo..AccessInfo"></a><a class="local col0 ref" href="#50ai" title='ai' data-ref="50ai" data-ref-filename="50ai">ai</a>, (<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a>)<a class="ref fn" href="#449" title='__builtin_return_address' data-ref="__builtin_return_address" data-ref-filename="__builtin_return_address">__builtin_return_address</a>(<var>0</var>),</td></tr>
<tr><th id="450">450</th><td>                              (<a class="typedef" href="../sanitizer_common/sanitizer_internal_defs.h.html#__sanitizer::uptr" title='__sanitizer::uptr' data-type='unsigned long' data-ref="__sanitizer::uptr" data-ref-filename="__sanitizer..uptr">uptr</a>)<a class="ref fn" href="#450" title='__builtin_frame_address' data-ref="__builtin_frame_address" data-ref-filename="__builtin_frame_address">__builtin_frame_address</a>(<var>0</var>), <b>nullptr</b>,</td></tr>
<tr><th id="451">451</th><td>                              <a class="local col8 ref" href="#48registers_frame" title='registers_frame' data-ref="48registers_frame" data-ref-filename="48registers_frame">registers_frame</a>);</td></tr>
<tr><th id="452">452</th><td>  <a class="ref fn" href="#452" title='__builtin_unreachable' data-ref="__builtin_unreachable" data-ref-filename="__builtin_unreachable">__builtin_unreachable</a>();</td></tr>
<tr><th id="453">453</th><td>}</td></tr>
<tr><th id="454">454</th><td></td></tr>
<tr><th id="455">455</th><td><u>#<span data-ppcond="16">endif</span> // SANITIZER_FREEBSD || SANITIZER_LINUX || SANITIZER_NETBSD</u></td></tr>
<tr><th id="456">456</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2021-Jul-01</em> from project llvm revision <em>12</em>