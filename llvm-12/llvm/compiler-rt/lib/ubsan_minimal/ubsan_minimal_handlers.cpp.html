<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ubsan_minimal_handlers.cpp source code [llvm/compiler-rt/lib/ubsan_minimal/ubsan_minimal_handlers.cpp] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'llvm/compiler-rt/lib/ubsan_minimal/ubsan_minimal_handlers.cpp'; var root_path = '../../../..'; var data_path = '../../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>llvm</a>/<a href='../..'>compiler-rt</a>/<a href='..'>lib</a>/<a href='./'>ubsan_minimal</a>/<a href='ubsan_minimal_handlers.cpp.html'>ubsan_minimal_handlers.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><u>#include <a href="../sanitizer_common/sanitizer_atomic.h.html">"sanitizer_common/sanitizer_atomic.h"</a></u></td></tr>
<tr><th id="2">2</th><td></td></tr>
<tr><th id="3">3</th><td><u>#include <a href="../../../../include/stdlib.h.html">&lt;stdlib.h&gt;</a></u></td></tr>
<tr><th id="4">4</th><td><u>#include &lt;stdint.h&gt;</u></td></tr>
<tr><th id="5">5</th><td><u>#include <a href="../../../../include/string.h.html">&lt;string.h&gt;</a></u></td></tr>
<tr><th id="6">6</th><td><u>#include <a href="../../../../include/unistd.h.html">&lt;unistd.h&gt;</a></u></td></tr>
<tr><th id="7">7</th><td></td></tr>
<tr><th id="8">8</th><td><u>#<span data-ppcond="8">ifdef</span> <span class="macro" data-ref="_M/KERNEL_USE">KERNEL_USE</span></u></td></tr>
<tr><th id="9">9</th><td><b>extern</b> <q>"C"</q> <em>void</em> ubsan_message(<em>const</em> <em>char</em> *msg);</td></tr>
<tr><th id="10">10</th><td><em>static</em> <em>void</em> message(<em>const</em> <em>char</em> *msg) { ubsan_message(msg); }</td></tr>
<tr><th id="11">11</th><td><u>#<span data-ppcond="8">else</span></u></td></tr>
<tr><th id="12">12</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="_ZL7messagePKc" title='message' data-type='void message(const char * msg)' data-ref="_ZL7messagePKc" data-ref-filename="_ZL7messagePKc">message</dfn>(<em>const</em> <em>char</em> *<dfn class="local col1 decl" id="1msg" title='msg' data-type='const char *' data-ref="1msg" data-ref-filename="1msg">msg</dfn>) {</td></tr>
<tr><th id="13">13</th><td>  (<em>void</em>)<a class="ref fn" href="../../../../include/unistd.h.html#write" title='write' data-ref="write" data-ref-filename="write">write</a>(<var>2</var>, <a class="local col1 ref" href="#1msg" title='msg' data-ref="1msg" data-ref-filename="1msg">msg</a>, <a class="ref fn" href="../../../../include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a>(<a class="local col1 ref" href="#1msg" title='msg' data-ref="1msg" data-ref-filename="1msg">msg</a>));</td></tr>
<tr><th id="14">14</th><td>}</td></tr>
<tr><th id="15">15</th><td><u>#<span data-ppcond="8">endif</span></u></td></tr>
<tr><th id="16">16</th><td></td></tr>
<tr><th id="17">17</th><td><em>static</em> <em>const</em> <em>int</em> <dfn class="tu decl def" id="kMaxCallerPcs" title='kMaxCallerPcs' data-type='const int' data-ref="kMaxCallerPcs" data-ref-filename="kMaxCallerPcs">kMaxCallerPcs</dfn> = <var>20</var>;</td></tr>
<tr><th id="18">18</th><td><em>static</em> <span class="namespace">__sanitizer::</span><a class="type" href="../sanitizer_common/sanitizer_atomic.h.html#__sanitizer::atomic_uintptr_t" title='__sanitizer::atomic_uintptr_t' data-ref="__sanitizer::atomic_uintptr_t" data-ref-filename="__sanitizer..atomic_uintptr_t">atomic_uintptr_t</a> <a class="ref fn fake" href="../sanitizer_common/sanitizer_atomic.h.html#55" title='__sanitizer::atomic_uintptr_t::atomic_uintptr_t' data-ref="__sanitizer::atomic_uintptr_t::atomic_uintptr_t" data-ref-filename="__sanitizer..atomic_uintptr_t..atomic_uintptr_t"></a><dfn class="tu decl def" id="caller_pcs" title='caller_pcs' data-type='__sanitizer::atomic_uintptr_t [20]' data-ref="caller_pcs" data-ref-filename="caller_pcs">caller_pcs</dfn>[<a class="tu ref" href="#kMaxCallerPcs" title='kMaxCallerPcs' data-ref="kMaxCallerPcs" data-ref-filename="kMaxCallerPcs">kMaxCallerPcs</a>];</td></tr>
<tr><th id="19">19</th><td><i  data-doc="caller_pcs_sz">// Number of elements in caller_pcs. A special value of kMaxCallerPcs + 1 means</i></td></tr>
<tr><th id="20">20</th><td><i  data-doc="caller_pcs_sz">// that "too many errors" has already been reported.</i></td></tr>
<tr><th id="21">21</th><td><em>static</em> <span class="namespace">__sanitizer::</span><a class="type" href="../sanitizer_common/sanitizer_atomic.h.html#__sanitizer::atomic_uint32_t" title='__sanitizer::atomic_uint32_t' data-ref="__sanitizer::atomic_uint32_t" data-ref-filename="__sanitizer..atomic_uint32_t">atomic_uint32_t</a> <a class="ref fn fake" href="../sanitizer_common/sanitizer_atomic.h.html#44" title='__sanitizer::atomic_uint32_t::atomic_uint32_t' data-ref="__sanitizer::atomic_uint32_t::atomic_uint32_t" data-ref-filename="__sanitizer..atomic_uint32_t..atomic_uint32_t"></a><dfn class="tu decl def" id="caller_pcs_sz" title='caller_pcs_sz' data-type='__sanitizer::atomic_uint32_t' data-ref="caller_pcs_sz" data-ref-filename="caller_pcs_sz">caller_pcs_sz</dfn>;</td></tr>
<tr><th id="22">22</th><td></td></tr>
<tr><th id="23">23</th><td><b>__attribute__</b>((noinline)) <em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL17report_this_errorPv" title='report_this_error' data-type='bool report_this_error(void * caller_p)' data-ref="_ZL17report_this_errorPv" data-ref-filename="_ZL17report_this_errorPv">report_this_error</dfn>(<em>void</em> *<dfn class="local col2 decl" id="2caller_p" title='caller_p' data-type='void *' data-ref="2caller_p" data-ref-filename="2caller_p">caller_p</dfn>) {</td></tr>
<tr><th id="24">24</th><td>  <a class="typedef" href="../../../../include/stdint.h.html#uintptr_t" title='uintptr_t' data-type='unsigned int' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</a> <dfn class="local col3 decl" id="3caller" title='caller' data-type='uintptr_t' data-ref="3caller" data-ref-filename="3caller">caller</dfn> = <b>reinterpret_cast</b>&lt;<a class="typedef" href="../../../../include/stdint.h.html#uintptr_t" title='uintptr_t' data-type='unsigned int' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</a>&gt;(<a class="local col2 ref" href="#2caller_p" title='caller_p' data-ref="2caller_p" data-ref-filename="2caller_p">caller_p</a>);</td></tr>
<tr><th id="25">25</th><td>  <b>if</b> (<a class="local col3 ref" href="#3caller" title='caller' data-ref="3caller" data-ref-filename="3caller">caller</a> == <var>0</var>) <b>return</b> <b>false</b>;</td></tr>
<tr><th id="26">26</th><td>  <b>while</b> (<b>true</b>) {</td></tr>
<tr><th id="27">27</th><td>    <em>unsigned</em> <dfn class="local col4 decl" id="4sz" title='sz' data-type='unsigned int' data-ref="4sz" data-ref-filename="4sz">sz</dfn> = <span class="namespace">__sanitizer::</span><a class="ref fn" href="../sanitizer_common/sanitizer_atomic.h.html#__sanitizer::atomic_load_relaxed" title='__sanitizer::atomic_load_relaxed' data-ref="__sanitizer::atomic_load_relaxed" data-ref-filename="__sanitizer..atomic_load_relaxed">atomic_load_relaxed</a>(&amp;<a class="tu ref" href="#caller_pcs_sz" title='caller_pcs_sz' data-use='a' data-ref="caller_pcs_sz" data-ref-filename="caller_pcs_sz">caller_pcs_sz</a>);</td></tr>
<tr><th id="28">28</th><td>    <b>if</b> (<a class="local col4 ref" href="#4sz" title='sz' data-ref="4sz" data-ref-filename="4sz">sz</a> &gt; <a class="tu ref" href="#kMaxCallerPcs" title='kMaxCallerPcs' data-use='r' data-ref="kMaxCallerPcs" data-ref-filename="kMaxCallerPcs">kMaxCallerPcs</a>) <b>return</b> <b>false</b>;  <i>// early exit</i></td></tr>
<tr><th id="29">29</th><td>    <i>// when sz==kMaxCallerPcs print "too many errors", but only when cmpxchg</i></td></tr>
<tr><th id="30">30</th><td><i>    // succeeds in order to not print it multiple times.</i></td></tr>
<tr><th id="31">31</th><td>    <b>if</b> (<a class="local col4 ref" href="#4sz" title='sz' data-ref="4sz" data-ref-filename="4sz">sz</a> &gt; <var>0</var> &amp;&amp; <a class="local col4 ref" href="#4sz" title='sz' data-ref="4sz" data-ref-filename="4sz">sz</a> &lt; <a class="tu ref" href="#kMaxCallerPcs" title='kMaxCallerPcs' data-use='r' data-ref="kMaxCallerPcs" data-ref-filename="kMaxCallerPcs">kMaxCallerPcs</a>) {</td></tr>
<tr><th id="32">32</th><td>      <a class="typedef" href="../../../../include/stdint.h.html#uintptr_t" title='uintptr_t' data-type='unsigned int' data-ref="uintptr_t" data-ref-filename="uintptr_t">uintptr_t</a> <dfn class="local col5 decl" id="5p" title='p' data-type='uintptr_t' data-ref="5p" data-ref-filename="5p">p</dfn>;</td></tr>
<tr><th id="33">33</th><td>      <b>for</b> (<em>unsigned</em> <dfn class="local col6 decl" id="6i" title='i' data-type='unsigned int' data-ref="6i" data-ref-filename="6i">i</dfn> = <var>0</var>; <a class="local col6 ref" href="#6i" title='i' data-ref="6i" data-ref-filename="6i">i</a> &lt; <a class="local col4 ref" href="#4sz" title='sz' data-ref="4sz" data-ref-filename="4sz">sz</a>; ++<a class="local col6 ref" href="#6i" title='i' data-ref="6i" data-ref-filename="6i">i</a>) {</td></tr>
<tr><th id="34">34</th><td>        <a class="local col5 ref" href="#5p" title='p' data-ref="5p" data-ref-filename="5p">p</a> = <span class="namespace">__sanitizer::</span><a class="ref fn" href="../sanitizer_common/sanitizer_atomic.h.html#__sanitizer::atomic_load_relaxed" title='__sanitizer::atomic_load_relaxed' data-ref="__sanitizer::atomic_load_relaxed" data-ref-filename="__sanitizer..atomic_load_relaxed">atomic_load_relaxed</a>(&amp;<a class="tu ref" href="#caller_pcs" title='caller_pcs' data-use='a' data-ref="caller_pcs" data-ref-filename="caller_pcs">caller_pcs</a>[<a class="local col6 ref" href="#6i" title='i' data-ref="6i" data-ref-filename="6i">i</a>]);</td></tr>
<tr><th id="35">35</th><td>        <b>if</b> (<a class="local col5 ref" href="#5p" title='p' data-ref="5p" data-ref-filename="5p">p</a> == <var>0</var>) <b>break</b>;  <i>// Concurrent update.</i></td></tr>
<tr><th id="36">36</th><td>        <b>if</b> (<a class="local col5 ref" href="#5p" title='p' data-ref="5p" data-ref-filename="5p">p</a> == <a class="local col3 ref" href="#3caller" title='caller' data-ref="3caller" data-ref-filename="3caller">caller</a>) <b>return</b> <b>false</b>;</td></tr>
<tr><th id="37">37</th><td>      }</td></tr>
<tr><th id="38">38</th><td>      <b>if</b> (<a class="local col5 ref" href="#5p" title='p' data-ref="5p" data-ref-filename="5p">p</a> == <var>0</var>) <b>continue</b>;  <i>// FIXME: yield?</i></td></tr>
<tr><th id="39">39</th><td>    }</td></tr>
<tr><th id="40">40</th><td></td></tr>
<tr><th id="41">41</th><td>    <b>if</b> (!<span class="namespace">__sanitizer::</span><a class="ref fn" href="../sanitizer_common/sanitizer_atomic_clang.h.html#__sanitizer::atomic_compare_exchange_strong" title='__sanitizer::atomic_compare_exchange_strong' data-ref="__sanitizer::atomic_compare_exchange_strong" data-ref-filename="__sanitizer..atomic_compare_exchange_strong">atomic_compare_exchange_strong</a>(</td></tr>
<tr><th id="42">42</th><td>            &amp;<a class="tu ref" href="#caller_pcs_sz" title='caller_pcs_sz' data-use='a' data-ref="caller_pcs_sz" data-ref-filename="caller_pcs_sz">caller_pcs_sz</a>, &amp;<a class="local col4 ref" href="#4sz" title='sz' data-ref="4sz" data-ref-filename="4sz">sz</a>, <a class="local col4 ref" href="#4sz" title='sz' data-ref="4sz" data-ref-filename="4sz">sz</a> + <var>1</var>, <span class="namespace">__sanitizer::</span><a class="enum" href="../sanitizer_common/sanitizer_atomic.h.html#__sanitizer::memory_order_seq_cst" title='__sanitizer::memory_order_seq_cst' data-ref="__sanitizer::memory_order_seq_cst" data-ref-filename="__sanitizer..memory_order_seq_cst">memory_order_seq_cst</a>))</td></tr>
<tr><th id="43">43</th><td>      <b>continue</b>;  <i>// Concurrent update! Try again from the start.</i></td></tr>
<tr><th id="44">44</th><td></td></tr>
<tr><th id="45">45</th><td>    <b>if</b> (<a class="local col4 ref" href="#4sz" title='sz' data-ref="4sz" data-ref-filename="4sz">sz</a> == <a class="tu ref" href="#kMaxCallerPcs" title='kMaxCallerPcs' data-use='r' data-ref="kMaxCallerPcs" data-ref-filename="kMaxCallerPcs">kMaxCallerPcs</a>) {</td></tr>
<tr><th id="46">46</th><td>      <a class="tu ref fn" href="#_ZL7messagePKc" title='message' data-use='c' data-ref="_ZL7messagePKc" data-ref-filename="_ZL7messagePKc">message</a>(<q>"ubsan: too many errors\n"</q>);</td></tr>
<tr><th id="47">47</th><td>      <b>return</b> <b>false</b>;</td></tr>
<tr><th id="48">48</th><td>    }</td></tr>
<tr><th id="49">49</th><td>    <span class="namespace">__sanitizer::</span><a class="ref fn" href="../sanitizer_common/sanitizer_atomic.h.html#__sanitizer::atomic_store_relaxed" title='__sanitizer::atomic_store_relaxed' data-ref="__sanitizer::atomic_store_relaxed" data-ref-filename="__sanitizer..atomic_store_relaxed">atomic_store_relaxed</a>(&amp;<a class="tu ref" href="#caller_pcs" title='caller_pcs' data-use='a' data-ref="caller_pcs" data-ref-filename="caller_pcs">caller_pcs</a>[<a class="local col4 ref" href="#4sz" title='sz' data-ref="4sz" data-ref-filename="4sz">sz</a>], <a class="local col3 ref" href="#3caller" title='caller' data-ref="3caller" data-ref-filename="3caller">caller</a>);</td></tr>
<tr><th id="50">50</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="51">51</th><td>  }</td></tr>
<tr><th id="52">52</th><td>}</td></tr>
<tr><th id="53">53</th><td></td></tr>
<tr><th id="54">54</th><td><u>#<span data-ppcond="54">if</span> defined(<span class="macro" data-ref="_M/__ANDROID__">__ANDROID__</span>)</u></td></tr>
<tr><th id="55">55</th><td><b>extern</b> <q>"C"</q> <b>__attribute__</b>((weak)) <em>void</em> android_set_abort_message(<em>const</em> <em>char</em> *);</td></tr>
<tr><th id="56">56</th><td><em>static</em> <em>void</em> abort_with_message(<em>const</em> <em>char</em> *msg) {</td></tr>
<tr><th id="57">57</th><td>  <b>if</b> (&amp;android_set_abort_message) android_set_abort_message(msg);</td></tr>
<tr><th id="58">58</th><td>  abort();</td></tr>
<tr><th id="59">59</th><td>}</td></tr>
<tr><th id="60">60</th><td><u>#<span data-ppcond="54">else</span></u></td></tr>
<tr><th id="61">61</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="_ZL18abort_with_messagePKc" title='abort_with_message' data-type='void abort_with_message(const char * )' data-ref="_ZL18abort_with_messagePKc" data-ref-filename="_ZL18abort_with_messagePKc">abort_with_message</dfn>(<em>const</em> <em>char</em> *) { <a class="ref fn" href="../../../../include/stdlib.h.html#abort" title='abort' data-ref="abort" data-ref-filename="abort">abort</a>(); }</td></tr>
<tr><th id="62">62</th><td><u>#<span data-ppcond="54">endif</span></u></td></tr>
<tr><th id="63">63</th><td></td></tr>
<tr><th id="64">64</th><td><u>#<span data-ppcond="64">if</span> <a class="macro" href="../sanitizer_common/sanitizer_internal_defs.h.html#18" title="0" data-ref="_M/SANITIZER_DEBUG">SANITIZER_DEBUG</a></u></td></tr>
<tr><th id="65">65</th><td><b>namespace</b> __sanitizer {</td></tr>
<tr><th id="66">66</th><td><i>// The DCHECK macro needs this symbol to be defined.</i></td></tr>
<tr><th id="67">67</th><td><em>void</em> NORETURN CheckFailed(<em>const</em> <em>char</em> *file, <em>int</em>, <em>const</em> <em>char</em> *cond, u64, u64) {</td></tr>
<tr><th id="68">68</th><td>  message(<q>"Sanitizer CHECK failed: "</q>);</td></tr>
<tr><th id="69">69</th><td>  message(file);</td></tr>
<tr><th id="70">70</th><td>  message(<q>":?? : "</q>); <i>// FIXME: Show line number.</i></td></tr>
<tr><th id="71">71</th><td>  message(cond);</td></tr>
<tr><th id="72">72</th><td>  abort();</td></tr>
<tr><th id="73">73</th><td>}</td></tr>
<tr><th id="74">74</th><td>} <i>// namespace __sanitizer</i></td></tr>
<tr><th id="75">75</th><td><u>#<span data-ppcond="64">endif</span></u></td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td><u>#define <dfn class="macro" id="_M/INTERFACE" data-ref="_M/INTERFACE">INTERFACE</dfn> extern "C" __attribute__((visibility("default")))</u></td></tr>
<tr><th id="78">78</th><td></td></tr>
<tr><th id="79">79</th><td><i>// FIXME: add caller pc to the error message (possibly as "ubsan: error-type</i></td></tr>
<tr><th id="80">80</th><td><i>// @1234ABCD").</i></td></tr>
<tr><th id="81">81</th><td><u>#define <dfn class="macro" id="_M/HANDLER_RECOVER" data-ref="_M/HANDLER_RECOVER">HANDLER_RECOVER</dfn>(name, msg)                               \</u></td></tr>
<tr><th id="82">82</th><td><u>  INTERFACE void __ubsan_handle_##name##_minimal() {             \</u></td></tr>
<tr><th id="83">83</th><td><u>    if (!<a class="tu ref fn" href="#_ZL17report_this_errorPv" title='report_this_error' data-use='c' data-ref="_ZL17report_this_errorPv" data-ref-filename="_ZL17report_this_errorPv">report_this_error</a>(<a class="ref fn" href="#97" title='__builtin_return_address' data-ref="__builtin_return_address" data-ref-filename="__builtin_return_address">__builtin_return_address</a>(0))) return; \</u></td></tr>
<tr><th id="84">84</th><td><u>    <a class="tu ref fn" href="#_ZL7messagePKc" title='message' data-use='c' data-ref="_ZL7messagePKc" data-ref-filename="_ZL7messagePKc">message</a>("ubsan: " msg "\n");                                 \</u></td></tr>
<tr><th id="85">85</th><td><u>  }</u></td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td><u>#define <dfn class="macro" id="_M/HANDLER_NORECOVER" data-ref="_M/HANDLER_NORECOVER">HANDLER_NORECOVER</dfn>(name, msg)                             \</u></td></tr>
<tr><th id="88">88</th><td><u>  INTERFACE void __ubsan_handle_##name##_minimal_abort() {       \</u></td></tr>
<tr><th id="89">89</th><td><u>    <a class="tu ref fn" href="#_ZL7messagePKc" title='message' data-use='c' data-ref="_ZL7messagePKc" data-ref-filename="_ZL7messagePKc">message</a>("ubsan: " msg "\n");                                 \</u></td></tr>
<tr><th id="90">90</th><td><u>    <a class="tu ref fn" href="#_ZL18abort_with_messagePKc" title='abort_with_message' data-use='c' data-ref="_ZL18abort_with_messagePKc" data-ref-filename="_ZL18abort_with_messagePKc">abort_with_message</a>("ubsan: " msg);                           \</u></td></tr>
<tr><th id="91">91</th><td><u>  }</u></td></tr>
<tr><th id="92">92</th><td></td></tr>
<tr><th id="93">93</th><td><u>#define <dfn class="macro" id="_M/HANDLER" data-ref="_M/HANDLER">HANDLER</dfn>(name, msg)                                       \</u></td></tr>
<tr><th id="94">94</th><td><u>  HANDLER_RECOVER(name, msg)                                     \</u></td></tr>
<tr><th id="95">95</th><td><u>  HANDLER_NORECOVER(name, msg)</u></td></tr>
<tr><th id="96">96</th><td></td></tr>
<tr><th id="97">97</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_type_mismatch_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;type-mismatch&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_type_mismatch_minimal_abort() { message(&quot;ubsan: &quot; &quot;type-mismatch&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;type-mismatch&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(type_mismatch, <q>"type-mismatch"</q>)</td></tr>
<tr><th id="98">98</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_alignment_assumption_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;alignment-assumption&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_alignment_assumption_minimal_abort() { message(&quot;ubsan: &quot; &quot;alignment-assumption&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;alignment-assumption&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(alignment_assumption, <q>"alignment-assumption"</q>)</td></tr>
<tr><th id="99">99</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_add_overflow_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;add-overflow&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_add_overflow_minimal_abort() { message(&quot;ubsan: &quot; &quot;add-overflow&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;add-overflow&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(add_overflow, <q>"add-overflow"</q>)</td></tr>
<tr><th id="100">100</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_sub_overflow_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;sub-overflow&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_sub_overflow_minimal_abort() { message(&quot;ubsan: &quot; &quot;sub-overflow&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;sub-overflow&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(sub_overflow, <q>"sub-overflow"</q>)</td></tr>
<tr><th id="101">101</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_mul_overflow_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;mul-overflow&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_mul_overflow_minimal_abort() { message(&quot;ubsan: &quot; &quot;mul-overflow&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;mul-overflow&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(mul_overflow, <q>"mul-overflow"</q>)</td></tr>
<tr><th id="102">102</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_negate_overflow_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;negate-overflow&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_negate_overflow_minimal_abort() { message(&quot;ubsan: &quot; &quot;negate-overflow&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;negate-overflow&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(negate_overflow, <q>"negate-overflow"</q>)</td></tr>
<tr><th id="103">103</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_divrem_overflow_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;divrem-overflow&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_divrem_overflow_minimal_abort() { message(&quot;ubsan: &quot; &quot;divrem-overflow&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;divrem-overflow&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(divrem_overflow, <q>"divrem-overflow"</q>)</td></tr>
<tr><th id="104">104</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_shift_out_of_bounds_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;shift-out-of-bounds&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_shift_out_of_bounds_minimal_abort() { message(&quot;ubsan: &quot; &quot;shift-out-of-bounds&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;shift-out-of-bounds&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(shift_out_of_bounds, <q>"shift-out-of-bounds"</q>)</td></tr>
<tr><th id="105">105</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_out_of_bounds_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;out-of-bounds&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_out_of_bounds_minimal_abort() { message(&quot;ubsan: &quot; &quot;out-of-bounds&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;out-of-bounds&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(out_of_bounds, <q>"out-of-bounds"</q>)</td></tr>
<tr><th id="106">106</th><td><a class="macro" href="#81" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_builtin_unreachable_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;builtin-unreachable&quot; &quot;\n&quot;); }" data-ref="_M/HANDLER_RECOVER">HANDLER_RECOVER</a>(builtin_unreachable, <q>"builtin-unreachable"</q>)</td></tr>
<tr><th id="107">107</th><td><a class="macro" href="#81" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_missing_return_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;missing-return&quot; &quot;\n&quot;); }" data-ref="_M/HANDLER_RECOVER">HANDLER_RECOVER</a>(missing_return, <q>"missing-return"</q>)</td></tr>
<tr><th id="108">108</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_vla_bound_not_positive_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;vla-bound-not-positive&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_vla_bound_not_positive_minimal_abort() { message(&quot;ubsan: &quot; &quot;vla-bound-not-positive&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;vla-bound-not-positive&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(vla_bound_not_positive, <q>"vla-bound-not-positive"</q>)</td></tr>
<tr><th id="109">109</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_float_cast_overflow_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;float-cast-overflow&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_float_cast_overflow_minimal_abort() { message(&quot;ubsan: &quot; &quot;float-cast-overflow&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;float-cast-overflow&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(float_cast_overflow, <q>"float-cast-overflow"</q>)</td></tr>
<tr><th id="110">110</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_load_invalid_value_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;load-invalid-value&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_load_invalid_value_minimal_abort() { message(&quot;ubsan: &quot; &quot;load-invalid-value&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;load-invalid-value&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(load_invalid_value, <q>"load-invalid-value"</q>)</td></tr>
<tr><th id="111">111</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_invalid_builtin_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;invalid-builtin&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_invalid_builtin_minimal_abort() { message(&quot;ubsan: &quot; &quot;invalid-builtin&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;invalid-builtin&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(invalid_builtin, <q>"invalid-builtin"</q>)</td></tr>
<tr><th id="112">112</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_invalid_objc_cast_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;invalid-objc-cast&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_invalid_objc_cast_minimal_abort() { message(&quot;ubsan: &quot; &quot;invalid-objc-cast&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;invalid-objc-cast&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(invalid_objc_cast, <q>"invalid-objc-cast"</q>)</td></tr>
<tr><th id="113">113</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_function_type_mismatch_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;function-type-mismatch&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_function_type_mismatch_minimal_abort() { message(&quot;ubsan: &quot; &quot;function-type-mismatch&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;function-type-mismatch&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(function_type_mismatch, <q>"function-type-mismatch"</q>)</td></tr>
<tr><th id="114">114</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_implicit_conversion_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;implicit-conversion&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_implicit_conversion_minimal_abort() { message(&quot;ubsan: &quot; &quot;implicit-conversion&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;implicit-conversion&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(implicit_conversion, <q>"implicit-conversion"</q>)</td></tr>
<tr><th id="115">115</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_nonnull_arg_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;nonnull-arg&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_nonnull_arg_minimal_abort() { message(&quot;ubsan: &quot; &quot;nonnull-arg&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;nonnull-arg&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(nonnull_arg, <q>"nonnull-arg"</q>)</td></tr>
<tr><th id="116">116</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_nonnull_return_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;nonnull-return&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_nonnull_return_minimal_abort() { message(&quot;ubsan: &quot; &quot;nonnull-return&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;nonnull-return&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(nonnull_return, <q>"nonnull-return"</q>)</td></tr>
<tr><th id="117">117</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_nullability_arg_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;nullability-arg&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_nullability_arg_minimal_abort() { message(&quot;ubsan: &quot; &quot;nullability-arg&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;nullability-arg&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(nullability_arg, <q>"nullability-arg"</q>)</td></tr>
<tr><th id="118">118</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_nullability_return_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;nullability-return&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_nullability_return_minimal_abort() { message(&quot;ubsan: &quot; &quot;nullability-return&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;nullability-return&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(nullability_return, <q>"nullability-return"</q>)</td></tr>
<tr><th id="119">119</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_pointer_overflow_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;pointer-overflow&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_pointer_overflow_minimal_abort() { message(&quot;ubsan: &quot; &quot;pointer-overflow&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;pointer-overflow&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(pointer_overflow, <q>"pointer-overflow"</q>)</td></tr>
<tr><th id="120">120</th><td><a class="macro" href="#93" title="extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_cfi_check_fail_minimal() { if (!report_this_error(__builtin_return_address(0))) return; message(&quot;ubsan: &quot; &quot;cfi-check-fail&quot; &quot;\n&quot;); } extern &quot;C&quot; __attribute__((visibility(&quot;default&quot;))) void __ubsan_handle_cfi_check_fail_minimal_abort() { message(&quot;ubsan: &quot; &quot;cfi-check-fail&quot; &quot;\n&quot;); abort_with_message(&quot;ubsan: &quot; &quot;cfi-check-fail&quot;); }" data-ref="_M/HANDLER">HANDLER</a>(cfi_check_fail, <q>"cfi-check-fail"</q>)</td></tr>
<tr><th id="121">121</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2021-Jul-01</em> from project llvm revision <em>12</em>