<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>CallEventTest.cpp source code [llvm/clang/unittests/StaticAnalyzer/CallEventTest.cpp] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'llvm/clang/unittests/StaticAnalyzer/CallEventTest.cpp'; var root_path = '../../../..'; var data_path = '../../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>llvm</a>/<a href='../..'>clang</a>/<a href='..'>unittests</a>/<a href='./'>StaticAnalyzer</a>/<a href='CallEventTest.cpp.html'>CallEventTest.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>//===----------------------------------------------------------------------===//</i></td></tr>
<tr><th id="2">2</th><td><i>//</i></td></tr>
<tr><th id="3">3</th><td><i>// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</i></td></tr>
<tr><th id="4">4</th><td><i>// See <a href="https://llvm.org/LICENSE.txt">https://llvm.org/LICENSE.txt</a> for license information.</i></td></tr>
<tr><th id="5">5</th><td><i>// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</i></td></tr>
<tr><th id="6">6</th><td><i>//</i></td></tr>
<tr><th id="7">7</th><td><i>//===----------------------------------------------------------------------===//</i></td></tr>
<tr><th id="8">8</th><td></td></tr>
<tr><th id="9">9</th><td><u>#include <a href="../../include/clang/StaticAnalyzer/Core/PathSensitive/CallEvent.h.html">"clang/StaticAnalyzer/Core/PathSensitive/CallEvent.h"</a></u></td></tr>
<tr><th id="10">10</th><td><u>#include <a href="CheckerRegistration.h.html">"CheckerRegistration.h"</a></u></td></tr>
<tr><th id="11">11</th><td><u>#include <a href="../../include/clang/Basic/LLVM.h.html">"clang/Basic/LLVM.h"</a></u></td></tr>
<tr><th id="12">12</th><td><u>#include <a href="../../include/clang/Frontend/CompilerInstance.h.html">"clang/Frontend/CompilerInstance.h"</a></u></td></tr>
<tr><th id="13">13</th><td><u>#include <a href="../../include/clang/StaticAnalyzer/Core/BugReporter/BugReporter.h.html">"clang/StaticAnalyzer/Core/BugReporter/BugReporter.h"</a></u></td></tr>
<tr><th id="14">14</th><td><u>#include <a href="../../include/clang/StaticAnalyzer/Core/BugReporter/BugType.h.html">"clang/StaticAnalyzer/Core/BugReporter/BugType.h"</a></u></td></tr>
<tr><th id="15">15</th><td><u>#include <a href="../../include/clang/StaticAnalyzer/Core/BugReporter/CommonBugCategories.h.html">"clang/StaticAnalyzer/Core/BugReporter/CommonBugCategories.h"</a></u></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="../../include/clang/StaticAnalyzer/Core/Checker.h.html">"clang/StaticAnalyzer/Core/Checker.h"</a></u></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="../../include/clang/StaticAnalyzer/Core/PathSensitive/AnalysisManager.h.html">"clang/StaticAnalyzer/Core/PathSensitive/AnalysisManager.h"</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../../include/clang/StaticAnalyzer/Core/PathSensitive/CheckerContext.h.html">"clang/StaticAnalyzer/Core/PathSensitive/CheckerContext.h"</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../../include/clang/StaticAnalyzer/Core/PathSensitive/ExplodedGraph.h.html">"clang/StaticAnalyzer/Core/PathSensitive/ExplodedGraph.h"</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../../include/clang/StaticAnalyzer/Frontend/AnalysisConsumer.h.html">"clang/StaticAnalyzer/Frontend/AnalysisConsumer.h"</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../../include/clang/StaticAnalyzer/Frontend/CheckerRegistry.h.html">"clang/StaticAnalyzer/Frontend/CheckerRegistry.h"</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../../include/clang/Tooling/Tooling.h.html">"clang/Tooling/Tooling.h"</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../../../llvm/utils/unittest/googletest/include/gtest/gtest.h.html">"gtest/gtest.h"</a></u></td></tr>
<tr><th id="24">24</th><td></td></tr>
<tr><th id="25">25</th><td><b>namespace</b> <span class="namespace">clang</span> {</td></tr>
<tr><th id="26">26</th><td><b>namespace</b> <span class="namespace">ento</span> {</td></tr>
<tr><th id="27">27</th><td><b>namespace</b> {</td></tr>
<tr><th id="28">28</th><td></td></tr>
<tr><th id="29">29</th><td><em>void</em> <dfn class="tu decl def fn" id="_ZN5clang4ento12_GLOBAL__N_19reportBugEPKNS0_11CheckerBaseERKNS0_9CallEventERNS0_14CheckerContextEN4llvm9StringRefE" title='clang::ento::(anonymous namespace)::reportBug' data-type='void clang::ento::(anonymous namespace)::reportBug(const clang::ento::CheckerBase * Checker, const clang::ento::CallEvent &amp; Call, clang::ento::CheckerContext &amp; C, llvm::StringRef WarningMsg)' data-ref="_ZN5clang4ento12_GLOBAL__N_19reportBugEPKNS0_11CheckerBaseERKNS0_9CallEventERNS0_14CheckerContextEN4llvm9StringRefE" data-ref-filename="_ZN5clang4ento12_GLOBAL__N_19reportBugEPKNS0_11CheckerBaseERKNS0_9CallEventERNS0_14CheckerContextEN4llvm9StringRefE">reportBug</dfn>(<em>const</em> <a class="type" href="../../include/clang/StaticAnalyzer/Core/Checker.h.html#clang::ento::CheckerBase" title='clang::ento::CheckerBase' data-ref="clang::ento::CheckerBase" data-ref-filename="clang..ento..CheckerBase">CheckerBase</a> *<dfn class="local col1 decl" id="31Checker" title='Checker' data-type='const clang::ento::CheckerBase *' data-ref="31Checker" data-ref-filename="31Checker">Checker</dfn>, <em>const</em> <a class="type" href="../../include/clang/StaticAnalyzer/Core/PathSensitive/CallEvent.h.html#clang::ento::CallEvent" title='clang::ento::CallEvent' data-ref="clang::ento::CallEvent" data-ref-filename="clang..ento..CallEvent">CallEvent</a> &amp;<dfn class="local col2 decl" id="32Call" title='Call' data-type='const clang::ento::CallEvent &amp;' data-ref="32Call" data-ref-filename="32Call">Call</dfn>,</td></tr>
<tr><th id="30">30</th><td>               <a class="type" href="../../include/clang/StaticAnalyzer/Core/PathSensitive/CheckerContext.h.html#clang::ento::CheckerContext" title='clang::ento::CheckerContext' data-ref="clang::ento::CheckerContext" data-ref-filename="clang..ento..CheckerContext">CheckerContext</a> &amp;<dfn class="local col3 decl" id="33C" title='C' data-type='clang::ento::CheckerContext &amp;' data-ref="33C" data-ref-filename="33C">C</dfn>, <a class="type" href="../../../llvm/include/llvm/ADT/StringRef.h.html#llvm::StringRef" title='llvm::StringRef' data-ref="llvm::StringRef" data-ref-filename="llvm..StringRef">StringRef</a> <dfn class="local col4 decl" id="34WarningMsg" title='WarningMsg' data-type='llvm::StringRef' data-ref="34WarningMsg" data-ref-filename="34WarningMsg">WarningMsg</dfn>) {</td></tr>
<tr><th id="31">31</th><td>  <a class="local col3 ref" href="#33C" title='C' data-ref="33C" data-ref-filename="33C">C</a>.<a class="ref fn" href="../../include/clang/StaticAnalyzer/Core/PathSensitive/CheckerContext.h.html#_ZN5clang4ento14CheckerContext14getBugReporterEv" title='clang::ento::CheckerContext::getBugReporter' data-ref="_ZN5clang4ento14CheckerContext14getBugReporterEv" data-ref-filename="_ZN5clang4ento14CheckerContext14getBugReporterEv">getBugReporter</a>().<a class="ref fn" href="../../include/clang/StaticAnalyzer/Core/BugReporter/BugReporter.h.html#_ZN5clang4ento11BugReporter15EmitBasicReportEPKNS_4DeclEPKNS0_11CheckerBaseEN4llvm9StringRefES9_S9_NS0_22PathDiagnosticLocationENS8_8ArrayRefINS_11Sou8110760" title='clang::ento::BugReporter::EmitBasicReport' data-ref="_ZN5clang4ento11BugReporter15EmitBasicReportEPKNS_4DeclEPKNS0_11CheckerBaseEN4llvm9StringRefES9_S9_NS0_22PathDiagnosticLocationENS8_8ArrayRefINS_11Sou8110760" data-ref-filename="_ZN5clang4ento11BugReporter15EmitBasicReportEPKNS_4DeclEPKNS0_11CheckerBaseEN4llvm9StringRefES9_S9_NS0_22PathDiagnosticLocationENS8_8ArrayRefINS_11Sou8110760">EmitBasicReport</a>(</td></tr>
<tr><th id="32">32</th><td>      <b>nullptr</b>, <a class="local col1 ref" href="#31Checker" title='Checker' data-ref="31Checker" data-ref-filename="31Checker">Checker</a>, <a class="ref fn fake" href="../../../llvm/include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>""</q>, <a class="ref fn fake" href="../../../llvm/include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><span class="namespace">categories::</span><a class="ref" href="../../include/clang/StaticAnalyzer/Core/BugReporter/CommonBugCategories.h.html#clang::ento::categories::LogicError" title='clang::ento::categories::LogicError' data-ref="clang::ento::categories::LogicError" data-ref-filename="clang..ento..categories..LogicError">LogicError</a>, <a class="ref fn fake" href="../../../llvm/include/llvm/ADT/StringRef.h.html#57" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1ERKS0_" data-ref-filename="_ZN4llvm9StringRefC1ERKS0_"></a><a class="local col4 ref" href="#34WarningMsg" title='WarningMsg' data-ref="34WarningMsg" data-ref-filename="34WarningMsg">WarningMsg</a>,</td></tr>
<tr><th id="33">33</th><td>      <a class="type" href="../../include/clang/Analysis/PathDiagnostic.h.html#clang::ento::PathDiagnosticLocation" title='clang::ento::PathDiagnosticLocation' data-ref="clang::ento::PathDiagnosticLocation" data-ref-filename="clang..ento..PathDiagnosticLocation">PathDiagnosticLocation</a><a class="ref fn" href="../../include/clang/Analysis/PathDiagnostic.h.html#_ZN5clang4ento22PathDiagnosticLocationC1EPKNS_4StmtERKNS_13SourceManagerEN4llvm12PointerUnionIJPKNS_15LocationContextEPNS_19AnalysisDeclContextEEEE" title='clang::ento::PathDiagnosticLocation::PathDiagnosticLocation' data-ref="_ZN5clang4ento22PathDiagnosticLocationC1EPKNS_4StmtERKNS_13SourceManagerEN4llvm12PointerUnionIJPKNS_15LocationContextEPNS_19AnalysisDeclContextEEEE" data-ref-filename="_ZN5clang4ento22PathDiagnosticLocationC1EPKNS_4StmtERKNS_13SourceManagerEN4llvm12PointerUnionIJPKNS_15LocationContextEPNS_19AnalysisDeclContextEEEE">(</a><a class="local col2 ref" href="#32Call" title='Call' data-ref="32Call" data-ref-filename="32Call">Call</a>.<a class="virtual ref fn" href="../../include/clang/StaticAnalyzer/Core/PathSensitive/CallEvent.h.html#_ZNK5clang4ento9CallEvent13getOriginExprEv" title='clang::ento::CallEvent::getOriginExpr' data-ref="_ZNK5clang4ento9CallEvent13getOriginExprEv" data-ref-filename="_ZNK5clang4ento9CallEvent13getOriginExprEv">getOriginExpr</a>(), <a class="local col3 ref" href="#33C" title='C' data-ref="33C" data-ref-filename="33C">C</a>.<a class="ref fn" href="../../include/clang/StaticAnalyzer/Core/PathSensitive/CheckerContext.h.html#_ZN5clang4ento14CheckerContext16getSourceManagerEv" title='clang::ento::CheckerContext::getSourceManager' data-ref="_ZN5clang4ento14CheckerContext16getSourceManagerEv" data-ref-filename="_ZN5clang4ento14CheckerContext16getSourceManagerEv">getSourceManager</a>(),</td></tr>
<tr><th id="34">34</th><td>                             <a class="ref fn fake" href="../../../llvm/include/llvm/ADT/PointerUnion.h.html#168" title='llvm::PointerUnion&lt;const clang::LocationContext *, clang::AnalysisDeclContext *&gt;::PointerUnionMembers' data-ref="_ZN4llvm12PointerUnionIJPKN5clang15LocationContextEPNS1_19AnalysisDeclContextEEECI1NS_20pointer_union_detail19PointerUnionMembersIS7_NS_14PointerIntPa7667307" data-ref-filename="_ZN4llvm12PointerUnionIJPKN5clang15LocationContextEPNS1_19AnalysisDeclContextEEECI1NS_20pointer_union_detail19PointerUnionMembersIS7_NS_14PointerIntPa7667307"></a><a class="local col3 ref" href="#33C" title='C' data-ref="33C" data-ref-filename="33C">C</a>.<a class="ref fn" href="../../include/clang/StaticAnalyzer/Core/PathSensitive/CheckerContext.h.html#_ZNK5clang4ento14CheckerContext18getLocationContextEv" title='clang::ento::CheckerContext::getLocationContext' data-ref="_ZNK5clang4ento14CheckerContext18getLocationContextEv" data-ref-filename="_ZNK5clang4ento14CheckerContext18getLocationContextEv">getLocationContext</a>()),</td></tr>
<tr><th id="35">35</th><td>      <a class="ref fn" href="../../../llvm/include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1Ev" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1Ev" data-ref-filename="_ZN4llvm8ArrayRefC1Ev">{</a>});</td></tr>
<tr><th id="36">36</th><td>}</td></tr>
<tr><th id="37">37</th><td></td></tr>
<tr><th id="38">38</th><td><b>class</b> <dfn class="tu type def" id="clang::ento::(anonymousnamespace)::CXXDeallocatorChecker" title='clang::ento::(anonymous namespace)::CXXDeallocatorChecker' data-ref="clang::ento::(anonymousnamespace)::CXXDeallocatorChecker" data-ref-filename="clang..ento..(anonymousnamespace)..CXXDeallocatorChecker">CXXDeallocatorChecker</dfn> : <b>public</b> <a class="type" href="../../include/clang/StaticAnalyzer/Core/Checker.h.html#clang::ento::Checker" title='clang::ento::Checker' data-ref="clang::ento::Checker" data-ref-filename="clang..ento..Checker">Checker</a>&lt;<span class="namespace">check::</span><a class="type" href="../../include/clang/StaticAnalyzer/Core/Checker.h.html#clang::ento::check::PreCall" title='clang::ento::check::PreCall' data-ref="clang::ento::check::PreCall" data-ref-filename="clang..ento..check..PreCall">PreCall</a>&gt; {</td></tr>
<tr><th id="39">39</th><td>  <span class="namespace">std::</span><span class='type' title='std::unique_ptr' data-ref="std::unique_ptr" data-ref-filename="std..unique_ptr">unique_ptr</span>&lt;<a class="type" href="../../include/clang/StaticAnalyzer/Core/BugReporter/BugType.h.html#clang::ento::BuiltinBug" title='clang::ento::BuiltinBug' data-ref="clang::ento::BuiltinBug" data-ref-filename="clang..ento..BuiltinBug">BuiltinBug</a>&gt; <dfn class="tu decl field" id="clang::ento::(anonymousnamespace)::CXXDeallocatorChecker::BT_uninitField" title='clang::ento::(anonymous namespace)::CXXDeallocatorChecker::BT_uninitField' data-type='std::unique_ptr&lt;BuiltinBug&gt;' data-ref="clang::ento::(anonymousnamespace)::CXXDeallocatorChecker::BT_uninitField" data-ref-filename="clang..ento..(anonymousnamespace)..CXXDeallocatorChecker..BT_uninitField">BT_uninitField</dfn>;</td></tr>
<tr><th id="40">40</th><td></td></tr>
<tr><th id="41">41</th><td><b>public</b>:</td></tr>
<tr><th id="42">42</th><td>  <dfn class="tu decl def fn" id="_ZN5clang4ento12_GLOBAL__N_121CXXDeallocatorCheckerC1Ev" title='clang::ento::(anonymous namespace)::CXXDeallocatorChecker::CXXDeallocatorChecker' data-type='void clang::ento::(anonymous namespace)::CXXDeallocatorChecker::CXXDeallocatorChecker()' data-ref="_ZN5clang4ento12_GLOBAL__N_121CXXDeallocatorCheckerC1Ev" data-ref-filename="_ZN5clang4ento12_GLOBAL__N_121CXXDeallocatorCheckerC1Ev">CXXDeallocatorChecker</dfn>()</td></tr>
<tr><th id="43">43</th><td>      : <a class="tu member field" href="#clang::ento::(anonymousnamespace)::CXXDeallocatorChecker::BT_uninitField" title='clang::ento::(anonymous namespace)::CXXDeallocatorChecker::BT_uninitField' data-use='w' data-ref="clang::ento::(anonymousnamespace)::CXXDeallocatorChecker::BT_uninitField" data-ref-filename="clang..ento..(anonymousnamespace)..CXXDeallocatorChecker..BT_uninitField">BT_uninitField</a><span class='ref fn' title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1ENSt15__uniq_ptr_implIT_T0_E7pointerE" data-ref-filename="_ZNSt10unique_ptrC1ENSt15__uniq_ptr_implIT_T0_E7pointerE">(</span><b>new</b> <a class="type" href="../../include/clang/StaticAnalyzer/Core/BugReporter/BugType.h.html#clang::ento::BuiltinBug" title='clang::ento::BuiltinBug' data-ref="clang::ento::BuiltinBug" data-ref-filename="clang..ento..BuiltinBug">BuiltinBug</a><a class="ref fn" href="../../include/clang/StaticAnalyzer/Core/BugReporter/BugType.h.html#_ZN5clang4ento10BuiltinBugC1EPKNS0_11CheckerBaseEPKc" title='clang::ento::BuiltinBug::BuiltinBug' data-ref="_ZN5clang4ento10BuiltinBugC1EPKNS0_11CheckerBaseEPKc" data-ref-filename="_ZN5clang4ento10BuiltinBugC1EPKNS0_11CheckerBaseEPKc">(</a><b>this</b>, <q>"CXXDeallocator"</q>)) {}</td></tr>
<tr><th id="44">44</th><td></td></tr>
<tr><th id="45">45</th><td>  <em>void</em> <dfn class="tu decl def fn" id="_ZNK5clang4ento12_GLOBAL__N_121CXXDeallocatorChecker12checkPreCallERKNS0_9CallEventERNS0_14CheckerContextE" title='clang::ento::(anonymous namespace)::CXXDeallocatorChecker::checkPreCall' data-type='void clang::ento::(anonymous namespace)::CXXDeallocatorChecker::checkPreCall(const clang::ento::CallEvent &amp; Call, clang::ento::CheckerContext &amp; C) const' data-ref="_ZNK5clang4ento12_GLOBAL__N_121CXXDeallocatorChecker12checkPreCallERKNS0_9CallEventERNS0_14CheckerContextE" data-ref-filename="_ZNK5clang4ento12_GLOBAL__N_121CXXDeallocatorChecker12checkPreCallERKNS0_9CallEventERNS0_14CheckerContextE">checkPreCall</dfn>(<em>const</em> <a class="type" href="../../include/clang/StaticAnalyzer/Core/PathSensitive/CallEvent.h.html#clang::ento::CallEvent" title='clang::ento::CallEvent' data-ref="clang::ento::CallEvent" data-ref-filename="clang..ento..CallEvent">CallEvent</a> &amp;<dfn class="local col5 decl" id="35Call" title='Call' data-type='const clang::ento::CallEvent &amp;' data-ref="35Call" data-ref-filename="35Call">Call</dfn>, <a class="type" href="../../include/clang/StaticAnalyzer/Core/PathSensitive/CheckerContext.h.html#clang::ento::CheckerContext" title='clang::ento::CheckerContext' data-ref="clang::ento::CheckerContext" data-ref-filename="clang..ento..CheckerContext">CheckerContext</a> &amp;<dfn class="local col6 decl" id="36C" title='C' data-type='clang::ento::CheckerContext &amp;' data-ref="36C" data-ref-filename="36C">C</dfn>) <em>const</em> {</td></tr>
<tr><th id="46">46</th><td>    <em>const</em> <em>auto</em> *<dfn class="local col7 decl" id="37DC" title='DC' data-type='const clang::ento::CXXDeallocatorCall *' data-ref="37DC" data-ref-filename="37DC">DC</dfn> = <a class="ref fn" href="../../../llvm/include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../include/clang/StaticAnalyzer/Core/PathSensitive/CallEvent.h.html#clang::ento::CXXDeallocatorCall" title='clang::ento::CXXDeallocatorCall' data-ref="clang::ento::CXXDeallocatorCall" data-ref-filename="clang..ento..CXXDeallocatorCall">CXXDeallocatorCall</a>&gt;(&amp;<a class="local col5 ref" href="#35Call" title='Call' data-ref="35Call" data-ref-filename="35Call">Call</a>);</td></tr>
<tr><th id="47">47</th><td>    <b>if</b> (!<a class="local col7 ref" href="#37DC" title='DC' data-ref="37DC" data-ref-filename="37DC">DC</a>) {</td></tr>
<tr><th id="48">48</th><td>      <b>return</b>;</td></tr>
<tr><th id="49">49</th><td>    }</td></tr>
<tr><th id="50">50</th><td></td></tr>
<tr><th id="51">51</th><td>    <a class="type" href="../../include/clang/Basic/LLVM.h.html#llvm::SmallString" title='llvm::SmallString' data-ref="llvm::SmallString" data-ref-filename="llvm..SmallString">SmallString</a>&lt;<var>100</var>&gt; <a class="ref fn fake" href="../../../llvm/include/llvm/ADT/SmallString.h.html#_ZN4llvm11SmallStringC1Ev" title='llvm::SmallString::SmallString&lt;InternalLen&gt;' data-ref="_ZN4llvm11SmallStringC1Ev" data-ref-filename="_ZN4llvm11SmallStringC1Ev"></a><dfn class="local col8 decl" id="38WarningBuf" title='WarningBuf' data-type='SmallString&lt;100&gt;' data-ref="38WarningBuf" data-ref-filename="38WarningBuf">WarningBuf</dfn>;</td></tr>
<tr><th id="52">52</th><td>    <span class="namespace">llvm::</span><a class="type" href="../../../llvm/include/llvm/Support/raw_ostream.h.html#llvm::raw_svector_ostream" title='llvm::raw_svector_ostream' data-ref="llvm::raw_svector_ostream" data-ref-filename="llvm..raw_svector_ostream">raw_svector_ostream</a> <dfn class="local col9 decl" id="39WarningOS" title='WarningOS' data-type='llvm::raw_svector_ostream' data-ref="39WarningOS" data-ref-filename="39WarningOS">WarningOS</dfn><a class="ref fn" href="../../../llvm/include/llvm/Support/raw_ostream.h.html#_ZN4llvm19raw_svector_ostreamC1ERNS_15SmallVectorImplIcEE" title='llvm::raw_svector_ostream::raw_svector_ostream' data-ref="_ZN4llvm19raw_svector_ostreamC1ERNS_15SmallVectorImplIcEE" data-ref-filename="_ZN4llvm19raw_svector_ostreamC1ERNS_15SmallVectorImplIcEE">(</a><a class="local col8 ref" href="#38WarningBuf" title='WarningBuf' data-ref="38WarningBuf" data-ref-filename="38WarningBuf">WarningBuf</a>);</td></tr>
<tr><th id="53">53</th><td>    <a class="local col9 ref" href="#39WarningOS" title='WarningOS' data-ref="39WarningOS" data-ref-filename="39WarningOS">WarningOS</a> <a class="ref fn" href="../../../llvm/include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEPKc" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEPKc" data-ref-filename="_ZN4llvm11raw_ostreamlsEPKc">&lt;&lt;</a> <q>"NumArgs: "</q> <a class="ref fn" href="../../../llvm/include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEj" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEj" data-ref-filename="_ZN4llvm11raw_ostreamlsEj">&lt;&lt;</a> <a class="local col7 ref" href="#37DC" title='DC' data-ref="37DC" data-ref-filename="37DC">DC</a>-&gt;<a class="virtual ref fn" href="../../include/clang/StaticAnalyzer/Core/PathSensitive/CallEvent.h.html#_ZNK5clang4ento18CXXDeallocatorCall10getNumArgsEv" title='clang::ento::CXXDeallocatorCall::getNumArgs' data-ref="_ZNK5clang4ento18CXXDeallocatorCall10getNumArgsEv" data-ref-filename="_ZNK5clang4ento18CXXDeallocatorCall10getNumArgsEv">getNumArgs</a>();</td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td>    <a class="tu ref fn" href="#_ZN5clang4ento12_GLOBAL__N_19reportBugEPKNS0_11CheckerBaseERKNS0_9CallEventERNS0_14CheckerContextEN4llvm9StringRefE" title='clang::ento::(anonymous namespace)::reportBug' data-use='c' data-ref="_ZN5clang4ento12_GLOBAL__N_19reportBugEPKNS0_11CheckerBaseERKNS0_9CallEventERNS0_14CheckerContextEN4llvm9StringRefE" data-ref-filename="_ZN5clang4ento12_GLOBAL__N_19reportBugEPKNS0_11CheckerBaseERKNS0_9CallEventERNS0_14CheckerContextEN4llvm9StringRefE">reportBug</a>(<b>this</b>, *<a class="local col7 ref" href="#37DC" title='DC' data-ref="37DC" data-ref-filename="37DC">DC</a>, <span class='refarg'><a class="local col6 ref" href="#36C" title='C' data-ref="36C" data-ref-filename="36C">C</a></span>, <a class="ref fn fake" href="../../../llvm/include/llvm/ADT/SmallString.h.html#_ZNK4llvm11SmallStringcvNS_9StringRefEEv" title='llvm::SmallString::operator StringRef' data-ref="_ZNK4llvm11SmallStringcvNS_9StringRefEEv" data-ref-filename="_ZNK4llvm11SmallStringcvNS_9StringRefEEv"></a><a class="local col8 ref" href="#38WarningBuf" title='WarningBuf' data-ref="38WarningBuf" data-ref-filename="38WarningBuf">WarningBuf</a>);</td></tr>
<tr><th id="56">56</th><td>  }</td></tr>
<tr><th id="57">57</th><td>};</td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td><em>void</em> <dfn class="tu decl def fn" id="_ZN5clang4ento12_GLOBAL__N_124addCXXDeallocatorCheckerERNS0_19AnalysisASTConsumerERNS_15AnalyzerOptionsE" title='clang::ento::(anonymous namespace)::addCXXDeallocatorChecker' data-type='void clang::ento::(anonymous namespace)::addCXXDeallocatorChecker(clang::ento::AnalysisASTConsumer &amp; AnalysisConsumer, clang::AnalyzerOptions &amp; AnOpts)' data-ref="_ZN5clang4ento12_GLOBAL__N_124addCXXDeallocatorCheckerERNS0_19AnalysisASTConsumerERNS_15AnalyzerOptionsE" data-ref-filename="_ZN5clang4ento12_GLOBAL__N_124addCXXDeallocatorCheckerERNS0_19AnalysisASTConsumerERNS_15AnalyzerOptionsE">addCXXDeallocatorChecker</dfn>(<a class="type" href="../../include/clang/StaticAnalyzer/Frontend/AnalysisConsumer.h.html#clang::ento::AnalysisASTConsumer" title='clang::ento::AnalysisASTConsumer' data-ref="clang::ento::AnalysisASTConsumer" data-ref-filename="clang..ento..AnalysisASTConsumer">AnalysisASTConsumer</a> &amp;<dfn class="local col0 decl" id="40AnalysisConsumer" title='AnalysisConsumer' data-type='clang::ento::AnalysisASTConsumer &amp;' data-ref="40AnalysisConsumer" data-ref-filename="40AnalysisConsumer">AnalysisConsumer</dfn>,</td></tr>
<tr><th id="60">60</th><td>                              <a class="type" href="../../include/clang/StaticAnalyzer/Core/AnalyzerOptions.h.html#clang::AnalyzerOptions" title='clang::AnalyzerOptions' data-ref="clang::AnalyzerOptions" data-ref-filename="clang..AnalyzerOptions">AnalyzerOptions</a> &amp;<dfn class="local col1 decl" id="41AnOpts" title='AnOpts' data-type='clang::AnalyzerOptions &amp;' data-ref="41AnOpts" data-ref-filename="41AnOpts">AnOpts</dfn>) {</td></tr>
<tr><th id="61">61</th><td>  <a class="local col1 ref" href="#41AnOpts" title='AnOpts' data-ref="41AnOpts" data-ref-filename="41AnOpts">AnOpts</a>.<a class="ref field" href="../../include/clang/StaticAnalyzer/Core/AnalyzerOptions.h.html#clang::AnalyzerOptions::CheckersAndPackages" title='clang::AnalyzerOptions::CheckersAndPackages' data-ref="clang::AnalyzerOptions::CheckersAndPackages" data-ref-filename="clang..AnalyzerOptions..CheckersAndPackages">CheckersAndPackages</a> <span class='ref fn' title='std::vector::operator=' data-ref="_ZNSt6vectoraSESt16initializer_listIT_E" data-ref-filename="_ZNSt6vectoraSESt16initializer_listIT_E">=</span> {{<q>"test.CXXDeallocator"</q>, <b>true</b>}};</td></tr>
<tr><th id="62">62</th><td>  <a class="local col0 ref" href="#40AnalysisConsumer" title='AnalysisConsumer' data-ref="40AnalysisConsumer" data-ref-filename="40AnalysisConsumer">AnalysisConsumer</a>.<a class="virtual ref fn" href="../../include/clang/StaticAnalyzer/Frontend/AnalysisConsumer.h.html#_ZN5clang4ento19AnalysisASTConsumer24AddCheckerRegistrationFnESt8functionIFvRNS0_15CheckerRegistryEEE" title='clang::ento::AnalysisASTConsumer::AddCheckerRegistrationFn' data-ref="_ZN5clang4ento19AnalysisASTConsumer24AddCheckerRegistrationFnESt8functionIFvRNS0_15CheckerRegistryEEE" data-ref-filename="_ZN5clang4ento19AnalysisASTConsumer24AddCheckerRegistrationFnESt8functionIFvRNS0_15CheckerRegistryEEE">AddCheckerRegistrationFn</a>(<span class='tu ref fn fake' title='std::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-use='c' data-ref="_ZNSt8functionIFT_DpT0_EEC1ETL0__" data-ref-filename="_ZNSt8functionIFT_DpT0_EEC1ETL0__"></span>[](<a class="type" href="../../include/clang/StaticAnalyzer/Frontend/CheckerRegistry.h.html#clang::ento::CheckerRegistry" title='clang::ento::CheckerRegistry' data-ref="clang::ento::CheckerRegistry" data-ref-filename="clang..ento..CheckerRegistry">CheckerRegistry</a> &amp;<dfn class="local col2 decl" id="42Registry" title='Registry' data-type='clang::ento::CheckerRegistry &amp;' data-ref="42Registry" data-ref-filename="42Registry">Registry</dfn>) {</td></tr>
<tr><th id="63">63</th><td>    <a class="local col2 ref" href="#42Registry" title='Registry' data-ref="42Registry" data-ref-filename="42Registry">Registry</a>.<a class="ref fn" href="../../include/clang/StaticAnalyzer/Frontend/CheckerRegistry.h.html#_ZN5clang4ento15CheckerRegistry10addCheckerEN4llvm9StringRefES3_S3_b" title='clang::ento::CheckerRegistry::addChecker' data-ref="_ZN5clang4ento15CheckerRegistry10addCheckerEN4llvm9StringRefES3_S3_b" data-ref-filename="_ZN5clang4ento15CheckerRegistry10addCheckerEN4llvm9StringRefES3_S3_b">addChecker</a>&lt;<a class="tu type" href="#clang::ento::(anonymousnamespace)::CXXDeallocatorChecker" title='clang::ento::(anonymous namespace)::CXXDeallocatorChecker' data-ref="clang::ento::(anonymousnamespace)::CXXDeallocatorChecker" data-ref-filename="clang..ento..(anonymousnamespace)..CXXDeallocatorChecker">CXXDeallocatorChecker</a>&gt;(<a class="ref fn fake" href="../../../llvm/include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>"test.CXXDeallocator"</q>,</td></tr>
<tr><th id="64">64</th><td>                                               <a class="ref fn fake" href="../../../llvm/include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>"Description"</q>, <a class="ref fn fake" href="../../../llvm/include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>""</q>);</td></tr>
<tr><th id="65">65</th><td>  });</td></tr>
<tr><th id="66">66</th><td>}</td></tr>
<tr><th id="67">67</th><td></td></tr>
<tr><th id="68">68</th><td><i>// TODO: What we should really be testing here is all the different varieties</i></td></tr>
<tr><th id="69">69</th><td><i>// of delete operators, and wether the retrieval of their arguments works as</i></td></tr>
<tr><th id="70">70</th><td><i>// intended. At the time of writing this file, CXXDeallocatorCall doesn't pick</i></td></tr>
<tr><th id="71">71</th><td><i>// up on much of those due to the AST not containing CXXDeleteExpr for most of</i></td></tr>
<tr><th id="72">72</th><td><i>// the standard/custom deletes.</i></td></tr>
<tr><th id="73">73</th><td><a class="macro" href="../../../llvm/utils/unittest/googletest/include/gtest/gtest.h.html#2187" title="class CXXDeallocatorCall_SimpleDestructor_Test : public ::testing::Test { public: CXXDeallocatorCall_SimpleDestructor_Test() {} private: virtual void TestBody(); static ::testing::TestInfo* const test_info_ __attribute__ ((unused)); CXXDeallocatorCall_SimpleDestructor_Test(CXXDeallocatorCall_SimpleDestructor_Test const &amp;) = delete; void operator=(CXXDeallocatorCall_SimpleDestructor_Test const &amp;) = delete;};::testing::TestInfo* const CXXDeallocatorCall_SimpleDestructor_Test ::test_info_ = ::testing::internal::MakeAndRegisterTestInfo( &quot;CXXDeallocatorCall&quot;, &quot;SimpleDestructor&quot;, __null, __null, ::testing::internal::CodeLocation(&quot;/fast/tmp/llvm-proj-12/clang/unittests/StaticAnalyzer/CallEventTest.cpp&quot;, 73), (::testing::internal::GetTestTypeId()), ::testing::Test::SetUpTestCase, ::testing::Test::TearDownTestCase, new ::testing::internal::TestFactoryImpl&lt; CXXDeallocatorCall_SimpleDestructor_Test&gt;);void CXXDeallocatorCall_SimpleDestructor_Test::TestBody()" data-ref="_M/TEST">TEST</a>(CXXDeallocatorCall, SimpleDestructor) {</td></tr>
<tr><th id="74">74</th><td>  <span class="namespace">std::</span><span class='typedef' title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</span> <span class='ref fn fake' title='std::__cxx11::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1Ev" data-ref-filename="_ZNSt7__cxx1112basic_stringC1Ev"></span><dfn class="local col3 decl" id="43Diags" title='Diags' data-type='std::string' data-ref="43Diags" data-ref-filename="43Diags">Diags</dfn>;</td></tr>
<tr><th id="75">75</th><td>  <a class="macro" href="../../../llvm/utils/unittest/googletest/include/gtest/gtest.h.html#1859" title="switch (0) case 0: default: if (const ::testing::AssertionResult gtest_ar_ = ::testing::AssertionResult((runCheckerOnCode&lt;addCXXDeallocatorChecker&gt;(R&quot;(
    struct A {};

    void f() {
      A *a = new A;
      delete a;
    }
  )&quot;, Diags)))) ; else ::testing::internal::AssertHelper(::testing::TestPartResult::kNonFatalFailure, &quot;/fast/tmp/llvm-proj-12/clang/unittests/StaticAnalyzer/CallEventTest.cpp&quot;, 83, ::testing::internal::GetBoolAssertionFailureMessage( gtest_ar_, &quot;runCheckerOnCode&lt;addCXXDeallocatorChecker&gt;(R\&quot;(\n    struct A {};\n\n    void f() {\n      A *a = new A;\n      delete a;\n    }\n  )\&quot;, Diags)&quot;, &quot;false&quot;, &quot;true&quot;).c_str()) = ::testing::Message()" data-ref="_M/EXPECT_TRUE">EXPECT_TRUE</a>(<a class="ref fn" href="CheckerRegistration.h.html#_ZN5clang4ento16runCheckerOnCodeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERS6_" title='clang::ento::runCheckerOnCode' data-ref="_ZN5clang4ento16runCheckerOnCodeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERS6_" data-ref-filename="_ZN5clang4ento16runCheckerOnCodeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERS6_">runCheckerOnCode</a>&lt;<a class="tu ref fn" href="#_ZN5clang4ento12_GLOBAL__N_124addCXXDeallocatorCheckerERNS0_19AnalysisASTConsumerERNS_15AnalyzerOptionsE" title='clang::ento::(anonymous namespace)::addCXXDeallocatorChecker' data-use='c' data-ref="_ZN5clang4ento12_GLOBAL__N_124addCXXDeallocatorCheckerERNS0_19AnalysisASTConsumerERNS_15AnalyzerOptionsE" data-ref-filename="_ZN5clang4ento12_GLOBAL__N_124addCXXDeallocatorCheckerERNS0_19AnalysisASTConsumerERNS_15AnalyzerOptionsE">addCXXDeallocatorChecker</a>&gt;(<span class='ref fn fake' title='std::__cxx11::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></span><q>R"(</q></td></tr>
<tr><th id="76">76</th><td><q>    struct A {};</q></td></tr>
<tr><th id="77">77</th><td><q></q></td></tr>
<tr><th id="78">78</th><td><q>    void f() {</q></td></tr>
<tr><th id="79">79</th><td><q>      A *a = new A;</q></td></tr>
<tr><th id="80">80</th><td><q>      delete a;</q></td></tr>
<tr><th id="81">81</th><td><q>    }</q></td></tr>
<tr><th id="82">82</th><td><q>  )"</q>,</td></tr>
<tr><th id="83">83</th><td>                                                         <span class='refarg'><a class="local col3 ref" href="#43Diags" title='Diags' data-ref="43Diags" data-ref-filename="43Diags">Diags</a></span>));</td></tr>
<tr><th id="84">84</th><td>  <a class="macro" href="../../../llvm/utils/unittest/googletest/include/gtest/gtest.h.html#1922" title="switch (0) case 0: default: if (const ::testing::AssertionResult gtest_ar = (::testing::internal:: EqHelper&lt;(sizeof(::testing::internal::IsNullLiteralHelper(Diags)) == 1)&gt;::Compare(&quot;Diags&quot;, &quot;\&quot;test.CXXDeallocator:NumArgs: 1\\n\&quot;&quot;, Diags, &quot;test.CXXDeallocator:NumArgs: 1\n&quot;))) ; else ::testing::internal::AssertHelper(::testing::TestPartResult::kNonFatalFailure, &quot;/fast/tmp/llvm-proj-12/clang/unittests/StaticAnalyzer/CallEventTest.cpp&quot;, 84, gtest_ar.failure_message()) = ::testing::Message()" data-ref="_M/EXPECT_EQ">EXPECT_EQ</a>(<a class="ref fn" href="#84" title='__builtin_trap' data-ref="__builtin_trap" data-ref-filename="__builtin_trap"><a class="local col3 ref" href="#43Diags" title='Diags' data-ref="43Diags" data-ref-filename="43Diags"><a class="local col3 ref" href="#43Diags" title='Diags' data-ref="43Diags" data-ref-filename="43Diags">Diags</a></a></a>, <q>"test.CXXDeallocator:NumArgs: 1\n"</q>);</td></tr>
<tr><th id="85">85</th><td>}</td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td>} <i>// namespace</i></td></tr>
<tr><th id="88">88</th><td>} <i>// namespace ento</i></td></tr>
<tr><th id="89">89</th><td>} <i>// namespace clang</i></td></tr>
<tr><th id="90">90</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2021-Jul-01</em> from project llvm revision <em>12</em>