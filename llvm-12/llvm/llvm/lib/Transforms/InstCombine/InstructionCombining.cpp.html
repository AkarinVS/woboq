<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>InstructionCombining.cpp source code [llvm/llvm/lib/Transforms/InstCombine/InstructionCombining.cpp] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="AliasScopeTracker "/>
<link rel="stylesheet" href="../../../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'llvm/llvm/lib/Transforms/InstCombine/InstructionCombining.cpp'; var root_path = '../../../../..'; var data_path = '../../../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../..'>llvm</a>/<a href='../../..'>llvm</a>/<a href='../..'>lib</a>/<a href='..'>Transforms</a>/<a href='./'>InstCombine</a>/<a href='InstructionCombining.cpp.html'>InstructionCombining.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>//===- InstructionCombining.cpp - Combine multiple instructions -----------===//</i></td></tr>
<tr><th id="2">2</th><td><i>//</i></td></tr>
<tr><th id="3">3</th><td><i>// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</i></td></tr>
<tr><th id="4">4</th><td><i>// See <a href="https://llvm.org/LICENSE.txt">https://llvm.org/LICENSE.txt</a> for license information.</i></td></tr>
<tr><th id="5">5</th><td><i>// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</i></td></tr>
<tr><th id="6">6</th><td><i>//</i></td></tr>
<tr><th id="7">7</th><td><i>//===----------------------------------------------------------------------===//</i></td></tr>
<tr><th id="8">8</th><td><i>//</i></td></tr>
<tr><th id="9">9</th><td><i>// InstructionCombining - Combine instructions to form fewer, simple</i></td></tr>
<tr><th id="10">10</th><td><i>// instructions.  This pass does not modify the CFG.  This pass is where</i></td></tr>
<tr><th id="11">11</th><td><i>// algebraic simplification happens.</i></td></tr>
<tr><th id="12">12</th><td><i>//</i></td></tr>
<tr><th id="13">13</th><td><i>// This pass combines things like:</i></td></tr>
<tr><th id="14">14</th><td><i>//    %Y = add i32 %X, 1</i></td></tr>
<tr><th id="15">15</th><td><i>//    %Z = add i32 %Y, 1</i></td></tr>
<tr><th id="16">16</th><td><i>// into:</i></td></tr>
<tr><th id="17">17</th><td><i>//    %Z = add i32 %X, 2</i></td></tr>
<tr><th id="18">18</th><td><i>//</i></td></tr>
<tr><th id="19">19</th><td><i>// This is a simple worklist driven algorithm.</i></td></tr>
<tr><th id="20">20</th><td><i>//</i></td></tr>
<tr><th id="21">21</th><td><i>// This pass guarantees that the following canonicalizations are performed on</i></td></tr>
<tr><th id="22">22</th><td><i>// the program:</i></td></tr>
<tr><th id="23">23</th><td><i>//    1. If a binary operator has a constant operand, it is moved to the RHS</i></td></tr>
<tr><th id="24">24</th><td><i>//    2. Bitwise operators with constant operands are always grouped so that</i></td></tr>
<tr><th id="25">25</th><td><i>//       shifts are performed first, then or's, then and's, then xor's.</i></td></tr>
<tr><th id="26">26</th><td><i>//    3. Compare instructions are converted from &lt;,&gt;,&lt;=,&gt;= to ==,!= if possible</i></td></tr>
<tr><th id="27">27</th><td><i>//    4. All cmp instructions on boolean values are replaced with logical ops</i></td></tr>
<tr><th id="28">28</th><td><i>//    5. add X, X is represented as (X*2) =&gt; (X &lt;&lt; 1)</i></td></tr>
<tr><th id="29">29</th><td><i>//    6. Multiplies with a power-of-two constant argument are transformed into</i></td></tr>
<tr><th id="30">30</th><td><i>//       shifts.</i></td></tr>
<tr><th id="31">31</th><td><i>//   ... etc.</i></td></tr>
<tr><th id="32">32</th><td><i>//</i></td></tr>
<tr><th id="33">33</th><td><i>//===----------------------------------------------------------------------===//</i></td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="InstCombineInternal.h.html">"InstCombineInternal.h"</a></u></td></tr>
<tr><th id="36">36</th><td><u>#include <a href="../../../include/llvm-c/Initialization.h.html">"llvm-c/Initialization.h"</a></u></td></tr>
<tr><th id="37">37</th><td><u>#include <a href="../../../include/llvm-c/Transforms/InstCombine.h.html">"llvm-c/Transforms/InstCombine.h"</a></u></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="../../../include/llvm/ADT/APInt.h.html">"llvm/ADT/APInt.h"</a></u></td></tr>
<tr><th id="39">39</th><td><u>#include <a href="../../../include/llvm/ADT/ArrayRef.h.html">"llvm/ADT/ArrayRef.h"</a></u></td></tr>
<tr><th id="40">40</th><td><u>#include <a href="../../../include/llvm/ADT/DenseMap.h.html">"llvm/ADT/DenseMap.h"</a></u></td></tr>
<tr><th id="41">41</th><td><u>#include <a href="../../../include/llvm/ADT/None.h.html">"llvm/ADT/None.h"</a></u></td></tr>
<tr><th id="42">42</th><td><u>#include <a href="../../../include/llvm/ADT/SmallPtrSet.h.html">"llvm/ADT/SmallPtrSet.h"</a></u></td></tr>
<tr><th id="43">43</th><td><u>#include <a href="../../../include/llvm/ADT/SmallVector.h.html">"llvm/ADT/SmallVector.h"</a></u></td></tr>
<tr><th id="44">44</th><td><u>#include <a href="../../../include/llvm/ADT/Statistic.h.html">"llvm/ADT/Statistic.h"</a></u></td></tr>
<tr><th id="45">45</th><td><u>#include <a href="../../../include/llvm/ADT/TinyPtrVector.h.html">"llvm/ADT/TinyPtrVector.h"</a></u></td></tr>
<tr><th id="46">46</th><td><u>#include <a href="../../../include/llvm/Analysis/AliasAnalysis.h.html">"llvm/Analysis/AliasAnalysis.h"</a></u></td></tr>
<tr><th id="47">47</th><td><u>#include <a href="../../../include/llvm/Analysis/AssumptionCache.h.html">"llvm/Analysis/AssumptionCache.h"</a></u></td></tr>
<tr><th id="48">48</th><td><u>#include <a href="../../../include/llvm/Analysis/BasicAliasAnalysis.h.html">"llvm/Analysis/BasicAliasAnalysis.h"</a></u></td></tr>
<tr><th id="49">49</th><td><u>#include <a href="../../../include/llvm/Analysis/BlockFrequencyInfo.h.html">"llvm/Analysis/BlockFrequencyInfo.h"</a></u></td></tr>
<tr><th id="50">50</th><td><u>#include <a href="../../../include/llvm/Analysis/CFG.h.html">"llvm/Analysis/CFG.h"</a></u></td></tr>
<tr><th id="51">51</th><td><u>#include <a href="../../../include/llvm/Analysis/ConstantFolding.h.html">"llvm/Analysis/ConstantFolding.h"</a></u></td></tr>
<tr><th id="52">52</th><td><u>#include <a href="../../../include/llvm/Analysis/EHPersonalities.h.html">"llvm/Analysis/EHPersonalities.h"</a></u></td></tr>
<tr><th id="53">53</th><td><u>#include <a href="../../../include/llvm/Analysis/GlobalsModRef.h.html">"llvm/Analysis/GlobalsModRef.h"</a></u></td></tr>
<tr><th id="54">54</th><td><u>#include <a href="../../../include/llvm/Analysis/InstructionSimplify.h.html">"llvm/Analysis/InstructionSimplify.h"</a></u></td></tr>
<tr><th id="55">55</th><td><u>#include <a href="../../../include/llvm/Analysis/LazyBlockFrequencyInfo.h.html">"llvm/Analysis/LazyBlockFrequencyInfo.h"</a></u></td></tr>
<tr><th id="56">56</th><td><u>#include <a href="../../../include/llvm/Analysis/LoopInfo.h.html">"llvm/Analysis/LoopInfo.h"</a></u></td></tr>
<tr><th id="57">57</th><td><u>#include <a href="../../../include/llvm/Analysis/MemoryBuiltins.h.html">"llvm/Analysis/MemoryBuiltins.h"</a></u></td></tr>
<tr><th id="58">58</th><td><u>#include <a href="../../../include/llvm/Analysis/OptimizationRemarkEmitter.h.html">"llvm/Analysis/OptimizationRemarkEmitter.h"</a></u></td></tr>
<tr><th id="59">59</th><td><u>#include <a href="../../../include/llvm/Analysis/ProfileSummaryInfo.h.html">"llvm/Analysis/ProfileSummaryInfo.h"</a></u></td></tr>
<tr><th id="60">60</th><td><u>#include <a href="../../../include/llvm/Analysis/TargetFolder.h.html">"llvm/Analysis/TargetFolder.h"</a></u></td></tr>
<tr><th id="61">61</th><td><u>#include <a href="../../../include/llvm/Analysis/TargetLibraryInfo.h.html">"llvm/Analysis/TargetLibraryInfo.h"</a></u></td></tr>
<tr><th id="62">62</th><td><u>#include <a href="../../../include/llvm/Analysis/TargetTransformInfo.h.html">"llvm/Analysis/TargetTransformInfo.h"</a></u></td></tr>
<tr><th id="63">63</th><td><u>#include <a href="../../../include/llvm/Analysis/ValueTracking.h.html">"llvm/Analysis/ValueTracking.h"</a></u></td></tr>
<tr><th id="64">64</th><td><u>#include <a href="../../../include/llvm/Analysis/VectorUtils.h.html">"llvm/Analysis/VectorUtils.h"</a></u></td></tr>
<tr><th id="65">65</th><td><u>#include <a href="../../../include/llvm/IR/BasicBlock.h.html">"llvm/IR/BasicBlock.h"</a></u></td></tr>
<tr><th id="66">66</th><td><u>#include <a href="../../../include/llvm/IR/CFG.h.html">"llvm/IR/CFG.h"</a></u></td></tr>
<tr><th id="67">67</th><td><u>#include <a href="../../../include/llvm/IR/Constant.h.html">"llvm/IR/Constant.h"</a></u></td></tr>
<tr><th id="68">68</th><td><u>#include <a href="../../../include/llvm/IR/Constants.h.html">"llvm/IR/Constants.h"</a></u></td></tr>
<tr><th id="69">69</th><td><u>#include <a href="../../../include/llvm/IR/DIBuilder.h.html">"llvm/IR/DIBuilder.h"</a></u></td></tr>
<tr><th id="70">70</th><td><u>#include <a href="../../../include/llvm/IR/DataLayout.h.html">"llvm/IR/DataLayout.h"</a></u></td></tr>
<tr><th id="71">71</th><td><u>#include <a href="../../../include/llvm/IR/DerivedTypes.h.html">"llvm/IR/DerivedTypes.h"</a></u></td></tr>
<tr><th id="72">72</th><td><u>#include <a href="../../../include/llvm/IR/Dominators.h.html">"llvm/IR/Dominators.h"</a></u></td></tr>
<tr><th id="73">73</th><td><u>#include <a href="../../../include/llvm/IR/Function.h.html">"llvm/IR/Function.h"</a></u></td></tr>
<tr><th id="74">74</th><td><u>#include <a href="../../../include/llvm/IR/GetElementPtrTypeIterator.h.html">"llvm/IR/GetElementPtrTypeIterator.h"</a></u></td></tr>
<tr><th id="75">75</th><td><u>#include <a href="../../../include/llvm/IR/IRBuilder.h.html">"llvm/IR/IRBuilder.h"</a></u></td></tr>
<tr><th id="76">76</th><td><u>#include <a href="../../../include/llvm/IR/InstrTypes.h.html">"llvm/IR/InstrTypes.h"</a></u></td></tr>
<tr><th id="77">77</th><td><u>#include <a href="../../../include/llvm/IR/Instruction.h.html">"llvm/IR/Instruction.h"</a></u></td></tr>
<tr><th id="78">78</th><td><u>#include <a href="../../../include/llvm/IR/Instructions.h.html">"llvm/IR/Instructions.h"</a></u></td></tr>
<tr><th id="79">79</th><td><u>#include <a href="../../../include/llvm/IR/IntrinsicInst.h.html">"llvm/IR/IntrinsicInst.h"</a></u></td></tr>
<tr><th id="80">80</th><td><u>#include <a href="../../../include/llvm/IR/Intrinsics.h.html">"llvm/IR/Intrinsics.h"</a></u></td></tr>
<tr><th id="81">81</th><td><u>#include <a href="../../../include/llvm/IR/LegacyPassManager.h.html">"llvm/IR/LegacyPassManager.h"</a></u></td></tr>
<tr><th id="82">82</th><td><u>#include <a href="../../../include/llvm/IR/Metadata.h.html">"llvm/IR/Metadata.h"</a></u></td></tr>
<tr><th id="83">83</th><td><u>#include <a href="../../../include/llvm/IR/Operator.h.html">"llvm/IR/Operator.h"</a></u></td></tr>
<tr><th id="84">84</th><td><u>#include <a href="../../../include/llvm/IR/PassManager.h.html">"llvm/IR/PassManager.h"</a></u></td></tr>
<tr><th id="85">85</th><td><u>#include <a href="../../../include/llvm/IR/PatternMatch.h.html">"llvm/IR/PatternMatch.h"</a></u></td></tr>
<tr><th id="86">86</th><td><u>#include <a href="../../../include/llvm/IR/Type.h.html">"llvm/IR/Type.h"</a></u></td></tr>
<tr><th id="87">87</th><td><u>#include <a href="../../../include/llvm/IR/Use.h.html">"llvm/IR/Use.h"</a></u></td></tr>
<tr><th id="88">88</th><td><u>#include <a href="../../../include/llvm/IR/User.h.html">"llvm/IR/User.h"</a></u></td></tr>
<tr><th id="89">89</th><td><u>#include <a href="../../../include/llvm/IR/Value.h.html">"llvm/IR/Value.h"</a></u></td></tr>
<tr><th id="90">90</th><td><u>#include <a href="../../../include/llvm/IR/ValueHandle.h.html">"llvm/IR/ValueHandle.h"</a></u></td></tr>
<tr><th id="91">91</th><td><u>#include <a href="../../../include/llvm/InitializePasses.h.html">"llvm/InitializePasses.h"</a></u></td></tr>
<tr><th id="92">92</th><td><u>#include <a href="../../../include/llvm/Pass.h.html">"llvm/Pass.h"</a></u></td></tr>
<tr><th id="93">93</th><td><u>#include <a href="../../../include/llvm/Support/CBindingWrapping.h.html">"llvm/Support/CBindingWrapping.h"</a></u></td></tr>
<tr><th id="94">94</th><td><u>#include <a href="../../../include/llvm/Support/Casting.h.html">"llvm/Support/Casting.h"</a></u></td></tr>
<tr><th id="95">95</th><td><u>#include <a href="../../../include/llvm/Support/CommandLine.h.html">"llvm/Support/CommandLine.h"</a></u></td></tr>
<tr><th id="96">96</th><td><u>#include <a href="../../../include/llvm/Support/Compiler.h.html">"llvm/Support/Compiler.h"</a></u></td></tr>
<tr><th id="97">97</th><td><u>#include <a href="../../../include/llvm/Support/Debug.h.html">"llvm/Support/Debug.h"</a></u></td></tr>
<tr><th id="98">98</th><td><u>#include <a href="../../../include/llvm/Support/DebugCounter.h.html">"llvm/Support/DebugCounter.h"</a></u></td></tr>
<tr><th id="99">99</th><td><u>#include <a href="../../../include/llvm/Support/ErrorHandling.h.html">"llvm/Support/ErrorHandling.h"</a></u></td></tr>
<tr><th id="100">100</th><td><u>#include <a href="../../../include/llvm/Support/KnownBits.h.html">"llvm/Support/KnownBits.h"</a></u></td></tr>
<tr><th id="101">101</th><td><u>#include <a href="../../../include/llvm/Support/raw_ostream.h.html">"llvm/Support/raw_ostream.h"</a></u></td></tr>
<tr><th id="102">102</th><td><u>#include <a href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html">"llvm/Transforms/InstCombine/InstCombine.h"</a></u></td></tr>
<tr><th id="103">103</th><td><u>#include <a href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html">"llvm/Transforms/InstCombine/InstCombineWorklist.h"</a></u></td></tr>
<tr><th id="104">104</th><td><u>#include <a href="../../../include/llvm/Transforms/Utils/Local.h.html">"llvm/Transforms/Utils/Local.h"</a></u></td></tr>
<tr><th id="105">105</th><td><u>#include &lt;algorithm&gt;</u></td></tr>
<tr><th id="106">106</th><td><u>#include &lt;cassert&gt;</u></td></tr>
<tr><th id="107">107</th><td><u>#include &lt;cstdint&gt;</u></td></tr>
<tr><th id="108">108</th><td><u>#include &lt;memory&gt;</u></td></tr>
<tr><th id="109">109</th><td><u>#include &lt;string&gt;</u></td></tr>
<tr><th id="110">110</th><td><u>#include &lt;utility&gt;</u></td></tr>
<tr><th id="111">111</th><td></td></tr>
<tr><th id="112">112</th><td><b>using</b> <b>namespace</b> <span class="namespace">llvm</span>;</td></tr>
<tr><th id="113">113</th><td><b>using</b> <b>namespace</b> <span class="namespace">llvm::PatternMatch</span>;</td></tr>
<tr><th id="114">114</th><td></td></tr>
<tr><th id="115">115</th><td><u>#define <dfn class="macro" id="_M/DEBUG_TYPE" data-ref="_M/DEBUG_TYPE">DEBUG_TYPE</dfn> "instcombine"</u></td></tr>
<tr><th id="116">116</th><td></td></tr>
<tr><th id="117">117</th><td><a class="macro" href="../../../include/llvm/ADT/Statistic.h.html#169" title="static llvm::Statistic NumWorklistIterations = {&quot;instcombine&quot;, &quot;NumWorklistIterations&quot;, &quot;Number of instruction combining iterations performed&quot;}" data-ref="_M/STATISTIC">STATISTIC</a>(<dfn class="decl def" id="NumWorklistIterations" title='NumWorklistIterations' data-ref="NumWorklistIterations" data-ref-filename="NumWorklistIterations">NumWorklistIterations</dfn>,</td></tr>
<tr><th id="118">118</th><td>          <q>"Number of instruction combining iterations performed"</q>);</td></tr>
<tr><th id="119">119</th><td></td></tr>
<tr><th id="120">120</th><td><a class="macro" href="../../../include/llvm/ADT/Statistic.h.html#169" title="static llvm::Statistic NumCombined = {&quot;instcombine&quot;, &quot;NumCombined&quot;, &quot;Number of insts combined&quot;}" data-ref="_M/STATISTIC">STATISTIC</a>(<dfn class="decl def" id="NumCombined" title='NumCombined' data-ref="NumCombined" data-ref-filename="NumCombined">NumCombined</dfn> , <q>"Number of insts combined"</q>);</td></tr>
<tr><th id="121">121</th><td><a class="macro" href="../../../include/llvm/ADT/Statistic.h.html#169" title="static llvm::Statistic NumConstProp = {&quot;instcombine&quot;, &quot;NumConstProp&quot;, &quot;Number of constant folds&quot;}" data-ref="_M/STATISTIC">STATISTIC</a>(<dfn class="decl def" id="NumConstProp" title='NumConstProp' data-ref="NumConstProp" data-ref-filename="NumConstProp">NumConstProp</dfn>, <q>"Number of constant folds"</q>);</td></tr>
<tr><th id="122">122</th><td><a class="macro" href="../../../include/llvm/ADT/Statistic.h.html#169" title="static llvm::Statistic NumDeadInst = {&quot;instcombine&quot;, &quot;NumDeadInst&quot;, &quot;Number of dead inst eliminated&quot;}" data-ref="_M/STATISTIC">STATISTIC</a>(<dfn class="decl def" id="NumDeadInst" title='NumDeadInst' data-ref="NumDeadInst" data-ref-filename="NumDeadInst">NumDeadInst</dfn> , <q>"Number of dead inst eliminated"</q>);</td></tr>
<tr><th id="123">123</th><td><a class="macro" href="../../../include/llvm/ADT/Statistic.h.html#169" title="static llvm::Statistic NumSunkInst = {&quot;instcombine&quot;, &quot;NumSunkInst&quot;, &quot;Number of instructions sunk&quot;}" data-ref="_M/STATISTIC">STATISTIC</a>(<dfn class="decl def" id="NumSunkInst" title='NumSunkInst' data-ref="NumSunkInst" data-ref-filename="NumSunkInst">NumSunkInst</dfn> , <q>"Number of instructions sunk"</q>);</td></tr>
<tr><th id="124">124</th><td><a class="macro" href="../../../include/llvm/ADT/Statistic.h.html#169" title="static llvm::Statistic NumExpand = {&quot;instcombine&quot;, &quot;NumExpand&quot;, &quot;Number of expansions&quot;}" data-ref="_M/STATISTIC">STATISTIC</a>(<dfn class="decl def" id="NumExpand" title='NumExpand' data-ref="NumExpand" data-ref-filename="NumExpand">NumExpand</dfn>,    <q>"Number of expansions"</q>);</td></tr>
<tr><th id="125">125</th><td><a class="macro" href="../../../include/llvm/ADT/Statistic.h.html#169" title="static llvm::Statistic NumFactor = {&quot;instcombine&quot;, &quot;NumFactor&quot;, &quot;Number of factorizations&quot;}" data-ref="_M/STATISTIC">STATISTIC</a>(<dfn class="decl def" id="NumFactor" title='NumFactor' data-ref="NumFactor" data-ref-filename="NumFactor">NumFactor</dfn>   , <q>"Number of factorizations"</q>);</td></tr>
<tr><th id="126">126</th><td><a class="macro" href="../../../include/llvm/ADT/Statistic.h.html#169" title="static llvm::Statistic NumReassoc = {&quot;instcombine&quot;, &quot;NumReassoc&quot;, &quot;Number of reassociations&quot;}" data-ref="_M/STATISTIC">STATISTIC</a>(<dfn class="decl def" id="NumReassoc" title='NumReassoc' data-ref="NumReassoc" data-ref-filename="NumReassoc">NumReassoc</dfn>  , <q>"Number of reassociations"</q>);</td></tr>
<tr><th id="127">127</th><td><a class="macro" href="../../../include/llvm/Support/DebugCounter.h.html#184" title="static const unsigned VisitCounter = DebugCounter::registerCounter(&quot;instcombine-visit&quot;, &quot;Controls which instructions are visited&quot;)" data-ref="_M/DEBUG_COUNTER">DEBUG_COUNTER</a>(<dfn class="decl def" id="VisitCounter" title='VisitCounter' data-ref="VisitCounter" data-ref-filename="VisitCounter">VisitCounter</dfn>, <a class="ref fn fake" href="../../../include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>"instcombine-visit"</q>,</td></tr>
<tr><th id="128">128</th><td>              <a class="ref fn fake" href="../../../include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>"Controls which instructions are visited"</q>);</td></tr>
<tr><th id="129">129</th><td></td></tr>
<tr><th id="130">130</th><td><i  data-doc="InstCombineDefaultMaxIterations">// FIXME: these limits eventually should be as low as 2.</i></td></tr>
<tr><th id="131">131</th><td><em>static</em> <b>constexpr</b> <em>unsigned</em> <dfn class="tu decl def" id="InstCombineDefaultMaxIterations" title='InstCombineDefaultMaxIterations' data-type='const unsigned int' data-ref="InstCombineDefaultMaxIterations" data-ref-filename="InstCombineDefaultMaxIterations">InstCombineDefaultMaxIterations</dfn> = <var>1000</var>;</td></tr>
<tr><th id="132">132</th><td><u>#<span data-ppcond="132">ifndef</span> <span class="macro" data-ref="_M/NDEBUG">NDEBUG</span></u></td></tr>
<tr><th id="133">133</th><td><em>static</em> <b>constexpr</b> <em>unsigned</em> InstCombineDefaultInfiniteLoopThreshold = <var>100</var>;</td></tr>
<tr><th id="134">134</th><td><u>#<span data-ppcond="132">else</span></u></td></tr>
<tr><th id="135">135</th><td><em>static</em> <b>constexpr</b> <em>unsigned</em> <dfn class="tu decl def" id="InstCombineDefaultInfiniteLoopThreshold" title='InstCombineDefaultInfiniteLoopThreshold' data-type='const unsigned int' data-ref="InstCombineDefaultInfiniteLoopThreshold" data-ref-filename="InstCombineDefaultInfiniteLoopThreshold">InstCombineDefaultInfiniteLoopThreshold</dfn> = <var>1000</var>;</td></tr>
<tr><th id="136">136</th><td><u>#<span data-ppcond="132">endif</span></u></td></tr>
<tr><th id="137">137</th><td></td></tr>
<tr><th id="138">138</th><td><em>static</em> <span class="namespace">cl::</span><a class="type" href="../../../include/llvm/Support/CommandLine.h.html#llvm::cl::opt" title='llvm::cl::opt' data-ref="llvm::cl::opt" data-ref-filename="llvm..cl..opt">opt</a>&lt;<em>bool</em>&gt;</td></tr>
<tr><th id="139">139</th><td><dfn class="tu decl def" id="EnableCodeSinking" title='EnableCodeSinking' data-type='cl::opt&lt;bool&gt;' data-ref="EnableCodeSinking" data-ref-filename="EnableCodeSinking">EnableCodeSinking</dfn><a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl3optC1EDpRKTL0__" title='llvm::cl::opt::opt&lt;DataType, ExternalStorage, ParserClass&gt;' data-ref="_ZN4llvm2cl3optC1EDpRKTL0__" data-ref-filename="_ZN4llvm2cl3optC1EDpRKTL0__">(</a><q>"instcombine-code-sinking"</q>, <span class="namespace">cl::</span><a class="type" href="../../../include/llvm/Support/CommandLine.h.html#llvm::cl::desc" title='llvm::cl::desc' data-ref="llvm::cl::desc" data-ref-filename="llvm..cl..desc">desc</a><a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl4descC1ENS_9StringRefE" title='llvm::cl::desc::desc' data-ref="_ZN4llvm2cl4descC1ENS_9StringRefE" data-ref-filename="_ZN4llvm2cl4descC1ENS_9StringRefE">(</a><a class="ref fn fake" href="../../../include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>"Enable code sinking"</q>),</td></tr>
<tr><th id="140">140</th><td>                                              <span class="namespace">cl::</span><a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl4initERKT_" title='llvm::cl::init' data-ref="_ZN4llvm2cl4initERKT_" data-ref-filename="_ZN4llvm2cl4initERKT_">init</a>(<b>true</b>));</td></tr>
<tr><th id="141">141</th><td></td></tr>
<tr><th id="142">142</th><td><em>static</em> <span class="namespace">cl::</span><a class="type" href="../../../include/llvm/Support/CommandLine.h.html#llvm::cl::opt" title='llvm::cl::opt' data-ref="llvm::cl::opt" data-ref-filename="llvm..cl..opt">opt</a>&lt;<em>unsigned</em>&gt; <dfn class="tu decl def" id="LimitMaxIterations" title='LimitMaxIterations' data-type='cl::opt&lt;unsigned int&gt;' data-ref="LimitMaxIterations" data-ref-filename="LimitMaxIterations">LimitMaxIterations</dfn><a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl3optC1EDpRKTL0__" title='llvm::cl::opt::opt&lt;DataType, ExternalStorage, ParserClass&gt;' data-ref="_ZN4llvm2cl3optC1EDpRKTL0__" data-ref-filename="_ZN4llvm2cl3optC1EDpRKTL0__">(</a></td></tr>
<tr><th id="143">143</th><td>    <q>"instcombine-max-iterations"</q>,</td></tr>
<tr><th id="144">144</th><td>    <span class="namespace">cl::</span><a class="type" href="../../../include/llvm/Support/CommandLine.h.html#llvm::cl::desc" title='llvm::cl::desc' data-ref="llvm::cl::desc" data-ref-filename="llvm..cl..desc">desc</a><a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl4descC1ENS_9StringRefE" title='llvm::cl::desc::desc' data-ref="_ZN4llvm2cl4descC1ENS_9StringRefE" data-ref-filename="_ZN4llvm2cl4descC1ENS_9StringRefE">(</a><a class="ref fn fake" href="../../../include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>"Limit the maximum number of instruction combining iterations"</q>),</td></tr>
<tr><th id="145">145</th><td>    <span class="namespace">cl::</span><a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl4initERKT_" title='llvm::cl::init' data-ref="_ZN4llvm2cl4initERKT_" data-ref-filename="_ZN4llvm2cl4initERKT_">init</a>(<a class="tu ref" href="#InstCombineDefaultMaxIterations" title='InstCombineDefaultMaxIterations' data-use='r' data-ref="InstCombineDefaultMaxIterations" data-ref-filename="InstCombineDefaultMaxIterations">InstCombineDefaultMaxIterations</a>));</td></tr>
<tr><th id="146">146</th><td></td></tr>
<tr><th id="147">147</th><td><em>static</em> <span class="namespace">cl::</span><a class="type" href="../../../include/llvm/Support/CommandLine.h.html#llvm::cl::opt" title='llvm::cl::opt' data-ref="llvm::cl::opt" data-ref-filename="llvm..cl..opt">opt</a>&lt;<em>unsigned</em>&gt; <dfn class="tu decl def" id="InfiniteLoopDetectionThreshold" title='InfiniteLoopDetectionThreshold' data-type='cl::opt&lt;unsigned int&gt;' data-ref="InfiniteLoopDetectionThreshold" data-ref-filename="InfiniteLoopDetectionThreshold">InfiniteLoopDetectionThreshold</dfn><a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl3optC1EDpRKTL0__" title='llvm::cl::opt::opt&lt;DataType, ExternalStorage, ParserClass&gt;' data-ref="_ZN4llvm2cl3optC1EDpRKTL0__" data-ref-filename="_ZN4llvm2cl3optC1EDpRKTL0__">(</a></td></tr>
<tr><th id="148">148</th><td>    <q>"instcombine-infinite-loop-threshold"</q>,</td></tr>
<tr><th id="149">149</th><td>    <span class="namespace">cl::</span><a class="type" href="../../../include/llvm/Support/CommandLine.h.html#llvm::cl::desc" title='llvm::cl::desc' data-ref="llvm::cl::desc" data-ref-filename="llvm..cl..desc">desc</a><a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl4descC1ENS_9StringRefE" title='llvm::cl::desc::desc' data-ref="_ZN4llvm2cl4descC1ENS_9StringRefE" data-ref-filename="_ZN4llvm2cl4descC1ENS_9StringRefE">(</a><a class="ref fn fake" href="../../../include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>"Number of instruction combining iterations considered an "</q></td></tr>
<tr><th id="150">150</th><td>             <q>"infinite loop"</q>),</td></tr>
<tr><th id="151">151</th><td>    <span class="namespace">cl::</span><a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl4initERKT_" title='llvm::cl::init' data-ref="_ZN4llvm2cl4initERKT_" data-ref-filename="_ZN4llvm2cl4initERKT_">init</a>(<a class="tu ref" href="#InstCombineDefaultInfiniteLoopThreshold" title='InstCombineDefaultInfiniteLoopThreshold' data-use='r' data-ref="InstCombineDefaultInfiniteLoopThreshold" data-ref-filename="InstCombineDefaultInfiniteLoopThreshold">InstCombineDefaultInfiniteLoopThreshold</a>), <span class="namespace">cl::</span><a class="enum" href="../../../include/llvm/Support/CommandLine.h.html#llvm::cl::Hidden" title='llvm::cl::Hidden' data-ref="llvm::cl::Hidden" data-ref-filename="llvm..cl..Hidden">Hidden</a>);</td></tr>
<tr><th id="152">152</th><td></td></tr>
<tr><th id="153">153</th><td><em>static</em> <span class="namespace">cl::</span><a class="type" href="../../../include/llvm/Support/CommandLine.h.html#llvm::cl::opt" title='llvm::cl::opt' data-ref="llvm::cl::opt" data-ref-filename="llvm..cl..opt">opt</a>&lt;<em>unsigned</em>&gt;</td></tr>
<tr><th id="154">154</th><td><dfn class="tu decl def" id="MaxArraySize" title='MaxArraySize' data-type='cl::opt&lt;unsigned int&gt;' data-ref="MaxArraySize" data-ref-filename="MaxArraySize">MaxArraySize</dfn><a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl3optC1EDpRKTL0__" title='llvm::cl::opt::opt&lt;DataType, ExternalStorage, ParserClass&gt;' data-ref="_ZN4llvm2cl3optC1EDpRKTL0__" data-ref-filename="_ZN4llvm2cl3optC1EDpRKTL0__">(</a><q>"instcombine-maxarray-size"</q>, <span class="namespace">cl::</span><a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl4initERKT_" title='llvm::cl::init' data-ref="_ZN4llvm2cl4initERKT_" data-ref-filename="_ZN4llvm2cl4initERKT_">init</a>(<var>1024</var>),</td></tr>
<tr><th id="155">155</th><td>             <span class="namespace">cl::</span><a class="type" href="../../../include/llvm/Support/CommandLine.h.html#llvm::cl::desc" title='llvm::cl::desc' data-ref="llvm::cl::desc" data-ref-filename="llvm..cl..desc">desc</a><a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl4descC1ENS_9StringRefE" title='llvm::cl::desc::desc' data-ref="_ZN4llvm2cl4descC1ENS_9StringRefE" data-ref-filename="_ZN4llvm2cl4descC1ENS_9StringRefE">(</a><a class="ref fn fake" href="../../../include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>"Maximum array size considered when doing a combine"</q>));</td></tr>
<tr><th id="156">156</th><td></td></tr>
<tr><th id="157">157</th><td><i  data-doc="ShouldLowerDbgDeclare">// FIXME: Remove this flag when it is no longer necessary to convert</i></td></tr>
<tr><th id="158">158</th><td><i  data-doc="ShouldLowerDbgDeclare">// llvm.dbg.declare to avoid inaccurate debug info. Setting this to false</i></td></tr>
<tr><th id="159">159</th><td><i  data-doc="ShouldLowerDbgDeclare">// increases variable availability at the cost of accuracy. Variables that</i></td></tr>
<tr><th id="160">160</th><td><i  data-doc="ShouldLowerDbgDeclare">// cannot be promoted by mem2reg or SROA will be described as living in memory</i></td></tr>
<tr><th id="161">161</th><td><i  data-doc="ShouldLowerDbgDeclare">// for their entire lifetime. However, passes like DSE and instcombine can</i></td></tr>
<tr><th id="162">162</th><td><i  data-doc="ShouldLowerDbgDeclare">// delete stores to the alloca, leading to misleading and inaccurate debug</i></td></tr>
<tr><th id="163">163</th><td><i  data-doc="ShouldLowerDbgDeclare">// information. This flag can be removed when those passes are fixed.</i></td></tr>
<tr><th id="164">164</th><td><em>static</em> <span class="namespace">cl::</span><a class="type" href="../../../include/llvm/Support/CommandLine.h.html#llvm::cl::opt" title='llvm::cl::opt' data-ref="llvm::cl::opt" data-ref-filename="llvm..cl..opt">opt</a>&lt;<em>unsigned</em>&gt; <dfn class="tu decl def" id="ShouldLowerDbgDeclare" title='ShouldLowerDbgDeclare' data-type='cl::opt&lt;unsigned int&gt;' data-ref="ShouldLowerDbgDeclare" data-ref-filename="ShouldLowerDbgDeclare">ShouldLowerDbgDeclare</dfn><a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl3optC1EDpRKTL0__" title='llvm::cl::opt::opt&lt;DataType, ExternalStorage, ParserClass&gt;' data-ref="_ZN4llvm2cl3optC1EDpRKTL0__" data-ref-filename="_ZN4llvm2cl3optC1EDpRKTL0__">(</a><q>"instcombine-lower-dbg-declare"</q>,</td></tr>
<tr><th id="165">165</th><td>                                               <span class="namespace">cl::</span><a class="enum" href="../../../include/llvm/Support/CommandLine.h.html#llvm::cl::Hidden" title='llvm::cl::Hidden' data-ref="llvm::cl::Hidden" data-ref-filename="llvm..cl..Hidden">Hidden</a>, <span class="namespace">cl::</span><a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl4initERKT_" title='llvm::cl::init' data-ref="_ZN4llvm2cl4initERKT_" data-ref-filename="_ZN4llvm2cl4initERKT_">init</a>(<b>true</b>));</td></tr>
<tr><th id="166">166</th><td></td></tr>
<tr><th id="167">167</th><td><a class="type" href="../../../include/llvm/ADT/Optional.h.html#llvm::Optional" title='llvm::Optional' data-ref="llvm::Optional" data-ref-filename="llvm..Optional">Optional</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *&gt;</td></tr>
<tr><th id="168">168</th><td><a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner" title='llvm::InstCombiner' data-ref="llvm::InstCombiner" data-ref-filename="llvm..InstCombiner">InstCombiner</a>::<dfn class="decl def fn" id="_ZN4llvm12InstCombiner26targetInstCombineIntrinsicERNS_13IntrinsicInstE" title='llvm::InstCombiner::targetInstCombineIntrinsic' data-ref="_ZN4llvm12InstCombiner26targetInstCombineIntrinsicERNS_13IntrinsicInstE" data-ref-filename="_ZN4llvm12InstCombiner26targetInstCombineIntrinsicERNS_13IntrinsicInstE">targetInstCombineIntrinsic</dfn>(<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::IntrinsicInst" title='llvm::IntrinsicInst' data-ref="llvm::IntrinsicInst" data-ref-filename="llvm..IntrinsicInst">IntrinsicInst</a> &amp;<dfn class="local col2 decl" id="2II" title='II' data-type='llvm::IntrinsicInst &amp;' data-ref="2II" data-ref-filename="2II">II</dfn>) {</td></tr>
<tr><th id="169">169</th><td>  <i>// Handle target specific intrinsics</i></td></tr>
<tr><th id="170">170</th><td>  <b>if</b> (<a class="local col2 ref" href="#2II" title='II' data-ref="2II" data-ref-filename="2II">II</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CallBase17getCalledFunctionEv" title='llvm::CallBase::getCalledFunction' data-ref="_ZNK4llvm8CallBase17getCalledFunctionEv" data-ref-filename="_ZNK4llvm8CallBase17getCalledFunctionEv">getCalledFunction</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Function.h.html#_ZNK4llvm8Function17isTargetIntrinsicEv" title='llvm::Function::isTargetIntrinsic' data-ref="_ZNK4llvm8Function17isTargetIntrinsicEv" data-ref-filename="_ZNK4llvm8Function17isTargetIntrinsicEv">isTargetIntrinsic</a>()) {</td></tr>
<tr><th id="171">171</th><td>    <b>return</b> <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::TTI" title='llvm::InstCombiner::TTI' data-ref="llvm::InstCombiner::TTI" data-ref-filename="llvm..InstCombiner..TTI">TTI</a>.<a class="ref fn" href="../../../include/llvm/Analysis/TargetTransformInfo.h.html#_ZNK4llvm19TargetTransformInfo20instCombineIntrinsicERNS_12InstCombinerERNS_13IntrinsicInstE" title='llvm::TargetTransformInfo::instCombineIntrinsic' data-ref="_ZNK4llvm19TargetTransformInfo20instCombineIntrinsicERNS_12InstCombinerERNS_13IntrinsicInstE" data-ref-filename="_ZNK4llvm19TargetTransformInfo20instCombineIntrinsicERNS_12InstCombinerERNS_13IntrinsicInstE">instCombineIntrinsic</a>(<span class='refarg'>*<b>this</b></span>, <span class='refarg'><a class="local col2 ref" href="#2II" title='II' data-ref="2II" data-ref-filename="2II">II</a></span>);</td></tr>
<tr><th id="172">172</th><td>  }</td></tr>
<tr><th id="173">173</th><td>  <b>return</b> <a class="ref fn fake" href="../../../include/llvm/ADT/Optional.h.html#_ZN4llvm8OptionalC1ENS_8NoneTypeE" title='llvm::Optional::Optional&lt;T&gt;' data-ref="_ZN4llvm8OptionalC1ENS_8NoneTypeE" data-ref-filename="_ZN4llvm8OptionalC1ENS_8NoneTypeE"></a><a class="ref" href="../../../include/llvm/ADT/None.h.html#llvm::None" title='llvm::None' data-ref="llvm::None" data-ref-filename="llvm..None">None</a>;</td></tr>
<tr><th id="174">174</th><td>}</td></tr>
<tr><th id="175">175</th><td></td></tr>
<tr><th id="176">176</th><td><a class="type" href="../../../include/llvm/ADT/Optional.h.html#llvm::Optional" title='llvm::Optional' data-ref="llvm::Optional" data-ref-filename="llvm..Optional">Optional</a>&lt;<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *&gt; <a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner" title='llvm::InstCombiner' data-ref="llvm::InstCombiner" data-ref-filename="llvm..InstCombiner">InstCombiner</a>::<dfn class="decl def fn" id="_ZN4llvm12InstCombiner38targetSimplifyDemandedUseBitsIntrinsicERNS_13IntrinsicInstENS_5APIntERNS_9KnownBitsERb" title='llvm::InstCombiner::targetSimplifyDemandedUseBitsIntrinsic' data-ref="_ZN4llvm12InstCombiner38targetSimplifyDemandedUseBitsIntrinsicERNS_13IntrinsicInstENS_5APIntERNS_9KnownBitsERb" data-ref-filename="_ZN4llvm12InstCombiner38targetSimplifyDemandedUseBitsIntrinsicERNS_13IntrinsicInstENS_5APIntERNS_9KnownBitsERb">targetSimplifyDemandedUseBitsIntrinsic</dfn>(</td></tr>
<tr><th id="177">177</th><td>    <a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::IntrinsicInst" title='llvm::IntrinsicInst' data-ref="llvm::IntrinsicInst" data-ref-filename="llvm..IntrinsicInst">IntrinsicInst</a> &amp;<dfn class="local col3 decl" id="3II" title='II' data-type='llvm::IntrinsicInst &amp;' data-ref="3II" data-ref-filename="3II">II</dfn>, <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> <dfn class="local col4 decl" id="4DemandedMask" title='DemandedMask' data-type='llvm::APInt' data-ref="4DemandedMask" data-ref-filename="4DemandedMask">DemandedMask</dfn>, <a class="type" href="../../../include/llvm/Support/KnownBits.h.html#llvm::KnownBits" title='llvm::KnownBits' data-ref="llvm::KnownBits" data-ref-filename="llvm..KnownBits">KnownBits</a> &amp;<dfn class="local col5 decl" id="5Known" title='Known' data-type='llvm::KnownBits &amp;' data-ref="5Known" data-ref-filename="5Known">Known</dfn>,</td></tr>
<tr><th id="178">178</th><td>    <em>bool</em> &amp;<dfn class="local col6 decl" id="6KnownBitsComputed" title='KnownBitsComputed' data-type='bool &amp;' data-ref="6KnownBitsComputed" data-ref-filename="6KnownBitsComputed">KnownBitsComputed</dfn>) {</td></tr>
<tr><th id="179">179</th><td>  <i>// Handle target specific intrinsics</i></td></tr>
<tr><th id="180">180</th><td>  <b>if</b> (<a class="local col3 ref" href="#3II" title='II' data-ref="3II" data-ref-filename="3II">II</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CallBase17getCalledFunctionEv" title='llvm::CallBase::getCalledFunction' data-ref="_ZNK4llvm8CallBase17getCalledFunctionEv" data-ref-filename="_ZNK4llvm8CallBase17getCalledFunctionEv">getCalledFunction</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Function.h.html#_ZNK4llvm8Function17isTargetIntrinsicEv" title='llvm::Function::isTargetIntrinsic' data-ref="_ZNK4llvm8Function17isTargetIntrinsicEv" data-ref-filename="_ZNK4llvm8Function17isTargetIntrinsicEv">isTargetIntrinsic</a>()) {</td></tr>
<tr><th id="181">181</th><td>    <b>return</b> <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::TTI" title='llvm::InstCombiner::TTI' data-ref="llvm::InstCombiner::TTI" data-ref-filename="llvm..InstCombiner..TTI">TTI</a>.<a class="ref fn" href="../../../include/llvm/Analysis/TargetTransformInfo.h.html#_ZNK4llvm19TargetTransformInfo32simplifyDemandedUseBitsIntrinsicERNS_12InstCombinerERNS_13IntrinsicInstENS_5APIntERNS_9KnownBitsERb" title='llvm::TargetTransformInfo::simplifyDemandedUseBitsIntrinsic' data-ref="_ZNK4llvm19TargetTransformInfo32simplifyDemandedUseBitsIntrinsicERNS_12InstCombinerERNS_13IntrinsicInstENS_5APIntERNS_9KnownBitsERb" data-ref-filename="_ZNK4llvm19TargetTransformInfo32simplifyDemandedUseBitsIntrinsicERNS_12InstCombinerERNS_13IntrinsicInstENS_5APIntERNS_9KnownBitsERb">simplifyDemandedUseBitsIntrinsic</a>(<span class='refarg'>*<b>this</b></span>, <span class='refarg'><a class="local col3 ref" href="#3II" title='II' data-ref="3II" data-ref-filename="3II">II</a></span>, <a class="ref fn fake" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntC1ERKS0_" title='llvm::APInt::APInt' data-ref="_ZN4llvm5APIntC1ERKS0_" data-ref-filename="_ZN4llvm5APIntC1ERKS0_"></a><a class="local col4 ref" href="#4DemandedMask" title='DemandedMask' data-ref="4DemandedMask" data-ref-filename="4DemandedMask">DemandedMask</a>, <span class='refarg'><a class="local col5 ref" href="#5Known" title='Known' data-ref="5Known" data-ref-filename="5Known">Known</a></span>,</td></tr>
<tr><th id="182">182</th><td>                                                <span class='refarg'><a class="local col6 ref" href="#6KnownBitsComputed" title='KnownBitsComputed' data-ref="6KnownBitsComputed" data-ref-filename="6KnownBitsComputed">KnownBitsComputed</a></span>);</td></tr>
<tr><th id="183">183</th><td>  }</td></tr>
<tr><th id="184">184</th><td>  <b>return</b> <a class="ref fn fake" href="../../../include/llvm/ADT/Optional.h.html#_ZN4llvm8OptionalC1ENS_8NoneTypeE" title='llvm::Optional::Optional&lt;T&gt;' data-ref="_ZN4llvm8OptionalC1ENS_8NoneTypeE" data-ref-filename="_ZN4llvm8OptionalC1ENS_8NoneTypeE"></a><a class="ref" href="../../../include/llvm/ADT/None.h.html#llvm::None" title='llvm::None' data-ref="llvm::None" data-ref-filename="llvm..None">None</a>;</td></tr>
<tr><th id="185">185</th><td>}</td></tr>
<tr><th id="186">186</th><td></td></tr>
<tr><th id="187">187</th><td><a class="type" href="../../../include/llvm/ADT/Optional.h.html#llvm::Optional" title='llvm::Optional' data-ref="llvm::Optional" data-ref-filename="llvm..Optional">Optional</a>&lt;<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *&gt; <a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner" title='llvm::InstCombiner' data-ref="llvm::InstCombiner" data-ref-filename="llvm..InstCombiner">InstCombiner</a>::<dfn class="decl def fn" id="_ZN4llvm12InstCombiner41targetSimplifyDemandedVectorEltsIntrinsicERNS_13IntrinsicInstENS_5APIntERS3_S4_S4_St8functionIFvPNS_11InstructionEjS3_S4_EE" title='llvm::InstCombiner::targetSimplifyDemandedVectorEltsIntrinsic' data-ref="_ZN4llvm12InstCombiner41targetSimplifyDemandedVectorEltsIntrinsicERNS_13IntrinsicInstENS_5APIntERS3_S4_S4_St8functionIFvPNS_11InstructionEjS3_S4_EE" data-ref-filename="_ZN4llvm12InstCombiner41targetSimplifyDemandedVectorEltsIntrinsicERNS_13IntrinsicInstENS_5APIntERS3_S4_S4_St8functionIFvPNS_11InstructionEjS3_S4_EE">targetSimplifyDemandedVectorEltsIntrinsic</dfn>(</td></tr>
<tr><th id="188">188</th><td>    <a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::IntrinsicInst" title='llvm::IntrinsicInst' data-ref="llvm::IntrinsicInst" data-ref-filename="llvm..IntrinsicInst">IntrinsicInst</a> &amp;<dfn class="local col7 decl" id="7II" title='II' data-type='llvm::IntrinsicInst &amp;' data-ref="7II" data-ref-filename="7II">II</dfn>, <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> <dfn class="local col8 decl" id="8DemandedElts" title='DemandedElts' data-type='llvm::APInt' data-ref="8DemandedElts" data-ref-filename="8DemandedElts">DemandedElts</dfn>, <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> &amp;<dfn class="local col9 decl" id="9UndefElts" title='UndefElts' data-type='llvm::APInt &amp;' data-ref="9UndefElts" data-ref-filename="9UndefElts">UndefElts</dfn>, <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> &amp;<dfn class="local col0 decl" id="10UndefElts2" title='UndefElts2' data-type='llvm::APInt &amp;' data-ref="10UndefElts2" data-ref-filename="10UndefElts2">UndefElts2</dfn>,</td></tr>
<tr><th id="189">189</th><td>    <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> &amp;<dfn class="local col1 decl" id="11UndefElts3" title='UndefElts3' data-type='llvm::APInt &amp;' data-ref="11UndefElts3" data-ref-filename="11UndefElts3">UndefElts3</dfn>,</td></tr>
<tr><th id="190">190</th><td>    <span class="namespace">std::</span><span class='type' title='std::function' data-ref="std::function" data-ref-filename="std..function">function</span>&lt;<em>void</em>(<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *, <em>unsigned</em>, <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a>, <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> &amp;)&gt;</td></tr>
<tr><th id="191">191</th><td>        <dfn class="local col2 decl" id="12SimplifyAndSetOp" title='SimplifyAndSetOp' data-type='std::function&lt;void (Instruction *, unsigned int, APInt, APInt &amp;)&gt;' data-ref="12SimplifyAndSetOp" data-ref-filename="12SimplifyAndSetOp">SimplifyAndSetOp</dfn>) {</td></tr>
<tr><th id="192">192</th><td>  <i>// Handle target specific intrinsics</i></td></tr>
<tr><th id="193">193</th><td>  <b>if</b> (<a class="local col7 ref" href="#7II" title='II' data-ref="7II" data-ref-filename="7II">II</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CallBase17getCalledFunctionEv" title='llvm::CallBase::getCalledFunction' data-ref="_ZNK4llvm8CallBase17getCalledFunctionEv" data-ref-filename="_ZNK4llvm8CallBase17getCalledFunctionEv">getCalledFunction</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Function.h.html#_ZNK4llvm8Function17isTargetIntrinsicEv" title='llvm::Function::isTargetIntrinsic' data-ref="_ZNK4llvm8Function17isTargetIntrinsicEv" data-ref-filename="_ZNK4llvm8Function17isTargetIntrinsicEv">isTargetIntrinsic</a>()) {</td></tr>
<tr><th id="194">194</th><td>    <b>return</b> <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::TTI" title='llvm::InstCombiner::TTI' data-ref="llvm::InstCombiner::TTI" data-ref-filename="llvm..InstCombiner..TTI">TTI</a>.<a class="ref fn" href="../../../include/llvm/Analysis/TargetTransformInfo.h.html#_ZNK4llvm19TargetTransformInfo35simplifyDemandedVectorEltsIntrinsicERNS_12InstCombinerERNS_13IntrinsicInstENS_5APIntERS5_S6_S6_St8functionIFvPNS_11InstructionEjS5_S6_EE" title='llvm::TargetTransformInfo::simplifyDemandedVectorEltsIntrinsic' data-ref="_ZNK4llvm19TargetTransformInfo35simplifyDemandedVectorEltsIntrinsicERNS_12InstCombinerERNS_13IntrinsicInstENS_5APIntERS5_S6_S6_St8functionIFvPNS_11InstructionEjS5_S6_EE" data-ref-filename="_ZNK4llvm19TargetTransformInfo35simplifyDemandedVectorEltsIntrinsicERNS_12InstCombinerERNS_13IntrinsicInstENS_5APIntERS5_S6_S6_St8functionIFvPNS_11InstructionEjS5_S6_EE">simplifyDemandedVectorEltsIntrinsic</a>(</td></tr>
<tr><th id="195">195</th><td>        <span class='refarg'>*<b>this</b></span>, <span class='refarg'><a class="local col7 ref" href="#7II" title='II' data-ref="7II" data-ref-filename="7II">II</a></span>, <a class="ref fn fake" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntC1ERKS0_" title='llvm::APInt::APInt' data-ref="_ZN4llvm5APIntC1ERKS0_" data-ref-filename="_ZN4llvm5APIntC1ERKS0_"></a><a class="local col8 ref" href="#8DemandedElts" title='DemandedElts' data-ref="8DemandedElts" data-ref-filename="8DemandedElts">DemandedElts</a>, <span class='refarg'><a class="local col9 ref" href="#9UndefElts" title='UndefElts' data-ref="9UndefElts" data-ref-filename="9UndefElts">UndefElts</a></span>, <span class='refarg'><a class="local col0 ref" href="#10UndefElts2" title='UndefElts2' data-ref="10UndefElts2" data-ref-filename="10UndefElts2">UndefElts2</a></span>, <span class='refarg'><a class="local col1 ref" href="#11UndefElts3" title='UndefElts3' data-ref="11UndefElts3" data-ref-filename="11UndefElts3">UndefElts3</a></span>,</td></tr>
<tr><th id="196">196</th><td>        <span class='ref fn fake' title='std::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-ref="_ZNSt8functionIFT_DpT0_EEC1ERKS_IS3_E" data-ref-filename="_ZNSt8functionIFT_DpT0_EEC1ERKS_IS3_E"></span><a class="local col2 ref" href="#12SimplifyAndSetOp" title='SimplifyAndSetOp' data-ref="12SimplifyAndSetOp" data-ref-filename="12SimplifyAndSetOp">SimplifyAndSetOp</a>);</td></tr>
<tr><th id="197">197</th><td>  }</td></tr>
<tr><th id="198">198</th><td>  <b>return</b> <a class="ref fn fake" href="../../../include/llvm/ADT/Optional.h.html#_ZN4llvm8OptionalC1ENS_8NoneTypeE" title='llvm::Optional::Optional&lt;T&gt;' data-ref="_ZN4llvm8OptionalC1ENS_8NoneTypeE" data-ref-filename="_ZN4llvm8OptionalC1ENS_8NoneTypeE"></a><a class="ref" href="../../../include/llvm/ADT/None.h.html#llvm::None" title='llvm::None' data-ref="llvm::None" data-ref-filename="llvm..None">None</a>;</td></tr>
<tr><th id="199">199</th><td>}</td></tr>
<tr><th id="200">200</th><td></td></tr>
<tr><th id="201">201</th><td><a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl13EmitGEPOffsetEPNS_4UserE" title='llvm::InstCombinerImpl::EmitGEPOffset' data-ref="_ZN4llvm16InstCombinerImpl13EmitGEPOffsetEPNS_4UserE" data-ref-filename="_ZN4llvm16InstCombinerImpl13EmitGEPOffsetEPNS_4UserE">EmitGEPOffset</dfn>(<a class="type" href="../../../include/llvm/IR/User.h.html#llvm::User" title='llvm::User' data-ref="llvm::User" data-ref-filename="llvm..User">User</a> *<dfn class="local col3 decl" id="13GEP" title='GEP' data-type='llvm::User *' data-ref="13GEP" data-ref-filename="13GEP">GEP</dfn>) {</td></tr>
<tr><th id="202">202</th><td>  <b>return</b> <span class="namespace">llvm::</span><a class="ref fn" href="../../../include/llvm/Analysis/Utils/Local.h.html#_ZN4llvm13EmitGEPOffsetEPT_RKNS_10DataLayoutEPNS_4UserEb" title='llvm::EmitGEPOffset' data-ref="_ZN4llvm13EmitGEPOffsetEPT_RKNS_10DataLayoutEPNS_4UserEb" data-ref-filename="_ZN4llvm13EmitGEPOffsetEPT_RKNS_10DataLayoutEPNS_4UserEb">EmitGEPOffset</a>(&amp;<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>, <a class="local col3 ref" href="#13GEP" title='GEP' data-ref="13GEP" data-ref-filename="13GEP">GEP</a>);</td></tr>
<tr><th id="203">203</th><td>}</td></tr>
<tr><th id="204">204</th><td></td></tr>
<tr><th id="205">205</th><td><i class="doc">/// Return true if it is desirable to convert an integer computation from a</i></td></tr>
<tr><th id="206">206</th><td><i class="doc">/// given bit width to a new bit width.</i></td></tr>
<tr><th id="207">207</th><td><i class="doc">/// We don't want to convert from a legal to an illegal type or from a smaller</i></td></tr>
<tr><th id="208">208</th><td><i class="doc">/// to a larger illegal type. A width of '1' is always treated as a legal type</i></td></tr>
<tr><th id="209">209</th><td><i class="doc">/// because i1 is a fundamental type in IR, and there are many specialized</i></td></tr>
<tr><th id="210">210</th><td><i class="doc">/// optimizations for i1 types. Widths of 8, 16 or 32 are equally treated as</i></td></tr>
<tr><th id="211">211</th><td><i class="doc">/// legal to convert to, in order to open up more combining opportunities.</i></td></tr>
<tr><th id="212">212</th><td><i class="doc">/// NOTE: this treats i8, i16 and i32 specially, due to them being so common</i></td></tr>
<tr><th id="213">213</th><td><i class="doc">/// from frontend languages.</i></td></tr>
<tr><th id="214">214</th><td><em>bool</em> <a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZNK4llvm16InstCombinerImpl16shouldChangeTypeEjj" title='llvm::InstCombinerImpl::shouldChangeType' data-ref="_ZNK4llvm16InstCombinerImpl16shouldChangeTypeEjj" data-ref-filename="_ZNK4llvm16InstCombinerImpl16shouldChangeTypeEjj">shouldChangeType</dfn>(<em>unsigned</em> <dfn class="local col4 decl" id="14FromWidth" title='FromWidth' data-type='unsigned int' data-ref="14FromWidth" data-ref-filename="14FromWidth">FromWidth</dfn>,</td></tr>
<tr><th id="215">215</th><td>                                        <em>unsigned</em> <dfn class="local col5 decl" id="15ToWidth" title='ToWidth' data-type='unsigned int' data-ref="15ToWidth" data-ref-filename="15ToWidth">ToWidth</dfn>) <em>const</em> {</td></tr>
<tr><th id="216">216</th><td>  <em>bool</em> <dfn class="local col6 decl" id="16FromLegal" title='FromLegal' data-type='bool' data-ref="16FromLegal" data-ref-filename="16FromLegal">FromLegal</dfn> = <a class="local col4 ref" href="#14FromWidth" title='FromWidth' data-ref="14FromWidth" data-ref-filename="14FromWidth">FromWidth</a> == <var>1</var> || <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout14isLegalIntegerEm" title='llvm::DataLayout::isLegalInteger' data-ref="_ZNK4llvm10DataLayout14isLegalIntegerEm" data-ref-filename="_ZNK4llvm10DataLayout14isLegalIntegerEm">isLegalInteger</a>(<a class="local col4 ref" href="#14FromWidth" title='FromWidth' data-ref="14FromWidth" data-ref-filename="14FromWidth">FromWidth</a>);</td></tr>
<tr><th id="217">217</th><td>  <em>bool</em> <dfn class="local col7 decl" id="17ToLegal" title='ToLegal' data-type='bool' data-ref="17ToLegal" data-ref-filename="17ToLegal">ToLegal</dfn> = <a class="local col5 ref" href="#15ToWidth" title='ToWidth' data-ref="15ToWidth" data-ref-filename="15ToWidth">ToWidth</a> == <var>1</var> || <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout14isLegalIntegerEm" title='llvm::DataLayout::isLegalInteger' data-ref="_ZNK4llvm10DataLayout14isLegalIntegerEm" data-ref-filename="_ZNK4llvm10DataLayout14isLegalIntegerEm">isLegalInteger</a>(<a class="local col5 ref" href="#15ToWidth" title='ToWidth' data-ref="15ToWidth" data-ref-filename="15ToWidth">ToWidth</a>);</td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td>  <i>// Convert to widths of 8, 16 or 32 even if they are not legal types. Only</i></td></tr>
<tr><th id="220">220</th><td><i>  // shrink types, to prevent infinite loops.</i></td></tr>
<tr><th id="221">221</th><td>  <b>if</b> (<a class="local col5 ref" href="#15ToWidth" title='ToWidth' data-ref="15ToWidth" data-ref-filename="15ToWidth">ToWidth</a> &lt; <a class="local col4 ref" href="#14FromWidth" title='FromWidth' data-ref="14FromWidth" data-ref-filename="14FromWidth">FromWidth</a> &amp;&amp; (<a class="local col5 ref" href="#15ToWidth" title='ToWidth' data-ref="15ToWidth" data-ref-filename="15ToWidth">ToWidth</a> == <var>8</var> || <a class="local col5 ref" href="#15ToWidth" title='ToWidth' data-ref="15ToWidth" data-ref-filename="15ToWidth">ToWidth</a> == <var>16</var> || <a class="local col5 ref" href="#15ToWidth" title='ToWidth' data-ref="15ToWidth" data-ref-filename="15ToWidth">ToWidth</a> == <var>32</var>))</td></tr>
<tr><th id="222">222</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="223">223</th><td></td></tr>
<tr><th id="224">224</th><td>  <i>// If this is a legal integer from type, and the result would be an illegal</i></td></tr>
<tr><th id="225">225</th><td><i>  // type, don't do the transformation.</i></td></tr>
<tr><th id="226">226</th><td>  <b>if</b> (<a class="local col6 ref" href="#16FromLegal" title='FromLegal' data-ref="16FromLegal" data-ref-filename="16FromLegal">FromLegal</a> &amp;&amp; !<a class="local col7 ref" href="#17ToLegal" title='ToLegal' data-ref="17ToLegal" data-ref-filename="17ToLegal">ToLegal</a>)</td></tr>
<tr><th id="227">227</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="228">228</th><td></td></tr>
<tr><th id="229">229</th><td>  <i>// Otherwise, if both are illegal, do not increase the size of the result. We</i></td></tr>
<tr><th id="230">230</th><td><i>  // do allow things like i160 -&gt; i64, but not i64 -&gt; i160.</i></td></tr>
<tr><th id="231">231</th><td>  <b>if</b> (!<a class="local col6 ref" href="#16FromLegal" title='FromLegal' data-ref="16FromLegal" data-ref-filename="16FromLegal">FromLegal</a> &amp;&amp; !<a class="local col7 ref" href="#17ToLegal" title='ToLegal' data-ref="17ToLegal" data-ref-filename="17ToLegal">ToLegal</a> &amp;&amp; <a class="local col5 ref" href="#15ToWidth" title='ToWidth' data-ref="15ToWidth" data-ref-filename="15ToWidth">ToWidth</a> &gt; <a class="local col4 ref" href="#14FromWidth" title='FromWidth' data-ref="14FromWidth" data-ref-filename="14FromWidth">FromWidth</a>)</td></tr>
<tr><th id="232">232</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="233">233</th><td></td></tr>
<tr><th id="234">234</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="235">235</th><td>}</td></tr>
<tr><th id="236">236</th><td></td></tr>
<tr><th id="237">237</th><td><i class="doc">/// Return true if it is desirable to convert a computation from 'From' to 'To'.</i></td></tr>
<tr><th id="238">238</th><td><i class="doc">/// We don't want to convert from a legal to an illegal type or from a smaller</i></td></tr>
<tr><th id="239">239</th><td><i class="doc">/// to a larger illegal type. i1 is always treated as a legal type because it is</i></td></tr>
<tr><th id="240">240</th><td><i class="doc">/// a fundamental type in IR, and there are many specialized optimizations for</i></td></tr>
<tr><th id="241">241</th><td><i class="doc">/// i1 types.</i></td></tr>
<tr><th id="242">242</th><td><em>bool</em> <a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZNK4llvm16InstCombinerImpl16shouldChangeTypeEPNS_4TypeES2_" title='llvm::InstCombinerImpl::shouldChangeType' data-ref="_ZNK4llvm16InstCombinerImpl16shouldChangeTypeEPNS_4TypeES2_" data-ref-filename="_ZNK4llvm16InstCombinerImpl16shouldChangeTypeEPNS_4TypeES2_">shouldChangeType</dfn>(<a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col8 decl" id="18From" title='From' data-type='llvm::Type *' data-ref="18From" data-ref-filename="18From">From</dfn>, <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col9 decl" id="19To" title='To' data-type='llvm::Type *' data-ref="19To" data-ref-filename="19To">To</dfn>) <em>const</em> {</td></tr>
<tr><th id="243">243</th><td>  <i>// TODO: This could be extended to allow vectors. Datalayout changes might be</i></td></tr>
<tr><th id="244">244</th><td><i>  // needed to properly support that.</i></td></tr>
<tr><th id="245">245</th><td>  <b>if</b> (!<a class="local col8 ref" href="#18From" title='From' data-ref="18From" data-ref-filename="18From">From</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type11isIntegerTyEv" title='llvm::Type::isIntegerTy' data-ref="_ZNK4llvm4Type11isIntegerTyEv" data-ref-filename="_ZNK4llvm4Type11isIntegerTyEv">isIntegerTy</a>() || !<a class="local col9 ref" href="#19To" title='To' data-ref="19To" data-ref-filename="19To">To</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type11isIntegerTyEv" title='llvm::Type::isIntegerTy' data-ref="_ZNK4llvm4Type11isIntegerTyEv" data-ref-filename="_ZNK4llvm4Type11isIntegerTyEv">isIntegerTy</a>())</td></tr>
<tr><th id="246">246</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="247">247</th><td></td></tr>
<tr><th id="248">248</th><td>  <em>unsigned</em> <dfn class="local col0 decl" id="20FromWidth" title='FromWidth' data-type='unsigned int' data-ref="20FromWidth" data-ref-filename="20FromWidth">FromWidth</dfn> = <a class="ref fn fake" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col8 ref" href="#18From" title='From' data-ref="18From" data-ref-filename="18From">From</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" title='llvm::Type::getPrimitiveSizeInBits' data-ref="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" data-ref-filename="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv">getPrimitiveSizeInBits</a>();</td></tr>
<tr><th id="249">249</th><td>  <em>unsigned</em> <dfn class="local col1 decl" id="21ToWidth" title='ToWidth' data-type='unsigned int' data-ref="21ToWidth" data-ref-filename="21ToWidth">ToWidth</dfn> = <a class="ref fn fake" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col9 ref" href="#19To" title='To' data-ref="19To" data-ref-filename="19To">To</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" title='llvm::Type::getPrimitiveSizeInBits' data-ref="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" data-ref-filename="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv">getPrimitiveSizeInBits</a>();</td></tr>
<tr><th id="250">250</th><td>  <b>return</b> <a class="member fn" href="#_ZNK4llvm16InstCombinerImpl16shouldChangeTypeEjj" title='llvm::InstCombinerImpl::shouldChangeType' data-ref="_ZNK4llvm16InstCombinerImpl16shouldChangeTypeEjj" data-ref-filename="_ZNK4llvm16InstCombinerImpl16shouldChangeTypeEjj">shouldChangeType</a>(<a class="local col0 ref" href="#20FromWidth" title='FromWidth' data-ref="20FromWidth" data-ref-filename="20FromWidth">FromWidth</a>, <a class="local col1 ref" href="#21ToWidth" title='ToWidth' data-ref="21ToWidth" data-ref-filename="21ToWidth">ToWidth</a>);</td></tr>
<tr><th id="251">251</th><td>}</td></tr>
<tr><th id="252">252</th><td></td></tr>
<tr><th id="253">253</th><td><i  data-doc="_ZL20maintainNoSignedWrapRN4llvm14BinaryOperatorEPNS_5ValueES3_">// Return true, if No Signed Wrap should be maintained for I.</i></td></tr>
<tr><th id="254">254</th><td><i  data-doc="_ZL20maintainNoSignedWrapRN4llvm14BinaryOperatorEPNS_5ValueES3_">// The No Signed Wrap flag can be kept if the operation "B (I.getOpcode) C",</i></td></tr>
<tr><th id="255">255</th><td><i  data-doc="_ZL20maintainNoSignedWrapRN4llvm14BinaryOperatorEPNS_5ValueES3_">// where both B and C should be ConstantInts, results in a constant that does</i></td></tr>
<tr><th id="256">256</th><td><i  data-doc="_ZL20maintainNoSignedWrapRN4llvm14BinaryOperatorEPNS_5ValueES3_">// not overflow. This function only handles the Add and Sub opcodes. For</i></td></tr>
<tr><th id="257">257</th><td><i  data-doc="_ZL20maintainNoSignedWrapRN4llvm14BinaryOperatorEPNS_5ValueES3_">// all other opcodes, the function conservatively returns false.</i></td></tr>
<tr><th id="258">258</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL20maintainNoSignedWrapRN4llvm14BinaryOperatorEPNS_5ValueES3_" title='maintainNoSignedWrap' data-type='bool maintainNoSignedWrap(llvm::BinaryOperator &amp; I, llvm::Value * B, llvm::Value * C)' data-ref="_ZL20maintainNoSignedWrapRN4llvm14BinaryOperatorEPNS_5ValueES3_" data-ref-filename="_ZL20maintainNoSignedWrapRN4llvm14BinaryOperatorEPNS_5ValueES3_">maintainNoSignedWrap</dfn>(<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> &amp;<dfn class="local col2 decl" id="22I" title='I' data-type='llvm::BinaryOperator &amp;' data-ref="22I" data-ref-filename="22I">I</dfn>, <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="23B" title='B' data-type='llvm::Value *' data-ref="23B" data-ref-filename="23B">B</dfn>, <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="24C" title='C' data-type='llvm::Value *' data-ref="24C" data-ref-filename="24C">C</dfn>) {</td></tr>
<tr><th id="259">259</th><td>  <em>auto</em> *<dfn class="local col5 decl" id="25OBO" title='OBO' data-type='llvm::OverflowingBinaryOperator *' data-ref="25OBO" data-ref-filename="25OBO">OBO</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::OverflowingBinaryOperator" title='llvm::OverflowingBinaryOperator' data-ref="llvm::OverflowingBinaryOperator" data-ref-filename="llvm..OverflowingBinaryOperator">OverflowingBinaryOperator</a>&gt;(&amp;<a class="local col2 ref" href="#22I" title='I' data-ref="22I" data-ref-filename="22I">I</a>);</td></tr>
<tr><th id="260">260</th><td>  <b>if</b> (!<a class="local col5 ref" href="#25OBO" title='OBO' data-ref="25OBO" data-ref-filename="25OBO">OBO</a> || !<a class="local col5 ref" href="#25OBO" title='OBO' data-ref="25OBO" data-ref-filename="25OBO">OBO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm25OverflowingBinaryOperator15hasNoSignedWrapEv" title='llvm::OverflowingBinaryOperator::hasNoSignedWrap' data-ref="_ZNK4llvm25OverflowingBinaryOperator15hasNoSignedWrapEv" data-ref-filename="_ZNK4llvm25OverflowingBinaryOperator15hasNoSignedWrapEv">hasNoSignedWrap</a>())</td></tr>
<tr><th id="261">261</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="262">262</th><td></td></tr>
<tr><th id="263">263</th><td>  <i>// We reason about Add and Sub Only.</i></td></tr>
<tr><th id="264">264</th><td>  <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col6 decl" id="26Opcode" title='Opcode' data-type='Instruction::BinaryOps' data-ref="26Opcode" data-ref-filename="26Opcode">Opcode</dfn> = <a class="local col2 ref" href="#22I" title='I' data-ref="22I" data-ref-filename="22I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>();</td></tr>
<tr><th id="265">265</th><td>  <b>if</b> (<a class="local col6 ref" href="#26Opcode" title='Opcode' data-ref="26Opcode" data-ref-filename="26Opcode">Opcode</a> != <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#147" title='llvm::Instruction::Add' data-ref="llvm::Instruction::Add" data-ref-filename="llvm..Instruction..Add">Add</a> &amp;&amp; <a class="local col6 ref" href="#26Opcode" title='Opcode' data-ref="26Opcode" data-ref-filename="26Opcode">Opcode</a> != <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#149" title='llvm::Instruction::Sub' data-ref="llvm::Instruction::Sub" data-ref-filename="llvm..Instruction..Sub">Sub</a>)</td></tr>
<tr><th id="266">266</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="267">267</th><td></td></tr>
<tr><th id="268">268</th><td>  <em>const</em> <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> *<dfn class="local col7 decl" id="27BVal" title='BVal' data-type='const llvm::APInt *' data-ref="27BVal" data-ref-filename="27BVal">BVal</dfn>, *<dfn class="local col8 decl" id="28CVal" title='CVal' data-type='const llvm::APInt *' data-ref="28CVal" data-ref-filename="28CVal">CVal</dfn>;</td></tr>
<tr><th id="269">269</th><td>  <b>if</b> (!<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col3 ref" href="#23B" title='B' data-ref="23B" data-ref-filename="23B">B</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_APIntERPKNS_5APIntE" title='llvm::PatternMatch::m_APInt' data-ref="_ZN4llvm12PatternMatch7m_APIntERPKNS_5APIntE" data-ref-filename="_ZN4llvm12PatternMatch7m_APIntERPKNS_5APIntE">m_APInt</a>(<span class='refarg'><a class="local col7 ref" href="#27BVal" title='BVal' data-ref="27BVal" data-ref-filename="27BVal">BVal</a></span>)) || !<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col4 ref" href="#24C" title='C' data-ref="24C" data-ref-filename="24C">C</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_APIntERPKNS_5APIntE" title='llvm::PatternMatch::m_APInt' data-ref="_ZN4llvm12PatternMatch7m_APIntERPKNS_5APIntE" data-ref-filename="_ZN4llvm12PatternMatch7m_APIntERPKNS_5APIntE">m_APInt</a>(<span class='refarg'><a class="local col8 ref" href="#28CVal" title='CVal' data-ref="28CVal" data-ref-filename="28CVal">CVal</a></span>)))</td></tr>
<tr><th id="270">270</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="271">271</th><td></td></tr>
<tr><th id="272">272</th><td>  <em>bool</em> <dfn class="local col9 decl" id="29Overflow" title='Overflow' data-type='bool' data-ref="29Overflow" data-ref-filename="29Overflow">Overflow</dfn> = <b>false</b>;</td></tr>
<tr><th id="273">273</th><td>  <b>if</b> (<a class="local col6 ref" href="#26Opcode" title='Opcode' data-ref="26Opcode" data-ref-filename="26Opcode">Opcode</a> == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#147" title='llvm::Instruction::Add' data-ref="llvm::Instruction::Add" data-ref-filename="llvm..Instruction..Add">Add</a>)</td></tr>
<tr><th id="274">274</th><td>    (<em>void</em>)<a class="local col7 ref" href="#27BVal" title='BVal' data-ref="27BVal" data-ref-filename="27BVal">BVal</a>-&gt;<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt7sadd_ovERKS0_Rb" title='llvm::APInt::sadd_ov' data-ref="_ZNK4llvm5APInt7sadd_ovERKS0_Rb" data-ref-filename="_ZNK4llvm5APInt7sadd_ovERKS0_Rb">sadd_ov</a>(*<a class="local col8 ref" href="#28CVal" title='CVal' data-ref="28CVal" data-ref-filename="28CVal">CVal</a>, <span class='refarg'><a class="local col9 ref" href="#29Overflow" title='Overflow' data-ref="29Overflow" data-ref-filename="29Overflow">Overflow</a></span>);</td></tr>
<tr><th id="275">275</th><td>  <b>else</b></td></tr>
<tr><th id="276">276</th><td>    (<em>void</em>)<a class="local col7 ref" href="#27BVal" title='BVal' data-ref="27BVal" data-ref-filename="27BVal">BVal</a>-&gt;<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt7ssub_ovERKS0_Rb" title='llvm::APInt::ssub_ov' data-ref="_ZNK4llvm5APInt7ssub_ovERKS0_Rb" data-ref-filename="_ZNK4llvm5APInt7ssub_ovERKS0_Rb">ssub_ov</a>(*<a class="local col8 ref" href="#28CVal" title='CVal' data-ref="28CVal" data-ref-filename="28CVal">CVal</a>, <span class='refarg'><a class="local col9 ref" href="#29Overflow" title='Overflow' data-ref="29Overflow" data-ref-filename="29Overflow">Overflow</a></span>);</td></tr>
<tr><th id="277">277</th><td></td></tr>
<tr><th id="278">278</th><td>  <b>return</b> !<a class="local col9 ref" href="#29Overflow" title='Overflow' data-ref="29Overflow" data-ref-filename="29Overflow">Overflow</a>;</td></tr>
<tr><th id="279">279</th><td>}</td></tr>
<tr><th id="280">280</th><td></td></tr>
<tr><th id="281">281</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE" title='hasNoUnsignedWrap' data-type='bool hasNoUnsignedWrap(llvm::BinaryOperator &amp; I)' data-ref="_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE" data-ref-filename="_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE">hasNoUnsignedWrap</dfn>(<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> &amp;<dfn class="local col0 decl" id="30I" title='I' data-type='llvm::BinaryOperator &amp;' data-ref="30I" data-ref-filename="30I">I</dfn>) {</td></tr>
<tr><th id="282">282</th><td>  <em>auto</em> *<dfn class="local col1 decl" id="31OBO" title='OBO' data-type='llvm::OverflowingBinaryOperator *' data-ref="31OBO" data-ref-filename="31OBO">OBO</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::OverflowingBinaryOperator" title='llvm::OverflowingBinaryOperator' data-ref="llvm::OverflowingBinaryOperator" data-ref-filename="llvm..OverflowingBinaryOperator">OverflowingBinaryOperator</a>&gt;(&amp;<a class="local col0 ref" href="#30I" title='I' data-ref="30I" data-ref-filename="30I">I</a>);</td></tr>
<tr><th id="283">283</th><td>  <b>return</b> <a class="local col1 ref" href="#31OBO" title='OBO' data-ref="31OBO" data-ref-filename="31OBO">OBO</a> &amp;&amp; <a class="local col1 ref" href="#31OBO" title='OBO' data-ref="31OBO" data-ref-filename="31OBO">OBO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm25OverflowingBinaryOperator17hasNoUnsignedWrapEv" title='llvm::OverflowingBinaryOperator::hasNoUnsignedWrap' data-ref="_ZNK4llvm25OverflowingBinaryOperator17hasNoUnsignedWrapEv" data-ref-filename="_ZNK4llvm25OverflowingBinaryOperator17hasNoUnsignedWrapEv">hasNoUnsignedWrap</a>();</td></tr>
<tr><th id="284">284</th><td>}</td></tr>
<tr><th id="285">285</th><td></td></tr>
<tr><th id="286">286</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL15hasNoSignedWrapRN4llvm14BinaryOperatorE" title='hasNoSignedWrap' data-type='bool hasNoSignedWrap(llvm::BinaryOperator &amp; I)' data-ref="_ZL15hasNoSignedWrapRN4llvm14BinaryOperatorE" data-ref-filename="_ZL15hasNoSignedWrapRN4llvm14BinaryOperatorE">hasNoSignedWrap</dfn>(<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> &amp;<dfn class="local col2 decl" id="32I" title='I' data-type='llvm::BinaryOperator &amp;' data-ref="32I" data-ref-filename="32I">I</dfn>) {</td></tr>
<tr><th id="287">287</th><td>  <em>auto</em> *<dfn class="local col3 decl" id="33OBO" title='OBO' data-type='llvm::OverflowingBinaryOperator *' data-ref="33OBO" data-ref-filename="33OBO">OBO</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::OverflowingBinaryOperator" title='llvm::OverflowingBinaryOperator' data-ref="llvm::OverflowingBinaryOperator" data-ref-filename="llvm..OverflowingBinaryOperator">OverflowingBinaryOperator</a>&gt;(&amp;<a class="local col2 ref" href="#32I" title='I' data-ref="32I" data-ref-filename="32I">I</a>);</td></tr>
<tr><th id="288">288</th><td>  <b>return</b> <a class="local col3 ref" href="#33OBO" title='OBO' data-ref="33OBO" data-ref-filename="33OBO">OBO</a> &amp;&amp; <a class="local col3 ref" href="#33OBO" title='OBO' data-ref="33OBO" data-ref-filename="33OBO">OBO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm25OverflowingBinaryOperator15hasNoSignedWrapEv" title='llvm::OverflowingBinaryOperator::hasNoSignedWrap' data-ref="_ZNK4llvm25OverflowingBinaryOperator15hasNoSignedWrapEv" data-ref-filename="_ZNK4llvm25OverflowingBinaryOperator15hasNoSignedWrapEv">hasNoSignedWrap</a>();</td></tr>
<tr><th id="289">289</th><td>}</td></tr>
<tr><th id="290">290</th><td></td></tr>
<tr><th id="291">291</th><td><i class="doc" data-doc="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE">/// Conservatively clears subclassOptionalData after a reassociation or</i></td></tr>
<tr><th id="292">292</th><td><i class="doc" data-doc="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE">/// commutation. We preserve fast-math flags when applicable as they can be</i></td></tr>
<tr><th id="293">293</th><td><i class="doc" data-doc="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE">/// preserved.</i></td></tr>
<tr><th id="294">294</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE" title='ClearSubclassDataAfterReassociation' data-type='void ClearSubclassDataAfterReassociation(llvm::BinaryOperator &amp; I)' data-ref="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE" data-ref-filename="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE">ClearSubclassDataAfterReassociation</dfn>(<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> &amp;<dfn class="local col4 decl" id="34I" title='I' data-type='llvm::BinaryOperator &amp;' data-ref="34I" data-ref-filename="34I">I</dfn>) {</td></tr>
<tr><th id="295">295</th><td>  <a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::FPMathOperator" title='llvm::FPMathOperator' data-ref="llvm::FPMathOperator" data-ref-filename="llvm..FPMathOperator">FPMathOperator</a> *<dfn class="local col5 decl" id="35FPMO" title='FPMO' data-type='llvm::FPMathOperator *' data-ref="35FPMO" data-ref-filename="35FPMO">FPMO</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::FPMathOperator" title='llvm::FPMathOperator' data-ref="llvm::FPMathOperator" data-ref-filename="llvm..FPMathOperator">FPMathOperator</a>&gt;(&amp;<a class="local col4 ref" href="#34I" title='I' data-ref="34I" data-ref-filename="34I">I</a>);</td></tr>
<tr><th id="296">296</th><td>  <b>if</b> (!<a class="local col5 ref" href="#35FPMO" title='FPMO' data-ref="35FPMO" data-ref-filename="35FPMO">FPMO</a>) {</td></tr>
<tr><th id="297">297</th><td>    <a class="local col4 ref" href="#34I" title='I' data-ref="34I" data-ref-filename="34I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value25clearSubclassOptionalDataEv" title='llvm::Value::clearSubclassOptionalData' data-ref="_ZN4llvm5Value25clearSubclassOptionalDataEv" data-ref-filename="_ZN4llvm5Value25clearSubclassOptionalDataEv">clearSubclassOptionalData</a>();</td></tr>
<tr><th id="298">298</th><td>    <b>return</b>;</td></tr>
<tr><th id="299">299</th><td>  }</td></tr>
<tr><th id="300">300</th><td></td></tr>
<tr><th id="301">301</th><td>  <a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::FastMathFlags" title='llvm::FastMathFlags' data-ref="llvm::FastMathFlags" data-ref-filename="llvm..FastMathFlags">FastMathFlags</a> <dfn class="local col6 decl" id="36FMF" title='FMF' data-type='llvm::FastMathFlags' data-ref="36FMF" data-ref-filename="36FMF">FMF</dfn> = <a class="local col4 ref" href="#34I" title='I' data-ref="34I" data-ref-filename="34I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction16getFastMathFlagsEv" title='llvm::Instruction::getFastMathFlags' data-ref="_ZNK4llvm11Instruction16getFastMathFlagsEv" data-ref-filename="_ZNK4llvm11Instruction16getFastMathFlagsEv">getFastMathFlags</a>();</td></tr>
<tr><th id="302">302</th><td>  <a class="local col4 ref" href="#34I" title='I' data-ref="34I" data-ref-filename="34I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value25clearSubclassOptionalDataEv" title='llvm::Value::clearSubclassOptionalData' data-ref="_ZN4llvm5Value25clearSubclassOptionalDataEv" data-ref-filename="_ZN4llvm5Value25clearSubclassOptionalDataEv">clearSubclassOptionalData</a>();</td></tr>
<tr><th id="303">303</th><td>  <a class="local col4 ref" href="#34I" title='I' data-ref="34I" data-ref-filename="34I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction16setFastMathFlagsENS_13FastMathFlagsE" title='llvm::Instruction::setFastMathFlags' data-ref="_ZN4llvm11Instruction16setFastMathFlagsENS_13FastMathFlagsE" data-ref-filename="_ZN4llvm11Instruction16setFastMathFlagsENS_13FastMathFlagsE">setFastMathFlags</a>(<a class="ref fn fake" href="../../../include/llvm/IR/Operator.h.html#160" title='llvm::FastMathFlags::FastMathFlags' data-ref="_ZN4llvm13FastMathFlagsC1ERKS0_" data-ref-filename="_ZN4llvm13FastMathFlagsC1ERKS0_"></a><a class="local col6 ref" href="#36FMF" title='FMF' data-ref="36FMF" data-ref-filename="36FMF">FMF</a>);</td></tr>
<tr><th id="304">304</th><td>}</td></tr>
<tr><th id="305">305</th><td></td></tr>
<tr><th id="306">306</th><td><i class="doc" data-doc="_ZL22simplifyAssocCastAssocPN4llvm14BinaryOperatorERNS_16InstCombinerImplE">/// Combine constant operands of associative operations either before or after a</i></td></tr>
<tr><th id="307">307</th><td><i class="doc" data-doc="_ZL22simplifyAssocCastAssocPN4llvm14BinaryOperatorERNS_16InstCombinerImplE">/// cast to eliminate one of the associative operations:</i></td></tr>
<tr><th id="308">308</th><td><i class="doc" data-doc="_ZL22simplifyAssocCastAssocPN4llvm14BinaryOperatorERNS_16InstCombinerImplE">/// (op (cast (op X, C2)), C1) --&gt; (cast (op X, op (C1, C2)))</i></td></tr>
<tr><th id="309">309</th><td><i class="doc" data-doc="_ZL22simplifyAssocCastAssocPN4llvm14BinaryOperatorERNS_16InstCombinerImplE">/// (op (cast (op X, C2)), C1) --&gt; (op (cast X), op (C1, C2))</i></td></tr>
<tr><th id="310">310</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL22simplifyAssocCastAssocPN4llvm14BinaryOperatorERNS_16InstCombinerImplE" title='simplifyAssocCastAssoc' data-type='bool simplifyAssocCastAssoc(llvm::BinaryOperator * BinOp1, llvm::InstCombinerImpl &amp; IC)' data-ref="_ZL22simplifyAssocCastAssocPN4llvm14BinaryOperatorERNS_16InstCombinerImplE" data-ref-filename="_ZL22simplifyAssocCastAssocPN4llvm14BinaryOperatorERNS_16InstCombinerImplE">simplifyAssocCastAssoc</dfn>(<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> *<dfn class="local col7 decl" id="37BinOp1" title='BinOp1' data-type='llvm::BinaryOperator *' data-ref="37BinOp1" data-ref-filename="37BinOp1">BinOp1</dfn>,</td></tr>
<tr><th id="311">311</th><td>                                   <a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a> &amp;<dfn class="local col8 decl" id="38IC" title='IC' data-type='llvm::InstCombinerImpl &amp;' data-ref="38IC" data-ref-filename="38IC">IC</dfn>) {</td></tr>
<tr><th id="312">312</th><td>  <em>auto</em> *<dfn class="local col9 decl" id="39Cast" title='Cast' data-type='llvm::CastInst *' data-ref="39Cast" data-ref-filename="39Cast">Cast</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a>&gt;(<a class="local col7 ref" href="#37BinOp1" title='BinOp1' data-ref="37BinOp1" data-ref-filename="37BinOp1">BinOp1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>));</td></tr>
<tr><th id="313">313</th><td>  <b>if</b> (!<a class="local col9 ref" href="#39Cast" title='Cast' data-ref="39Cast" data-ref-filename="39Cast">Cast</a> || !<a class="local col9 ref" href="#39Cast" title='Cast' data-ref="39Cast" data-ref-filename="39Cast">Cast</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>())</td></tr>
<tr><th id="314">314</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="315">315</th><td></td></tr>
<tr><th id="316">316</th><td>  <i>// TODO: Enhance logic for other casts and remove this check.</i></td></tr>
<tr><th id="317">317</th><td>  <em>auto</em> <dfn class="local col0 decl" id="40CastOpcode" title='CastOpcode' data-type='llvm::Instruction::CastOps' data-ref="40CastOpcode" data-ref-filename="40CastOpcode">CastOpcode</dfn> = <a class="local col9 ref" href="#39Cast" title='Cast' data-ref="39Cast" data-ref-filename="39Cast">Cast</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CastInst9getOpcodeEv" title='llvm::CastInst::getOpcode' data-ref="_ZNK4llvm8CastInst9getOpcodeEv" data-ref-filename="_ZNK4llvm8CastInst9getOpcodeEv">getOpcode</a>();</td></tr>
<tr><th id="318">318</th><td>  <b>if</b> (<a class="local col0 ref" href="#40CastOpcode" title='CastOpcode' data-ref="40CastOpcode" data-ref-filename="40CastOpcode">CastOpcode</a> != <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#185" title='llvm::Instruction::ZExt' data-ref="llvm::Instruction::ZExt" data-ref-filename="llvm..Instruction..ZExt">ZExt</a>)</td></tr>
<tr><th id="319">319</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="320">320</th><td></td></tr>
<tr><th id="321">321</th><td>  <i>// TODO: Enhance logic for other BinOps and remove this check.</i></td></tr>
<tr><th id="322">322</th><td>  <b>if</b> (!<a class="local col7 ref" href="#37BinOp1" title='BinOp1' data-ref="37BinOp1" data-ref-filename="37BinOp1">BinOp1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction16isBitwiseLogicOpEv" title='llvm::Instruction::isBitwiseLogicOp' data-ref="_ZNK4llvm11Instruction16isBitwiseLogicOpEv" data-ref-filename="_ZNK4llvm11Instruction16isBitwiseLogicOpEv">isBitwiseLogicOp</a>())</td></tr>
<tr><th id="323">323</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="324">324</th><td></td></tr>
<tr><th id="325">325</th><td>  <em>auto</em> <dfn class="local col1 decl" id="41AssocOpcode" title='AssocOpcode' data-type='llvm::Instruction::BinaryOps' data-ref="41AssocOpcode" data-ref-filename="41AssocOpcode">AssocOpcode</dfn> = <a class="local col7 ref" href="#37BinOp1" title='BinOp1' data-ref="37BinOp1" data-ref-filename="37BinOp1">BinOp1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>();</td></tr>
<tr><th id="326">326</th><td>  <em>auto</em> *<dfn class="local col2 decl" id="42BinOp2" title='BinOp2' data-type='llvm::BinaryOperator *' data-ref="42BinOp2" data-ref-filename="42BinOp2">BinOp2</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(<a class="local col9 ref" href="#39Cast" title='Cast' data-ref="39Cast" data-ref-filename="39Cast">Cast</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#76" title='llvm::UnaryInstruction::getOperand' data-ref="_ZNK4llvm16UnaryInstruction10getOperandEj" data-ref-filename="_ZNK4llvm16UnaryInstruction10getOperandEj">getOperand</a>(<var>0</var>));</td></tr>
<tr><th id="327">327</th><td>  <b>if</b> (!<a class="local col2 ref" href="#42BinOp2" title='BinOp2' data-ref="42BinOp2" data-ref-filename="42BinOp2">BinOp2</a> || !<a class="local col2 ref" href="#42BinOp2" title='BinOp2' data-ref="42BinOp2" data-ref-filename="42BinOp2">BinOp2</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>() || <a class="local col2 ref" href="#42BinOp2" title='BinOp2' data-ref="42BinOp2" data-ref-filename="42BinOp2">BinOp2</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>() != <a class="local col1 ref" href="#41AssocOpcode" title='AssocOpcode' data-ref="41AssocOpcode" data-ref-filename="41AssocOpcode">AssocOpcode</a>)</td></tr>
<tr><th id="328">328</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="329">329</th><td></td></tr>
<tr><th id="330">330</th><td>  <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col3 decl" id="43C1" title='C1' data-type='llvm::Constant *' data-ref="43C1" data-ref-filename="43C1">C1</dfn>, *<dfn class="local col4 decl" id="44C2" title='C2' data-type='llvm::Constant *' data-ref="44C2" data-ref-filename="44C2">C2</dfn>;</td></tr>
<tr><th id="331">331</th><td>  <b>if</b> (!<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col7 ref" href="#37BinOp1" title='BinOp1' data-ref="37BinOp1" data-ref-filename="37BinOp1">BinOp1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" title='llvm::PatternMatch::m_Constant' data-ref="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" data-ref-filename="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE">m_Constant</a>(<span class='refarg'><a class="local col3 ref" href="#43C1" title='C1' data-ref="43C1" data-ref-filename="43C1">C1</a></span>)) ||</td></tr>
<tr><th id="332">332</th><td>      !<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col2 ref" href="#42BinOp2" title='BinOp2' data-ref="42BinOp2" data-ref-filename="42BinOp2">BinOp2</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" title='llvm::PatternMatch::m_Constant' data-ref="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" data-ref-filename="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE">m_Constant</a>(<span class='refarg'><a class="local col4 ref" href="#44C2" title='C2' data-ref="44C2" data-ref-filename="44C2">C2</a></span>)))</td></tr>
<tr><th id="333">333</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="334">334</th><td></td></tr>
<tr><th id="335">335</th><td>  <i>// TODO: This assumes a zext cast.</i></td></tr>
<tr><th id="336">336</th><td><i>  // Eg, if it was a trunc, we'd cast C1 to the source type because casting C2</i></td></tr>
<tr><th id="337">337</th><td><i>  // to the destination type might lose bits.</i></td></tr>
<tr><th id="338">338</th><td><i></i></td></tr>
<tr><th id="339">339</th><td><i>  // Fold the constants together in the destination type:</i></td></tr>
<tr><th id="340">340</th><td><i>  // (op (cast (op X, C2)), C1) --&gt; (op (cast X), FoldedC)</i></td></tr>
<tr><th id="341">341</th><td>  <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col5 decl" id="45DestTy" title='DestTy' data-type='llvm::Type *' data-ref="45DestTy" data-ref-filename="45DestTy">DestTy</dfn> = <a class="local col3 ref" href="#43C1" title='C1' data-ref="43C1" data-ref-filename="43C1">C1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>();</td></tr>
<tr><th id="342">342</th><td>  <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col6 decl" id="46CastC2" title='CastC2' data-type='llvm::Constant *' data-ref="46CastC2" data-ref-filename="46CastC2">CastC2</dfn> = <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr7getCastEjPNS_8ConstantEPNS_4TypeEb" title='llvm::ConstantExpr::getCast' data-ref="_ZN4llvm12ConstantExpr7getCastEjPNS_8ConstantEPNS_4TypeEb" data-ref-filename="_ZN4llvm12ConstantExpr7getCastEjPNS_8ConstantEPNS_4TypeEb">getCast</a>(<a class="local col0 ref" href="#40CastOpcode" title='CastOpcode' data-ref="40CastOpcode" data-ref-filename="40CastOpcode">CastOpcode</a>, <a class="local col4 ref" href="#44C2" title='C2' data-ref="44C2" data-ref-filename="44C2">C2</a>, <a class="local col5 ref" href="#45DestTy" title='DestTy' data-ref="45DestTy" data-ref-filename="45DestTy">DestTy</a>);</td></tr>
<tr><th id="343">343</th><td>  <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col7 decl" id="47FoldedC" title='FoldedC' data-type='llvm::Constant *' data-ref="47FoldedC" data-ref-filename="47FoldedC">FoldedC</dfn> = <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" title='llvm::ConstantExpr::get' data-ref="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" data-ref-filename="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE">get</a>(<a class="local col1 ref" href="#41AssocOpcode" title='AssocOpcode' data-ref="41AssocOpcode" data-ref-filename="41AssocOpcode">AssocOpcode</a>, <a class="local col3 ref" href="#43C1" title='C1' data-ref="43C1" data-ref-filename="43C1">C1</a>, <a class="local col6 ref" href="#46CastC2" title='CastC2' data-ref="46CastC2" data-ref-filename="46CastC2">CastC2</a>);</td></tr>
<tr><th id="344">344</th><td>  <a class="local col8 ref" href="#38IC" title='IC' data-ref="38IC" data-ref-filename="38IC">IC</a>.<a class="ref fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'>*<a class="local col9 ref" href="#39Cast" title='Cast' data-ref="39Cast" data-ref-filename="39Cast">Cast</a></span>, <var>0</var>, <a class="local col2 ref" href="#42BinOp2" title='BinOp2' data-ref="42BinOp2" data-ref-filename="42BinOp2">BinOp2</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>));</td></tr>
<tr><th id="345">345</th><td>  <a class="local col8 ref" href="#38IC" title='IC' data-ref="38IC" data-ref-filename="38IC">IC</a>.<a class="ref fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'>*<a class="local col7 ref" href="#37BinOp1" title='BinOp1' data-ref="37BinOp1" data-ref-filename="37BinOp1">BinOp1</a></span>, <var>1</var>, <a class="local col7 ref" href="#47FoldedC" title='FoldedC' data-ref="47FoldedC" data-ref-filename="47FoldedC">FoldedC</a>);</td></tr>
<tr><th id="346">346</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="347">347</th><td>}</td></tr>
<tr><th id="348">348</th><td></td></tr>
<tr><th id="349">349</th><td><i class="doc">/// This performs a few simplifications for operators that are associative or</i></td></tr>
<tr><th id="350">350</th><td><i class="doc">/// commutative:</i></td></tr>
<tr><th id="351">351</th><td><i class="doc">///</i></td></tr>
<tr><th id="352">352</th><td><i class="doc">///  Commutative operators:</i></td></tr>
<tr><th id="353">353</th><td><i class="doc">///</i></td></tr>
<tr><th id="354">354</th><td><i class="doc">///  1. Order operands such that they are listed from right (least complex) to</i></td></tr>
<tr><th id="355">355</th><td><i class="doc">///     left (most complex).  This puts constants before unary operators before</i></td></tr>
<tr><th id="356">356</th><td><i class="doc">///     binary operators.</i></td></tr>
<tr><th id="357">357</th><td><i class="doc">///</i></td></tr>
<tr><th id="358">358</th><td><i class="doc">///  Associative operators:</i></td></tr>
<tr><th id="359">359</th><td><i class="doc">///</i></td></tr>
<tr><th id="360">360</th><td><i class="doc">///  2. Transform: "(A op B) op C" ==&gt; "A op (B op C)" if "B op C" simplifies.</i></td></tr>
<tr><th id="361">361</th><td><i class="doc">///  3. Transform: "A op (B op C)" ==&gt; "(A op B) op C" if "A op B" simplifies.</i></td></tr>
<tr><th id="362">362</th><td><i class="doc">///</i></td></tr>
<tr><th id="363">363</th><td><i class="doc">///  Associative and commutative operators:</i></td></tr>
<tr><th id="364">364</th><td><i class="doc">///</i></td></tr>
<tr><th id="365">365</th><td><i class="doc">///  4. Transform: "(A op B) op C" ==&gt; "(C op A) op B" if "C op A" simplifies.</i></td></tr>
<tr><th id="366">366</th><td><i class="doc">///  5. Transform: "A op (B op C)" ==&gt; "B op (C op A)" if "C op A" simplifies.</i></td></tr>
<tr><th id="367">367</th><td><i class="doc">///  6. Transform: "(A op C1) op (B op C2)" ==&gt; "(A op B) op (C1 op C2)"</i></td></tr>
<tr><th id="368">368</th><td><i class="doc">///     if C1 and C2 are constants.</i></td></tr>
<tr><th id="369">369</th><td><em>bool</em> <a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl32SimplifyAssociativeOrCommutativeERNS_14BinaryOperatorE" title='llvm::InstCombinerImpl::SimplifyAssociativeOrCommutative' data-ref="_ZN4llvm16InstCombinerImpl32SimplifyAssociativeOrCommutativeERNS_14BinaryOperatorE" data-ref-filename="_ZN4llvm16InstCombinerImpl32SimplifyAssociativeOrCommutativeERNS_14BinaryOperatorE">SimplifyAssociativeOrCommutative</dfn>(<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> &amp;<dfn class="local col8 decl" id="48I" title='I' data-type='llvm::BinaryOperator &amp;' data-ref="48I" data-ref-filename="48I">I</dfn>) {</td></tr>
<tr><th id="370">370</th><td>  <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col9 decl" id="49Opcode" title='Opcode' data-type='Instruction::BinaryOps' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</dfn> = <a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>();</td></tr>
<tr><th id="371">371</th><td>  <em>bool</em> <dfn class="local col0 decl" id="50Changed" title='Changed' data-type='bool' data-ref="50Changed" data-ref-filename="50Changed">Changed</dfn> = <b>false</b>;</td></tr>
<tr><th id="372">372</th><td></td></tr>
<tr><th id="373">373</th><td>  <b>do</b> {</td></tr>
<tr><th id="374">374</th><td>    <i>// Order operands such that they are listed from right (least complex) to</i></td></tr>
<tr><th id="375">375</th><td><i>    // left (most complex).  This puts constants before unary operators before</i></td></tr>
<tr><th id="376">376</th><td><i>    // binary operators.</i></td></tr>
<tr><th id="377">377</th><td>    <b>if</b> (<a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction13isCommutativeEv" title='llvm::Instruction::isCommutative' data-ref="_ZNK4llvm11Instruction13isCommutativeEv" data-ref-filename="_ZNK4llvm11Instruction13isCommutativeEv">isCommutative</a>() &amp;&amp; <a class="member fn" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#_ZN4llvm12InstCombiner13getComplexityEPNS_5ValueE" title='llvm::InstCombiner::getComplexity' data-ref="_ZN4llvm12InstCombiner13getComplexityEPNS_5ValueE" data-ref-filename="_ZN4llvm12InstCombiner13getComplexityEPNS_5ValueE">getComplexity</a>(<a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>)) &lt;</td></tr>
<tr><th id="378">378</th><td>        <a class="member fn" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#_ZN4llvm12InstCombiner13getComplexityEPNS_5ValueE" title='llvm::InstCombiner::getComplexity' data-ref="_ZN4llvm12InstCombiner13getComplexityEPNS_5ValueE" data-ref-filename="_ZN4llvm12InstCombiner13getComplexityEPNS_5ValueE">getComplexity</a>(<a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>)))</td></tr>
<tr><th id="379">379</th><td>      <a class="local col0 ref" href="#50Changed" title='Changed' data-ref="50Changed" data-ref-filename="50Changed">Changed</a> = !<a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm14BinaryOperator12swapOperandsEv" title='llvm::BinaryOperator::swapOperands' data-ref="_ZN4llvm14BinaryOperator12swapOperandsEv" data-ref-filename="_ZN4llvm14BinaryOperator12swapOperandsEv">swapOperands</a>();</td></tr>
<tr><th id="380">380</th><td></td></tr>
<tr><th id="381">381</th><td>    <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> *<dfn class="local col1 decl" id="51Op0" title='Op0' data-type='llvm::BinaryOperator *' data-ref="51Op0" data-ref-filename="51Op0">Op0</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(<a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>));</td></tr>
<tr><th id="382">382</th><td>    <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> *<dfn class="local col2 decl" id="52Op1" title='Op1' data-type='llvm::BinaryOperator *' data-ref="52Op1" data-ref-filename="52Op1">Op1</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(<a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>));</td></tr>
<tr><th id="383">383</th><td></td></tr>
<tr><th id="384">384</th><td>    <b>if</b> (<a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction13isAssociativeEv" title='llvm::Instruction::isAssociative' data-ref="_ZNK4llvm11Instruction13isAssociativeEv" data-ref-filename="_ZNK4llvm11Instruction13isAssociativeEv">isAssociative</a>()) {</td></tr>
<tr><th id="385">385</th><td>      <i>// Transform: "(A op B) op C" ==&gt; "A op (B op C)" if "B op C" simplifies.</i></td></tr>
<tr><th id="386">386</th><td>      <b>if</b> (<a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a> &amp;&amp; <a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>() == <a class="local col9 ref" href="#49Opcode" title='Opcode' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</a>) {</td></tr>
<tr><th id="387">387</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="53A" title='A' data-type='llvm::Value *' data-ref="53A" data-ref-filename="53A">A</dfn> = <a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="388">388</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="54B" title='B' data-type='llvm::Value *' data-ref="54B" data-ref-filename="54B">B</dfn> = <a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="389">389</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="55C" title='C' data-type='llvm::Value *' data-ref="55C" data-ref-filename="55C">C</dfn> = <a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="390">390</th><td></td></tr>
<tr><th id="391">391</th><td>        <i>// Does "B op C" simplify?</i></td></tr>
<tr><th id="392">392</th><td>        <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="56V" title='V' data-type='llvm::Value *' data-ref="56V" data-ref-filename="56V"><a class="local col6 ref" href="#56V" title='V' data-ref="56V" data-ref-filename="56V">V</a></dfn> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col9 ref" href="#49Opcode" title='Opcode' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</a>, <a class="local col4 ref" href="#54B" title='B' data-ref="54B" data-ref-filename="54B">B</a>, <a class="local col5 ref" href="#55C" title='C' data-ref="55C" data-ref-filename="55C">C</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::SQ" title='llvm::InstCombiner::SQ' data-ref="llvm::InstCombiner::SQ" data-ref-filename="llvm..InstCombiner..SQ">SQ</a>.<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" title='llvm::SimplifyQuery::getWithInstruction' data-ref="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" data-ref-filename="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE">getWithInstruction</a>(&amp;<a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>))) {</td></tr>
<tr><th id="393">393</th><td>          <i>// It simplifies to V.  Form "A op V".</i></td></tr>
<tr><th id="394">394</th><td>          <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>, <var>0</var>, <a class="local col3 ref" href="#53A" title='A' data-ref="53A" data-ref-filename="53A">A</a>);</td></tr>
<tr><th id="395">395</th><td>          <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>, <var>1</var>, <a class="local col6 ref" href="#56V" title='V' data-ref="56V" data-ref-filename="56V">V</a>);</td></tr>
<tr><th id="396">396</th><td>          <em>bool</em> <dfn class="local col7 decl" id="57IsNUW" title='IsNUW' data-type='bool' data-ref="57IsNUW" data-ref-filename="57IsNUW">IsNUW</dfn> = <a class="tu ref fn" href="#_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE" title='hasNoUnsignedWrap' data-use='c' data-ref="_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE" data-ref-filename="_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE">hasNoUnsignedWrap</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>) &amp;&amp; <a class="tu ref fn" href="#_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE" title='hasNoUnsignedWrap' data-use='c' data-ref="_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE" data-ref-filename="_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE">hasNoUnsignedWrap</a>(<span class='refarg'>*<a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a></span>);</td></tr>
<tr><th id="397">397</th><td>          <em>bool</em> <dfn class="local col8 decl" id="58IsNSW" title='IsNSW' data-type='bool' data-ref="58IsNSW" data-ref-filename="58IsNSW">IsNSW</dfn> = <a class="tu ref fn" href="#_ZL20maintainNoSignedWrapRN4llvm14BinaryOperatorEPNS_5ValueES3_" title='maintainNoSignedWrap' data-use='c' data-ref="_ZL20maintainNoSignedWrapRN4llvm14BinaryOperatorEPNS_5ValueES3_" data-ref-filename="_ZL20maintainNoSignedWrapRN4llvm14BinaryOperatorEPNS_5ValueES3_">maintainNoSignedWrap</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>, <a class="local col4 ref" href="#54B" title='B' data-ref="54B" data-ref-filename="54B">B</a>, <a class="local col5 ref" href="#55C" title='C' data-ref="55C" data-ref-filename="55C">C</a>) &amp;&amp; <a class="tu ref fn" href="#_ZL15hasNoSignedWrapRN4llvm14BinaryOperatorE" title='hasNoSignedWrap' data-use='c' data-ref="_ZL15hasNoSignedWrapRN4llvm14BinaryOperatorE" data-ref-filename="_ZL15hasNoSignedWrapRN4llvm14BinaryOperatorE">hasNoSignedWrap</a>(<span class='refarg'>*<a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a></span>);</td></tr>
<tr><th id="398">398</th><td></td></tr>
<tr><th id="399">399</th><td>          <i>// Conservatively clear all optional flags since they may not be</i></td></tr>
<tr><th id="400">400</th><td><i>          // preserved by the reassociation. Reset nsw/nuw based on the above</i></td></tr>
<tr><th id="401">401</th><td><i>          // analysis.</i></td></tr>
<tr><th id="402">402</th><td>          <a class="tu ref fn" href="#_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE" title='ClearSubclassDataAfterReassociation' data-use='c' data-ref="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE" data-ref-filename="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE">ClearSubclassDataAfterReassociation</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>);</td></tr>
<tr><th id="403">403</th><td></td></tr>
<tr><th id="404">404</th><td>          <i>// Note: this is only valid because SimplifyBinOp doesn't look at</i></td></tr>
<tr><th id="405">405</th><td><i>          // the operands to Op0.</i></td></tr>
<tr><th id="406">406</th><td>          <b>if</b> (<a class="local col7 ref" href="#57IsNUW" title='IsNUW' data-ref="57IsNUW" data-ref-filename="57IsNUW">IsNUW</a>)</td></tr>
<tr><th id="407">407</th><td>            <a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction20setHasNoUnsignedWrapEb" title='llvm::Instruction::setHasNoUnsignedWrap' data-ref="_ZN4llvm11Instruction20setHasNoUnsignedWrapEb" data-ref-filename="_ZN4llvm11Instruction20setHasNoUnsignedWrapEb">setHasNoUnsignedWrap</a>(<b>true</b>);</td></tr>
<tr><th id="408">408</th><td></td></tr>
<tr><th id="409">409</th><td>          <b>if</b> (<a class="local col8 ref" href="#58IsNSW" title='IsNSW' data-ref="58IsNSW" data-ref-filename="58IsNSW">IsNSW</a>)</td></tr>
<tr><th id="410">410</th><td>            <a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction18setHasNoSignedWrapEb" title='llvm::Instruction::setHasNoSignedWrap' data-ref="_ZN4llvm11Instruction18setHasNoSignedWrapEb" data-ref-filename="_ZN4llvm11Instruction18setHasNoSignedWrapEb">setHasNoSignedWrap</a>(<b>true</b>);</td></tr>
<tr><th id="411">411</th><td></td></tr>
<tr><th id="412">412</th><td>          <a class="local col0 ref" href="#50Changed" title='Changed' data-ref="50Changed" data-ref-filename="50Changed">Changed</a> = <b>true</b>;</td></tr>
<tr><th id="413">413</th><td>          <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#126" title='NumReassoc' data-ref="NumReassoc" data-ref-filename="NumReassoc">NumReassoc</a>;</td></tr>
<tr><th id="414">414</th><td>          <b>continue</b>;</td></tr>
<tr><th id="415">415</th><td>        }</td></tr>
<tr><th id="416">416</th><td>      }</td></tr>
<tr><th id="417">417</th><td></td></tr>
<tr><th id="418">418</th><td>      <i>// Transform: "A op (B op C)" ==&gt; "(A op B) op C" if "A op B" simplifies.</i></td></tr>
<tr><th id="419">419</th><td>      <b>if</b> (<a class="local col2 ref" href="#52Op1" title='Op1' data-ref="52Op1" data-ref-filename="52Op1">Op1</a> &amp;&amp; <a class="local col2 ref" href="#52Op1" title='Op1' data-ref="52Op1" data-ref-filename="52Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>() == <a class="local col9 ref" href="#49Opcode" title='Opcode' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</a>) {</td></tr>
<tr><th id="420">420</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="59A" title='A' data-type='llvm::Value *' data-ref="59A" data-ref-filename="59A">A</dfn> = <a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="421">421</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="60B" title='B' data-type='llvm::Value *' data-ref="60B" data-ref-filename="60B">B</dfn> = <a class="local col2 ref" href="#52Op1" title='Op1' data-ref="52Op1" data-ref-filename="52Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="422">422</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="61C" title='C' data-type='llvm::Value *' data-ref="61C" data-ref-filename="61C">C</dfn> = <a class="local col2 ref" href="#52Op1" title='Op1' data-ref="52Op1" data-ref-filename="52Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="423">423</th><td></td></tr>
<tr><th id="424">424</th><td>        <i>// Does "A op B" simplify?</i></td></tr>
<tr><th id="425">425</th><td>        <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="62V" title='V' data-type='llvm::Value *' data-ref="62V" data-ref-filename="62V"><a class="local col2 ref" href="#62V" title='V' data-ref="62V" data-ref-filename="62V">V</a></dfn> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col9 ref" href="#49Opcode" title='Opcode' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</a>, <a class="local col9 ref" href="#59A" title='A' data-ref="59A" data-ref-filename="59A">A</a>, <a class="local col0 ref" href="#60B" title='B' data-ref="60B" data-ref-filename="60B">B</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::SQ" title='llvm::InstCombiner::SQ' data-ref="llvm::InstCombiner::SQ" data-ref-filename="llvm..InstCombiner..SQ">SQ</a>.<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" title='llvm::SimplifyQuery::getWithInstruction' data-ref="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" data-ref-filename="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE">getWithInstruction</a>(&amp;<a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>))) {</td></tr>
<tr><th id="426">426</th><td>          <i>// It simplifies to V.  Form "V op C".</i></td></tr>
<tr><th id="427">427</th><td>          <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>, <var>0</var>, <a class="local col2 ref" href="#62V" title='V' data-ref="62V" data-ref-filename="62V">V</a>);</td></tr>
<tr><th id="428">428</th><td>          <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>, <var>1</var>, <a class="local col1 ref" href="#61C" title='C' data-ref="61C" data-ref-filename="61C">C</a>);</td></tr>
<tr><th id="429">429</th><td>          <i>// Conservatively clear the optional flags, since they may not be</i></td></tr>
<tr><th id="430">430</th><td><i>          // preserved by the reassociation.</i></td></tr>
<tr><th id="431">431</th><td>          <a class="tu ref fn" href="#_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE" title='ClearSubclassDataAfterReassociation' data-use='c' data-ref="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE" data-ref-filename="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE">ClearSubclassDataAfterReassociation</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>);</td></tr>
<tr><th id="432">432</th><td>          <a class="local col0 ref" href="#50Changed" title='Changed' data-ref="50Changed" data-ref-filename="50Changed">Changed</a> = <b>true</b>;</td></tr>
<tr><th id="433">433</th><td>          <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#126" title='NumReassoc' data-ref="NumReassoc" data-ref-filename="NumReassoc">NumReassoc</a>;</td></tr>
<tr><th id="434">434</th><td>          <b>continue</b>;</td></tr>
<tr><th id="435">435</th><td>        }</td></tr>
<tr><th id="436">436</th><td>      }</td></tr>
<tr><th id="437">437</th><td>    }</td></tr>
<tr><th id="438">438</th><td></td></tr>
<tr><th id="439">439</th><td>    <b>if</b> (<a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction13isAssociativeEv" title='llvm::Instruction::isAssociative' data-ref="_ZNK4llvm11Instruction13isAssociativeEv" data-ref-filename="_ZNK4llvm11Instruction13isAssociativeEv">isAssociative</a>() &amp;&amp; <a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction13isCommutativeEv" title='llvm::Instruction::isCommutative' data-ref="_ZNK4llvm11Instruction13isCommutativeEv" data-ref-filename="_ZNK4llvm11Instruction13isCommutativeEv">isCommutative</a>()) {</td></tr>
<tr><th id="440">440</th><td>      <b>if</b> (<a class="tu ref fn" href="#_ZL22simplifyAssocCastAssocPN4llvm14BinaryOperatorERNS_16InstCombinerImplE" title='simplifyAssocCastAssoc' data-use='c' data-ref="_ZL22simplifyAssocCastAssocPN4llvm14BinaryOperatorERNS_16InstCombinerImplE" data-ref-filename="_ZL22simplifyAssocCastAssocPN4llvm14BinaryOperatorERNS_16InstCombinerImplE">simplifyAssocCastAssoc</a>(&amp;<a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>, <span class='refarg'>*<b>this</b></span>)) {</td></tr>
<tr><th id="441">441</th><td>        <a class="local col0 ref" href="#50Changed" title='Changed' data-ref="50Changed" data-ref-filename="50Changed">Changed</a> = <b>true</b>;</td></tr>
<tr><th id="442">442</th><td>        <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#126" title='NumReassoc' data-ref="NumReassoc" data-ref-filename="NumReassoc">NumReassoc</a>;</td></tr>
<tr><th id="443">443</th><td>        <b>continue</b>;</td></tr>
<tr><th id="444">444</th><td>      }</td></tr>
<tr><th id="445">445</th><td></td></tr>
<tr><th id="446">446</th><td>      <i>// Transform: "(A op B) op C" ==&gt; "(C op A) op B" if "C op A" simplifies.</i></td></tr>
<tr><th id="447">447</th><td>      <b>if</b> (<a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a> &amp;&amp; <a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>() == <a class="local col9 ref" href="#49Opcode" title='Opcode' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</a>) {</td></tr>
<tr><th id="448">448</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="63A" title='A' data-type='llvm::Value *' data-ref="63A" data-ref-filename="63A">A</dfn> = <a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="449">449</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="64B" title='B' data-type='llvm::Value *' data-ref="64B" data-ref-filename="64B">B</dfn> = <a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="450">450</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="65C" title='C' data-type='llvm::Value *' data-ref="65C" data-ref-filename="65C">C</dfn> = <a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="451">451</th><td></td></tr>
<tr><th id="452">452</th><td>        <i>// Does "C op A" simplify?</i></td></tr>
<tr><th id="453">453</th><td>        <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="66V" title='V' data-type='llvm::Value *' data-ref="66V" data-ref-filename="66V"><a class="local col6 ref" href="#66V" title='V' data-ref="66V" data-ref-filename="66V">V</a></dfn> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col9 ref" href="#49Opcode" title='Opcode' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</a>, <a class="local col5 ref" href="#65C" title='C' data-ref="65C" data-ref-filename="65C">C</a>, <a class="local col3 ref" href="#63A" title='A' data-ref="63A" data-ref-filename="63A">A</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::SQ" title='llvm::InstCombiner::SQ' data-ref="llvm::InstCombiner::SQ" data-ref-filename="llvm..InstCombiner..SQ">SQ</a>.<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" title='llvm::SimplifyQuery::getWithInstruction' data-ref="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" data-ref-filename="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE">getWithInstruction</a>(&amp;<a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>))) {</td></tr>
<tr><th id="454">454</th><td>          <i>// It simplifies to V.  Form "V op B".</i></td></tr>
<tr><th id="455">455</th><td>          <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>, <var>0</var>, <a class="local col6 ref" href="#66V" title='V' data-ref="66V" data-ref-filename="66V">V</a>);</td></tr>
<tr><th id="456">456</th><td>          <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>, <var>1</var>, <a class="local col4 ref" href="#64B" title='B' data-ref="64B" data-ref-filename="64B">B</a>);</td></tr>
<tr><th id="457">457</th><td>          <i>// Conservatively clear the optional flags, since they may not be</i></td></tr>
<tr><th id="458">458</th><td><i>          // preserved by the reassociation.</i></td></tr>
<tr><th id="459">459</th><td>          <a class="tu ref fn" href="#_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE" title='ClearSubclassDataAfterReassociation' data-use='c' data-ref="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE" data-ref-filename="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE">ClearSubclassDataAfterReassociation</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>);</td></tr>
<tr><th id="460">460</th><td>          <a class="local col0 ref" href="#50Changed" title='Changed' data-ref="50Changed" data-ref-filename="50Changed">Changed</a> = <b>true</b>;</td></tr>
<tr><th id="461">461</th><td>          <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#126" title='NumReassoc' data-ref="NumReassoc" data-ref-filename="NumReassoc">NumReassoc</a>;</td></tr>
<tr><th id="462">462</th><td>          <b>continue</b>;</td></tr>
<tr><th id="463">463</th><td>        }</td></tr>
<tr><th id="464">464</th><td>      }</td></tr>
<tr><th id="465">465</th><td></td></tr>
<tr><th id="466">466</th><td>      <i>// Transform: "A op (B op C)" ==&gt; "B op (C op A)" if "C op A" simplifies.</i></td></tr>
<tr><th id="467">467</th><td>      <b>if</b> (<a class="local col2 ref" href="#52Op1" title='Op1' data-ref="52Op1" data-ref-filename="52Op1">Op1</a> &amp;&amp; <a class="local col2 ref" href="#52Op1" title='Op1' data-ref="52Op1" data-ref-filename="52Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>() == <a class="local col9 ref" href="#49Opcode" title='Opcode' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</a>) {</td></tr>
<tr><th id="468">468</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="67A" title='A' data-type='llvm::Value *' data-ref="67A" data-ref-filename="67A">A</dfn> = <a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="469">469</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="68B" title='B' data-type='llvm::Value *' data-ref="68B" data-ref-filename="68B">B</dfn> = <a class="local col2 ref" href="#52Op1" title='Op1' data-ref="52Op1" data-ref-filename="52Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="470">470</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="69C" title='C' data-type='llvm::Value *' data-ref="69C" data-ref-filename="69C">C</dfn> = <a class="local col2 ref" href="#52Op1" title='Op1' data-ref="52Op1" data-ref-filename="52Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="471">471</th><td></td></tr>
<tr><th id="472">472</th><td>        <i>// Does "C op A" simplify?</i></td></tr>
<tr><th id="473">473</th><td>        <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="70V" title='V' data-type='llvm::Value *' data-ref="70V" data-ref-filename="70V"><a class="local col0 ref" href="#70V" title='V' data-ref="70V" data-ref-filename="70V">V</a></dfn> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col9 ref" href="#49Opcode" title='Opcode' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</a>, <a class="local col9 ref" href="#69C" title='C' data-ref="69C" data-ref-filename="69C">C</a>, <a class="local col7 ref" href="#67A" title='A' data-ref="67A" data-ref-filename="67A">A</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::SQ" title='llvm::InstCombiner::SQ' data-ref="llvm::InstCombiner::SQ" data-ref-filename="llvm..InstCombiner..SQ">SQ</a>.<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" title='llvm::SimplifyQuery::getWithInstruction' data-ref="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" data-ref-filename="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE">getWithInstruction</a>(&amp;<a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>))) {</td></tr>
<tr><th id="474">474</th><td>          <i>// It simplifies to V.  Form "B op V".</i></td></tr>
<tr><th id="475">475</th><td>          <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>, <var>0</var>, <a class="local col8 ref" href="#68B" title='B' data-ref="68B" data-ref-filename="68B">B</a>);</td></tr>
<tr><th id="476">476</th><td>          <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>, <var>1</var>, <a class="local col0 ref" href="#70V" title='V' data-ref="70V" data-ref-filename="70V">V</a>);</td></tr>
<tr><th id="477">477</th><td>          <i>// Conservatively clear the optional flags, since they may not be</i></td></tr>
<tr><th id="478">478</th><td><i>          // preserved by the reassociation.</i></td></tr>
<tr><th id="479">479</th><td>          <a class="tu ref fn" href="#_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE" title='ClearSubclassDataAfterReassociation' data-use='c' data-ref="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE" data-ref-filename="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE">ClearSubclassDataAfterReassociation</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>);</td></tr>
<tr><th id="480">480</th><td>          <a class="local col0 ref" href="#50Changed" title='Changed' data-ref="50Changed" data-ref-filename="50Changed">Changed</a> = <b>true</b>;</td></tr>
<tr><th id="481">481</th><td>          <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#126" title='NumReassoc' data-ref="NumReassoc" data-ref-filename="NumReassoc">NumReassoc</a>;</td></tr>
<tr><th id="482">482</th><td>          <b>continue</b>;</td></tr>
<tr><th id="483">483</th><td>        }</td></tr>
<tr><th id="484">484</th><td>      }</td></tr>
<tr><th id="485">485</th><td></td></tr>
<tr><th id="486">486</th><td>      <i>// Transform: "(A op C1) op (B op C2)" ==&gt; "(A op B) op (C1 op C2)"</i></td></tr>
<tr><th id="487">487</th><td><i>      // if C1 and C2 are constants.</i></td></tr>
<tr><th id="488">488</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="71A" title='A' data-type='llvm::Value *' data-ref="71A" data-ref-filename="71A">A</dfn>, *<dfn class="local col2 decl" id="72B" title='B' data-type='llvm::Value *' data-ref="72B" data-ref-filename="72B">B</dfn>;</td></tr>
<tr><th id="489">489</th><td>      <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col3 decl" id="73C1" title='C1' data-type='llvm::Constant *' data-ref="73C1" data-ref-filename="73C1">C1</dfn>, *<dfn class="local col4 decl" id="74C2" title='C2' data-type='llvm::Constant *' data-ref="74C2" data-ref-filename="74C2">C2</dfn>;</td></tr>
<tr><th id="490">490</th><td>      <b>if</b> (<a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a> &amp;&amp; <a class="local col2 ref" href="#52Op1" title='Op1' data-ref="52Op1" data-ref-filename="52Op1">Op1</a> &amp;&amp;</td></tr>
<tr><th id="491">491</th><td>          <a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>() == <a class="local col9 ref" href="#49Opcode" title='Opcode' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</a> &amp;&amp; <a class="local col2 ref" href="#52Op1" title='Op1' data-ref="52Op1" data-ref-filename="52Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>() == <a class="local col9 ref" href="#49Opcode" title='Opcode' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</a> &amp;&amp;</td></tr>
<tr><th id="492">492</th><td>          <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch8m_OneUseERKT_" title='llvm::PatternMatch::m_OneUse' data-ref="_ZN4llvm12PatternMatch8m_OneUseERKT_" data-ref-filename="_ZN4llvm12PatternMatch8m_OneUseERKT_">m_OneUse</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_BinOpERKT_RKT0_" title='llvm::PatternMatch::m_BinOp' data-ref="_ZN4llvm12PatternMatch7m_BinOpERKT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch7m_BinOpERKT_RKT0_">m_BinOp</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col1 ref" href="#71A" title='A' data-ref="71A" data-ref-filename="71A">A</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" title='llvm::PatternMatch::m_Constant' data-ref="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" data-ref-filename="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE">m_Constant</a>(<span class='refarg'><a class="local col3 ref" href="#73C1" title='C1' data-ref="73C1" data-ref-filename="73C1">C1</a></span>)))) &amp;&amp;</td></tr>
<tr><th id="493">493</th><td>          <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col2 ref" href="#52Op1" title='Op1' data-ref="52Op1" data-ref-filename="52Op1">Op1</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch8m_OneUseERKT_" title='llvm::PatternMatch::m_OneUse' data-ref="_ZN4llvm12PatternMatch8m_OneUseERKT_" data-ref-filename="_ZN4llvm12PatternMatch8m_OneUseERKT_">m_OneUse</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_BinOpERKT_RKT0_" title='llvm::PatternMatch::m_BinOp' data-ref="_ZN4llvm12PatternMatch7m_BinOpERKT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch7m_BinOpERKT_RKT0_">m_BinOp</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col2 ref" href="#72B" title='B' data-ref="72B" data-ref-filename="72B">B</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" title='llvm::PatternMatch::m_Constant' data-ref="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" data-ref-filename="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE">m_Constant</a>(<span class='refarg'><a class="local col4 ref" href="#74C2" title='C2' data-ref="74C2" data-ref-filename="74C2">C2</a></span>))))) {</td></tr>
<tr><th id="494">494</th><td>        <em>bool</em> <dfn class="local col5 decl" id="75IsNUW" title='IsNUW' data-type='bool' data-ref="75IsNUW" data-ref-filename="75IsNUW">IsNUW</dfn> = <a class="tu ref fn" href="#_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE" title='hasNoUnsignedWrap' data-use='c' data-ref="_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE" data-ref-filename="_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE">hasNoUnsignedWrap</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>) &amp;&amp;</td></tr>
<tr><th id="495">495</th><td>           <a class="tu ref fn" href="#_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE" title='hasNoUnsignedWrap' data-use='c' data-ref="_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE" data-ref-filename="_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE">hasNoUnsignedWrap</a>(<span class='refarg'>*<a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a></span>) &amp;&amp;</td></tr>
<tr><th id="496">496</th><td>           <a class="tu ref fn" href="#_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE" title='hasNoUnsignedWrap' data-use='c' data-ref="_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE" data-ref-filename="_ZL17hasNoUnsignedWrapRN4llvm14BinaryOperatorE">hasNoUnsignedWrap</a>(<span class='refarg'>*<a class="local col2 ref" href="#52Op1" title='Op1' data-ref="52Op1" data-ref-filename="52Op1">Op1</a></span>);</td></tr>
<tr><th id="497">497</th><td>         <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> *<dfn class="local col6 decl" id="76NewBO" title='NewBO' data-type='llvm::BinaryOperator *' data-ref="76NewBO" data-ref-filename="76NewBO">NewBO</dfn> = (<a class="local col5 ref" href="#75IsNUW" title='IsNUW' data-ref="75IsNUW" data-ref-filename="75IsNUW">IsNUW</a> &amp;&amp; <a class="local col9 ref" href="#49Opcode" title='Opcode' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</a> == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#147" title='llvm::Instruction::Add' data-ref="llvm::Instruction::Add" data-ref-filename="llvm..Instruction..Add">Add</a>) ?</td></tr>
<tr><th id="498">498</th><td>           <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>::<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm14BinaryOperator9CreateNUWENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineE" title='llvm::BinaryOperator::CreateNUW' data-ref="_ZN4llvm14BinaryOperator9CreateNUWENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineE" data-ref-filename="_ZN4llvm14BinaryOperator9CreateNUWENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineE">CreateNUW</a>(<a class="local col9 ref" href="#49Opcode" title='Opcode' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</a>, <a class="local col1 ref" href="#71A" title='A' data-ref="71A" data-ref-filename="71A">A</a>, <a class="local col2 ref" href="#72B" title='B' data-ref="72B" data-ref-filename="72B">B</a>) :</td></tr>
<tr><th id="499">499</th><td>           <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>::<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm14BinaryOperator6CreateENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPS1_" title='llvm::BinaryOperator::Create' data-ref="_ZN4llvm14BinaryOperator6CreateENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPS1_" data-ref-filename="_ZN4llvm14BinaryOperator6CreateENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPS1_">Create</a>(<a class="local col9 ref" href="#49Opcode" title='Opcode' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</a>, <a class="local col1 ref" href="#71A" title='A' data-ref="71A" data-ref-filename="71A">A</a>, <a class="local col2 ref" href="#72B" title='B' data-ref="72B" data-ref-filename="72B">B</a>);</td></tr>
<tr><th id="500">500</th><td></td></tr>
<tr><th id="501">501</th><td>         <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::FPMathOperator" title='llvm::FPMathOperator' data-ref="llvm::FPMathOperator" data-ref-filename="llvm..FPMathOperator">FPMathOperator</a>&gt;(<a class="local col6 ref" href="#76NewBO" title='NewBO' data-ref="76NewBO" data-ref-filename="76NewBO">NewBO</a>)) {</td></tr>
<tr><th id="502">502</th><td>          <a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::FastMathFlags" title='llvm::FastMathFlags' data-ref="llvm::FastMathFlags" data-ref-filename="llvm..FastMathFlags">FastMathFlags</a> <dfn class="local col7 decl" id="77Flags" title='Flags' data-type='llvm::FastMathFlags' data-ref="77Flags" data-ref-filename="77Flags">Flags</dfn> = <a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction16getFastMathFlagsEv" title='llvm::Instruction::getFastMathFlags' data-ref="_ZNK4llvm11Instruction16getFastMathFlagsEv" data-ref-filename="_ZNK4llvm11Instruction16getFastMathFlagsEv">getFastMathFlags</a>();</td></tr>
<tr><th id="503">503</th><td>          <a class="local col7 ref" href="#77Flags" title='Flags' data-ref="77Flags" data-ref-filename="77Flags">Flags</a> <a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZN4llvm13FastMathFlagsaNERKS0_" title='llvm::FastMathFlags::operator&amp;=' data-ref="_ZN4llvm13FastMathFlagsaNERKS0_" data-ref-filename="_ZN4llvm13FastMathFlagsaNERKS0_">&amp;=</a> <a class="local col1 ref" href="#51Op0" title='Op0' data-ref="51Op0" data-ref-filename="51Op0">Op0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction16getFastMathFlagsEv" title='llvm::Instruction::getFastMathFlags' data-ref="_ZNK4llvm11Instruction16getFastMathFlagsEv" data-ref-filename="_ZNK4llvm11Instruction16getFastMathFlagsEv">getFastMathFlags</a>();</td></tr>
<tr><th id="504">504</th><td>          <a class="local col7 ref" href="#77Flags" title='Flags' data-ref="77Flags" data-ref-filename="77Flags">Flags</a> <a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZN4llvm13FastMathFlagsaNERKS0_" title='llvm::FastMathFlags::operator&amp;=' data-ref="_ZN4llvm13FastMathFlagsaNERKS0_" data-ref-filename="_ZN4llvm13FastMathFlagsaNERKS0_">&amp;=</a> <a class="local col2 ref" href="#52Op1" title='Op1' data-ref="52Op1" data-ref-filename="52Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction16getFastMathFlagsEv" title='llvm::Instruction::getFastMathFlags' data-ref="_ZNK4llvm11Instruction16getFastMathFlagsEv" data-ref-filename="_ZNK4llvm11Instruction16getFastMathFlagsEv">getFastMathFlags</a>();</td></tr>
<tr><th id="505">505</th><td>          <a class="local col6 ref" href="#76NewBO" title='NewBO' data-ref="76NewBO" data-ref-filename="76NewBO">NewBO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction16setFastMathFlagsENS_13FastMathFlagsE" title='llvm::Instruction::setFastMathFlags' data-ref="_ZN4llvm11Instruction16setFastMathFlagsENS_13FastMathFlagsE" data-ref-filename="_ZN4llvm11Instruction16setFastMathFlagsENS_13FastMathFlagsE">setFastMathFlags</a>(<a class="ref fn fake" href="../../../include/llvm/IR/Operator.h.html#160" title='llvm::FastMathFlags::FastMathFlags' data-ref="_ZN4llvm13FastMathFlagsC1ERKS0_" data-ref-filename="_ZN4llvm13FastMathFlagsC1ERKS0_"></a><a class="local col7 ref" href="#77Flags" title='Flags' data-ref="77Flags" data-ref-filename="77Flags">Flags</a>);</td></tr>
<tr><th id="506">506</th><td>        }</td></tr>
<tr><th id="507">507</th><td>        <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl17InsertNewInstWithEPNS_11InstructionERS1_" title='llvm::InstCombinerImpl::InsertNewInstWith' data-ref="_ZN4llvm16InstCombinerImpl17InsertNewInstWithEPNS_11InstructionERS1_" data-ref-filename="_ZN4llvm16InstCombinerImpl17InsertNewInstWithEPNS_11InstructionERS1_">InsertNewInstWith</a>(<a class="local col6 ref" href="#76NewBO" title='NewBO' data-ref="76NewBO" data-ref-filename="76NewBO">NewBO</a>, <span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>);</td></tr>
<tr><th id="508">508</th><td>        <a class="local col6 ref" href="#76NewBO" title='NewBO' data-ref="76NewBO" data-ref-filename="76NewBO">NewBO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value8takeNameEPS0_" title='llvm::Value::takeName' data-ref="_ZN4llvm5Value8takeNameEPS0_" data-ref-filename="_ZN4llvm5Value8takeNameEPS0_">takeName</a>(<a class="local col2 ref" href="#52Op1" title='Op1' data-ref="52Op1" data-ref-filename="52Op1">Op1</a>);</td></tr>
<tr><th id="509">509</th><td>        <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>, <var>0</var>, <a class="local col6 ref" href="#76NewBO" title='NewBO' data-ref="76NewBO" data-ref-filename="76NewBO">NewBO</a>);</td></tr>
<tr><th id="510">510</th><td>        <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>, <var>1</var>, <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" title='llvm::ConstantExpr::get' data-ref="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" data-ref-filename="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE">get</a>(<a class="local col9 ref" href="#49Opcode" title='Opcode' data-ref="49Opcode" data-ref-filename="49Opcode">Opcode</a>, <a class="local col3 ref" href="#73C1" title='C1' data-ref="73C1" data-ref-filename="73C1">C1</a>, <a class="local col4 ref" href="#74C2" title='C2' data-ref="74C2" data-ref-filename="74C2">C2</a>));</td></tr>
<tr><th id="511">511</th><td>        <i>// Conservatively clear the optional flags, since they may not be</i></td></tr>
<tr><th id="512">512</th><td><i>        // preserved by the reassociation.</i></td></tr>
<tr><th id="513">513</th><td>        <a class="tu ref fn" href="#_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE" title='ClearSubclassDataAfterReassociation' data-use='c' data-ref="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE" data-ref-filename="_ZL35ClearSubclassDataAfterReassociationRN4llvm14BinaryOperatorE">ClearSubclassDataAfterReassociation</a>(<span class='refarg'><a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a></span>);</td></tr>
<tr><th id="514">514</th><td>        <b>if</b> (<a class="local col5 ref" href="#75IsNUW" title='IsNUW' data-ref="75IsNUW" data-ref-filename="75IsNUW">IsNUW</a>)</td></tr>
<tr><th id="515">515</th><td>          <a class="local col8 ref" href="#48I" title='I' data-ref="48I" data-ref-filename="48I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction20setHasNoUnsignedWrapEb" title='llvm::Instruction::setHasNoUnsignedWrap' data-ref="_ZN4llvm11Instruction20setHasNoUnsignedWrapEb" data-ref-filename="_ZN4llvm11Instruction20setHasNoUnsignedWrapEb">setHasNoUnsignedWrap</a>(<b>true</b>);</td></tr>
<tr><th id="516">516</th><td></td></tr>
<tr><th id="517">517</th><td>        <a class="local col0 ref" href="#50Changed" title='Changed' data-ref="50Changed" data-ref-filename="50Changed">Changed</a> = <b>true</b>;</td></tr>
<tr><th id="518">518</th><td>        <b>continue</b>;</td></tr>
<tr><th id="519">519</th><td>      }</td></tr>
<tr><th id="520">520</th><td>    }</td></tr>
<tr><th id="521">521</th><td></td></tr>
<tr><th id="522">522</th><td>    <i>// No further simplifications.</i></td></tr>
<tr><th id="523">523</th><td>    <b>return</b> <a class="local col0 ref" href="#50Changed" title='Changed' data-ref="50Changed" data-ref-filename="50Changed">Changed</a>;</td></tr>
<tr><th id="524">524</th><td>  } <b>while</b> (<b>true</b>);</td></tr>
<tr><th id="525">525</th><td>}</td></tr>
<tr><th id="526">526</th><td></td></tr>
<tr><th id="527">527</th><td><i class="doc" data-doc="_ZL24leftDistributesOverRightN4llvm11Instruction9BinaryOpsES1_">/// Return whether "X LOp (Y ROp Z)" is always equal to</i></td></tr>
<tr><th id="528">528</th><td><i class="doc" data-doc="_ZL24leftDistributesOverRightN4llvm11Instruction9BinaryOpsES1_">/// "(X LOp Y) ROp (X LOp Z)".</i></td></tr>
<tr><th id="529">529</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL24leftDistributesOverRightN4llvm11Instruction9BinaryOpsES1_" title='leftDistributesOverRight' data-type='bool leftDistributesOverRight(Instruction::BinaryOps LOp, Instruction::BinaryOps ROp)' data-ref="_ZL24leftDistributesOverRightN4llvm11Instruction9BinaryOpsES1_" data-ref-filename="_ZL24leftDistributesOverRightN4llvm11Instruction9BinaryOpsES1_">leftDistributesOverRight</dfn>(<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col8 decl" id="78LOp" title='LOp' data-type='Instruction::BinaryOps' data-ref="78LOp" data-ref-filename="78LOp">LOp</dfn>,</td></tr>
<tr><th id="530">530</th><td>                                     <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col9 decl" id="79ROp" title='ROp' data-type='Instruction::BinaryOps' data-ref="79ROp" data-ref-filename="79ROp">ROp</dfn>) {</td></tr>
<tr><th id="531">531</th><td>  <i>// X &amp; (Y | Z) &lt;--&gt; (X &amp; Y) | (X &amp; Z)</i></td></tr>
<tr><th id="532">532</th><td><i>  // X &amp; (Y ^ Z) &lt;--&gt; (X &amp; Y) ^ (X &amp; Z)</i></td></tr>
<tr><th id="533">533</th><td>  <b>if</b> (<a class="local col8 ref" href="#78LOp" title='LOp' data-ref="78LOp" data-ref-filename="78LOp">LOp</a> == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#164" title='llvm::Instruction::And' data-ref="llvm::Instruction::And" data-ref-filename="llvm..Instruction..And">And</a>)</td></tr>
<tr><th id="534">534</th><td>    <b>return</b> <a class="local col9 ref" href="#79ROp" title='ROp' data-ref="79ROp" data-ref-filename="79ROp">ROp</a> == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#165" title='llvm::Instruction::Or' data-ref="llvm::Instruction::Or" data-ref-filename="llvm..Instruction..Or">Or</a> || <a class="local col9 ref" href="#79ROp" title='ROp' data-ref="79ROp" data-ref-filename="79ROp">ROp</a> == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#166" title='llvm::Instruction::Xor' data-ref="llvm::Instruction::Xor" data-ref-filename="llvm..Instruction..Xor">Xor</a>;</td></tr>
<tr><th id="535">535</th><td></td></tr>
<tr><th id="536">536</th><td>  <i>// X | (Y &amp; Z) &lt;--&gt; (X | Y) &amp; (X | Z)</i></td></tr>
<tr><th id="537">537</th><td>  <b>if</b> (<a class="local col8 ref" href="#78LOp" title='LOp' data-ref="78LOp" data-ref-filename="78LOp">LOp</a> == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#165" title='llvm::Instruction::Or' data-ref="llvm::Instruction::Or" data-ref-filename="llvm..Instruction..Or">Or</a>)</td></tr>
<tr><th id="538">538</th><td>    <b>return</b> <a class="local col9 ref" href="#79ROp" title='ROp' data-ref="79ROp" data-ref-filename="79ROp">ROp</a> == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#164" title='llvm::Instruction::And' data-ref="llvm::Instruction::And" data-ref-filename="llvm..Instruction..And">And</a>;</td></tr>
<tr><th id="539">539</th><td></td></tr>
<tr><th id="540">540</th><td>  <i>// X * (Y + Z) &lt;--&gt; (X * Y) + (X * Z)</i></td></tr>
<tr><th id="541">541</th><td><i>  // X * (Y - Z) &lt;--&gt; (X * Y) - (X * Z)</i></td></tr>
<tr><th id="542">542</th><td>  <b>if</b> (<a class="local col8 ref" href="#78LOp" title='LOp' data-ref="78LOp" data-ref-filename="78LOp">LOp</a> == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#151" title='llvm::Instruction::Mul' data-ref="llvm::Instruction::Mul" data-ref-filename="llvm..Instruction..Mul">Mul</a>)</td></tr>
<tr><th id="543">543</th><td>    <b>return</b> <a class="local col9 ref" href="#79ROp" title='ROp' data-ref="79ROp" data-ref-filename="79ROp">ROp</a> == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#147" title='llvm::Instruction::Add' data-ref="llvm::Instruction::Add" data-ref-filename="llvm..Instruction..Add">Add</a> || <a class="local col9 ref" href="#79ROp" title='ROp' data-ref="79ROp" data-ref-filename="79ROp">ROp</a> == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#149" title='llvm::Instruction::Sub' data-ref="llvm::Instruction::Sub" data-ref-filename="llvm..Instruction..Sub">Sub</a>;</td></tr>
<tr><th id="544">544</th><td></td></tr>
<tr><th id="545">545</th><td>  <b>return</b> <b>false</b>;</td></tr>
<tr><th id="546">546</th><td>}</td></tr>
<tr><th id="547">547</th><td></td></tr>
<tr><th id="548">548</th><td><i class="doc" data-doc="_ZL24rightDistributesOverLeftN4llvm11Instruction9BinaryOpsES1_">/// Return whether "(X LOp Y) ROp Z" is always equal to</i></td></tr>
<tr><th id="549">549</th><td><i class="doc" data-doc="_ZL24rightDistributesOverLeftN4llvm11Instruction9BinaryOpsES1_">/// "(X ROp Z) LOp (Y ROp Z)".</i></td></tr>
<tr><th id="550">550</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL24rightDistributesOverLeftN4llvm11Instruction9BinaryOpsES1_" title='rightDistributesOverLeft' data-type='bool rightDistributesOverLeft(Instruction::BinaryOps LOp, Instruction::BinaryOps ROp)' data-ref="_ZL24rightDistributesOverLeftN4llvm11Instruction9BinaryOpsES1_" data-ref-filename="_ZL24rightDistributesOverLeftN4llvm11Instruction9BinaryOpsES1_">rightDistributesOverLeft</dfn>(<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col0 decl" id="80LOp" title='LOp' data-type='Instruction::BinaryOps' data-ref="80LOp" data-ref-filename="80LOp">LOp</dfn>,</td></tr>
<tr><th id="551">551</th><td>                                     <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col1 decl" id="81ROp" title='ROp' data-type='Instruction::BinaryOps' data-ref="81ROp" data-ref-filename="81ROp">ROp</dfn>) {</td></tr>
<tr><th id="552">552</th><td>  <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction13isCommutativeEj" title='llvm::Instruction::isCommutative' data-ref="_ZN4llvm11Instruction13isCommutativeEj" data-ref-filename="_ZN4llvm11Instruction13isCommutativeEj">isCommutative</a>(<a class="local col1 ref" href="#81ROp" title='ROp' data-ref="81ROp" data-ref-filename="81ROp">ROp</a>))</td></tr>
<tr><th id="553">553</th><td>    <b>return</b> <a class="tu ref fn" href="#_ZL24leftDistributesOverRightN4llvm11Instruction9BinaryOpsES1_" title='leftDistributesOverRight' data-use='c' data-ref="_ZL24leftDistributesOverRightN4llvm11Instruction9BinaryOpsES1_" data-ref-filename="_ZL24leftDistributesOverRightN4llvm11Instruction9BinaryOpsES1_">leftDistributesOverRight</a>(<a class="local col1 ref" href="#81ROp" title='ROp' data-ref="81ROp" data-ref-filename="81ROp">ROp</a>, <a class="local col0 ref" href="#80LOp" title='LOp' data-ref="80LOp" data-ref-filename="80LOp">LOp</a>);</td></tr>
<tr><th id="554">554</th><td></td></tr>
<tr><th id="555">555</th><td>  <i>// (X {&amp;|^} Y) &gt;&gt; Z &lt;--&gt; (X &gt;&gt; Z) {&amp;|^} (Y &gt;&gt; Z) for all shifts.</i></td></tr>
<tr><th id="556">556</th><td>  <b>return</b> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction16isBitwiseLogicOpEj" title='llvm::Instruction::isBitwiseLogicOp' data-ref="_ZN4llvm11Instruction16isBitwiseLogicOpEj" data-ref-filename="_ZN4llvm11Instruction16isBitwiseLogicOpEj">isBitwiseLogicOp</a>(<a class="local col0 ref" href="#80LOp" title='LOp' data-ref="80LOp" data-ref-filename="80LOp">LOp</a>) &amp;&amp; <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction7isShiftEj" title='llvm::Instruction::isShift' data-ref="_ZN4llvm11Instruction7isShiftEj" data-ref-filename="_ZN4llvm11Instruction7isShiftEj">isShift</a>(<a class="local col1 ref" href="#81ROp" title='ROp' data-ref="81ROp" data-ref-filename="81ROp">ROp</a>);</td></tr>
<tr><th id="557">557</th><td></td></tr>
<tr><th id="558">558</th><td>  <i>// TODO: It would be nice to handle division, aka "(X + Y)/Z = X/Z + Y/Z",</i></td></tr>
<tr><th id="559">559</th><td><i>  // but this requires knowing that the addition does not overflow and other</i></td></tr>
<tr><th id="560">560</th><td><i>  // such subtleties.</i></td></tr>
<tr><th id="561">561</th><td>}</td></tr>
<tr><th id="562">562</th><td></td></tr>
<tr><th id="563">563</th><td><i class="doc" data-doc="_ZL16getIdentityValueN4llvm11Instruction9BinaryOpsEPNS_5ValueE">/// This function returns identity value for given opcode, which can be used to</i></td></tr>
<tr><th id="564">564</th><td><i class="doc" data-doc="_ZL16getIdentityValueN4llvm11Instruction9BinaryOpsEPNS_5ValueE">/// factor patterns like (X * 2) + X ==&gt; (X * 2) + (X * 1) ==&gt; X * (2 + 1).</i></td></tr>
<tr><th id="565">565</th><td><em>static</em> <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="tu decl def fn" id="_ZL16getIdentityValueN4llvm11Instruction9BinaryOpsEPNS_5ValueE" title='getIdentityValue' data-type='llvm::Value * getIdentityValue(Instruction::BinaryOps Opcode, llvm::Value * V)' data-ref="_ZL16getIdentityValueN4llvm11Instruction9BinaryOpsEPNS_5ValueE" data-ref-filename="_ZL16getIdentityValueN4llvm11Instruction9BinaryOpsEPNS_5ValueE">getIdentityValue</dfn>(<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col2 decl" id="82Opcode" title='Opcode' data-type='Instruction::BinaryOps' data-ref="82Opcode" data-ref-filename="82Opcode">Opcode</dfn>, <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="83V" title='V' data-type='llvm::Value *' data-ref="83V" data-ref-filename="83V">V</dfn>) {</td></tr>
<tr><th id="566">566</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col3 ref" href="#83V" title='V' data-ref="83V" data-ref-filename="83V">V</a>))</td></tr>
<tr><th id="567">567</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="568">568</th><td></td></tr>
<tr><th id="569">569</th><td>  <b>return</b> <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb" title='llvm::ConstantExpr::getBinOpIdentity' data-ref="_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb" data-ref-filename="_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb">getBinOpIdentity</a>(<a class="local col2 ref" href="#82Opcode" title='Opcode' data-ref="82Opcode" data-ref-filename="82Opcode">Opcode</a>, <a class="local col3 ref" href="#83V" title='V' data-ref="83V" data-ref-filename="83V">V</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="570">570</th><td>}</td></tr>
<tr><th id="571">571</th><td></td></tr>
<tr><th id="572">572</th><td><i class="doc" data-doc="_ZL25getBinOpsForFactorizationN4llvm11Instruction9BinaryOpsEPNS_14BinaryOperatorERPNS_5ValueES6_">/// This function predicates factorization using distributive laws. By default,</i></td></tr>
<tr><th id="573">573</th><td><i class="doc" data-doc="_ZL25getBinOpsForFactorizationN4llvm11Instruction9BinaryOpsEPNS_14BinaryOperatorERPNS_5ValueES6_">/// it just returns the 'Op' inputs. But for special-cases like</i></td></tr>
<tr><th id="574">574</th><td><i class="doc" data-doc="_ZL25getBinOpsForFactorizationN4llvm11Instruction9BinaryOpsEPNS_14BinaryOperatorERPNS_5ValueES6_">/// 'add(shl(X, 5), ...)', this function will have TopOpcode == Instruction::Add</i></td></tr>
<tr><th id="575">575</th><td><i class="doc" data-doc="_ZL25getBinOpsForFactorizationN4llvm11Instruction9BinaryOpsEPNS_14BinaryOperatorERPNS_5ValueES6_">/// and Op = shl(X, 5). The 'shl' is treated as the more general 'mul X, 32' to</i></td></tr>
<tr><th id="576">576</th><td><i class="doc" data-doc="_ZL25getBinOpsForFactorizationN4llvm11Instruction9BinaryOpsEPNS_14BinaryOperatorERPNS_5ValueES6_">/// allow more factorization opportunities.</i></td></tr>
<tr><th id="577">577</th><td><em>static</em> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a></td></tr>
<tr><th id="578">578</th><td><dfn class="tu decl def fn" id="_ZL25getBinOpsForFactorizationN4llvm11Instruction9BinaryOpsEPNS_14BinaryOperatorERPNS_5ValueES6_" title='getBinOpsForFactorization' data-type='Instruction::BinaryOps getBinOpsForFactorization(Instruction::BinaryOps TopOpcode, llvm::BinaryOperator * Op, llvm::Value *&amp; LHS, llvm::Value *&amp; RHS)' data-ref="_ZL25getBinOpsForFactorizationN4llvm11Instruction9BinaryOpsEPNS_14BinaryOperatorERPNS_5ValueES6_" data-ref-filename="_ZL25getBinOpsForFactorizationN4llvm11Instruction9BinaryOpsEPNS_14BinaryOperatorERPNS_5ValueES6_">getBinOpsForFactorization</dfn>(<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col4 decl" id="84TopOpcode" title='TopOpcode' data-type='Instruction::BinaryOps' data-ref="84TopOpcode" data-ref-filename="84TopOpcode">TopOpcode</dfn>, <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> *<dfn class="local col5 decl" id="85Op" title='Op' data-type='llvm::BinaryOperator *' data-ref="85Op" data-ref-filename="85Op">Op</dfn>,</td></tr>
<tr><th id="579">579</th><td>                          <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *&amp;<dfn class="local col6 decl" id="86LHS" title='LHS' data-type='llvm::Value *&amp;' data-ref="86LHS" data-ref-filename="86LHS">LHS</dfn>, <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *&amp;<dfn class="local col7 decl" id="87RHS" title='RHS' data-type='llvm::Value *&amp;' data-ref="87RHS" data-ref-filename="87RHS">RHS</dfn>) {</td></tr>
<tr><th id="580">580</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Op &amp;&amp; <q>"Expected a binary operator"</q>);</td></tr>
<tr><th id="581">581</th><td>  <a class="local col6 ref" href="#86LHS" title='LHS' data-ref="86LHS" data-ref-filename="86LHS">LHS</a> = <a class="local col5 ref" href="#85Op" title='Op' data-ref="85Op" data-ref-filename="85Op">Op</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="582">582</th><td>  <a class="local col7 ref" href="#87RHS" title='RHS' data-ref="87RHS" data-ref-filename="87RHS">RHS</a> = <a class="local col5 ref" href="#85Op" title='Op' data-ref="85Op" data-ref-filename="85Op">Op</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="583">583</th><td>  <b>if</b> (<a class="local col4 ref" href="#84TopOpcode" title='TopOpcode' data-ref="84TopOpcode" data-ref-filename="84TopOpcode">TopOpcode</a> == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#147" title='llvm::Instruction::Add' data-ref="llvm::Instruction::Add" data-ref-filename="llvm..Instruction..Add">Add</a> || <a class="local col4 ref" href="#84TopOpcode" title='TopOpcode' data-ref="84TopOpcode" data-ref-filename="84TopOpcode">TopOpcode</a> == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#149" title='llvm::Instruction::Sub' data-ref="llvm::Instruction::Sub" data-ref-filename="llvm..Instruction..Sub">Sub</a>) {</td></tr>
<tr><th id="584">584</th><td>    <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col8 decl" id="88C" title='C' data-type='llvm::Constant *' data-ref="88C" data-ref-filename="88C">C</dfn>;</td></tr>
<tr><th id="585">585</th><td>    <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col5 ref" href="#85Op" title='Op' data-ref="85Op" data-ref-filename="85Op">Op</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5m_ShlERKT_RKT0_" title='llvm::PatternMatch::m_Shl' data-ref="_ZN4llvm12PatternMatch5m_ShlERKT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5m_ShlERKT_RKT0_">m_Shl</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueEv" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueEv" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueEv">m_Value</a>(), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" title='llvm::PatternMatch::m_Constant' data-ref="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" data-ref-filename="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE">m_Constant</a>(<span class='refarg'><a class="local col8 ref" href="#88C" title='C' data-ref="88C" data-ref-filename="88C">C</a></span>)))) {</td></tr>
<tr><th id="586">586</th><td>      <i>// X &lt;&lt; C --&gt; X * (1 &lt;&lt; C)</i></td></tr>
<tr><th id="587">587</th><td>      <a class="local col7 ref" href="#87RHS" title='RHS' data-ref="87RHS" data-ref-filename="87RHS">RHS</a> = <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr6getShlEPNS_8ConstantES2_bb" title='llvm::ConstantExpr::getShl' data-ref="_ZN4llvm12ConstantExpr6getShlEPNS_8ConstantES2_bb" data-ref-filename="_ZN4llvm12ConstantExpr6getShlEPNS_8ConstantES2_bb">getShl</a>(<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_4TypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_4TypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_4TypeEmb">get</a>(<a class="local col5 ref" href="#85Op" title='Op' data-ref="85Op" data-ref-filename="85Op">Op</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <var>1</var>), <a class="local col8 ref" href="#88C" title='C' data-ref="88C" data-ref-filename="88C">C</a>);</td></tr>
<tr><th id="588">588</th><td>      <b>return</b> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#151" title='llvm::Instruction::Mul' data-ref="llvm::Instruction::Mul" data-ref-filename="llvm..Instruction..Mul">Mul</a>;</td></tr>
<tr><th id="589">589</th><td>    }</td></tr>
<tr><th id="590">590</th><td>    <i>// TODO: We can add other conversions e.g. shr =&gt; div etc.</i></td></tr>
<tr><th id="591">591</th><td>  }</td></tr>
<tr><th id="592">592</th><td>  <b>return</b> <a class="local col5 ref" href="#85Op" title='Op' data-ref="85Op" data-ref-filename="85Op">Op</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>();</td></tr>
<tr><th id="593">593</th><td>}</td></tr>
<tr><th id="594">594</th><td></td></tr>
<tr><th id="595">595</th><td><i class="doc">/// This tries to simplify binary operations by factorizing out common terms</i></td></tr>
<tr><th id="596">596</th><td><i class="doc">/// (e. g. "(A*B)+(A*C)" -&gt; "A*(B+C)").</i></td></tr>
<tr><th id="597">597</th><td><a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl16tryFactorizationERNS_14BinaryOperatorENS_11Instruction9BinaryOpsEPNS_5ValueES6_S6_S6_" title='llvm::InstCombinerImpl::tryFactorization' data-ref="_ZN4llvm16InstCombinerImpl16tryFactorizationERNS_14BinaryOperatorENS_11Instruction9BinaryOpsEPNS_5ValueES6_S6_S6_" data-ref-filename="_ZN4llvm16InstCombinerImpl16tryFactorizationERNS_14BinaryOperatorENS_11Instruction9BinaryOpsEPNS_5ValueES6_S6_S6_">tryFactorization</dfn>(<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> &amp;<dfn class="local col9 decl" id="89I" title='I' data-type='llvm::BinaryOperator &amp;' data-ref="89I" data-ref-filename="89I">I</dfn>,</td></tr>
<tr><th id="598">598</th><td>                                          <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col0 decl" id="90InnerOpcode" title='InnerOpcode' data-type='Instruction::BinaryOps' data-ref="90InnerOpcode" data-ref-filename="90InnerOpcode">InnerOpcode</dfn>,</td></tr>
<tr><th id="599">599</th><td>                                          <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="91A" title='A' data-type='llvm::Value *' data-ref="91A" data-ref-filename="91A">A</dfn>, <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="92B" title='B' data-type='llvm::Value *' data-ref="92B" data-ref-filename="92B">B</dfn>, <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="93C" title='C' data-type='llvm::Value *' data-ref="93C" data-ref-filename="93C">C</dfn>,</td></tr>
<tr><th id="600">600</th><td>                                          <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="94D" title='D' data-type='llvm::Value *' data-ref="94D" data-ref-filename="94D">D</dfn>) {</td></tr>
<tr><th id="601">601</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(A &amp;&amp; B &amp;&amp; C &amp;&amp; D &amp;&amp; <q>"All values must be provided"</q>);</td></tr>
<tr><th id="602">602</th><td></td></tr>
<tr><th id="603">603</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="95V" title='V' data-type='llvm::Value *' data-ref="95V" data-ref-filename="95V">V</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="604">604</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="96SimplifiedInst" title='SimplifiedInst' data-type='llvm::Value *' data-ref="96SimplifiedInst" data-ref-filename="96SimplifiedInst">SimplifiedInst</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="605">605</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="97LHS" title='LHS' data-type='llvm::Value *' data-ref="97LHS" data-ref-filename="97LHS">LHS</dfn> = <a class="local col9 ref" href="#89I" title='I' data-ref="89I" data-ref-filename="89I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>), *<dfn class="local col8 decl" id="98RHS" title='RHS' data-type='llvm::Value *' data-ref="98RHS" data-ref-filename="98RHS">RHS</dfn> = <a class="local col9 ref" href="#89I" title='I' data-ref="89I" data-ref-filename="89I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="606">606</th><td>  <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col9 decl" id="99TopLevelOpcode" title='TopLevelOpcode' data-type='Instruction::BinaryOps' data-ref="99TopLevelOpcode" data-ref-filename="99TopLevelOpcode">TopLevelOpcode</dfn> = <a class="local col9 ref" href="#89I" title='I' data-ref="89I" data-ref-filename="89I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>();</td></tr>
<tr><th id="607">607</th><td></td></tr>
<tr><th id="608">608</th><td>  <i>// Does "X op' Y" always equal "Y op' X"?</i></td></tr>
<tr><th id="609">609</th><td>  <em>bool</em> <dfn class="local col0 decl" id="100InnerCommutative" title='InnerCommutative' data-type='bool' data-ref="100InnerCommutative" data-ref-filename="100InnerCommutative">InnerCommutative</dfn> = <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction13isCommutativeEj" title='llvm::Instruction::isCommutative' data-ref="_ZN4llvm11Instruction13isCommutativeEj" data-ref-filename="_ZN4llvm11Instruction13isCommutativeEj">isCommutative</a>(<a class="local col0 ref" href="#90InnerOpcode" title='InnerOpcode' data-ref="90InnerOpcode" data-ref-filename="90InnerOpcode">InnerOpcode</a>);</td></tr>
<tr><th id="610">610</th><td></td></tr>
<tr><th id="611">611</th><td>  <i>// Does "X op' (Y op Z)" always equal "(X op' Y) op (X op' Z)"?</i></td></tr>
<tr><th id="612">612</th><td>  <b>if</b> (<a class="tu ref fn" href="#_ZL24leftDistributesOverRightN4llvm11Instruction9BinaryOpsES1_" title='leftDistributesOverRight' data-use='c' data-ref="_ZL24leftDistributesOverRightN4llvm11Instruction9BinaryOpsES1_" data-ref-filename="_ZL24leftDistributesOverRightN4llvm11Instruction9BinaryOpsES1_">leftDistributesOverRight</a>(<a class="local col0 ref" href="#90InnerOpcode" title='InnerOpcode' data-ref="90InnerOpcode" data-ref-filename="90InnerOpcode">InnerOpcode</a>, <a class="local col9 ref" href="#99TopLevelOpcode" title='TopLevelOpcode' data-ref="99TopLevelOpcode" data-ref-filename="99TopLevelOpcode">TopLevelOpcode</a>))</td></tr>
<tr><th id="613">613</th><td>    <i>// Does the instruction have the form "(A op' B) op (A op' D)" or, in the</i></td></tr>
<tr><th id="614">614</th><td><i>    // commutative case, "(A op' B) op (C op' A)"?</i></td></tr>
<tr><th id="615">615</th><td>    <b>if</b> (<a class="local col1 ref" href="#91A" title='A' data-ref="91A" data-ref-filename="91A">A</a> == <a class="local col3 ref" href="#93C" title='C' data-ref="93C" data-ref-filename="93C">C</a> || (<a class="local col0 ref" href="#100InnerCommutative" title='InnerCommutative' data-ref="100InnerCommutative" data-ref-filename="100InnerCommutative">InnerCommutative</a> &amp;&amp; <a class="local col1 ref" href="#91A" title='A' data-ref="91A" data-ref-filename="91A">A</a> == <a class="local col4 ref" href="#94D" title='D' data-ref="94D" data-ref-filename="94D">D</a>)) {</td></tr>
<tr><th id="616">616</th><td>      <b>if</b> (<a class="local col1 ref" href="#91A" title='A' data-ref="91A" data-ref-filename="91A">A</a> != <a class="local col3 ref" href="#93C" title='C' data-ref="93C" data-ref-filename="93C">C</a>)</td></tr>
<tr><th id="617">617</th><td>        <span class="namespace">std::</span><span class='ref fn' title='std::swap' data-ref="_ZSt4swapRT_S0_" data-ref-filename="_ZSt4swapRT_S0_">swap</span>(<span class='refarg'><a class="local col3 ref" href="#93C" title='C' data-ref="93C" data-ref-filename="93C">C</a></span>, <span class='refarg'><a class="local col4 ref" href="#94D" title='D' data-ref="94D" data-ref-filename="94D">D</a></span>);</td></tr>
<tr><th id="618">618</th><td>      <i>// Consider forming "A op' (B op D)".</i></td></tr>
<tr><th id="619">619</th><td><i>      // If "B op D" simplifies then it can be formed with no cost.</i></td></tr>
<tr><th id="620">620</th><td>      <a class="local col5 ref" href="#95V" title='V' data-ref="95V" data-ref-filename="95V">V</a> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col9 ref" href="#99TopLevelOpcode" title='TopLevelOpcode' data-ref="99TopLevelOpcode" data-ref-filename="99TopLevelOpcode">TopLevelOpcode</a>, <a class="local col2 ref" href="#92B" title='B' data-ref="92B" data-ref-filename="92B">B</a>, <a class="local col4 ref" href="#94D" title='D' data-ref="94D" data-ref-filename="94D">D</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::SQ" title='llvm::InstCombiner::SQ' data-ref="llvm::InstCombiner::SQ" data-ref-filename="llvm..InstCombiner..SQ">SQ</a>.<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" title='llvm::SimplifyQuery::getWithInstruction' data-ref="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" data-ref-filename="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE">getWithInstruction</a>(&amp;<a class="local col9 ref" href="#89I" title='I' data-ref="89I" data-ref-filename="89I">I</a>));</td></tr>
<tr><th id="621">621</th><td>      <i>// If "B op D" doesn't simplify then only go on if both of the existing</i></td></tr>
<tr><th id="622">622</th><td><i>      // operations "A op' B" and "C op' D" will be zapped as no longer used.</i></td></tr>
<tr><th id="623">623</th><td>      <b>if</b> (!<a class="local col5 ref" href="#95V" title='V' data-ref="95V" data-ref-filename="95V">V</a> &amp;&amp; <a class="local col7 ref" href="#97LHS" title='LHS' data-ref="97LHS" data-ref-filename="97LHS">LHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>() &amp;&amp; <a class="local col8 ref" href="#98RHS" title='RHS' data-ref="98RHS" data-ref-filename="98RHS">RHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>())</td></tr>
<tr><th id="624">624</th><td>        <a class="local col5 ref" href="#95V" title='V' data-ref="95V" data-ref-filename="95V">V</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col9 ref" href="#99TopLevelOpcode" title='TopLevelOpcode' data-ref="99TopLevelOpcode" data-ref-filename="99TopLevelOpcode">TopLevelOpcode</a>, <a class="local col2 ref" href="#92B" title='B' data-ref="92B" data-ref-filename="92B">B</a>, <a class="local col4 ref" href="#94D" title='D' data-ref="94D" data-ref-filename="94D">D</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col8 ref" href="#98RHS" title='RHS' data-ref="98RHS" data-ref-filename="98RHS">RHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>());</td></tr>
<tr><th id="625">625</th><td>      <b>if</b> (<a class="local col5 ref" href="#95V" title='V' data-ref="95V" data-ref-filename="95V">V</a>) {</td></tr>
<tr><th id="626">626</th><td>        <a class="local col6 ref" href="#96SimplifiedInst" title='SimplifiedInst' data-ref="96SimplifiedInst" data-ref-filename="96SimplifiedInst">SimplifiedInst</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col0 ref" href="#90InnerOpcode" title='InnerOpcode' data-ref="90InnerOpcode" data-ref-filename="90InnerOpcode">InnerOpcode</a>, <a class="local col1 ref" href="#91A" title='A' data-ref="91A" data-ref-filename="91A">A</a>, <a class="local col5 ref" href="#95V" title='V' data-ref="95V" data-ref-filename="95V">V</a>);</td></tr>
<tr><th id="627">627</th><td>      }</td></tr>
<tr><th id="628">628</th><td>    }</td></tr>
<tr><th id="629">629</th><td></td></tr>
<tr><th id="630">630</th><td>  <i>// Does "(X op Y) op' Z" always equal "(X op' Z) op (Y op' Z)"?</i></td></tr>
<tr><th id="631">631</th><td>  <b>if</b> (!<a class="local col6 ref" href="#96SimplifiedInst" title='SimplifiedInst' data-ref="96SimplifiedInst" data-ref-filename="96SimplifiedInst">SimplifiedInst</a> &amp;&amp; <a class="tu ref fn" href="#_ZL24rightDistributesOverLeftN4llvm11Instruction9BinaryOpsES1_" title='rightDistributesOverLeft' data-use='c' data-ref="_ZL24rightDistributesOverLeftN4llvm11Instruction9BinaryOpsES1_" data-ref-filename="_ZL24rightDistributesOverLeftN4llvm11Instruction9BinaryOpsES1_">rightDistributesOverLeft</a>(<a class="local col9 ref" href="#99TopLevelOpcode" title='TopLevelOpcode' data-ref="99TopLevelOpcode" data-ref-filename="99TopLevelOpcode">TopLevelOpcode</a>, <a class="local col0 ref" href="#90InnerOpcode" title='InnerOpcode' data-ref="90InnerOpcode" data-ref-filename="90InnerOpcode">InnerOpcode</a>))</td></tr>
<tr><th id="632">632</th><td>    <i>// Does the instruction have the form "(A op' B) op (C op' B)" or, in the</i></td></tr>
<tr><th id="633">633</th><td><i>    // commutative case, "(A op' B) op (B op' D)"?</i></td></tr>
<tr><th id="634">634</th><td>    <b>if</b> (<a class="local col2 ref" href="#92B" title='B' data-ref="92B" data-ref-filename="92B">B</a> == <a class="local col4 ref" href="#94D" title='D' data-ref="94D" data-ref-filename="94D">D</a> || (<a class="local col0 ref" href="#100InnerCommutative" title='InnerCommutative' data-ref="100InnerCommutative" data-ref-filename="100InnerCommutative">InnerCommutative</a> &amp;&amp; <a class="local col2 ref" href="#92B" title='B' data-ref="92B" data-ref-filename="92B">B</a> == <a class="local col3 ref" href="#93C" title='C' data-ref="93C" data-ref-filename="93C">C</a>)) {</td></tr>
<tr><th id="635">635</th><td>      <b>if</b> (<a class="local col2 ref" href="#92B" title='B' data-ref="92B" data-ref-filename="92B">B</a> != <a class="local col4 ref" href="#94D" title='D' data-ref="94D" data-ref-filename="94D">D</a>)</td></tr>
<tr><th id="636">636</th><td>        <span class="namespace">std::</span><span class='ref fn' title='std::swap' data-ref="_ZSt4swapRT_S0_" data-ref-filename="_ZSt4swapRT_S0_">swap</span>(<span class='refarg'><a class="local col3 ref" href="#93C" title='C' data-ref="93C" data-ref-filename="93C">C</a></span>, <span class='refarg'><a class="local col4 ref" href="#94D" title='D' data-ref="94D" data-ref-filename="94D">D</a></span>);</td></tr>
<tr><th id="637">637</th><td>      <i>// Consider forming "(A op C) op' B".</i></td></tr>
<tr><th id="638">638</th><td><i>      // If "A op C" simplifies then it can be formed with no cost.</i></td></tr>
<tr><th id="639">639</th><td>      <a class="local col5 ref" href="#95V" title='V' data-ref="95V" data-ref-filename="95V">V</a> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col9 ref" href="#99TopLevelOpcode" title='TopLevelOpcode' data-ref="99TopLevelOpcode" data-ref-filename="99TopLevelOpcode">TopLevelOpcode</a>, <a class="local col1 ref" href="#91A" title='A' data-ref="91A" data-ref-filename="91A">A</a>, <a class="local col3 ref" href="#93C" title='C' data-ref="93C" data-ref-filename="93C">C</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::SQ" title='llvm::InstCombiner::SQ' data-ref="llvm::InstCombiner::SQ" data-ref-filename="llvm..InstCombiner..SQ">SQ</a>.<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" title='llvm::SimplifyQuery::getWithInstruction' data-ref="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" data-ref-filename="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE">getWithInstruction</a>(&amp;<a class="local col9 ref" href="#89I" title='I' data-ref="89I" data-ref-filename="89I">I</a>));</td></tr>
<tr><th id="640">640</th><td></td></tr>
<tr><th id="641">641</th><td>      <i>// If "A op C" doesn't simplify then only go on if both of the existing</i></td></tr>
<tr><th id="642">642</th><td><i>      // operations "A op' B" and "C op' D" will be zapped as no longer used.</i></td></tr>
<tr><th id="643">643</th><td>      <b>if</b> (!<a class="local col5 ref" href="#95V" title='V' data-ref="95V" data-ref-filename="95V">V</a> &amp;&amp; <a class="local col7 ref" href="#97LHS" title='LHS' data-ref="97LHS" data-ref-filename="97LHS">LHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>() &amp;&amp; <a class="local col8 ref" href="#98RHS" title='RHS' data-ref="98RHS" data-ref-filename="98RHS">RHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>())</td></tr>
<tr><th id="644">644</th><td>        <a class="local col5 ref" href="#95V" title='V' data-ref="95V" data-ref-filename="95V">V</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col9 ref" href="#99TopLevelOpcode" title='TopLevelOpcode' data-ref="99TopLevelOpcode" data-ref-filename="99TopLevelOpcode">TopLevelOpcode</a>, <a class="local col1 ref" href="#91A" title='A' data-ref="91A" data-ref-filename="91A">A</a>, <a class="local col3 ref" href="#93C" title='C' data-ref="93C" data-ref-filename="93C">C</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col7 ref" href="#97LHS" title='LHS' data-ref="97LHS" data-ref-filename="97LHS">LHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>());</td></tr>
<tr><th id="645">645</th><td>      <b>if</b> (<a class="local col5 ref" href="#95V" title='V' data-ref="95V" data-ref-filename="95V">V</a>) {</td></tr>
<tr><th id="646">646</th><td>        <a class="local col6 ref" href="#96SimplifiedInst" title='SimplifiedInst' data-ref="96SimplifiedInst" data-ref-filename="96SimplifiedInst">SimplifiedInst</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col0 ref" href="#90InnerOpcode" title='InnerOpcode' data-ref="90InnerOpcode" data-ref-filename="90InnerOpcode">InnerOpcode</a>, <a class="local col5 ref" href="#95V" title='V' data-ref="95V" data-ref-filename="95V">V</a>, <a class="local col2 ref" href="#92B" title='B' data-ref="92B" data-ref-filename="92B">B</a>);</td></tr>
<tr><th id="647">647</th><td>      }</td></tr>
<tr><th id="648">648</th><td>    }</td></tr>
<tr><th id="649">649</th><td></td></tr>
<tr><th id="650">650</th><td>  <b>if</b> (<a class="local col6 ref" href="#96SimplifiedInst" title='SimplifiedInst' data-ref="96SimplifiedInst" data-ref-filename="96SimplifiedInst">SimplifiedInst</a>) {</td></tr>
<tr><th id="651">651</th><td>    <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#125" title='NumFactor' data-ref="NumFactor" data-ref-filename="NumFactor">NumFactor</a>;</td></tr>
<tr><th id="652">652</th><td>    <a class="local col6 ref" href="#96SimplifiedInst" title='SimplifiedInst' data-ref="96SimplifiedInst" data-ref-filename="96SimplifiedInst">SimplifiedInst</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value8takeNameEPS0_" title='llvm::Value::takeName' data-ref="_ZN4llvm5Value8takeNameEPS0_" data-ref-filename="_ZN4llvm5Value8takeNameEPS0_">takeName</a>(&amp;<a class="local col9 ref" href="#89I" title='I' data-ref="89I" data-ref-filename="89I">I</a>);</td></tr>
<tr><th id="653">653</th><td></td></tr>
<tr><th id="654">654</th><td>    <i>// Check if we can add NSW/NUW flags to SimplifiedInst. If so, set them.</i></td></tr>
<tr><th id="655">655</th><td>    <b>if</b> (<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> *<dfn class="local col1 decl" id="101BO" title='BO' data-type='llvm::BinaryOperator *' data-ref="101BO" data-ref-filename="101BO"><a class="local col1 ref" href="#101BO" title='BO' data-ref="101BO" data-ref-filename="101BO">BO</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(<a class="local col6 ref" href="#96SimplifiedInst" title='SimplifiedInst' data-ref="96SimplifiedInst" data-ref-filename="96SimplifiedInst">SimplifiedInst</a>)) {</td></tr>
<tr><th id="656">656</th><td>      <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::OverflowingBinaryOperator" title='llvm::OverflowingBinaryOperator' data-ref="llvm::OverflowingBinaryOperator" data-ref-filename="llvm..OverflowingBinaryOperator">OverflowingBinaryOperator</a>&gt;(<a class="local col6 ref" href="#96SimplifiedInst" title='SimplifiedInst' data-ref="96SimplifiedInst" data-ref-filename="96SimplifiedInst">SimplifiedInst</a>)) {</td></tr>
<tr><th id="657">657</th><td>        <em>bool</em> <dfn class="local col2 decl" id="102HasNSW" title='HasNSW' data-type='bool' data-ref="102HasNSW" data-ref-filename="102HasNSW">HasNSW</dfn> = <b>false</b>;</td></tr>
<tr><th id="658">658</th><td>        <em>bool</em> <dfn class="local col3 decl" id="103HasNUW" title='HasNUW' data-type='bool' data-ref="103HasNUW" data-ref-filename="103HasNUW">HasNUW</dfn> = <b>false</b>;</td></tr>
<tr><th id="659">659</th><td>        <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::OverflowingBinaryOperator" title='llvm::OverflowingBinaryOperator' data-ref="llvm::OverflowingBinaryOperator" data-ref-filename="llvm..OverflowingBinaryOperator">OverflowingBinaryOperator</a>&gt;(&amp;<a class="local col9 ref" href="#89I" title='I' data-ref="89I" data-ref-filename="89I">I</a>)) {</td></tr>
<tr><th id="660">660</th><td>          <a class="local col2 ref" href="#102HasNSW" title='HasNSW' data-ref="102HasNSW" data-ref-filename="102HasNSW">HasNSW</a> = <a class="local col9 ref" href="#89I" title='I' data-ref="89I" data-ref-filename="89I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction15hasNoSignedWrapEv" title='llvm::Instruction::hasNoSignedWrap' data-ref="_ZNK4llvm11Instruction15hasNoSignedWrapEv" data-ref-filename="_ZNK4llvm11Instruction15hasNoSignedWrapEv">hasNoSignedWrap</a>();</td></tr>
<tr><th id="661">661</th><td>          <a class="local col3 ref" href="#103HasNUW" title='HasNUW' data-ref="103HasNUW" data-ref-filename="103HasNUW">HasNUW</a> = <a class="local col9 ref" href="#89I" title='I' data-ref="89I" data-ref-filename="89I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction17hasNoUnsignedWrapEv" title='llvm::Instruction::hasNoUnsignedWrap' data-ref="_ZNK4llvm11Instruction17hasNoUnsignedWrapEv" data-ref-filename="_ZNK4llvm11Instruction17hasNoUnsignedWrapEv">hasNoUnsignedWrap</a>();</td></tr>
<tr><th id="662">662</th><td>        }</td></tr>
<tr><th id="663">663</th><td></td></tr>
<tr><th id="664">664</th><td>        <b>if</b> (<em>auto</em> *<dfn class="local col4 decl" id="104LOBO" title='LOBO' data-type='llvm::OverflowingBinaryOperator *' data-ref="104LOBO" data-ref-filename="104LOBO"><a class="local col4 ref" href="#104LOBO" title='LOBO' data-ref="104LOBO" data-ref-filename="104LOBO">LOBO</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::OverflowingBinaryOperator" title='llvm::OverflowingBinaryOperator' data-ref="llvm::OverflowingBinaryOperator" data-ref-filename="llvm..OverflowingBinaryOperator">OverflowingBinaryOperator</a>&gt;(<a class="local col7 ref" href="#97LHS" title='LHS' data-ref="97LHS" data-ref-filename="97LHS">LHS</a>)) {</td></tr>
<tr><th id="665">665</th><td>          <a class="local col2 ref" href="#102HasNSW" title='HasNSW' data-ref="102HasNSW" data-ref-filename="102HasNSW">HasNSW</a> &amp;= <a class="local col4 ref" href="#104LOBO" title='LOBO' data-ref="104LOBO" data-ref-filename="104LOBO">LOBO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm25OverflowingBinaryOperator15hasNoSignedWrapEv" title='llvm::OverflowingBinaryOperator::hasNoSignedWrap' data-ref="_ZNK4llvm25OverflowingBinaryOperator15hasNoSignedWrapEv" data-ref-filename="_ZNK4llvm25OverflowingBinaryOperator15hasNoSignedWrapEv">hasNoSignedWrap</a>();</td></tr>
<tr><th id="666">666</th><td>          <a class="local col3 ref" href="#103HasNUW" title='HasNUW' data-ref="103HasNUW" data-ref-filename="103HasNUW">HasNUW</a> &amp;= <a class="local col4 ref" href="#104LOBO" title='LOBO' data-ref="104LOBO" data-ref-filename="104LOBO">LOBO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm25OverflowingBinaryOperator17hasNoUnsignedWrapEv" title='llvm::OverflowingBinaryOperator::hasNoUnsignedWrap' data-ref="_ZNK4llvm25OverflowingBinaryOperator17hasNoUnsignedWrapEv" data-ref-filename="_ZNK4llvm25OverflowingBinaryOperator17hasNoUnsignedWrapEv">hasNoUnsignedWrap</a>();</td></tr>
<tr><th id="667">667</th><td>        }</td></tr>
<tr><th id="668">668</th><td></td></tr>
<tr><th id="669">669</th><td>        <b>if</b> (<em>auto</em> *<dfn class="local col5 decl" id="105ROBO" title='ROBO' data-type='llvm::OverflowingBinaryOperator *' data-ref="105ROBO" data-ref-filename="105ROBO"><a class="local col5 ref" href="#105ROBO" title='ROBO' data-ref="105ROBO" data-ref-filename="105ROBO">ROBO</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::OverflowingBinaryOperator" title='llvm::OverflowingBinaryOperator' data-ref="llvm::OverflowingBinaryOperator" data-ref-filename="llvm..OverflowingBinaryOperator">OverflowingBinaryOperator</a>&gt;(<a class="local col8 ref" href="#98RHS" title='RHS' data-ref="98RHS" data-ref-filename="98RHS">RHS</a>)) {</td></tr>
<tr><th id="670">670</th><td>          <a class="local col2 ref" href="#102HasNSW" title='HasNSW' data-ref="102HasNSW" data-ref-filename="102HasNSW">HasNSW</a> &amp;= <a class="local col5 ref" href="#105ROBO" title='ROBO' data-ref="105ROBO" data-ref-filename="105ROBO">ROBO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm25OverflowingBinaryOperator15hasNoSignedWrapEv" title='llvm::OverflowingBinaryOperator::hasNoSignedWrap' data-ref="_ZNK4llvm25OverflowingBinaryOperator15hasNoSignedWrapEv" data-ref-filename="_ZNK4llvm25OverflowingBinaryOperator15hasNoSignedWrapEv">hasNoSignedWrap</a>();</td></tr>
<tr><th id="671">671</th><td>          <a class="local col3 ref" href="#103HasNUW" title='HasNUW' data-ref="103HasNUW" data-ref-filename="103HasNUW">HasNUW</a> &amp;= <a class="local col5 ref" href="#105ROBO" title='ROBO' data-ref="105ROBO" data-ref-filename="105ROBO">ROBO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm25OverflowingBinaryOperator17hasNoUnsignedWrapEv" title='llvm::OverflowingBinaryOperator::hasNoUnsignedWrap' data-ref="_ZNK4llvm25OverflowingBinaryOperator17hasNoUnsignedWrapEv" data-ref-filename="_ZNK4llvm25OverflowingBinaryOperator17hasNoUnsignedWrapEv">hasNoUnsignedWrap</a>();</td></tr>
<tr><th id="672">672</th><td>        }</td></tr>
<tr><th id="673">673</th><td></td></tr>
<tr><th id="674">674</th><td>        <b>if</b> (<a class="local col9 ref" href="#99TopLevelOpcode" title='TopLevelOpcode' data-ref="99TopLevelOpcode" data-ref-filename="99TopLevelOpcode">TopLevelOpcode</a> == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#147" title='llvm::Instruction::Add' data-ref="llvm::Instruction::Add" data-ref-filename="llvm..Instruction..Add">Add</a> &amp;&amp;</td></tr>
<tr><th id="675">675</th><td>            <a class="local col0 ref" href="#90InnerOpcode" title='InnerOpcode' data-ref="90InnerOpcode" data-ref-filename="90InnerOpcode">InnerOpcode</a> == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#151" title='llvm::Instruction::Mul' data-ref="llvm::Instruction::Mul" data-ref-filename="llvm..Instruction..Mul">Mul</a>) {</td></tr>
<tr><th id="676">676</th><td>          <i>// We can propagate 'nsw' if we know that</i></td></tr>
<tr><th id="677">677</th><td><i>          //  %Y = mul nsw i16 %X, C</i></td></tr>
<tr><th id="678">678</th><td><i>          //  %Z = add nsw i16 %Y, %X</i></td></tr>
<tr><th id="679">679</th><td><i>          // =&gt;</i></td></tr>
<tr><th id="680">680</th><td><i>          //  %Z = mul nsw i16 %X, C+1</i></td></tr>
<tr><th id="681">681</th><td><i>          //</i></td></tr>
<tr><th id="682">682</th><td><i>          // iff C+1 isn't INT_MIN</i></td></tr>
<tr><th id="683">683</th><td>          <em>const</em> <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> *<dfn class="local col6 decl" id="106CInt" title='CInt' data-type='const llvm::APInt *' data-ref="106CInt" data-ref-filename="106CInt">CInt</dfn>;</td></tr>
<tr><th id="684">684</th><td>          <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col5 ref" href="#95V" title='V' data-ref="95V" data-ref-filename="95V">V</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_APIntERPKNS_5APIntE" title='llvm::PatternMatch::m_APInt' data-ref="_ZN4llvm12PatternMatch7m_APIntERPKNS_5APIntE" data-ref-filename="_ZN4llvm12PatternMatch7m_APIntERPKNS_5APIntE">m_APInt</a>(<span class='refarg'><a class="local col6 ref" href="#106CInt" title='CInt' data-ref="106CInt" data-ref-filename="106CInt">CInt</a></span>))) {</td></tr>
<tr><th id="685">685</th><td>            <b>if</b> (!<a class="local col6 ref" href="#106CInt" title='CInt' data-ref="106CInt" data-ref-filename="106CInt">CInt</a>-&gt;<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt16isMinSignedValueEv" title='llvm::APInt::isMinSignedValue' data-ref="_ZNK4llvm5APInt16isMinSignedValueEv" data-ref-filename="_ZNK4llvm5APInt16isMinSignedValueEv">isMinSignedValue</a>())</td></tr>
<tr><th id="686">686</th><td>              <a class="local col1 ref" href="#101BO" title='BO' data-ref="101BO" data-ref-filename="101BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction18setHasNoSignedWrapEb" title='llvm::Instruction::setHasNoSignedWrap' data-ref="_ZN4llvm11Instruction18setHasNoSignedWrapEb" data-ref-filename="_ZN4llvm11Instruction18setHasNoSignedWrapEb">setHasNoSignedWrap</a>(<a class="local col2 ref" href="#102HasNSW" title='HasNSW' data-ref="102HasNSW" data-ref-filename="102HasNSW">HasNSW</a>);</td></tr>
<tr><th id="687">687</th><td>          }</td></tr>
<tr><th id="688">688</th><td></td></tr>
<tr><th id="689">689</th><td>          <i>// nuw can be propagated with any constant or nuw value.</i></td></tr>
<tr><th id="690">690</th><td>          <a class="local col1 ref" href="#101BO" title='BO' data-ref="101BO" data-ref-filename="101BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction20setHasNoUnsignedWrapEb" title='llvm::Instruction::setHasNoUnsignedWrap' data-ref="_ZN4llvm11Instruction20setHasNoUnsignedWrapEb" data-ref-filename="_ZN4llvm11Instruction20setHasNoUnsignedWrapEb">setHasNoUnsignedWrap</a>(<a class="local col3 ref" href="#103HasNUW" title='HasNUW' data-ref="103HasNUW" data-ref-filename="103HasNUW">HasNUW</a>);</td></tr>
<tr><th id="691">691</th><td>        }</td></tr>
<tr><th id="692">692</th><td>      }</td></tr>
<tr><th id="693">693</th><td>    }</td></tr>
<tr><th id="694">694</th><td>  }</td></tr>
<tr><th id="695">695</th><td>  <b>return</b> <a class="local col6 ref" href="#96SimplifiedInst" title='SimplifiedInst' data-ref="96SimplifiedInst" data-ref-filename="96SimplifiedInst">SimplifiedInst</a>;</td></tr>
<tr><th id="696">696</th><td>}</td></tr>
<tr><th id="697">697</th><td></td></tr>
<tr><th id="698">698</th><td><i class="doc">/// This tries to simplify binary operations which some other binary operation</i></td></tr>
<tr><th id="699">699</th><td><i class="doc">/// distributes over either by factorizing out common terms</i></td></tr>
<tr><th id="700">700</th><td><i class="doc">/// (eg "(A*B)+(A*C)" -&gt; "A*(B+C)") or expanding out if this results in</i></td></tr>
<tr><th id="701">701</th><td><i class="doc">/// simplifications (eg: "A &amp; (B | C) -&gt; (A&amp;B) | (A&amp;C)" if this is a win).</i></td></tr>
<tr><th id="702">702</th><td><i class="doc">/// Returns the simplified value, or null if it didn't simplify.</i></td></tr>
<tr><th id="703">703</th><td><a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl29SimplifyUsingDistributiveLawsERNS_14BinaryOperatorE" title='llvm::InstCombinerImpl::SimplifyUsingDistributiveLaws' data-ref="_ZN4llvm16InstCombinerImpl29SimplifyUsingDistributiveLawsERNS_14BinaryOperatorE" data-ref-filename="_ZN4llvm16InstCombinerImpl29SimplifyUsingDistributiveLawsERNS_14BinaryOperatorE">SimplifyUsingDistributiveLaws</dfn>(<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> &amp;<dfn class="local col7 decl" id="107I" title='I' data-type='llvm::BinaryOperator &amp;' data-ref="107I" data-ref-filename="107I">I</dfn>) {</td></tr>
<tr><th id="704">704</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="108LHS" title='LHS' data-type='llvm::Value *' data-ref="108LHS" data-ref-filename="108LHS">LHS</dfn> = <a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>), *<dfn class="local col9 decl" id="109RHS" title='RHS' data-type='llvm::Value *' data-ref="109RHS" data-ref-filename="109RHS">RHS</dfn> = <a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="705">705</th><td>  <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> *<dfn class="local col0 decl" id="110Op0" title='Op0' data-type='llvm::BinaryOperator *' data-ref="110Op0" data-ref-filename="110Op0">Op0</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(<a class="local col8 ref" href="#108LHS" title='LHS' data-ref="108LHS" data-ref-filename="108LHS">LHS</a>);</td></tr>
<tr><th id="706">706</th><td>  <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> *<dfn class="local col1 decl" id="111Op1" title='Op1' data-type='llvm::BinaryOperator *' data-ref="111Op1" data-ref-filename="111Op1">Op1</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(<a class="local col9 ref" href="#109RHS" title='RHS' data-ref="109RHS" data-ref-filename="109RHS">RHS</a>);</td></tr>
<tr><th id="707">707</th><td>  <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col2 decl" id="112TopLevelOpcode" title='TopLevelOpcode' data-type='Instruction::BinaryOps' data-ref="112TopLevelOpcode" data-ref-filename="112TopLevelOpcode">TopLevelOpcode</dfn> = <a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>();</td></tr>
<tr><th id="708">708</th><td></td></tr>
<tr><th id="709">709</th><td>  {</td></tr>
<tr><th id="710">710</th><td>    <i>// Factorization.</i></td></tr>
<tr><th id="711">711</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="113A" title='A' data-type='llvm::Value *' data-ref="113A" data-ref-filename="113A">A</dfn>, *<dfn class="local col4 decl" id="114B" title='B' data-type='llvm::Value *' data-ref="114B" data-ref-filename="114B">B</dfn>, *<dfn class="local col5 decl" id="115C" title='C' data-type='llvm::Value *' data-ref="115C" data-ref-filename="115C">C</dfn>, *<dfn class="local col6 decl" id="116D" title='D' data-type='llvm::Value *' data-ref="116D" data-ref-filename="116D">D</dfn>;</td></tr>
<tr><th id="712">712</th><td>    <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col7 decl" id="117LHSOpcode" title='LHSOpcode' data-type='Instruction::BinaryOps' data-ref="117LHSOpcode" data-ref-filename="117LHSOpcode">LHSOpcode</dfn>, <dfn class="local col8 decl" id="118RHSOpcode" title='RHSOpcode' data-type='Instruction::BinaryOps' data-ref="118RHSOpcode" data-ref-filename="118RHSOpcode">RHSOpcode</dfn>;</td></tr>
<tr><th id="713">713</th><td>    <b>if</b> (<a class="local col0 ref" href="#110Op0" title='Op0' data-ref="110Op0" data-ref-filename="110Op0">Op0</a>)</td></tr>
<tr><th id="714">714</th><td>      <a class="local col7 ref" href="#117LHSOpcode" title='LHSOpcode' data-ref="117LHSOpcode" data-ref-filename="117LHSOpcode">LHSOpcode</a> = <a class="tu ref fn" href="#_ZL25getBinOpsForFactorizationN4llvm11Instruction9BinaryOpsEPNS_14BinaryOperatorERPNS_5ValueES6_" title='getBinOpsForFactorization' data-use='c' data-ref="_ZL25getBinOpsForFactorizationN4llvm11Instruction9BinaryOpsEPNS_14BinaryOperatorERPNS_5ValueES6_" data-ref-filename="_ZL25getBinOpsForFactorizationN4llvm11Instruction9BinaryOpsEPNS_14BinaryOperatorERPNS_5ValueES6_">getBinOpsForFactorization</a>(<a class="local col2 ref" href="#112TopLevelOpcode" title='TopLevelOpcode' data-ref="112TopLevelOpcode" data-ref-filename="112TopLevelOpcode">TopLevelOpcode</a>, <a class="local col0 ref" href="#110Op0" title='Op0' data-ref="110Op0" data-ref-filename="110Op0">Op0</a>, <span class='refarg'><a class="local col3 ref" href="#113A" title='A' data-ref="113A" data-ref-filename="113A">A</a></span>, <span class='refarg'><a class="local col4 ref" href="#114B" title='B' data-ref="114B" data-ref-filename="114B">B</a></span>);</td></tr>
<tr><th id="715">715</th><td>    <b>if</b> (<a class="local col1 ref" href="#111Op1" title='Op1' data-ref="111Op1" data-ref-filename="111Op1">Op1</a>)</td></tr>
<tr><th id="716">716</th><td>      <a class="local col8 ref" href="#118RHSOpcode" title='RHSOpcode' data-ref="118RHSOpcode" data-ref-filename="118RHSOpcode">RHSOpcode</a> = <a class="tu ref fn" href="#_ZL25getBinOpsForFactorizationN4llvm11Instruction9BinaryOpsEPNS_14BinaryOperatorERPNS_5ValueES6_" title='getBinOpsForFactorization' data-use='c' data-ref="_ZL25getBinOpsForFactorizationN4llvm11Instruction9BinaryOpsEPNS_14BinaryOperatorERPNS_5ValueES6_" data-ref-filename="_ZL25getBinOpsForFactorizationN4llvm11Instruction9BinaryOpsEPNS_14BinaryOperatorERPNS_5ValueES6_">getBinOpsForFactorization</a>(<a class="local col2 ref" href="#112TopLevelOpcode" title='TopLevelOpcode' data-ref="112TopLevelOpcode" data-ref-filename="112TopLevelOpcode">TopLevelOpcode</a>, <a class="local col1 ref" href="#111Op1" title='Op1' data-ref="111Op1" data-ref-filename="111Op1">Op1</a>, <span class='refarg'><a class="local col5 ref" href="#115C" title='C' data-ref="115C" data-ref-filename="115C">C</a></span>, <span class='refarg'><a class="local col6 ref" href="#116D" title='D' data-ref="116D" data-ref-filename="116D">D</a></span>);</td></tr>
<tr><th id="717">717</th><td></td></tr>
<tr><th id="718">718</th><td>    <i>// The instruction has the form "(A op' B) op (C op' D)".  Try to factorize</i></td></tr>
<tr><th id="719">719</th><td><i>    // a common term.</i></td></tr>
<tr><th id="720">720</th><td>    <b>if</b> (<a class="local col0 ref" href="#110Op0" title='Op0' data-ref="110Op0" data-ref-filename="110Op0">Op0</a> &amp;&amp; <a class="local col1 ref" href="#111Op1" title='Op1' data-ref="111Op1" data-ref-filename="111Op1">Op1</a> &amp;&amp; <a class="local col7 ref" href="#117LHSOpcode" title='LHSOpcode' data-ref="117LHSOpcode" data-ref-filename="117LHSOpcode">LHSOpcode</a> == <a class="local col8 ref" href="#118RHSOpcode" title='RHSOpcode' data-ref="118RHSOpcode" data-ref-filename="118RHSOpcode">RHSOpcode</a>)</td></tr>
<tr><th id="721">721</th><td>      <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="119V" title='V' data-type='llvm::Value *' data-ref="119V" data-ref-filename="119V"><a class="local col9 ref" href="#119V" title='V' data-ref="119V" data-ref-filename="119V">V</a></dfn> = <a class="member fn" href="#_ZN4llvm16InstCombinerImpl16tryFactorizationERNS_14BinaryOperatorENS_11Instruction9BinaryOpsEPNS_5ValueES6_S6_S6_" title='llvm::InstCombinerImpl::tryFactorization' data-ref="_ZN4llvm16InstCombinerImpl16tryFactorizationERNS_14BinaryOperatorENS_11Instruction9BinaryOpsEPNS_5ValueES6_S6_S6_" data-ref-filename="_ZN4llvm16InstCombinerImpl16tryFactorizationERNS_14BinaryOperatorENS_11Instruction9BinaryOpsEPNS_5ValueES6_S6_S6_">tryFactorization</a>(<span class='refarg'><a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a></span>, <a class="local col7 ref" href="#117LHSOpcode" title='LHSOpcode' data-ref="117LHSOpcode" data-ref-filename="117LHSOpcode">LHSOpcode</a>, <a class="local col3 ref" href="#113A" title='A' data-ref="113A" data-ref-filename="113A">A</a>, <a class="local col4 ref" href="#114B" title='B' data-ref="114B" data-ref-filename="114B">B</a>, <a class="local col5 ref" href="#115C" title='C' data-ref="115C" data-ref-filename="115C">C</a>, <a class="local col6 ref" href="#116D" title='D' data-ref="116D" data-ref-filename="116D">D</a>))</td></tr>
<tr><th id="722">722</th><td>        <b>return</b> <a class="local col9 ref" href="#119V" title='V' data-ref="119V" data-ref-filename="119V">V</a>;</td></tr>
<tr><th id="723">723</th><td></td></tr>
<tr><th id="724">724</th><td>    <i>// The instruction has the form "(A op' B) op (C)".  Try to factorize common</i></td></tr>
<tr><th id="725">725</th><td><i>    // term.</i></td></tr>
<tr><th id="726">726</th><td>    <b>if</b> (<a class="local col0 ref" href="#110Op0" title='Op0' data-ref="110Op0" data-ref-filename="110Op0">Op0</a>)</td></tr>
<tr><th id="727">727</th><td>      <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="120Ident" title='Ident' data-type='llvm::Value *' data-ref="120Ident" data-ref-filename="120Ident"><a class="local col0 ref" href="#120Ident" title='Ident' data-ref="120Ident" data-ref-filename="120Ident">Ident</a></dfn> = <a class="tu ref fn" href="#_ZL16getIdentityValueN4llvm11Instruction9BinaryOpsEPNS_5ValueE" title='getIdentityValue' data-use='c' data-ref="_ZL16getIdentityValueN4llvm11Instruction9BinaryOpsEPNS_5ValueE" data-ref-filename="_ZL16getIdentityValueN4llvm11Instruction9BinaryOpsEPNS_5ValueE">getIdentityValue</a>(<a class="local col7 ref" href="#117LHSOpcode" title='LHSOpcode' data-ref="117LHSOpcode" data-ref-filename="117LHSOpcode">LHSOpcode</a>, <a class="local col9 ref" href="#109RHS" title='RHS' data-ref="109RHS" data-ref-filename="109RHS">RHS</a>))</td></tr>
<tr><th id="728">728</th><td>        <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="121V" title='V' data-type='llvm::Value *' data-ref="121V" data-ref-filename="121V"><a class="local col1 ref" href="#121V" title='V' data-ref="121V" data-ref-filename="121V">V</a></dfn> = <a class="member fn" href="#_ZN4llvm16InstCombinerImpl16tryFactorizationERNS_14BinaryOperatorENS_11Instruction9BinaryOpsEPNS_5ValueES6_S6_S6_" title='llvm::InstCombinerImpl::tryFactorization' data-ref="_ZN4llvm16InstCombinerImpl16tryFactorizationERNS_14BinaryOperatorENS_11Instruction9BinaryOpsEPNS_5ValueES6_S6_S6_" data-ref-filename="_ZN4llvm16InstCombinerImpl16tryFactorizationERNS_14BinaryOperatorENS_11Instruction9BinaryOpsEPNS_5ValueES6_S6_S6_">tryFactorization</a>(<span class='refarg'><a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a></span>, <a class="local col7 ref" href="#117LHSOpcode" title='LHSOpcode' data-ref="117LHSOpcode" data-ref-filename="117LHSOpcode">LHSOpcode</a>, <a class="local col3 ref" href="#113A" title='A' data-ref="113A" data-ref-filename="113A">A</a>, <a class="local col4 ref" href="#114B" title='B' data-ref="114B" data-ref-filename="114B">B</a>, <a class="local col9 ref" href="#109RHS" title='RHS' data-ref="109RHS" data-ref-filename="109RHS">RHS</a>, <a class="local col0 ref" href="#120Ident" title='Ident' data-ref="120Ident" data-ref-filename="120Ident">Ident</a>))</td></tr>
<tr><th id="729">729</th><td>          <b>return</b> <a class="local col1 ref" href="#121V" title='V' data-ref="121V" data-ref-filename="121V">V</a>;</td></tr>
<tr><th id="730">730</th><td></td></tr>
<tr><th id="731">731</th><td>    <i>// The instruction has the form "(B) op (C op' D)".  Try to factorize common</i></td></tr>
<tr><th id="732">732</th><td><i>    // term.</i></td></tr>
<tr><th id="733">733</th><td>    <b>if</b> (<a class="local col1 ref" href="#111Op1" title='Op1' data-ref="111Op1" data-ref-filename="111Op1">Op1</a>)</td></tr>
<tr><th id="734">734</th><td>      <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="122Ident" title='Ident' data-type='llvm::Value *' data-ref="122Ident" data-ref-filename="122Ident"><a class="local col2 ref" href="#122Ident" title='Ident' data-ref="122Ident" data-ref-filename="122Ident">Ident</a></dfn> = <a class="tu ref fn" href="#_ZL16getIdentityValueN4llvm11Instruction9BinaryOpsEPNS_5ValueE" title='getIdentityValue' data-use='c' data-ref="_ZL16getIdentityValueN4llvm11Instruction9BinaryOpsEPNS_5ValueE" data-ref-filename="_ZL16getIdentityValueN4llvm11Instruction9BinaryOpsEPNS_5ValueE">getIdentityValue</a>(<a class="local col8 ref" href="#118RHSOpcode" title='RHSOpcode' data-ref="118RHSOpcode" data-ref-filename="118RHSOpcode">RHSOpcode</a>, <a class="local col8 ref" href="#108LHS" title='LHS' data-ref="108LHS" data-ref-filename="108LHS">LHS</a>))</td></tr>
<tr><th id="735">735</th><td>        <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="123V" title='V' data-type='llvm::Value *' data-ref="123V" data-ref-filename="123V"><a class="local col3 ref" href="#123V" title='V' data-ref="123V" data-ref-filename="123V">V</a></dfn> = <a class="member fn" href="#_ZN4llvm16InstCombinerImpl16tryFactorizationERNS_14BinaryOperatorENS_11Instruction9BinaryOpsEPNS_5ValueES6_S6_S6_" title='llvm::InstCombinerImpl::tryFactorization' data-ref="_ZN4llvm16InstCombinerImpl16tryFactorizationERNS_14BinaryOperatorENS_11Instruction9BinaryOpsEPNS_5ValueES6_S6_S6_" data-ref-filename="_ZN4llvm16InstCombinerImpl16tryFactorizationERNS_14BinaryOperatorENS_11Instruction9BinaryOpsEPNS_5ValueES6_S6_S6_">tryFactorization</a>(<span class='refarg'><a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a></span>, <a class="local col8 ref" href="#118RHSOpcode" title='RHSOpcode' data-ref="118RHSOpcode" data-ref-filename="118RHSOpcode">RHSOpcode</a>, <a class="local col8 ref" href="#108LHS" title='LHS' data-ref="108LHS" data-ref-filename="108LHS">LHS</a>, <a class="local col2 ref" href="#122Ident" title='Ident' data-ref="122Ident" data-ref-filename="122Ident">Ident</a>, <a class="local col5 ref" href="#115C" title='C' data-ref="115C" data-ref-filename="115C">C</a>, <a class="local col6 ref" href="#116D" title='D' data-ref="116D" data-ref-filename="116D">D</a>))</td></tr>
<tr><th id="736">736</th><td>          <b>return</b> <a class="local col3 ref" href="#123V" title='V' data-ref="123V" data-ref-filename="123V">V</a>;</td></tr>
<tr><th id="737">737</th><td>  }</td></tr>
<tr><th id="738">738</th><td></td></tr>
<tr><th id="739">739</th><td>  <i>// Expansion.</i></td></tr>
<tr><th id="740">740</th><td>  <b>if</b> (<a class="local col0 ref" href="#110Op0" title='Op0' data-ref="110Op0" data-ref-filename="110Op0">Op0</a> &amp;&amp; <a class="tu ref fn" href="#_ZL24rightDistributesOverLeftN4llvm11Instruction9BinaryOpsES1_" title='rightDistributesOverLeft' data-use='c' data-ref="_ZL24rightDistributesOverLeftN4llvm11Instruction9BinaryOpsES1_" data-ref-filename="_ZL24rightDistributesOverLeftN4llvm11Instruction9BinaryOpsES1_">rightDistributesOverLeft</a>(<a class="local col0 ref" href="#110Op0" title='Op0' data-ref="110Op0" data-ref-filename="110Op0">Op0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>(), <a class="local col2 ref" href="#112TopLevelOpcode" title='TopLevelOpcode' data-ref="112TopLevelOpcode" data-ref-filename="112TopLevelOpcode">TopLevelOpcode</a>)) {</td></tr>
<tr><th id="741">741</th><td>    <i>// The instruction has the form "(A op' B) op C".  See if expanding it out</i></td></tr>
<tr><th id="742">742</th><td><i>    // to "(A op C) op' (B op C)" results in simplifications.</i></td></tr>
<tr><th id="743">743</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="124A" title='A' data-type='llvm::Value *' data-ref="124A" data-ref-filename="124A">A</dfn> = <a class="local col0 ref" href="#110Op0" title='Op0' data-ref="110Op0" data-ref-filename="110Op0">Op0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>), *<dfn class="local col5 decl" id="125B" title='B' data-type='llvm::Value *' data-ref="125B" data-ref-filename="125B">B</dfn> = <a class="local col0 ref" href="#110Op0" title='Op0' data-ref="110Op0" data-ref-filename="110Op0">Op0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>), *<dfn class="local col6 decl" id="126C" title='C' data-type='llvm::Value *' data-ref="126C" data-ref-filename="126C">C</dfn> = <a class="local col9 ref" href="#109RHS" title='RHS' data-ref="109RHS" data-ref-filename="109RHS">RHS</a>;</td></tr>
<tr><th id="744">744</th><td>    <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col7 decl" id="127InnerOpcode" title='InnerOpcode' data-type='Instruction::BinaryOps' data-ref="127InnerOpcode" data-ref-filename="127InnerOpcode">InnerOpcode</dfn> = <a class="local col0 ref" href="#110Op0" title='Op0' data-ref="110Op0" data-ref-filename="110Op0">Op0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>(); <i>// op'</i></td></tr>
<tr><th id="745">745</th><td></td></tr>
<tr><th id="746">746</th><td>    <i>// Disable the use of undef because it's not safe to distribute undef.</i></td></tr>
<tr><th id="747">747</th><td>    <em>auto</em> <dfn class="local col8 decl" id="128SQDistributive" title='SQDistributive' data-type='llvm::SimplifyQuery' data-ref="128SQDistributive" data-ref-filename="128SQDistributive">SQDistributive</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::SQ" title='llvm::InstCombiner::SQ' data-ref="llvm::InstCombiner::SQ" data-ref-filename="llvm..InstCombiner..SQ">SQ</a>.<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" title='llvm::SimplifyQuery::getWithInstruction' data-ref="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" data-ref-filename="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE">getWithInstruction</a>(&amp;<a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a>).<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery15getWithoutUndefEv" title='llvm::SimplifyQuery::getWithoutUndef' data-ref="_ZNK4llvm13SimplifyQuery15getWithoutUndefEv" data-ref-filename="_ZNK4llvm13SimplifyQuery15getWithoutUndefEv">getWithoutUndef</a>();</td></tr>
<tr><th id="748">748</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="129L" title='L' data-type='llvm::Value *' data-ref="129L" data-ref-filename="129L">L</dfn> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col2 ref" href="#112TopLevelOpcode" title='TopLevelOpcode' data-ref="112TopLevelOpcode" data-ref-filename="112TopLevelOpcode">TopLevelOpcode</a>, <a class="local col4 ref" href="#124A" title='A' data-ref="124A" data-ref-filename="124A">A</a>, <a class="local col6 ref" href="#126C" title='C' data-ref="126C" data-ref-filename="126C">C</a>, <a class="local col8 ref" href="#128SQDistributive" title='SQDistributive' data-ref="128SQDistributive" data-ref-filename="128SQDistributive">SQDistributive</a>);</td></tr>
<tr><th id="749">749</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="130R" title='R' data-type='llvm::Value *' data-ref="130R" data-ref-filename="130R">R</dfn> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col2 ref" href="#112TopLevelOpcode" title='TopLevelOpcode' data-ref="112TopLevelOpcode" data-ref-filename="112TopLevelOpcode">TopLevelOpcode</a>, <a class="local col5 ref" href="#125B" title='B' data-ref="125B" data-ref-filename="125B">B</a>, <a class="local col6 ref" href="#126C" title='C' data-ref="126C" data-ref-filename="126C">C</a>, <a class="local col8 ref" href="#128SQDistributive" title='SQDistributive' data-ref="128SQDistributive" data-ref-filename="128SQDistributive">SQDistributive</a>);</td></tr>
<tr><th id="750">750</th><td></td></tr>
<tr><th id="751">751</th><td>    <i>// Do "A op C" and "B op C" both simplify?</i></td></tr>
<tr><th id="752">752</th><td>    <b>if</b> (<a class="local col9 ref" href="#129L" title='L' data-ref="129L" data-ref-filename="129L">L</a> &amp;&amp; <a class="local col0 ref" href="#130R" title='R' data-ref="130R" data-ref-filename="130R">R</a>) {</td></tr>
<tr><th id="753">753</th><td>      <i>// They do! Return "L op' R".</i></td></tr>
<tr><th id="754">754</th><td>      <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#124" title='NumExpand' data-ref="NumExpand" data-ref-filename="NumExpand">NumExpand</a>;</td></tr>
<tr><th id="755">755</th><td>      <a class="local col6 ref" href="#126C" title='C' data-ref="126C" data-ref-filename="126C">C</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col7 ref" href="#127InnerOpcode" title='InnerOpcode' data-ref="127InnerOpcode" data-ref-filename="127InnerOpcode">InnerOpcode</a>, <a class="local col9 ref" href="#129L" title='L' data-ref="129L" data-ref-filename="129L">L</a>, <a class="local col0 ref" href="#130R" title='R' data-ref="130R" data-ref-filename="130R">R</a>);</td></tr>
<tr><th id="756">756</th><td>      <a class="local col6 ref" href="#126C" title='C' data-ref="126C" data-ref-filename="126C">C</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value8takeNameEPS0_" title='llvm::Value::takeName' data-ref="_ZN4llvm5Value8takeNameEPS0_" data-ref-filename="_ZN4llvm5Value8takeNameEPS0_">takeName</a>(&amp;<a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a>);</td></tr>
<tr><th id="757">757</th><td>      <b>return</b> <a class="local col6 ref" href="#126C" title='C' data-ref="126C" data-ref-filename="126C">C</a>;</td></tr>
<tr><th id="758">758</th><td>    }</td></tr>
<tr><th id="759">759</th><td></td></tr>
<tr><th id="760">760</th><td>    <i>// Does "A op C" simplify to the identity value for the inner opcode?</i></td></tr>
<tr><th id="761">761</th><td>    <b>if</b> (<a class="local col9 ref" href="#129L" title='L' data-ref="129L" data-ref-filename="129L">L</a> &amp;&amp; <a class="local col9 ref" href="#129L" title='L' data-ref="129L" data-ref-filename="129L">L</a> == <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb" title='llvm::ConstantExpr::getBinOpIdentity' data-ref="_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb" data-ref-filename="_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb">getBinOpIdentity</a>(<a class="local col7 ref" href="#127InnerOpcode" title='InnerOpcode' data-ref="127InnerOpcode" data-ref-filename="127InnerOpcode">InnerOpcode</a>, <a class="local col9 ref" href="#129L" title='L' data-ref="129L" data-ref-filename="129L">L</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>())) {</td></tr>
<tr><th id="762">762</th><td>      <i>// They do! Return "B op C".</i></td></tr>
<tr><th id="763">763</th><td>      <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#124" title='NumExpand' data-ref="NumExpand" data-ref-filename="NumExpand">NumExpand</a>;</td></tr>
<tr><th id="764">764</th><td>      <a class="local col6 ref" href="#126C" title='C' data-ref="126C" data-ref-filename="126C">C</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col2 ref" href="#112TopLevelOpcode" title='TopLevelOpcode' data-ref="112TopLevelOpcode" data-ref-filename="112TopLevelOpcode">TopLevelOpcode</a>, <a class="local col5 ref" href="#125B" title='B' data-ref="125B" data-ref-filename="125B">B</a>, <a class="local col6 ref" href="#126C" title='C' data-ref="126C" data-ref-filename="126C">C</a>);</td></tr>
<tr><th id="765">765</th><td>      <a class="local col6 ref" href="#126C" title='C' data-ref="126C" data-ref-filename="126C">C</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value8takeNameEPS0_" title='llvm::Value::takeName' data-ref="_ZN4llvm5Value8takeNameEPS0_" data-ref-filename="_ZN4llvm5Value8takeNameEPS0_">takeName</a>(&amp;<a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a>);</td></tr>
<tr><th id="766">766</th><td>      <b>return</b> <a class="local col6 ref" href="#126C" title='C' data-ref="126C" data-ref-filename="126C">C</a>;</td></tr>
<tr><th id="767">767</th><td>    }</td></tr>
<tr><th id="768">768</th><td></td></tr>
<tr><th id="769">769</th><td>    <i>// Does "B op C" simplify to the identity value for the inner opcode?</i></td></tr>
<tr><th id="770">770</th><td>    <b>if</b> (<a class="local col0 ref" href="#130R" title='R' data-ref="130R" data-ref-filename="130R">R</a> &amp;&amp; <a class="local col0 ref" href="#130R" title='R' data-ref="130R" data-ref-filename="130R">R</a> == <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb" title='llvm::ConstantExpr::getBinOpIdentity' data-ref="_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb" data-ref-filename="_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb">getBinOpIdentity</a>(<a class="local col7 ref" href="#127InnerOpcode" title='InnerOpcode' data-ref="127InnerOpcode" data-ref-filename="127InnerOpcode">InnerOpcode</a>, <a class="local col0 ref" href="#130R" title='R' data-ref="130R" data-ref-filename="130R">R</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>())) {</td></tr>
<tr><th id="771">771</th><td>      <i>// They do! Return "A op C".</i></td></tr>
<tr><th id="772">772</th><td>      <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#124" title='NumExpand' data-ref="NumExpand" data-ref-filename="NumExpand">NumExpand</a>;</td></tr>
<tr><th id="773">773</th><td>      <a class="local col6 ref" href="#126C" title='C' data-ref="126C" data-ref-filename="126C">C</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col2 ref" href="#112TopLevelOpcode" title='TopLevelOpcode' data-ref="112TopLevelOpcode" data-ref-filename="112TopLevelOpcode">TopLevelOpcode</a>, <a class="local col4 ref" href="#124A" title='A' data-ref="124A" data-ref-filename="124A">A</a>, <a class="local col6 ref" href="#126C" title='C' data-ref="126C" data-ref-filename="126C">C</a>);</td></tr>
<tr><th id="774">774</th><td>      <a class="local col6 ref" href="#126C" title='C' data-ref="126C" data-ref-filename="126C">C</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value8takeNameEPS0_" title='llvm::Value::takeName' data-ref="_ZN4llvm5Value8takeNameEPS0_" data-ref-filename="_ZN4llvm5Value8takeNameEPS0_">takeName</a>(&amp;<a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a>);</td></tr>
<tr><th id="775">775</th><td>      <b>return</b> <a class="local col6 ref" href="#126C" title='C' data-ref="126C" data-ref-filename="126C">C</a>;</td></tr>
<tr><th id="776">776</th><td>    }</td></tr>
<tr><th id="777">777</th><td>  }</td></tr>
<tr><th id="778">778</th><td></td></tr>
<tr><th id="779">779</th><td>  <b>if</b> (<a class="local col1 ref" href="#111Op1" title='Op1' data-ref="111Op1" data-ref-filename="111Op1">Op1</a> &amp;&amp; <a class="tu ref fn" href="#_ZL24leftDistributesOverRightN4llvm11Instruction9BinaryOpsES1_" title='leftDistributesOverRight' data-use='c' data-ref="_ZL24leftDistributesOverRightN4llvm11Instruction9BinaryOpsES1_" data-ref-filename="_ZL24leftDistributesOverRightN4llvm11Instruction9BinaryOpsES1_">leftDistributesOverRight</a>(<a class="local col2 ref" href="#112TopLevelOpcode" title='TopLevelOpcode' data-ref="112TopLevelOpcode" data-ref-filename="112TopLevelOpcode">TopLevelOpcode</a>, <a class="local col1 ref" href="#111Op1" title='Op1' data-ref="111Op1" data-ref-filename="111Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>())) {</td></tr>
<tr><th id="780">780</th><td>    <i>// The instruction has the form "A op (B op' C)".  See if expanding it out</i></td></tr>
<tr><th id="781">781</th><td><i>    // to "(A op B) op' (A op C)" results in simplifications.</i></td></tr>
<tr><th id="782">782</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="131A" title='A' data-type='llvm::Value *' data-ref="131A" data-ref-filename="131A">A</dfn> = <a class="local col8 ref" href="#108LHS" title='LHS' data-ref="108LHS" data-ref-filename="108LHS">LHS</a>, *<dfn class="local col2 decl" id="132B" title='B' data-type='llvm::Value *' data-ref="132B" data-ref-filename="132B">B</dfn> = <a class="local col1 ref" href="#111Op1" title='Op1' data-ref="111Op1" data-ref-filename="111Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>), *<dfn class="local col3 decl" id="133C" title='C' data-type='llvm::Value *' data-ref="133C" data-ref-filename="133C">C</dfn> = <a class="local col1 ref" href="#111Op1" title='Op1' data-ref="111Op1" data-ref-filename="111Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="783">783</th><td>    <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col4 decl" id="134InnerOpcode" title='InnerOpcode' data-type='Instruction::BinaryOps' data-ref="134InnerOpcode" data-ref-filename="134InnerOpcode">InnerOpcode</dfn> = <a class="local col1 ref" href="#111Op1" title='Op1' data-ref="111Op1" data-ref-filename="111Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>(); <i>// op'</i></td></tr>
<tr><th id="784">784</th><td></td></tr>
<tr><th id="785">785</th><td>    <i>// Disable the use of undef because it's not safe to distribute undef.</i></td></tr>
<tr><th id="786">786</th><td>    <em>auto</em> <dfn class="local col5 decl" id="135SQDistributive" title='SQDistributive' data-type='llvm::SimplifyQuery' data-ref="135SQDistributive" data-ref-filename="135SQDistributive">SQDistributive</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::SQ" title='llvm::InstCombiner::SQ' data-ref="llvm::InstCombiner::SQ" data-ref-filename="llvm..InstCombiner..SQ">SQ</a>.<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" title='llvm::SimplifyQuery::getWithInstruction' data-ref="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" data-ref-filename="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE">getWithInstruction</a>(&amp;<a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a>).<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery15getWithoutUndefEv" title='llvm::SimplifyQuery::getWithoutUndef' data-ref="_ZNK4llvm13SimplifyQuery15getWithoutUndefEv" data-ref-filename="_ZNK4llvm13SimplifyQuery15getWithoutUndefEv">getWithoutUndef</a>();</td></tr>
<tr><th id="787">787</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="136L" title='L' data-type='llvm::Value *' data-ref="136L" data-ref-filename="136L">L</dfn> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col2 ref" href="#112TopLevelOpcode" title='TopLevelOpcode' data-ref="112TopLevelOpcode" data-ref-filename="112TopLevelOpcode">TopLevelOpcode</a>, <a class="local col1 ref" href="#131A" title='A' data-ref="131A" data-ref-filename="131A">A</a>, <a class="local col2 ref" href="#132B" title='B' data-ref="132B" data-ref-filename="132B">B</a>, <a class="local col5 ref" href="#135SQDistributive" title='SQDistributive' data-ref="135SQDistributive" data-ref-filename="135SQDistributive">SQDistributive</a>);</td></tr>
<tr><th id="788">788</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="137R" title='R' data-type='llvm::Value *' data-ref="137R" data-ref-filename="137R">R</dfn> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_RKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col2 ref" href="#112TopLevelOpcode" title='TopLevelOpcode' data-ref="112TopLevelOpcode" data-ref-filename="112TopLevelOpcode">TopLevelOpcode</a>, <a class="local col1 ref" href="#131A" title='A' data-ref="131A" data-ref-filename="131A">A</a>, <a class="local col3 ref" href="#133C" title='C' data-ref="133C" data-ref-filename="133C">C</a>, <a class="local col5 ref" href="#135SQDistributive" title='SQDistributive' data-ref="135SQDistributive" data-ref-filename="135SQDistributive">SQDistributive</a>);</td></tr>
<tr><th id="789">789</th><td></td></tr>
<tr><th id="790">790</th><td>    <i>// Do "A op B" and "A op C" both simplify?</i></td></tr>
<tr><th id="791">791</th><td>    <b>if</b> (<a class="local col6 ref" href="#136L" title='L' data-ref="136L" data-ref-filename="136L">L</a> &amp;&amp; <a class="local col7 ref" href="#137R" title='R' data-ref="137R" data-ref-filename="137R">R</a>) {</td></tr>
<tr><th id="792">792</th><td>      <i>// They do! Return "L op' R".</i></td></tr>
<tr><th id="793">793</th><td>      <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#124" title='NumExpand' data-ref="NumExpand" data-ref-filename="NumExpand">NumExpand</a>;</td></tr>
<tr><th id="794">794</th><td>      <a class="local col1 ref" href="#131A" title='A' data-ref="131A" data-ref-filename="131A">A</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col4 ref" href="#134InnerOpcode" title='InnerOpcode' data-ref="134InnerOpcode" data-ref-filename="134InnerOpcode">InnerOpcode</a>, <a class="local col6 ref" href="#136L" title='L' data-ref="136L" data-ref-filename="136L">L</a>, <a class="local col7 ref" href="#137R" title='R' data-ref="137R" data-ref-filename="137R">R</a>);</td></tr>
<tr><th id="795">795</th><td>      <a class="local col1 ref" href="#131A" title='A' data-ref="131A" data-ref-filename="131A">A</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value8takeNameEPS0_" title='llvm::Value::takeName' data-ref="_ZN4llvm5Value8takeNameEPS0_" data-ref-filename="_ZN4llvm5Value8takeNameEPS0_">takeName</a>(&amp;<a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a>);</td></tr>
<tr><th id="796">796</th><td>      <b>return</b> <a class="local col1 ref" href="#131A" title='A' data-ref="131A" data-ref-filename="131A">A</a>;</td></tr>
<tr><th id="797">797</th><td>    }</td></tr>
<tr><th id="798">798</th><td></td></tr>
<tr><th id="799">799</th><td>    <i>// Does "A op B" simplify to the identity value for the inner opcode?</i></td></tr>
<tr><th id="800">800</th><td>    <b>if</b> (<a class="local col6 ref" href="#136L" title='L' data-ref="136L" data-ref-filename="136L">L</a> &amp;&amp; <a class="local col6 ref" href="#136L" title='L' data-ref="136L" data-ref-filename="136L">L</a> == <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb" title='llvm::ConstantExpr::getBinOpIdentity' data-ref="_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb" data-ref-filename="_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb">getBinOpIdentity</a>(<a class="local col4 ref" href="#134InnerOpcode" title='InnerOpcode' data-ref="134InnerOpcode" data-ref-filename="134InnerOpcode">InnerOpcode</a>, <a class="local col6 ref" href="#136L" title='L' data-ref="136L" data-ref-filename="136L">L</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>())) {</td></tr>
<tr><th id="801">801</th><td>      <i>// They do! Return "A op C".</i></td></tr>
<tr><th id="802">802</th><td>      <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#124" title='NumExpand' data-ref="NumExpand" data-ref-filename="NumExpand">NumExpand</a>;</td></tr>
<tr><th id="803">803</th><td>      <a class="local col1 ref" href="#131A" title='A' data-ref="131A" data-ref-filename="131A">A</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col2 ref" href="#112TopLevelOpcode" title='TopLevelOpcode' data-ref="112TopLevelOpcode" data-ref-filename="112TopLevelOpcode">TopLevelOpcode</a>, <a class="local col1 ref" href="#131A" title='A' data-ref="131A" data-ref-filename="131A">A</a>, <a class="local col3 ref" href="#133C" title='C' data-ref="133C" data-ref-filename="133C">C</a>);</td></tr>
<tr><th id="804">804</th><td>      <a class="local col1 ref" href="#131A" title='A' data-ref="131A" data-ref-filename="131A">A</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value8takeNameEPS0_" title='llvm::Value::takeName' data-ref="_ZN4llvm5Value8takeNameEPS0_" data-ref-filename="_ZN4llvm5Value8takeNameEPS0_">takeName</a>(&amp;<a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a>);</td></tr>
<tr><th id="805">805</th><td>      <b>return</b> <a class="local col1 ref" href="#131A" title='A' data-ref="131A" data-ref-filename="131A">A</a>;</td></tr>
<tr><th id="806">806</th><td>    }</td></tr>
<tr><th id="807">807</th><td></td></tr>
<tr><th id="808">808</th><td>    <i>// Does "A op C" simplify to the identity value for the inner opcode?</i></td></tr>
<tr><th id="809">809</th><td>    <b>if</b> (<a class="local col7 ref" href="#137R" title='R' data-ref="137R" data-ref-filename="137R">R</a> &amp;&amp; <a class="local col7 ref" href="#137R" title='R' data-ref="137R" data-ref-filename="137R">R</a> == <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb" title='llvm::ConstantExpr::getBinOpIdentity' data-ref="_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb" data-ref-filename="_ZN4llvm12ConstantExpr16getBinOpIdentityEjPNS_4TypeEb">getBinOpIdentity</a>(<a class="local col4 ref" href="#134InnerOpcode" title='InnerOpcode' data-ref="134InnerOpcode" data-ref-filename="134InnerOpcode">InnerOpcode</a>, <a class="local col7 ref" href="#137R" title='R' data-ref="137R" data-ref-filename="137R">R</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>())) {</td></tr>
<tr><th id="810">810</th><td>      <i>// They do! Return "A op B".</i></td></tr>
<tr><th id="811">811</th><td>      <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#124" title='NumExpand' data-ref="NumExpand" data-ref-filename="NumExpand">NumExpand</a>;</td></tr>
<tr><th id="812">812</th><td>      <a class="local col1 ref" href="#131A" title='A' data-ref="131A" data-ref-filename="131A">A</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col2 ref" href="#112TopLevelOpcode" title='TopLevelOpcode' data-ref="112TopLevelOpcode" data-ref-filename="112TopLevelOpcode">TopLevelOpcode</a>, <a class="local col1 ref" href="#131A" title='A' data-ref="131A" data-ref-filename="131A">A</a>, <a class="local col2 ref" href="#132B" title='B' data-ref="132B" data-ref-filename="132B">B</a>);</td></tr>
<tr><th id="813">813</th><td>      <a class="local col1 ref" href="#131A" title='A' data-ref="131A" data-ref-filename="131A">A</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value8takeNameEPS0_" title='llvm::Value::takeName' data-ref="_ZN4llvm5Value8takeNameEPS0_" data-ref-filename="_ZN4llvm5Value8takeNameEPS0_">takeName</a>(&amp;<a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a>);</td></tr>
<tr><th id="814">814</th><td>      <b>return</b> <a class="local col1 ref" href="#131A" title='A' data-ref="131A" data-ref-filename="131A">A</a>;</td></tr>
<tr><th id="815">815</th><td>    }</td></tr>
<tr><th id="816">816</th><td>  }</td></tr>
<tr><th id="817">817</th><td></td></tr>
<tr><th id="818">818</th><td>  <b>return</b> <a class="member fn" href="#_ZN4llvm16InstCombinerImpl30SimplifySelectsFeedingBinaryOpERNS_14BinaryOperatorEPNS_5ValueES4_" title='llvm::InstCombinerImpl::SimplifySelectsFeedingBinaryOp' data-ref="_ZN4llvm16InstCombinerImpl30SimplifySelectsFeedingBinaryOpERNS_14BinaryOperatorEPNS_5ValueES4_" data-ref-filename="_ZN4llvm16InstCombinerImpl30SimplifySelectsFeedingBinaryOpERNS_14BinaryOperatorEPNS_5ValueES4_">SimplifySelectsFeedingBinaryOp</a>(<span class='refarg'><a class="local col7 ref" href="#107I" title='I' data-ref="107I" data-ref-filename="107I">I</a></span>, <a class="local col8 ref" href="#108LHS" title='LHS' data-ref="108LHS" data-ref-filename="108LHS">LHS</a>, <a class="local col9 ref" href="#109RHS" title='RHS' data-ref="109RHS" data-ref-filename="109RHS">RHS</a>);</td></tr>
<tr><th id="819">819</th><td>}</td></tr>
<tr><th id="820">820</th><td></td></tr>
<tr><th id="821">821</th><td><a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl30SimplifySelectsFeedingBinaryOpERNS_14BinaryOperatorEPNS_5ValueES4_" title='llvm::InstCombinerImpl::SimplifySelectsFeedingBinaryOp' data-ref="_ZN4llvm16InstCombinerImpl30SimplifySelectsFeedingBinaryOpERNS_14BinaryOperatorEPNS_5ValueES4_" data-ref-filename="_ZN4llvm16InstCombinerImpl30SimplifySelectsFeedingBinaryOpERNS_14BinaryOperatorEPNS_5ValueES4_">SimplifySelectsFeedingBinaryOp</dfn>(<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> &amp;<dfn class="local col8 decl" id="138I" title='I' data-type='llvm::BinaryOperator &amp;' data-ref="138I" data-ref-filename="138I">I</dfn>,</td></tr>
<tr><th id="822">822</th><td>                                                        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="139LHS" title='LHS' data-type='llvm::Value *' data-ref="139LHS" data-ref-filename="139LHS">LHS</dfn>,</td></tr>
<tr><th id="823">823</th><td>                                                        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="140RHS" title='RHS' data-type='llvm::Value *' data-ref="140RHS" data-ref-filename="140RHS">RHS</dfn>) {</td></tr>
<tr><th id="824">824</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="141A" title='A' data-type='llvm::Value *' data-ref="141A" data-ref-filename="141A">A</dfn>, *<dfn class="local col2 decl" id="142B" title='B' data-type='llvm::Value *' data-ref="142B" data-ref-filename="142B">B</dfn>, *<dfn class="local col3 decl" id="143C" title='C' data-type='llvm::Value *' data-ref="143C" data-ref-filename="143C">C</dfn>, *<dfn class="local col4 decl" id="144D" title='D' data-type='llvm::Value *' data-ref="144D" data-ref-filename="144D">D</dfn>, *<dfn class="local col5 decl" id="145E" title='E' data-type='llvm::Value *' data-ref="145E" data-ref-filename="145E">E</dfn>, *<dfn class="local col6 decl" id="146F" title='F' data-type='llvm::Value *' data-ref="146F" data-ref-filename="146F">F</dfn>;</td></tr>
<tr><th id="825">825</th><td>  <em>bool</em> <dfn class="local col7 decl" id="147LHSIsSelect" title='LHSIsSelect' data-type='bool' data-ref="147LHSIsSelect" data-ref-filename="147LHSIsSelect">LHSIsSelect</dfn> = <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col9 ref" href="#139LHS" title='LHS' data-ref="139LHS" data-ref-filename="139LHS">LHS</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch8m_SelectERKT_RKT0_RKT1_" title='llvm::PatternMatch::m_Select' data-ref="_ZN4llvm12PatternMatch8m_SelectERKT_RKT0_RKT1_" data-ref-filename="_ZN4llvm12PatternMatch8m_SelectERKT_RKT0_RKT1_">m_Select</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col1 ref" href="#141A" title='A' data-ref="141A" data-ref-filename="141A">A</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col2 ref" href="#142B" title='B' data-ref="142B" data-ref-filename="142B">B</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col3 ref" href="#143C" title='C' data-ref="143C" data-ref-filename="143C">C</a></span>)));</td></tr>
<tr><th id="826">826</th><td>  <em>bool</em> <dfn class="local col8 decl" id="148RHSIsSelect" title='RHSIsSelect' data-type='bool' data-ref="148RHSIsSelect" data-ref-filename="148RHSIsSelect">RHSIsSelect</dfn> = <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col0 ref" href="#140RHS" title='RHS' data-ref="140RHS" data-ref-filename="140RHS">RHS</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch8m_SelectERKT_RKT0_RKT1_" title='llvm::PatternMatch::m_Select' data-ref="_ZN4llvm12PatternMatch8m_SelectERKT_RKT0_RKT1_" data-ref-filename="_ZN4llvm12PatternMatch8m_SelectERKT_RKT0_RKT1_">m_Select</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col4 ref" href="#144D" title='D' data-ref="144D" data-ref-filename="144D">D</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col5 ref" href="#145E" title='E' data-ref="145E" data-ref-filename="145E">E</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col6 ref" href="#146F" title='F' data-ref="146F" data-ref-filename="146F">F</a></span>)));</td></tr>
<tr><th id="827">827</th><td>  <b>if</b> (!<a class="local col7 ref" href="#147LHSIsSelect" title='LHSIsSelect' data-ref="147LHSIsSelect" data-ref-filename="147LHSIsSelect">LHSIsSelect</a> &amp;&amp; !<a class="local col8 ref" href="#148RHSIsSelect" title='RHSIsSelect' data-ref="148RHSIsSelect" data-ref-filename="148RHSIsSelect">RHSIsSelect</a>)</td></tr>
<tr><th id="828">828</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="829">829</th><td></td></tr>
<tr><th id="830">830</th><td>  <a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::FastMathFlags" title='llvm::FastMathFlags' data-ref="llvm::FastMathFlags" data-ref-filename="llvm..FastMathFlags">FastMathFlags</a> <a class="ref fn fake" href="../../../include/llvm/IR/Operator.h.html#_ZN4llvm13FastMathFlagsC1Ev" title='llvm::FastMathFlags::FastMathFlags' data-ref="_ZN4llvm13FastMathFlagsC1Ev" data-ref-filename="_ZN4llvm13FastMathFlagsC1Ev"></a><dfn class="local col9 decl" id="149FMF" title='FMF' data-type='llvm::FastMathFlags' data-ref="149FMF" data-ref-filename="149FMF">FMF</dfn>;</td></tr>
<tr><th id="831">831</th><td>  <a class="typedef" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::BuilderTy" title='llvm::InstCombiner::BuilderTy' data-type='IRBuilder&lt;llvm::TargetFolder, llvm::IRBuilderCallbackInserter&gt;' data-ref="llvm::InstCombiner::BuilderTy" data-ref-filename="llvm..InstCombiner..BuilderTy">BuilderTy</a>::<a class="type" href="../../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilderBase::FastMathFlagGuard" title='llvm::IRBuilderBase::FastMathFlagGuard' data-ref="llvm::IRBuilderBase::FastMathFlagGuard" data-ref-filename="llvm..IRBuilderBase..FastMathFlagGuard">FastMathFlagGuard</a> <dfn class="local col0 decl" id="150Guard" title='Guard' data-type='BuilderTy::FastMathFlagGuard' data-ref="150Guard" data-ref-filename="150Guard">Guard</dfn><a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17FastMathFlagGuardC1ERS0_" title='llvm::IRBuilderBase::FastMathFlagGuard::FastMathFlagGuard' data-ref="_ZN4llvm13IRBuilderBase17FastMathFlagGuardC1ERS0_" data-ref-filename="_ZN4llvm13IRBuilderBase17FastMathFlagGuardC1ERS0_">(</a><a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>);</td></tr>
<tr><th id="832">832</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::FPMathOperator" title='llvm::FPMathOperator' data-ref="llvm::FPMathOperator" data-ref-filename="llvm..FPMathOperator">FPMathOperator</a>&gt;(&amp;<a class="local col8 ref" href="#138I" title='I' data-ref="138I" data-ref-filename="138I">I</a>)) {</td></tr>
<tr><th id="833">833</th><td>    <a class="local col9 ref" href="#149FMF" title='FMF' data-ref="149FMF" data-ref-filename="149FMF">FMF</a> <a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#160" title='llvm::FastMathFlags::operator=' data-ref="_ZN4llvm13FastMathFlagsaSEOS0_" data-ref-filename="_ZN4llvm13FastMathFlagsaSEOS0_">=</a> <a class="local col8 ref" href="#138I" title='I' data-ref="138I" data-ref-filename="138I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction16getFastMathFlagsEv" title='llvm::Instruction::getFastMathFlags' data-ref="_ZNK4llvm11Instruction16getFastMathFlagsEv" data-ref-filename="_ZNK4llvm11Instruction16getFastMathFlagsEv">getFastMathFlags</a>();</td></tr>
<tr><th id="834">834</th><td>    <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase16setFastMathFlagsENS_13FastMathFlagsE" title='llvm::IRBuilderBase::setFastMathFlags' data-ref="_ZN4llvm13IRBuilderBase16setFastMathFlagsENS_13FastMathFlagsE" data-ref-filename="_ZN4llvm13IRBuilderBase16setFastMathFlagsENS_13FastMathFlagsE">setFastMathFlags</a>(<a class="ref fn fake" href="../../../include/llvm/IR/Operator.h.html#160" title='llvm::FastMathFlags::FastMathFlags' data-ref="_ZN4llvm13FastMathFlagsC1ERKS0_" data-ref-filename="_ZN4llvm13FastMathFlagsC1ERKS0_"></a><a class="local col9 ref" href="#149FMF" title='FMF' data-ref="149FMF" data-ref-filename="149FMF">FMF</a>);</td></tr>
<tr><th id="835">835</th><td>  }</td></tr>
<tr><th id="836">836</th><td></td></tr>
<tr><th id="837">837</th><td>  <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col1 decl" id="151Opcode" title='Opcode' data-type='Instruction::BinaryOps' data-ref="151Opcode" data-ref-filename="151Opcode">Opcode</dfn> = <a class="local col8 ref" href="#138I" title='I' data-ref="138I" data-ref-filename="138I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>();</td></tr>
<tr><th id="838">838</th><td>  <a class="type" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#llvm::SimplifyQuery" title='llvm::SimplifyQuery' data-ref="llvm::SimplifyQuery" data-ref-filename="llvm..SimplifyQuery">SimplifyQuery</a> <dfn class="local col2 decl" id="152Q" title='Q' data-type='llvm::SimplifyQuery' data-ref="152Q" data-ref-filename="152Q">Q</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::SQ" title='llvm::InstCombiner::SQ' data-ref="llvm::InstCombiner::SQ" data-ref-filename="llvm..InstCombiner..SQ">SQ</a>.<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" title='llvm::SimplifyQuery::getWithInstruction' data-ref="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" data-ref-filename="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE">getWithInstruction</a>(&amp;<a class="local col8 ref" href="#138I" title='I' data-ref="138I" data-ref-filename="138I">I</a>);</td></tr>
<tr><th id="839">839</th><td></td></tr>
<tr><th id="840">840</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="153Cond" title='Cond' data-type='llvm::Value *' data-ref="153Cond" data-ref-filename="153Cond">Cond</dfn>, *<dfn class="local col4 decl" id="154True" title='True' data-type='llvm::Value *' data-ref="154True" data-ref-filename="154True">True</dfn> = <b>nullptr</b>, *<dfn class="local col5 decl" id="155False" title='False' data-type='llvm::Value *' data-ref="155False" data-ref-filename="155False">False</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="841">841</th><td>  <b>if</b> (<a class="local col7 ref" href="#147LHSIsSelect" title='LHSIsSelect' data-ref="147LHSIsSelect" data-ref-filename="147LHSIsSelect">LHSIsSelect</a> &amp;&amp; <a class="local col8 ref" href="#148RHSIsSelect" title='RHSIsSelect' data-ref="148RHSIsSelect" data-ref-filename="148RHSIsSelect">RHSIsSelect</a> &amp;&amp; <a class="local col1 ref" href="#141A" title='A' data-ref="141A" data-ref-filename="141A">A</a> == <a class="local col4 ref" href="#144D" title='D' data-ref="144D" data-ref-filename="144D">D</a>) {</td></tr>
<tr><th id="842">842</th><td>    <i>// (A ? B : C) op (A ? E : F) -&gt; A ? (B op E) : (C op F)</i></td></tr>
<tr><th id="843">843</th><td>    <a class="local col3 ref" href="#153Cond" title='Cond' data-ref="153Cond" data-ref-filename="153Cond">Cond</a> = <a class="local col1 ref" href="#141A" title='A' data-ref="141A" data-ref-filename="141A">A</a>;</td></tr>
<tr><th id="844">844</th><td>    <a class="local col4 ref" href="#154True" title='True' data-ref="154True" data-ref-filename="154True">True</a> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col1 ref" href="#151Opcode" title='Opcode' data-ref="151Opcode" data-ref-filename="151Opcode">Opcode</a>, <a class="local col2 ref" href="#142B" title='B' data-ref="142B" data-ref-filename="142B">B</a>, <a class="local col5 ref" href="#145E" title='E' data-ref="145E" data-ref-filename="145E">E</a>, <a class="ref fn fake" href="../../../include/llvm/IR/Operator.h.html#160" title='llvm::FastMathFlags::FastMathFlags' data-ref="_ZN4llvm13FastMathFlagsC1ERKS0_" data-ref-filename="_ZN4llvm13FastMathFlagsC1ERKS0_"></a><a class="local col9 ref" href="#149FMF" title='FMF' data-ref="149FMF" data-ref-filename="149FMF">FMF</a>, <a class="local col2 ref" href="#152Q" title='Q' data-ref="152Q" data-ref-filename="152Q">Q</a>);</td></tr>
<tr><th id="845">845</th><td>    <a class="local col5 ref" href="#155False" title='False' data-ref="155False" data-ref-filename="155False">False</a> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col1 ref" href="#151Opcode" title='Opcode' data-ref="151Opcode" data-ref-filename="151Opcode">Opcode</a>, <a class="local col3 ref" href="#143C" title='C' data-ref="143C" data-ref-filename="143C">C</a>, <a class="local col6 ref" href="#146F" title='F' data-ref="146F" data-ref-filename="146F">F</a>, <a class="ref fn fake" href="../../../include/llvm/IR/Operator.h.html#160" title='llvm::FastMathFlags::FastMathFlags' data-ref="_ZN4llvm13FastMathFlagsC1ERKS0_" data-ref-filename="_ZN4llvm13FastMathFlagsC1ERKS0_"></a><a class="local col9 ref" href="#149FMF" title='FMF' data-ref="149FMF" data-ref-filename="149FMF">FMF</a>, <a class="local col2 ref" href="#152Q" title='Q' data-ref="152Q" data-ref-filename="152Q">Q</a>);</td></tr>
<tr><th id="846">846</th><td></td></tr>
<tr><th id="847">847</th><td>    <b>if</b> (<a class="local col9 ref" href="#139LHS" title='LHS' data-ref="139LHS" data-ref-filename="139LHS">LHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>() &amp;&amp; <a class="local col0 ref" href="#140RHS" title='RHS' data-ref="140RHS" data-ref-filename="140RHS">RHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>()) {</td></tr>
<tr><th id="848">848</th><td>      <b>if</b> (<a class="local col5 ref" href="#155False" title='False' data-ref="155False" data-ref-filename="155False">False</a> &amp;&amp; !<a class="local col4 ref" href="#154True" title='True' data-ref="154True" data-ref-filename="154True">True</a>)</td></tr>
<tr><th id="849">849</th><td>        <a class="local col4 ref" href="#154True" title='True' data-ref="154True" data-ref-filename="154True">True</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col1 ref" href="#151Opcode" title='Opcode' data-ref="151Opcode" data-ref-filename="151Opcode">Opcode</a>, <a class="local col2 ref" href="#142B" title='B' data-ref="142B" data-ref-filename="142B">B</a>, <a class="local col5 ref" href="#145E" title='E' data-ref="145E" data-ref-filename="145E">E</a>);</td></tr>
<tr><th id="850">850</th><td>      <b>else</b> <b>if</b> (<a class="local col4 ref" href="#154True" title='True' data-ref="154True" data-ref-filename="154True">True</a> &amp;&amp; !<a class="local col5 ref" href="#155False" title='False' data-ref="155False" data-ref-filename="155False">False</a>)</td></tr>
<tr><th id="851">851</th><td>        <a class="local col5 ref" href="#155False" title='False' data-ref="155False" data-ref-filename="155False">False</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col1 ref" href="#151Opcode" title='Opcode' data-ref="151Opcode" data-ref-filename="151Opcode">Opcode</a>, <a class="local col3 ref" href="#143C" title='C' data-ref="143C" data-ref-filename="143C">C</a>, <a class="local col6 ref" href="#146F" title='F' data-ref="146F" data-ref-filename="146F">F</a>);</td></tr>
<tr><th id="852">852</th><td>    }</td></tr>
<tr><th id="853">853</th><td>  } <b>else</b> <b>if</b> (<a class="local col7 ref" href="#147LHSIsSelect" title='LHSIsSelect' data-ref="147LHSIsSelect" data-ref-filename="147LHSIsSelect">LHSIsSelect</a> &amp;&amp; <a class="local col9 ref" href="#139LHS" title='LHS' data-ref="139LHS" data-ref-filename="139LHS">LHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>()) {</td></tr>
<tr><th id="854">854</th><td>    <i>// (A ? B : C) op Y -&gt; A ? (B op Y) : (C op Y)</i></td></tr>
<tr><th id="855">855</th><td>    <a class="local col3 ref" href="#153Cond" title='Cond' data-ref="153Cond" data-ref-filename="153Cond">Cond</a> = <a class="local col1 ref" href="#141A" title='A' data-ref="141A" data-ref-filename="141A">A</a>;</td></tr>
<tr><th id="856">856</th><td>    <a class="local col4 ref" href="#154True" title='True' data-ref="154True" data-ref-filename="154True">True</a> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col1 ref" href="#151Opcode" title='Opcode' data-ref="151Opcode" data-ref-filename="151Opcode">Opcode</a>, <a class="local col2 ref" href="#142B" title='B' data-ref="142B" data-ref-filename="142B">B</a>, <a class="local col0 ref" href="#140RHS" title='RHS' data-ref="140RHS" data-ref-filename="140RHS">RHS</a>, <a class="ref fn fake" href="../../../include/llvm/IR/Operator.h.html#160" title='llvm::FastMathFlags::FastMathFlags' data-ref="_ZN4llvm13FastMathFlagsC1ERKS0_" data-ref-filename="_ZN4llvm13FastMathFlagsC1ERKS0_"></a><a class="local col9 ref" href="#149FMF" title='FMF' data-ref="149FMF" data-ref-filename="149FMF">FMF</a>, <a class="local col2 ref" href="#152Q" title='Q' data-ref="152Q" data-ref-filename="152Q">Q</a>);</td></tr>
<tr><th id="857">857</th><td>    <a class="local col5 ref" href="#155False" title='False' data-ref="155False" data-ref-filename="155False">False</a> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col1 ref" href="#151Opcode" title='Opcode' data-ref="151Opcode" data-ref-filename="151Opcode">Opcode</a>, <a class="local col3 ref" href="#143C" title='C' data-ref="143C" data-ref-filename="143C">C</a>, <a class="local col0 ref" href="#140RHS" title='RHS' data-ref="140RHS" data-ref-filename="140RHS">RHS</a>, <a class="ref fn fake" href="../../../include/llvm/IR/Operator.h.html#160" title='llvm::FastMathFlags::FastMathFlags' data-ref="_ZN4llvm13FastMathFlagsC1ERKS0_" data-ref-filename="_ZN4llvm13FastMathFlagsC1ERKS0_"></a><a class="local col9 ref" href="#149FMF" title='FMF' data-ref="149FMF" data-ref-filename="149FMF">FMF</a>, <a class="local col2 ref" href="#152Q" title='Q' data-ref="152Q" data-ref-filename="152Q">Q</a>);</td></tr>
<tr><th id="858">858</th><td>  } <b>else</b> <b>if</b> (<a class="local col8 ref" href="#148RHSIsSelect" title='RHSIsSelect' data-ref="148RHSIsSelect" data-ref-filename="148RHSIsSelect">RHSIsSelect</a> &amp;&amp; <a class="local col0 ref" href="#140RHS" title='RHS' data-ref="140RHS" data-ref-filename="140RHS">RHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>()) {</td></tr>
<tr><th id="859">859</th><td>    <i>// X op (D ? E : F) -&gt; D ? (X op E) : (X op F)</i></td></tr>
<tr><th id="860">860</th><td>    <a class="local col3 ref" href="#153Cond" title='Cond' data-ref="153Cond" data-ref-filename="153Cond">Cond</a> = <a class="local col4 ref" href="#144D" title='D' data-ref="144D" data-ref-filename="144D">D</a>;</td></tr>
<tr><th id="861">861</th><td>    <a class="local col4 ref" href="#154True" title='True' data-ref="154True" data-ref-filename="154True">True</a> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col1 ref" href="#151Opcode" title='Opcode' data-ref="151Opcode" data-ref-filename="151Opcode">Opcode</a>, <a class="local col9 ref" href="#139LHS" title='LHS' data-ref="139LHS" data-ref-filename="139LHS">LHS</a>, <a class="local col5 ref" href="#145E" title='E' data-ref="145E" data-ref-filename="145E">E</a>, <a class="ref fn fake" href="../../../include/llvm/IR/Operator.h.html#160" title='llvm::FastMathFlags::FastMathFlags' data-ref="_ZN4llvm13FastMathFlagsC1ERKS0_" data-ref-filename="_ZN4llvm13FastMathFlagsC1ERKS0_"></a><a class="local col9 ref" href="#149FMF" title='FMF' data-ref="149FMF" data-ref-filename="149FMF">FMF</a>, <a class="local col2 ref" href="#152Q" title='Q' data-ref="152Q" data-ref-filename="152Q">Q</a>);</td></tr>
<tr><th id="862">862</th><td>    <a class="local col5 ref" href="#155False" title='False' data-ref="155False" data-ref-filename="155False">False</a> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE" title='llvm::SimplifyBinOp' data-ref="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm13SimplifyBinOpEjPNS_5ValueES1_NS_13FastMathFlagsERKNS_13SimplifyQueryE">SimplifyBinOp</a>(<a class="local col1 ref" href="#151Opcode" title='Opcode' data-ref="151Opcode" data-ref-filename="151Opcode">Opcode</a>, <a class="local col9 ref" href="#139LHS" title='LHS' data-ref="139LHS" data-ref-filename="139LHS">LHS</a>, <a class="local col6 ref" href="#146F" title='F' data-ref="146F" data-ref-filename="146F">F</a>, <a class="ref fn fake" href="../../../include/llvm/IR/Operator.h.html#160" title='llvm::FastMathFlags::FastMathFlags' data-ref="_ZN4llvm13FastMathFlagsC1ERKS0_" data-ref-filename="_ZN4llvm13FastMathFlagsC1ERKS0_"></a><a class="local col9 ref" href="#149FMF" title='FMF' data-ref="149FMF" data-ref-filename="149FMF">FMF</a>, <a class="local col2 ref" href="#152Q" title='Q' data-ref="152Q" data-ref-filename="152Q">Q</a>);</td></tr>
<tr><th id="863">863</th><td>  }</td></tr>
<tr><th id="864">864</th><td></td></tr>
<tr><th id="865">865</th><td>  <b>if</b> (!<a class="local col4 ref" href="#154True" title='True' data-ref="154True" data-ref-filename="154True">True</a> || !<a class="local col5 ref" href="#155False" title='False' data-ref="155False" data-ref-filename="155False">False</a>)</td></tr>
<tr><th id="866">866</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="867">867</th><td></td></tr>
<tr><th id="868">868</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="156SI" title='SI' data-type='llvm::Value *' data-ref="156SI" data-ref-filename="156SI">SI</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE" title='llvm::IRBuilderBase::CreateSelect' data-ref="_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE">CreateSelect</a>(<a class="local col3 ref" href="#153Cond" title='Cond' data-ref="153Cond" data-ref-filename="153Cond">Cond</a>, <a class="local col4 ref" href="#154True" title='True' data-ref="154True" data-ref-filename="154True">True</a>, <a class="local col5 ref" href="#155False" title='False' data-ref="155False" data-ref-filename="155False">False</a>);</td></tr>
<tr><th id="869">869</th><td>  <a class="local col6 ref" href="#156SI" title='SI' data-ref="156SI" data-ref-filename="156SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value8takeNameEPS0_" title='llvm::Value::takeName' data-ref="_ZN4llvm5Value8takeNameEPS0_" data-ref-filename="_ZN4llvm5Value8takeNameEPS0_">takeName</a>(&amp;<a class="local col8 ref" href="#138I" title='I' data-ref="138I" data-ref-filename="138I">I</a>);</td></tr>
<tr><th id="870">870</th><td>  <b>return</b> <a class="local col6 ref" href="#156SI" title='SI' data-ref="156SI" data-ref-filename="156SI">SI</a>;</td></tr>
<tr><th id="871">871</th><td>}</td></tr>
<tr><th id="872">872</th><td></td></tr>
<tr><th id="873">873</th><td><i class="doc">/// Freely adapt every user of V as-if V was changed to !V.</i></td></tr>
<tr><th id="874">874</th><td><i class="doc">/// WARNING: only if canFreelyInvertAllUsersOf() said this can be done.</i></td></tr>
<tr><th id="875">875</th><td><em>void</em> <a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl22freelyInvertAllUsersOfEPNS_5ValueE" title='llvm::InstCombinerImpl::freelyInvertAllUsersOf' data-ref="_ZN4llvm16InstCombinerImpl22freelyInvertAllUsersOfEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl22freelyInvertAllUsersOfEPNS_5ValueE">freelyInvertAllUsersOf</dfn>(<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="157I" title='I' data-type='llvm::Value *' data-ref="157I" data-ref-filename="157I">I</dfn>) {</td></tr>
<tr><th id="876">876</th><td>  <b>for</b> (<a class="type" href="../../../include/llvm/IR/User.h.html#llvm::User" title='llvm::User' data-ref="llvm::User" data-ref-filename="llvm..User">User</a> *<dfn class="local col8 decl" id="158U" title='U' data-type='llvm::User *' data-ref="158U" data-ref-filename="158U">U</dfn> : <a class="local col7 ref" href="#157I" title='I' data-ref="157I" data-ref-filename="157I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value5usersEv" title='llvm::Value::users' data-ref="_ZN4llvm5Value5usersEv" data-ref-filename="_ZN4llvm5Value5usersEv">users</a>()) {</td></tr>
<tr><th id="877">877</th><td>    <b>switch</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>&gt;(<a class="local col8 ref" href="#158U" title='U' data-ref="158U" data-ref-filename="158U">U</a>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction9getOpcodeEv" title='llvm::Instruction::getOpcode' data-ref="_ZNK4llvm11Instruction9getOpcodeEv" data-ref-filename="_ZNK4llvm11Instruction9getOpcodeEv">getOpcode</a>()) {</td></tr>
<tr><th id="878">878</th><td>    <b>case</b> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#210" title='llvm::Instruction::Select' data-ref="llvm::Instruction::Select" data-ref-filename="llvm..Instruction..Select">Select</a>: {</td></tr>
<tr><th id="879">879</th><td>      <em>auto</em> *<dfn class="local col9 decl" id="159SI" title='SI' data-type='llvm::SelectInst *' data-ref="159SI" data-ref-filename="159SI">SI</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::SelectInst" title='llvm::SelectInst' data-ref="llvm::SelectInst" data-ref-filename="llvm..SelectInst">SelectInst</a>&gt;(<a class="local col8 ref" href="#158U" title='U' data-ref="158U" data-ref-filename="158U">U</a>);</td></tr>
<tr><th id="880">880</th><td>      <a class="local col9 ref" href="#159SI" title='SI' data-ref="159SI" data-ref-filename="159SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SelectInst10swapValuesEv" title='llvm::SelectInst::swapValues' data-ref="_ZN4llvm10SelectInst10swapValuesEv" data-ref-filename="_ZN4llvm10SelectInst10swapValuesEv">swapValues</a>();</td></tr>
<tr><th id="881">881</th><td>      <a class="local col9 ref" href="#159SI" title='SI' data-ref="159SI" data-ref-filename="159SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction16swapProfMetadataEv" title='llvm::Instruction::swapProfMetadata' data-ref="_ZN4llvm11Instruction16swapProfMetadataEv" data-ref-filename="_ZN4llvm11Instruction16swapProfMetadataEv">swapProfMetadata</a>();</td></tr>
<tr><th id="882">882</th><td>      <b>break</b>;</td></tr>
<tr><th id="883">883</th><td>    }</td></tr>
<tr><th id="884">884</th><td>    <b>case</b> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#128" title='llvm::Instruction::Br' data-ref="llvm::Instruction::Br" data-ref-filename="llvm..Instruction..Br">Br</a>:</td></tr>
<tr><th id="885">885</th><td>      <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::BranchInst" title='llvm::BranchInst' data-ref="llvm::BranchInst" data-ref-filename="llvm..BranchInst">BranchInst</a>&gt;(<a class="local col8 ref" href="#158U" title='U' data-ref="158U" data-ref-filename="158U">U</a>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10BranchInst14swapSuccessorsEv" title='llvm::BranchInst::swapSuccessors' data-ref="_ZN4llvm10BranchInst14swapSuccessorsEv" data-ref-filename="_ZN4llvm10BranchInst14swapSuccessorsEv">swapSuccessors</a>(); <i>// swaps prof metadata too</i></td></tr>
<tr><th id="886">886</th><td>      <b>break</b>;</td></tr>
<tr><th id="887">887</th><td>    <b>case</b> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#166" title='llvm::Instruction::Xor' data-ref="llvm::Instruction::Xor" data-ref-filename="llvm..Instruction..Xor">Xor</a>:</td></tr>
<tr><th id="888">888</th><td>      <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'><a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castERT0_" title='llvm::cast' data-ref="_ZN4llvm4castERT0_" data-ref-filename="_ZN4llvm4castERT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>&gt;(<span class='refarg'>*<a class="local col8 ref" href="#158U" title='U' data-ref="158U" data-ref-filename="158U">U</a></span>)</span>, <a class="local col7 ref" href="#157I" title='I' data-ref="157I" data-ref-filename="157I">I</a>);</td></tr>
<tr><th id="889">889</th><td>      <b>break</b>;</td></tr>
<tr><th id="890">890</th><td>    <b>default</b>:</td></tr>
<tr><th id="891">891</th><td>      <a class="macro" href="../../../include/llvm/Support/ErrorHandling.h.html#139" title="__builtin_unreachable()" data-ref="_M/llvm_unreachable">llvm_unreachable</a>(<q>"Got unexpected user - out of sync with "</q></td></tr>
<tr><th id="892">892</th><td>                       <q>"canFreelyInvertAllUsersOf() ?"</q>);</td></tr>
<tr><th id="893">893</th><td>    }</td></tr>
<tr><th id="894">894</th><td>  }</td></tr>
<tr><th id="895">895</th><td>}</td></tr>
<tr><th id="896">896</th><td></td></tr>
<tr><th id="897">897</th><td><i class="doc">/// Given a 'sub' instruction, return the RHS of the instruction if the LHS is a</i></td></tr>
<tr><th id="898">898</th><td><i class="doc">/// constant zero (which is the 'negate' form).</i></td></tr>
<tr><th id="899">899</th><td><a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZNK4llvm16InstCombinerImpl14dyn_castNegValEPNS_5ValueE" title='llvm::InstCombinerImpl::dyn_castNegVal' data-ref="_ZNK4llvm16InstCombinerImpl14dyn_castNegValEPNS_5ValueE" data-ref-filename="_ZNK4llvm16InstCombinerImpl14dyn_castNegValEPNS_5ValueE">dyn_castNegVal</dfn>(<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="160V" title='V' data-type='llvm::Value *' data-ref="160V" data-ref-filename="160V">V</dfn>) <em>const</em> {</td></tr>
<tr><th id="900">900</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="161NegV" title='NegV' data-type='llvm::Value *' data-ref="161NegV" data-ref-filename="161NegV">NegV</dfn>;</td></tr>
<tr><th id="901">901</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col0 ref" href="#160V" title='V' data-ref="160V" data-ref-filename="160V">V</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5m_NegERKT_" title='llvm::PatternMatch::m_Neg' data-ref="_ZN4llvm12PatternMatch5m_NegERKT_" data-ref-filename="_ZN4llvm12PatternMatch5m_NegERKT_">m_Neg</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col1 ref" href="#161NegV" title='NegV' data-ref="161NegV" data-ref-filename="161NegV">NegV</a></span>))))</td></tr>
<tr><th id="902">902</th><td>    <b>return</b> <a class="local col1 ref" href="#161NegV" title='NegV' data-ref="161NegV" data-ref-filename="161NegV">NegV</a>;</td></tr>
<tr><th id="903">903</th><td></td></tr>
<tr><th id="904">904</th><td>  <i>// Constants can be considered to be negated values if they can be folded.</i></td></tr>
<tr><th id="905">905</th><td>  <b>if</b> (<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a> *<dfn class="local col2 decl" id="162C" title='C' data-type='llvm::ConstantInt *' data-ref="162C" data-ref-filename="162C"><a class="local col2 ref" href="#162C" title='C' data-ref="162C" data-ref-filename="162C">C</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col0 ref" href="#160V" title='V' data-ref="160V" data-ref-filename="160V">V</a>))</td></tr>
<tr><th id="906">906</th><td>    <b>return</b> <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr6getNegEPNS_8ConstantEbb" title='llvm::ConstantExpr::getNeg' data-ref="_ZN4llvm12ConstantExpr6getNegEPNS_8ConstantEbb" data-ref-filename="_ZN4llvm12ConstantExpr6getNegEPNS_8ConstantEbb">getNeg</a>(<a class="local col2 ref" href="#162C" title='C' data-ref="162C" data-ref-filename="162C">C</a>);</td></tr>
<tr><th id="907">907</th><td></td></tr>
<tr><th id="908">908</th><td>  <b>if</b> (<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantDataVector" title='llvm::ConstantDataVector' data-ref="llvm::ConstantDataVector" data-ref-filename="llvm..ConstantDataVector">ConstantDataVector</a> *<dfn class="local col3 decl" id="163C" title='C' data-type='llvm::ConstantDataVector *' data-ref="163C" data-ref-filename="163C"><a class="local col3 ref" href="#163C" title='C' data-ref="163C" data-ref-filename="163C">C</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantDataVector" title='llvm::ConstantDataVector' data-ref="llvm::ConstantDataVector" data-ref-filename="llvm..ConstantDataVector">ConstantDataVector</a>&gt;(<a class="local col0 ref" href="#160V" title='V' data-ref="160V" data-ref-filename="160V">V</a>))</td></tr>
<tr><th id="909">909</th><td>    <b>if</b> (<a class="local col3 ref" href="#163C" title='C' data-ref="163C" data-ref-filename="163C">C</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZNK4llvm18ConstantDataVector7getTypeEv" title='llvm::ConstantDataVector::getType' data-ref="_ZNK4llvm18ConstantDataVector7getTypeEv" data-ref-filename="_ZNK4llvm18ConstantDataVector7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm10VectorType14getElementTypeEv" title='llvm::VectorType::getElementType' data-ref="_ZNK4llvm10VectorType14getElementTypeEv" data-ref-filename="_ZNK4llvm10VectorType14getElementTypeEv">getElementType</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type11isIntegerTyEv" title='llvm::Type::isIntegerTy' data-ref="_ZNK4llvm4Type11isIntegerTyEv" data-ref-filename="_ZNK4llvm4Type11isIntegerTyEv">isIntegerTy</a>())</td></tr>
<tr><th id="910">910</th><td>      <b>return</b> <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr6getNegEPNS_8ConstantEbb" title='llvm::ConstantExpr::getNeg' data-ref="_ZN4llvm12ConstantExpr6getNegEPNS_8ConstantEbb" data-ref-filename="_ZN4llvm12ConstantExpr6getNegEPNS_8ConstantEbb">getNeg</a>(<a class="local col3 ref" href="#163C" title='C' data-ref="163C" data-ref-filename="163C">C</a>);</td></tr>
<tr><th id="911">911</th><td></td></tr>
<tr><th id="912">912</th><td>  <b>if</b> (<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantVector" title='llvm::ConstantVector' data-ref="llvm::ConstantVector" data-ref-filename="llvm..ConstantVector">ConstantVector</a> *<dfn class="local col4 decl" id="164CV" title='CV' data-type='llvm::ConstantVector *' data-ref="164CV" data-ref-filename="164CV"><a class="local col4 ref" href="#164CV" title='CV' data-ref="164CV" data-ref-filename="164CV">CV</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantVector" title='llvm::ConstantVector' data-ref="llvm::ConstantVector" data-ref-filename="llvm..ConstantVector">ConstantVector</a>&gt;(<a class="local col0 ref" href="#160V" title='V' data-ref="160V" data-ref-filename="160V">V</a>)) {</td></tr>
<tr><th id="913">913</th><td>    <b>for</b> (<em>unsigned</em> <dfn class="local col5 decl" id="165i" title='i' data-type='unsigned int' data-ref="165i" data-ref-filename="165i">i</dfn> = <var>0</var>, <dfn class="local col6 decl" id="166e" title='e' data-type='unsigned int' data-ref="166e" data-ref-filename="166e">e</dfn> = <a class="local col4 ref" href="#164CV" title='CV' data-ref="164CV" data-ref-filename="164CV">CV</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#406" title='llvm::ConstantAggregate::getNumOperands' data-ref="_ZNK4llvm17ConstantAggregate14getNumOperandsEv" data-ref-filename="_ZNK4llvm17ConstantAggregate14getNumOperandsEv">getNumOperands</a>(); <a class="local col5 ref" href="#165i" title='i' data-ref="165i" data-ref-filename="165i">i</a> != <a class="local col6 ref" href="#166e" title='e' data-ref="166e" data-ref-filename="166e">e</a>; ++<a class="local col5 ref" href="#165i" title='i' data-ref="165i" data-ref-filename="165i">i</a>) {</td></tr>
<tr><th id="914">914</th><td>      <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col7 decl" id="167Elt" title='Elt' data-type='llvm::Constant *' data-ref="167Elt" data-ref-filename="167Elt">Elt</dfn> = <a class="local col4 ref" href="#164CV" title='CV' data-ref="164CV" data-ref-filename="164CV">CV</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZNK4llvm8Constant19getAggregateElementEj" title='llvm::Constant::getAggregateElement' data-ref="_ZNK4llvm8Constant19getAggregateElementEj" data-ref-filename="_ZNK4llvm8Constant19getAggregateElementEj">getAggregateElement</a>(<a class="local col5 ref" href="#165i" title='i' data-ref="165i" data-ref-filename="165i">i</a>);</td></tr>
<tr><th id="915">915</th><td>      <b>if</b> (!<a class="local col7 ref" href="#167Elt" title='Elt' data-ref="167Elt" data-ref-filename="167Elt">Elt</a>)</td></tr>
<tr><th id="916">916</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="917">917</th><td></td></tr>
<tr><th id="918">918</th><td>      <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a>&gt;(<a class="local col7 ref" href="#167Elt" title='Elt' data-ref="167Elt" data-ref-filename="167Elt">Elt</a>))</td></tr>
<tr><th id="919">919</th><td>        <b>continue</b>;</td></tr>
<tr><th id="920">920</th><td></td></tr>
<tr><th id="921">921</th><td>      <b>if</b> (!<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col7 ref" href="#167Elt" title='Elt' data-ref="167Elt" data-ref-filename="167Elt">Elt</a>))</td></tr>
<tr><th id="922">922</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="923">923</th><td>    }</td></tr>
<tr><th id="924">924</th><td>    <b>return</b> <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr6getNegEPNS_8ConstantEbb" title='llvm::ConstantExpr::getNeg' data-ref="_ZN4llvm12ConstantExpr6getNegEPNS_8ConstantEbb" data-ref-filename="_ZN4llvm12ConstantExpr6getNegEPNS_8ConstantEbb">getNeg</a>(<a class="local col4 ref" href="#164CV" title='CV' data-ref="164CV" data-ref-filename="164CV">CV</a>);</td></tr>
<tr><th id="925">925</th><td>  }</td></tr>
<tr><th id="926">926</th><td></td></tr>
<tr><th id="927">927</th><td>  <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="928">928</th><td>}</td></tr>
<tr><th id="929">929</th><td></td></tr>
<tr><th id="930">930</th><td><em>static</em> <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="tu decl def fn" id="_ZL30foldOperationIntoSelectOperandRN4llvm11InstructionEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE" title='foldOperationIntoSelectOperand' data-type='llvm::Value * foldOperationIntoSelectOperand(llvm::Instruction &amp; I, llvm::Value * SO, InstCombiner::BuilderTy &amp; Builder)' data-ref="_ZL30foldOperationIntoSelectOperandRN4llvm11InstructionEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE" data-ref-filename="_ZL30foldOperationIntoSelectOperandRN4llvm11InstructionEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE">foldOperationIntoSelectOperand</dfn>(<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> &amp;<dfn class="local col8 decl" id="168I" title='I' data-type='llvm::Instruction &amp;' data-ref="168I" data-ref-filename="168I">I</dfn>, <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="169SO" title='SO' data-type='llvm::Value *' data-ref="169SO" data-ref-filename="169SO">SO</dfn>,</td></tr>
<tr><th id="931">931</th><td>                                             <a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner" title='llvm::InstCombiner' data-ref="llvm::InstCombiner" data-ref-filename="llvm..InstCombiner">InstCombiner</a>::<a class="typedef" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::BuilderTy" title='llvm::InstCombiner::BuilderTy' data-type='IRBuilder&lt;llvm::TargetFolder, llvm::IRBuilderCallbackInserter&gt;' data-ref="llvm::InstCombiner::BuilderTy" data-ref-filename="llvm..InstCombiner..BuilderTy">BuilderTy</a> &amp;<dfn class="local col0 decl" id="170Builder" title='Builder' data-type='InstCombiner::BuilderTy &amp;' data-ref="170Builder" data-ref-filename="170Builder">Builder</dfn>) {</td></tr>
<tr><th id="932">932</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col1 decl" id="171Cast" title='Cast' data-type='llvm::CastInst *' data-ref="171Cast" data-ref-filename="171Cast"><a class="local col1 ref" href="#171Cast" title='Cast' data-ref="171Cast" data-ref-filename="171Cast">Cast</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a>&gt;(&amp;<a class="local col8 ref" href="#168I" title='I' data-ref="168I" data-ref-filename="168I">I</a>))</td></tr>
<tr><th id="933">933</th><td>    <b>return</b> <a class="local col0 ref" href="#170Builder" title='Builder' data-ref="170Builder" data-ref-filename="170Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateCastENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateCast' data-ref="_ZN4llvm13IRBuilderBase10CreateCastENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateCastENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateCast</a>(<a class="local col1 ref" href="#171Cast" title='Cast' data-ref="171Cast" data-ref-filename="171Cast">Cast</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CastInst9getOpcodeEv" title='llvm::CastInst::getOpcode' data-ref="_ZNK4llvm8CastInst9getOpcodeEv" data-ref-filename="_ZNK4llvm8CastInst9getOpcodeEv">getOpcode</a>(), <a class="local col9 ref" href="#169SO" title='SO' data-ref="169SO" data-ref-filename="169SO">SO</a>, <a class="local col8 ref" href="#168I" title='I' data-ref="168I" data-ref-filename="168I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="934">934</th><td></td></tr>
<tr><th id="935">935</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(I.isBinaryOp() &amp;&amp; <q>"Unexpected opcode for select folding"</q>);</td></tr>
<tr><th id="936">936</th><td></td></tr>
<tr><th id="937">937</th><td>  <i>// Figure out if the constant is the left or the right argument.</i></td></tr>
<tr><th id="938">938</th><td>  <em>bool</em> <dfn class="local col2 decl" id="172ConstIsRHS" title='ConstIsRHS' data-type='bool' data-ref="172ConstIsRHS" data-ref-filename="172ConstIsRHS">ConstIsRHS</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col8 ref" href="#168I" title='I' data-ref="168I" data-ref-filename="168I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<var>1</var>));</td></tr>
<tr><th id="939">939</th><td>  <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col3 decl" id="173ConstOperand" title='ConstOperand' data-type='llvm::Constant *' data-ref="173ConstOperand" data-ref-filename="173ConstOperand">ConstOperand</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col8 ref" href="#168I" title='I' data-ref="168I" data-ref-filename="168I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<a class="local col2 ref" href="#172ConstIsRHS" title='ConstIsRHS' data-ref="172ConstIsRHS" data-ref-filename="172ConstIsRHS">ConstIsRHS</a>));</td></tr>
<tr><th id="940">940</th><td></td></tr>
<tr><th id="941">941</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col4 decl" id="174SOC" title='SOC' data-type='llvm::Constant *' data-ref="174SOC" data-ref-filename="174SOC"><a class="local col4 ref" href="#174SOC" title='SOC' data-ref="174SOC" data-ref-filename="174SOC">SOC</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col9 ref" href="#169SO" title='SO' data-ref="169SO" data-ref-filename="169SO">SO</a>)) {</td></tr>
<tr><th id="942">942</th><td>    <b>if</b> (<a class="local col2 ref" href="#172ConstIsRHS" title='ConstIsRHS' data-ref="172ConstIsRHS" data-ref-filename="172ConstIsRHS">ConstIsRHS</a>)</td></tr>
<tr><th id="943">943</th><td>      <b>return</b> <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" title='llvm::ConstantExpr::get' data-ref="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" data-ref-filename="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE">get</a>(<a class="local col8 ref" href="#168I" title='I' data-ref="168I" data-ref-filename="168I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction9getOpcodeEv" title='llvm::Instruction::getOpcode' data-ref="_ZNK4llvm11Instruction9getOpcodeEv" data-ref-filename="_ZNK4llvm11Instruction9getOpcodeEv">getOpcode</a>(), <a class="local col4 ref" href="#174SOC" title='SOC' data-ref="174SOC" data-ref-filename="174SOC">SOC</a>, <a class="local col3 ref" href="#173ConstOperand" title='ConstOperand' data-ref="173ConstOperand" data-ref-filename="173ConstOperand">ConstOperand</a>);</td></tr>
<tr><th id="944">944</th><td>    <b>return</b> <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" title='llvm::ConstantExpr::get' data-ref="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" data-ref-filename="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE">get</a>(<a class="local col8 ref" href="#168I" title='I' data-ref="168I" data-ref-filename="168I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction9getOpcodeEv" title='llvm::Instruction::getOpcode' data-ref="_ZNK4llvm11Instruction9getOpcodeEv" data-ref-filename="_ZNK4llvm11Instruction9getOpcodeEv">getOpcode</a>(), <a class="local col3 ref" href="#173ConstOperand" title='ConstOperand' data-ref="173ConstOperand" data-ref-filename="173ConstOperand">ConstOperand</a>, <a class="local col4 ref" href="#174SOC" title='SOC' data-ref="174SOC" data-ref-filename="174SOC">SOC</a>);</td></tr>
<tr><th id="945">945</th><td>  }</td></tr>
<tr><th id="946">946</th><td></td></tr>
<tr><th id="947">947</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="175Op0" title='Op0' data-type='llvm::Value *' data-ref="175Op0" data-ref-filename="175Op0">Op0</dfn> = <a class="local col9 ref" href="#169SO" title='SO' data-ref="169SO" data-ref-filename="169SO">SO</a>, *<dfn class="local col6 decl" id="176Op1" title='Op1' data-type='llvm::Value *' data-ref="176Op1" data-ref-filename="176Op1">Op1</dfn> = <a class="local col3 ref" href="#173ConstOperand" title='ConstOperand' data-ref="173ConstOperand" data-ref-filename="173ConstOperand">ConstOperand</a>;</td></tr>
<tr><th id="948">948</th><td>  <b>if</b> (!<a class="local col2 ref" href="#172ConstIsRHS" title='ConstIsRHS' data-ref="172ConstIsRHS" data-ref-filename="172ConstIsRHS">ConstIsRHS</a>)</td></tr>
<tr><th id="949">949</th><td>    <span class="namespace">std::</span><span class='ref fn' title='std::swap' data-ref="_ZSt4swapRT_S0_" data-ref-filename="_ZSt4swapRT_S0_">swap</span>(<span class='refarg'><a class="local col5 ref" href="#175Op0" title='Op0' data-ref="175Op0" data-ref-filename="175Op0">Op0</a></span>, <span class='refarg'><a class="local col6 ref" href="#176Op1" title='Op1' data-ref="176Op1" data-ref-filename="176Op1">Op1</a></span>);</td></tr>
<tr><th id="950">950</th><td></td></tr>
<tr><th id="951">951</th><td>  <em>auto</em> *<dfn class="local col7 decl" id="177BO" title='BO' data-type='llvm::BinaryOperator *' data-ref="177BO" data-ref-filename="177BO">BO</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(&amp;<a class="local col8 ref" href="#168I" title='I' data-ref="168I" data-ref-filename="168I">I</a>);</td></tr>
<tr><th id="952">952</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="178RI" title='RI' data-type='llvm::Value *' data-ref="178RI" data-ref-filename="178RI">RI</dfn> = <a class="local col0 ref" href="#170Builder" title='Builder' data-ref="170Builder" data-ref-filename="170Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col7 ref" href="#177BO" title='BO' data-ref="177BO" data-ref-filename="177BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>(), <a class="local col5 ref" href="#175Op0" title='Op0' data-ref="175Op0" data-ref-filename="175Op0">Op0</a>, <a class="local col6 ref" href="#176Op1" title='Op1' data-ref="176Op1" data-ref-filename="176Op1">Op1</a>,</td></tr>
<tr><th id="953">953</th><td>                                  <a class="local col9 ref" href="#169SO" title='SO' data-ref="169SO" data-ref-filename="169SO">SO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>() <a class="ref fn" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvmplERKNS_9StringRefEPKc" title='llvm::operator+' data-ref="_ZN4llvmplERKNS_9StringRefEPKc" data-ref-filename="_ZN4llvmplERKNS_9StringRefEPKc">+</a> <q>".op"</q>);</td></tr>
<tr><th id="954">954</th><td>  <em>auto</em> *<dfn class="local col9 decl" id="179FPInst" title='FPInst' data-type='llvm::Instruction *' data-ref="179FPInst" data-ref-filename="179FPInst">FPInst</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>&gt;(<a class="local col8 ref" href="#178RI" title='RI' data-ref="178RI" data-ref-filename="178RI">RI</a>);</td></tr>
<tr><th id="955">955</th><td>  <b>if</b> (<a class="local col9 ref" href="#179FPInst" title='FPInst' data-ref="179FPInst" data-ref-filename="179FPInst">FPInst</a> &amp;&amp; <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::FPMathOperator" title='llvm::FPMathOperator' data-ref="llvm::FPMathOperator" data-ref-filename="llvm..FPMathOperator">FPMathOperator</a>&gt;(<a class="local col9 ref" href="#179FPInst" title='FPInst' data-ref="179FPInst" data-ref-filename="179FPInst">FPInst</a>))</td></tr>
<tr><th id="956">956</th><td>    <a class="local col9 ref" href="#179FPInst" title='FPInst' data-ref="179FPInst" data-ref-filename="179FPInst">FPInst</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction17copyFastMathFlagsEPKS0_" title='llvm::Instruction::copyFastMathFlags' data-ref="_ZN4llvm11Instruction17copyFastMathFlagsEPKS0_" data-ref-filename="_ZN4llvm11Instruction17copyFastMathFlagsEPKS0_">copyFastMathFlags</a>(<a class="local col7 ref" href="#177BO" title='BO' data-ref="177BO" data-ref-filename="177BO">BO</a>);</td></tr>
<tr><th id="957">957</th><td>  <b>return</b> <a class="local col8 ref" href="#178RI" title='RI' data-ref="178RI" data-ref-filename="178RI">RI</a>;</td></tr>
<tr><th id="958">958</th><td>}</td></tr>
<tr><th id="959">959</th><td></td></tr>
<tr><th id="960">960</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstE" title='llvm::InstCombinerImpl::FoldOpIntoSelect' data-ref="_ZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstE">FoldOpIntoSelect</dfn>(<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> &amp;<dfn class="local col0 decl" id="180Op" title='Op' data-type='llvm::Instruction &amp;' data-ref="180Op" data-ref-filename="180Op">Op</dfn>,</td></tr>
<tr><th id="961">961</th><td>                                                <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::SelectInst" title='llvm::SelectInst' data-ref="llvm::SelectInst" data-ref-filename="llvm..SelectInst">SelectInst</a> *<dfn class="local col1 decl" id="181SI" title='SI' data-type='llvm::SelectInst *' data-ref="181SI" data-ref-filename="181SI">SI</dfn>) {</td></tr>
<tr><th id="962">962</th><td>  <i>// Don't modify shared select instructions.</i></td></tr>
<tr><th id="963">963</th><td>  <b>if</b> (!<a class="local col1 ref" href="#181SI" title='SI' data-ref="181SI" data-ref-filename="181SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>())</td></tr>
<tr><th id="964">964</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="965">965</th><td></td></tr>
<tr><th id="966">966</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="182TV" title='TV' data-type='llvm::Value *' data-ref="182TV" data-ref-filename="182TV">TV</dfn> = <a class="local col1 ref" href="#181SI" title='SI' data-ref="181SI" data-ref-filename="181SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SelectInst12getTrueValueEv" title='llvm::SelectInst::getTrueValue' data-ref="_ZN4llvm10SelectInst12getTrueValueEv" data-ref-filename="_ZN4llvm10SelectInst12getTrueValueEv">getTrueValue</a>();</td></tr>
<tr><th id="967">967</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="183FV" title='FV' data-type='llvm::Value *' data-ref="183FV" data-ref-filename="183FV">FV</dfn> = <a class="local col1 ref" href="#181SI" title='SI' data-ref="181SI" data-ref-filename="181SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SelectInst13getFalseValueEv" title='llvm::SelectInst::getFalseValue' data-ref="_ZN4llvm10SelectInst13getFalseValueEv" data-ref-filename="_ZN4llvm10SelectInst13getFalseValueEv">getFalseValue</a>();</td></tr>
<tr><th id="968">968</th><td>  <b>if</b> (!(<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col2 ref" href="#182TV" title='TV' data-ref="182TV" data-ref-filename="182TV">TV</a>) || <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col3 ref" href="#183FV" title='FV' data-ref="183FV" data-ref-filename="183FV">FV</a>)))</td></tr>
<tr><th id="969">969</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="970">970</th><td></td></tr>
<tr><th id="971">971</th><td>  <i>// Bool selects with constant operands can be folded to logical ops.</i></td></tr>
<tr><th id="972">972</th><td>  <b>if</b> (<a class="local col1 ref" href="#181SI" title='SI' data-ref="181SI" data-ref-filename="181SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type18isIntOrIntVectorTyEj" title='llvm::Type::isIntOrIntVectorTy' data-ref="_ZNK4llvm4Type18isIntOrIntVectorTyEj" data-ref-filename="_ZNK4llvm4Type18isIntOrIntVectorTyEj">isIntOrIntVectorTy</a>(<var>1</var>))</td></tr>
<tr><th id="973">973</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="974">974</th><td></td></tr>
<tr><th id="975">975</th><td>  <i>// If it's a bitcast involving vectors, make sure it has the same number of</i></td></tr>
<tr><th id="976">976</th><td><i>  // elements on both sides.</i></td></tr>
<tr><th id="977">977</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col4 decl" id="184BC" title='BC' data-type='llvm::BitCastInst *' data-ref="184BC" data-ref-filename="184BC"><a class="local col4 ref" href="#184BC" title='BC' data-ref="184BC" data-ref-filename="184BC">BC</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::BitCastInst" title='llvm::BitCastInst' data-ref="llvm::BitCastInst" data-ref-filename="llvm..BitCastInst">BitCastInst</a>&gt;(&amp;<a class="local col0 ref" href="#180Op" title='Op' data-ref="180Op" data-ref-filename="180Op">Op</a>)) {</td></tr>
<tr><th id="978">978</th><td>    <a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::VectorType" title='llvm::VectorType' data-ref="llvm::VectorType" data-ref-filename="llvm..VectorType">VectorType</a> *<dfn class="local col5 decl" id="185DestTy" title='DestTy' data-type='llvm::VectorType *' data-ref="185DestTy" data-ref-filename="185DestTy">DestTy</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::VectorType" title='llvm::VectorType' data-ref="llvm::VectorType" data-ref-filename="llvm..VectorType">VectorType</a>&gt;(<a class="local col4 ref" href="#184BC" title='BC' data-ref="184BC" data-ref-filename="184BC">BC</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CastInst9getDestTyEv" title='llvm::CastInst::getDestTy' data-ref="_ZNK4llvm8CastInst9getDestTyEv" data-ref-filename="_ZNK4llvm8CastInst9getDestTyEv">getDestTy</a>());</td></tr>
<tr><th id="979">979</th><td>    <a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::VectorType" title='llvm::VectorType' data-ref="llvm::VectorType" data-ref-filename="llvm..VectorType">VectorType</a> *<dfn class="local col6 decl" id="186SrcTy" title='SrcTy' data-type='llvm::VectorType *' data-ref="186SrcTy" data-ref-filename="186SrcTy">SrcTy</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::VectorType" title='llvm::VectorType' data-ref="llvm::VectorType" data-ref-filename="llvm..VectorType">VectorType</a>&gt;(<a class="local col4 ref" href="#184BC" title='BC' data-ref="184BC" data-ref-filename="184BC">BC</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CastInst8getSrcTyEv" title='llvm::CastInst::getSrcTy' data-ref="_ZNK4llvm8CastInst8getSrcTyEv" data-ref-filename="_ZNK4llvm8CastInst8getSrcTyEv">getSrcTy</a>());</td></tr>
<tr><th id="980">980</th><td></td></tr>
<tr><th id="981">981</th><td>    <i>// Verify that either both or neither are vectors.</i></td></tr>
<tr><th id="982">982</th><td>    <b>if</b> ((<a class="local col6 ref" href="#186SrcTy" title='SrcTy' data-ref="186SrcTy" data-ref-filename="186SrcTy">SrcTy</a> == <b>nullptr</b>) != (<a class="local col5 ref" href="#185DestTy" title='DestTy' data-ref="185DestTy" data-ref-filename="185DestTy">DestTy</a> == <b>nullptr</b>))</td></tr>
<tr><th id="983">983</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="984">984</th><td></td></tr>
<tr><th id="985">985</th><td>    <i>// If vectors, verify that they have the same number of elements.</i></td></tr>
<tr><th id="986">986</th><td>    <b>if</b> (<a class="local col6 ref" href="#186SrcTy" title='SrcTy' data-ref="186SrcTy" data-ref-filename="186SrcTy">SrcTy</a> &amp;&amp; <a class="local col6 ref" href="#186SrcTy" title='SrcTy' data-ref="186SrcTy" data-ref-filename="186SrcTy">SrcTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm10VectorType15getElementCountEv" title='llvm::VectorType::getElementCount' data-ref="_ZNK4llvm10VectorType15getElementCountEv" data-ref-filename="_ZNK4llvm10VectorType15getElementCountEv">getElementCount</a>() <a class="ref fn" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm24UnivariateLinearPolyBaseneERKNS_24UnivariateLinearPolyBaseIT_EE" title='llvm::UnivariateLinearPolyBase::operator!=' data-ref="_ZNK4llvm24UnivariateLinearPolyBaseneERKNS_24UnivariateLinearPolyBaseIT_EE" data-ref-filename="_ZNK4llvm24UnivariateLinearPolyBaseneERKNS_24UnivariateLinearPolyBaseIT_EE">!=</a> <a class="local col5 ref" href="#185DestTy" title='DestTy' data-ref="185DestTy" data-ref-filename="185DestTy">DestTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm10VectorType15getElementCountEv" title='llvm::VectorType::getElementCount' data-ref="_ZNK4llvm10VectorType15getElementCountEv" data-ref-filename="_ZNK4llvm10VectorType15getElementCountEv">getElementCount</a>())</td></tr>
<tr><th id="987">987</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="988">988</th><td>  }</td></tr>
<tr><th id="989">989</th><td></td></tr>
<tr><th id="990">990</th><td>  <i>// Test if a CmpInst instruction is used exclusively by a select as</i></td></tr>
<tr><th id="991">991</th><td><i>  // part of a minimum or maximum operation. If so, refrain from doing</i></td></tr>
<tr><th id="992">992</th><td><i>  // any other folding. This helps out other analyses which understand</i></td></tr>
<tr><th id="993">993</th><td><i>  // non-obfuscated minimum and maximum idioms, such as ScalarEvolution</i></td></tr>
<tr><th id="994">994</th><td><i>  // and CodeGen. And in this case, at least one of the comparison</i></td></tr>
<tr><th id="995">995</th><td><i>  // operands has at least one user besides the compare (the select),</i></td></tr>
<tr><th id="996">996</th><td><i>  // which would often largely negate the benefit of folding anyway.</i></td></tr>
<tr><th id="997">997</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col7 decl" id="187CI" title='CI' data-type='llvm::CmpInst *' data-ref="187CI" data-ref-filename="187CI"><a class="local col7 ref" href="#187CI" title='CI' data-ref="187CI" data-ref-filename="187CI">CI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CmpInst" title='llvm::CmpInst' data-ref="llvm::CmpInst" data-ref-filename="llvm..CmpInst">CmpInst</a>&gt;(<a class="local col1 ref" href="#181SI" title='SI' data-ref="181SI" data-ref-filename="181SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SelectInst12getConditionEv" title='llvm::SelectInst::getCondition' data-ref="_ZN4llvm10SelectInst12getConditionEv" data-ref-filename="_ZN4llvm10SelectInst12getConditionEv">getCondition</a>())) {</td></tr>
<tr><th id="998">998</th><td>    <b>if</b> (<a class="local col7 ref" href="#187CI" title='CI' data-ref="187CI" data-ref-filename="187CI">CI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>()) {</td></tr>
<tr><th id="999">999</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="188Op0" title='Op0' data-type='llvm::Value *' data-ref="188Op0" data-ref-filename="188Op0">Op0</dfn> = <a class="local col7 ref" href="#187CI" title='CI' data-ref="187CI" data-ref-filename="187CI">CI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#910" title='llvm::CmpInst::getOperand' data-ref="_ZNK4llvm7CmpInst10getOperandEj" data-ref-filename="_ZNK4llvm7CmpInst10getOperandEj">getOperand</a>(<var>0</var>), *<dfn class="local col9 decl" id="189Op1" title='Op1' data-type='llvm::Value *' data-ref="189Op1" data-ref-filename="189Op1">Op1</dfn> = <a class="local col7 ref" href="#187CI" title='CI' data-ref="187CI" data-ref-filename="187CI">CI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#910" title='llvm::CmpInst::getOperand' data-ref="_ZNK4llvm7CmpInst10getOperandEj" data-ref-filename="_ZNK4llvm7CmpInst10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="1000">1000</th><td></td></tr>
<tr><th id="1001">1001</th><td>      <i>// FIXME: This is a hack to avoid infinite looping with min/max patterns.</i></td></tr>
<tr><th id="1002">1002</th><td><i>      //        We have to ensure that vector constants that only differ with</i></td></tr>
<tr><th id="1003">1003</th><td><i>      //        undef elements are treated as equivalent.</i></td></tr>
<tr><th id="1004">1004</th><td>      <em>auto</em> <dfn class="local col0 decl" id="190areLooselyEqual" title='areLooselyEqual' data-type='(lambda at /fast/tmp/llvm-proj-12/llvm/lib/Transforms/InstCombine/InstructionCombining.cpp:1004:30)' data-ref="190areLooselyEqual" data-ref-filename="190areLooselyEqual">areLooselyEqual</dfn> = [](<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="191A" title='A' data-type='llvm::Value *' data-ref="191A" data-ref-filename="191A">A</dfn>, <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="192B" title='B' data-type='llvm::Value *' data-ref="192B" data-ref-filename="192B">B</dfn>) {</td></tr>
<tr><th id="1005">1005</th><td>        <b>if</b> (<a class="local col1 ref" href="#191A" title='A' data-ref="191A" data-ref-filename="191A">A</a> == <a class="local col2 ref" href="#192B" title='B' data-ref="192B" data-ref-filename="192B">B</a>)</td></tr>
<tr><th id="1006">1006</th><td>          <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1007">1007</th><td></td></tr>
<tr><th id="1008">1008</th><td>        <i>// Test for vector constants.</i></td></tr>
<tr><th id="1009">1009</th><td>        <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col3 decl" id="193ConstA" title='ConstA' data-type='llvm::Constant *' data-ref="193ConstA" data-ref-filename="193ConstA">ConstA</dfn>, *<dfn class="local col4 decl" id="194ConstB" title='ConstB' data-type='llvm::Constant *' data-ref="194ConstB" data-ref-filename="194ConstB">ConstB</dfn>;</td></tr>
<tr><th id="1010">1010</th><td>        <b>if</b> (!<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col1 ref" href="#191A" title='A' data-ref="191A" data-ref-filename="191A">A</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" title='llvm::PatternMatch::m_Constant' data-ref="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" data-ref-filename="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE">m_Constant</a>(<span class='refarg'><a class="local col3 ref" href="#193ConstA" title='ConstA' data-ref="193ConstA" data-ref-filename="193ConstA">ConstA</a></span>)) || !<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col2 ref" href="#192B" title='B' data-ref="192B" data-ref-filename="192B">B</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" title='llvm::PatternMatch::m_Constant' data-ref="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" data-ref-filename="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE">m_Constant</a>(<span class='refarg'><a class="local col4 ref" href="#194ConstB" title='ConstB' data-ref="194ConstB" data-ref-filename="194ConstB">ConstB</a></span>)))</td></tr>
<tr><th id="1011">1011</th><td>          <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1012">1012</th><td></td></tr>
<tr><th id="1013">1013</th><td>        <i>// TODO: Deal with FP constants?</i></td></tr>
<tr><th id="1014">1014</th><td>        <b>if</b> (!<a class="local col1 ref" href="#191A" title='A' data-ref="191A" data-ref-filename="191A">A</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type18isIntOrIntVectorTyEv" title='llvm::Type::isIntOrIntVectorTy' data-ref="_ZNK4llvm4Type18isIntOrIntVectorTyEv" data-ref-filename="_ZNK4llvm4Type18isIntOrIntVectorTyEv">isIntOrIntVectorTy</a>() || <a class="local col1 ref" href="#191A" title='A' data-ref="191A" data-ref-filename="191A">A</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>() != <a class="local col2 ref" href="#192B" title='B' data-ref="192B" data-ref-filename="192B">B</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>())</td></tr>
<tr><th id="1015">1015</th><td>          <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1016">1016</th><td></td></tr>
<tr><th id="1017">1017</th><td>        <i>// Compare for equality including undefs as equal.</i></td></tr>
<tr><th id="1018">1018</th><td>        <em>auto</em> *<dfn class="local col5 decl" id="195Cmp" title='Cmp' data-type='llvm::Constant *' data-ref="195Cmp" data-ref-filename="195Cmp">Cmp</dfn> = <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr10getCompareEtPNS_8ConstantES2_b" title='llvm::ConstantExpr::getCompare' data-ref="_ZN4llvm12ConstantExpr10getCompareEtPNS_8ConstantES2_b" data-ref-filename="_ZN4llvm12ConstantExpr10getCompareEtPNS_8ConstantES2_b">getCompare</a>(<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ICmpInst" title='llvm::ICmpInst' data-ref="llvm::ICmpInst" data-ref-filename="llvm..ICmpInst">ICmpInst</a>::<a class="enum" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CmpInst::ICMP_EQ" title='llvm::CmpInst::ICMP_EQ' data-ref="llvm::CmpInst::ICMP_EQ" data-ref-filename="llvm..CmpInst..ICMP_EQ">ICMP_EQ</a>, <a class="local col3 ref" href="#193ConstA" title='ConstA' data-ref="193ConstA" data-ref-filename="193ConstA">ConstA</a>, <a class="local col4 ref" href="#194ConstB" title='ConstB' data-ref="194ConstB" data-ref-filename="194ConstB">ConstB</a>);</td></tr>
<tr><th id="1019">1019</th><td>        <em>const</em> <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> *<dfn class="local col6 decl" id="196C" title='C' data-type='const llvm::APInt *' data-ref="196C" data-ref-filename="196C">C</dfn>;</td></tr>
<tr><th id="1020">1020</th><td>        <b>return</b> <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col5 ref" href="#195Cmp" title='Cmp' data-ref="195Cmp" data-ref-filename="195Cmp">Cmp</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch17m_APIntAllowUndefERPKNS_5APIntE" title='llvm::PatternMatch::m_APIntAllowUndef' data-ref="_ZN4llvm12PatternMatch17m_APIntAllowUndefERPKNS_5APIntE" data-ref-filename="_ZN4llvm12PatternMatch17m_APIntAllowUndefERPKNS_5APIntE">m_APIntAllowUndef</a>(<span class='refarg'><a class="local col6 ref" href="#196C" title='C' data-ref="196C" data-ref-filename="196C">C</a></span>)) &amp;&amp; <a class="local col6 ref" href="#196C" title='C' data-ref="196C" data-ref-filename="196C">C</a>-&gt;<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt10isOneValueEv" title='llvm::APInt::isOneValue' data-ref="_ZNK4llvm5APInt10isOneValueEv" data-ref-filename="_ZNK4llvm5APInt10isOneValueEv">isOneValue</a>();</td></tr>
<tr><th id="1021">1021</th><td>      };</td></tr>
<tr><th id="1022">1022</th><td></td></tr>
<tr><th id="1023">1023</th><td>      <b>if</b> ((<a class="local col0 ref" href="#190areLooselyEqual" title='areLooselyEqual' data-ref="190areLooselyEqual" data-ref-filename="190areLooselyEqual">areLooselyEqual</a><a class="tu ref fn" href="#_ZZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstEENK3$_0clEPNS_5ValueES7_" title='llvm::InstCombinerImpl::FoldOpIntoSelect(llvm::Instruction &amp;, llvm::SelectInst *)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstEENK3$_0clEPNS_5ValueES7_" data-ref-filename="_ZZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstEENK3$_0clEPNS_5ValueES7_">(<a class="local col2 ref" href="#182TV" title='TV' data-ref="182TV" data-ref-filename="182TV">TV</a>, <a class="local col8 ref" href="#188Op0" title='Op0' data-ref="188Op0" data-ref-filename="188Op0">Op0</a>)</a> &amp;&amp; <a class="local col0 ref" href="#190areLooselyEqual" title='areLooselyEqual' data-ref="190areLooselyEqual" data-ref-filename="190areLooselyEqual">areLooselyEqual</a><a class="tu ref fn" href="#_ZZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstEENK3$_0clEPNS_5ValueES7_" title='llvm::InstCombinerImpl::FoldOpIntoSelect(llvm::Instruction &amp;, llvm::SelectInst *)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstEENK3$_0clEPNS_5ValueES7_" data-ref-filename="_ZZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstEENK3$_0clEPNS_5ValueES7_">(<a class="local col3 ref" href="#183FV" title='FV' data-ref="183FV" data-ref-filename="183FV">FV</a>, <a class="local col9 ref" href="#189Op1" title='Op1' data-ref="189Op1" data-ref-filename="189Op1">Op1</a>)</a>) ||</td></tr>
<tr><th id="1024">1024</th><td>          (<a class="local col0 ref" href="#190areLooselyEqual" title='areLooselyEqual' data-ref="190areLooselyEqual" data-ref-filename="190areLooselyEqual">areLooselyEqual</a><a class="tu ref fn" href="#_ZZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstEENK3$_0clEPNS_5ValueES7_" title='llvm::InstCombinerImpl::FoldOpIntoSelect(llvm::Instruction &amp;, llvm::SelectInst *)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstEENK3$_0clEPNS_5ValueES7_" data-ref-filename="_ZZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstEENK3$_0clEPNS_5ValueES7_">(<a class="local col3 ref" href="#183FV" title='FV' data-ref="183FV" data-ref-filename="183FV">FV</a>, <a class="local col8 ref" href="#188Op0" title='Op0' data-ref="188Op0" data-ref-filename="188Op0">Op0</a>)</a> &amp;&amp; <a class="local col0 ref" href="#190areLooselyEqual" title='areLooselyEqual' data-ref="190areLooselyEqual" data-ref-filename="190areLooselyEqual">areLooselyEqual</a><a class="tu ref fn" href="#_ZZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstEENK3$_0clEPNS_5ValueES7_" title='llvm::InstCombinerImpl::FoldOpIntoSelect(llvm::Instruction &amp;, llvm::SelectInst *)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstEENK3$_0clEPNS_5ValueES7_" data-ref-filename="_ZZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstEENK3$_0clEPNS_5ValueES7_">(<a class="local col2 ref" href="#182TV" title='TV' data-ref="182TV" data-ref-filename="182TV">TV</a>, <a class="local col9 ref" href="#189Op1" title='Op1' data-ref="189Op1" data-ref-filename="189Op1">Op1</a>)</a>))</td></tr>
<tr><th id="1025">1025</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1026">1026</th><td>    }</td></tr>
<tr><th id="1027">1027</th><td>  }</td></tr>
<tr><th id="1028">1028</th><td></td></tr>
<tr><th id="1029">1029</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="197NewTV" title='NewTV' data-type='llvm::Value *' data-ref="197NewTV" data-ref-filename="197NewTV">NewTV</dfn> = <a class="tu ref fn" href="#_ZL30foldOperationIntoSelectOperandRN4llvm11InstructionEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE" title='foldOperationIntoSelectOperand' data-use='c' data-ref="_ZL30foldOperationIntoSelectOperandRN4llvm11InstructionEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE" data-ref-filename="_ZL30foldOperationIntoSelectOperandRN4llvm11InstructionEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE">foldOperationIntoSelectOperand</a>(<span class='refarg'><a class="local col0 ref" href="#180Op" title='Op' data-ref="180Op" data-ref-filename="180Op">Op</a></span>, <a class="local col2 ref" href="#182TV" title='TV' data-ref="182TV" data-ref-filename="182TV">TV</a>, <span class='refarg'><a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a></span>);</td></tr>
<tr><th id="1030">1030</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="198NewFV" title='NewFV' data-type='llvm::Value *' data-ref="198NewFV" data-ref-filename="198NewFV">NewFV</dfn> = <a class="tu ref fn" href="#_ZL30foldOperationIntoSelectOperandRN4llvm11InstructionEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE" title='foldOperationIntoSelectOperand' data-use='c' data-ref="_ZL30foldOperationIntoSelectOperandRN4llvm11InstructionEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE" data-ref-filename="_ZL30foldOperationIntoSelectOperandRN4llvm11InstructionEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE">foldOperationIntoSelectOperand</a>(<span class='refarg'><a class="local col0 ref" href="#180Op" title='Op' data-ref="180Op" data-ref-filename="180Op">Op</a></span>, <a class="local col3 ref" href="#183FV" title='FV' data-ref="183FV" data-ref-filename="183FV">FV</a>, <span class='refarg'><a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a></span>);</td></tr>
<tr><th id="1031">1031</th><td>  <b>return</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::SelectInst" title='llvm::SelectInst' data-ref="llvm::SelectInst" data-ref-filename="llvm..SelectInst">SelectInst</a>::<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SelectInst6CreateEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionES7_" title='llvm::SelectInst::Create' data-ref="_ZN4llvm10SelectInst6CreateEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionES7_" data-ref-filename="_ZN4llvm10SelectInst6CreateEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionES7_">Create</a>(<a class="local col1 ref" href="#181SI" title='SI' data-ref="181SI" data-ref-filename="181SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SelectInst12getConditionEv" title='llvm::SelectInst::getCondition' data-ref="_ZN4llvm10SelectInst12getConditionEv" data-ref-filename="_ZN4llvm10SelectInst12getConditionEv">getCondition</a>(), <a class="local col7 ref" href="#197NewTV" title='NewTV' data-ref="197NewTV" data-ref-filename="197NewTV">NewTV</a>, <a class="local col8 ref" href="#198NewFV" title='NewFV' data-ref="198NewFV" data-ref-filename="198NewFV">NewFV</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>""</q>, <b>nullptr</b>, <a class="local col1 ref" href="#181SI" title='SI' data-ref="181SI" data-ref-filename="181SI">SI</a>);</td></tr>
<tr><th id="1032">1032</th><td>}</td></tr>
<tr><th id="1033">1033</th><td></td></tr>
<tr><th id="1034">1034</th><td><em>static</em> <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="tu decl def fn" id="_ZL25foldOperationIntoPhiValuePN4llvm14BinaryOperatorEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE" title='foldOperationIntoPhiValue' data-type='llvm::Value * foldOperationIntoPhiValue(llvm::BinaryOperator * I, llvm::Value * InV, InstCombiner::BuilderTy &amp; Builder)' data-ref="_ZL25foldOperationIntoPhiValuePN4llvm14BinaryOperatorEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE" data-ref-filename="_ZL25foldOperationIntoPhiValuePN4llvm14BinaryOperatorEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE">foldOperationIntoPhiValue</dfn>(<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> *<dfn class="local col9 decl" id="199I" title='I' data-type='llvm::BinaryOperator *' data-ref="199I" data-ref-filename="199I">I</dfn>, <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="200InV" title='InV' data-type='llvm::Value *' data-ref="200InV" data-ref-filename="200InV">InV</dfn>,</td></tr>
<tr><th id="1035">1035</th><td>                                        <a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner" title='llvm::InstCombiner' data-ref="llvm::InstCombiner" data-ref-filename="llvm..InstCombiner">InstCombiner</a>::<a class="typedef" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::BuilderTy" title='llvm::InstCombiner::BuilderTy' data-type='IRBuilder&lt;llvm::TargetFolder, llvm::IRBuilderCallbackInserter&gt;' data-ref="llvm::InstCombiner::BuilderTy" data-ref-filename="llvm..InstCombiner..BuilderTy">BuilderTy</a> &amp;<dfn class="local col1 decl" id="201Builder" title='Builder' data-type='InstCombiner::BuilderTy &amp;' data-ref="201Builder" data-ref-filename="201Builder">Builder</dfn>) {</td></tr>
<tr><th id="1036">1036</th><td>  <em>bool</em> <dfn class="local col2 decl" id="202ConstIsRHS" title='ConstIsRHS' data-type='bool' data-ref="202ConstIsRHS" data-ref-filename="202ConstIsRHS">ConstIsRHS</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col9 ref" href="#199I" title='I' data-ref="199I" data-ref-filename="199I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>));</td></tr>
<tr><th id="1037">1037</th><td>  <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col3 decl" id="203C" title='C' data-type='llvm::Constant *' data-ref="203C" data-ref-filename="203C">C</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col9 ref" href="#199I" title='I' data-ref="199I" data-ref-filename="199I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<a class="local col2 ref" href="#202ConstIsRHS" title='ConstIsRHS' data-ref="202ConstIsRHS" data-ref-filename="202ConstIsRHS">ConstIsRHS</a>));</td></tr>
<tr><th id="1038">1038</th><td></td></tr>
<tr><th id="1039">1039</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col4 decl" id="204InC" title='InC' data-type='llvm::Constant *' data-ref="204InC" data-ref-filename="204InC"><a class="local col4 ref" href="#204InC" title='InC' data-ref="204InC" data-ref-filename="204InC">InC</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col0 ref" href="#200InV" title='InV' data-ref="200InV" data-ref-filename="200InV">InV</a>)) {</td></tr>
<tr><th id="1040">1040</th><td>    <b>if</b> (<a class="local col2 ref" href="#202ConstIsRHS" title='ConstIsRHS' data-ref="202ConstIsRHS" data-ref-filename="202ConstIsRHS">ConstIsRHS</a>)</td></tr>
<tr><th id="1041">1041</th><td>      <b>return</b> <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" title='llvm::ConstantExpr::get' data-ref="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" data-ref-filename="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE">get</a>(<a class="local col9 ref" href="#199I" title='I' data-ref="199I" data-ref-filename="199I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>(), <a class="local col4 ref" href="#204InC" title='InC' data-ref="204InC" data-ref-filename="204InC">InC</a>, <a class="local col3 ref" href="#203C" title='C' data-ref="203C" data-ref-filename="203C">C</a>);</td></tr>
<tr><th id="1042">1042</th><td>    <b>return</b> <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" title='llvm::ConstantExpr::get' data-ref="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" data-ref-filename="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE">get</a>(<a class="local col9 ref" href="#199I" title='I' data-ref="199I" data-ref-filename="199I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>(), <a class="local col3 ref" href="#203C" title='C' data-ref="203C" data-ref-filename="203C">C</a>, <a class="local col4 ref" href="#204InC" title='InC' data-ref="204InC" data-ref-filename="204InC">InC</a>);</td></tr>
<tr><th id="1043">1043</th><td>  }</td></tr>
<tr><th id="1044">1044</th><td></td></tr>
<tr><th id="1045">1045</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="205Op0" title='Op0' data-type='llvm::Value *' data-ref="205Op0" data-ref-filename="205Op0">Op0</dfn> = <a class="local col0 ref" href="#200InV" title='InV' data-ref="200InV" data-ref-filename="200InV">InV</a>, *<dfn class="local col6 decl" id="206Op1" title='Op1' data-type='llvm::Value *' data-ref="206Op1" data-ref-filename="206Op1">Op1</dfn> = <a class="local col3 ref" href="#203C" title='C' data-ref="203C" data-ref-filename="203C">C</a>;</td></tr>
<tr><th id="1046">1046</th><td>  <b>if</b> (!<a class="local col2 ref" href="#202ConstIsRHS" title='ConstIsRHS' data-ref="202ConstIsRHS" data-ref-filename="202ConstIsRHS">ConstIsRHS</a>)</td></tr>
<tr><th id="1047">1047</th><td>    <span class="namespace">std::</span><span class='ref fn' title='std::swap' data-ref="_ZSt4swapRT_S0_" data-ref-filename="_ZSt4swapRT_S0_">swap</span>(<span class='refarg'><a class="local col5 ref" href="#205Op0" title='Op0' data-ref="205Op0" data-ref-filename="205Op0">Op0</a></span>, <span class='refarg'><a class="local col6 ref" href="#206Op1" title='Op1' data-ref="206Op1" data-ref-filename="206Op1">Op1</a></span>);</td></tr>
<tr><th id="1048">1048</th><td></td></tr>
<tr><th id="1049">1049</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="207RI" title='RI' data-type='llvm::Value *' data-ref="207RI" data-ref-filename="207RI">RI</dfn> = <a class="local col1 ref" href="#201Builder" title='Builder' data-ref="201Builder" data-ref-filename="201Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col9 ref" href="#199I" title='I' data-ref="199I" data-ref-filename="199I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>(), <a class="local col5 ref" href="#205Op0" title='Op0' data-ref="205Op0" data-ref-filename="205Op0">Op0</a>, <a class="local col6 ref" href="#206Op1" title='Op1' data-ref="206Op1" data-ref-filename="206Op1">Op1</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"phi.bo"</q>);</td></tr>
<tr><th id="1050">1050</th><td>  <em>auto</em> *<dfn class="local col8 decl" id="208FPInst" title='FPInst' data-type='llvm::Instruction *' data-ref="208FPInst" data-ref-filename="208FPInst">FPInst</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>&gt;(<a class="local col7 ref" href="#207RI" title='RI' data-ref="207RI" data-ref-filename="207RI">RI</a>);</td></tr>
<tr><th id="1051">1051</th><td>  <b>if</b> (<a class="local col8 ref" href="#208FPInst" title='FPInst' data-ref="208FPInst" data-ref-filename="208FPInst">FPInst</a> &amp;&amp; <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::FPMathOperator" title='llvm::FPMathOperator' data-ref="llvm::FPMathOperator" data-ref-filename="llvm..FPMathOperator">FPMathOperator</a>&gt;(<a class="local col8 ref" href="#208FPInst" title='FPInst' data-ref="208FPInst" data-ref-filename="208FPInst">FPInst</a>))</td></tr>
<tr><th id="1052">1052</th><td>    <a class="local col8 ref" href="#208FPInst" title='FPInst' data-ref="208FPInst" data-ref-filename="208FPInst">FPInst</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction17copyFastMathFlagsEPKS0_" title='llvm::Instruction::copyFastMathFlags' data-ref="_ZN4llvm11Instruction17copyFastMathFlagsEPKS0_" data-ref-filename="_ZN4llvm11Instruction17copyFastMathFlagsEPKS0_">copyFastMathFlags</a>(<a class="local col9 ref" href="#199I" title='I' data-ref="199I" data-ref-filename="199I">I</a>);</td></tr>
<tr><th id="1053">1053</th><td>  <b>return</b> <a class="local col7 ref" href="#207RI" title='RI' data-ref="207RI" data-ref-filename="207RI">RI</a>;</td></tr>
<tr><th id="1054">1054</th><td>}</td></tr>
<tr><th id="1055">1055</th><td></td></tr>
<tr><th id="1056">1056</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl13foldOpIntoPhiERNS_11InstructionEPNS_7PHINodeE" title='llvm::InstCombinerImpl::foldOpIntoPhi' data-ref="_ZN4llvm16InstCombinerImpl13foldOpIntoPhiERNS_11InstructionEPNS_7PHINodeE" data-ref-filename="_ZN4llvm16InstCombinerImpl13foldOpIntoPhiERNS_11InstructionEPNS_7PHINodeE">foldOpIntoPhi</dfn>(<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> &amp;<dfn class="local col9 decl" id="209I" title='I' data-type='llvm::Instruction &amp;' data-ref="209I" data-ref-filename="209I">I</dfn>, <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a> *<dfn class="local col0 decl" id="210PN" title='PN' data-type='llvm::PHINode *' data-ref="210PN" data-ref-filename="210PN">PN</dfn>) {</td></tr>
<tr><th id="1057">1057</th><td>  <em>unsigned</em> <dfn class="local col1 decl" id="211NumPHIValues" title='NumPHIValues' data-type='unsigned int' data-ref="211NumPHIValues" data-ref-filename="211NumPHIValues">NumPHIValues</dfn> = <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode20getNumIncomingValuesEv" title='llvm::PHINode::getNumIncomingValues' data-ref="_ZNK4llvm7PHINode20getNumIncomingValuesEv" data-ref-filename="_ZNK4llvm7PHINode20getNumIncomingValuesEv">getNumIncomingValues</a>();</td></tr>
<tr><th id="1058">1058</th><td>  <b>if</b> (<a class="local col1 ref" href="#211NumPHIValues" title='NumPHIValues' data-ref="211NumPHIValues" data-ref-filename="211NumPHIValues">NumPHIValues</a> == <var>0</var>)</td></tr>
<tr><th id="1059">1059</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1060">1060</th><td></td></tr>
<tr><th id="1061">1061</th><td>  <i>// We normally only transform phis with a single use.  However, if a PHI has</i></td></tr>
<tr><th id="1062">1062</th><td><i>  // multiple uses and they are all the same operation, we can fold *all* of the</i></td></tr>
<tr><th id="1063">1063</th><td><i>  // uses into the PHI.</i></td></tr>
<tr><th id="1064">1064</th><td>  <b>if</b> (!<a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>()) {</td></tr>
<tr><th id="1065">1065</th><td>    <i>// Walk the use list for the instruction, comparing them to I.</i></td></tr>
<tr><th id="1066">1066</th><td>    <b>for</b> (<a class="type" href="../../../include/llvm/IR/User.h.html#llvm::User" title='llvm::User' data-ref="llvm::User" data-ref-filename="llvm..User">User</a> *<dfn class="local col2 decl" id="212U" title='U' data-type='llvm::User *' data-ref="212U" data-ref-filename="212U">U</dfn> : <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value5usersEv" title='llvm::Value::users' data-ref="_ZN4llvm5Value5usersEv" data-ref-filename="_ZN4llvm5Value5usersEv">users</a>()) {</td></tr>
<tr><th id="1067">1067</th><td>      <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col3 decl" id="213UI" title='UI' data-type='llvm::Instruction *' data-ref="213UI" data-ref-filename="213UI">UI</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>&gt;(<a class="local col2 ref" href="#212U" title='U' data-ref="212U" data-ref-filename="212U">U</a>);</td></tr>
<tr><th id="1068">1068</th><td>      <b>if</b> (<a class="local col3 ref" href="#213UI" title='UI' data-ref="213UI" data-ref-filename="213UI">UI</a> != &amp;<a class="local col9 ref" href="#209I" title='I' data-ref="209I" data-ref-filename="209I">I</a> &amp;&amp; !<a class="local col9 ref" href="#209I" title='I' data-ref="209I" data-ref-filename="209I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction13isIdenticalToEPKS0_" title='llvm::Instruction::isIdenticalTo' data-ref="_ZNK4llvm11Instruction13isIdenticalToEPKS0_" data-ref-filename="_ZNK4llvm11Instruction13isIdenticalToEPKS0_">isIdenticalTo</a>(<a class="local col3 ref" href="#213UI" title='UI' data-ref="213UI" data-ref-filename="213UI">UI</a>))</td></tr>
<tr><th id="1069">1069</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1070">1070</th><td>    }</td></tr>
<tr><th id="1071">1071</th><td>    <i>// Otherwise, we can replace *all* users with the new PHI we form.</i></td></tr>
<tr><th id="1072">1072</th><td>  }</td></tr>
<tr><th id="1073">1073</th><td></td></tr>
<tr><th id="1074">1074</th><td>  <i>// Check to see if all of the operands of the PHI are simple constants</i></td></tr>
<tr><th id="1075">1075</th><td><i>  // (constantint/constantfp/undef).  If there is one non-constant value,</i></td></tr>
<tr><th id="1076">1076</th><td><i>  // remember the BB it is in.  If there is more than one or if *it* is a PHI,</i></td></tr>
<tr><th id="1077">1077</th><td><i>  // bail out.  We don't do arbitrary constant expressions here because moving</i></td></tr>
<tr><th id="1078">1078</th><td><i>  // their computation can be expensive without a cost model.</i></td></tr>
<tr><th id="1079">1079</th><td>  <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col4 decl" id="214NonConstBB" title='NonConstBB' data-type='llvm::BasicBlock *' data-ref="214NonConstBB" data-ref-filename="214NonConstBB">NonConstBB</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="1080">1080</th><td>  <b>for</b> (<em>unsigned</em> <dfn class="local col5 decl" id="215i" title='i' data-type='unsigned int' data-ref="215i" data-ref-filename="215i">i</dfn> = <var>0</var>; <a class="local col5 ref" href="#215i" title='i' data-ref="215i" data-ref-filename="215i">i</a> != <a class="local col1 ref" href="#211NumPHIValues" title='NumPHIValues' data-ref="211NumPHIValues" data-ref-filename="211NumPHIValues">NumPHIValues</a>; ++<a class="local col5 ref" href="#215i" title='i' data-ref="215i" data-ref-filename="215i">i</a>) {</td></tr>
<tr><th id="1081">1081</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="216InVal" title='InVal' data-type='llvm::Value *' data-ref="216InVal" data-ref-filename="216InVal">InVal</dfn> = <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingValueEj" title='llvm::PHINode::getIncomingValue' data-ref="_ZNK4llvm7PHINode16getIncomingValueEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingValueEj">getIncomingValue</a>(<a class="local col5 ref" href="#215i" title='i' data-ref="215i" data-ref-filename="215i">i</a>);</td></tr>
<tr><th id="1082">1082</th><td>    <i>// If I is a freeze instruction, count undef as a non-constant.</i></td></tr>
<tr><th id="1083">1083</th><td>    <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col6 ref" href="#216InVal" title='InVal' data-ref="216InVal" data-ref-filename="216InVal">InVal</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch13m_ImmConstantEv" title='llvm::PatternMatch::m_ImmConstant' data-ref="_ZN4llvm12PatternMatch13m_ImmConstantEv" data-ref-filename="_ZN4llvm12PatternMatch13m_ImmConstantEv">m_ImmConstant</a>()) &amp;&amp;</td></tr>
<tr><th id="1084">1084</th><td>        (!<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::FreezeInst" title='llvm::FreezeInst' data-ref="llvm::FreezeInst" data-ref-filename="llvm..FreezeInst">FreezeInst</a>&gt;(<a class="local col9 ref" href="#209I" title='I' data-ref="209I" data-ref-filename="209I">I</a>) || <a class="ref fn" href="../../../include/llvm/Analysis/ValueTracking.h.html#_ZN4llvm32isGuaranteedNotToBeUndefOrPoisonEPKNS_5ValueEPNS_15AssumptionCacheEPKNS_11InstructionEPKNS_13DominatorTreeEj" title='llvm::isGuaranteedNotToBeUndefOrPoison' data-ref="_ZN4llvm32isGuaranteedNotToBeUndefOrPoisonEPKNS_5ValueEPNS_15AssumptionCacheEPKNS_11InstructionEPKNS_13DominatorTreeEj" data-ref-filename="_ZN4llvm32isGuaranteedNotToBeUndefOrPoisonEPKNS_5ValueEPNS_15AssumptionCacheEPKNS_11InstructionEPKNS_13DominatorTreeEj">isGuaranteedNotToBeUndefOrPoison</a>(<a class="local col6 ref" href="#216InVal" title='InVal' data-ref="216InVal" data-ref-filename="216InVal">InVal</a>)))</td></tr>
<tr><th id="1085">1085</th><td>      <b>continue</b>;</td></tr>
<tr><th id="1086">1086</th><td></td></tr>
<tr><th id="1087">1087</th><td>    <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a>&gt;(<a class="local col6 ref" href="#216InVal" title='InVal' data-ref="216InVal" data-ref-filename="216InVal">InVal</a>)) <b>return</b> <b>nullptr</b>;  <i>// Itself a phi.</i></td></tr>
<tr><th id="1088">1088</th><td>    <b>if</b> (<a class="local col4 ref" href="#214NonConstBB" title='NonConstBB' data-ref="214NonConstBB" data-ref-filename="214NonConstBB">NonConstBB</a>) <b>return</b> <b>nullptr</b>;  <i>// More than one non-const value.</i></td></tr>
<tr><th id="1089">1089</th><td></td></tr>
<tr><th id="1090">1090</th><td>    <a class="local col4 ref" href="#214NonConstBB" title='NonConstBB' data-ref="214NonConstBB" data-ref-filename="214NonConstBB">NonConstBB</a> = <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingBlockEj" title='llvm::PHINode::getIncomingBlock' data-ref="_ZNK4llvm7PHINode16getIncomingBlockEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingBlockEj">getIncomingBlock</a>(<a class="local col5 ref" href="#215i" title='i' data-ref="215i" data-ref-filename="215i">i</a>);</td></tr>
<tr><th id="1091">1091</th><td></td></tr>
<tr><th id="1092">1092</th><td>    <i>// If the InVal is an invoke at the end of the pred block, then we can't</i></td></tr>
<tr><th id="1093">1093</th><td><i>    // insert a computation after it without breaking the edge.</i></td></tr>
<tr><th id="1094">1094</th><td>    <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::InvokeInst" title='llvm::InvokeInst' data-ref="llvm::InvokeInst" data-ref-filename="llvm..InvokeInst">InvokeInst</a>&gt;(<a class="local col6 ref" href="#216InVal" title='InVal' data-ref="216InVal" data-ref-filename="216InVal">InVal</a>))</td></tr>
<tr><th id="1095">1095</th><td>      <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>&gt;(<a class="local col6 ref" href="#216InVal" title='InVal' data-ref="216InVal" data-ref-filename="216InVal">InVal</a>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>() == <a class="local col4 ref" href="#214NonConstBB" title='NonConstBB' data-ref="214NonConstBB" data-ref-filename="214NonConstBB">NonConstBB</a>)</td></tr>
<tr><th id="1096">1096</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1097">1097</th><td></td></tr>
<tr><th id="1098">1098</th><td>    <i>// If the incoming non-constant value is in I's block, we will remove one</i></td></tr>
<tr><th id="1099">1099</th><td><i>    // instruction, but insert another equivalent one, leading to infinite</i></td></tr>
<tr><th id="1100">1100</th><td><i>    // instcombine.</i></td></tr>
<tr><th id="1101">1101</th><td>    <b>if</b> (<a class="ref fn" href="../../../include/llvm/Analysis/CFG.h.html#_ZN4llvm22isPotentiallyReachableEPKNS_10BasicBlockES2_PKNS_13DominatorTreeEPKNS_8LoopInfoE" title='llvm::isPotentiallyReachable' data-ref="_ZN4llvm22isPotentiallyReachableEPKNS_10BasicBlockES2_PKNS_13DominatorTreeEPKNS_8LoopInfoE" data-ref-filename="_ZN4llvm22isPotentiallyReachableEPKNS_10BasicBlockES2_PKNS_13DominatorTreeEPKNS_8LoopInfoE">isPotentiallyReachable</a>(<a class="local col9 ref" href="#209I" title='I' data-ref="209I" data-ref-filename="209I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>(), <a class="local col4 ref" href="#214NonConstBB" title='NonConstBB' data-ref="214NonConstBB" data-ref-filename="214NonConstBB">NonConstBB</a>, &amp;<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DT" title='llvm::InstCombiner::DT' data-ref="llvm::InstCombiner::DT" data-ref-filename="llvm..InstCombiner..DT">DT</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::LI" title='llvm::InstCombiner::LI' data-ref="llvm::InstCombiner::LI" data-ref-filename="llvm..InstCombiner..LI">LI</a>))</td></tr>
<tr><th id="1102">1102</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1103">1103</th><td>  }</td></tr>
<tr><th id="1104">1104</th><td></td></tr>
<tr><th id="1105">1105</th><td>  <i>// If there is exactly one non-constant value, we can insert a copy of the</i></td></tr>
<tr><th id="1106">1106</th><td><i>  // operation in that block.  However, if this is a critical edge, we would be</i></td></tr>
<tr><th id="1107">1107</th><td><i>  // inserting the computation on some other paths (e.g. inside a loop).  Only</i></td></tr>
<tr><th id="1108">1108</th><td><i>  // do this if the pred block is unconditionally branching into the phi block.</i></td></tr>
<tr><th id="1109">1109</th><td><i>  // Also, make sure that the pred block is not dead code.</i></td></tr>
<tr><th id="1110">1110</th><td>  <b>if</b> (<a class="local col4 ref" href="#214NonConstBB" title='NonConstBB' data-ref="214NonConstBB" data-ref-filename="214NonConstBB">NonConstBB</a> != <b>nullptr</b>) {</td></tr>
<tr><th id="1111">1111</th><td>    <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::BranchInst" title='llvm::BranchInst' data-ref="llvm::BranchInst" data-ref-filename="llvm..BranchInst">BranchInst</a> *<dfn class="local col7 decl" id="217BI" title='BI' data-type='llvm::BranchInst *' data-ref="217BI" data-ref-filename="217BI">BI</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::BranchInst" title='llvm::BranchInst' data-ref="llvm::BranchInst" data-ref-filename="llvm..BranchInst">BranchInst</a>&gt;(<a class="local col4 ref" href="#214NonConstBB" title='NonConstBB' data-ref="214NonConstBB" data-ref-filename="214NonConstBB">NonConstBB</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock13getTerminatorEv" title='llvm::BasicBlock::getTerminator' data-ref="_ZN4llvm10BasicBlock13getTerminatorEv" data-ref-filename="_ZN4llvm10BasicBlock13getTerminatorEv">getTerminator</a>());</td></tr>
<tr><th id="1112">1112</th><td>    <b>if</b> (!<a class="local col7 ref" href="#217BI" title='BI' data-ref="217BI" data-ref-filename="217BI">BI</a> || !<a class="local col7 ref" href="#217BI" title='BI' data-ref="217BI" data-ref-filename="217BI">BI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10BranchInst15isUnconditionalEv" title='llvm::BranchInst::isUnconditional' data-ref="_ZNK4llvm10BranchInst15isUnconditionalEv" data-ref-filename="_ZNK4llvm10BranchInst15isUnconditionalEv">isUnconditional</a>() || !<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DT" title='llvm::InstCombiner::DT' data-ref="llvm::InstCombiner::DT" data-ref-filename="llvm..InstCombiner..DT">DT</a>.<a class="ref fn" href="../../../include/llvm/Support/GenericDomTree.h.html#_ZNK4llvm17DominatorTreeBase20isReachableFromEntryEPKT_" title='llvm::DominatorTreeBase::isReachableFromEntry' data-ref="_ZNK4llvm17DominatorTreeBase20isReachableFromEntryEPKT_" data-ref-filename="_ZNK4llvm17DominatorTreeBase20isReachableFromEntryEPKT_">isReachableFromEntry</a>(<a class="local col4 ref" href="#214NonConstBB" title='NonConstBB' data-ref="214NonConstBB" data-ref-filename="214NonConstBB">NonConstBB</a>))</td></tr>
<tr><th id="1113">1113</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1114">1114</th><td>  }</td></tr>
<tr><th id="1115">1115</th><td></td></tr>
<tr><th id="1116">1116</th><td>  <i>// Okay, we can do the transformation: create the new PHI node.</i></td></tr>
<tr><th id="1117">1117</th><td>  <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a> *<dfn class="local col8 decl" id="218NewPN" title='NewPN' data-type='llvm::PHINode *' data-ref="218NewPN" data-ref-filename="218NewPN">NewPN</dfn> = <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a>::<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode6CreateEPNS_4TypeEjRKNS_5TwineEPNS_11InstructionE" title='llvm::PHINode::Create' data-ref="_ZN4llvm7PHINode6CreateEPNS_4TypeEjRKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm7PHINode6CreateEPNS_4TypeEjRKNS_5TwineEPNS_11InstructionE">Create</a>(<a class="local col9 ref" href="#209I" title='I' data-ref="209I" data-ref-filename="209I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode20getNumIncomingValuesEv" title='llvm::PHINode::getNumIncomingValues' data-ref="_ZNK4llvm7PHINode20getNumIncomingValuesEv" data-ref-filename="_ZNK4llvm7PHINode20getNumIncomingValuesEv">getNumIncomingValues</a>());</td></tr>
<tr><th id="1118">1118</th><td>  <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19InsertNewInstBeforeEPNS_11InstructionERS1_" title='llvm::InstCombinerImpl::InsertNewInstBefore' data-ref="_ZN4llvm16InstCombinerImpl19InsertNewInstBeforeEPNS_11InstructionERS1_" data-ref-filename="_ZN4llvm16InstCombinerImpl19InsertNewInstBeforeEPNS_11InstructionERS1_">InsertNewInstBefore</a>(<a class="local col8 ref" href="#218NewPN" title='NewPN' data-ref="218NewPN" data-ref-filename="218NewPN">NewPN</a>, <span class='refarg'>*<a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a></span>);</td></tr>
<tr><th id="1119">1119</th><td>  <a class="local col8 ref" href="#218NewPN" title='NewPN' data-ref="218NewPN" data-ref-filename="218NewPN">NewPN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value8takeNameEPS0_" title='llvm::Value::takeName' data-ref="_ZN4llvm5Value8takeNameEPS0_" data-ref-filename="_ZN4llvm5Value8takeNameEPS0_">takeName</a>(<a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>);</td></tr>
<tr><th id="1120">1120</th><td></td></tr>
<tr><th id="1121">1121</th><td>  <i>// If we are going to have to insert a new computation, do so right before the</i></td></tr>
<tr><th id="1122">1122</th><td><i>  // predecessor's terminator.</i></td></tr>
<tr><th id="1123">1123</th><td>  <b>if</b> (<a class="local col4 ref" href="#214NonConstBB" title='NonConstBB' data-ref="214NonConstBB" data-ref-filename="214NonConstBB">NonConstBB</a>)</td></tr>
<tr><th id="1124">1124</th><td>    <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE">SetInsertPoint</a>(<a class="local col4 ref" href="#214NonConstBB" title='NonConstBB' data-ref="214NonConstBB" data-ref-filename="214NonConstBB">NonConstBB</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock13getTerminatorEv" title='llvm::BasicBlock::getTerminator' data-ref="_ZN4llvm10BasicBlock13getTerminatorEv" data-ref-filename="_ZN4llvm10BasicBlock13getTerminatorEv">getTerminator</a>());</td></tr>
<tr><th id="1125">1125</th><td></td></tr>
<tr><th id="1126">1126</th><td>  <i>// Next, add all of the operands to the PHI.</i></td></tr>
<tr><th id="1127">1127</th><td>  <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::SelectInst" title='llvm::SelectInst' data-ref="llvm::SelectInst" data-ref-filename="llvm..SelectInst">SelectInst</a> *<dfn class="local col9 decl" id="219SI" title='SI' data-type='llvm::SelectInst *' data-ref="219SI" data-ref-filename="219SI"><a class="local col9 ref" href="#219SI" title='SI' data-ref="219SI" data-ref-filename="219SI">SI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::SelectInst" title='llvm::SelectInst' data-ref="llvm::SelectInst" data-ref-filename="llvm..SelectInst">SelectInst</a>&gt;(&amp;<a class="local col9 ref" href="#209I" title='I' data-ref="209I" data-ref-filename="209I">I</a>)) {</td></tr>
<tr><th id="1128">1128</th><td>    <i>// We only currently try to fold the condition of a select when it is a phi,</i></td></tr>
<tr><th id="1129">1129</th><td><i>    // not the true/false values.</i></td></tr>
<tr><th id="1130">1130</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="220TrueV" title='TrueV' data-type='llvm::Value *' data-ref="220TrueV" data-ref-filename="220TrueV">TrueV</dfn> = <a class="local col9 ref" href="#219SI" title='SI' data-ref="219SI" data-ref-filename="219SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SelectInst12getTrueValueEv" title='llvm::SelectInst::getTrueValue' data-ref="_ZN4llvm10SelectInst12getTrueValueEv" data-ref-filename="_ZN4llvm10SelectInst12getTrueValueEv">getTrueValue</a>();</td></tr>
<tr><th id="1131">1131</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="221FalseV" title='FalseV' data-type='llvm::Value *' data-ref="221FalseV" data-ref-filename="221FalseV">FalseV</dfn> = <a class="local col9 ref" href="#219SI" title='SI' data-ref="219SI" data-ref-filename="219SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SelectInst13getFalseValueEv" title='llvm::SelectInst::getFalseValue' data-ref="_ZN4llvm10SelectInst13getFalseValueEv" data-ref-filename="_ZN4llvm10SelectInst13getFalseValueEv">getFalseValue</a>();</td></tr>
<tr><th id="1132">1132</th><td>    <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col2 decl" id="222PhiTransBB" title='PhiTransBB' data-type='llvm::BasicBlock *' data-ref="222PhiTransBB" data-ref-filename="222PhiTransBB">PhiTransBB</dfn> = <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>();</td></tr>
<tr><th id="1133">1133</th><td>    <b>for</b> (<em>unsigned</em> <dfn class="local col3 decl" id="223i" title='i' data-type='unsigned int' data-ref="223i" data-ref-filename="223i">i</dfn> = <var>0</var>; <a class="local col3 ref" href="#223i" title='i' data-ref="223i" data-ref-filename="223i">i</a> != <a class="local col1 ref" href="#211NumPHIValues" title='NumPHIValues' data-ref="211NumPHIValues" data-ref-filename="211NumPHIValues">NumPHIValues</a>; ++<a class="local col3 ref" href="#223i" title='i' data-ref="223i" data-ref-filename="223i">i</a>) {</td></tr>
<tr><th id="1134">1134</th><td>      <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col4 decl" id="224ThisBB" title='ThisBB' data-type='llvm::BasicBlock *' data-ref="224ThisBB" data-ref-filename="224ThisBB">ThisBB</dfn> = <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingBlockEj" title='llvm::PHINode::getIncomingBlock' data-ref="_ZNK4llvm7PHINode16getIncomingBlockEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingBlockEj">getIncomingBlock</a>(<a class="local col3 ref" href="#223i" title='i' data-ref="223i" data-ref-filename="223i">i</a>);</td></tr>
<tr><th id="1135">1135</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="225TrueVInPred" title='TrueVInPred' data-type='llvm::Value *' data-ref="225TrueVInPred" data-ref-filename="225TrueVInPred">TrueVInPred</dfn> = <a class="local col0 ref" href="#220TrueV" title='TrueV' data-ref="220TrueV" data-ref-filename="220TrueV">TrueV</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value16DoPHITranslationEPKNS_10BasicBlockES3_" title='llvm::Value::DoPHITranslation' data-ref="_ZN4llvm5Value16DoPHITranslationEPKNS_10BasicBlockES3_" data-ref-filename="_ZN4llvm5Value16DoPHITranslationEPKNS_10BasicBlockES3_">DoPHITranslation</a>(<a class="local col2 ref" href="#222PhiTransBB" title='PhiTransBB' data-ref="222PhiTransBB" data-ref-filename="222PhiTransBB">PhiTransBB</a>, <a class="local col4 ref" href="#224ThisBB" title='ThisBB' data-ref="224ThisBB" data-ref-filename="224ThisBB">ThisBB</a>);</td></tr>
<tr><th id="1136">1136</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="226FalseVInPred" title='FalseVInPred' data-type='llvm::Value *' data-ref="226FalseVInPred" data-ref-filename="226FalseVInPred">FalseVInPred</dfn> = <a class="local col1 ref" href="#221FalseV" title='FalseV' data-ref="221FalseV" data-ref-filename="221FalseV">FalseV</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value16DoPHITranslationEPKNS_10BasicBlockES3_" title='llvm::Value::DoPHITranslation' data-ref="_ZN4llvm5Value16DoPHITranslationEPKNS_10BasicBlockES3_" data-ref-filename="_ZN4llvm5Value16DoPHITranslationEPKNS_10BasicBlockES3_">DoPHITranslation</a>(<a class="local col2 ref" href="#222PhiTransBB" title='PhiTransBB' data-ref="222PhiTransBB" data-ref-filename="222PhiTransBB">PhiTransBB</a>, <a class="local col4 ref" href="#224ThisBB" title='ThisBB' data-ref="224ThisBB" data-ref-filename="224ThisBB">ThisBB</a>);</td></tr>
<tr><th id="1137">1137</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="227InV" title='InV' data-type='llvm::Value *' data-ref="227InV" data-ref-filename="227InV">InV</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="1138">1138</th><td>      <i>// Beware of ConstantExpr:  it may eventually evaluate to getNullValue,</i></td></tr>
<tr><th id="1139">1139</th><td><i>      // even if currently isNullValue gives false.</i></td></tr>
<tr><th id="1140">1140</th><td>      <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col8 decl" id="228InC" title='InC' data-type='llvm::Constant *' data-ref="228InC" data-ref-filename="228InC">InC</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingValueEj" title='llvm::PHINode::getIncomingValue' data-ref="_ZNK4llvm7PHINode16getIncomingValueEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingValueEj">getIncomingValue</a>(<a class="local col3 ref" href="#223i" title='i' data-ref="223i" data-ref-filename="223i">i</a>));</td></tr>
<tr><th id="1141">1141</th><td>      <i>// For vector constants, we cannot use isNullValue to fold into</i></td></tr>
<tr><th id="1142">1142</th><td><i>      // FalseVInPred versus TrueVInPred. When we have individual nonzero</i></td></tr>
<tr><th id="1143">1143</th><td><i>      // elements in the vector, we will incorrectly fold InC to</i></td></tr>
<tr><th id="1144">1144</th><td><i>      // `TrueVInPred`.</i></td></tr>
<tr><th id="1145">1145</th><td>      <b>if</b> (<a class="local col8 ref" href="#228InC" title='InC' data-ref="228InC" data-ref-filename="228InC">InC</a> &amp;&amp; <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col8 ref" href="#228InC" title='InC' data-ref="228InC" data-ref-filename="228InC">InC</a>))</td></tr>
<tr><th id="1146">1146</th><td>        <a class="local col7 ref" href="#227InV" title='InV' data-ref="227InV" data-ref-filename="227InV">InV</a> = <a class="local col8 ref" href="#228InC" title='InC' data-ref="228InC" data-ref-filename="228InC">InC</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZNK4llvm8Constant11isNullValueEv" title='llvm::Constant::isNullValue' data-ref="_ZNK4llvm8Constant11isNullValueEv" data-ref-filename="_ZNK4llvm8Constant11isNullValueEv">isNullValue</a>() ? <a class="local col6 ref" href="#226FalseVInPred" title='FalseVInPred' data-ref="226FalseVInPred" data-ref-filename="226FalseVInPred">FalseVInPred</a> : <a class="local col5 ref" href="#225TrueVInPred" title='TrueVInPred' data-ref="225TrueVInPred" data-ref-filename="225TrueVInPred">TrueVInPred</a>;</td></tr>
<tr><th id="1147">1147</th><td>      <b>else</b> {</td></tr>
<tr><th id="1148">1148</th><td>        <i>// Generate the select in the same block as PN's current incoming block.</i></td></tr>
<tr><th id="1149">1149</th><td><i>        // Note: ThisBB need not be the NonConstBB because vector constants</i></td></tr>
<tr><th id="1150">1150</th><td><i>        // which are constants by definition are handled here.</i></td></tr>
<tr><th id="1151">1151</th><td><i>        // FIXME: This can lead to an increase in IR generation because we might</i></td></tr>
<tr><th id="1152">1152</th><td><i>        // generate selects for vector constant phi operand, that could not be</i></td></tr>
<tr><th id="1153">1153</th><td><i>        // folded to TrueVInPred or FalseVInPred as done for ConstantInt. For</i></td></tr>
<tr><th id="1154">1154</th><td><i>        // non-vector phis, this transformation was always profitable because</i></td></tr>
<tr><th id="1155">1155</th><td><i>        // the select would be generated exactly once in the NonConstBB.</i></td></tr>
<tr><th id="1156">1156</th><td>        <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE">SetInsertPoint</a>(<a class="local col4 ref" href="#224ThisBB" title='ThisBB' data-ref="224ThisBB" data-ref-filename="224ThisBB">ThisBB</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock13getTerminatorEv" title='llvm::BasicBlock::getTerminator' data-ref="_ZN4llvm10BasicBlock13getTerminatorEv" data-ref-filename="_ZN4llvm10BasicBlock13getTerminatorEv">getTerminator</a>());</td></tr>
<tr><th id="1157">1157</th><td>        <a class="local col7 ref" href="#227InV" title='InV' data-ref="227InV" data-ref-filename="227InV">InV</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE" title='llvm::IRBuilderBase::CreateSelect' data-ref="_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE">CreateSelect</a>(<a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingValueEj" title='llvm::PHINode::getIncomingValue' data-ref="_ZNK4llvm7PHINode16getIncomingValueEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingValueEj">getIncomingValue</a>(<a class="local col3 ref" href="#223i" title='i' data-ref="223i" data-ref-filename="223i">i</a>), <a class="local col5 ref" href="#225TrueVInPred" title='TrueVInPred' data-ref="225TrueVInPred" data-ref-filename="225TrueVInPred">TrueVInPred</a>,</td></tr>
<tr><th id="1158">1158</th><td>                                   <a class="local col6 ref" href="#226FalseVInPred" title='FalseVInPred' data-ref="226FalseVInPred" data-ref-filename="226FalseVInPred">FalseVInPred</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"phi.sel"</q>);</td></tr>
<tr><th id="1159">1159</th><td>      }</td></tr>
<tr><th id="1160">1160</th><td>      <a class="local col8 ref" href="#218NewPN" title='NewPN' data-ref="218NewPN" data-ref-filename="218NewPN">NewPN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col7 ref" href="#227InV" title='InV' data-ref="227InV" data-ref-filename="227InV">InV</a>, <a class="local col4 ref" href="#224ThisBB" title='ThisBB' data-ref="224ThisBB" data-ref-filename="224ThisBB">ThisBB</a>);</td></tr>
<tr><th id="1161">1161</th><td>    }</td></tr>
<tr><th id="1162">1162</th><td>  } <b>else</b> <b>if</b> (<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CmpInst" title='llvm::CmpInst' data-ref="llvm::CmpInst" data-ref-filename="llvm..CmpInst">CmpInst</a> *<dfn class="local col9 decl" id="229CI" title='CI' data-type='llvm::CmpInst *' data-ref="229CI" data-ref-filename="229CI"><a class="local col9 ref" href="#229CI" title='CI' data-ref="229CI" data-ref-filename="229CI">CI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CmpInst" title='llvm::CmpInst' data-ref="llvm::CmpInst" data-ref-filename="llvm..CmpInst">CmpInst</a>&gt;(&amp;<a class="local col9 ref" href="#209I" title='I' data-ref="209I" data-ref-filename="209I">I</a>)) {</td></tr>
<tr><th id="1163">1163</th><td>    <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col0 decl" id="230C" title='C' data-type='llvm::Constant *' data-ref="230C" data-ref-filename="230C">C</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col9 ref" href="#209I" title='I' data-ref="209I" data-ref-filename="209I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<var>1</var>));</td></tr>
<tr><th id="1164">1164</th><td>    <b>for</b> (<em>unsigned</em> <dfn class="local col1 decl" id="231i" title='i' data-type='unsigned int' data-ref="231i" data-ref-filename="231i">i</dfn> = <var>0</var>; <a class="local col1 ref" href="#231i" title='i' data-ref="231i" data-ref-filename="231i">i</a> != <a class="local col1 ref" href="#211NumPHIValues" title='NumPHIValues' data-ref="211NumPHIValues" data-ref-filename="211NumPHIValues">NumPHIValues</a>; ++<a class="local col1 ref" href="#231i" title='i' data-ref="231i" data-ref-filename="231i">i</a>) {</td></tr>
<tr><th id="1165">1165</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="232InV" title='InV' data-type='llvm::Value *' data-ref="232InV" data-ref-filename="232InV">InV</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="1166">1166</th><td>      <b>if</b> (<em>auto</em> *<dfn class="local col3 decl" id="233InC" title='InC' data-type='llvm::Constant *' data-ref="233InC" data-ref-filename="233InC"><a class="local col3 ref" href="#233InC" title='InC' data-ref="233InC" data-ref-filename="233InC">InC</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingValueEj" title='llvm::PHINode::getIncomingValue' data-ref="_ZNK4llvm7PHINode16getIncomingValueEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingValueEj">getIncomingValue</a>(<a class="local col1 ref" href="#231i" title='i' data-ref="231i" data-ref-filename="231i">i</a>)))</td></tr>
<tr><th id="1167">1167</th><td>        <a class="local col2 ref" href="#232InV" title='InV' data-ref="232InV" data-ref-filename="232InV">InV</a> = <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr10getCompareEtPNS_8ConstantES2_b" title='llvm::ConstantExpr::getCompare' data-ref="_ZN4llvm12ConstantExpr10getCompareEtPNS_8ConstantES2_b" data-ref-filename="_ZN4llvm12ConstantExpr10getCompareEtPNS_8ConstantES2_b">getCompare</a>(<a class="local col9 ref" href="#229CI" title='CI' data-ref="229CI" data-ref-filename="229CI">CI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm7CmpInst12getPredicateEv" title='llvm::CmpInst::getPredicate' data-ref="_ZNK4llvm7CmpInst12getPredicateEv" data-ref-filename="_ZNK4llvm7CmpInst12getPredicateEv">getPredicate</a>(), <a class="local col3 ref" href="#233InC" title='InC' data-ref="233InC" data-ref-filename="233InC">InC</a>, <a class="local col0 ref" href="#230C" title='C' data-ref="230C" data-ref-filename="230C">C</a>);</td></tr>
<tr><th id="1168">1168</th><td>      <b>else</b></td></tr>
<tr><th id="1169">1169</th><td>        <a class="local col2 ref" href="#232InV" title='InV' data-ref="232InV" data-ref-filename="232InV">InV</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateCmpENS_7CmpInst9PredicateEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateCmp' data-ref="_ZN4llvm13IRBuilderBase9CreateCmpENS_7CmpInst9PredicateEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateCmpENS_7CmpInst9PredicateEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateCmp</a>(<a class="local col9 ref" href="#229CI" title='CI' data-ref="229CI" data-ref-filename="229CI">CI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm7CmpInst12getPredicateEv" title='llvm::CmpInst::getPredicate' data-ref="_ZNK4llvm7CmpInst12getPredicateEv" data-ref-filename="_ZNK4llvm7CmpInst12getPredicateEv">getPredicate</a>(), <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingValueEj" title='llvm::PHINode::getIncomingValue' data-ref="_ZNK4llvm7PHINode16getIncomingValueEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingValueEj">getIncomingValue</a>(<a class="local col1 ref" href="#231i" title='i' data-ref="231i" data-ref-filename="231i">i</a>),</td></tr>
<tr><th id="1170">1170</th><td>                                <a class="local col0 ref" href="#230C" title='C' data-ref="230C" data-ref-filename="230C">C</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"phi.cmp"</q>);</td></tr>
<tr><th id="1171">1171</th><td>      <a class="local col8 ref" href="#218NewPN" title='NewPN' data-ref="218NewPN" data-ref-filename="218NewPN">NewPN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col2 ref" href="#232InV" title='InV' data-ref="232InV" data-ref-filename="232InV">InV</a>, <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingBlockEj" title='llvm::PHINode::getIncomingBlock' data-ref="_ZNK4llvm7PHINode16getIncomingBlockEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingBlockEj">getIncomingBlock</a>(<a class="local col1 ref" href="#231i" title='i' data-ref="231i" data-ref-filename="231i">i</a>));</td></tr>
<tr><th id="1172">1172</th><td>    }</td></tr>
<tr><th id="1173">1173</th><td>  } <b>else</b> <b>if</b> (<em>auto</em> *<dfn class="local col4 decl" id="234BO" title='BO' data-type='llvm::BinaryOperator *' data-ref="234BO" data-ref-filename="234BO"><a class="local col4 ref" href="#234BO" title='BO' data-ref="234BO" data-ref-filename="234BO">BO</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(&amp;<a class="local col9 ref" href="#209I" title='I' data-ref="209I" data-ref-filename="209I">I</a>)) {</td></tr>
<tr><th id="1174">1174</th><td>    <b>for</b> (<em>unsigned</em> <dfn class="local col5 decl" id="235i" title='i' data-type='unsigned int' data-ref="235i" data-ref-filename="235i">i</dfn> = <var>0</var>; <a class="local col5 ref" href="#235i" title='i' data-ref="235i" data-ref-filename="235i">i</a> != <a class="local col1 ref" href="#211NumPHIValues" title='NumPHIValues' data-ref="211NumPHIValues" data-ref-filename="211NumPHIValues">NumPHIValues</a>; ++<a class="local col5 ref" href="#235i" title='i' data-ref="235i" data-ref-filename="235i">i</a>) {</td></tr>
<tr><th id="1175">1175</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="236InV" title='InV' data-type='llvm::Value *' data-ref="236InV" data-ref-filename="236InV">InV</dfn> = <a class="tu ref fn" href="#_ZL25foldOperationIntoPhiValuePN4llvm14BinaryOperatorEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE" title='foldOperationIntoPhiValue' data-use='c' data-ref="_ZL25foldOperationIntoPhiValuePN4llvm14BinaryOperatorEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE" data-ref-filename="_ZL25foldOperationIntoPhiValuePN4llvm14BinaryOperatorEPNS_5ValueERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE">foldOperationIntoPhiValue</a>(<a class="local col4 ref" href="#234BO" title='BO' data-ref="234BO" data-ref-filename="234BO">BO</a>, <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingValueEj" title='llvm::PHINode::getIncomingValue' data-ref="_ZNK4llvm7PHINode16getIncomingValueEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingValueEj">getIncomingValue</a>(<a class="local col5 ref" href="#235i" title='i' data-ref="235i" data-ref-filename="235i">i</a>),</td></tr>
<tr><th id="1176">1176</th><td>                                             <span class='refarg'><a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a></span>);</td></tr>
<tr><th id="1177">1177</th><td>      <a class="local col8 ref" href="#218NewPN" title='NewPN' data-ref="218NewPN" data-ref-filename="218NewPN">NewPN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col6 ref" href="#236InV" title='InV' data-ref="236InV" data-ref-filename="236InV">InV</a>, <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingBlockEj" title='llvm::PHINode::getIncomingBlock' data-ref="_ZNK4llvm7PHINode16getIncomingBlockEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingBlockEj">getIncomingBlock</a>(<a class="local col5 ref" href="#235i" title='i' data-ref="235i" data-ref-filename="235i">i</a>));</td></tr>
<tr><th id="1178">1178</th><td>    }</td></tr>
<tr><th id="1179">1179</th><td>  } <b>else</b> <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::FreezeInst" title='llvm::FreezeInst' data-ref="llvm::FreezeInst" data-ref-filename="llvm..FreezeInst">FreezeInst</a>&gt;(&amp;<a class="local col9 ref" href="#209I" title='I' data-ref="209I" data-ref-filename="209I">I</a>)) {</td></tr>
<tr><th id="1180">1180</th><td>    <b>for</b> (<em>unsigned</em> <dfn class="local col7 decl" id="237i" title='i' data-type='unsigned int' data-ref="237i" data-ref-filename="237i">i</dfn> = <var>0</var>; <a class="local col7 ref" href="#237i" title='i' data-ref="237i" data-ref-filename="237i">i</a> != <a class="local col1 ref" href="#211NumPHIValues" title='NumPHIValues' data-ref="211NumPHIValues" data-ref-filename="211NumPHIValues">NumPHIValues</a>; ++<a class="local col7 ref" href="#237i" title='i' data-ref="237i" data-ref-filename="237i">i</a>) {</td></tr>
<tr><th id="1181">1181</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="238InV" title='InV' data-type='llvm::Value *' data-ref="238InV" data-ref-filename="238InV">InV</dfn>;</td></tr>
<tr><th id="1182">1182</th><td>      <b>if</b> (<a class="local col4 ref" href="#214NonConstBB" title='NonConstBB' data-ref="214NonConstBB" data-ref-filename="214NonConstBB">NonConstBB</a> == <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingBlockEj" title='llvm::PHINode::getIncomingBlock' data-ref="_ZNK4llvm7PHINode16getIncomingBlockEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingBlockEj">getIncomingBlock</a>(<a class="local col7 ref" href="#237i" title='i' data-ref="237i" data-ref-filename="237i">i</a>))</td></tr>
<tr><th id="1183">1183</th><td>        <a class="local col8 ref" href="#238InV" title='InV' data-ref="238InV" data-ref-filename="238InV">InV</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateFreezeEPNS_5ValueERKNS_5TwineE" title='llvm::IRBuilderBase::CreateFreeze' data-ref="_ZN4llvm13IRBuilderBase12CreateFreezeEPNS_5ValueERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateFreezeEPNS_5ValueERKNS_5TwineE">CreateFreeze</a>(<a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingValueEj" title='llvm::PHINode::getIncomingValue' data-ref="_ZNK4llvm7PHINode16getIncomingValueEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingValueEj">getIncomingValue</a>(<a class="local col7 ref" href="#237i" title='i' data-ref="237i" data-ref-filename="237i">i</a>), <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"phi.fr"</q>);</td></tr>
<tr><th id="1184">1184</th><td>      <b>else</b></td></tr>
<tr><th id="1185">1185</th><td>        <a class="local col8 ref" href="#238InV" title='InV' data-ref="238InV" data-ref-filename="238InV">InV</a> = <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingValueEj" title='llvm::PHINode::getIncomingValue' data-ref="_ZNK4llvm7PHINode16getIncomingValueEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingValueEj">getIncomingValue</a>(<a class="local col7 ref" href="#237i" title='i' data-ref="237i" data-ref-filename="237i">i</a>);</td></tr>
<tr><th id="1186">1186</th><td>      <a class="local col8 ref" href="#218NewPN" title='NewPN' data-ref="218NewPN" data-ref-filename="218NewPN">NewPN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col8 ref" href="#238InV" title='InV' data-ref="238InV" data-ref-filename="238InV">InV</a>, <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingBlockEj" title='llvm::PHINode::getIncomingBlock' data-ref="_ZNK4llvm7PHINode16getIncomingBlockEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingBlockEj">getIncomingBlock</a>(<a class="local col7 ref" href="#237i" title='i' data-ref="237i" data-ref-filename="237i">i</a>));</td></tr>
<tr><th id="1187">1187</th><td>    }</td></tr>
<tr><th id="1188">1188</th><td>  } <b>else</b> {</td></tr>
<tr><th id="1189">1189</th><td>    <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a> *<dfn class="local col9 decl" id="239CI" title='CI' data-type='llvm::CastInst *' data-ref="239CI" data-ref-filename="239CI">CI</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a>&gt;(&amp;<a class="local col9 ref" href="#209I" title='I' data-ref="209I" data-ref-filename="209I">I</a>);</td></tr>
<tr><th id="1190">1190</th><td>    <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col0 decl" id="240RetTy" title='RetTy' data-type='llvm::Type *' data-ref="240RetTy" data-ref-filename="240RetTy">RetTy</dfn> = <a class="local col9 ref" href="#239CI" title='CI' data-ref="239CI" data-ref-filename="239CI">CI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>();</td></tr>
<tr><th id="1191">1191</th><td>    <b>for</b> (<em>unsigned</em> <dfn class="local col1 decl" id="241i" title='i' data-type='unsigned int' data-ref="241i" data-ref-filename="241i">i</dfn> = <var>0</var>; <a class="local col1 ref" href="#241i" title='i' data-ref="241i" data-ref-filename="241i">i</a> != <a class="local col1 ref" href="#211NumPHIValues" title='NumPHIValues' data-ref="211NumPHIValues" data-ref-filename="211NumPHIValues">NumPHIValues</a>; ++<a class="local col1 ref" href="#241i" title='i' data-ref="241i" data-ref-filename="241i">i</a>) {</td></tr>
<tr><th id="1192">1192</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="242InV" title='InV' data-type='llvm::Value *' data-ref="242InV" data-ref-filename="242InV">InV</dfn>;</td></tr>
<tr><th id="1193">1193</th><td>      <b>if</b> (<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col3 decl" id="243InC" title='InC' data-type='llvm::Constant *' data-ref="243InC" data-ref-filename="243InC"><a class="local col3 ref" href="#243InC" title='InC' data-ref="243InC" data-ref-filename="243InC">InC</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingValueEj" title='llvm::PHINode::getIncomingValue' data-ref="_ZNK4llvm7PHINode16getIncomingValueEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingValueEj">getIncomingValue</a>(<a class="local col1 ref" href="#241i" title='i' data-ref="241i" data-ref-filename="241i">i</a>)))</td></tr>
<tr><th id="1194">1194</th><td>        <a class="local col2 ref" href="#242InV" title='InV' data-ref="242InV" data-ref-filename="242InV">InV</a> = <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr7getCastEjPNS_8ConstantEPNS_4TypeEb" title='llvm::ConstantExpr::getCast' data-ref="_ZN4llvm12ConstantExpr7getCastEjPNS_8ConstantEPNS_4TypeEb" data-ref-filename="_ZN4llvm12ConstantExpr7getCastEjPNS_8ConstantEPNS_4TypeEb">getCast</a>(<a class="local col9 ref" href="#239CI" title='CI' data-ref="239CI" data-ref-filename="239CI">CI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CastInst9getOpcodeEv" title='llvm::CastInst::getOpcode' data-ref="_ZNK4llvm8CastInst9getOpcodeEv" data-ref-filename="_ZNK4llvm8CastInst9getOpcodeEv">getOpcode</a>(), <a class="local col3 ref" href="#243InC" title='InC' data-ref="243InC" data-ref-filename="243InC">InC</a>, <a class="local col0 ref" href="#240RetTy" title='RetTy' data-ref="240RetTy" data-ref-filename="240RetTy">RetTy</a>);</td></tr>
<tr><th id="1195">1195</th><td>      <b>else</b></td></tr>
<tr><th id="1196">1196</th><td>        <a class="local col2 ref" href="#242InV" title='InV' data-ref="242InV" data-ref-filename="242InV">InV</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateCastENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateCast' data-ref="_ZN4llvm13IRBuilderBase10CreateCastENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateCastENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateCast</a>(<a class="local col9 ref" href="#239CI" title='CI' data-ref="239CI" data-ref-filename="239CI">CI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CastInst9getOpcodeEv" title='llvm::CastInst::getOpcode' data-ref="_ZNK4llvm8CastInst9getOpcodeEv" data-ref-filename="_ZNK4llvm8CastInst9getOpcodeEv">getOpcode</a>(), <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingValueEj" title='llvm::PHINode::getIncomingValue' data-ref="_ZNK4llvm7PHINode16getIncomingValueEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingValueEj">getIncomingValue</a>(<a class="local col1 ref" href="#241i" title='i' data-ref="241i" data-ref-filename="241i">i</a>),</td></tr>
<tr><th id="1197">1197</th><td>                                 <a class="local col9 ref" href="#209I" title='I' data-ref="209I" data-ref-filename="209I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"phi.cast"</q>);</td></tr>
<tr><th id="1198">1198</th><td>      <a class="local col8 ref" href="#218NewPN" title='NewPN' data-ref="218NewPN" data-ref-filename="218NewPN">NewPN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col2 ref" href="#242InV" title='InV' data-ref="242InV" data-ref-filename="242InV">InV</a>, <a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingBlockEj" title='llvm::PHINode::getIncomingBlock' data-ref="_ZNK4llvm7PHINode16getIncomingBlockEj" data-ref-filename="_ZNK4llvm7PHINode16getIncomingBlockEj">getIncomingBlock</a>(<a class="local col1 ref" href="#241i" title='i' data-ref="241i" data-ref-filename="241i">i</a>));</td></tr>
<tr><th id="1199">1199</th><td>    }</td></tr>
<tr><th id="1200">1200</th><td>  }</td></tr>
<tr><th id="1201">1201</th><td></td></tr>
<tr><th id="1202">1202</th><td>  <b>for</b> (<a class="type" href="../../../include/llvm/IR/User.h.html#llvm::User" title='llvm::User' data-ref="llvm::User" data-ref-filename="llvm..User">User</a> *<dfn class="local col4 decl" id="244U" title='U' data-type='llvm::User *' data-ref="244U" data-ref-filename="244U">U</dfn> : <a class="ref fn" href="../../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm20make_early_inc_rangeEOT_" title='llvm::make_early_inc_range' data-ref="_ZN4llvm20make_early_inc_rangeEOT_" data-ref-filename="_ZN4llvm20make_early_inc_rangeEOT_">make_early_inc_range</a>(<a class="local col0 ref" href="#210PN" title='PN' data-ref="210PN" data-ref-filename="210PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value5usersEv" title='llvm::Value::users' data-ref="_ZN4llvm5Value5usersEv" data-ref-filename="_ZN4llvm5Value5usersEv">users</a>())) {</td></tr>
<tr><th id="1203">1203</th><td>    <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col5 decl" id="245User" title='User' data-type='llvm::Instruction *' data-ref="245User" data-ref-filename="245User">User</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>&gt;(<a class="local col4 ref" href="#244U" title='U' data-ref="244U" data-ref-filename="244U">U</a>);</td></tr>
<tr><th id="1204">1204</th><td>    <b>if</b> (<a class="local col5 ref" href="#245User" title='User' data-ref="245User" data-ref-filename="245User">User</a> == &amp;<a class="local col9 ref" href="#209I" title='I' data-ref="209I" data-ref-filename="209I">I</a>) <b>continue</b>;</td></tr>
<tr><th id="1205">1205</th><td>    <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'>*<a class="local col5 ref" href="#245User" title='User' data-ref="245User" data-ref-filename="245User">User</a></span>, <a class="local col8 ref" href="#218NewPN" title='NewPN' data-ref="218NewPN" data-ref-filename="218NewPN">NewPN</a>);</td></tr>
<tr><th id="1206">1206</th><td>    <a class="virtual member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" title='llvm::InstCombinerImpl::eraseInstFromFunction' data-ref="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE">eraseInstFromFunction</a>(<span class='refarg'>*<a class="local col5 ref" href="#245User" title='User' data-ref="245User" data-ref-filename="245User">User</a></span>);</td></tr>
<tr><th id="1207">1207</th><td>  }</td></tr>
<tr><th id="1208">1208</th><td>  <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'><a class="local col9 ref" href="#209I" title='I' data-ref="209I" data-ref-filename="209I">I</a></span>, <a class="local col8 ref" href="#218NewPN" title='NewPN' data-ref="218NewPN" data-ref-filename="218NewPN">NewPN</a>);</td></tr>
<tr><th id="1209">1209</th><td>}</td></tr>
<tr><th id="1210">1210</th><td></td></tr>
<tr><th id="1211">1211</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl24foldBinOpIntoSelectOrPhiERNS_14BinaryOperatorE" title='llvm::InstCombinerImpl::foldBinOpIntoSelectOrPhi' data-ref="_ZN4llvm16InstCombinerImpl24foldBinOpIntoSelectOrPhiERNS_14BinaryOperatorE" data-ref-filename="_ZN4llvm16InstCombinerImpl24foldBinOpIntoSelectOrPhiERNS_14BinaryOperatorE">foldBinOpIntoSelectOrPhi</dfn>(<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> &amp;<dfn class="local col6 decl" id="246I" title='I' data-type='llvm::BinaryOperator &amp;' data-ref="246I" data-ref-filename="246I">I</dfn>) {</td></tr>
<tr><th id="1212">1212</th><td>  <b>if</b> (!<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col6 ref" href="#246I" title='I' data-ref="246I" data-ref-filename="246I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>)))</td></tr>
<tr><th id="1213">1213</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1214">1214</th><td></td></tr>
<tr><th id="1215">1215</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col7 decl" id="247Sel" title='Sel' data-type='llvm::SelectInst *' data-ref="247Sel" data-ref-filename="247Sel"><a class="local col7 ref" href="#247Sel" title='Sel' data-ref="247Sel" data-ref-filename="247Sel">Sel</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::SelectInst" title='llvm::SelectInst' data-ref="llvm::SelectInst" data-ref-filename="llvm..SelectInst">SelectInst</a>&gt;(<a class="local col6 ref" href="#246I" title='I' data-ref="246I" data-ref-filename="246I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>))) {</td></tr>
<tr><th id="1216">1216</th><td>    <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col8 decl" id="248NewSel" title='NewSel' data-type='llvm::Instruction *' data-ref="248NewSel" data-ref-filename="248NewSel"><a class="local col8 ref" href="#248NewSel" title='NewSel' data-ref="248NewSel" data-ref-filename="248NewSel">NewSel</a></dfn> = <a class="member fn" href="#_ZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstE" title='llvm::InstCombinerImpl::FoldOpIntoSelect' data-ref="_ZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl16FoldOpIntoSelectERNS_11InstructionEPNS_10SelectInstE">FoldOpIntoSelect</a>(<span class='refarg'><a class="local col6 ref" href="#246I" title='I' data-ref="246I" data-ref-filename="246I">I</a></span>, <a class="local col7 ref" href="#247Sel" title='Sel' data-ref="247Sel" data-ref-filename="247Sel">Sel</a>))</td></tr>
<tr><th id="1217">1217</th><td>      <b>return</b> <a class="local col8 ref" href="#248NewSel" title='NewSel' data-ref="248NewSel" data-ref-filename="248NewSel">NewSel</a>;</td></tr>
<tr><th id="1218">1218</th><td>  } <b>else</b> <b>if</b> (<em>auto</em> *<dfn class="local col9 decl" id="249PN" title='PN' data-type='llvm::PHINode *' data-ref="249PN" data-ref-filename="249PN"><a class="local col9 ref" href="#249PN" title='PN' data-ref="249PN" data-ref-filename="249PN">PN</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a>&gt;(<a class="local col6 ref" href="#246I" title='I' data-ref="246I" data-ref-filename="246I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>))) {</td></tr>
<tr><th id="1219">1219</th><td>    <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col0 decl" id="250NewPhi" title='NewPhi' data-type='llvm::Instruction *' data-ref="250NewPhi" data-ref-filename="250NewPhi"><a class="local col0 ref" href="#250NewPhi" title='NewPhi' data-ref="250NewPhi" data-ref-filename="250NewPhi">NewPhi</a></dfn> = <a class="member fn" href="#_ZN4llvm16InstCombinerImpl13foldOpIntoPhiERNS_11InstructionEPNS_7PHINodeE" title='llvm::InstCombinerImpl::foldOpIntoPhi' data-ref="_ZN4llvm16InstCombinerImpl13foldOpIntoPhiERNS_11InstructionEPNS_7PHINodeE" data-ref-filename="_ZN4llvm16InstCombinerImpl13foldOpIntoPhiERNS_11InstructionEPNS_7PHINodeE">foldOpIntoPhi</a>(<span class='refarg'><a class="local col6 ref" href="#246I" title='I' data-ref="246I" data-ref-filename="246I">I</a></span>, <a class="local col9 ref" href="#249PN" title='PN' data-ref="249PN" data-ref-filename="249PN">PN</a>))</td></tr>
<tr><th id="1220">1220</th><td>      <b>return</b> <a class="local col0 ref" href="#250NewPhi" title='NewPhi' data-ref="250NewPhi" data-ref-filename="250NewPhi">NewPhi</a>;</td></tr>
<tr><th id="1221">1221</th><td>  }</td></tr>
<tr><th id="1222">1222</th><td>  <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1223">1223</th><td>}</td></tr>
<tr><th id="1224">1224</th><td></td></tr>
<tr><th id="1225">1225</th><td><i class="doc">/// Given a pointer type and a constant offset, determine whether or not there</i></td></tr>
<tr><th id="1226">1226</th><td><i class="doc">/// is a sequence of GEP indices into the pointed type that will land us at the</i></td></tr>
<tr><th id="1227">1227</th><td><i class="doc">/// specified offset. If so, fill them into NewIndices and return the resultant</i></td></tr>
<tr><th id="1228">1228</th><td><i class="doc">/// element type, otherwise return null.</i></td></tr>
<tr><th id="1229">1229</th><td><a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *</td></tr>
<tr><th id="1230">1230</th><td><a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl19FindElementAtOffsetEPNS_11PointerTypeElRNS_15SmallVectorImplIPNS_5ValueEEE" title='llvm::InstCombinerImpl::FindElementAtOffset' data-ref="_ZN4llvm16InstCombinerImpl19FindElementAtOffsetEPNS_11PointerTypeElRNS_15SmallVectorImplIPNS_5ValueEEE" data-ref-filename="_ZN4llvm16InstCombinerImpl19FindElementAtOffsetEPNS_11PointerTypeElRNS_15SmallVectorImplIPNS_5ValueEEE">FindElementAtOffset</dfn>(<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::PointerType" title='llvm::PointerType' data-ref="llvm::PointerType" data-ref-filename="llvm..PointerType">PointerType</a> *<dfn class="local col1 decl" id="251PtrTy" title='PtrTy' data-type='llvm::PointerType *' data-ref="251PtrTy" data-ref-filename="251PtrTy">PtrTy</dfn>, <a class="typedef" href="../../../../../include/bits/stdint-intn.h.html#int64_t" title='int64_t' data-type='__int64_t' data-ref="int64_t" data-ref-filename="int64_t">int64_t</a> <dfn class="local col2 decl" id="252Offset" title='Offset' data-type='int64_t' data-ref="252Offset" data-ref-filename="252Offset">Offset</dfn>,</td></tr>
<tr><th id="1231">1231</th><td>                                      <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVectorImpl" title='llvm::SmallVectorImpl' data-ref="llvm::SmallVectorImpl" data-ref-filename="llvm..SmallVectorImpl">SmallVectorImpl</a>&lt;<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *&gt; &amp;<dfn class="local col3 decl" id="253NewIndices" title='NewIndices' data-type='SmallVectorImpl&lt;llvm::Value *&gt; &amp;' data-ref="253NewIndices" data-ref-filename="253NewIndices">NewIndices</dfn>) {</td></tr>
<tr><th id="1232">1232</th><td>  <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col4 decl" id="254Ty" title='Ty' data-type='llvm::Type *' data-ref="254Ty" data-ref-filename="254Ty">Ty</dfn> = <a class="local col1 ref" href="#251PtrTy" title='PtrTy' data-ref="251PtrTy" data-ref-filename="251PtrTy">PtrTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm11PointerType14getElementTypeEv" title='llvm::PointerType::getElementType' data-ref="_ZNK4llvm11PointerType14getElementTypeEv" data-ref-filename="_ZNK4llvm11PointerType14getElementTypeEv">getElementType</a>();</td></tr>
<tr><th id="1233">1233</th><td>  <b>if</b> (!<a class="local col4 ref" href="#254Ty" title='Ty' data-ref="254Ty" data-ref-filename="254Ty">Ty</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE" title='llvm::Type::isSized' data-ref="_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE" data-ref-filename="_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE">isSized</a>())</td></tr>
<tr><th id="1234">1234</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1235">1235</th><td></td></tr>
<tr><th id="1236">1236</th><td>  <i>// Start with the index over the outer type.  Note that the type size</i></td></tr>
<tr><th id="1237">1237</th><td><i>  // might be zero (even if the offset isn't zero) if the indexed type</i></td></tr>
<tr><th id="1238">1238</th><td><i>  // is something like [0 x {int, int}]</i></td></tr>
<tr><th id="1239">1239</th><td>  <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col5 decl" id="255IndexTy" title='IndexTy' data-type='llvm::Type *' data-ref="255IndexTy" data-ref-filename="255IndexTy">IndexTy</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout12getIndexTypeEPNS_4TypeE" title='llvm::DataLayout::getIndexType' data-ref="_ZNK4llvm10DataLayout12getIndexTypeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout12getIndexTypeEPNS_4TypeE">getIndexType</a>(<a class="local col1 ref" href="#251PtrTy" title='PtrTy' data-ref="251PtrTy" data-ref-filename="251PtrTy">PtrTy</a>);</td></tr>
<tr><th id="1240">1240</th><td>  <a class="typedef" href="../../../../../include/bits/stdint-intn.h.html#int64_t" title='int64_t' data-type='__int64_t' data-ref="int64_t" data-ref-filename="int64_t">int64_t</a> <dfn class="local col6 decl" id="256FirstIdx" title='FirstIdx' data-type='int64_t' data-ref="256FirstIdx" data-ref-filename="256FirstIdx">FirstIdx</dfn> = <var>0</var>;</td></tr>
<tr><th id="1241">1241</th><td>  <b>if</b> (<a class="typedef" href="../../../../../include/bits/stdint-intn.h.html#int64_t" title='int64_t' data-type='__int64_t' data-ref="int64_t" data-ref-filename="int64_t">int64_t</a> <dfn class="local col7 decl" id="257TySize" title='TySize' data-type='int64_t' data-ref="257TySize" data-ref-filename="257TySize"><a class="local col7 ref" href="#257TySize" title='TySize' data-ref="257TySize" data-ref-filename="257TySize">TySize</a></dfn> = <a class="ref fn fake" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeAllocSize' data-ref="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE">getTypeAllocSize</a>(<a class="local col4 ref" href="#254Ty" title='Ty' data-ref="254Ty" data-ref-filename="254Ty">Ty</a>)) {</td></tr>
<tr><th id="1242">1242</th><td>    <a class="local col6 ref" href="#256FirstIdx" title='FirstIdx' data-ref="256FirstIdx" data-ref-filename="256FirstIdx">FirstIdx</a> = <a class="local col2 ref" href="#252Offset" title='Offset' data-ref="252Offset" data-ref-filename="252Offset">Offset</a>/<a class="local col7 ref" href="#257TySize" title='TySize' data-ref="257TySize" data-ref-filename="257TySize">TySize</a>;</td></tr>
<tr><th id="1243">1243</th><td>    <a class="local col2 ref" href="#252Offset" title='Offset' data-ref="252Offset" data-ref-filename="252Offset">Offset</a> -= <a class="local col6 ref" href="#256FirstIdx" title='FirstIdx' data-ref="256FirstIdx" data-ref-filename="256FirstIdx">FirstIdx</a>*<a class="local col7 ref" href="#257TySize" title='TySize' data-ref="257TySize" data-ref-filename="257TySize">TySize</a>;</td></tr>
<tr><th id="1244">1244</th><td></td></tr>
<tr><th id="1245">1245</th><td>    <i>// Handle hosts where % returns negative instead of values [0..TySize).</i></td></tr>
<tr><th id="1246">1246</th><td>    <b>if</b> (<a class="local col2 ref" href="#252Offset" title='Offset' data-ref="252Offset" data-ref-filename="252Offset">Offset</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="1247">1247</th><td>      --<a class="local col6 ref" href="#256FirstIdx" title='FirstIdx' data-ref="256FirstIdx" data-ref-filename="256FirstIdx">FirstIdx</a>;</td></tr>
<tr><th id="1248">1248</th><td>      <a class="local col2 ref" href="#252Offset" title='Offset' data-ref="252Offset" data-ref-filename="252Offset">Offset</a> += <a class="local col7 ref" href="#257TySize" title='TySize' data-ref="257TySize" data-ref-filename="257TySize">TySize</a>;</td></tr>
<tr><th id="1249">1249</th><td>      <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Offset &gt;= <var>0</var>);</td></tr>
<tr><th id="1250">1250</th><td>    }</td></tr>
<tr><th id="1251">1251</th><td>    <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>((uint64_t)Offset &lt; (uint64_t)TySize &amp;&amp; <q>"Out of range offset"</q>);</td></tr>
<tr><th id="1252">1252</th><td>  }</td></tr>
<tr><th id="1253">1253</th><td></td></tr>
<tr><th id="1254">1254</th><td>  <a class="local col3 ref" href="#253NewIndices" title='NewIndices' data-ref="253NewIndices" data-ref-filename="253NewIndices">NewIndices</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_4TypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_4TypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_4TypeEmb">get</a>(<a class="local col5 ref" href="#255IndexTy" title='IndexTy' data-ref="255IndexTy" data-ref-filename="255IndexTy">IndexTy</a>, <a class="local col6 ref" href="#256FirstIdx" title='FirstIdx' data-ref="256FirstIdx" data-ref-filename="256FirstIdx">FirstIdx</a>));</td></tr>
<tr><th id="1255">1255</th><td></td></tr>
<tr><th id="1256">1256</th><td>  <i>// Index into the types.  If we fail, set OrigBase to null.</i></td></tr>
<tr><th id="1257">1257</th><td>  <b>while</b> (<a class="local col2 ref" href="#252Offset" title='Offset' data-ref="252Offset" data-ref-filename="252Offset">Offset</a>) {</td></tr>
<tr><th id="1258">1258</th><td>    <i>// Indexing into tail padding between struct/array elements.</i></td></tr>
<tr><th id="1259">1259</th><td>    <b>if</b> (<a class="typedef" href="../../../../../include/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>(<a class="local col2 ref" href="#252Offset" title='Offset' data-ref="252Offset" data-ref-filename="252Offset">Offset</a> * <var>8</var>) &gt;= <a class="ref fn fake" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout17getTypeSizeInBitsEPNS_4TypeE" title='llvm::DataLayout::getTypeSizeInBits' data-ref="_ZNK4llvm10DataLayout17getTypeSizeInBitsEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout17getTypeSizeInBitsEPNS_4TypeE">getTypeSizeInBits</a>(<a class="local col4 ref" href="#254Ty" title='Ty' data-ref="254Ty" data-ref-filename="254Ty">Ty</a>))</td></tr>
<tr><th id="1260">1260</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1261">1261</th><td></td></tr>
<tr><th id="1262">1262</th><td>    <b>if</b> (<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::StructType" title='llvm::StructType' data-ref="llvm::StructType" data-ref-filename="llvm..StructType">StructType</a> *<dfn class="local col8 decl" id="258STy" title='STy' data-type='llvm::StructType *' data-ref="258STy" data-ref-filename="258STy"><a class="local col8 ref" href="#258STy" title='STy' data-ref="258STy" data-ref-filename="258STy">STy</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::StructType" title='llvm::StructType' data-ref="llvm::StructType" data-ref-filename="llvm..StructType">StructType</a>&gt;(<a class="local col4 ref" href="#254Ty" title='Ty' data-ref="254Ty" data-ref-filename="254Ty">Ty</a>)) {</td></tr>
<tr><th id="1263">1263</th><td>      <em>const</em> <a class="type" href="../../../include/llvm/IR/DataLayout.h.html#llvm::StructLayout" title='llvm::StructLayout' data-ref="llvm::StructLayout" data-ref-filename="llvm..StructLayout">StructLayout</a> *<dfn class="local col9 decl" id="259SL" title='SL' data-type='const llvm::StructLayout *' data-ref="259SL" data-ref-filename="259SL">SL</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout15getStructLayoutEPNS_10StructTypeE" title='llvm::DataLayout::getStructLayout' data-ref="_ZNK4llvm10DataLayout15getStructLayoutEPNS_10StructTypeE" data-ref-filename="_ZNK4llvm10DataLayout15getStructLayoutEPNS_10StructTypeE">getStructLayout</a>(<a class="local col8 ref" href="#258STy" title='STy' data-ref="258STy" data-ref-filename="258STy">STy</a>);</td></tr>
<tr><th id="1264">1264</th><td>      <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Offset &lt; (int64_t)SL-&gt;getSizeInBytes() &amp;&amp;</td></tr>
<tr><th id="1265">1265</th><td>             <q>"Offset must stay within the indexed type"</q>);</td></tr>
<tr><th id="1266">1266</th><td></td></tr>
<tr><th id="1267">1267</th><td>      <em>unsigned</em> <dfn class="local col0 decl" id="260Elt" title='Elt' data-type='unsigned int' data-ref="260Elt" data-ref-filename="260Elt">Elt</dfn> = <a class="local col9 ref" href="#259SL" title='SL' data-ref="259SL" data-ref-filename="259SL">SL</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm12StructLayout26getElementContainingOffsetEm" title='llvm::StructLayout::getElementContainingOffset' data-ref="_ZNK4llvm12StructLayout26getElementContainingOffsetEm" data-ref-filename="_ZNK4llvm12StructLayout26getElementContainingOffsetEm">getElementContainingOffset</a>(<a class="local col2 ref" href="#252Offset" title='Offset' data-ref="252Offset" data-ref-filename="252Offset">Offset</a>);</td></tr>
<tr><th id="1268">1268</th><td>      <a class="local col3 ref" href="#253NewIndices" title='NewIndices' data-ref="253NewIndices" data-ref-filename="253NewIndices">NewIndices</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb">get</a>(<a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZN4llvm4Type10getInt32TyERNS_11LLVMContextE" title='llvm::Type::getInt32Ty' data-ref="_ZN4llvm4Type10getInt32TyERNS_11LLVMContextE" data-ref-filename="_ZN4llvm4Type10getInt32TyERNS_11LLVMContextE">getInt32Ty</a>(<span class='refarg'><a class="local col4 ref" href="#254Ty" title='Ty' data-ref="254Ty" data-ref-filename="254Ty">Ty</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type10getContextEv" title='llvm::Type::getContext' data-ref="_ZNK4llvm4Type10getContextEv" data-ref-filename="_ZNK4llvm4Type10getContextEv">getContext</a>()</span>),</td></tr>
<tr><th id="1269">1269</th><td>                                            <a class="local col0 ref" href="#260Elt" title='Elt' data-ref="260Elt" data-ref-filename="260Elt">Elt</a>));</td></tr>
<tr><th id="1270">1270</th><td></td></tr>
<tr><th id="1271">1271</th><td>      <a class="local col2 ref" href="#252Offset" title='Offset' data-ref="252Offset" data-ref-filename="252Offset">Offset</a> -= <a class="local col9 ref" href="#259SL" title='SL' data-ref="259SL" data-ref-filename="259SL">SL</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm12StructLayout16getElementOffsetEj" title='llvm::StructLayout::getElementOffset' data-ref="_ZNK4llvm12StructLayout16getElementOffsetEj" data-ref-filename="_ZNK4llvm12StructLayout16getElementOffsetEj">getElementOffset</a>(<a class="local col0 ref" href="#260Elt" title='Elt' data-ref="260Elt" data-ref-filename="260Elt">Elt</a>);</td></tr>
<tr><th id="1272">1272</th><td>      <a class="local col4 ref" href="#254Ty" title='Ty' data-ref="254Ty" data-ref-filename="254Ty">Ty</a> = <a class="local col8 ref" href="#258STy" title='STy' data-ref="258STy" data-ref-filename="258STy">STy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm10StructType14getElementTypeEj" title='llvm::StructType::getElementType' data-ref="_ZNK4llvm10StructType14getElementTypeEj" data-ref-filename="_ZNK4llvm10StructType14getElementTypeEj">getElementType</a>(<a class="local col0 ref" href="#260Elt" title='Elt' data-ref="260Elt" data-ref-filename="260Elt">Elt</a>);</td></tr>
<tr><th id="1273">1273</th><td>    } <b>else</b> <b>if</b> (<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ArrayType" title='llvm::ArrayType' data-ref="llvm::ArrayType" data-ref-filename="llvm..ArrayType">ArrayType</a> *<dfn class="local col1 decl" id="261AT" title='AT' data-type='llvm::ArrayType *' data-ref="261AT" data-ref-filename="261AT"><a class="local col1 ref" href="#261AT" title='AT' data-ref="261AT" data-ref-filename="261AT">AT</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ArrayType" title='llvm::ArrayType' data-ref="llvm::ArrayType" data-ref-filename="llvm..ArrayType">ArrayType</a>&gt;(<a class="local col4 ref" href="#254Ty" title='Ty' data-ref="254Ty" data-ref-filename="254Ty">Ty</a>)) {</td></tr>
<tr><th id="1274">1274</th><td>      <a class="typedef" href="../../../../../include/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col2 decl" id="262EltSize" title='EltSize' data-type='uint64_t' data-ref="262EltSize" data-ref-filename="262EltSize">EltSize</dfn> = <a class="ref fn fake" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeAllocSize' data-ref="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE">getTypeAllocSize</a>(<a class="local col1 ref" href="#261AT" title='AT' data-ref="261AT" data-ref-filename="261AT">AT</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm9ArrayType14getElementTypeEv" title='llvm::ArrayType::getElementType' data-ref="_ZNK4llvm9ArrayType14getElementTypeEv" data-ref-filename="_ZNK4llvm9ArrayType14getElementTypeEv">getElementType</a>());</td></tr>
<tr><th id="1275">1275</th><td>      <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(EltSize &amp;&amp; <q>"Cannot index into a zero-sized array"</q>);</td></tr>
<tr><th id="1276">1276</th><td>      <a class="local col3 ref" href="#253NewIndices" title='NewIndices' data-ref="253NewIndices" data-ref-filename="253NewIndices">NewIndices</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_4TypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_4TypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_4TypeEmb">get</a>(<a class="local col5 ref" href="#255IndexTy" title='IndexTy' data-ref="255IndexTy" data-ref-filename="255IndexTy">IndexTy</a>,<a class="local col2 ref" href="#252Offset" title='Offset' data-ref="252Offset" data-ref-filename="252Offset">Offset</a>/<a class="local col2 ref" href="#262EltSize" title='EltSize' data-ref="262EltSize" data-ref-filename="262EltSize">EltSize</a>));</td></tr>
<tr><th id="1277">1277</th><td>      <a class="local col2 ref" href="#252Offset" title='Offset' data-ref="252Offset" data-ref-filename="252Offset">Offset</a> %= <a class="local col2 ref" href="#262EltSize" title='EltSize' data-ref="262EltSize" data-ref-filename="262EltSize">EltSize</a>;</td></tr>
<tr><th id="1278">1278</th><td>      <a class="local col4 ref" href="#254Ty" title='Ty' data-ref="254Ty" data-ref-filename="254Ty">Ty</a> = <a class="local col1 ref" href="#261AT" title='AT' data-ref="261AT" data-ref-filename="261AT">AT</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm9ArrayType14getElementTypeEv" title='llvm::ArrayType::getElementType' data-ref="_ZNK4llvm9ArrayType14getElementTypeEv" data-ref-filename="_ZNK4llvm9ArrayType14getElementTypeEv">getElementType</a>();</td></tr>
<tr><th id="1279">1279</th><td>    } <b>else</b> {</td></tr>
<tr><th id="1280">1280</th><td>      <i>// Otherwise, we can't index into the middle of this atomic type, bail.</i></td></tr>
<tr><th id="1281">1281</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1282">1282</th><td>    }</td></tr>
<tr><th id="1283">1283</th><td>  }</td></tr>
<tr><th id="1284">1284</th><td></td></tr>
<tr><th id="1285">1285</th><td>  <b>return</b> <a class="local col4 ref" href="#254Ty" title='Ty' data-ref="254Ty" data-ref-filename="254Ty">Ty</a>;</td></tr>
<tr><th id="1286">1286</th><td>}</td></tr>
<tr><th id="1287">1287</th><td></td></tr>
<tr><th id="1288">1288</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL15shouldMergeGEPsRN4llvm11GEPOperatorES1_" title='shouldMergeGEPs' data-type='bool shouldMergeGEPs(llvm::GEPOperator &amp; GEP, llvm::GEPOperator &amp; Src)' data-ref="_ZL15shouldMergeGEPsRN4llvm11GEPOperatorES1_" data-ref-filename="_ZL15shouldMergeGEPsRN4llvm11GEPOperatorES1_">shouldMergeGEPs</dfn>(<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::GEPOperator" title='llvm::GEPOperator' data-ref="llvm::GEPOperator" data-ref-filename="llvm..GEPOperator">GEPOperator</a> &amp;<dfn class="local col3 decl" id="263GEP" title='GEP' data-type='llvm::GEPOperator &amp;' data-ref="263GEP" data-ref-filename="263GEP">GEP</dfn>, <a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::GEPOperator" title='llvm::GEPOperator' data-ref="llvm::GEPOperator" data-ref-filename="llvm..GEPOperator">GEPOperator</a> &amp;<dfn class="local col4 decl" id="264Src" title='Src' data-type='llvm::GEPOperator &amp;' data-ref="264Src" data-ref-filename="264Src">Src</dfn>) {</td></tr>
<tr><th id="1289">1289</th><td>  <i>// If this GEP has only 0 indices, it is the same pointer as</i></td></tr>
<tr><th id="1290">1290</th><td><i>  // Src. If Src is not a trivial GEP too, don't combine</i></td></tr>
<tr><th id="1291">1291</th><td><i>  // the indices.</i></td></tr>
<tr><th id="1292">1292</th><td>  <b>if</b> (<a class="local col3 ref" href="#263GEP" title='GEP' data-ref="263GEP" data-ref-filename="263GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm11GEPOperator17hasAllZeroIndicesEv" title='llvm::GEPOperator::hasAllZeroIndices' data-ref="_ZNK4llvm11GEPOperator17hasAllZeroIndicesEv" data-ref-filename="_ZNK4llvm11GEPOperator17hasAllZeroIndicesEv">hasAllZeroIndices</a>() &amp;&amp; !<a class="local col4 ref" href="#264Src" title='Src' data-ref="264Src" data-ref-filename="264Src">Src</a>.<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm11GEPOperator17hasAllZeroIndicesEv" title='llvm::GEPOperator::hasAllZeroIndices' data-ref="_ZNK4llvm11GEPOperator17hasAllZeroIndicesEv" data-ref-filename="_ZNK4llvm11GEPOperator17hasAllZeroIndicesEv">hasAllZeroIndices</a>() &amp;&amp;</td></tr>
<tr><th id="1293">1293</th><td>      !<a class="local col4 ref" href="#264Src" title='Src' data-ref="264Src" data-ref-filename="264Src">Src</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>())</td></tr>
<tr><th id="1294">1294</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1295">1295</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1296">1296</th><td>}</td></tr>
<tr><th id="1297">1297</th><td></td></tr>
<tr><th id="1298">1298</th><td><i class="doc">/// Return a value X such that Val = X * Scale, or null if none.</i></td></tr>
<tr><th id="1299">1299</th><td><i class="doc">/// If the multiplication is known not to overflow, then NoSignedWrap is set.</i></td></tr>
<tr><th id="1300">1300</th><td><a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl7DescaleEPNS_5ValueENS_5APIntERb" title='llvm::InstCombinerImpl::Descale' data-ref="_ZN4llvm16InstCombinerImpl7DescaleEPNS_5ValueENS_5APIntERb" data-ref-filename="_ZN4llvm16InstCombinerImpl7DescaleEPNS_5ValueENS_5APIntERb">Descale</dfn>(<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="265Val" title='Val' data-type='llvm::Value *' data-ref="265Val" data-ref-filename="265Val">Val</dfn>, <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> <dfn class="local col6 decl" id="266Scale" title='Scale' data-type='llvm::APInt' data-ref="266Scale" data-ref-filename="266Scale">Scale</dfn>, <em>bool</em> &amp;<dfn class="local col7 decl" id="267NoSignedWrap" title='NoSignedWrap' data-type='bool &amp;' data-ref="267NoSignedWrap" data-ref-filename="267NoSignedWrap">NoSignedWrap</dfn>) {</td></tr>
<tr><th id="1301">1301</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(isa&lt;IntegerType&gt;(Val-&gt;getType()) &amp;&amp; <q>"Can only descale integers!"</q>);</td></tr>
<tr><th id="1302">1302</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(cast&lt;IntegerType&gt;(Val-&gt;getType())-&gt;getBitWidth() ==</td></tr>
<tr><th id="1303">1303</th><td>         Scale.getBitWidth() &amp;&amp; <q>"Scale not compatible with value!"</q>);</td></tr>
<tr><th id="1304">1304</th><td></td></tr>
<tr><th id="1305">1305</th><td>  <i>// If Val is zero or Scale is one then Val = Val * Scale.</i></td></tr>
<tr><th id="1306">1306</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col5 ref" href="#265Val" title='Val' data-ref="265Val" data-ref-filename="265Val">Val</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_ZeroEv" title='llvm::PatternMatch::m_Zero' data-ref="_ZN4llvm12PatternMatch6m_ZeroEv" data-ref-filename="_ZN4llvm12PatternMatch6m_ZeroEv">m_Zero</a>()) || <a class="local col6 ref" href="#266Scale" title='Scale' data-ref="266Scale" data-ref-filename="266Scale">Scale</a> <a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInteqEm" title='llvm::APInt::operator==' data-ref="_ZNK4llvm5APInteqEm" data-ref-filename="_ZNK4llvm5APInteqEm">==</a> <var>1</var>) {</td></tr>
<tr><th id="1307">1307</th><td>    <a class="local col7 ref" href="#267NoSignedWrap" title='NoSignedWrap' data-ref="267NoSignedWrap" data-ref-filename="267NoSignedWrap">NoSignedWrap</a> = <b>true</b>;</td></tr>
<tr><th id="1308">1308</th><td>    <b>return</b> <a class="local col5 ref" href="#265Val" title='Val' data-ref="265Val" data-ref-filename="265Val">Val</a>;</td></tr>
<tr><th id="1309">1309</th><td>  }</td></tr>
<tr><th id="1310">1310</th><td></td></tr>
<tr><th id="1311">1311</th><td>  <i>// If Scale is zero then it does not divide Val.</i></td></tr>
<tr><th id="1312">1312</th><td>  <b>if</b> (<a class="local col6 ref" href="#266Scale" title='Scale' data-ref="266Scale" data-ref-filename="266Scale">Scale</a>.<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt10isMinValueEv" title='llvm::APInt::isMinValue' data-ref="_ZNK4llvm5APInt10isMinValueEv" data-ref-filename="_ZNK4llvm5APInt10isMinValueEv">isMinValue</a>())</td></tr>
<tr><th id="1313">1313</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1314">1314</th><td></td></tr>
<tr><th id="1315">1315</th><td>  <i>// Look through chains of multiplications, searching for a constant that is</i></td></tr>
<tr><th id="1316">1316</th><td><i>  // divisible by Scale.  For example, descaling X*(Y*(Z*4)) by a factor of 4</i></td></tr>
<tr><th id="1317">1317</th><td><i>  // will find the constant factor 4 and produce X*(Y*Z).  Descaling X*(Y*8) by</i></td></tr>
<tr><th id="1318">1318</th><td><i>  // a factor of 4 will produce X*(Y*2).  The principle of operation is to bore</i></td></tr>
<tr><th id="1319">1319</th><td><i>  // down from Val:</i></td></tr>
<tr><th id="1320">1320</th><td><i>  //</i></td></tr>
<tr><th id="1321">1321</th><td><i>  //     Val = M1 * X          ||   Analysis starts here and works down</i></td></tr>
<tr><th id="1322">1322</th><td><i>  //      M1 = M2 * Y          ||   Doesn't descend into terms with more</i></td></tr>
<tr><th id="1323">1323</th><td><i>  //      M2 =  Z * 4          \/   than one use</i></td></tr>
<tr><th id="1324">1324</th><td><i>  //</i></td></tr>
<tr><th id="1325">1325</th><td><i>  // Then to modify a term at the bottom:</i></td></tr>
<tr><th id="1326">1326</th><td><i>  //</i></td></tr>
<tr><th id="1327">1327</th><td><i>  //     Val = M1 * X</i></td></tr>
<tr><th id="1328">1328</th><td><i>  //      M1 =  Z * Y          ||   Replaced M2 with Z</i></td></tr>
<tr><th id="1329">1329</th><td><i>  //</i></td></tr>
<tr><th id="1330">1330</th><td><i>  // Then to work back up correcting nsw flags.</i></td></tr>
<tr><th id="1331">1331</th><td><i></i></td></tr>
<tr><th id="1332">1332</th><td><i>  // Op - the term we are currently analyzing.  Starts at Val then drills down.</i></td></tr>
<tr><th id="1333">1333</th><td><i>  // Replaced with its descaled value before exiting from the drill down loop.</i></td></tr>
<tr><th id="1334">1334</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="268Op" title='Op' data-type='llvm::Value *' data-ref="268Op" data-ref-filename="268Op">Op</dfn> = <a class="local col5 ref" href="#265Val" title='Val' data-ref="265Val" data-ref-filename="265Val">Val</a>;</td></tr>
<tr><th id="1335">1335</th><td></td></tr>
<tr><th id="1336">1336</th><td>  <i>// Parent - initially null, but after drilling down notes where Op came from.</i></td></tr>
<tr><th id="1337">1337</th><td><i>  // In the example above, Parent is (Val, 0) when Op is M1, because M1 is the</i></td></tr>
<tr><th id="1338">1338</th><td><i>  // 0'th operand of Val.</i></td></tr>
<tr><th id="1339">1339</th><td>  <span class="namespace">std::</span><span class='type' title='std::pair' data-ref="std::pair" data-ref-filename="std..pair">pair</span>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *, <em>unsigned</em>&gt; <span class='ref fn fake' title='std::pair::pair&lt;_T1, _T2&gt;' data-ref="_ZNSt4pairC1Ev" data-ref-filename="_ZNSt4pairC1Ev"></span><dfn class="local col9 decl" id="269Parent" title='Parent' data-type='std::pair&lt;Instruction *, unsigned int&gt;' data-ref="269Parent" data-ref-filename="269Parent">Parent</dfn>;</td></tr>
<tr><th id="1340">1340</th><td></td></tr>
<tr><th id="1341">1341</th><td>  <i>// Set if the transform requires a descaling at deeper levels that doesn't</i></td></tr>
<tr><th id="1342">1342</th><td><i>  // overflow.</i></td></tr>
<tr><th id="1343">1343</th><td>  <em>bool</em> <dfn class="local col0 decl" id="270RequireNoSignedWrap" title='RequireNoSignedWrap' data-type='bool' data-ref="270RequireNoSignedWrap" data-ref-filename="270RequireNoSignedWrap">RequireNoSignedWrap</dfn> = <b>false</b>;</td></tr>
<tr><th id="1344">1344</th><td></td></tr>
<tr><th id="1345">1345</th><td>  <i>// Log base 2 of the scale. Negative if not a power of 2.</i></td></tr>
<tr><th id="1346">1346</th><td>  <a class="typedef" href="../../../../../include/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a> <dfn class="local col1 decl" id="271logScale" title='logScale' data-type='int32_t' data-ref="271logScale" data-ref-filename="271logScale">logScale</dfn> = <a class="local col6 ref" href="#266Scale" title='Scale' data-ref="266Scale" data-ref-filename="266Scale">Scale</a>.<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt13exactLogBase2Ev" title='llvm::APInt::exactLogBase2' data-ref="_ZNK4llvm5APInt13exactLogBase2Ev" data-ref-filename="_ZNK4llvm5APInt13exactLogBase2Ev">exactLogBase2</a>();</td></tr>
<tr><th id="1347">1347</th><td></td></tr>
<tr><th id="1348">1348</th><td>  <b>for</b> (;; <a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a> = <a class="local col9 ref" href="#269Parent" title='Parent' data-ref="269Parent" data-ref-filename="269Parent">Parent</a>.<span class='ref field' title='std::pair&lt;llvm::Instruction *, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<a class="local col9 ref" href="#269Parent" title='Parent' data-ref="269Parent" data-ref-filename="269Parent">Parent</a>.<span class='ref field' title='std::pair&lt;llvm::Instruction *, unsigned int&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>)) { <i>// Drill down</i></td></tr>
<tr><th id="1349">1349</th><td>    <b>if</b> (<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a> *<dfn class="local col2 decl" id="272CI" title='CI' data-type='llvm::ConstantInt *' data-ref="272CI" data-ref-filename="272CI"><a class="local col2 ref" href="#272CI" title='CI' data-ref="272CI" data-ref-filename="272CI">CI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a>)) {</td></tr>
<tr><th id="1350">1350</th><td>      <i>// If Op is a constant divisible by Scale then descale to the quotient.</i></td></tr>
<tr><th id="1351">1351</th><td>      <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> <dfn class="local col3 decl" id="273Quotient" title='Quotient' data-type='llvm::APInt' data-ref="273Quotient" data-ref-filename="273Quotient">Quotient</dfn><a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntC1ERKS0_" title='llvm::APInt::APInt' data-ref="_ZN4llvm5APIntC1ERKS0_" data-ref-filename="_ZN4llvm5APIntC1ERKS0_">(</a><a class="local col6 ref" href="#266Scale" title='Scale' data-ref="266Scale" data-ref-filename="266Scale">Scale</a>), <dfn class="local col4 decl" id="274Remainder" title='Remainder' data-type='llvm::APInt' data-ref="274Remainder" data-ref-filename="274Remainder">Remainder</dfn><a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntC1ERKS0_" title='llvm::APInt::APInt' data-ref="_ZN4llvm5APIntC1ERKS0_" data-ref-filename="_ZN4llvm5APIntC1ERKS0_">(</a><a class="local col6 ref" href="#266Scale" title='Scale' data-ref="266Scale" data-ref-filename="266Scale">Scale</a>); <i>// Init ensures right bitwidth.</i></td></tr>
<tr><th id="1352">1352</th><td>      <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a>::<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APInt7sdivremERKS0_S2_RS0_S3_" title='llvm::APInt::sdivrem' data-ref="_ZN4llvm5APInt7sdivremERKS0_S2_RS0_S3_" data-ref-filename="_ZN4llvm5APInt7sdivremERKS0_S2_RS0_S3_">sdivrem</a>(<a class="local col2 ref" href="#272CI" title='CI' data-ref="272CI" data-ref-filename="272CI">CI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZNK4llvm11ConstantInt8getValueEv" title='llvm::ConstantInt::getValue' data-ref="_ZNK4llvm11ConstantInt8getValueEv" data-ref-filename="_ZNK4llvm11ConstantInt8getValueEv">getValue</a>(), <a class="local col6 ref" href="#266Scale" title='Scale' data-ref="266Scale" data-ref-filename="266Scale">Scale</a>, <span class='refarg'><a class="local col3 ref" href="#273Quotient" title='Quotient' data-ref="273Quotient" data-ref-filename="273Quotient">Quotient</a></span>, <span class='refarg'><a class="local col4 ref" href="#274Remainder" title='Remainder' data-ref="274Remainder" data-ref-filename="274Remainder">Remainder</a></span>);</td></tr>
<tr><th id="1353">1353</th><td>      <b>if</b> (!<a class="local col4 ref" href="#274Remainder" title='Remainder' data-ref="274Remainder" data-ref-filename="274Remainder">Remainder</a>.<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt10isMinValueEv" title='llvm::APInt::isMinValue' data-ref="_ZNK4llvm5APInt10isMinValueEv" data-ref-filename="_ZNK4llvm5APInt10isMinValueEv">isMinValue</a>())</td></tr>
<tr><th id="1354">1354</th><td>        <i>// Not divisible by Scale.</i></td></tr>
<tr><th id="1355">1355</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1356">1356</th><td>      <i>// Replace with the quotient in the parent.</i></td></tr>
<tr><th id="1357">1357</th><td>      <a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a> = <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_4TypeERKNS_5APIntE" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_4TypeERKNS_5APIntE" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_4TypeERKNS_5APIntE">get</a>(<a class="local col2 ref" href="#272CI" title='CI' data-ref="272CI" data-ref-filename="272CI">CI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZNK4llvm11ConstantInt7getTypeEv" title='llvm::ConstantInt::getType' data-ref="_ZNK4llvm11ConstantInt7getTypeEv" data-ref-filename="_ZNK4llvm11ConstantInt7getTypeEv">getType</a>(), <a class="local col3 ref" href="#273Quotient" title='Quotient' data-ref="273Quotient" data-ref-filename="273Quotient">Quotient</a>);</td></tr>
<tr><th id="1358">1358</th><td>      <a class="local col7 ref" href="#267NoSignedWrap" title='NoSignedWrap' data-ref="267NoSignedWrap" data-ref-filename="267NoSignedWrap">NoSignedWrap</a> = <b>true</b>;</td></tr>
<tr><th id="1359">1359</th><td>      <b>break</b>;</td></tr>
<tr><th id="1360">1360</th><td>    }</td></tr>
<tr><th id="1361">1361</th><td></td></tr>
<tr><th id="1362">1362</th><td>    <b>if</b> (<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> *<dfn class="local col5 decl" id="275BO" title='BO' data-type='llvm::BinaryOperator *' data-ref="275BO" data-ref-filename="275BO"><a class="local col5 ref" href="#275BO" title='BO' data-ref="275BO" data-ref-filename="275BO">BO</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(<a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a>)) {</td></tr>
<tr><th id="1363">1363</th><td>      <b>if</b> (<a class="local col5 ref" href="#275BO" title='BO' data-ref="275BO" data-ref-filename="275BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>() == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#151" title='llvm::Instruction::Mul' data-ref="llvm::Instruction::Mul" data-ref-filename="llvm..Instruction..Mul">Mul</a>) {</td></tr>
<tr><th id="1364">1364</th><td>        <i>// Multiplication.</i></td></tr>
<tr><th id="1365">1365</th><td>        <a class="local col7 ref" href="#267NoSignedWrap" title='NoSignedWrap' data-ref="267NoSignedWrap" data-ref-filename="267NoSignedWrap">NoSignedWrap</a> = <a class="local col5 ref" href="#275BO" title='BO' data-ref="275BO" data-ref-filename="275BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction15hasNoSignedWrapEv" title='llvm::Instruction::hasNoSignedWrap' data-ref="_ZNK4llvm11Instruction15hasNoSignedWrapEv" data-ref-filename="_ZNK4llvm11Instruction15hasNoSignedWrapEv">hasNoSignedWrap</a>();</td></tr>
<tr><th id="1366">1366</th><td>        <b>if</b> (<a class="local col0 ref" href="#270RequireNoSignedWrap" title='RequireNoSignedWrap' data-ref="270RequireNoSignedWrap" data-ref-filename="270RequireNoSignedWrap">RequireNoSignedWrap</a> &amp;&amp; !<a class="local col7 ref" href="#267NoSignedWrap" title='NoSignedWrap' data-ref="267NoSignedWrap" data-ref-filename="267NoSignedWrap">NoSignedWrap</a>)</td></tr>
<tr><th id="1367">1367</th><td>          <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1368">1368</th><td></td></tr>
<tr><th id="1369">1369</th><td>        <i>// There are three cases for multiplication: multiplication by exactly</i></td></tr>
<tr><th id="1370">1370</th><td><i>        // the scale, multiplication by a constant different to the scale, and</i></td></tr>
<tr><th id="1371">1371</th><td><i>        // multiplication by something else.</i></td></tr>
<tr><th id="1372">1372</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="276LHS" title='LHS' data-type='llvm::Value *' data-ref="276LHS" data-ref-filename="276LHS">LHS</dfn> = <a class="local col5 ref" href="#275BO" title='BO' data-ref="275BO" data-ref-filename="275BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="1373">1373</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="277RHS" title='RHS' data-type='llvm::Value *' data-ref="277RHS" data-ref-filename="277RHS">RHS</dfn> = <a class="local col5 ref" href="#275BO" title='BO' data-ref="275BO" data-ref-filename="275BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="1374">1374</th><td></td></tr>
<tr><th id="1375">1375</th><td>        <b>if</b> (<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a> *<dfn class="local col8 decl" id="278CI" title='CI' data-type='llvm::ConstantInt *' data-ref="278CI" data-ref-filename="278CI"><a class="local col8 ref" href="#278CI" title='CI' data-ref="278CI" data-ref-filename="278CI">CI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col7 ref" href="#277RHS" title='RHS' data-ref="277RHS" data-ref-filename="277RHS">RHS</a>)) {</td></tr>
<tr><th id="1376">1376</th><td>          <i>// Multiplication by a constant.</i></td></tr>
<tr><th id="1377">1377</th><td>          <b>if</b> (<a class="local col8 ref" href="#278CI" title='CI' data-ref="278CI" data-ref-filename="278CI">CI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZNK4llvm11ConstantInt8getValueEv" title='llvm::ConstantInt::getValue' data-ref="_ZNK4llvm11ConstantInt8getValueEv" data-ref-filename="_ZNK4llvm11ConstantInt8getValueEv">getValue</a>() <a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInteqERKS0_" title='llvm::APInt::operator==' data-ref="_ZNK4llvm5APInteqERKS0_" data-ref-filename="_ZNK4llvm5APInteqERKS0_">==</a> <a class="local col6 ref" href="#266Scale" title='Scale' data-ref="266Scale" data-ref-filename="266Scale">Scale</a>) {</td></tr>
<tr><th id="1378">1378</th><td>            <i>// Multiplication by exactly the scale, replace the multiplication</i></td></tr>
<tr><th id="1379">1379</th><td><i>            // by its left-hand side in the parent.</i></td></tr>
<tr><th id="1380">1380</th><td>            <a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a> = <a class="local col6 ref" href="#276LHS" title='LHS' data-ref="276LHS" data-ref-filename="276LHS">LHS</a>;</td></tr>
<tr><th id="1381">1381</th><td>            <b>break</b>;</td></tr>
<tr><th id="1382">1382</th><td>          }</td></tr>
<tr><th id="1383">1383</th><td></td></tr>
<tr><th id="1384">1384</th><td>          <i>// Otherwise drill down into the constant.</i></td></tr>
<tr><th id="1385">1385</th><td>          <b>if</b> (!<a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>())</td></tr>
<tr><th id="1386">1386</th><td>            <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1387">1387</th><td></td></tr>
<tr><th id="1388">1388</th><td>          <a class="local col9 ref" href="#269Parent" title='Parent' data-ref="269Parent" data-ref-filename="269Parent">Parent</a> <span class='ref fn' title='std::pair::operator=' data-ref="_ZNSt4pairaSEOSt4pairITL0__TL0_0_E" data-ref-filename="_ZNSt4pairaSEOSt4pairITL0__TL0_0_E">=</span> <span class="namespace">std::</span><span class='ref fn' title='std::make_pair' data-ref="_ZSt9make_pairOT_OT0_" data-ref-filename="_ZSt9make_pairOT_OT0_">make_pair</span>(<span class='refarg'><a class="local col5 ref" href="#275BO" title='BO' data-ref="275BO" data-ref-filename="275BO">BO</a></span>, <var>1</var>);</td></tr>
<tr><th id="1389">1389</th><td>          <b>continue</b>;</td></tr>
<tr><th id="1390">1390</th><td>        }</td></tr>
<tr><th id="1391">1391</th><td></td></tr>
<tr><th id="1392">1392</th><td>        <i>// Multiplication by something else. Drill down into the left-hand side</i></td></tr>
<tr><th id="1393">1393</th><td><i>        // since that's where the reassociate pass puts the good stuff.</i></td></tr>
<tr><th id="1394">1394</th><td>        <b>if</b> (!<a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>())</td></tr>
<tr><th id="1395">1395</th><td>          <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1396">1396</th><td></td></tr>
<tr><th id="1397">1397</th><td>        <a class="local col9 ref" href="#269Parent" title='Parent' data-ref="269Parent" data-ref-filename="269Parent">Parent</a> <span class='ref fn' title='std::pair::operator=' data-ref="_ZNSt4pairaSEOSt4pairITL0__TL0_0_E" data-ref-filename="_ZNSt4pairaSEOSt4pairITL0__TL0_0_E">=</span> <span class="namespace">std::</span><span class='ref fn' title='std::make_pair' data-ref="_ZSt9make_pairOT_OT0_" data-ref-filename="_ZSt9make_pairOT_OT0_">make_pair</span>(<span class='refarg'><a class="local col5 ref" href="#275BO" title='BO' data-ref="275BO" data-ref-filename="275BO">BO</a></span>, <var>0</var>);</td></tr>
<tr><th id="1398">1398</th><td>        <b>continue</b>;</td></tr>
<tr><th id="1399">1399</th><td>      }</td></tr>
<tr><th id="1400">1400</th><td></td></tr>
<tr><th id="1401">1401</th><td>      <b>if</b> (<a class="local col1 ref" href="#271logScale" title='logScale' data-ref="271logScale" data-ref-filename="271logScale">logScale</a> &gt; <var>0</var> &amp;&amp; <a class="local col5 ref" href="#275BO" title='BO' data-ref="275BO" data-ref-filename="275BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>() == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#161" title='llvm::Instruction::Shl' data-ref="llvm::Instruction::Shl" data-ref-filename="llvm..Instruction..Shl">Shl</a> &amp;&amp;</td></tr>
<tr><th id="1402">1402</th><td>          <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col5 ref" href="#275BO" title='BO' data-ref="275BO" data-ref-filename="275BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>))) {</td></tr>
<tr><th id="1403">1403</th><td>        <i>// Multiplication by a power of 2.</i></td></tr>
<tr><th id="1404">1404</th><td>        <a class="local col7 ref" href="#267NoSignedWrap" title='NoSignedWrap' data-ref="267NoSignedWrap" data-ref-filename="267NoSignedWrap">NoSignedWrap</a> = <a class="local col5 ref" href="#275BO" title='BO' data-ref="275BO" data-ref-filename="275BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction15hasNoSignedWrapEv" title='llvm::Instruction::hasNoSignedWrap' data-ref="_ZNK4llvm11Instruction15hasNoSignedWrapEv" data-ref-filename="_ZNK4llvm11Instruction15hasNoSignedWrapEv">hasNoSignedWrap</a>();</td></tr>
<tr><th id="1405">1405</th><td>        <b>if</b> (<a class="local col0 ref" href="#270RequireNoSignedWrap" title='RequireNoSignedWrap' data-ref="270RequireNoSignedWrap" data-ref-filename="270RequireNoSignedWrap">RequireNoSignedWrap</a> &amp;&amp; !<a class="local col7 ref" href="#267NoSignedWrap" title='NoSignedWrap' data-ref="267NoSignedWrap" data-ref-filename="267NoSignedWrap">NoSignedWrap</a>)</td></tr>
<tr><th id="1406">1406</th><td>          <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1407">1407</th><td></td></tr>
<tr><th id="1408">1408</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="279LHS" title='LHS' data-type='llvm::Value *' data-ref="279LHS" data-ref-filename="279LHS">LHS</dfn> = <a class="local col5 ref" href="#275BO" title='BO' data-ref="275BO" data-ref-filename="275BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="1409">1409</th><td>        <a class="typedef" href="../../../../../include/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a> <dfn class="local col0 decl" id="280Amt" title='Amt' data-type='int32_t' data-ref="280Amt" data-ref-filename="280Amt">Amt</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col5 ref" href="#275BO" title='BO' data-ref="275BO" data-ref-filename="275BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>))-&gt;</td></tr>
<tr><th id="1410">1410</th><td>          <a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZNK4llvm11ConstantInt15getLimitedValueEm" title='llvm::ConstantInt::getLimitedValue' data-ref="_ZNK4llvm11ConstantInt15getLimitedValueEm" data-ref-filename="_ZNK4llvm11ConstantInt15getLimitedValueEm">getLimitedValue</a>(<a class="local col6 ref" href="#266Scale" title='Scale' data-ref="266Scale" data-ref-filename="266Scale">Scale</a>.<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt11getBitWidthEv" title='llvm::APInt::getBitWidth' data-ref="_ZNK4llvm5APInt11getBitWidthEv" data-ref-filename="_ZNK4llvm5APInt11getBitWidthEv">getBitWidth</a>());</td></tr>
<tr><th id="1411">1411</th><td>        <i>// Op = LHS &lt;&lt; Amt.</i></td></tr>
<tr><th id="1412">1412</th><td></td></tr>
<tr><th id="1413">1413</th><td>        <b>if</b> (<a class="local col0 ref" href="#280Amt" title='Amt' data-ref="280Amt" data-ref-filename="280Amt">Amt</a> == <a class="local col1 ref" href="#271logScale" title='logScale' data-ref="271logScale" data-ref-filename="271logScale">logScale</a>) {</td></tr>
<tr><th id="1414">1414</th><td>          <i>// Multiplication by exactly the scale, replace the multiplication</i></td></tr>
<tr><th id="1415">1415</th><td><i>          // by its left-hand side in the parent.</i></td></tr>
<tr><th id="1416">1416</th><td>          <a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a> = <a class="local col9 ref" href="#279LHS" title='LHS' data-ref="279LHS" data-ref-filename="279LHS">LHS</a>;</td></tr>
<tr><th id="1417">1417</th><td>          <b>break</b>;</td></tr>
<tr><th id="1418">1418</th><td>        }</td></tr>
<tr><th id="1419">1419</th><td>        <b>if</b> (<a class="local col0 ref" href="#280Amt" title='Amt' data-ref="280Amt" data-ref-filename="280Amt">Amt</a> &lt; <a class="local col1 ref" href="#271logScale" title='logScale' data-ref="271logScale" data-ref-filename="271logScale">logScale</a> || !<a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>())</td></tr>
<tr><th id="1420">1420</th><td>          <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1421">1421</th><td></td></tr>
<tr><th id="1422">1422</th><td>        <i>// Multiplication by more than the scale.  Reduce the multiplying amount</i></td></tr>
<tr><th id="1423">1423</th><td><i>        // by the scale in the parent.</i></td></tr>
<tr><th id="1424">1424</th><td>        <a class="local col9 ref" href="#269Parent" title='Parent' data-ref="269Parent" data-ref-filename="269Parent">Parent</a> <span class='ref fn' title='std::pair::operator=' data-ref="_ZNSt4pairaSEOSt4pairITL0__TL0_0_E" data-ref-filename="_ZNSt4pairaSEOSt4pairITL0__TL0_0_E">=</span> <span class="namespace">std::</span><span class='ref fn' title='std::make_pair' data-ref="_ZSt9make_pairOT_OT0_" data-ref-filename="_ZSt9make_pairOT_OT0_">make_pair</span>(<span class='refarg'><a class="local col5 ref" href="#275BO" title='BO' data-ref="275BO" data-ref-filename="275BO">BO</a></span>, <var>1</var>);</td></tr>
<tr><th id="1425">1425</th><td>        <a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a> = <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_4TypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_4TypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_4TypeEmb">get</a>(<a class="local col5 ref" href="#275BO" title='BO' data-ref="275BO" data-ref-filename="275BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col0 ref" href="#280Amt" title='Amt' data-ref="280Amt" data-ref-filename="280Amt">Amt</a> - <a class="local col1 ref" href="#271logScale" title='logScale' data-ref="271logScale" data-ref-filename="271logScale">logScale</a>);</td></tr>
<tr><th id="1426">1426</th><td>        <b>break</b>;</td></tr>
<tr><th id="1427">1427</th><td>      }</td></tr>
<tr><th id="1428">1428</th><td>    }</td></tr>
<tr><th id="1429">1429</th><td></td></tr>
<tr><th id="1430">1430</th><td>    <b>if</b> (!<a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>())</td></tr>
<tr><th id="1431">1431</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1432">1432</th><td></td></tr>
<tr><th id="1433">1433</th><td>    <b>if</b> (<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a> *<dfn class="local col1 decl" id="281Cast" title='Cast' data-type='llvm::CastInst *' data-ref="281Cast" data-ref-filename="281Cast"><a class="local col1 ref" href="#281Cast" title='Cast' data-ref="281Cast" data-ref-filename="281Cast">Cast</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a>&gt;(<a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a>)) {</td></tr>
<tr><th id="1434">1434</th><td>      <b>if</b> (<a class="local col1 ref" href="#281Cast" title='Cast' data-ref="281Cast" data-ref-filename="281Cast">Cast</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CastInst9getOpcodeEv" title='llvm::CastInst::getOpcode' data-ref="_ZNK4llvm8CastInst9getOpcodeEv" data-ref-filename="_ZNK4llvm8CastInst9getOpcodeEv">getOpcode</a>() == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#186" title='llvm::Instruction::SExt' data-ref="llvm::Instruction::SExt" data-ref-filename="llvm..Instruction..SExt">SExt</a>) {</td></tr>
<tr><th id="1435">1435</th><td>        <i>// Op is sign-extended from a smaller type, descale in the smaller type.</i></td></tr>
<tr><th id="1436">1436</th><td>        <em>unsigned</em> <dfn class="local col2 decl" id="282SmallSize" title='SmallSize' data-type='unsigned int' data-ref="282SmallSize" data-ref-filename="282SmallSize">SmallSize</dfn> = <a class="ref fn fake" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col1 ref" href="#281Cast" title='Cast' data-ref="281Cast" data-ref-filename="281Cast">Cast</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CastInst8getSrcTyEv" title='llvm::CastInst::getSrcTy' data-ref="_ZNK4llvm8CastInst8getSrcTyEv" data-ref-filename="_ZNK4llvm8CastInst8getSrcTyEv">getSrcTy</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" title='llvm::Type::getPrimitiveSizeInBits' data-ref="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" data-ref-filename="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv">getPrimitiveSizeInBits</a>();</td></tr>
<tr><th id="1437">1437</th><td>        <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> <dfn class="local col3 decl" id="283SmallScale" title='SmallScale' data-type='llvm::APInt' data-ref="283SmallScale" data-ref-filename="283SmallScale">SmallScale</dfn> = <a class="local col6 ref" href="#266Scale" title='Scale' data-ref="266Scale" data-ref-filename="266Scale">Scale</a>.<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt5truncEj" title='llvm::APInt::trunc' data-ref="_ZNK4llvm5APInt5truncEj" data-ref-filename="_ZNK4llvm5APInt5truncEj">trunc</a>(<a class="local col2 ref" href="#282SmallSize" title='SmallSize' data-ref="282SmallSize" data-ref-filename="282SmallSize">SmallSize</a>);</td></tr>
<tr><th id="1438">1438</th><td>        <i>// Suppose Op = sext X, and we descale X as Y * SmallScale.  We want to</i></td></tr>
<tr><th id="1439">1439</th><td><i>        // descale Op as (sext Y) * Scale.  In order to have</i></td></tr>
<tr><th id="1440">1440</th><td><i>        //   sext (Y * SmallScale) = (sext Y) * Scale</i></td></tr>
<tr><th id="1441">1441</th><td><i>        // some conditions need to hold however: SmallScale must sign-extend to</i></td></tr>
<tr><th id="1442">1442</th><td><i>        // Scale and the multiplication Y * SmallScale should not overflow.</i></td></tr>
<tr><th id="1443">1443</th><td>        <b>if</b> (<a class="local col3 ref" href="#283SmallScale" title='SmallScale' data-ref="283SmallScale" data-ref-filename="283SmallScale">SmallScale</a>.<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt4sextEj" title='llvm::APInt::sext' data-ref="_ZNK4llvm5APInt4sextEj" data-ref-filename="_ZNK4llvm5APInt4sextEj">sext</a>(<a class="local col6 ref" href="#266Scale" title='Scale' data-ref="266Scale" data-ref-filename="266Scale">Scale</a>.<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt11getBitWidthEv" title='llvm::APInt::getBitWidth' data-ref="_ZNK4llvm5APInt11getBitWidthEv" data-ref-filename="_ZNK4llvm5APInt11getBitWidthEv">getBitWidth</a>()) <a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APIntneERKS0_" title='llvm::APInt::operator!=' data-ref="_ZNK4llvm5APIntneERKS0_" data-ref-filename="_ZNK4llvm5APIntneERKS0_">!=</a> <a class="local col6 ref" href="#266Scale" title='Scale' data-ref="266Scale" data-ref-filename="266Scale">Scale</a>)</td></tr>
<tr><th id="1444">1444</th><td>          <i>// SmallScale does not sign-extend to Scale.</i></td></tr>
<tr><th id="1445">1445</th><td>          <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1446">1446</th><td>        <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(SmallScale.exactLogBase2() == logScale);</td></tr>
<tr><th id="1447">1447</th><td>        <i>// Require that Y * SmallScale must not overflow.</i></td></tr>
<tr><th id="1448">1448</th><td>        <a class="local col0 ref" href="#270RequireNoSignedWrap" title='RequireNoSignedWrap' data-ref="270RequireNoSignedWrap" data-ref-filename="270RequireNoSignedWrap">RequireNoSignedWrap</a> = <b>true</b>;</td></tr>
<tr><th id="1449">1449</th><td></td></tr>
<tr><th id="1450">1450</th><td>        <i>// Drill down through the cast.</i></td></tr>
<tr><th id="1451">1451</th><td>        <a class="local col9 ref" href="#269Parent" title='Parent' data-ref="269Parent" data-ref-filename="269Parent">Parent</a> <span class='ref fn' title='std::pair::operator=' data-ref="_ZNSt4pairaSEOSt4pairITL0__TL0_0_E" data-ref-filename="_ZNSt4pairaSEOSt4pairITL0__TL0_0_E">=</span> <span class="namespace">std::</span><span class='ref fn' title='std::make_pair' data-ref="_ZSt9make_pairOT_OT0_" data-ref-filename="_ZSt9make_pairOT_OT0_">make_pair</span>(<span class='refarg'><a class="local col1 ref" href="#281Cast" title='Cast' data-ref="281Cast" data-ref-filename="281Cast">Cast</a></span>, <var>0</var>);</td></tr>
<tr><th id="1452">1452</th><td>        <a class="local col6 ref" href="#266Scale" title='Scale' data-ref="266Scale" data-ref-filename="266Scale">Scale</a> <a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntaSERKS0_" title='llvm::APInt::operator=' data-ref="_ZN4llvm5APIntaSERKS0_" data-ref-filename="_ZN4llvm5APIntaSERKS0_">=</a> <a class="local col3 ref" href="#283SmallScale" title='SmallScale' data-ref="283SmallScale" data-ref-filename="283SmallScale">SmallScale</a>;</td></tr>
<tr><th id="1453">1453</th><td>        <b>continue</b>;</td></tr>
<tr><th id="1454">1454</th><td>      }</td></tr>
<tr><th id="1455">1455</th><td></td></tr>
<tr><th id="1456">1456</th><td>      <b>if</b> (<a class="local col1 ref" href="#281Cast" title='Cast' data-ref="281Cast" data-ref-filename="281Cast">Cast</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CastInst9getOpcodeEv" title='llvm::CastInst::getOpcode' data-ref="_ZNK4llvm8CastInst9getOpcodeEv" data-ref-filename="_ZNK4llvm8CastInst9getOpcodeEv">getOpcode</a>() == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#184" title='llvm::Instruction::Trunc' data-ref="llvm::Instruction::Trunc" data-ref-filename="llvm..Instruction..Trunc">Trunc</a>) {</td></tr>
<tr><th id="1457">1457</th><td>        <i>// Op is truncated from a larger type, descale in the larger type.</i></td></tr>
<tr><th id="1458">1458</th><td><i>        // Suppose Op = trunc X, and we descale X as Y * sext Scale.  Then</i></td></tr>
<tr><th id="1459">1459</th><td><i>        //   trunc (Y * sext Scale) = (trunc Y) * Scale</i></td></tr>
<tr><th id="1460">1460</th><td><i>        // always holds.  However (trunc Y) * Scale may overflow even if</i></td></tr>
<tr><th id="1461">1461</th><td><i>        // trunc (Y * sext Scale) does not, so nsw flags need to be cleared</i></td></tr>
<tr><th id="1462">1462</th><td><i>        // from this point up in the expression (see later).</i></td></tr>
<tr><th id="1463">1463</th><td>        <b>if</b> (<a class="local col0 ref" href="#270RequireNoSignedWrap" title='RequireNoSignedWrap' data-ref="270RequireNoSignedWrap" data-ref-filename="270RequireNoSignedWrap">RequireNoSignedWrap</a>)</td></tr>
<tr><th id="1464">1464</th><td>          <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1465">1465</th><td></td></tr>
<tr><th id="1466">1466</th><td>        <i>// Drill down through the cast.</i></td></tr>
<tr><th id="1467">1467</th><td>        <em>unsigned</em> <dfn class="local col4 decl" id="284LargeSize" title='LargeSize' data-type='unsigned int' data-ref="284LargeSize" data-ref-filename="284LargeSize">LargeSize</dfn> = <a class="ref fn fake" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col1 ref" href="#281Cast" title='Cast' data-ref="281Cast" data-ref-filename="281Cast">Cast</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CastInst8getSrcTyEv" title='llvm::CastInst::getSrcTy' data-ref="_ZNK4llvm8CastInst8getSrcTyEv" data-ref-filename="_ZNK4llvm8CastInst8getSrcTyEv">getSrcTy</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" title='llvm::Type::getPrimitiveSizeInBits' data-ref="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" data-ref-filename="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv">getPrimitiveSizeInBits</a>();</td></tr>
<tr><th id="1468">1468</th><td>        <a class="local col9 ref" href="#269Parent" title='Parent' data-ref="269Parent" data-ref-filename="269Parent">Parent</a> <span class='ref fn' title='std::pair::operator=' data-ref="_ZNSt4pairaSEOSt4pairITL0__TL0_0_E" data-ref-filename="_ZNSt4pairaSEOSt4pairITL0__TL0_0_E">=</span> <span class="namespace">std::</span><span class='ref fn' title='std::make_pair' data-ref="_ZSt9make_pairOT_OT0_" data-ref-filename="_ZSt9make_pairOT_OT0_">make_pair</span>(<span class='refarg'><a class="local col1 ref" href="#281Cast" title='Cast' data-ref="281Cast" data-ref-filename="281Cast">Cast</a></span>, <var>0</var>);</td></tr>
<tr><th id="1469">1469</th><td>        <a class="local col6 ref" href="#266Scale" title='Scale' data-ref="266Scale" data-ref-filename="266Scale">Scale</a> <a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntaSEOS0_" title='llvm::APInt::operator=' data-ref="_ZN4llvm5APIntaSEOS0_" data-ref-filename="_ZN4llvm5APIntaSEOS0_">=</a> <a class="local col6 ref" href="#266Scale" title='Scale' data-ref="266Scale" data-ref-filename="266Scale">Scale</a>.<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt4sextEj" title='llvm::APInt::sext' data-ref="_ZNK4llvm5APInt4sextEj" data-ref-filename="_ZNK4llvm5APInt4sextEj">sext</a>(<a class="local col4 ref" href="#284LargeSize" title='LargeSize' data-ref="284LargeSize" data-ref-filename="284LargeSize">LargeSize</a>);</td></tr>
<tr><th id="1470">1470</th><td>        <b>if</b> (<a class="local col1 ref" href="#271logScale" title='logScale' data-ref="271logScale" data-ref-filename="271logScale">logScale</a> + <var>1</var> == (<a class="typedef" href="../../../../../include/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a>)<a class="ref fn fake" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col1 ref" href="#281Cast" title='Cast' data-ref="281Cast" data-ref-filename="281Cast">Cast</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" title='llvm::Type::getPrimitiveSizeInBits' data-ref="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" data-ref-filename="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv">getPrimitiveSizeInBits</a>())</td></tr>
<tr><th id="1471">1471</th><td>          <a class="local col1 ref" href="#271logScale" title='logScale' data-ref="271logScale" data-ref-filename="271logScale">logScale</a> = -<var>1</var>;</td></tr>
<tr><th id="1472">1472</th><td>        <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Scale.exactLogBase2() == logScale);</td></tr>
<tr><th id="1473">1473</th><td>        <b>continue</b>;</td></tr>
<tr><th id="1474">1474</th><td>      }</td></tr>
<tr><th id="1475">1475</th><td>    }</td></tr>
<tr><th id="1476">1476</th><td></td></tr>
<tr><th id="1477">1477</th><td>    <i>// Unsupported expression, bail out.</i></td></tr>
<tr><th id="1478">1478</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1479">1479</th><td>  }</td></tr>
<tr><th id="1480">1480</th><td></td></tr>
<tr><th id="1481">1481</th><td>  <i>// If Op is zero then Val = Op * Scale.</i></td></tr>
<tr><th id="1482">1482</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_ZeroEv" title='llvm::PatternMatch::m_Zero' data-ref="_ZN4llvm12PatternMatch6m_ZeroEv" data-ref-filename="_ZN4llvm12PatternMatch6m_ZeroEv">m_Zero</a>())) {</td></tr>
<tr><th id="1483">1483</th><td>    <a class="local col7 ref" href="#267NoSignedWrap" title='NoSignedWrap' data-ref="267NoSignedWrap" data-ref-filename="267NoSignedWrap">NoSignedWrap</a> = <b>true</b>;</td></tr>
<tr><th id="1484">1484</th><td>    <b>return</b> <a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a>;</td></tr>
<tr><th id="1485">1485</th><td>  }</td></tr>
<tr><th id="1486">1486</th><td></td></tr>
<tr><th id="1487">1487</th><td>  <i>// We know that we can successfully descale, so from here on we can safely</i></td></tr>
<tr><th id="1488">1488</th><td><i>  // modify the IR.  Op holds the descaled version of the deepest term in the</i></td></tr>
<tr><th id="1489">1489</th><td><i>  // expression.  NoSignedWrap is 'true' if multiplying Op by Scale is known</i></td></tr>
<tr><th id="1490">1490</th><td><i>  // not to overflow.</i></td></tr>
<tr><th id="1491">1491</th><td></td></tr>
<tr><th id="1492">1492</th><td>  <b>if</b> (!<a class="local col9 ref" href="#269Parent" title='Parent' data-ref="269Parent" data-ref-filename="269Parent">Parent</a>.<span class='ref field' title='std::pair&lt;llvm::Instruction *, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>)</td></tr>
<tr><th id="1493">1493</th><td>    <i>// The expression only had one term.</i></td></tr>
<tr><th id="1494">1494</th><td>    <b>return</b> <a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a>;</td></tr>
<tr><th id="1495">1495</th><td></td></tr>
<tr><th id="1496">1496</th><td>  <i>// Rewrite the parent using the descaled version of its operand.</i></td></tr>
<tr><th id="1497">1497</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Parent.first-&gt;hasOneUse() &amp;&amp; <q>"Drilled down when more than one use!"</q>);</td></tr>
<tr><th id="1498">1498</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Op != Parent.first-&gt;getOperand(Parent.second) &amp;&amp;</td></tr>
<tr><th id="1499">1499</th><td>         <q>"Descaling was a no-op?"</q>);</td></tr>
<tr><th id="1500">1500</th><td>  <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'>*<a class="local col9 ref" href="#269Parent" title='Parent' data-ref="269Parent" data-ref-filename="269Parent">Parent</a>.<span class='ref field' title='std::pair&lt;llvm::Instruction *, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span></span>, <a class="local col9 ref" href="#269Parent" title='Parent' data-ref="269Parent" data-ref-filename="269Parent">Parent</a>.<span class='ref field' title='std::pair&lt;llvm::Instruction *, unsigned int&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>, <a class="local col8 ref" href="#268Op" title='Op' data-ref="268Op" data-ref-filename="268Op">Op</a>);</td></tr>
<tr><th id="1501">1501</th><td>  <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Worklist" title='llvm::InstCombiner::Worklist' data-ref="llvm::InstCombiner::Worklist" data-ref-filename="llvm..InstCombiner..Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" title='llvm::InstCombineWorklist::push' data-ref="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" data-ref-filename="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE">push</a>(<a class="local col9 ref" href="#269Parent" title='Parent' data-ref="269Parent" data-ref-filename="269Parent">Parent</a>.<span class='ref field' title='std::pair&lt;llvm::Instruction *, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>);</td></tr>
<tr><th id="1502">1502</th><td></td></tr>
<tr><th id="1503">1503</th><td>  <i>// Now work back up the expression correcting nsw flags.  The logic is based</i></td></tr>
<tr><th id="1504">1504</th><td><i>  // on the following observation: if X * Y is known not to overflow as a signed</i></td></tr>
<tr><th id="1505">1505</th><td><i>  // multiplication, and Y is replaced by a value Z with smaller absolute value,</i></td></tr>
<tr><th id="1506">1506</th><td><i>  // then X * Z will not overflow as a signed multiplication either.  As we work</i></td></tr>
<tr><th id="1507">1507</th><td><i>  // our way up, having NoSignedWrap 'true' means that the descaled value at the</i></td></tr>
<tr><th id="1508">1508</th><td><i>  // current level has strictly smaller absolute value than the original.</i></td></tr>
<tr><th id="1509">1509</th><td>  <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col5 decl" id="285Ancestor" title='Ancestor' data-type='llvm::Instruction *' data-ref="285Ancestor" data-ref-filename="285Ancestor">Ancestor</dfn> = <a class="local col9 ref" href="#269Parent" title='Parent' data-ref="269Parent" data-ref-filename="269Parent">Parent</a>.<span class='ref field' title='std::pair&lt;llvm::Instruction *, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>;</td></tr>
<tr><th id="1510">1510</th><td>  <b>do</b> {</td></tr>
<tr><th id="1511">1511</th><td>    <b>if</b> (<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> *<dfn class="local col6 decl" id="286BO" title='BO' data-type='llvm::BinaryOperator *' data-ref="286BO" data-ref-filename="286BO"><a class="local col6 ref" href="#286BO" title='BO' data-ref="286BO" data-ref-filename="286BO">BO</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(<a class="local col5 ref" href="#285Ancestor" title='Ancestor' data-ref="285Ancestor" data-ref-filename="285Ancestor">Ancestor</a>)) {</td></tr>
<tr><th id="1512">1512</th><td>      <i>// If the multiplication wasn't nsw then we can't say anything about the</i></td></tr>
<tr><th id="1513">1513</th><td><i>      // value of the descaled multiplication, and we have to clear nsw flags</i></td></tr>
<tr><th id="1514">1514</th><td><i>      // from this point on up.</i></td></tr>
<tr><th id="1515">1515</th><td>      <em>bool</em> <dfn class="local col7 decl" id="287OpNoSignedWrap" title='OpNoSignedWrap' data-type='bool' data-ref="287OpNoSignedWrap" data-ref-filename="287OpNoSignedWrap">OpNoSignedWrap</dfn> = <a class="local col6 ref" href="#286BO" title='BO' data-ref="286BO" data-ref-filename="286BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction15hasNoSignedWrapEv" title='llvm::Instruction::hasNoSignedWrap' data-ref="_ZNK4llvm11Instruction15hasNoSignedWrapEv" data-ref-filename="_ZNK4llvm11Instruction15hasNoSignedWrapEv">hasNoSignedWrap</a>();</td></tr>
<tr><th id="1516">1516</th><td>      <a class="local col7 ref" href="#267NoSignedWrap" title='NoSignedWrap' data-ref="267NoSignedWrap" data-ref-filename="267NoSignedWrap">NoSignedWrap</a> &amp;= <a class="local col7 ref" href="#287OpNoSignedWrap" title='OpNoSignedWrap' data-ref="287OpNoSignedWrap" data-ref-filename="287OpNoSignedWrap">OpNoSignedWrap</a>;</td></tr>
<tr><th id="1517">1517</th><td>      <b>if</b> (<a class="local col7 ref" href="#267NoSignedWrap" title='NoSignedWrap' data-ref="267NoSignedWrap" data-ref-filename="267NoSignedWrap">NoSignedWrap</a> != <a class="local col7 ref" href="#287OpNoSignedWrap" title='OpNoSignedWrap' data-ref="287OpNoSignedWrap" data-ref-filename="287OpNoSignedWrap">OpNoSignedWrap</a>) {</td></tr>
<tr><th id="1518">1518</th><td>        <a class="local col6 ref" href="#286BO" title='BO' data-ref="286BO" data-ref-filename="286BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction18setHasNoSignedWrapEb" title='llvm::Instruction::setHasNoSignedWrap' data-ref="_ZN4llvm11Instruction18setHasNoSignedWrapEb" data-ref-filename="_ZN4llvm11Instruction18setHasNoSignedWrapEb">setHasNoSignedWrap</a>(<a class="local col7 ref" href="#267NoSignedWrap" title='NoSignedWrap' data-ref="267NoSignedWrap" data-ref-filename="267NoSignedWrap">NoSignedWrap</a>);</td></tr>
<tr><th id="1519">1519</th><td>        <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Worklist" title='llvm::InstCombiner::Worklist' data-ref="llvm::InstCombiner::Worklist" data-ref-filename="llvm..InstCombiner..Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" title='llvm::InstCombineWorklist::push' data-ref="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" data-ref-filename="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE">push</a>(<a class="local col5 ref" href="#285Ancestor" title='Ancestor' data-ref="285Ancestor" data-ref-filename="285Ancestor">Ancestor</a>);</td></tr>
<tr><th id="1520">1520</th><td>      }</td></tr>
<tr><th id="1521">1521</th><td>    } <b>else</b> <b>if</b> (<a class="local col5 ref" href="#285Ancestor" title='Ancestor' data-ref="285Ancestor" data-ref-filename="285Ancestor">Ancestor</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction9getOpcodeEv" title='llvm::Instruction::getOpcode' data-ref="_ZNK4llvm11Instruction9getOpcodeEv" data-ref-filename="_ZNK4llvm11Instruction9getOpcodeEv">getOpcode</a>() == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#184" title='llvm::Instruction::Trunc' data-ref="llvm::Instruction::Trunc" data-ref-filename="llvm..Instruction..Trunc">Trunc</a>) {</td></tr>
<tr><th id="1522">1522</th><td>      <i>// The fact that the descaled input to the trunc has smaller absolute</i></td></tr>
<tr><th id="1523">1523</th><td><i>      // value than the original input doesn't tell us anything useful about</i></td></tr>
<tr><th id="1524">1524</th><td><i>      // the absolute values of the truncations.</i></td></tr>
<tr><th id="1525">1525</th><td>      <a class="local col7 ref" href="#267NoSignedWrap" title='NoSignedWrap' data-ref="267NoSignedWrap" data-ref-filename="267NoSignedWrap">NoSignedWrap</a> = <b>false</b>;</td></tr>
<tr><th id="1526">1526</th><td>    }</td></tr>
<tr><th id="1527">1527</th><td>    <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>((Ancestor-&gt;getOpcode() != Instruction::SExt || NoSignedWrap) &amp;&amp;</td></tr>
<tr><th id="1528">1528</th><td>           <q>"Failed to keep proper track of nsw flags while drilling down?"</q>);</td></tr>
<tr><th id="1529">1529</th><td></td></tr>
<tr><th id="1530">1530</th><td>    <b>if</b> (<a class="local col5 ref" href="#285Ancestor" title='Ancestor' data-ref="285Ancestor" data-ref-filename="285Ancestor">Ancestor</a> == <a class="local col5 ref" href="#265Val" title='Val' data-ref="265Val" data-ref-filename="265Val">Val</a>)</td></tr>
<tr><th id="1531">1531</th><td>      <i>// Got to the top, all done!</i></td></tr>
<tr><th id="1532">1532</th><td>      <b>return</b> <a class="local col5 ref" href="#265Val" title='Val' data-ref="265Val" data-ref-filename="265Val">Val</a>;</td></tr>
<tr><th id="1533">1533</th><td></td></tr>
<tr><th id="1534">1534</th><td>    <i>// Move up one level in the expression.</i></td></tr>
<tr><th id="1535">1535</th><td>    <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Ancestor-&gt;hasOneUse() &amp;&amp; <q>"Drilled down when more than one use!"</q>);</td></tr>
<tr><th id="1536">1536</th><td>    <a class="local col5 ref" href="#285Ancestor" title='Ancestor' data-ref="285Ancestor" data-ref-filename="285Ancestor">Ancestor</a> = <a class="local col5 ref" href="#285Ancestor" title='Ancestor' data-ref="285Ancestor" data-ref-filename="285Ancestor">Ancestor</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9user_backEv" title='llvm::Instruction::user_back' data-ref="_ZN4llvm11Instruction9user_backEv" data-ref-filename="_ZN4llvm11Instruction9user_backEv">user_back</a>();</td></tr>
<tr><th id="1537">1537</th><td>  } <b>while</b> (<b>true</b>);</td></tr>
<tr><th id="1538">1538</th><td>}</td></tr>
<tr><th id="1539">1539</th><td></td></tr>
<tr><th id="1540">1540</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl15foldVectorBinopERNS_14BinaryOperatorE" title='llvm::InstCombinerImpl::foldVectorBinop' data-ref="_ZN4llvm16InstCombinerImpl15foldVectorBinopERNS_14BinaryOperatorE" data-ref-filename="_ZN4llvm16InstCombinerImpl15foldVectorBinopERNS_14BinaryOperatorE">foldVectorBinop</dfn>(<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> &amp;<dfn class="local col8 decl" id="288Inst" title='Inst' data-type='llvm::BinaryOperator &amp;' data-ref="288Inst" data-ref-filename="288Inst">Inst</dfn>) {</td></tr>
<tr><th id="1541">1541</th><td>  <b>if</b> (!<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::VectorType" title='llvm::VectorType' data-ref="llvm::VectorType" data-ref-filename="llvm..VectorType">VectorType</a>&gt;(<a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()))</td></tr>
<tr><th id="1542">1542</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1543">1543</th><td></td></tr>
<tr><th id="1544">1544</th><td>  <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col9 decl" id="289Opcode" title='Opcode' data-type='BinaryOperator::BinaryOps' data-ref="289Opcode" data-ref-filename="289Opcode">Opcode</dfn> = <a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>();</td></tr>
<tr><th id="1545">1545</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="290LHS" title='LHS' data-type='llvm::Value *' data-ref="290LHS" data-ref-filename="290LHS">LHS</dfn> = <a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>), *<dfn class="local col1 decl" id="291RHS" title='RHS' data-type='llvm::Value *' data-ref="291RHS" data-ref-filename="291RHS">RHS</dfn> = <a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="1546">1546</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(cast&lt;VectorType&gt;(LHS-&gt;getType())-&gt;getElementCount() ==</td></tr>
<tr><th id="1547">1547</th><td>         cast&lt;VectorType&gt;(Inst.getType())-&gt;getElementCount());</td></tr>
<tr><th id="1548">1548</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(cast&lt;VectorType&gt;(RHS-&gt;getType())-&gt;getElementCount() ==</td></tr>
<tr><th id="1549">1549</th><td>         cast&lt;VectorType&gt;(Inst.getType())-&gt;getElementCount());</td></tr>
<tr><th id="1550">1550</th><td></td></tr>
<tr><th id="1551">1551</th><td>  <i>// If both operands of the binop are vector concatenations, then perform the</i></td></tr>
<tr><th id="1552">1552</th><td><i>  // narrow binop on each pair of the source operands followed by concatenation</i></td></tr>
<tr><th id="1553">1553</th><td><i>  // of the results.</i></td></tr>
<tr><th id="1554">1554</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="292L0" title='L0' data-type='llvm::Value *' data-ref="292L0" data-ref-filename="292L0">L0</dfn>, *<dfn class="local col3 decl" id="293L1" title='L1' data-type='llvm::Value *' data-ref="293L1" data-ref-filename="293L1">L1</dfn>, *<dfn class="local col4 decl" id="294R0" title='R0' data-type='llvm::Value *' data-ref="294R0" data-ref-filename="294R0">R0</dfn>, *<dfn class="local col5 decl" id="295R1" title='R1' data-type='llvm::Value *' data-ref="295R1" data-ref-filename="295R1">R1</dfn>;</td></tr>
<tr><th id="1555">1555</th><td>  <a class="type" href="../../../include/llvm/ADT/ArrayRef.h.html#llvm::ArrayRef" title='llvm::ArrayRef' data-ref="llvm::ArrayRef" data-ref-filename="llvm..ArrayRef">ArrayRef</a>&lt;<em>int</em>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1Ev" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1Ev" data-ref-filename="_ZN4llvm8ArrayRefC1Ev"></a><dfn class="local col6 decl" id="296Mask" title='Mask' data-type='ArrayRef&lt;int&gt;' data-ref="296Mask" data-ref-filename="296Mask">Mask</dfn>;</td></tr>
<tr><th id="1556">1556</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col0 ref" href="#290LHS" title='LHS' data-ref="290LHS" data-ref-filename="290LHS">LHS</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" title='llvm::PatternMatch::m_Shuffle' data-ref="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" data-ref-filename="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_">m_Shuffle</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col2 ref" href="#292L0" title='L0' data-ref="292L0" data-ref-filename="292L0">L0</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col3 ref" href="#293L1" title='L1' data-ref="293L1" data-ref-filename="293L1">L1</a></span>), <a class="type" href="../../../include/llvm/IR/PatternMatch.h.html#llvm::PatternMatch::m_Mask" title='llvm::PatternMatch::m_Mask' data-ref="llvm::PatternMatch::m_Mask" data-ref-filename="llvm..PatternMatch..m_Mask">m_Mask</a><a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE" title='llvm::PatternMatch::m_Mask::m_Mask' data-ref="_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE" data-ref-filename="_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE">(</a><a class="local col6 ref" href="#296Mask" title='Mask' data-ref="296Mask" data-ref-filename="296Mask">Mask</a>))) &amp;&amp;</td></tr>
<tr><th id="1557">1557</th><td>      <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col1 ref" href="#291RHS" title='RHS' data-ref="291RHS" data-ref-filename="291RHS">RHS</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" title='llvm::PatternMatch::m_Shuffle' data-ref="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" data-ref-filename="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_">m_Shuffle</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col4 ref" href="#294R0" title='R0' data-ref="294R0" data-ref-filename="294R0">R0</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col5 ref" href="#295R1" title='R1' data-ref="295R1" data-ref-filename="295R1">R1</a></span>), <a class="type" href="../../../include/llvm/IR/PatternMatch.h.html#llvm::PatternMatch::m_SpecificMask" title='llvm::PatternMatch::m_SpecificMask' data-ref="llvm::PatternMatch::m_SpecificMask" data-ref-filename="llvm..PatternMatch..m_SpecificMask">m_SpecificMask</a><a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch14m_SpecificMaskC1ERNS_8ArrayRefIiEE" title='llvm::PatternMatch::m_SpecificMask::m_SpecificMask' data-ref="_ZN4llvm12PatternMatch14m_SpecificMaskC1ERNS_8ArrayRefIiEE" data-ref-filename="_ZN4llvm12PatternMatch14m_SpecificMaskC1ERNS_8ArrayRefIiEE">(</a><a class="local col6 ref" href="#296Mask" title='Mask' data-ref="296Mask" data-ref-filename="296Mask">Mask</a>))) &amp;&amp;</td></tr>
<tr><th id="1558">1558</th><td>      <a class="local col0 ref" href="#290LHS" title='LHS' data-ref="290LHS" data-ref-filename="290LHS">LHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>() &amp;&amp; <a class="local col1 ref" href="#291RHS" title='RHS' data-ref="291RHS" data-ref-filename="291RHS">RHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>() &amp;&amp;</td></tr>
<tr><th id="1559">1559</th><td>      <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ShuffleVectorInst" title='llvm::ShuffleVectorInst' data-ref="llvm::ShuffleVectorInst" data-ref-filename="llvm..ShuffleVectorInst">ShuffleVectorInst</a>&gt;(<a class="local col0 ref" href="#290LHS" title='LHS' data-ref="290LHS" data-ref-filename="290LHS">LHS</a>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17ShuffleVectorInst8isConcatEv" title='llvm::ShuffleVectorInst::isConcat' data-ref="_ZNK4llvm17ShuffleVectorInst8isConcatEv" data-ref-filename="_ZNK4llvm17ShuffleVectorInst8isConcatEv">isConcat</a>() &amp;&amp;</td></tr>
<tr><th id="1560">1560</th><td>      <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ShuffleVectorInst" title='llvm::ShuffleVectorInst' data-ref="llvm::ShuffleVectorInst" data-ref-filename="llvm..ShuffleVectorInst">ShuffleVectorInst</a>&gt;(<a class="local col1 ref" href="#291RHS" title='RHS' data-ref="291RHS" data-ref-filename="291RHS">RHS</a>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17ShuffleVectorInst8isConcatEv" title='llvm::ShuffleVectorInst::isConcat' data-ref="_ZNK4llvm17ShuffleVectorInst8isConcatEv" data-ref-filename="_ZNK4llvm17ShuffleVectorInst8isConcatEv">isConcat</a>()) {</td></tr>
<tr><th id="1561">1561</th><td>    <i>// This transform does not have the speculative execution constraint as</i></td></tr>
<tr><th id="1562">1562</th><td><i>    // below because the shuffle is a concatenation. The new binops are</i></td></tr>
<tr><th id="1563">1563</th><td><i>    // operating on exactly the same elements as the existing binop.</i></td></tr>
<tr><th id="1564">1564</th><td><i>    // TODO: We could ease the mask requirement to allow different undef lanes,</i></td></tr>
<tr><th id="1565">1565</th><td><i>    //       but that requires an analysis of the binop-with-undef output value.</i></td></tr>
<tr><th id="1566">1566</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="297NewBO0" title='NewBO0' data-type='llvm::Value *' data-ref="297NewBO0" data-ref-filename="297NewBO0">NewBO0</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col9 ref" href="#289Opcode" title='Opcode' data-ref="289Opcode" data-ref-filename="289Opcode">Opcode</a>, <a class="local col2 ref" href="#292L0" title='L0' data-ref="292L0" data-ref-filename="292L0">L0</a>, <a class="local col4 ref" href="#294R0" title='R0' data-ref="294R0" data-ref-filename="294R0">R0</a>);</td></tr>
<tr><th id="1567">1567</th><td>    <b>if</b> (<em>auto</em> *<dfn class="local col8 decl" id="298BO" title='BO' data-type='llvm::BinaryOperator *' data-ref="298BO" data-ref-filename="298BO"><a class="local col8 ref" href="#298BO" title='BO' data-ref="298BO" data-ref-filename="298BO">BO</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(<a class="local col7 ref" href="#297NewBO0" title='NewBO0' data-ref="297NewBO0" data-ref-filename="297NewBO0">NewBO0</a>))</td></tr>
<tr><th id="1568">1568</th><td>      <a class="local col8 ref" href="#298BO" title='BO' data-ref="298BO" data-ref-filename="298BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb" title='llvm::Instruction::copyIRFlags' data-ref="_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb" data-ref-filename="_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb">copyIRFlags</a>(&amp;<a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>);</td></tr>
<tr><th id="1569">1569</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="299NewBO1" title='NewBO1' data-type='llvm::Value *' data-ref="299NewBO1" data-ref-filename="299NewBO1">NewBO1</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col9 ref" href="#289Opcode" title='Opcode' data-ref="289Opcode" data-ref-filename="289Opcode">Opcode</a>, <a class="local col3 ref" href="#293L1" title='L1' data-ref="293L1" data-ref-filename="293L1">L1</a>, <a class="local col5 ref" href="#295R1" title='R1' data-ref="295R1" data-ref-filename="295R1">R1</a>);</td></tr>
<tr><th id="1570">1570</th><td>    <b>if</b> (<em>auto</em> *<dfn class="local col0 decl" id="300BO" title='BO' data-type='llvm::BinaryOperator *' data-ref="300BO" data-ref-filename="300BO"><a class="local col0 ref" href="#300BO" title='BO' data-ref="300BO" data-ref-filename="300BO">BO</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(<a class="local col9 ref" href="#299NewBO1" title='NewBO1' data-ref="299NewBO1" data-ref-filename="299NewBO1">NewBO1</a>))</td></tr>
<tr><th id="1571">1571</th><td>      <a class="local col0 ref" href="#300BO" title='BO' data-ref="300BO" data-ref-filename="300BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb" title='llvm::Instruction::copyIRFlags' data-ref="_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb" data-ref-filename="_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb">copyIRFlags</a>(&amp;<a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>);</td></tr>
<tr><th id="1572">1572</th><td>    <b>return</b> <b>new</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ShuffleVectorInst" title='llvm::ShuffleVectorInst' data-ref="llvm::ShuffleVectorInst" data-ref-filename="llvm..ShuffleVectorInst">ShuffleVectorInst</a><a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17ShuffleVectorInstC1EPNS_5ValueES2_NS_8ArrayRefIiEERKNS_5TwineEPNS_11InstructionE" title='llvm::ShuffleVectorInst::ShuffleVectorInst' data-ref="_ZN4llvm17ShuffleVectorInstC1EPNS_5ValueES2_NS_8ArrayRefIiEERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm17ShuffleVectorInstC1EPNS_5ValueES2_NS_8ArrayRefIiEERKNS_5TwineEPNS_11InstructionE">(</a><a class="local col7 ref" href="#297NewBO0" title='NewBO0' data-ref="297NewBO0" data-ref-filename="297NewBO0">NewBO0</a>, <a class="local col9 ref" href="#299NewBO1" title='NewBO1' data-ref="299NewBO1" data-ref-filename="299NewBO1">NewBO1</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#41" title='llvm::ArrayRef&lt;int&gt;::ArrayRef' data-ref="_ZN4llvm8ArrayRefIiEC1ERKS1_" data-ref-filename="_ZN4llvm8ArrayRefIiEC1ERKS1_"></a><a class="local col6 ref" href="#296Mask" title='Mask' data-ref="296Mask" data-ref-filename="296Mask">Mask</a>);</td></tr>
<tr><th id="1573">1573</th><td>  }</td></tr>
<tr><th id="1574">1574</th><td></td></tr>
<tr><th id="1575">1575</th><td>  <i>// It may not be safe to reorder shuffles and things like div, urem, etc.</i></td></tr>
<tr><th id="1576">1576</th><td><i>  // because we may trap when executing those ops on unknown vector elements.</i></td></tr>
<tr><th id="1577">1577</th><td><i>  // See PR20059.</i></td></tr>
<tr><th id="1578">1578</th><td>  <b>if</b> (!<a class="ref fn" href="../../../include/llvm/Analysis/ValueTracking.h.html#_ZN4llvm28isSafeToSpeculativelyExecuteEPKNS_5ValueEPKNS_11InstructionEPKNS_13DominatorTreeE" title='llvm::isSafeToSpeculativelyExecute' data-ref="_ZN4llvm28isSafeToSpeculativelyExecuteEPKNS_5ValueEPKNS_11InstructionEPKNS_13DominatorTreeE" data-ref-filename="_ZN4llvm28isSafeToSpeculativelyExecuteEPKNS_5ValueEPKNS_11InstructionEPKNS_13DominatorTreeE">isSafeToSpeculativelyExecute</a>(&amp;<a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>))</td></tr>
<tr><th id="1579">1579</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1580">1580</th><td></td></tr>
<tr><th id="1581">1581</th><td>  <em>auto</em> <dfn class="local col1 decl" id="301createBinOpShuffle" title='createBinOpShuffle' data-type='(lambda at /fast/tmp/llvm-proj-12/llvm/lib/Transforms/InstCombine/InstructionCombining.cpp:1581:29)' data-ref="301createBinOpShuffle" data-ref-filename="301createBinOpShuffle">createBinOpShuffle</dfn> = [&amp;](<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="302X" title='X' data-type='llvm::Value *' data-ref="302X" data-ref-filename="302X">X</dfn>, <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="303Y" title='Y' data-type='llvm::Value *' data-ref="303Y" data-ref-filename="303Y">Y</dfn>, <a class="type" href="../../../include/llvm/ADT/ArrayRef.h.html#llvm::ArrayRef" title='llvm::ArrayRef' data-ref="llvm::ArrayRef" data-ref-filename="llvm..ArrayRef">ArrayRef</a>&lt;<em>int</em>&gt; <dfn class="local col4 decl" id="304M" title='M' data-type='ArrayRef&lt;int&gt;' data-ref="304M" data-ref-filename="304M">M</dfn>) {</td></tr>
<tr><th id="1582">1582</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="305XY" title='XY' data-type='llvm::Value *' data-ref="305XY" data-ref-filename="305XY">XY</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col9 ref" href="#289Opcode" title='Opcode' data-ref="289Opcode" data-ref-filename="289Opcode">Opcode</a>, <a class="local col2 ref" href="#302X" title='X' data-ref="302X" data-ref-filename="302X">X</a>, <a class="local col3 ref" href="#303Y" title='Y' data-ref="303Y" data-ref-filename="303Y">Y</a>);</td></tr>
<tr><th id="1583">1583</th><td>    <b>if</b> (<em>auto</em> *<dfn class="local col6 decl" id="306BO" title='BO' data-type='llvm::BinaryOperator *' data-ref="306BO" data-ref-filename="306BO"><a class="local col6 ref" href="#306BO" title='BO' data-ref="306BO" data-ref-filename="306BO">BO</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(<a class="local col5 ref" href="#305XY" title='XY' data-ref="305XY" data-ref-filename="305XY">XY</a>))</td></tr>
<tr><th id="1584">1584</th><td>      <a class="local col6 ref" href="#306BO" title='BO' data-ref="306BO" data-ref-filename="306BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb" title='llvm::Instruction::copyIRFlags' data-ref="_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb" data-ref-filename="_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb">copyIRFlags</a>(&amp;<a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>);</td></tr>
<tr><th id="1585">1585</th><td>    <b>return</b> <b>new</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ShuffleVectorInst" title='llvm::ShuffleVectorInst' data-ref="llvm::ShuffleVectorInst" data-ref-filename="llvm..ShuffleVectorInst">ShuffleVectorInst</a><a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17ShuffleVectorInstC1EPNS_5ValueES2_NS_8ArrayRefIiEERKNS_5TwineEPNS_11InstructionE" title='llvm::ShuffleVectorInst::ShuffleVectorInst' data-ref="_ZN4llvm17ShuffleVectorInstC1EPNS_5ValueES2_NS_8ArrayRefIiEERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm17ShuffleVectorInstC1EPNS_5ValueES2_NS_8ArrayRefIiEERKNS_5TwineEPNS_11InstructionE">(</a><a class="local col5 ref" href="#305XY" title='XY' data-ref="305XY" data-ref-filename="305XY">XY</a>, <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm10UndefValue3getEPNS_4TypeE" title='llvm::UndefValue::get' data-ref="_ZN4llvm10UndefValue3getEPNS_4TypeE" data-ref-filename="_ZN4llvm10UndefValue3getEPNS_4TypeE">get</a>(<a class="local col5 ref" href="#305XY" title='XY' data-ref="305XY" data-ref-filename="305XY">XY</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()), <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#41" title='llvm::ArrayRef&lt;int&gt;::ArrayRef' data-ref="_ZN4llvm8ArrayRefIiEC1ERKS1_" data-ref-filename="_ZN4llvm8ArrayRefIiEC1ERKS1_"></a><a class="local col4 ref" href="#304M" title='M' data-ref="304M" data-ref-filename="304M">M</a>);</td></tr>
<tr><th id="1586">1586</th><td>  };</td></tr>
<tr><th id="1587">1587</th><td></td></tr>
<tr><th id="1588">1588</th><td>  <i>// If both arguments of the binary operation are shuffles that use the same</i></td></tr>
<tr><th id="1589">1589</th><td><i>  // mask and shuffle within a single vector, move the shuffle after the binop.</i></td></tr>
<tr><th id="1590">1590</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="307V1" title='V1' data-type='llvm::Value *' data-ref="307V1" data-ref-filename="307V1">V1</dfn>, *<dfn class="local col8 decl" id="308V2" title='V2' data-type='llvm::Value *' data-ref="308V2" data-ref-filename="308V2">V2</dfn>;</td></tr>
<tr><th id="1591">1591</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col0 ref" href="#290LHS" title='LHS' data-ref="290LHS" data-ref-filename="290LHS">LHS</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" title='llvm::PatternMatch::m_Shuffle' data-ref="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" data-ref-filename="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_">m_Shuffle</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col7 ref" href="#307V1" title='V1' data-ref="307V1" data-ref-filename="307V1">V1</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_UndefEv" title='llvm::PatternMatch::m_Undef' data-ref="_ZN4llvm12PatternMatch7m_UndefEv" data-ref-filename="_ZN4llvm12PatternMatch7m_UndefEv">m_Undef</a>(), <a class="type" href="../../../include/llvm/IR/PatternMatch.h.html#llvm::PatternMatch::m_Mask" title='llvm::PatternMatch::m_Mask' data-ref="llvm::PatternMatch::m_Mask" data-ref-filename="llvm..PatternMatch..m_Mask">m_Mask</a><a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE" title='llvm::PatternMatch::m_Mask::m_Mask' data-ref="_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE" data-ref-filename="_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE">(</a><a class="local col6 ref" href="#296Mask" title='Mask' data-ref="296Mask" data-ref-filename="296Mask">Mask</a>))) &amp;&amp;</td></tr>
<tr><th id="1592">1592</th><td>      <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col1 ref" href="#291RHS" title='RHS' data-ref="291RHS" data-ref-filename="291RHS">RHS</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" title='llvm::PatternMatch::m_Shuffle' data-ref="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" data-ref-filename="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_">m_Shuffle</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col8 ref" href="#308V2" title='V2' data-ref="308V2" data-ref-filename="308V2">V2</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_UndefEv" title='llvm::PatternMatch::m_Undef' data-ref="_ZN4llvm12PatternMatch7m_UndefEv" data-ref-filename="_ZN4llvm12PatternMatch7m_UndefEv">m_Undef</a>(), <a class="type" href="../../../include/llvm/IR/PatternMatch.h.html#llvm::PatternMatch::m_SpecificMask" title='llvm::PatternMatch::m_SpecificMask' data-ref="llvm::PatternMatch::m_SpecificMask" data-ref-filename="llvm..PatternMatch..m_SpecificMask">m_SpecificMask</a><a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch14m_SpecificMaskC1ERNS_8ArrayRefIiEE" title='llvm::PatternMatch::m_SpecificMask::m_SpecificMask' data-ref="_ZN4llvm12PatternMatch14m_SpecificMaskC1ERNS_8ArrayRefIiEE" data-ref-filename="_ZN4llvm12PatternMatch14m_SpecificMaskC1ERNS_8ArrayRefIiEE">(</a><a class="local col6 ref" href="#296Mask" title='Mask' data-ref="296Mask" data-ref-filename="296Mask">Mask</a>))) &amp;&amp;</td></tr>
<tr><th id="1593">1593</th><td>      <a class="local col7 ref" href="#307V1" title='V1' data-ref="307V1" data-ref-filename="307V1">V1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>() == <a class="local col8 ref" href="#308V2" title='V2' data-ref="308V2" data-ref-filename="308V2">V2</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>() &amp;&amp;</td></tr>
<tr><th id="1594">1594</th><td>      (<a class="local col0 ref" href="#290LHS" title='LHS' data-ref="290LHS" data-ref-filename="290LHS">LHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>() || <a class="local col1 ref" href="#291RHS" title='RHS' data-ref="291RHS" data-ref-filename="291RHS">RHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>() || <a class="local col0 ref" href="#290LHS" title='LHS' data-ref="290LHS" data-ref-filename="290LHS">LHS</a> == <a class="local col1 ref" href="#291RHS" title='RHS' data-ref="291RHS" data-ref-filename="291RHS">RHS</a>)) {</td></tr>
<tr><th id="1595">1595</th><td>    <i>// Op(shuffle(V1, Mask), shuffle(V2, Mask)) -&gt; shuffle(Op(V1, V2), Mask)</i></td></tr>
<tr><th id="1596">1596</th><td>    <b>return</b> <a class="local col1 ref" href="#301createBinOpShuffle" title='createBinOpShuffle' data-ref="301createBinOpShuffle" data-ref-filename="301createBinOpShuffle">createBinOpShuffle</a><a class="tu ref fn" href="#_ZZN4llvm16InstCombinerImpl15foldVectorBinopERNS_14BinaryOperatorEENK3$_1clEPNS_5ValueES5_NS_8ArrayRefIiEE" title='llvm::InstCombinerImpl::foldVectorBinop(llvm::BinaryOperator &amp;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN4llvm16InstCombinerImpl15foldVectorBinopERNS_14BinaryOperatorEENK3$_1clEPNS_5ValueES5_NS_8ArrayRefIiEE" data-ref-filename="_ZZN4llvm16InstCombinerImpl15foldVectorBinopERNS_14BinaryOperatorEENK3$_1clEPNS_5ValueES5_NS_8ArrayRefIiEE">(<a class="local col7 ref" href="#307V1" title='V1' data-ref="307V1" data-ref-filename="307V1">V1</a>, <a class="local col8 ref" href="#308V2" title='V2' data-ref="308V2" data-ref-filename="308V2">V2</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#41" title='llvm::ArrayRef&lt;int&gt;::ArrayRef' data-ref="_ZN4llvm8ArrayRefIiEC1ERKS1_" data-ref-filename="_ZN4llvm8ArrayRefIiEC1ERKS1_"></a><a class="local col6 ref" href="#296Mask" title='Mask' data-ref="296Mask" data-ref-filename="296Mask">Mask</a>)</a>;</td></tr>
<tr><th id="1597">1597</th><td>  }</td></tr>
<tr><th id="1598">1598</th><td></td></tr>
<tr><th id="1599">1599</th><td>  <i>// If both arguments of a commutative binop are select-shuffles that use the</i></td></tr>
<tr><th id="1600">1600</th><td><i>  // same mask with commuted operands, the shuffles are unnecessary.</i></td></tr>
<tr><th id="1601">1601</th><td>  <b>if</b> (<a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction13isCommutativeEv" title='llvm::Instruction::isCommutative' data-ref="_ZNK4llvm11Instruction13isCommutativeEv" data-ref-filename="_ZNK4llvm11Instruction13isCommutativeEv">isCommutative</a>() &amp;&amp;</td></tr>
<tr><th id="1602">1602</th><td>      <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col0 ref" href="#290LHS" title='LHS' data-ref="290LHS" data-ref-filename="290LHS">LHS</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" title='llvm::PatternMatch::m_Shuffle' data-ref="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" data-ref-filename="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_">m_Shuffle</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col7 ref" href="#307V1" title='V1' data-ref="307V1" data-ref-filename="307V1">V1</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col8 ref" href="#308V2" title='V2' data-ref="308V2" data-ref-filename="308V2">V2</a></span>), <a class="type" href="../../../include/llvm/IR/PatternMatch.h.html#llvm::PatternMatch::m_Mask" title='llvm::PatternMatch::m_Mask' data-ref="llvm::PatternMatch::m_Mask" data-ref-filename="llvm..PatternMatch..m_Mask">m_Mask</a><a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE" title='llvm::PatternMatch::m_Mask::m_Mask' data-ref="_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE" data-ref-filename="_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE">(</a><a class="local col6 ref" href="#296Mask" title='Mask' data-ref="296Mask" data-ref-filename="296Mask">Mask</a>))) &amp;&amp;</td></tr>
<tr><th id="1603">1603</th><td>      <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col1 ref" href="#291RHS" title='RHS' data-ref="291RHS" data-ref-filename="291RHS">RHS</a>,</td></tr>
<tr><th id="1604">1604</th><td>            <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" title='llvm::PatternMatch::m_Shuffle' data-ref="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" data-ref-filename="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_">m_Shuffle</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE" title='llvm::PatternMatch::m_Specific' data-ref="_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE">m_Specific</a>(<a class="local col8 ref" href="#308V2" title='V2' data-ref="308V2" data-ref-filename="308V2">V2</a>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE" title='llvm::PatternMatch::m_Specific' data-ref="_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE">m_Specific</a>(<a class="local col7 ref" href="#307V1" title='V1' data-ref="307V1" data-ref-filename="307V1">V1</a>), <a class="type" href="../../../include/llvm/IR/PatternMatch.h.html#llvm::PatternMatch::m_SpecificMask" title='llvm::PatternMatch::m_SpecificMask' data-ref="llvm::PatternMatch::m_SpecificMask" data-ref-filename="llvm..PatternMatch..m_SpecificMask">m_SpecificMask</a><a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch14m_SpecificMaskC1ERNS_8ArrayRefIiEE" title='llvm::PatternMatch::m_SpecificMask::m_SpecificMask' data-ref="_ZN4llvm12PatternMatch14m_SpecificMaskC1ERNS_8ArrayRefIiEE" data-ref-filename="_ZN4llvm12PatternMatch14m_SpecificMaskC1ERNS_8ArrayRefIiEE">(</a><a class="local col6 ref" href="#296Mask" title='Mask' data-ref="296Mask" data-ref-filename="296Mask">Mask</a>)))) {</td></tr>
<tr><th id="1605">1605</th><td>    <em>auto</em> *<dfn class="local col9 decl" id="309LShuf" title='LShuf' data-type='llvm::ShuffleVectorInst *' data-ref="309LShuf" data-ref-filename="309LShuf">LShuf</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ShuffleVectorInst" title='llvm::ShuffleVectorInst' data-ref="llvm::ShuffleVectorInst" data-ref-filename="llvm..ShuffleVectorInst">ShuffleVectorInst</a>&gt;(<a class="local col0 ref" href="#290LHS" title='LHS' data-ref="290LHS" data-ref-filename="290LHS">LHS</a>);</td></tr>
<tr><th id="1606">1606</th><td>    <em>auto</em> *<dfn class="local col0 decl" id="310RShuf" title='RShuf' data-type='llvm::ShuffleVectorInst *' data-ref="310RShuf" data-ref-filename="310RShuf">RShuf</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ShuffleVectorInst" title='llvm::ShuffleVectorInst' data-ref="llvm::ShuffleVectorInst" data-ref-filename="llvm..ShuffleVectorInst">ShuffleVectorInst</a>&gt;(<a class="local col1 ref" href="#291RHS" title='RHS' data-ref="291RHS" data-ref-filename="291RHS">RHS</a>);</td></tr>
<tr><th id="1607">1607</th><td>    <i>// TODO: Allow shuffles that contain undefs in the mask?</i></td></tr>
<tr><th id="1608">1608</th><td><i>    //       That is legal, but it reduces undef knowledge.</i></td></tr>
<tr><th id="1609">1609</th><td><i>    // TODO: Allow arbitrary shuffles by shuffling after binop?</i></td></tr>
<tr><th id="1610">1610</th><td><i>    //       That might be legal, but we have to deal with poison.</i></td></tr>
<tr><th id="1611">1611</th><td>    <b>if</b> (<a class="local col9 ref" href="#309LShuf" title='LShuf' data-ref="309LShuf" data-ref-filename="309LShuf">LShuf</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17ShuffleVectorInst8isSelectEv" title='llvm::ShuffleVectorInst::isSelect' data-ref="_ZNK4llvm17ShuffleVectorInst8isSelectEv" data-ref-filename="_ZNK4llvm17ShuffleVectorInst8isSelectEv">isSelect</a>() &amp;&amp;</td></tr>
<tr><th id="1612">1612</th><td>        !<a class="ref fn" href="../../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm12is_containedEOT_RKT0_" title='llvm::is_contained' data-ref="_ZN4llvm12is_containedEOT_RKT0_" data-ref-filename="_ZN4llvm12is_containedEOT_RKT0_">is_contained</a>(<a class="local col9 ref" href="#309LShuf" title='LShuf' data-ref="309LShuf" data-ref-filename="309LShuf">LShuf</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17ShuffleVectorInst14getShuffleMaskEv" title='llvm::ShuffleVectorInst::getShuffleMask' data-ref="_ZNK4llvm17ShuffleVectorInst14getShuffleMaskEv" data-ref-filename="_ZNK4llvm17ShuffleVectorInst14getShuffleMaskEv">getShuffleMask</a>(), <a class="ref" href="../../../include/llvm/IR/Instructions.h.html#llvm::UndefMaskElem" title='llvm::UndefMaskElem' data-ref="llvm::UndefMaskElem" data-ref-filename="llvm..UndefMaskElem">UndefMaskElem</a>) &amp;&amp;</td></tr>
<tr><th id="1613">1613</th><td>        <a class="local col0 ref" href="#310RShuf" title='RShuf' data-ref="310RShuf" data-ref-filename="310RShuf">RShuf</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17ShuffleVectorInst8isSelectEv" title='llvm::ShuffleVectorInst::isSelect' data-ref="_ZNK4llvm17ShuffleVectorInst8isSelectEv" data-ref-filename="_ZNK4llvm17ShuffleVectorInst8isSelectEv">isSelect</a>() &amp;&amp;</td></tr>
<tr><th id="1614">1614</th><td>        !<a class="ref fn" href="../../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm12is_containedEOT_RKT0_" title='llvm::is_contained' data-ref="_ZN4llvm12is_containedEOT_RKT0_" data-ref-filename="_ZN4llvm12is_containedEOT_RKT0_">is_contained</a>(<a class="local col0 ref" href="#310RShuf" title='RShuf' data-ref="310RShuf" data-ref-filename="310RShuf">RShuf</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17ShuffleVectorInst14getShuffleMaskEv" title='llvm::ShuffleVectorInst::getShuffleMask' data-ref="_ZNK4llvm17ShuffleVectorInst14getShuffleMaskEv" data-ref-filename="_ZNK4llvm17ShuffleVectorInst14getShuffleMaskEv">getShuffleMask</a>(), <a class="ref" href="../../../include/llvm/IR/Instructions.h.html#llvm::UndefMaskElem" title='llvm::UndefMaskElem' data-ref="llvm::UndefMaskElem" data-ref-filename="llvm..UndefMaskElem">UndefMaskElem</a>)) {</td></tr>
<tr><th id="1615">1615</th><td>      <i>// Example:</i></td></tr>
<tr><th id="1616">1616</th><td><i>      // LHS = shuffle V1, V2, &lt;0, 5, 6, 3&gt;</i></td></tr>
<tr><th id="1617">1617</th><td><i>      // RHS = shuffle V2, V1, &lt;0, 5, 6, 3&gt;</i></td></tr>
<tr><th id="1618">1618</th><td><i>      // LHS + RHS --&gt; (V10+V20, V21+V11, V22+V12, V13+V23) --&gt; V1 + V2</i></td></tr>
<tr><th id="1619">1619</th><td>      <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col1 decl" id="311NewBO" title='NewBO' data-type='llvm::Instruction *' data-ref="311NewBO" data-ref-filename="311NewBO">NewBO</dfn> = <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>::<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm14BinaryOperator6CreateENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPS1_" title='llvm::BinaryOperator::Create' data-ref="_ZN4llvm14BinaryOperator6CreateENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPS1_" data-ref-filename="_ZN4llvm14BinaryOperator6CreateENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPS1_">Create</a>(<a class="local col9 ref" href="#289Opcode" title='Opcode' data-ref="289Opcode" data-ref-filename="289Opcode">Opcode</a>, <a class="local col7 ref" href="#307V1" title='V1' data-ref="307V1" data-ref-filename="307V1">V1</a>, <a class="local col8 ref" href="#308V2" title='V2' data-ref="308V2" data-ref-filename="308V2">V2</a>);</td></tr>
<tr><th id="1620">1620</th><td>      <a class="local col1 ref" href="#311NewBO" title='NewBO' data-ref="311NewBO" data-ref-filename="311NewBO">NewBO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb" title='llvm::Instruction::copyIRFlags' data-ref="_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb" data-ref-filename="_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb">copyIRFlags</a>(&amp;<a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>);</td></tr>
<tr><th id="1621">1621</th><td>      <b>return</b> <a class="local col1 ref" href="#311NewBO" title='NewBO' data-ref="311NewBO" data-ref-filename="311NewBO">NewBO</a>;</td></tr>
<tr><th id="1622">1622</th><td>    }</td></tr>
<tr><th id="1623">1623</th><td>  }</td></tr>
<tr><th id="1624">1624</th><td></td></tr>
<tr><th id="1625">1625</th><td>  <i>// If one argument is a shuffle within one vector and the other is a constant,</i></td></tr>
<tr><th id="1626">1626</th><td><i>  // try moving the shuffle after the binary operation. This canonicalization</i></td></tr>
<tr><th id="1627">1627</th><td><i>  // intends to move shuffles closer to other shuffles and binops closer to</i></td></tr>
<tr><th id="1628">1628</th><td><i>  // other binops, so they can be folded. It may also enable demanded elements</i></td></tr>
<tr><th id="1629">1629</th><td><i>  // transforms.</i></td></tr>
<tr><th id="1630">1630</th><td>  <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col2 decl" id="312C" title='C' data-type='llvm::Constant *' data-ref="312C" data-ref-filename="312C">C</dfn>;</td></tr>
<tr><th id="1631">1631</th><td>  <em>auto</em> *<dfn class="local col3 decl" id="313InstVTy" title='InstVTy' data-type='llvm::FixedVectorType *' data-ref="313InstVTy" data-ref-filename="313InstVTy">InstVTy</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::FixedVectorType" title='llvm::FixedVectorType' data-ref="llvm::FixedVectorType" data-ref-filename="llvm..FixedVectorType">FixedVectorType</a>&gt;(<a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="1632">1632</th><td>  <b>if</b> (<a class="local col3 ref" href="#313InstVTy" title='InstVTy' data-ref="313InstVTy" data-ref-filename="313InstVTy">InstVTy</a> &amp;&amp;</td></tr>
<tr><th id="1633">1633</th><td>      <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(&amp;<a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>,</td></tr>
<tr><th id="1634">1634</th><td>            <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch9m_c_BinOpERKT_RKT0_" title='llvm::PatternMatch::m_c_BinOp' data-ref="_ZN4llvm12PatternMatch9m_c_BinOpERKT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch9m_c_BinOpERKT_RKT0_">m_c_BinOp</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch8m_OneUseERKT_" title='llvm::PatternMatch::m_OneUse' data-ref="_ZN4llvm12PatternMatch8m_OneUseERKT_" data-ref-filename="_ZN4llvm12PatternMatch8m_OneUseERKT_">m_OneUse</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" title='llvm::PatternMatch::m_Shuffle' data-ref="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" data-ref-filename="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_">m_Shuffle</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col7 ref" href="#307V1" title='V1' data-ref="307V1" data-ref-filename="307V1">V1</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_UndefEv" title='llvm::PatternMatch::m_Undef' data-ref="_ZN4llvm12PatternMatch7m_UndefEv" data-ref-filename="_ZN4llvm12PatternMatch7m_UndefEv">m_Undef</a>(), <a class="type" href="../../../include/llvm/IR/PatternMatch.h.html#llvm::PatternMatch::m_Mask" title='llvm::PatternMatch::m_Mask' data-ref="llvm::PatternMatch::m_Mask" data-ref-filename="llvm..PatternMatch..m_Mask">m_Mask</a><a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE" title='llvm::PatternMatch::m_Mask::m_Mask' data-ref="_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE" data-ref-filename="_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE">(</a><a class="local col6 ref" href="#296Mask" title='Mask' data-ref="296Mask" data-ref-filename="296Mask">Mask</a>))),</td></tr>
<tr><th id="1635">1635</th><td>                      <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch13m_ImmConstantERPNS_8ConstantE" title='llvm::PatternMatch::m_ImmConstant' data-ref="_ZN4llvm12PatternMatch13m_ImmConstantERPNS_8ConstantE" data-ref-filename="_ZN4llvm12PatternMatch13m_ImmConstantERPNS_8ConstantE">m_ImmConstant</a>(<span class='refarg'><a class="local col2 ref" href="#312C" title='C' data-ref="312C" data-ref-filename="312C">C</a></span>))) &amp;&amp;</td></tr>
<tr><th id="1636">1636</th><td>      <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::FixedVectorType" title='llvm::FixedVectorType' data-ref="llvm::FixedVectorType" data-ref-filename="llvm..FixedVectorType">FixedVectorType</a>&gt;(<a class="local col7 ref" href="#307V1" title='V1' data-ref="307V1" data-ref-filename="307V1">V1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>())-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm15FixedVectorType14getNumElementsEv" title='llvm::FixedVectorType::getNumElements' data-ref="_ZNK4llvm15FixedVectorType14getNumElementsEv" data-ref-filename="_ZNK4llvm15FixedVectorType14getNumElementsEv">getNumElements</a>() &lt;=</td></tr>
<tr><th id="1637">1637</th><td>          <a class="local col3 ref" href="#313InstVTy" title='InstVTy' data-ref="313InstVTy" data-ref-filename="313InstVTy">InstVTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm15FixedVectorType14getNumElementsEv" title='llvm::FixedVectorType::getNumElements' data-ref="_ZNK4llvm15FixedVectorType14getNumElementsEv" data-ref-filename="_ZNK4llvm15FixedVectorType14getNumElementsEv">getNumElements</a>()) {</td></tr>
<tr><th id="1638">1638</th><td>    <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(InstVTy-&gt;getScalarType() == V1-&gt;getType()-&gt;getScalarType() &amp;&amp;</td></tr>
<tr><th id="1639">1639</th><td>           <q>"Shuffle should not change scalar type"</q>);</td></tr>
<tr><th id="1640">1640</th><td></td></tr>
<tr><th id="1641">1641</th><td>    <i>// Find constant NewC that has property:</i></td></tr>
<tr><th id="1642">1642</th><td><i>    //   shuffle(NewC, ShMask) = C</i></td></tr>
<tr><th id="1643">1643</th><td><i>    // If such constant does not exist (example: ShMask=&lt;0,0&gt; and C=&lt;1,2&gt;)</i></td></tr>
<tr><th id="1644">1644</th><td><i>    // reorder is not possible. A 1-to-1 mapping is not required. Example:</i></td></tr>
<tr><th id="1645">1645</th><td><i>    // ShMask = &lt;1,1,2,2&gt; and C = &lt;5,5,6,6&gt; --&gt; NewC = &lt;undef,5,6,undef&gt;</i></td></tr>
<tr><th id="1646">1646</th><td>    <em>bool</em> <dfn class="local col4 decl" id="314ConstOp1" title='ConstOp1' data-type='bool' data-ref="314ConstOp1" data-ref-filename="314ConstOp1">ConstOp1</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col1 ref" href="#291RHS" title='RHS' data-ref="291RHS" data-ref-filename="291RHS">RHS</a>);</td></tr>
<tr><th id="1647">1647</th><td>    <a class="type" href="../../../include/llvm/ADT/ArrayRef.h.html#llvm::ArrayRef" title='llvm::ArrayRef' data-ref="llvm::ArrayRef" data-ref-filename="llvm..ArrayRef">ArrayRef</a>&lt;<em>int</em>&gt; <dfn class="local col5 decl" id="315ShMask" title='ShMask' data-type='ArrayRef&lt;int&gt;' data-ref="315ShMask" data-ref-filename="315ShMask">ShMask</dfn> = <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#41" title='llvm::ArrayRef&lt;int&gt;::ArrayRef' data-ref="_ZN4llvm8ArrayRefIiEC1ERKS1_" data-ref-filename="_ZN4llvm8ArrayRefIiEC1ERKS1_"></a><a class="local col6 ref" href="#296Mask" title='Mask' data-ref="296Mask" data-ref-filename="296Mask">Mask</a>;</td></tr>
<tr><th id="1648">1648</th><td>    <em>unsigned</em> <dfn class="local col6 decl" id="316SrcVecNumElts" title='SrcVecNumElts' data-type='unsigned int' data-ref="316SrcVecNumElts" data-ref-filename="316SrcVecNumElts">SrcVecNumElts</dfn> =</td></tr>
<tr><th id="1649">1649</th><td>        <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::FixedVectorType" title='llvm::FixedVectorType' data-ref="llvm::FixedVectorType" data-ref-filename="llvm..FixedVectorType">FixedVectorType</a>&gt;(<a class="local col7 ref" href="#307V1" title='V1' data-ref="307V1" data-ref-filename="307V1">V1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>())-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm15FixedVectorType14getNumElementsEv" title='llvm::FixedVectorType::getNumElements' data-ref="_ZNK4llvm15FixedVectorType14getNumElementsEv" data-ref-filename="_ZNK4llvm15FixedVectorType14getNumElementsEv">getNumElements</a>();</td></tr>
<tr><th id="1650">1650</th><td>    <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a> *<dfn class="local col7 decl" id="317UndefScalar" title='UndefScalar' data-type='llvm::UndefValue *' data-ref="317UndefScalar" data-ref-filename="317UndefScalar">UndefScalar</dfn> = <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm10UndefValue3getEPNS_4TypeE" title='llvm::UndefValue::get' data-ref="_ZN4llvm10UndefValue3getEPNS_4TypeE" data-ref-filename="_ZN4llvm10UndefValue3getEPNS_4TypeE">get</a>(<a class="local col2 ref" href="#312C" title='C' data-ref="312C" data-ref-filename="312C">C</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type13getScalarTypeEv" title='llvm::Type::getScalarType' data-ref="_ZNK4llvm4Type13getScalarTypeEv" data-ref-filename="_ZNK4llvm4Type13getScalarTypeEv">getScalarType</a>());</td></tr>
<tr><th id="1651">1651</th><td>    <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *, <var>16</var>&gt; <dfn class="local col8 decl" id="318NewVecC" title='NewVecC' data-type='SmallVector&lt;llvm::Constant *, 16&gt;' data-ref="318NewVecC" data-ref-filename="318NewVecC">NewVecC</dfn><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1EmRKT_" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1EmRKT_" data-ref-filename="_ZN4llvm11SmallVectorC1EmRKT_">(</a><a class="local col6 ref" href="#316SrcVecNumElts" title='SrcVecNumElts' data-ref="316SrcVecNumElts" data-ref-filename="316SrcVecNumElts">SrcVecNumElts</a>, <a class="local col7 ref" href="#317UndefScalar" title='UndefScalar' data-ref="317UndefScalar" data-ref-filename="317UndefScalar">UndefScalar</a>);</td></tr>
<tr><th id="1652">1652</th><td>    <em>bool</em> <dfn class="local col9 decl" id="319MayChange" title='MayChange' data-type='bool' data-ref="319MayChange" data-ref-filename="319MayChange">MayChange</dfn> = <b>true</b>;</td></tr>
<tr><th id="1653">1653</th><td>    <em>unsigned</em> <dfn class="local col0 decl" id="320NumElts" title='NumElts' data-type='unsigned int' data-ref="320NumElts" data-ref-filename="320NumElts">NumElts</dfn> = <a class="local col3 ref" href="#313InstVTy" title='InstVTy' data-ref="313InstVTy" data-ref-filename="313InstVTy">InstVTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm15FixedVectorType14getNumElementsEv" title='llvm::FixedVectorType::getNumElements' data-ref="_ZNK4llvm15FixedVectorType14getNumElementsEv" data-ref-filename="_ZNK4llvm15FixedVectorType14getNumElementsEv">getNumElements</a>();</td></tr>
<tr><th id="1654">1654</th><td>    <b>for</b> (<em>unsigned</em> <dfn class="local col1 decl" id="321I" title='I' data-type='unsigned int' data-ref="321I" data-ref-filename="321I">I</dfn> = <var>0</var>; <a class="local col1 ref" href="#321I" title='I' data-ref="321I" data-ref-filename="321I">I</a> &lt; <a class="local col0 ref" href="#320NumElts" title='NumElts' data-ref="320NumElts" data-ref-filename="320NumElts">NumElts</a>; ++<a class="local col1 ref" href="#321I" title='I' data-ref="321I" data-ref-filename="321I">I</a>) {</td></tr>
<tr><th id="1655">1655</th><td>      <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col2 decl" id="322CElt" title='CElt' data-type='llvm::Constant *' data-ref="322CElt" data-ref-filename="322CElt">CElt</dfn> = <a class="local col2 ref" href="#312C" title='C' data-ref="312C" data-ref-filename="312C">C</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZNK4llvm8Constant19getAggregateElementEj" title='llvm::Constant::getAggregateElement' data-ref="_ZNK4llvm8Constant19getAggregateElementEj" data-ref-filename="_ZNK4llvm8Constant19getAggregateElementEj">getAggregateElement</a>(<a class="local col1 ref" href="#321I" title='I' data-ref="321I" data-ref-filename="321I">I</a>);</td></tr>
<tr><th id="1656">1656</th><td>      <b>if</b> (<a class="local col5 ref" href="#315ShMask" title='ShMask' data-ref="315ShMask" data-ref-filename="315ShMask">ShMask</a><a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRefixEm" title='llvm::ArrayRef::operator[]' data-ref="_ZNK4llvm8ArrayRefixEm" data-ref-filename="_ZNK4llvm8ArrayRefixEm">[<a class="local col1 ref" href="#321I" title='I' data-ref="321I" data-ref-filename="321I">I</a>]</a> &gt;= <var>0</var>) {</td></tr>
<tr><th id="1657">1657</th><td>        <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(ShMask[I] &lt; (<em>int</em>)NumElts &amp;&amp; <q>"Not expecting narrowing shuffle"</q>);</td></tr>
<tr><th id="1658">1658</th><td>        <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col3 decl" id="323NewCElt" title='NewCElt' data-type='llvm::Constant *' data-ref="323NewCElt" data-ref-filename="323NewCElt">NewCElt</dfn> = <a class="local col8 ref" href="#318NewVecC" title='NewVecC' data-ref="318NewVecC" data-ref-filename="318NewVecC">NewVecC</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col5 ref" href="#315ShMask" title='ShMask' data-ref="315ShMask" data-ref-filename="315ShMask">ShMask</a><a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRefixEm" title='llvm::ArrayRef::operator[]' data-ref="_ZNK4llvm8ArrayRefixEm" data-ref-filename="_ZNK4llvm8ArrayRefixEm">[<a class="local col1 ref" href="#321I" title='I' data-ref="321I" data-ref-filename="321I">I</a>]</a>]</a>;</td></tr>
<tr><th id="1659">1659</th><td>        <i>// Bail out if:</i></td></tr>
<tr><th id="1660">1660</th><td><i>        // 1. The constant vector contains a constant expression.</i></td></tr>
<tr><th id="1661">1661</th><td><i>        // 2. The shuffle needs an element of the constant vector that can't</i></td></tr>
<tr><th id="1662">1662</th><td><i>        //    be mapped to a new constant vector.</i></td></tr>
<tr><th id="1663">1663</th><td><i>        // 3. This is a widening shuffle that copies elements of V1 into the</i></td></tr>
<tr><th id="1664">1664</th><td><i>        //    extended elements (extending with undef is allowed).</i></td></tr>
<tr><th id="1665">1665</th><td>        <b>if</b> (!<a class="local col2 ref" href="#322CElt" title='CElt' data-ref="322CElt" data-ref-filename="322CElt">CElt</a> || (!<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a>&gt;(<a class="local col3 ref" href="#323NewCElt" title='NewCElt' data-ref="323NewCElt" data-ref-filename="323NewCElt">NewCElt</a>) &amp;&amp; <a class="local col3 ref" href="#323NewCElt" title='NewCElt' data-ref="323NewCElt" data-ref-filename="323NewCElt">NewCElt</a> != <a class="local col2 ref" href="#322CElt" title='CElt' data-ref="322CElt" data-ref-filename="322CElt">CElt</a>) ||</td></tr>
<tr><th id="1666">1666</th><td>            <a class="local col1 ref" href="#321I" title='I' data-ref="321I" data-ref-filename="321I">I</a> &gt;= <a class="local col6 ref" href="#316SrcVecNumElts" title='SrcVecNumElts' data-ref="316SrcVecNumElts" data-ref-filename="316SrcVecNumElts">SrcVecNumElts</a>) {</td></tr>
<tr><th id="1667">1667</th><td>          <a class="local col9 ref" href="#319MayChange" title='MayChange' data-ref="319MayChange" data-ref-filename="319MayChange">MayChange</a> = <b>false</b>;</td></tr>
<tr><th id="1668">1668</th><td>          <b>break</b>;</td></tr>
<tr><th id="1669">1669</th><td>        }</td></tr>
<tr><th id="1670">1670</th><td>        <a class="local col8 ref" href="#318NewVecC" title='NewVecC' data-ref="318NewVecC" data-ref-filename="318NewVecC">NewVecC</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col5 ref" href="#315ShMask" title='ShMask' data-ref="315ShMask" data-ref-filename="315ShMask">ShMask</a><a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRefixEm" title='llvm::ArrayRef::operator[]' data-ref="_ZNK4llvm8ArrayRefixEm" data-ref-filename="_ZNK4llvm8ArrayRefixEm">[<a class="local col1 ref" href="#321I" title='I' data-ref="321I" data-ref-filename="321I">I</a>]</a>]</a> = <a class="local col2 ref" href="#322CElt" title='CElt' data-ref="322CElt" data-ref-filename="322CElt">CElt</a>;</td></tr>
<tr><th id="1671">1671</th><td>      }</td></tr>
<tr><th id="1672">1672</th><td>      <i>// If this is a widening shuffle, we must be able to extend with undef</i></td></tr>
<tr><th id="1673">1673</th><td><i>      // elements. If the original binop does not produce an undef in the high</i></td></tr>
<tr><th id="1674">1674</th><td><i>      // lanes, then this transform is not safe.</i></td></tr>
<tr><th id="1675">1675</th><td><i>      // Similarly for undef lanes due to the shuffle mask, we can only</i></td></tr>
<tr><th id="1676">1676</th><td><i>      // transform binops that preserve undef.</i></td></tr>
<tr><th id="1677">1677</th><td><i>      // TODO: We could shuffle those non-undef constant values into the</i></td></tr>
<tr><th id="1678">1678</th><td><i>      //       result by using a constant vector (rather than an undef vector)</i></td></tr>
<tr><th id="1679">1679</th><td><i>      //       as operand 1 of the new binop, but that might be too aggressive</i></td></tr>
<tr><th id="1680">1680</th><td><i>      //       for target-independent shuffle creation.</i></td></tr>
<tr><th id="1681">1681</th><td>      <b>if</b> (<a class="local col1 ref" href="#321I" title='I' data-ref="321I" data-ref-filename="321I">I</a> &gt;= <a class="local col6 ref" href="#316SrcVecNumElts" title='SrcVecNumElts' data-ref="316SrcVecNumElts" data-ref-filename="316SrcVecNumElts">SrcVecNumElts</a> || <a class="local col5 ref" href="#315ShMask" title='ShMask' data-ref="315ShMask" data-ref-filename="315ShMask">ShMask</a><a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRefixEm" title='llvm::ArrayRef::operator[]' data-ref="_ZNK4llvm8ArrayRefixEm" data-ref-filename="_ZNK4llvm8ArrayRefixEm">[<a class="local col1 ref" href="#321I" title='I' data-ref="321I" data-ref-filename="321I">I</a>]</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="1682">1682</th><td>        <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col4 decl" id="324MaybeUndef" title='MaybeUndef' data-type='llvm::Constant *' data-ref="324MaybeUndef" data-ref-filename="324MaybeUndef">MaybeUndef</dfn> =</td></tr>
<tr><th id="1683">1683</th><td>            <a class="local col4 ref" href="#314ConstOp1" title='ConstOp1' data-ref="314ConstOp1" data-ref-filename="314ConstOp1">ConstOp1</a> ? <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" title='llvm::ConstantExpr::get' data-ref="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" data-ref-filename="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE">get</a>(<a class="local col9 ref" href="#289Opcode" title='Opcode' data-ref="289Opcode" data-ref-filename="289Opcode">Opcode</a>, <a class="local col7 ref" href="#317UndefScalar" title='UndefScalar' data-ref="317UndefScalar" data-ref-filename="317UndefScalar">UndefScalar</a>, <a class="local col2 ref" href="#322CElt" title='CElt' data-ref="322CElt" data-ref-filename="322CElt">CElt</a>)</td></tr>
<tr><th id="1684">1684</th><td>                     : <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" title='llvm::ConstantExpr::get' data-ref="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE" data-ref-filename="_ZN4llvm12ConstantExpr3getEjPNS_8ConstantES2_jPNS_4TypeE">get</a>(<a class="local col9 ref" href="#289Opcode" title='Opcode' data-ref="289Opcode" data-ref-filename="289Opcode">Opcode</a>, <a class="local col2 ref" href="#322CElt" title='CElt' data-ref="322CElt" data-ref-filename="322CElt">CElt</a>, <a class="local col7 ref" href="#317UndefScalar" title='UndefScalar' data-ref="317UndefScalar" data-ref-filename="317UndefScalar">UndefScalar</a>);</td></tr>
<tr><th id="1685">1685</th><td>        <b>if</b> (!<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a>&gt;(<a class="local col4 ref" href="#324MaybeUndef" title='MaybeUndef' data-ref="324MaybeUndef" data-ref-filename="324MaybeUndef">MaybeUndef</a>)) {</td></tr>
<tr><th id="1686">1686</th><td>          <a class="local col9 ref" href="#319MayChange" title='MayChange' data-ref="319MayChange" data-ref-filename="319MayChange">MayChange</a> = <b>false</b>;</td></tr>
<tr><th id="1687">1687</th><td>          <b>break</b>;</td></tr>
<tr><th id="1688">1688</th><td>        }</td></tr>
<tr><th id="1689">1689</th><td>      }</td></tr>
<tr><th id="1690">1690</th><td>    }</td></tr>
<tr><th id="1691">1691</th><td>    <b>if</b> (<a class="local col9 ref" href="#319MayChange" title='MayChange' data-ref="319MayChange" data-ref-filename="319MayChange">MayChange</a>) {</td></tr>
<tr><th id="1692">1692</th><td>      <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col5 decl" id="325NewC" title='NewC' data-type='llvm::Constant *' data-ref="325NewC" data-ref-filename="325NewC">NewC</dfn> = <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantVector" title='llvm::ConstantVector' data-ref="llvm::ConstantVector" data-ref-filename="llvm..ConstantVector">ConstantVector</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm14ConstantVector3getENS_8ArrayRefIPNS_8ConstantEEE" title='llvm::ConstantVector::get' data-ref="_ZN4llvm14ConstantVector3getENS_8ArrayRefIPNS_8ConstantEEE" data-ref-filename="_ZN4llvm14ConstantVector3getENS_8ArrayRefIPNS_8ConstantEEE">get</a>(<a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col8 ref" href="#318NewVecC" title='NewVecC' data-ref="318NewVecC" data-ref-filename="318NewVecC">NewVecC</a>);</td></tr>
<tr><th id="1693">1693</th><td>      <i>// It may not be safe to execute a binop on a vector with undef elements</i></td></tr>
<tr><th id="1694">1694</th><td><i>      // because the entire instruction can be folded to undef or create poison</i></td></tr>
<tr><th id="1695">1695</th><td><i>      // that did not exist in the original code.</i></td></tr>
<tr><th id="1696">1696</th><td>      <b>if</b> (<a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction11isIntDivRemEv" title='llvm::Instruction::isIntDivRem' data-ref="_ZNK4llvm11Instruction11isIntDivRemEv" data-ref-filename="_ZNK4llvm11Instruction11isIntDivRemEv">isIntDivRem</a>() || (<a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction7isShiftEv" title='llvm::Instruction::isShift' data-ref="_ZNK4llvm11Instruction7isShiftEv" data-ref-filename="_ZNK4llvm11Instruction7isShiftEv">isShift</a>() &amp;&amp; <a class="local col4 ref" href="#314ConstOp1" title='ConstOp1' data-ref="314ConstOp1" data-ref-filename="314ConstOp1">ConstOp1</a>))</td></tr>
<tr><th id="1697">1697</th><td>        <a class="local col5 ref" href="#325NewC" title='NewC' data-ref="325NewC" data-ref-filename="325NewC">NewC</a> = <a class="member fn" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#_ZN4llvm12InstCombiner29getSafeVectorConstantForBinopENS_11Instruction9BinaryOpsEPNS_8ConstantEb" title='llvm::InstCombiner::getSafeVectorConstantForBinop' data-ref="_ZN4llvm12InstCombiner29getSafeVectorConstantForBinopENS_11Instruction9BinaryOpsEPNS_8ConstantEb" data-ref-filename="_ZN4llvm12InstCombiner29getSafeVectorConstantForBinopENS_11Instruction9BinaryOpsEPNS_8ConstantEb">getSafeVectorConstantForBinop</a>(<a class="local col9 ref" href="#289Opcode" title='Opcode' data-ref="289Opcode" data-ref-filename="289Opcode">Opcode</a>, <a class="local col5 ref" href="#325NewC" title='NewC' data-ref="325NewC" data-ref-filename="325NewC">NewC</a>, <a class="local col4 ref" href="#314ConstOp1" title='ConstOp1' data-ref="314ConstOp1" data-ref-filename="314ConstOp1">ConstOp1</a>);</td></tr>
<tr><th id="1698">1698</th><td></td></tr>
<tr><th id="1699">1699</th><td>      <i>// Op(shuffle(V1, Mask), C) -&gt; shuffle(Op(V1, NewC), Mask)</i></td></tr>
<tr><th id="1700">1700</th><td><i>      // Op(C, shuffle(V1, Mask)) -&gt; shuffle(Op(NewC, V1), Mask)</i></td></tr>
<tr><th id="1701">1701</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="326NewLHS" title='NewLHS' data-type='llvm::Value *' data-ref="326NewLHS" data-ref-filename="326NewLHS">NewLHS</dfn> = <a class="local col4 ref" href="#314ConstOp1" title='ConstOp1' data-ref="314ConstOp1" data-ref-filename="314ConstOp1">ConstOp1</a> ? <a class="local col7 ref" href="#307V1" title='V1' data-ref="307V1" data-ref-filename="307V1">V1</a> : <a class="local col5 ref" href="#325NewC" title='NewC' data-ref="325NewC" data-ref-filename="325NewC">NewC</a>;</td></tr>
<tr><th id="1702">1702</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="327NewRHS" title='NewRHS' data-type='llvm::Value *' data-ref="327NewRHS" data-ref-filename="327NewRHS">NewRHS</dfn> = <a class="local col4 ref" href="#314ConstOp1" title='ConstOp1' data-ref="314ConstOp1" data-ref-filename="314ConstOp1">ConstOp1</a> ? <a class="local col5 ref" href="#325NewC" title='NewC' data-ref="325NewC" data-ref-filename="325NewC">NewC</a> : <a class="local col7 ref" href="#307V1" title='V1' data-ref="307V1" data-ref-filename="307V1">V1</a>;</td></tr>
<tr><th id="1703">1703</th><td>      <b>return</b> <a class="local col1 ref" href="#301createBinOpShuffle" title='createBinOpShuffle' data-ref="301createBinOpShuffle" data-ref-filename="301createBinOpShuffle">createBinOpShuffle</a><a class="tu ref fn" href="#_ZZN4llvm16InstCombinerImpl15foldVectorBinopERNS_14BinaryOperatorEENK3$_1clEPNS_5ValueES5_NS_8ArrayRefIiEE" title='llvm::InstCombinerImpl::foldVectorBinop(llvm::BinaryOperator &amp;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN4llvm16InstCombinerImpl15foldVectorBinopERNS_14BinaryOperatorEENK3$_1clEPNS_5ValueES5_NS_8ArrayRefIiEE" data-ref-filename="_ZZN4llvm16InstCombinerImpl15foldVectorBinopERNS_14BinaryOperatorEENK3$_1clEPNS_5ValueES5_NS_8ArrayRefIiEE">(<a class="local col6 ref" href="#326NewLHS" title='NewLHS' data-ref="326NewLHS" data-ref-filename="326NewLHS">NewLHS</a>, <a class="local col7 ref" href="#327NewRHS" title='NewRHS' data-ref="327NewRHS" data-ref-filename="327NewRHS">NewRHS</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#41" title='llvm::ArrayRef&lt;int&gt;::ArrayRef' data-ref="_ZN4llvm8ArrayRefIiEC1ERKS1_" data-ref-filename="_ZN4llvm8ArrayRefIiEC1ERKS1_"></a><a class="local col6 ref" href="#296Mask" title='Mask' data-ref="296Mask" data-ref-filename="296Mask">Mask</a>)</a>;</td></tr>
<tr><th id="1704">1704</th><td>    }</td></tr>
<tr><th id="1705">1705</th><td>  }</td></tr>
<tr><th id="1706">1706</th><td></td></tr>
<tr><th id="1707">1707</th><td>  <i>// Try to reassociate to sink a splat shuffle after a binary operation.</i></td></tr>
<tr><th id="1708">1708</th><td>  <b>if</b> (<a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction13isAssociativeEv" title='llvm::Instruction::isAssociative' data-ref="_ZNK4llvm11Instruction13isAssociativeEv" data-ref-filename="_ZNK4llvm11Instruction13isAssociativeEv">isAssociative</a>() &amp;&amp; <a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction13isCommutativeEv" title='llvm::Instruction::isCommutative' data-ref="_ZNK4llvm11Instruction13isCommutativeEv" data-ref-filename="_ZNK4llvm11Instruction13isCommutativeEv">isCommutative</a>()) {</td></tr>
<tr><th id="1709">1709</th><td>    <i>// Canonicalize shuffle operand as LHS.</i></td></tr>
<tr><th id="1710">1710</th><td>    <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ShuffleVectorInst" title='llvm::ShuffleVectorInst' data-ref="llvm::ShuffleVectorInst" data-ref-filename="llvm..ShuffleVectorInst">ShuffleVectorInst</a>&gt;(<a class="local col1 ref" href="#291RHS" title='RHS' data-ref="291RHS" data-ref-filename="291RHS">RHS</a>))</td></tr>
<tr><th id="1711">1711</th><td>      <span class="namespace">std::</span><span class='ref fn' title='std::swap' data-ref="_ZSt4swapRT_S0_" data-ref-filename="_ZSt4swapRT_S0_">swap</span>(<span class='refarg'><a class="local col0 ref" href="#290LHS" title='LHS' data-ref="290LHS" data-ref-filename="290LHS">LHS</a></span>, <span class='refarg'><a class="local col1 ref" href="#291RHS" title='RHS' data-ref="291RHS" data-ref-filename="291RHS">RHS</a></span>);</td></tr>
<tr><th id="1712">1712</th><td></td></tr>
<tr><th id="1713">1713</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="328X" title='X' data-type='llvm::Value *' data-ref="328X" data-ref-filename="328X">X</dfn>;</td></tr>
<tr><th id="1714">1714</th><td>    <a class="type" href="../../../include/llvm/ADT/ArrayRef.h.html#llvm::ArrayRef" title='llvm::ArrayRef' data-ref="llvm::ArrayRef" data-ref-filename="llvm..ArrayRef">ArrayRef</a>&lt;<em>int</em>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1Ev" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1Ev" data-ref-filename="_ZN4llvm8ArrayRefC1Ev"></a><dfn class="local col9 decl" id="329MaskC" title='MaskC' data-type='ArrayRef&lt;int&gt;' data-ref="329MaskC" data-ref-filename="329MaskC">MaskC</dfn>;</td></tr>
<tr><th id="1715">1715</th><td>    <em>int</em> <dfn class="local col0 decl" id="330SplatIndex" title='SplatIndex' data-type='int' data-ref="330SplatIndex" data-ref-filename="330SplatIndex">SplatIndex</dfn>;</td></tr>
<tr><th id="1716">1716</th><td>    <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> *<dfn class="local col1 decl" id="331BO" title='BO' data-type='llvm::BinaryOperator *' data-ref="331BO" data-ref-filename="331BO">BO</dfn>;</td></tr>
<tr><th id="1717">1717</th><td>    <b>if</b> (!<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col0 ref" href="#290LHS" title='LHS' data-ref="290LHS" data-ref-filename="290LHS">LHS</a>,</td></tr>
<tr><th id="1718">1718</th><td>               <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch8m_OneUseERKT_" title='llvm::PatternMatch::m_OneUse' data-ref="_ZN4llvm12PatternMatch8m_OneUseERKT_" data-ref-filename="_ZN4llvm12PatternMatch8m_OneUseERKT_">m_OneUse</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" title='llvm::PatternMatch::m_Shuffle' data-ref="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_" data-ref-filename="_ZN4llvm12PatternMatch9m_ShuffleERKT_RKT0_RKT1_">m_Shuffle</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col8 ref" href="#328X" title='X' data-ref="328X" data-ref-filename="328X">X</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_UndefEv" title='llvm::PatternMatch::m_Undef' data-ref="_ZN4llvm12PatternMatch7m_UndefEv" data-ref-filename="_ZN4llvm12PatternMatch7m_UndefEv">m_Undef</a>(), <a class="type" href="../../../include/llvm/IR/PatternMatch.h.html#llvm::PatternMatch::m_Mask" title='llvm::PatternMatch::m_Mask' data-ref="llvm::PatternMatch::m_Mask" data-ref-filename="llvm..PatternMatch..m_Mask">m_Mask</a><a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE" title='llvm::PatternMatch::m_Mask::m_Mask' data-ref="_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE" data-ref-filename="_ZN4llvm12PatternMatch6m_MaskC1ERNS_8ArrayRefIiEE">(</a><a class="local col9 ref" href="#329MaskC" title='MaskC' data-ref="329MaskC" data-ref-filename="329MaskC">MaskC</a>)))) ||</td></tr>
<tr><th id="1719">1719</th><td>        !<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchENS_8ArrayRefIiEERKT_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchENS_8ArrayRefIiEERKT_" data-ref-filename="_ZN4llvm12PatternMatch5matchENS_8ArrayRefIiEERKT_">match</a>(<a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#41" title='llvm::ArrayRef&lt;int&gt;::ArrayRef' data-ref="_ZN4llvm8ArrayRefIiEC1ERKS1_" data-ref-filename="_ZN4llvm8ArrayRefIiEC1ERKS1_"></a><a class="local col9 ref" href="#329MaskC" title='MaskC' data-ref="329MaskC" data-ref-filename="329MaskC">MaskC</a>, <a class="type" href="../../../include/llvm/IR/PatternMatch.h.html#llvm::PatternMatch::m_SplatOrUndefMask" title='llvm::PatternMatch::m_SplatOrUndefMask' data-ref="llvm::PatternMatch::m_SplatOrUndefMask" data-ref-filename="llvm..PatternMatch..m_SplatOrUndefMask">m_SplatOrUndefMask</a><a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch18m_SplatOrUndefMaskC1ERi" title='llvm::PatternMatch::m_SplatOrUndefMask::m_SplatOrUndefMask' data-ref="_ZN4llvm12PatternMatch18m_SplatOrUndefMaskC1ERi" data-ref-filename="_ZN4llvm12PatternMatch18m_SplatOrUndefMaskC1ERi">(</a><a class="local col0 ref" href="#330SplatIndex" title='SplatIndex' data-ref="330SplatIndex" data-ref-filename="330SplatIndex">SplatIndex</a>)) ||</td></tr>
<tr><th id="1720">1720</th><td>        <a class="local col8 ref" href="#328X" title='X' data-ref="328X" data-ref-filename="328X">X</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>() != <a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>() || !<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col1 ref" href="#291RHS" title='RHS' data-ref="291RHS" data-ref-filename="291RHS">RHS</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch8m_OneUseERKT_" title='llvm::PatternMatch::m_OneUse' data-ref="_ZN4llvm12PatternMatch8m_OneUseERKT_" data-ref-filename="_ZN4llvm12PatternMatch8m_OneUseERKT_">m_OneUse</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_BinOpERPNS_14BinaryOperatorE" title='llvm::PatternMatch::m_BinOp' data-ref="_ZN4llvm12PatternMatch7m_BinOpERPNS_14BinaryOperatorE" data-ref-filename="_ZN4llvm12PatternMatch7m_BinOpERPNS_14BinaryOperatorE">m_BinOp</a>(<span class='refarg'><a class="local col1 ref" href="#331BO" title='BO' data-ref="331BO" data-ref-filename="331BO">BO</a></span>))) ||</td></tr>
<tr><th id="1721">1721</th><td>        <a class="local col1 ref" href="#331BO" title='BO' data-ref="331BO" data-ref-filename="331BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>() != <a class="local col9 ref" href="#289Opcode" title='Opcode' data-ref="289Opcode" data-ref-filename="289Opcode">Opcode</a>)</td></tr>
<tr><th id="1722">1722</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1723">1723</th><td></td></tr>
<tr><th id="1724">1724</th><td>    <i>// FIXME: This may not be safe if the analysis allows undef elements. By</i></td></tr>
<tr><th id="1725">1725</th><td><i>    //        moving 'Y' before the splat shuffle, we are implicitly assuming</i></td></tr>
<tr><th id="1726">1726</th><td><i>    //        that it is not undef/poison at the splat index.</i></td></tr>
<tr><th id="1727">1727</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="332Y" title='Y' data-type='llvm::Value *' data-ref="332Y" data-ref-filename="332Y">Y</dfn>, *<dfn class="local col3 decl" id="333OtherOp" title='OtherOp' data-type='llvm::Value *' data-ref="333OtherOp" data-ref-filename="333OtherOp">OtherOp</dfn>;</td></tr>
<tr><th id="1728">1728</th><td>    <b>if</b> (<a class="ref fn" href="../../../include/llvm/Analysis/VectorUtils.h.html#_ZN4llvm12isSplatValueEPKNS_5ValueEij" title='llvm::isSplatValue' data-ref="_ZN4llvm12isSplatValueEPKNS_5ValueEij" data-ref-filename="_ZN4llvm12isSplatValueEPKNS_5ValueEij">isSplatValue</a>(<a class="local col1 ref" href="#331BO" title='BO' data-ref="331BO" data-ref-filename="331BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>), <a class="local col0 ref" href="#330SplatIndex" title='SplatIndex' data-ref="330SplatIndex" data-ref-filename="330SplatIndex">SplatIndex</a>)) {</td></tr>
<tr><th id="1729">1729</th><td>      <a class="local col2 ref" href="#332Y" title='Y' data-ref="332Y" data-ref-filename="332Y">Y</a> = <a class="local col1 ref" href="#331BO" title='BO' data-ref="331BO" data-ref-filename="331BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="1730">1730</th><td>      <a class="local col3 ref" href="#333OtherOp" title='OtherOp' data-ref="333OtherOp" data-ref-filename="333OtherOp">OtherOp</a> = <a class="local col1 ref" href="#331BO" title='BO' data-ref="331BO" data-ref-filename="331BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="1731">1731</th><td>    } <b>else</b> <b>if</b> (<a class="ref fn" href="../../../include/llvm/Analysis/VectorUtils.h.html#_ZN4llvm12isSplatValueEPKNS_5ValueEij" title='llvm::isSplatValue' data-ref="_ZN4llvm12isSplatValueEPKNS_5ValueEij" data-ref-filename="_ZN4llvm12isSplatValueEPKNS_5ValueEij">isSplatValue</a>(<a class="local col1 ref" href="#331BO" title='BO' data-ref="331BO" data-ref-filename="331BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>), <a class="local col0 ref" href="#330SplatIndex" title='SplatIndex' data-ref="330SplatIndex" data-ref-filename="330SplatIndex">SplatIndex</a>)) {</td></tr>
<tr><th id="1732">1732</th><td>      <a class="local col2 ref" href="#332Y" title='Y' data-ref="332Y" data-ref-filename="332Y">Y</a> = <a class="local col1 ref" href="#331BO" title='BO' data-ref="331BO" data-ref-filename="331BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="1733">1733</th><td>      <a class="local col3 ref" href="#333OtherOp" title='OtherOp' data-ref="333OtherOp" data-ref-filename="333OtherOp">OtherOp</a> = <a class="local col1 ref" href="#331BO" title='BO' data-ref="331BO" data-ref-filename="331BO">BO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="1734">1734</th><td>    } <b>else</b> {</td></tr>
<tr><th id="1735">1735</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1736">1736</th><td>    }</td></tr>
<tr><th id="1737">1737</th><td></td></tr>
<tr><th id="1738">1738</th><td>    <i>// X and Y are splatted values, so perform the binary operation on those</i></td></tr>
<tr><th id="1739">1739</th><td><i>    // values followed by a splat followed by the 2nd binary operation:</i></td></tr>
<tr><th id="1740">1740</th><td><i>    // bo (splat X), (bo Y, OtherOp) --&gt; bo (splat (bo X, Y)), OtherOp</i></td></tr>
<tr><th id="1741">1741</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="334NewBO" title='NewBO' data-type='llvm::Value *' data-ref="334NewBO" data-ref-filename="334NewBO">NewBO</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col9 ref" href="#289Opcode" title='Opcode' data-ref="289Opcode" data-ref-filename="289Opcode">Opcode</a>, <a class="local col8 ref" href="#328X" title='X' data-ref="328X" data-ref-filename="328X">X</a>, <a class="local col2 ref" href="#332Y" title='Y' data-ref="332Y" data-ref-filename="332Y">Y</a>);</td></tr>
<tr><th id="1742">1742</th><td>    <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<em>int</em>, <var>8</var>&gt; <dfn class="local col5 decl" id="335NewMask" title='NewMask' data-type='SmallVector&lt;int, 8&gt;' data-ref="335NewMask" data-ref-filename="335NewMask">NewMask</dfn><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1EmRKT_" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1EmRKT_" data-ref-filename="_ZN4llvm11SmallVectorC1EmRKT_">(</a><a class="local col9 ref" href="#329MaskC" title='MaskC' data-ref="329MaskC" data-ref-filename="329MaskC">MaskC</a>.<a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRef4sizeEv" title='llvm::ArrayRef::size' data-ref="_ZNK4llvm8ArrayRef4sizeEv" data-ref-filename="_ZNK4llvm8ArrayRef4sizeEv">size</a>(), <a class="local col0 ref" href="#330SplatIndex" title='SplatIndex' data-ref="330SplatIndex" data-ref-filename="330SplatIndex">SplatIndex</a>);</td></tr>
<tr><th id="1743">1743</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="336NewSplat" title='NewSplat' data-type='llvm::Value *' data-ref="336NewSplat" data-ref-filename="336NewSplat">NewSplat</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase19CreateShuffleVectorEPNS_5ValueENS_8ArrayRefIiEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateShuffleVector' data-ref="_ZN4llvm13IRBuilderBase19CreateShuffleVectorEPNS_5ValueENS_8ArrayRefIiEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase19CreateShuffleVectorEPNS_5ValueENS_8ArrayRefIiEERKNS_5TwineE">CreateShuffleVector</a>(<a class="local col4 ref" href="#334NewBO" title='NewBO' data-ref="334NewBO" data-ref-filename="334NewBO">NewBO</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col5 ref" href="#335NewMask" title='NewMask' data-ref="335NewMask" data-ref-filename="335NewMask">NewMask</a>);</td></tr>
<tr><th id="1744">1744</th><td>    <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col7 decl" id="337R" title='R' data-type='llvm::Instruction *' data-ref="337R" data-ref-filename="337R">R</dfn> = <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>::<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm14BinaryOperator6CreateENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPS1_" title='llvm::BinaryOperator::Create' data-ref="_ZN4llvm14BinaryOperator6CreateENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPS1_" data-ref-filename="_ZN4llvm14BinaryOperator6CreateENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPS1_">Create</a>(<a class="local col9 ref" href="#289Opcode" title='Opcode' data-ref="289Opcode" data-ref-filename="289Opcode">Opcode</a>, <a class="local col6 ref" href="#336NewSplat" title='NewSplat' data-ref="336NewSplat" data-ref-filename="336NewSplat">NewSplat</a>, <a class="local col3 ref" href="#333OtherOp" title='OtherOp' data-ref="333OtherOp" data-ref-filename="333OtherOp">OtherOp</a>);</td></tr>
<tr><th id="1745">1745</th><td></td></tr>
<tr><th id="1746">1746</th><td>    <i>// Intersect FMF on both new binops. Other (poison-generating) flags are</i></td></tr>
<tr><th id="1747">1747</th><td><i>    // dropped to be safe.</i></td></tr>
<tr><th id="1748">1748</th><td>    <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::FPMathOperator" title='llvm::FPMathOperator' data-ref="llvm::FPMathOperator" data-ref-filename="llvm..FPMathOperator">FPMathOperator</a>&gt;(<a class="local col7 ref" href="#337R" title='R' data-ref="337R" data-ref-filename="337R">R</a>)) {</td></tr>
<tr><th id="1749">1749</th><td>      <a class="local col7 ref" href="#337R" title='R' data-ref="337R" data-ref-filename="337R">R</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction17copyFastMathFlagsEPKS0_" title='llvm::Instruction::copyFastMathFlags' data-ref="_ZN4llvm11Instruction17copyFastMathFlagsEPKS0_" data-ref-filename="_ZN4llvm11Instruction17copyFastMathFlagsEPKS0_">copyFastMathFlags</a>(&amp;<a class="local col8 ref" href="#288Inst" title='Inst' data-ref="288Inst" data-ref-filename="288Inst">Inst</a>);</td></tr>
<tr><th id="1750">1750</th><td>      <a class="local col7 ref" href="#337R" title='R' data-ref="337R" data-ref-filename="337R">R</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction10andIRFlagsEPKNS_5ValueE" title='llvm::Instruction::andIRFlags' data-ref="_ZN4llvm11Instruction10andIRFlagsEPKNS_5ValueE" data-ref-filename="_ZN4llvm11Instruction10andIRFlagsEPKNS_5ValueE">andIRFlags</a>(<a class="local col1 ref" href="#331BO" title='BO' data-ref="331BO" data-ref-filename="331BO">BO</a>);</td></tr>
<tr><th id="1751">1751</th><td>    }</td></tr>
<tr><th id="1752">1752</th><td>    <b>if</b> (<em>auto</em> *<dfn class="local col8 decl" id="338NewInstBO" title='NewInstBO' data-type='llvm::BinaryOperator *' data-ref="338NewInstBO" data-ref-filename="338NewInstBO"><a class="local col8 ref" href="#338NewInstBO" title='NewInstBO' data-ref="338NewInstBO" data-ref-filename="338NewInstBO">NewInstBO</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(<a class="local col4 ref" href="#334NewBO" title='NewBO' data-ref="334NewBO" data-ref-filename="334NewBO">NewBO</a>))</td></tr>
<tr><th id="1753">1753</th><td>      <a class="local col8 ref" href="#338NewInstBO" title='NewInstBO' data-ref="338NewInstBO" data-ref-filename="338NewInstBO">NewInstBO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb" title='llvm::Instruction::copyIRFlags' data-ref="_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb" data-ref-filename="_ZN4llvm11Instruction11copyIRFlagsEPKNS_5ValueEb">copyIRFlags</a>(<a class="local col7 ref" href="#337R" title='R' data-ref="337R" data-ref-filename="337R">R</a>);</td></tr>
<tr><th id="1754">1754</th><td>    <b>return</b> <a class="local col7 ref" href="#337R" title='R' data-ref="337R" data-ref-filename="337R">R</a>;</td></tr>
<tr><th id="1755">1755</th><td>  }</td></tr>
<tr><th id="1756">1756</th><td></td></tr>
<tr><th id="1757">1757</th><td>  <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1758">1758</th><td>}</td></tr>
<tr><th id="1759">1759</th><td></td></tr>
<tr><th id="1760">1760</th><td><i class="doc">/// Try to narrow the width of a binop if at least 1 operand is an extend of</i></td></tr>
<tr><th id="1761">1761</th><td><i class="doc">/// of a value. This requires a potentially expensive known bits check to make</i></td></tr>
<tr><th id="1762">1762</th><td><i class="doc">/// sure the narrow op does not overflow.</i></td></tr>
<tr><th id="1763">1763</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl22narrowMathIfNoOverflowERNS_14BinaryOperatorE" title='llvm::InstCombinerImpl::narrowMathIfNoOverflow' data-ref="_ZN4llvm16InstCombinerImpl22narrowMathIfNoOverflowERNS_14BinaryOperatorE" data-ref-filename="_ZN4llvm16InstCombinerImpl22narrowMathIfNoOverflowERNS_14BinaryOperatorE">narrowMathIfNoOverflow</dfn>(<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a> &amp;<dfn class="local col9 decl" id="339BO" title='BO' data-type='llvm::BinaryOperator &amp;' data-ref="339BO" data-ref-filename="339BO">BO</dfn>) {</td></tr>
<tr><th id="1764">1764</th><td>  <i>// We need at least one extended operand.</i></td></tr>
<tr><th id="1765">1765</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="340Op0" title='Op0' data-type='llvm::Value *' data-ref="340Op0" data-ref-filename="340Op0">Op0</dfn> = <a class="local col9 ref" href="#339BO" title='BO' data-ref="339BO" data-ref-filename="339BO">BO</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>0</var>), *<dfn class="local col1 decl" id="341Op1" title='Op1' data-type='llvm::Value *' data-ref="341Op1" data-ref-filename="341Op1">Op1</dfn> = <a class="local col9 ref" href="#339BO" title='BO' data-ref="339BO" data-ref-filename="339BO">BO</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#211" title='llvm::BinaryOperator::getOperand' data-ref="_ZNK4llvm14BinaryOperator10getOperandEj" data-ref-filename="_ZNK4llvm14BinaryOperator10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="1766">1766</th><td></td></tr>
<tr><th id="1767">1767</th><td>  <i>// If this is a sub, we swap the operands since we always want an extension</i></td></tr>
<tr><th id="1768">1768</th><td><i>  // on the RHS. The LHS can be an extension or a constant.</i></td></tr>
<tr><th id="1769">1769</th><td>  <b>if</b> (<a class="local col9 ref" href="#339BO" title='BO' data-ref="339BO" data-ref-filename="339BO">BO</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>() == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#149" title='llvm::Instruction::Sub' data-ref="llvm::Instruction::Sub" data-ref-filename="llvm..Instruction..Sub">Sub</a>)</td></tr>
<tr><th id="1770">1770</th><td>    <span class="namespace">std::</span><span class='ref fn' title='std::swap' data-ref="_ZSt4swapRT_S0_" data-ref-filename="_ZSt4swapRT_S0_">swap</span>(<span class='refarg'><a class="local col0 ref" href="#340Op0" title='Op0' data-ref="340Op0" data-ref-filename="340Op0">Op0</a></span>, <span class='refarg'><a class="local col1 ref" href="#341Op1" title='Op1' data-ref="341Op1" data-ref-filename="341Op1">Op1</a></span>);</td></tr>
<tr><th id="1771">1771</th><td></td></tr>
<tr><th id="1772">1772</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="342X" title='X' data-type='llvm::Value *' data-ref="342X" data-ref-filename="342X">X</dfn>;</td></tr>
<tr><th id="1773">1773</th><td>  <em>bool</em> <dfn class="local col3 decl" id="343IsSext" title='IsSext' data-type='bool' data-ref="343IsSext" data-ref-filename="343IsSext">IsSext</dfn> = <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col0 ref" href="#340Op0" title='Op0' data-ref="340Op0" data-ref-filename="340Op0">Op0</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_SExtERKT_" title='llvm::PatternMatch::m_SExt' data-ref="_ZN4llvm12PatternMatch6m_SExtERKT_" data-ref-filename="_ZN4llvm12PatternMatch6m_SExtERKT_">m_SExt</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col2 ref" href="#342X" title='X' data-ref="342X" data-ref-filename="342X">X</a></span>)));</td></tr>
<tr><th id="1774">1774</th><td>  <b>if</b> (!<a class="local col3 ref" href="#343IsSext" title='IsSext' data-ref="343IsSext" data-ref-filename="343IsSext">IsSext</a> &amp;&amp; !<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col0 ref" href="#340Op0" title='Op0' data-ref="340Op0" data-ref-filename="340Op0">Op0</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_ZExtERKT_" title='llvm::PatternMatch::m_ZExt' data-ref="_ZN4llvm12PatternMatch6m_ZExtERKT_" data-ref-filename="_ZN4llvm12PatternMatch6m_ZExtERKT_">m_ZExt</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col2 ref" href="#342X" title='X' data-ref="342X" data-ref-filename="342X">X</a></span>))))</td></tr>
<tr><th id="1775">1775</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1776">1776</th><td></td></tr>
<tr><th id="1777">1777</th><td>  <i>// If both operands are the same extension from the same source type and we</i></td></tr>
<tr><th id="1778">1778</th><td><i>  // can eliminate at least one (hasOneUse), this might work.</i></td></tr>
<tr><th id="1779">1779</th><td>  <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::CastOps" title='llvm::Instruction::CastOps' data-ref="llvm::Instruction::CastOps" data-ref-filename="llvm..Instruction..CastOps">CastOps</a> <dfn class="local col4 decl" id="344CastOpc" title='CastOpc' data-type='CastInst::CastOps' data-ref="344CastOpc" data-ref-filename="344CastOpc">CastOpc</dfn> = <a class="local col3 ref" href="#343IsSext" title='IsSext' data-ref="343IsSext" data-ref-filename="343IsSext">IsSext</a> ? <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#186" title='llvm::Instruction::SExt' data-ref="llvm::Instruction::SExt" data-ref-filename="llvm..Instruction..SExt">SExt</a> : <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#185" title='llvm::Instruction::ZExt' data-ref="llvm::Instruction::ZExt" data-ref-filename="llvm..Instruction..ZExt">ZExt</a>;</td></tr>
<tr><th id="1780">1780</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="345Y" title='Y' data-type='llvm::Value *' data-ref="345Y" data-ref-filename="345Y">Y</dfn>;</td></tr>
<tr><th id="1781">1781</th><td>  <b>if</b> (!(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col1 ref" href="#341Op1" title='Op1' data-ref="341Op1" data-ref-filename="341Op1">Op1</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch12m_ZExtOrSExtERKT_" title='llvm::PatternMatch::m_ZExtOrSExt' data-ref="_ZN4llvm12PatternMatch12m_ZExtOrSExtERKT_" data-ref-filename="_ZN4llvm12PatternMatch12m_ZExtOrSExtERKT_">m_ZExtOrSExt</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col5 ref" href="#345Y" title='Y' data-ref="345Y" data-ref-filename="345Y">Y</a></span>))) &amp;&amp; <a class="local col2 ref" href="#342X" title='X' data-ref="342X" data-ref-filename="342X">X</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>() == <a class="local col5 ref" href="#345Y" title='Y' data-ref="345Y" data-ref-filename="345Y">Y</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>() &amp;&amp;</td></tr>
<tr><th id="1782">1782</th><td>        <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::Operator" title='llvm::Operator' data-ref="llvm::Operator" data-ref-filename="llvm..Operator">Operator</a>&gt;(<a class="local col1 ref" href="#341Op1" title='Op1' data-ref="341Op1" data-ref-filename="341Op1">Op1</a>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm8Operator9getOpcodeEv" title='llvm::Operator::getOpcode' data-ref="_ZNK4llvm8Operator9getOpcodeEv" data-ref-filename="_ZNK4llvm8Operator9getOpcodeEv">getOpcode</a>() == <a class="local col4 ref" href="#344CastOpc" title='CastOpc' data-ref="344CastOpc" data-ref-filename="344CastOpc">CastOpc</a> &amp;&amp;</td></tr>
<tr><th id="1783">1783</th><td>        (<a class="local col0 ref" href="#340Op0" title='Op0' data-ref="340Op0" data-ref-filename="340Op0">Op0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>() || <a class="local col1 ref" href="#341Op1" title='Op1' data-ref="341Op1" data-ref-filename="341Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>()))) {</td></tr>
<tr><th id="1784">1784</th><td>    <i>// If that did not match, see if we have a suitable constant operand.</i></td></tr>
<tr><th id="1785">1785</th><td><i>    // Truncating and extending must produce the same constant.</i></td></tr>
<tr><th id="1786">1786</th><td>    <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col6 decl" id="346WideC" title='WideC' data-type='llvm::Constant *' data-ref="346WideC" data-ref-filename="346WideC">WideC</dfn>;</td></tr>
<tr><th id="1787">1787</th><td>    <b>if</b> (!<a class="local col0 ref" href="#340Op0" title='Op0' data-ref="340Op0" data-ref-filename="340Op0">Op0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>() || !<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col1 ref" href="#341Op1" title='Op1' data-ref="341Op1" data-ref-filename="341Op1">Op1</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" title='llvm::PatternMatch::m_Constant' data-ref="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" data-ref-filename="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE">m_Constant</a>(<span class='refarg'><a class="local col6 ref" href="#346WideC" title='WideC' data-ref="346WideC" data-ref-filename="346WideC">WideC</a></span>)))</td></tr>
<tr><th id="1788">1788</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1789">1789</th><td>    <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col7 decl" id="347NarrowC" title='NarrowC' data-type='llvm::Constant *' data-ref="347NarrowC" data-ref-filename="347NarrowC">NarrowC</dfn> = <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr8getTruncEPNS_8ConstantEPNS_4TypeEb" title='llvm::ConstantExpr::getTrunc' data-ref="_ZN4llvm12ConstantExpr8getTruncEPNS_8ConstantEPNS_4TypeEb" data-ref-filename="_ZN4llvm12ConstantExpr8getTruncEPNS_8ConstantEPNS_4TypeEb">getTrunc</a>(<a class="local col6 ref" href="#346WideC" title='WideC' data-ref="346WideC" data-ref-filename="346WideC">WideC</a>, <a class="local col2 ref" href="#342X" title='X' data-ref="342X" data-ref-filename="342X">X</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="1790">1790</th><td>    <b>if</b> (<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr7getCastEjPNS_8ConstantEPNS_4TypeEb" title='llvm::ConstantExpr::getCast' data-ref="_ZN4llvm12ConstantExpr7getCastEjPNS_8ConstantEPNS_4TypeEb" data-ref-filename="_ZN4llvm12ConstantExpr7getCastEjPNS_8ConstantEPNS_4TypeEb">getCast</a>(<a class="local col4 ref" href="#344CastOpc" title='CastOpc' data-ref="344CastOpc" data-ref-filename="344CastOpc">CastOpc</a>, <a class="local col7 ref" href="#347NarrowC" title='NarrowC' data-ref="347NarrowC" data-ref-filename="347NarrowC">NarrowC</a>, <a class="local col9 ref" href="#339BO" title='BO' data-ref="339BO" data-ref-filename="339BO">BO</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()) != <a class="local col6 ref" href="#346WideC" title='WideC' data-ref="346WideC" data-ref-filename="346WideC">WideC</a>)</td></tr>
<tr><th id="1791">1791</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1792">1792</th><td>    <a class="local col5 ref" href="#345Y" title='Y' data-ref="345Y" data-ref-filename="345Y">Y</a> = <a class="local col7 ref" href="#347NarrowC" title='NarrowC' data-ref="347NarrowC" data-ref-filename="347NarrowC">NarrowC</a>;</td></tr>
<tr><th id="1793">1793</th><td>  }</td></tr>
<tr><th id="1794">1794</th><td></td></tr>
<tr><th id="1795">1795</th><td>  <i>// Swap back now that we found our operands.</i></td></tr>
<tr><th id="1796">1796</th><td>  <b>if</b> (<a class="local col9 ref" href="#339BO" title='BO' data-ref="339BO" data-ref-filename="339BO">BO</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>() == <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#149" title='llvm::Instruction::Sub' data-ref="llvm::Instruction::Sub" data-ref-filename="llvm..Instruction..Sub">Sub</a>)</td></tr>
<tr><th id="1797">1797</th><td>    <span class="namespace">std::</span><span class='ref fn' title='std::swap' data-ref="_ZSt4swapRT_S0_" data-ref-filename="_ZSt4swapRT_S0_">swap</span>(<span class='refarg'><a class="local col2 ref" href="#342X" title='X' data-ref="342X" data-ref-filename="342X">X</a></span>, <span class='refarg'><a class="local col5 ref" href="#345Y" title='Y' data-ref="345Y" data-ref-filename="345Y">Y</a></span>);</td></tr>
<tr><th id="1798">1798</th><td></td></tr>
<tr><th id="1799">1799</th><td>  <i>// Both operands have narrow versions. Last step: the math must not overflow</i></td></tr>
<tr><th id="1800">1800</th><td><i>  // in the narrow width.</i></td></tr>
<tr><th id="1801">1801</th><td>  <b>if</b> (!<a class="member fn" href="InstCombineInternal.h.html#_ZNK4llvm16InstCombinerImpl15willNotOverflowENS_11Instruction9BinaryOpsEPKNS_5ValueES5_RKS1_b" title='llvm::InstCombinerImpl::willNotOverflow' data-ref="_ZNK4llvm16InstCombinerImpl15willNotOverflowENS_11Instruction9BinaryOpsEPKNS_5ValueES5_RKS1_b" data-ref-filename="_ZNK4llvm16InstCombinerImpl15willNotOverflowENS_11Instruction9BinaryOpsEPKNS_5ValueES5_RKS1_b">willNotOverflow</a>(<a class="local col9 ref" href="#339BO" title='BO' data-ref="339BO" data-ref-filename="339BO">BO</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>(), <a class="local col2 ref" href="#342X" title='X' data-ref="342X" data-ref-filename="342X">X</a>, <a class="local col5 ref" href="#345Y" title='Y' data-ref="345Y" data-ref-filename="345Y">Y</a>, <a class="local col9 ref" href="#339BO" title='BO' data-ref="339BO" data-ref-filename="339BO">BO</a>, <a class="local col3 ref" href="#343IsSext" title='IsSext' data-ref="343IsSext" data-ref-filename="343IsSext">IsSext</a>))</td></tr>
<tr><th id="1802">1802</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1803">1803</th><td></td></tr>
<tr><th id="1804">1804</th><td>  <i>// bo (ext X), (ext Y) --&gt; ext (bo X, Y)</i></td></tr>
<tr><th id="1805">1805</th><td><i>  // bo (ext X), C       --&gt; ext (bo X, C')</i></td></tr>
<tr><th id="1806">1806</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="348NarrowBO" title='NarrowBO' data-type='llvm::Value *' data-ref="348NarrowBO" data-ref-filename="348NarrowBO">NarrowBO</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateBinOp' data-ref="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateBinOpENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPNS_6MDNodeE">CreateBinOp</a>(<a class="local col9 ref" href="#339BO" title='BO' data-ref="339BO" data-ref-filename="339BO">BO</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm14BinaryOperator9getOpcodeEv" title='llvm::BinaryOperator::getOpcode' data-ref="_ZNK4llvm14BinaryOperator9getOpcodeEv" data-ref-filename="_ZNK4llvm14BinaryOperator9getOpcodeEv">getOpcode</a>(), <a class="local col2 ref" href="#342X" title='X' data-ref="342X" data-ref-filename="342X">X</a>, <a class="local col5 ref" href="#345Y" title='Y' data-ref="345Y" data-ref-filename="345Y">Y</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"narrow"</q>);</td></tr>
<tr><th id="1807">1807</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col9 decl" id="349NewBinOp" title='NewBinOp' data-type='llvm::BinaryOperator *' data-ref="349NewBinOp" data-ref-filename="349NewBinOp"><a class="local col9 ref" href="#349NewBinOp" title='NewBinOp' data-ref="349NewBinOp" data-ref-filename="349NewBinOp">NewBinOp</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>&gt;(<a class="local col8 ref" href="#348NarrowBO" title='NarrowBO' data-ref="348NarrowBO" data-ref-filename="348NarrowBO">NarrowBO</a>)) {</td></tr>
<tr><th id="1808">1808</th><td>    <b>if</b> (<a class="local col3 ref" href="#343IsSext" title='IsSext' data-ref="343IsSext" data-ref-filename="343IsSext">IsSext</a>)</td></tr>
<tr><th id="1809">1809</th><td>      <a class="local col9 ref" href="#349NewBinOp" title='NewBinOp' data-ref="349NewBinOp" data-ref-filename="349NewBinOp">NewBinOp</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction18setHasNoSignedWrapEb" title='llvm::Instruction::setHasNoSignedWrap' data-ref="_ZN4llvm11Instruction18setHasNoSignedWrapEb" data-ref-filename="_ZN4llvm11Instruction18setHasNoSignedWrapEb">setHasNoSignedWrap</a>();</td></tr>
<tr><th id="1810">1810</th><td>    <b>else</b></td></tr>
<tr><th id="1811">1811</th><td>      <a class="local col9 ref" href="#349NewBinOp" title='NewBinOp' data-ref="349NewBinOp" data-ref-filename="349NewBinOp">NewBinOp</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction20setHasNoUnsignedWrapEb" title='llvm::Instruction::setHasNoUnsignedWrap' data-ref="_ZN4llvm11Instruction20setHasNoUnsignedWrapEb" data-ref-filename="_ZN4llvm11Instruction20setHasNoUnsignedWrapEb">setHasNoUnsignedWrap</a>();</td></tr>
<tr><th id="1812">1812</th><td>  }</td></tr>
<tr><th id="1813">1813</th><td>  <b>return</b> <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a>::<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm8CastInst6CreateENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineEPS1_" title='llvm::CastInst::Create' data-ref="_ZN4llvm8CastInst6CreateENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineEPS1_" data-ref-filename="_ZN4llvm8CastInst6CreateENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineEPS1_">Create</a>(<a class="local col4 ref" href="#344CastOpc" title='CastOpc' data-ref="344CastOpc" data-ref-filename="344CastOpc">CastOpc</a>, <a class="local col8 ref" href="#348NarrowBO" title='NarrowBO' data-ref="348NarrowBO" data-ref-filename="348NarrowBO">NarrowBO</a>, <a class="local col9 ref" href="#339BO" title='BO' data-ref="339BO" data-ref-filename="339BO">BO</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="1814">1814</th><td>}</td></tr>
<tr><th id="1815">1815</th><td></td></tr>
<tr><th id="1816">1816</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL19isMergedGEPInBoundsRN4llvm11GEPOperatorES1_" title='isMergedGEPInBounds' data-type='bool isMergedGEPInBounds(llvm::GEPOperator &amp; GEP1, llvm::GEPOperator &amp; GEP2)' data-ref="_ZL19isMergedGEPInBoundsRN4llvm11GEPOperatorES1_" data-ref-filename="_ZL19isMergedGEPInBoundsRN4llvm11GEPOperatorES1_">isMergedGEPInBounds</dfn>(<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::GEPOperator" title='llvm::GEPOperator' data-ref="llvm::GEPOperator" data-ref-filename="llvm..GEPOperator">GEPOperator</a> &amp;<dfn class="local col0 decl" id="350GEP1" title='GEP1' data-type='llvm::GEPOperator &amp;' data-ref="350GEP1" data-ref-filename="350GEP1">GEP1</dfn>, <a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::GEPOperator" title='llvm::GEPOperator' data-ref="llvm::GEPOperator" data-ref-filename="llvm..GEPOperator">GEPOperator</a> &amp;<dfn class="local col1 decl" id="351GEP2" title='GEP2' data-type='llvm::GEPOperator &amp;' data-ref="351GEP2" data-ref-filename="351GEP2">GEP2</dfn>) {</td></tr>
<tr><th id="1817">1817</th><td>  <i>// At least one GEP must be inbounds.</i></td></tr>
<tr><th id="1818">1818</th><td>  <b>if</b> (!<a class="local col0 ref" href="#350GEP1" title='GEP1' data-ref="350GEP1" data-ref-filename="350GEP1">GEP1</a>.<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm11GEPOperator10isInBoundsEv" title='llvm::GEPOperator::isInBounds' data-ref="_ZNK4llvm11GEPOperator10isInBoundsEv" data-ref-filename="_ZNK4llvm11GEPOperator10isInBoundsEv">isInBounds</a>() &amp;&amp; !<a class="local col1 ref" href="#351GEP2" title='GEP2' data-ref="351GEP2" data-ref-filename="351GEP2">GEP2</a>.<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm11GEPOperator10isInBoundsEv" title='llvm::GEPOperator::isInBounds' data-ref="_ZNK4llvm11GEPOperator10isInBoundsEv" data-ref-filename="_ZNK4llvm11GEPOperator10isInBoundsEv">isInBounds</a>())</td></tr>
<tr><th id="1819">1819</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1820">1820</th><td></td></tr>
<tr><th id="1821">1821</th><td>  <b>return</b> (<a class="local col0 ref" href="#350GEP1" title='GEP1' data-ref="350GEP1" data-ref-filename="350GEP1">GEP1</a>.<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm11GEPOperator10isInBoundsEv" title='llvm::GEPOperator::isInBounds' data-ref="_ZNK4llvm11GEPOperator10isInBoundsEv" data-ref-filename="_ZNK4llvm11GEPOperator10isInBoundsEv">isInBounds</a>() || <a class="local col0 ref" href="#350GEP1" title='GEP1' data-ref="350GEP1" data-ref-filename="350GEP1">GEP1</a>.<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm11GEPOperator17hasAllZeroIndicesEv" title='llvm::GEPOperator::hasAllZeroIndices' data-ref="_ZNK4llvm11GEPOperator17hasAllZeroIndicesEv" data-ref-filename="_ZNK4llvm11GEPOperator17hasAllZeroIndicesEv">hasAllZeroIndices</a>()) &amp;&amp;</td></tr>
<tr><th id="1822">1822</th><td>         (<a class="local col1 ref" href="#351GEP2" title='GEP2' data-ref="351GEP2" data-ref-filename="351GEP2">GEP2</a>.<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm11GEPOperator10isInBoundsEv" title='llvm::GEPOperator::isInBounds' data-ref="_ZNK4llvm11GEPOperator10isInBoundsEv" data-ref-filename="_ZNK4llvm11GEPOperator10isInBoundsEv">isInBounds</a>() || <a class="local col1 ref" href="#351GEP2" title='GEP2' data-ref="351GEP2" data-ref-filename="351GEP2">GEP2</a>.<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm11GEPOperator17hasAllZeroIndicesEv" title='llvm::GEPOperator::hasAllZeroIndices' data-ref="_ZNK4llvm11GEPOperator17hasAllZeroIndicesEv" data-ref-filename="_ZNK4llvm11GEPOperator17hasAllZeroIndicesEv">hasAllZeroIndices</a>());</td></tr>
<tr><th id="1823">1823</th><td>}</td></tr>
<tr><th id="1824">1824</th><td></td></tr>
<tr><th id="1825">1825</th><td><i class="doc" data-doc="_ZL13foldSelectGEPRN4llvm17GetElementPtrInstERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE">/// Thread a GEP operation with constant indices through the constant true/false</i></td></tr>
<tr><th id="1826">1826</th><td><i class="doc" data-doc="_ZL13foldSelectGEPRN4llvm17GetElementPtrInstERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE">/// arms of a select.</i></td></tr>
<tr><th id="1827">1827</th><td><em>static</em> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="tu decl def fn" id="_ZL13foldSelectGEPRN4llvm17GetElementPtrInstERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE" title='foldSelectGEP' data-type='llvm::Instruction * foldSelectGEP(llvm::GetElementPtrInst &amp; GEP, InstCombiner::BuilderTy &amp; Builder)' data-ref="_ZL13foldSelectGEPRN4llvm17GetElementPtrInstERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE" data-ref-filename="_ZL13foldSelectGEPRN4llvm17GetElementPtrInstERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE">foldSelectGEP</dfn>(<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::GetElementPtrInst" title='llvm::GetElementPtrInst' data-ref="llvm::GetElementPtrInst" data-ref-filename="llvm..GetElementPtrInst">GetElementPtrInst</a> &amp;<dfn class="local col2 decl" id="352GEP" title='GEP' data-type='llvm::GetElementPtrInst &amp;' data-ref="352GEP" data-ref-filename="352GEP">GEP</dfn>,</td></tr>
<tr><th id="1828">1828</th><td>                                  <a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner" title='llvm::InstCombiner' data-ref="llvm::InstCombiner" data-ref-filename="llvm..InstCombiner">InstCombiner</a>::<a class="typedef" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::BuilderTy" title='llvm::InstCombiner::BuilderTy' data-type='IRBuilder&lt;llvm::TargetFolder, llvm::IRBuilderCallbackInserter&gt;' data-ref="llvm::InstCombiner::BuilderTy" data-ref-filename="llvm..InstCombiner..BuilderTy">BuilderTy</a> &amp;<dfn class="local col3 decl" id="353Builder" title='Builder' data-type='InstCombiner::BuilderTy &amp;' data-ref="353Builder" data-ref-filename="353Builder">Builder</dfn>) {</td></tr>
<tr><th id="1829">1829</th><td>  <b>if</b> (!<a class="local col2 ref" href="#352GEP" title='GEP' data-ref="352GEP" data-ref-filename="352GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst21hasAllConstantIndicesEv" title='llvm::GetElementPtrInst::hasAllConstantIndices' data-ref="_ZNK4llvm17GetElementPtrInst21hasAllConstantIndicesEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst21hasAllConstantIndicesEv">hasAllConstantIndices</a>())</td></tr>
<tr><th id="1830">1830</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1831">1831</th><td></td></tr>
<tr><th id="1832">1832</th><td>  <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col4 decl" id="354Sel" title='Sel' data-type='llvm::Instruction *' data-ref="354Sel" data-ref-filename="354Sel">Sel</dfn>;</td></tr>
<tr><th id="1833">1833</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="355Cond" title='Cond' data-type='llvm::Value *' data-ref="355Cond" data-ref-filename="355Cond">Cond</dfn>;</td></tr>
<tr><th id="1834">1834</th><td>  <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col6 decl" id="356TrueC" title='TrueC' data-type='llvm::Constant *' data-ref="356TrueC" data-ref-filename="356TrueC">TrueC</dfn>, *<dfn class="local col7 decl" id="357FalseC" title='FalseC' data-type='llvm::Constant *' data-ref="357FalseC" data-ref-filename="357FalseC">FalseC</dfn>;</td></tr>
<tr><th id="1835">1835</th><td>  <b>if</b> (!<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col2 ref" href="#352GEP" title='GEP' data-ref="352GEP" data-ref-filename="352GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst17getPointerOperandEv" title='llvm::GetElementPtrInst::getPointerOperand' data-ref="_ZN4llvm17GetElementPtrInst17getPointerOperandEv" data-ref-filename="_ZN4llvm17GetElementPtrInst17getPointerOperandEv">getPointerOperand</a>(), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch13m_InstructionERPNS_11InstructionE" title='llvm::PatternMatch::m_Instruction' data-ref="_ZN4llvm12PatternMatch13m_InstructionERPNS_11InstructionE" data-ref-filename="_ZN4llvm12PatternMatch13m_InstructionERPNS_11InstructionE">m_Instruction</a>(<span class='refarg'><a class="local col4 ref" href="#354Sel" title='Sel' data-ref="354Sel" data-ref-filename="354Sel">Sel</a></span>)) ||</td></tr>
<tr><th id="1836">1836</th><td>      !<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col4 ref" href="#354Sel" title='Sel' data-ref="354Sel" data-ref-filename="354Sel">Sel</a>,</td></tr>
<tr><th id="1837">1837</th><td>             <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch8m_SelectERKT_RKT0_RKT1_" title='llvm::PatternMatch::m_Select' data-ref="_ZN4llvm12PatternMatch8m_SelectERKT_RKT0_RKT1_" data-ref-filename="_ZN4llvm12PatternMatch8m_SelectERKT_RKT0_RKT1_">m_Select</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col5 ref" href="#355Cond" title='Cond' data-ref="355Cond" data-ref-filename="355Cond">Cond</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" title='llvm::PatternMatch::m_Constant' data-ref="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" data-ref-filename="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE">m_Constant</a>(<span class='refarg'><a class="local col6 ref" href="#356TrueC" title='TrueC' data-ref="356TrueC" data-ref-filename="356TrueC">TrueC</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" title='llvm::PatternMatch::m_Constant' data-ref="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE" data-ref-filename="_ZN4llvm12PatternMatch10m_ConstantERPNS_8ConstantE">m_Constant</a>(<span class='refarg'><a class="local col7 ref" href="#357FalseC" title='FalseC' data-ref="357FalseC" data-ref-filename="357FalseC">FalseC</a></span>))))</td></tr>
<tr><th id="1838">1838</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1839">1839</th><td></td></tr>
<tr><th id="1840">1840</th><td>  <i>// gep (select Cond, TrueC, FalseC), IndexC --&gt; select Cond, TrueC', FalseC'</i></td></tr>
<tr><th id="1841">1841</th><td><i>  // Propagate 'inbounds' and metadata from existing instructions.</i></td></tr>
<tr><th id="1842">1842</th><td><i>  // Note: using IRBuilder to create the constants for efficiency.</i></td></tr>
<tr><th id="1843">1843</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *, <var>4</var>&gt; <dfn class="local col8 decl" id="358IndexC" title='IndexC' data-type='SmallVector&lt;llvm::Value *, 4&gt;' data-ref="358IndexC" data-ref-filename="358IndexC">IndexC</dfn><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1ERKNS_14iterator_rangeITL0__EE" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1ERKNS_14iterator_rangeITL0__EE" data-ref-filename="_ZN4llvm11SmallVectorC1ERKNS_14iterator_rangeITL0__EE">(</a><a class="local col2 ref" href="#352GEP" title='GEP' data-ref="352GEP" data-ref-filename="352GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst7indicesEv" title='llvm::GetElementPtrInst::indices' data-ref="_ZN4llvm17GetElementPtrInst7indicesEv" data-ref-filename="_ZN4llvm17GetElementPtrInst7indicesEv">indices</a>());</td></tr>
<tr><th id="1844">1844</th><td>  <em>bool</em> <dfn class="local col9 decl" id="359IsInBounds" title='IsInBounds' data-type='bool' data-ref="359IsInBounds" data-ref-filename="359IsInBounds">IsInBounds</dfn> = <a class="local col2 ref" href="#352GEP" title='GEP' data-ref="352GEP" data-ref-filename="352GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst10isInBoundsEv" title='llvm::GetElementPtrInst::isInBounds' data-ref="_ZNK4llvm17GetElementPtrInst10isInBoundsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst10isInBoundsEv">isInBounds</a>();</td></tr>
<tr><th id="1845">1845</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="360NewTrueC" title='NewTrueC' data-type='llvm::Value *' data-ref="360NewTrueC" data-ref-filename="360NewTrueC">NewTrueC</dfn> = <a class="local col9 ref" href="#359IsInBounds" title='IsInBounds' data-ref="359IsInBounds" data-ref-filename="359IsInBounds">IsInBounds</a> ? <a class="local col3 ref" href="#353Builder" title='Builder' data-ref="353Builder" data-ref-filename="353Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_5ValueENS_8ArrayRefIS2_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInBoundsGEP' data-ref="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_5ValueENS_8ArrayRefIS2_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_5ValueENS_8ArrayRefIS2_EERKNS_5TwineE">CreateInBoundsGEP</a>(<a class="local col6 ref" href="#356TrueC" title='TrueC' data-ref="356TrueC" data-ref-filename="356TrueC">TrueC</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col8 ref" href="#358IndexC" title='IndexC' data-ref="358IndexC" data-ref-filename="358IndexC">IndexC</a>)</td></tr>
<tr><th id="1846">1846</th><td>                               : <a class="local col3 ref" href="#353Builder" title='Builder' data-ref="353Builder" data-ref-filename="353Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateGEPEPNS_5ValueENS_8ArrayRefIS2_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateGEP' data-ref="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_5ValueENS_8ArrayRefIS2_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_5ValueENS_8ArrayRefIS2_EERKNS_5TwineE">CreateGEP</a>(<a class="local col6 ref" href="#356TrueC" title='TrueC' data-ref="356TrueC" data-ref-filename="356TrueC">TrueC</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col8 ref" href="#358IndexC" title='IndexC' data-ref="358IndexC" data-ref-filename="358IndexC">IndexC</a>);</td></tr>
<tr><th id="1847">1847</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="361NewFalseC" title='NewFalseC' data-type='llvm::Value *' data-ref="361NewFalseC" data-ref-filename="361NewFalseC">NewFalseC</dfn> = <a class="local col9 ref" href="#359IsInBounds" title='IsInBounds' data-ref="359IsInBounds" data-ref-filename="359IsInBounds">IsInBounds</a> ? <a class="local col3 ref" href="#353Builder" title='Builder' data-ref="353Builder" data-ref-filename="353Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_5ValueENS_8ArrayRefIS2_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInBoundsGEP' data-ref="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_5ValueENS_8ArrayRefIS2_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_5ValueENS_8ArrayRefIS2_EERKNS_5TwineE">CreateInBoundsGEP</a>(<a class="local col7 ref" href="#357FalseC" title='FalseC' data-ref="357FalseC" data-ref-filename="357FalseC">FalseC</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col8 ref" href="#358IndexC" title='IndexC' data-ref="358IndexC" data-ref-filename="358IndexC">IndexC</a>)</td></tr>
<tr><th id="1848">1848</th><td>                                : <a class="local col3 ref" href="#353Builder" title='Builder' data-ref="353Builder" data-ref-filename="353Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateGEPEPNS_5ValueENS_8ArrayRefIS2_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateGEP' data-ref="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_5ValueENS_8ArrayRefIS2_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_5ValueENS_8ArrayRefIS2_EERKNS_5TwineE">CreateGEP</a>(<a class="local col7 ref" href="#357FalseC" title='FalseC' data-ref="357FalseC" data-ref-filename="357FalseC">FalseC</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col8 ref" href="#358IndexC" title='IndexC' data-ref="358IndexC" data-ref-filename="358IndexC">IndexC</a>);</td></tr>
<tr><th id="1849">1849</th><td>  <b>return</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::SelectInst" title='llvm::SelectInst' data-ref="llvm::SelectInst" data-ref-filename="llvm..SelectInst">SelectInst</a>::<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SelectInst6CreateEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionES7_" title='llvm::SelectInst::Create' data-ref="_ZN4llvm10SelectInst6CreateEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionES7_" data-ref-filename="_ZN4llvm10SelectInst6CreateEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionES7_">Create</a>(<a class="local col5 ref" href="#355Cond" title='Cond' data-ref="355Cond" data-ref-filename="355Cond">Cond</a>, <a class="local col0 ref" href="#360NewTrueC" title='NewTrueC' data-ref="360NewTrueC" data-ref-filename="360NewTrueC">NewTrueC</a>, <a class="local col1 ref" href="#361NewFalseC" title='NewFalseC' data-ref="361NewFalseC" data-ref-filename="361NewFalseC">NewFalseC</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>""</q>, <b>nullptr</b>, <a class="local col4 ref" href="#354Sel" title='Sel' data-ref="354Sel" data-ref-filename="354Sel">Sel</a>);</td></tr>
<tr><th id="1850">1850</th><td>}</td></tr>
<tr><th id="1851">1851</th><td></td></tr>
<tr><th id="1852">1852</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl22visitGetElementPtrInstERNS_17GetElementPtrInstE" title='llvm::InstCombinerImpl::visitGetElementPtrInst' data-ref="_ZN4llvm16InstCombinerImpl22visitGetElementPtrInstERNS_17GetElementPtrInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl22visitGetElementPtrInstERNS_17GetElementPtrInstE">visitGetElementPtrInst</dfn>(<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::GetElementPtrInst" title='llvm::GetElementPtrInst' data-ref="llvm::GetElementPtrInst" data-ref-filename="llvm..GetElementPtrInst">GetElementPtrInst</a> &amp;<dfn class="local col2 decl" id="362GEP" title='GEP' data-type='llvm::GetElementPtrInst &amp;' data-ref="362GEP" data-ref-filename="362GEP">GEP</dfn>) {</td></tr>
<tr><th id="1853">1853</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *, <var>8</var>&gt; <dfn class="local col3 decl" id="363Ops" title='Ops' data-type='SmallVector&lt;llvm::Value *, 8&gt;' data-ref="363Ops" data-ref-filename="363Ops">Ops</dfn><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1ERKNS_14iterator_rangeITL0__EE" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1ERKNS_14iterator_rangeITL0__EE" data-ref-filename="_ZN4llvm11SmallVectorC1ERKNS_14iterator_rangeITL0__EE">(</a><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZN4llvm4User8operandsEv" title='llvm::User::operands' data-ref="_ZN4llvm4User8operandsEv" data-ref-filename="_ZN4llvm4User8operandsEv">operands</a>());</td></tr>
<tr><th id="1854">1854</th><td>  <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col4 decl" id="364GEPType" title='GEPType' data-type='llvm::Type *' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</dfn> = <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>();</td></tr>
<tr><th id="1855">1855</th><td>  <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col5 decl" id="365GEPEltType" title='GEPEltType' data-type='llvm::Type *' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</dfn> = <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst20getSourceElementTypeEv" title='llvm::GetElementPtrInst::getSourceElementType' data-ref="_ZNK4llvm17GetElementPtrInst20getSourceElementTypeEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst20getSourceElementTypeEv">getSourceElementType</a>();</td></tr>
<tr><th id="1856">1856</th><td>  <em>bool</em> <dfn class="local col6 decl" id="366IsGEPSrcEleScalable" title='IsGEPSrcEleScalable' data-type='bool' data-ref="366IsGEPSrcEleScalable" data-ref-filename="366IsGEPSrcEleScalable">IsGEPSrcEleScalable</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ScalableVectorType" title='llvm::ScalableVectorType' data-ref="llvm::ScalableVectorType" data-ref-filename="llvm..ScalableVectorType">ScalableVectorType</a>&gt;(<a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>);</td></tr>
<tr><th id="1857">1857</th><td>  <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="367V" title='V' data-type='llvm::Value *' data-ref="367V" data-ref-filename="367V"><a class="local col7 ref" href="#367V" title='V' data-ref="367V" data-ref-filename="367V">V</a></dfn> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm15SimplifyGEPInstEPNS_4TypeENS_8ArrayRefIPNS_5ValueEEERKNS_13SimplifyQueryE" title='llvm::SimplifyGEPInst' data-ref="_ZN4llvm15SimplifyGEPInstEPNS_4TypeENS_8ArrayRefIPNS_5ValueEEERKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm15SimplifyGEPInstEPNS_4TypeENS_8ArrayRefIPNS_5ValueEEERKNS_13SimplifyQueryE">SimplifyGEPInst</a>(<a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col3 ref" href="#363Ops" title='Ops' data-ref="363Ops" data-ref-filename="363Ops">Ops</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::SQ" title='llvm::InstCombiner::SQ' data-ref="llvm::InstCombiner::SQ" data-ref-filename="llvm..InstCombiner..SQ">SQ</a>.<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" title='llvm::SimplifyQuery::getWithInstruction' data-ref="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" data-ref-filename="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE">getWithInstruction</a>(&amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>)))</td></tr>
<tr><th id="1858">1858</th><td>    <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a></span>, <a class="local col7 ref" href="#367V" title='V' data-ref="367V" data-ref-filename="367V">V</a>);</td></tr>
<tr><th id="1859">1859</th><td></td></tr>
<tr><th id="1860">1860</th><td>  <i>// For vector geps, use the generic demanded vector support.</i></td></tr>
<tr><th id="1861">1861</th><td><i>  // Skip if GEP return type is scalable. The number of elements is unknown at</i></td></tr>
<tr><th id="1862">1862</th><td><i>  // compile-time.</i></td></tr>
<tr><th id="1863">1863</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col8 decl" id="368GEPFVTy" title='GEPFVTy' data-type='llvm::FixedVectorType *' data-ref="368GEPFVTy" data-ref-filename="368GEPFVTy"><a class="local col8 ref" href="#368GEPFVTy" title='GEPFVTy' data-ref="368GEPFVTy" data-ref-filename="368GEPFVTy">GEPFVTy</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::FixedVectorType" title='llvm::FixedVectorType' data-ref="llvm::FixedVectorType" data-ref-filename="llvm..FixedVectorType">FixedVectorType</a>&gt;(<a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>)) {</td></tr>
<tr><th id="1864">1864</th><td>    <em>auto</em> <dfn class="local col9 decl" id="369VWidth" title='VWidth' data-type='unsigned int' data-ref="369VWidth" data-ref-filename="369VWidth">VWidth</dfn> = <a class="local col8 ref" href="#368GEPFVTy" title='GEPFVTy' data-ref="368GEPFVTy" data-ref-filename="368GEPFVTy">GEPFVTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm15FixedVectorType14getNumElementsEv" title='llvm::FixedVectorType::getNumElements' data-ref="_ZNK4llvm15FixedVectorType14getNumElementsEv" data-ref-filename="_ZNK4llvm15FixedVectorType14getNumElementsEv">getNumElements</a>();</td></tr>
<tr><th id="1865">1865</th><td>    <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> <dfn class="local col0 decl" id="370UndefElts" title='UndefElts' data-type='llvm::APInt' data-ref="370UndefElts" data-ref-filename="370UndefElts">UndefElts</dfn><a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntC1Ejmb" title='llvm::APInt::APInt' data-ref="_ZN4llvm5APIntC1Ejmb" data-ref-filename="_ZN4llvm5APIntC1Ejmb">(</a><a class="local col9 ref" href="#369VWidth" title='VWidth' data-ref="369VWidth" data-ref-filename="369VWidth">VWidth</a>, <var>0</var>);</td></tr>
<tr><th id="1866">1866</th><td>    <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> <dfn class="local col1 decl" id="371AllOnesEltMask" title='AllOnesEltMask' data-type='llvm::APInt' data-ref="371AllOnesEltMask" data-ref-filename="371AllOnesEltMask">AllOnesEltMask</dfn><a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntC1EOS0_" title='llvm::APInt::APInt' data-ref="_ZN4llvm5APIntC1EOS0_" data-ref-filename="_ZN4llvm5APIntC1EOS0_">(</a><a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a>::<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APInt15getAllOnesValueEj" title='llvm::APInt::getAllOnesValue' data-ref="_ZN4llvm5APInt15getAllOnesValueEj" data-ref-filename="_ZN4llvm5APInt15getAllOnesValueEj">getAllOnesValue</a>(<a class="local col9 ref" href="#369VWidth" title='VWidth' data-ref="369VWidth" data-ref-filename="369VWidth">VWidth</a>));</td></tr>
<tr><th id="1867">1867</th><td>    <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="372V" title='V' data-type='llvm::Value *' data-ref="372V" data-ref-filename="372V"><a class="local col2 ref" href="#372V" title='V' data-ref="372V" data-ref-filename="372V">V</a></dfn> = <a class="virtual member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl26SimplifyDemandedVectorEltsEPNS_5ValueENS_5APIntERS3_jb" title='llvm::InstCombinerImpl::SimplifyDemandedVectorElts' data-ref="_ZN4llvm16InstCombinerImpl26SimplifyDemandedVectorEltsEPNS_5ValueENS_5APIntERS3_jb" data-ref-filename="_ZN4llvm16InstCombinerImpl26SimplifyDemandedVectorEltsEPNS_5ValueENS_5APIntERS3_jb">SimplifyDemandedVectorElts</a>(&amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntC1ERKS0_" title='llvm::APInt::APInt' data-ref="_ZN4llvm5APIntC1ERKS0_" data-ref-filename="_ZN4llvm5APIntC1ERKS0_"></a><a class="local col1 ref" href="#371AllOnesEltMask" title='AllOnesEltMask' data-ref="371AllOnesEltMask" data-ref-filename="371AllOnesEltMask">AllOnesEltMask</a>,</td></tr>
<tr><th id="1868">1868</th><td>                                              <span class='refarg'><a class="local col0 ref" href="#370UndefElts" title='UndefElts' data-ref="370UndefElts" data-ref-filename="370UndefElts">UndefElts</a></span>)) {</td></tr>
<tr><th id="1869">1869</th><td>      <b>if</b> (<a class="local col2 ref" href="#372V" title='V' data-ref="372V" data-ref-filename="372V">V</a> != &amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>)</td></tr>
<tr><th id="1870">1870</th><td>        <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a></span>, <a class="local col2 ref" href="#372V" title='V' data-ref="372V" data-ref-filename="372V">V</a>);</td></tr>
<tr><th id="1871">1871</th><td>      <b>return</b> &amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>;</td></tr>
<tr><th id="1872">1872</th><td>    }</td></tr>
<tr><th id="1873">1873</th><td></td></tr>
<tr><th id="1874">1874</th><td>    <i>// TODO: 1) Scalarize splat operands, 2) scalarize entire instruction if</i></td></tr>
<tr><th id="1875">1875</th><td><i>    // possible (decide on canonical form for pointer broadcast), 3) exploit</i></td></tr>
<tr><th id="1876">1876</th><td><i>    // undef elements to decrease demanded bits</i></td></tr>
<tr><th id="1877">1877</th><td>  }</td></tr>
<tr><th id="1878">1878</th><td></td></tr>
<tr><th id="1879">1879</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="373PtrOp" title='PtrOp' data-type='llvm::Value *' data-ref="373PtrOp" data-ref-filename="373PtrOp">PtrOp</dfn> = <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="1880">1880</th><td></td></tr>
<tr><th id="1881">1881</th><td>  <i>// Eliminate unneeded casts for indices, and replace indices which displace</i></td></tr>
<tr><th id="1882">1882</th><td><i>  // by multiples of a zero size type with zero.</i></td></tr>
<tr><th id="1883">1883</th><td>  <em>bool</em> <dfn class="local col4 decl" id="374MadeChange" title='MadeChange' data-type='bool' data-ref="374MadeChange" data-ref-filename="374MadeChange">MadeChange</dfn> = <b>false</b>;</td></tr>
<tr><th id="1884">1884</th><td></td></tr>
<tr><th id="1885">1885</th><td>  <i>// Index width may not be the same width as pointer width.</i></td></tr>
<tr><th id="1886">1886</th><td><i>  // Data layout chooses the right type based on supported integer types.</i></td></tr>
<tr><th id="1887">1887</th><td>  <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col5 decl" id="375NewScalarIndexTy" title='NewScalarIndexTy' data-type='llvm::Type *' data-ref="375NewScalarIndexTy" data-ref-filename="375NewScalarIndexTy">NewScalarIndexTy</dfn> =</td></tr>
<tr><th id="1888">1888</th><td>      <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout12getIndexTypeEPNS_4TypeE" title='llvm::DataLayout::getIndexType' data-ref="_ZNK4llvm10DataLayout12getIndexTypeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout12getIndexTypeEPNS_4TypeE">getIndexType</a>(<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst21getPointerOperandTypeEv" title='llvm::GetElementPtrInst::getPointerOperandType' data-ref="_ZNK4llvm17GetElementPtrInst21getPointerOperandTypeEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst21getPointerOperandTypeEv">getPointerOperandType</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type13getScalarTypeEv" title='llvm::Type::getScalarType' data-ref="_ZNK4llvm4Type13getScalarTypeEv" data-ref-filename="_ZNK4llvm4Type13getScalarTypeEv">getScalarType</a>());</td></tr>
<tr><th id="1889">1889</th><td></td></tr>
<tr><th id="1890">1890</th><td>  <a class="typedef" href="../../../include/llvm/IR/GetElementPtrTypeIterator.h.html#llvm::gep_type_iterator" title='llvm::gep_type_iterator' data-type='generic_gep_type_iterator&lt;&gt;' data-ref="llvm::gep_type_iterator" data-ref-filename="llvm..gep_type_iterator">gep_type_iterator</a> <dfn class="local col6 decl" id="376GTI" title='GTI' data-type='llvm::gep_type_iterator' data-ref="376GTI" data-ref-filename="376GTI">GTI</dfn> = <a class="ref fn" href="../../../include/llvm/IR/GetElementPtrTypeIterator.h.html#_ZN4llvm14gep_type_beginERKNS_4UserE" title='llvm::gep_type_begin' data-ref="_ZN4llvm14gep_type_beginERKNS_4UserE" data-ref-filename="_ZN4llvm14gep_type_beginERKNS_4UserE">gep_type_begin</a>(<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>);</td></tr>
<tr><th id="1891">1891</th><td>  <b>for</b> (<a class="type" href="../../../include/llvm/IR/User.h.html#llvm::User" title='llvm::User' data-ref="llvm::User" data-ref-filename="llvm..User">User</a>::<a class="typedef" href="../../../include/llvm/IR/User.h.html#llvm::User::op_iterator" title='llvm::User::op_iterator' data-type='llvm::Use *' data-ref="llvm::User::op_iterator" data-ref-filename="llvm..User..op_iterator">op_iterator</a> <dfn class="local col7 decl" id="377I" title='I' data-type='User::op_iterator' data-ref="377I" data-ref-filename="377I">I</dfn> = <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::op_begin' data-ref="_ZN4llvm17GetElementPtrInst8op_beginEv" data-ref-filename="_ZN4llvm17GetElementPtrInst8op_beginEv">op_begin</a>() + <var>1</var>, <dfn class="local col8 decl" id="378E" title='E' data-type='User::op_iterator' data-ref="378E" data-ref-filename="378E">E</dfn> = <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::op_end' data-ref="_ZN4llvm17GetElementPtrInst6op_endEv" data-ref-filename="_ZN4llvm17GetElementPtrInst6op_endEv">op_end</a>(); <a class="local col7 ref" href="#377I" title='I' data-ref="377I" data-ref-filename="377I">I</a> != <a class="local col8 ref" href="#378E" title='E' data-ref="378E" data-ref-filename="378E">E</a>;</td></tr>
<tr><th id="1892">1892</th><td>       ++<a class="local col7 ref" href="#377I" title='I' data-ref="377I" data-ref-filename="377I">I</a>, <a class="ref fn" href="../../../include/llvm/IR/GetElementPtrTypeIterator.h.html#_ZN4llvm25generic_gep_type_iteratorppEv" title='llvm::generic_gep_type_iterator::operator++' data-ref="_ZN4llvm25generic_gep_type_iteratorppEv" data-ref-filename="_ZN4llvm25generic_gep_type_iteratorppEv">++</a><a class="local col6 ref" href="#376GTI" title='GTI' data-ref="376GTI" data-ref-filename="376GTI">GTI</a>) {</td></tr>
<tr><th id="1893">1893</th><td>    <i>// Skip indices into struct types.</i></td></tr>
<tr><th id="1894">1894</th><td>    <b>if</b> (<a class="local col6 ref" href="#376GTI" title='GTI' data-ref="376GTI" data-ref-filename="376GTI">GTI</a>.<a class="ref fn" href="../../../include/llvm/IR/GetElementPtrTypeIterator.h.html#_ZNK4llvm25generic_gep_type_iterator8isStructEv" title='llvm::generic_gep_type_iterator::isStruct' data-ref="_ZNK4llvm25generic_gep_type_iterator8isStructEv" data-ref-filename="_ZNK4llvm25generic_gep_type_iterator8isStructEv">isStruct</a>())</td></tr>
<tr><th id="1895">1895</th><td>      <b>continue</b>;</td></tr>
<tr><th id="1896">1896</th><td></td></tr>
<tr><th id="1897">1897</th><td>    <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col9 decl" id="379IndexTy" title='IndexTy' data-type='llvm::Type *' data-ref="379IndexTy" data-ref-filename="379IndexTy">IndexTy</dfn> = (*<a class="local col7 ref" href="#377I" title='I' data-ref="377I" data-ref-filename="377I">I</a>)<a class="ref fn" href="../../../include/llvm/IR/Use.h.html#_ZN4llvm3UseptEv" title='llvm::Use::operator-&gt;' data-ref="_ZN4llvm3UseptEv" data-ref-filename="_ZN4llvm3UseptEv">-&gt;</a><a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>();</td></tr>
<tr><th id="1898">1898</th><td>    <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col0 decl" id="380NewIndexType" title='NewIndexType' data-type='llvm::Type *' data-ref="380NewIndexType" data-ref-filename="380NewIndexType">NewIndexType</dfn> =</td></tr>
<tr><th id="1899">1899</th><td>        <a class="local col9 ref" href="#379IndexTy" title='IndexTy' data-ref="379IndexTy" data-ref-filename="379IndexTy">IndexTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type10isVectorTyEv" title='llvm::Type::isVectorTy' data-ref="_ZNK4llvm4Type10isVectorTyEv" data-ref-filename="_ZNK4llvm4Type10isVectorTyEv">isVectorTy</a>()</td></tr>
<tr><th id="1900">1900</th><td>            ? <a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::VectorType" title='llvm::VectorType' data-ref="llvm::VectorType" data-ref-filename="llvm..VectorType">VectorType</a>::<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZN4llvm10VectorType3getEPNS_4TypeENS_12ElementCountE" title='llvm::VectorType::get' data-ref="_ZN4llvm10VectorType3getEPNS_4TypeENS_12ElementCountE" data-ref-filename="_ZN4llvm10VectorType3getEPNS_4TypeENS_12ElementCountE">get</a>(<a class="local col5 ref" href="#375NewScalarIndexTy" title='NewScalarIndexTy' data-ref="375NewScalarIndexTy" data-ref-filename="375NewScalarIndexTy">NewScalarIndexTy</a>,</td></tr>
<tr><th id="1901">1901</th><td>                              <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::VectorType" title='llvm::VectorType' data-ref="llvm::VectorType" data-ref-filename="llvm..VectorType">VectorType</a>&gt;(<a class="local col9 ref" href="#379IndexTy" title='IndexTy' data-ref="379IndexTy" data-ref-filename="379IndexTy">IndexTy</a>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm10VectorType15getElementCountEv" title='llvm::VectorType::getElementCount' data-ref="_ZNK4llvm10VectorType15getElementCountEv" data-ref-filename="_ZNK4llvm10VectorType15getElementCountEv">getElementCount</a>())</td></tr>
<tr><th id="1902">1902</th><td>            : <a class="local col5 ref" href="#375NewScalarIndexTy" title='NewScalarIndexTy' data-ref="375NewScalarIndexTy" data-ref-filename="375NewScalarIndexTy">NewScalarIndexTy</a>;</td></tr>
<tr><th id="1903">1903</th><td></td></tr>
<tr><th id="1904">1904</th><td>    <i>// If the element type has zero size then any index over it is equivalent</i></td></tr>
<tr><th id="1905">1905</th><td><i>    // to an index of zero, so replace it with zero if it is not zero already.</i></td></tr>
<tr><th id="1906">1906</th><td>    <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col1 decl" id="381EltTy" title='EltTy' data-type='llvm::Type *' data-ref="381EltTy" data-ref-filename="381EltTy">EltTy</dfn> = <a class="local col6 ref" href="#376GTI" title='GTI' data-ref="376GTI" data-ref-filename="376GTI">GTI</a>.<a class="ref fn" href="../../../include/llvm/IR/GetElementPtrTypeIterator.h.html#_ZNK4llvm25generic_gep_type_iterator14getIndexedTypeEv" title='llvm::generic_gep_type_iterator::getIndexedType' data-ref="_ZNK4llvm25generic_gep_type_iterator14getIndexedTypeEv" data-ref-filename="_ZNK4llvm25generic_gep_type_iterator14getIndexedTypeEv">getIndexedType</a>();</td></tr>
<tr><th id="1907">1907</th><td>    <b>if</b> (<a class="local col1 ref" href="#381EltTy" title='EltTy' data-ref="381EltTy" data-ref-filename="381EltTy">EltTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE" title='llvm::Type::isSized' data-ref="_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE" data-ref-filename="_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE">isSized</a>() &amp;&amp; <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeAllocSize' data-ref="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE">getTypeAllocSize</a>(<a class="local col1 ref" href="#381EltTy" title='EltTy' data-ref="381EltTy" data-ref-filename="381EltTy">EltTy</a>).<a class="ref fn" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm24UnivariateLinearPolyBase6isZeroEv" title='llvm::UnivariateLinearPolyBase::isZero' data-ref="_ZNK4llvm24UnivariateLinearPolyBase6isZeroEv" data-ref-filename="_ZNK4llvm24UnivariateLinearPolyBase6isZeroEv">isZero</a>())</td></tr>
<tr><th id="1908">1908</th><td>      <b>if</b> (!<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(*<a class="local col7 ref" href="#377I" title='I' data-ref="377I" data-ref-filename="377I">I</a>) || !<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col7 ref" href="#377I" title='I' data-ref="377I" data-ref-filename="377I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Use.h.html#_ZNK4llvm3Use3getEv" title='llvm::Use::get' data-ref="_ZNK4llvm3Use3getEv" data-ref-filename="_ZNK4llvm3Use3getEv">get</a>(), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_ZeroEv" title='llvm::PatternMatch::m_Zero' data-ref="_ZN4llvm12PatternMatch6m_ZeroEv" data-ref-filename="_ZN4llvm12PatternMatch6m_ZeroEv">m_Zero</a>())) {</td></tr>
<tr><th id="1909">1909</th><td>        *<a class="local col7 ref" href="#377I" title='I' data-ref="377I" data-ref-filename="377I">I</a> <a class="ref fn" href="../../../include/llvm/IR/Use.h.html#_ZN4llvm3UseaSEPNS_5ValueE" title='llvm::Use::operator=' data-ref="_ZN4llvm3UseaSEPNS_5ValueE" data-ref-filename="_ZN4llvm3UseaSEPNS_5ValueE">=</a> <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>::<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZN4llvm8Constant12getNullValueEPNS_4TypeE" title='llvm::Constant::getNullValue' data-ref="_ZN4llvm8Constant12getNullValueEPNS_4TypeE" data-ref-filename="_ZN4llvm8Constant12getNullValueEPNS_4TypeE">getNullValue</a>(<a class="local col0 ref" href="#380NewIndexType" title='NewIndexType' data-ref="380NewIndexType" data-ref-filename="380NewIndexType">NewIndexType</a>);</td></tr>
<tr><th id="1910">1910</th><td>        <a class="local col4 ref" href="#374MadeChange" title='MadeChange' data-ref="374MadeChange" data-ref-filename="374MadeChange">MadeChange</a> = <b>true</b>;</td></tr>
<tr><th id="1911">1911</th><td>      }</td></tr>
<tr><th id="1912">1912</th><td></td></tr>
<tr><th id="1913">1913</th><td>    <b>if</b> (<a class="local col9 ref" href="#379IndexTy" title='IndexTy' data-ref="379IndexTy" data-ref-filename="379IndexTy">IndexTy</a> != <a class="local col0 ref" href="#380NewIndexType" title='NewIndexType' data-ref="380NewIndexType" data-ref-filename="380NewIndexType">NewIndexType</a>) {</td></tr>
<tr><th id="1914">1914</th><td>      <i>// If we are using a wider index than needed for this platform, shrink</i></td></tr>
<tr><th id="1915">1915</th><td><i>      // it to what we need.  If narrower, sign-extend it to what we need.</i></td></tr>
<tr><th id="1916">1916</th><td><i>      // This explicit cast can make subsequent optimizations more obvious.</i></td></tr>
<tr><th id="1917">1917</th><td>      *<a class="local col7 ref" href="#377I" title='I' data-ref="377I" data-ref-filename="377I">I</a> <a class="ref fn" href="../../../include/llvm/IR/Use.h.html#_ZN4llvm3UseaSEPNS_5ValueE" title='llvm::Use::operator=' data-ref="_ZN4llvm3UseaSEPNS_5ValueE" data-ref-filename="_ZN4llvm3UseaSEPNS_5ValueE">=</a> <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateIntCastEPNS_5ValueEPNS_4TypeEbRKNS_5TwineE" title='llvm::IRBuilderBase::CreateIntCast' data-ref="_ZN4llvm13IRBuilderBase13CreateIntCastEPNS_5ValueEPNS_4TypeEbRKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateIntCastEPNS_5ValueEPNS_4TypeEbRKNS_5TwineE">CreateIntCast</a>(<a class="ref fn fake" href="../../../include/llvm/IR/Use.h.html#_ZNK4llvm3UsecvPNS_5ValueEEv" title='llvm::Use::operator llvm::Value *' data-ref="_ZNK4llvm3UsecvPNS_5ValueEEv" data-ref-filename="_ZNK4llvm3UsecvPNS_5ValueEEv"></a>*<a class="local col7 ref" href="#377I" title='I' data-ref="377I" data-ref-filename="377I">I</a>, <a class="local col0 ref" href="#380NewIndexType" title='NewIndexType' data-ref="380NewIndexType" data-ref-filename="380NewIndexType">NewIndexType</a>, <b>true</b>);</td></tr>
<tr><th id="1918">1918</th><td>      <a class="local col4 ref" href="#374MadeChange" title='MadeChange' data-ref="374MadeChange" data-ref-filename="374MadeChange">MadeChange</a> = <b>true</b>;</td></tr>
<tr><th id="1919">1919</th><td>    }</td></tr>
<tr><th id="1920">1920</th><td>  }</td></tr>
<tr><th id="1921">1921</th><td>  <b>if</b> (<a class="local col4 ref" href="#374MadeChange" title='MadeChange' data-ref="374MadeChange" data-ref-filename="374MadeChange">MadeChange</a>)</td></tr>
<tr><th id="1922">1922</th><td>    <b>return</b> &amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>;</td></tr>
<tr><th id="1923">1923</th><td></td></tr>
<tr><th id="1924">1924</th><td>  <i>// Check to see if the inputs to the PHI node are getelementptr instructions.</i></td></tr>
<tr><th id="1925">1925</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col2 decl" id="382PN" title='PN' data-type='llvm::PHINode *' data-ref="382PN" data-ref-filename="382PN"><a class="local col2 ref" href="#382PN" title='PN' data-ref="382PN" data-ref-filename="382PN">PN</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a>&gt;(<a class="local col3 ref" href="#373PtrOp" title='PtrOp' data-ref="373PtrOp" data-ref-filename="373PtrOp">PtrOp</a>)) {</td></tr>
<tr><th id="1926">1926</th><td>    <em>auto</em> *<dfn class="local col3 decl" id="383Op1" title='Op1' data-type='llvm::GetElementPtrInst *' data-ref="383Op1" data-ref-filename="383Op1">Op1</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::GetElementPtrInst" title='llvm::GetElementPtrInst' data-ref="llvm::GetElementPtrInst" data-ref-filename="llvm..GetElementPtrInst">GetElementPtrInst</a>&gt;(<a class="local col2 ref" href="#382PN" title='PN' data-ref="382PN" data-ref-filename="382PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#2634" title='llvm::PHINode::getOperand' data-ref="_ZNK4llvm7PHINode10getOperandEj" data-ref-filename="_ZNK4llvm7PHINode10getOperandEj">getOperand</a>(<var>0</var>));</td></tr>
<tr><th id="1927">1927</th><td>    <b>if</b> (!<a class="local col3 ref" href="#383Op1" title='Op1' data-ref="383Op1" data-ref-filename="383Op1">Op1</a>)</td></tr>
<tr><th id="1928">1928</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1929">1929</th><td></td></tr>
<tr><th id="1930">1930</th><td>    <i>// Don't fold a GEP into itself through a PHI node. This can only happen</i></td></tr>
<tr><th id="1931">1931</th><td><i>    // through the back-edge of a loop. Folding a GEP into itself means that</i></td></tr>
<tr><th id="1932">1932</th><td><i>    // the value of the previous iteration needs to be stored in the meantime,</i></td></tr>
<tr><th id="1933">1933</th><td><i>    // thus requiring an additional register variable to be live, but not</i></td></tr>
<tr><th id="1934">1934</th><td><i>    // actually achieving anything (the GEP still needs to be executed once per</i></td></tr>
<tr><th id="1935">1935</th><td><i>    // loop iteration).</i></td></tr>
<tr><th id="1936">1936</th><td>    <b>if</b> (<a class="local col3 ref" href="#383Op1" title='Op1' data-ref="383Op1" data-ref-filename="383Op1">Op1</a> == &amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>)</td></tr>
<tr><th id="1937">1937</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1938">1938</th><td></td></tr>
<tr><th id="1939">1939</th><td>    <em>int</em> <dfn class="local col4 decl" id="384DI" title='DI' data-type='int' data-ref="384DI" data-ref-filename="384DI">DI</dfn> = -<var>1</var>;</td></tr>
<tr><th id="1940">1940</th><td></td></tr>
<tr><th id="1941">1941</th><td>    <b>for</b> (<em>auto</em> <dfn class="local col5 decl" id="385I" title='I' data-type='llvm::Use *' data-ref="385I" data-ref-filename="385I">I</dfn> = <a class="local col2 ref" href="#382PN" title='PN' data-ref="382PN" data-ref-filename="382PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#2634" title='llvm::PHINode::op_begin' data-ref="_ZN4llvm7PHINode8op_beginEv" data-ref-filename="_ZN4llvm7PHINode8op_beginEv">op_begin</a>()+<var>1</var>, <dfn class="local col6 decl" id="386E" title='E' data-type='llvm::Use *' data-ref="386E" data-ref-filename="386E">E</dfn> = <a class="local col2 ref" href="#382PN" title='PN' data-ref="382PN" data-ref-filename="382PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#2634" title='llvm::PHINode::op_end' data-ref="_ZN4llvm7PHINode6op_endEv" data-ref-filename="_ZN4llvm7PHINode6op_endEv">op_end</a>(); <a class="local col5 ref" href="#385I" title='I' data-ref="385I" data-ref-filename="385I">I</a> !=<a class="local col6 ref" href="#386E" title='E' data-ref="386E" data-ref-filename="386E">E</a>; ++<a class="local col5 ref" href="#385I" title='I' data-ref="385I" data-ref-filename="385I">I</a>) {</td></tr>
<tr><th id="1942">1942</th><td>      <em>auto</em> *<dfn class="local col7 decl" id="387Op2" title='Op2' data-type='llvm::GetElementPtrInst *' data-ref="387Op2" data-ref-filename="387Op2">Op2</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castERT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castERT0_" data-ref-filename="_ZN4llvm8dyn_castERT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::GetElementPtrInst" title='llvm::GetElementPtrInst' data-ref="llvm::GetElementPtrInst" data-ref-filename="llvm..GetElementPtrInst">GetElementPtrInst</a>&gt;(<span class='refarg'>*<a class="local col5 ref" href="#385I" title='I' data-ref="385I" data-ref-filename="385I">I</a></span>);</td></tr>
<tr><th id="1943">1943</th><td>      <b>if</b> (!<a class="local col7 ref" href="#387Op2" title='Op2' data-ref="387Op2" data-ref-filename="387Op2">Op2</a> || <a class="local col3 ref" href="#383Op1" title='Op1' data-ref="383Op1" data-ref-filename="383Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getNumOperands' data-ref="_ZNK4llvm17GetElementPtrInst14getNumOperandsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst14getNumOperandsEv">getNumOperands</a>() != <a class="local col7 ref" href="#387Op2" title='Op2' data-ref="387Op2" data-ref-filename="387Op2">Op2</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getNumOperands' data-ref="_ZNK4llvm17GetElementPtrInst14getNumOperandsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst14getNumOperandsEv">getNumOperands</a>())</td></tr>
<tr><th id="1944">1944</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1945">1945</th><td></td></tr>
<tr><th id="1946">1946</th><td>      <i>// As for Op1 above, don't try to fold a GEP into itself.</i></td></tr>
<tr><th id="1947">1947</th><td>      <b>if</b> (<a class="local col7 ref" href="#387Op2" title='Op2' data-ref="387Op2" data-ref-filename="387Op2">Op2</a> == &amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>)</td></tr>
<tr><th id="1948">1948</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1949">1949</th><td></td></tr>
<tr><th id="1950">1950</th><td>      <i>// Keep track of the type as we walk the GEP.</i></td></tr>
<tr><th id="1951">1951</th><td>      <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col8 decl" id="388CurTy" title='CurTy' data-type='llvm::Type *' data-ref="388CurTy" data-ref-filename="388CurTy">CurTy</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="1952">1952</th><td></td></tr>
<tr><th id="1953">1953</th><td>      <b>for</b> (<em>unsigned</em> <dfn class="local col9 decl" id="389J" title='J' data-type='unsigned int' data-ref="389J" data-ref-filename="389J">J</dfn> = <var>0</var>, <dfn class="local col0 decl" id="390F" title='F' data-type='unsigned int' data-ref="390F" data-ref-filename="390F">F</dfn> = <a class="local col3 ref" href="#383Op1" title='Op1' data-ref="383Op1" data-ref-filename="383Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getNumOperands' data-ref="_ZNK4llvm17GetElementPtrInst14getNumOperandsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst14getNumOperandsEv">getNumOperands</a>(); <a class="local col9 ref" href="#389J" title='J' data-ref="389J" data-ref-filename="389J">J</a> != <a class="local col0 ref" href="#390F" title='F' data-ref="390F" data-ref-filename="390F">F</a>; ++<a class="local col9 ref" href="#389J" title='J' data-ref="389J" data-ref-filename="389J">J</a>) {</td></tr>
<tr><th id="1954">1954</th><td>        <b>if</b> (<a class="local col3 ref" href="#383Op1" title='Op1' data-ref="383Op1" data-ref-filename="383Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<a class="local col9 ref" href="#389J" title='J' data-ref="389J" data-ref-filename="389J">J</a>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>() != <a class="local col7 ref" href="#387Op2" title='Op2' data-ref="387Op2" data-ref-filename="387Op2">Op2</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<a class="local col9 ref" href="#389J" title='J' data-ref="389J" data-ref-filename="389J">J</a>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>())</td></tr>
<tr><th id="1955">1955</th><td>          <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1956">1956</th><td></td></tr>
<tr><th id="1957">1957</th><td>        <b>if</b> (<a class="local col3 ref" href="#383Op1" title='Op1' data-ref="383Op1" data-ref-filename="383Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<a class="local col9 ref" href="#389J" title='J' data-ref="389J" data-ref-filename="389J">J</a>) != <a class="local col7 ref" href="#387Op2" title='Op2' data-ref="387Op2" data-ref-filename="387Op2">Op2</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<a class="local col9 ref" href="#389J" title='J' data-ref="389J" data-ref-filename="389J">J</a>)) {</td></tr>
<tr><th id="1958">1958</th><td>          <b>if</b> (<a class="local col4 ref" href="#384DI" title='DI' data-ref="384DI" data-ref-filename="384DI">DI</a> == -<var>1</var>) {</td></tr>
<tr><th id="1959">1959</th><td>            <i>// We have not seen any differences yet in the GEPs feeding the</i></td></tr>
<tr><th id="1960">1960</th><td><i>            // PHI yet, so we record this one if it is allowed to be a</i></td></tr>
<tr><th id="1961">1961</th><td><i>            // variable.</i></td></tr>
<tr><th id="1962">1962</th><td><i></i></td></tr>
<tr><th id="1963">1963</th><td><i>            // The first two arguments can vary for any GEP, the rest have to be</i></td></tr>
<tr><th id="1964">1964</th><td><i>            // static for struct slots</i></td></tr>
<tr><th id="1965">1965</th><td>            <b>if</b> (<a class="local col9 ref" href="#389J" title='J' data-ref="389J" data-ref-filename="389J">J</a> &gt; <var>1</var>) {</td></tr>
<tr><th id="1966">1966</th><td>              <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(CurTy &amp;&amp; <q>"No current type?"</q>);</td></tr>
<tr><th id="1967">1967</th><td>              <b>if</b> (<a class="local col8 ref" href="#388CurTy" title='CurTy' data-ref="388CurTy" data-ref-filename="388CurTy">CurTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type10isStructTyEv" title='llvm::Type::isStructTy' data-ref="_ZNK4llvm4Type10isStructTyEv" data-ref-filename="_ZNK4llvm4Type10isStructTyEv">isStructTy</a>())</td></tr>
<tr><th id="1968">1968</th><td>                <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1969">1969</th><td>            }</td></tr>
<tr><th id="1970">1970</th><td></td></tr>
<tr><th id="1971">1971</th><td>            <a class="local col4 ref" href="#384DI" title='DI' data-ref="384DI" data-ref-filename="384DI">DI</a> = <a class="local col9 ref" href="#389J" title='J' data-ref="389J" data-ref-filename="389J">J</a>;</td></tr>
<tr><th id="1972">1972</th><td>          } <b>else</b> {</td></tr>
<tr><th id="1973">1973</th><td>            <i>// The GEP is different by more than one input. While this could be</i></td></tr>
<tr><th id="1974">1974</th><td><i>            // extended to support GEPs that vary by more than one variable it</i></td></tr>
<tr><th id="1975">1975</th><td><i>            // doesn't make sense since it greatly increases the complexity and</i></td></tr>
<tr><th id="1976">1976</th><td><i>            // would result in an R+R+R addressing mode which no backend</i></td></tr>
<tr><th id="1977">1977</th><td><i>            // directly supports and would need to be broken into several</i></td></tr>
<tr><th id="1978">1978</th><td><i>            // simpler instructions anyway.</i></td></tr>
<tr><th id="1979">1979</th><td>            <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="1980">1980</th><td>          }</td></tr>
<tr><th id="1981">1981</th><td>        }</td></tr>
<tr><th id="1982">1982</th><td></td></tr>
<tr><th id="1983">1983</th><td>        <i>// Sink down a layer of the type for the next iteration.</i></td></tr>
<tr><th id="1984">1984</th><td>        <b>if</b> (<a class="local col9 ref" href="#389J" title='J' data-ref="389J" data-ref-filename="389J">J</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="1985">1985</th><td>          <b>if</b> (<a class="local col9 ref" href="#389J" title='J' data-ref="389J" data-ref-filename="389J">J</a> == <var>1</var>) {</td></tr>
<tr><th id="1986">1986</th><td>            <a class="local col8 ref" href="#388CurTy" title='CurTy' data-ref="388CurTy" data-ref-filename="388CurTy">CurTy</a> = <a class="local col3 ref" href="#383Op1" title='Op1' data-ref="383Op1" data-ref-filename="383Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst20getSourceElementTypeEv" title='llvm::GetElementPtrInst::getSourceElementType' data-ref="_ZNK4llvm17GetElementPtrInst20getSourceElementTypeEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst20getSourceElementTypeEv">getSourceElementType</a>();</td></tr>
<tr><th id="1987">1987</th><td>          } <b>else</b> {</td></tr>
<tr><th id="1988">1988</th><td>            <a class="local col8 ref" href="#388CurTy" title='CurTy' data-ref="388CurTy" data-ref-filename="388CurTy">CurTy</a> =</td></tr>
<tr><th id="1989">1989</th><td>                <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::GetElementPtrInst" title='llvm::GetElementPtrInst' data-ref="llvm::GetElementPtrInst" data-ref-filename="llvm..GetElementPtrInst">GetElementPtrInst</a>::<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst14getTypeAtIndexEPNS_4TypeEPNS_5ValueE" title='llvm::GetElementPtrInst::getTypeAtIndex' data-ref="_ZN4llvm17GetElementPtrInst14getTypeAtIndexEPNS_4TypeEPNS_5ValueE" data-ref-filename="_ZN4llvm17GetElementPtrInst14getTypeAtIndexEPNS_4TypeEPNS_5ValueE">getTypeAtIndex</a>(<a class="local col8 ref" href="#388CurTy" title='CurTy' data-ref="388CurTy" data-ref-filename="388CurTy">CurTy</a>, <a class="local col3 ref" href="#383Op1" title='Op1' data-ref="383Op1" data-ref-filename="383Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<a class="local col9 ref" href="#389J" title='J' data-ref="389J" data-ref-filename="389J">J</a>));</td></tr>
<tr><th id="1990">1990</th><td>          }</td></tr>
<tr><th id="1991">1991</th><td>        }</td></tr>
<tr><th id="1992">1992</th><td>      }</td></tr>
<tr><th id="1993">1993</th><td>    }</td></tr>
<tr><th id="1994">1994</th><td></td></tr>
<tr><th id="1995">1995</th><td>    <i>// If not all GEPs are identical we'll have to create a new PHI node.</i></td></tr>
<tr><th id="1996">1996</th><td><i>    // Check that the old PHI node has only one use so that it will get</i></td></tr>
<tr><th id="1997">1997</th><td><i>    // removed.</i></td></tr>
<tr><th id="1998">1998</th><td>    <b>if</b> (<a class="local col4 ref" href="#384DI" title='DI' data-ref="384DI" data-ref-filename="384DI">DI</a> != -<var>1</var> &amp;&amp; !<a class="local col2 ref" href="#382PN" title='PN' data-ref="382PN" data-ref-filename="382PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>())</td></tr>
<tr><th id="1999">1999</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2000">2000</th><td></td></tr>
<tr><th id="2001">2001</th><td>    <em>auto</em> *<dfn class="local col1 decl" id="391NewGEP" title='NewGEP' data-type='llvm::GetElementPtrInst *' data-ref="391NewGEP" data-ref-filename="391NewGEP">NewGEP</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::GetElementPtrInst" title='llvm::GetElementPtrInst' data-ref="llvm::GetElementPtrInst" data-ref-filename="llvm..GetElementPtrInst">GetElementPtrInst</a>&gt;(<a class="local col3 ref" href="#383Op1" title='Op1' data-ref="383Op1" data-ref-filename="383Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction5cloneEv" title='llvm::Instruction::clone' data-ref="_ZNK4llvm11Instruction5cloneEv" data-ref-filename="_ZNK4llvm11Instruction5cloneEv">clone</a>());</td></tr>
<tr><th id="2002">2002</th><td>    <b>if</b> (<a class="local col4 ref" href="#384DI" title='DI' data-ref="384DI" data-ref-filename="384DI">DI</a> == -<var>1</var>) {</td></tr>
<tr><th id="2003">2003</th><td>      <i>// All the GEPs feeding the PHI are identical. Clone one down into our</i></td></tr>
<tr><th id="2004">2004</th><td><i>      // BB so that it can be merged with the current GEP.</i></td></tr>
<tr><th id="2005">2005</th><td>    } <b>else</b> {</td></tr>
<tr><th id="2006">2006</th><td>      <i>// All the GEPs feeding the PHI differ at a single offset. Clone a GEP</i></td></tr>
<tr><th id="2007">2007</th><td><i>      // into the current block so it can be merged, and create a new PHI to</i></td></tr>
<tr><th id="2008">2008</th><td><i>      // set that index.</i></td></tr>
<tr><th id="2009">2009</th><td>      <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a> *<dfn class="local col2 decl" id="392NewPN" title='NewPN' data-type='llvm::PHINode *' data-ref="392NewPN" data-ref-filename="392NewPN">NewPN</dfn>;</td></tr>
<tr><th id="2010">2010</th><td>      {</td></tr>
<tr><th id="2011">2011</th><td>        <a class="type" href="../../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilderBase" title='llvm::IRBuilderBase' data-ref="llvm::IRBuilderBase" data-ref-filename="llvm..IRBuilderBase">IRBuilderBase</a>::<a class="type" href="../../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilderBase::InsertPointGuard" title='llvm::IRBuilderBase::InsertPointGuard' data-ref="llvm::IRBuilderBase::InsertPointGuard" data-ref-filename="llvm..IRBuilderBase..InsertPointGuard">InsertPointGuard</a> <dfn class="local col3 decl" id="393Guard" title='Guard' data-type='IRBuilderBase::InsertPointGuard' data-ref="393Guard" data-ref-filename="393Guard">Guard</dfn><a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase16InsertPointGuardC1ERS0_" title='llvm::IRBuilderBase::InsertPointGuard::InsertPointGuard' data-ref="_ZN4llvm13IRBuilderBase16InsertPointGuardC1ERS0_" data-ref-filename="_ZN4llvm13IRBuilderBase16InsertPointGuardC1ERS0_">(</a><a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>);</td></tr>
<tr><th id="2012">2012</th><td>        <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE">SetInsertPoint</a>(<a class="local col2 ref" href="#382PN" title='PN' data-ref="382PN" data-ref-filename="382PN">PN</a>);</td></tr>
<tr><th id="2013">2013</th><td>        <a class="local col2 ref" href="#392NewPN" title='NewPN' data-ref="392NewPN" data-ref-filename="392NewPN">NewPN</a> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" title='llvm::IRBuilderBase::CreatePHI' data-ref="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE">CreatePHI</a>(<a class="local col3 ref" href="#383Op1" title='Op1' data-ref="383Op1" data-ref-filename="383Op1">Op1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<a class="local col4 ref" href="#384DI" title='DI' data-ref="384DI" data-ref-filename="384DI">DI</a>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(),</td></tr>
<tr><th id="2014">2014</th><td>                                  <a class="local col2 ref" href="#382PN" title='PN' data-ref="382PN" data-ref-filename="382PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#2634" title='llvm::PHINode::getNumOperands' data-ref="_ZNK4llvm7PHINode14getNumOperandsEv" data-ref-filename="_ZNK4llvm7PHINode14getNumOperandsEv">getNumOperands</a>());</td></tr>
<tr><th id="2015">2015</th><td>      }</td></tr>
<tr><th id="2016">2016</th><td></td></tr>
<tr><th id="2017">2017</th><td>      <b>for</b> (<em>auto</em> &amp;<dfn class="local col4 decl" id="394I" title='I' data-type='llvm::Use &amp;' data-ref="394I" data-ref-filename="394I">I</dfn> : <a class="local col2 ref" href="#382PN" title='PN' data-ref="382PN" data-ref-filename="382PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZN4llvm4User8operandsEv" title='llvm::User::operands' data-ref="_ZN4llvm4User8operandsEv" data-ref-filename="_ZN4llvm4User8operandsEv">operands</a>())</td></tr>
<tr><th id="2018">2018</th><td>        <a class="local col2 ref" href="#392NewPN" title='NewPN' data-ref="392NewPN" data-ref-filename="392NewPN">NewPN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castERT0_" title='llvm::cast' data-ref="_ZN4llvm4castERT0_" data-ref-filename="_ZN4llvm4castERT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::GEPOperator" title='llvm::GEPOperator' data-ref="llvm::GEPOperator" data-ref-filename="llvm..GEPOperator">GEPOperator</a>&gt;(<span class='refarg'><a class="local col4 ref" href="#394I" title='I' data-ref="394I" data-ref-filename="394I">I</a></span>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<a class="local col4 ref" href="#384DI" title='DI' data-ref="384DI" data-ref-filename="384DI">DI</a>),</td></tr>
<tr><th id="2019">2019</th><td>                           <a class="local col2 ref" href="#382PN" title='PN' data-ref="382PN" data-ref-filename="382PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingBlockERKNS_3UseE" title='llvm::PHINode::getIncomingBlock' data-ref="_ZNK4llvm7PHINode16getIncomingBlockERKNS_3UseE" data-ref-filename="_ZNK4llvm7PHINode16getIncomingBlockERKNS_3UseE">getIncomingBlock</a>(<a class="local col4 ref" href="#394I" title='I' data-ref="394I" data-ref-filename="394I">I</a>));</td></tr>
<tr><th id="2020">2020</th><td></td></tr>
<tr><th id="2021">2021</th><td>      <a class="local col1 ref" href="#391NewGEP" title='NewGEP' data-ref="391NewGEP" data-ref-filename="391NewGEP">NewGEP</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::setOperand' data-ref="_ZN4llvm17GetElementPtrInst10setOperandEjPNS_5ValueE" data-ref-filename="_ZN4llvm17GetElementPtrInst10setOperandEjPNS_5ValueE">setOperand</a>(<a class="local col4 ref" href="#384DI" title='DI' data-ref="384DI" data-ref-filename="384DI">DI</a>, <a class="local col2 ref" href="#392NewPN" title='NewPN' data-ref="392NewPN" data-ref-filename="392NewPN">NewPN</a>);</td></tr>
<tr><th id="2022">2022</th><td>    }</td></tr>
<tr><th id="2023">2023</th><td></td></tr>
<tr><th id="2024">2024</th><td>    <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock11getInstListEv" title='llvm::BasicBlock::getInstList' data-ref="_ZN4llvm10BasicBlock11getInstListEv" data-ref-filename="_ZN4llvm10BasicBlock11getInstListEv">getInstList</a>().<a class="ref fn" href="../../../include/llvm/ADT/ilist.h.html#_ZN4llvm11iplist_impl6insertENT_8iteratorENS1_7pointerE" title='llvm::iplist_impl::insert' data-ref="_ZN4llvm11iplist_impl6insertENT_8iteratorENS1_7pointerE" data-ref-filename="_ZN4llvm11iplist_impl6insertENT_8iteratorENS1_7pointerE">insert</a>(</td></tr>
<tr><th id="2025">2025</th><td>        <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock19getFirstInsertionPtEv" title='llvm::BasicBlock::getFirstInsertionPt' data-ref="_ZN4llvm10BasicBlock19getFirstInsertionPtEv" data-ref-filename="_ZN4llvm10BasicBlock19getFirstInsertionPtEv">getFirstInsertionPt</a>(), <a class="local col1 ref" href="#391NewGEP" title='NewGEP' data-ref="391NewGEP" data-ref-filename="391NewGEP">NewGEP</a>);</td></tr>
<tr><th id="2026">2026</th><td>    <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a></span>, <var>0</var>, <a class="local col1 ref" href="#391NewGEP" title='NewGEP' data-ref="391NewGEP" data-ref-filename="391NewGEP">NewGEP</a>);</td></tr>
<tr><th id="2027">2027</th><td>    <a class="local col3 ref" href="#373PtrOp" title='PtrOp' data-ref="373PtrOp" data-ref-filename="373PtrOp">PtrOp</a> = <a class="local col1 ref" href="#391NewGEP" title='NewGEP' data-ref="391NewGEP" data-ref-filename="391NewGEP">NewGEP</a>;</td></tr>
<tr><th id="2028">2028</th><td>  }</td></tr>
<tr><th id="2029">2029</th><td></td></tr>
<tr><th id="2030">2030</th><td>  <i>// Combine Indices - If the source pointer to this getelementptr instruction</i></td></tr>
<tr><th id="2031">2031</th><td><i>  // is a getelementptr instruction, combine the indices of the two</i></td></tr>
<tr><th id="2032">2032</th><td><i>  // getelementptr instructions into a single instruction.</i></td></tr>
<tr><th id="2033">2033</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col5 decl" id="395Src" title='Src' data-type='llvm::GEPOperator *' data-ref="395Src" data-ref-filename="395Src"><a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::GEPOperator" title='llvm::GEPOperator' data-ref="llvm::GEPOperator" data-ref-filename="llvm..GEPOperator">GEPOperator</a>&gt;(<a class="local col3 ref" href="#373PtrOp" title='PtrOp' data-ref="373PtrOp" data-ref-filename="373PtrOp">PtrOp</a>)) {</td></tr>
<tr><th id="2034">2034</th><td>    <b>if</b> (!<a class="tu ref fn" href="#_ZL15shouldMergeGEPsRN4llvm11GEPOperatorES1_" title='shouldMergeGEPs' data-use='c' data-ref="_ZL15shouldMergeGEPsRN4llvm11GEPOperatorES1_" data-ref-filename="_ZL15shouldMergeGEPsRN4llvm11GEPOperatorES1_">shouldMergeGEPs</a>(<span class='refarg'>*<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::GEPOperator" title='llvm::GEPOperator' data-ref="llvm::GEPOperator" data-ref-filename="llvm..GEPOperator">GEPOperator</a>&gt;(&amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>)</span>, <span class='refarg'>*<a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a></span>))</td></tr>
<tr><th id="2035">2035</th><td>      <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2036">2036</th><td></td></tr>
<tr><th id="2037">2037</th><td>    <i>// Try to reassociate loop invariant GEP chains to enable LICM.</i></td></tr>
<tr><th id="2038">2038</th><td>    <b>if</b> (<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::LI" title='llvm::InstCombiner::LI' data-ref="llvm::InstCombiner::LI" data-ref-filename="llvm..InstCombiner..LI">LI</a> &amp;&amp; <a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User14getNumOperandsEv" title='llvm::User::getNumOperands' data-ref="_ZNK4llvm4User14getNumOperandsEv" data-ref-filename="_ZNK4llvm4User14getNumOperandsEv">getNumOperands</a>() == <var>2</var> &amp;&amp; <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getNumOperands' data-ref="_ZNK4llvm17GetElementPtrInst14getNumOperandsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst14getNumOperandsEv">getNumOperands</a>() == <var>2</var> &amp;&amp;</td></tr>
<tr><th id="2039">2039</th><td>        <a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>()) {</td></tr>
<tr><th id="2040">2040</th><td>      <b>if</b> (<a class="type" href="../../../include/llvm/Analysis/LoopInfo.h.html#llvm::Loop" title='llvm::Loop' data-ref="llvm::Loop" data-ref-filename="llvm..Loop">Loop</a> *<dfn class="local col6 decl" id="396L" title='L' data-type='llvm::Loop *' data-ref="396L" data-ref-filename="396L"><a class="local col6 ref" href="#396L" title='L' data-ref="396L" data-ref-filename="396L">L</a></dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::LI" title='llvm::InstCombiner::LI' data-ref="llvm::InstCombiner::LI" data-ref-filename="llvm..InstCombiner..LI">LI</a>-&gt;<a class="ref fn" href="../../../include/llvm/Analysis/LoopInfo.h.html#_ZNK4llvm12LoopInfoBase10getLoopForEPKT_" title='llvm::LoopInfoBase::getLoopFor' data-ref="_ZNK4llvm12LoopInfoBase10getLoopForEPKT_" data-ref-filename="_ZNK4llvm12LoopInfoBase10getLoopForEPKT_">getLoopFor</a>(<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>())) {</td></tr>
<tr><th id="2041">2041</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="397GO1" title='GO1' data-type='llvm::Value *' data-ref="397GO1" data-ref-filename="397GO1">GO1</dfn> = <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="2042">2042</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="398SO1" title='SO1' data-type='llvm::Value *' data-ref="398SO1" data-ref-filename="398SO1">SO1</dfn> = <a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="2043">2043</th><td>        <i>// Reassociate the two GEPs if SO1 is variant in the loop and GO1 is</i></td></tr>
<tr><th id="2044">2044</th><td><i>        // invariant: this breaks the dependence between GEPs and allows LICM</i></td></tr>
<tr><th id="2045">2045</th><td><i>        // to hoist the invariant part out of the loop.</i></td></tr>
<tr><th id="2046">2046</th><td>        <b>if</b> (<a class="local col6 ref" href="#396L" title='L' data-ref="396L" data-ref-filename="396L">L</a>-&gt;<a class="ref fn" href="../../../include/llvm/Analysis/LoopInfo.h.html#_ZNK4llvm4Loop15isLoopInvariantEPKNS_5ValueE" title='llvm::Loop::isLoopInvariant' data-ref="_ZNK4llvm4Loop15isLoopInvariantEPKNS_5ValueE" data-ref-filename="_ZNK4llvm4Loop15isLoopInvariantEPKNS_5ValueE">isLoopInvariant</a>(<a class="local col7 ref" href="#397GO1" title='GO1' data-ref="397GO1" data-ref-filename="397GO1">GO1</a>) &amp;&amp; !<a class="local col6 ref" href="#396L" title='L' data-ref="396L" data-ref-filename="396L">L</a>-&gt;<a class="ref fn" href="../../../include/llvm/Analysis/LoopInfo.h.html#_ZNK4llvm4Loop15isLoopInvariantEPKNS_5ValueE" title='llvm::Loop::isLoopInvariant' data-ref="_ZNK4llvm4Loop15isLoopInvariantEPKNS_5ValueE" data-ref-filename="_ZNK4llvm4Loop15isLoopInvariantEPKNS_5ValueE">isLoopInvariant</a>(<a class="local col8 ref" href="#398SO1" title='SO1' data-ref="398SO1" data-ref-filename="398SO1">SO1</a>)) {</td></tr>
<tr><th id="2047">2047</th><td>          <i>// We have to be careful here.</i></td></tr>
<tr><th id="2048">2048</th><td><i>          // We have something like:</i></td></tr>
<tr><th id="2049">2049</th><td><i>          //  %src = getelementptr &lt;ty&gt;, &lt;ty&gt;* %base, &lt;ty&gt; %idx</i></td></tr>
<tr><th id="2050">2050</th><td><i>          //  %gep = getelementptr &lt;ty&gt;, &lt;ty&gt;* %src, &lt;ty&gt; %idx2</i></td></tr>
<tr><th id="2051">2051</th><td><i>          // If we just swap idx &amp; idx2 then we could inadvertantly</i></td></tr>
<tr><th id="2052">2052</th><td><i>          // change %src from a vector to a scalar, or vice versa.</i></td></tr>
<tr><th id="2053">2053</th><td><i>          // Cases:</i></td></tr>
<tr><th id="2054">2054</th><td><i>          //  1) %base a scalar &amp; idx a scalar &amp; idx2 a vector</i></td></tr>
<tr><th id="2055">2055</th><td><i>          //      =&gt; Swapping idx &amp; idx2 turns %src into a vector type.</i></td></tr>
<tr><th id="2056">2056</th><td><i>          //  2) %base a scalar &amp; idx a vector &amp; idx2 a scalar</i></td></tr>
<tr><th id="2057">2057</th><td><i>          //      =&gt; Swapping idx &amp; idx2 turns %src in a scalar type</i></td></tr>
<tr><th id="2058">2058</th><td><i>          //  3) %base, %idx, and %idx2 are scalars</i></td></tr>
<tr><th id="2059">2059</th><td><i>          //      =&gt; %src &amp; %gep are scalars</i></td></tr>
<tr><th id="2060">2060</th><td><i>          //      =&gt; swapping idx &amp; idx2 is safe</i></td></tr>
<tr><th id="2061">2061</th><td><i>          //  4) %base a vector</i></td></tr>
<tr><th id="2062">2062</th><td><i>          //      =&gt; %src is a vector</i></td></tr>
<tr><th id="2063">2063</th><td><i>          //      =&gt; swapping idx &amp; idx2 is safe.</i></td></tr>
<tr><th id="2064">2064</th><td>          <em>auto</em> *<dfn class="local col9 decl" id="399SO0" title='SO0' data-type='llvm::Value *' data-ref="399SO0" data-ref-filename="399SO0">SO0</dfn> = <a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="2065">2065</th><td>          <em>auto</em> *<dfn class="local col0 decl" id="400SO0Ty" title='SO0Ty' data-type='llvm::Type *' data-ref="400SO0Ty" data-ref-filename="400SO0Ty">SO0Ty</dfn> = <a class="local col9 ref" href="#399SO0" title='SO0' data-ref="399SO0" data-ref-filename="399SO0">SO0</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>();</td></tr>
<tr><th id="2066">2066</th><td>          <b>if</b> (!<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::VectorType" title='llvm::VectorType' data-ref="llvm::VectorType" data-ref-filename="llvm..VectorType">VectorType</a>&gt;(<a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>) || <i>// case 3</i></td></tr>
<tr><th id="2067">2067</th><td>              <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::VectorType" title='llvm::VectorType' data-ref="llvm::VectorType" data-ref-filename="llvm..VectorType">VectorType</a>&gt;(<a class="local col0 ref" href="#400SO0Ty" title='SO0Ty' data-ref="400SO0Ty" data-ref-filename="400SO0Ty">SO0Ty</a>)) {    <i>// case 4</i></td></tr>
<tr><th id="2068">2068</th><td>            <a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZN4llvm4User10setOperandEjPNS_5ValueE" title='llvm::User::setOperand' data-ref="_ZN4llvm4User10setOperandEjPNS_5ValueE" data-ref-filename="_ZN4llvm4User10setOperandEjPNS_5ValueE">setOperand</a>(<var>1</var>, <a class="local col7 ref" href="#397GO1" title='GO1' data-ref="397GO1" data-ref-filename="397GO1">GO1</a>);</td></tr>
<tr><th id="2069">2069</th><td>            <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::setOperand' data-ref="_ZN4llvm17GetElementPtrInst10setOperandEjPNS_5ValueE" data-ref-filename="_ZN4llvm17GetElementPtrInst10setOperandEjPNS_5ValueE">setOperand</a>(<var>1</var>, <a class="local col8 ref" href="#398SO1" title='SO1' data-ref="398SO1" data-ref-filename="398SO1">SO1</a>);</td></tr>
<tr><th id="2070">2070</th><td>            <b>return</b> &amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>;</td></tr>
<tr><th id="2071">2071</th><td>          } <b>else</b> {</td></tr>
<tr><th id="2072">2072</th><td>            <i>// Case 1 or 2</i></td></tr>
<tr><th id="2073">2073</th><td><i>            // -- have to recreate %src &amp; %gep</i></td></tr>
<tr><th id="2074">2074</th><td><i>            // put NewSrc at same location as %src</i></td></tr>
<tr><th id="2075">2075</th><td>            <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE">SetInsertPoint</a>(<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>&gt;(<a class="local col3 ref" href="#373PtrOp" title='PtrOp' data-ref="373PtrOp" data-ref-filename="373PtrOp">PtrOp</a>));</td></tr>
<tr><th id="2076">2076</th><td>            <em>auto</em> *<dfn class="local col1 decl" id="401NewSrc" title='NewSrc' data-type='llvm::GetElementPtrInst *' data-ref="401NewSrc" data-ref-filename="401NewSrc">NewSrc</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::GetElementPtrInst" title='llvm::GetElementPtrInst' data-ref="llvm::GetElementPtrInst" data-ref-filename="llvm..GetElementPtrInst">GetElementPtrInst</a>&gt;(</td></tr>
<tr><th id="2077">2077</th><td>                <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueES4_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateGEP' data-ref="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueES4_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueES4_RKNS_5TwineE">CreateGEP</a>(<a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>, <a class="local col9 ref" href="#399SO0" title='SO0' data-ref="399SO0" data-ref-filename="399SO0">SO0</a>, <a class="local col7 ref" href="#397GO1" title='GO1' data-ref="397GO1" data-ref-filename="397GO1">GO1</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>()));</td></tr>
<tr><th id="2078">2078</th><td>            <a class="local col1 ref" href="#401NewSrc" title='NewSrc' data-ref="401NewSrc" data-ref-filename="401NewSrc">NewSrc</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst13setIsInBoundsEb" title='llvm::GetElementPtrInst::setIsInBounds' data-ref="_ZN4llvm17GetElementPtrInst13setIsInBoundsEb" data-ref-filename="_ZN4llvm17GetElementPtrInst13setIsInBoundsEb">setIsInBounds</a>(<a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm11GEPOperator10isInBoundsEv" title='llvm::GEPOperator::isInBounds' data-ref="_ZNK4llvm11GEPOperator10isInBoundsEv" data-ref-filename="_ZNK4llvm11GEPOperator10isInBoundsEv">isInBounds</a>());</td></tr>
<tr><th id="2079">2079</th><td>            <em>auto</em> *<dfn class="local col2 decl" id="402NewGEP" title='NewGEP' data-type='llvm::GetElementPtrInst *' data-ref="402NewGEP" data-ref-filename="402NewGEP">NewGEP</dfn> = <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::GetElementPtrInst" title='llvm::GetElementPtrInst' data-ref="llvm::GetElementPtrInst" data-ref-filename="llvm..GetElementPtrInst">GetElementPtrInst</a>::<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst6CreateEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE" title='llvm::GetElementPtrInst::Create' data-ref="_ZN4llvm17GetElementPtrInst6CreateEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm17GetElementPtrInst6CreateEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE">Create</a>(<a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>, <a class="local col1 ref" href="#401NewSrc" title='NewSrc' data-ref="401NewSrc" data-ref-filename="401NewSrc">NewSrc</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E" data-ref-filename="_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E"></a>{<a class="local col8 ref" href="#398SO1" title='SO1' data-ref="398SO1" data-ref-filename="398SO1">SO1</a>});</td></tr>
<tr><th id="2080">2080</th><td>            <a class="local col2 ref" href="#402NewGEP" title='NewGEP' data-ref="402NewGEP" data-ref-filename="402NewGEP">NewGEP</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst13setIsInBoundsEb" title='llvm::GetElementPtrInst::setIsInBounds' data-ref="_ZN4llvm17GetElementPtrInst13setIsInBoundsEb" data-ref-filename="_ZN4llvm17GetElementPtrInst13setIsInBoundsEb">setIsInBounds</a>(<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst10isInBoundsEv" title='llvm::GetElementPtrInst::isInBounds' data-ref="_ZNK4llvm17GetElementPtrInst10isInBoundsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst10isInBoundsEv">isInBounds</a>());</td></tr>
<tr><th id="2081">2081</th><td>            <b>return</b> <a class="local col2 ref" href="#402NewGEP" title='NewGEP' data-ref="402NewGEP" data-ref-filename="402NewGEP">NewGEP</a>;</td></tr>
<tr><th id="2082">2082</th><td>          }</td></tr>
<tr><th id="2083">2083</th><td>        }</td></tr>
<tr><th id="2084">2084</th><td>      }</td></tr>
<tr><th id="2085">2085</th><td>    }</td></tr>
<tr><th id="2086">2086</th><td></td></tr>
<tr><th id="2087">2087</th><td>    <i>// Note that if our source is a gep chain itself then we wait for that</i></td></tr>
<tr><th id="2088">2088</th><td><i>    // chain to be resolved before we perform this transformation.  This</i></td></tr>
<tr><th id="2089">2089</th><td><i>    // avoids us creating a TON of code in some cases.</i></td></tr>
<tr><th id="2090">2090</th><td>    <b>if</b> (<em>auto</em> *<dfn class="local col3 decl" id="403SrcGEP" title='SrcGEP' data-type='llvm::GEPOperator *' data-ref="403SrcGEP" data-ref-filename="403SrcGEP"><a class="local col3 ref" href="#403SrcGEP" title='SrcGEP' data-ref="403SrcGEP" data-ref-filename="403SrcGEP">SrcGEP</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::GEPOperator" title='llvm::GEPOperator' data-ref="llvm::GEPOperator" data-ref-filename="llvm..GEPOperator">GEPOperator</a>&gt;(<a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<var>0</var>)))</td></tr>
<tr><th id="2091">2091</th><td>      <b>if</b> (<a class="local col3 ref" href="#403SrcGEP" title='SrcGEP' data-ref="403SrcGEP" data-ref-filename="403SrcGEP">SrcGEP</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User14getNumOperandsEv" title='llvm::User::getNumOperands' data-ref="_ZNK4llvm4User14getNumOperandsEv" data-ref-filename="_ZNK4llvm4User14getNumOperandsEv">getNumOperands</a>() == <var>2</var> &amp;&amp; <a class="tu ref fn" href="#_ZL15shouldMergeGEPsRN4llvm11GEPOperatorES1_" title='shouldMergeGEPs' data-use='c' data-ref="_ZL15shouldMergeGEPsRN4llvm11GEPOperatorES1_" data-ref-filename="_ZL15shouldMergeGEPsRN4llvm11GEPOperatorES1_">shouldMergeGEPs</a>(<span class='refarg'>*<a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a></span>, <span class='refarg'>*<a class="local col3 ref" href="#403SrcGEP" title='SrcGEP' data-ref="403SrcGEP" data-ref-filename="403SrcGEP">SrcGEP</a></span>))</td></tr>
<tr><th id="2092">2092</th><td>        <b>return</b> <b>nullptr</b>;   <i>// Wait until our source is folded to completion.</i></td></tr>
<tr><th id="2093">2093</th><td></td></tr>
<tr><th id="2094">2094</th><td>    <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a>*, <var>8</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col4 decl" id="404Indices" title='Indices' data-type='SmallVector&lt;llvm::Value *, 8&gt;' data-ref="404Indices" data-ref-filename="404Indices">Indices</dfn>;</td></tr>
<tr><th id="2095">2095</th><td></td></tr>
<tr><th id="2096">2096</th><td>    <i>// Find out whether the last index in the source GEP is a sequential idx.</i></td></tr>
<tr><th id="2097">2097</th><td>    <em>bool</em> <dfn class="local col5 decl" id="405EndsWithSequential" title='EndsWithSequential' data-type='bool' data-ref="405EndsWithSequential" data-ref-filename="405EndsWithSequential">EndsWithSequential</dfn> = <b>false</b>;</td></tr>
<tr><th id="2098">2098</th><td>    <b>for</b> (<a class="typedef" href="../../../include/llvm/IR/GetElementPtrTypeIterator.h.html#llvm::gep_type_iterator" title='llvm::gep_type_iterator' data-type='generic_gep_type_iterator&lt;&gt;' data-ref="llvm::gep_type_iterator" data-ref-filename="llvm..gep_type_iterator">gep_type_iterator</a> <dfn class="local col6 decl" id="406I" title='I' data-type='llvm::gep_type_iterator' data-ref="406I" data-ref-filename="406I">I</dfn> = <a class="ref fn" href="../../../include/llvm/IR/GetElementPtrTypeIterator.h.html#_ZN4llvm14gep_type_beginERKNS_4UserE" title='llvm::gep_type_begin' data-ref="_ZN4llvm14gep_type_beginERKNS_4UserE" data-ref-filename="_ZN4llvm14gep_type_beginERKNS_4UserE">gep_type_begin</a>(*<a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>), <dfn class="local col7 decl" id="407E" title='E' data-type='llvm::gep_type_iterator' data-ref="407E" data-ref-filename="407E">E</dfn> = <a class="ref fn" href="../../../include/llvm/IR/GetElementPtrTypeIterator.h.html#_ZN4llvm12gep_type_endERKNS_4UserE" title='llvm::gep_type_end' data-ref="_ZN4llvm12gep_type_endERKNS_4UserE" data-ref-filename="_ZN4llvm12gep_type_endERKNS_4UserE">gep_type_end</a>(*<a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>);</td></tr>
<tr><th id="2099">2099</th><td>         <a class="local col6 ref" href="#406I" title='I' data-ref="406I" data-ref-filename="406I">I</a> <a class="ref fn" href="../../../include/llvm/IR/GetElementPtrTypeIterator.h.html#_ZNK4llvm25generic_gep_type_iteratorneERKNS_25generic_gep_type_iteratorIT_EE" title='llvm::generic_gep_type_iterator::operator!=' data-ref="_ZNK4llvm25generic_gep_type_iteratorneERKNS_25generic_gep_type_iteratorIT_EE" data-ref-filename="_ZNK4llvm25generic_gep_type_iteratorneERKNS_25generic_gep_type_iteratorIT_EE">!=</a> <a class="local col7 ref" href="#407E" title='E' data-ref="407E" data-ref-filename="407E">E</a>; <a class="ref fn" href="../../../include/llvm/IR/GetElementPtrTypeIterator.h.html#_ZN4llvm25generic_gep_type_iteratorppEv" title='llvm::generic_gep_type_iterator::operator++' data-ref="_ZN4llvm25generic_gep_type_iteratorppEv" data-ref-filename="_ZN4llvm25generic_gep_type_iteratorppEv">++</a><a class="local col6 ref" href="#406I" title='I' data-ref="406I" data-ref-filename="406I">I</a>)</td></tr>
<tr><th id="2100">2100</th><td>      <a class="local col5 ref" href="#405EndsWithSequential" title='EndsWithSequential' data-ref="405EndsWithSequential" data-ref-filename="405EndsWithSequential">EndsWithSequential</a> = <a class="local col6 ref" href="#406I" title='I' data-ref="406I" data-ref-filename="406I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/GetElementPtrTypeIterator.h.html#_ZNK4llvm25generic_gep_type_iterator12isSequentialEv" title='llvm::generic_gep_type_iterator::isSequential' data-ref="_ZNK4llvm25generic_gep_type_iterator12isSequentialEv" data-ref-filename="_ZNK4llvm25generic_gep_type_iterator12isSequentialEv">isSequential</a>();</td></tr>
<tr><th id="2101">2101</th><td></td></tr>
<tr><th id="2102">2102</th><td>    <i>// Can we combine the two pointer arithmetics offsets?</i></td></tr>
<tr><th id="2103">2103</th><td>    <b>if</b> (<a class="local col5 ref" href="#405EndsWithSequential" title='EndsWithSequential' data-ref="405EndsWithSequential" data-ref-filename="405EndsWithSequential">EndsWithSequential</a>) {</td></tr>
<tr><th id="2104">2104</th><td>      <i>// Replace: gep (gep %P, long B), long A, ...</i></td></tr>
<tr><th id="2105">2105</th><td><i>      // With:    T = long A+B; gep %P, T, ...</i></td></tr>
<tr><th id="2106">2106</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="408SO1" title='SO1' data-type='llvm::Value *' data-ref="408SO1" data-ref-filename="408SO1">SO1</dfn> = <a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User14getNumOperandsEv" title='llvm::User::getNumOperands' data-ref="_ZNK4llvm4User14getNumOperandsEv" data-ref-filename="_ZNK4llvm4User14getNumOperandsEv">getNumOperands</a>()-<var>1</var>);</td></tr>
<tr><th id="2107">2107</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="409GO1" title='GO1' data-type='llvm::Value *' data-ref="409GO1" data-ref-filename="409GO1">GO1</dfn> = <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="2108">2108</th><td></td></tr>
<tr><th id="2109">2109</th><td>      <i>// If they aren't the same type, then the input hasn't been processed</i></td></tr>
<tr><th id="2110">2110</th><td><i>      // by the loop above yet (which canonicalizes sequential index types to</i></td></tr>
<tr><th id="2111">2111</th><td><i>      // intptr_t).  Just avoid transforming this until the input has been</i></td></tr>
<tr><th id="2112">2112</th><td><i>      // normalized.</i></td></tr>
<tr><th id="2113">2113</th><td>      <b>if</b> (<a class="local col8 ref" href="#408SO1" title='SO1' data-ref="408SO1" data-ref-filename="408SO1">SO1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>() != <a class="local col9 ref" href="#409GO1" title='GO1' data-ref="409GO1" data-ref-filename="409GO1">GO1</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>())</td></tr>
<tr><th id="2114">2114</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2115">2115</th><td></td></tr>
<tr><th id="2116">2116</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="410Sum" title='Sum' data-type='llvm::Value *' data-ref="410Sum" data-ref-filename="410Sum">Sum</dfn> =</td></tr>
<tr><th id="2117">2117</th><td>          <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm15SimplifyAddInstEPNS_5ValueES1_bbRKNS_13SimplifyQueryE" title='llvm::SimplifyAddInst' data-ref="_ZN4llvm15SimplifyAddInstEPNS_5ValueES1_bbRKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm15SimplifyAddInstEPNS_5ValueES1_bbRKNS_13SimplifyQueryE">SimplifyAddInst</a>(<a class="local col9 ref" href="#409GO1" title='GO1' data-ref="409GO1" data-ref-filename="409GO1">GO1</a>, <a class="local col8 ref" href="#408SO1" title='SO1' data-ref="408SO1" data-ref-filename="408SO1">SO1</a>, <b>false</b>, <b>false</b>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::SQ" title='llvm::InstCombiner::SQ' data-ref="llvm::InstCombiner::SQ" data-ref-filename="llvm..InstCombiner..SQ">SQ</a>.<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" title='llvm::SimplifyQuery::getWithInstruction' data-ref="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" data-ref-filename="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE">getWithInstruction</a>(&amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>));</td></tr>
<tr><th id="2118">2118</th><td>      <i>// Only do the combine when we are sure the cost after the</i></td></tr>
<tr><th id="2119">2119</th><td><i>      // merge is never more than that before the merge.</i></td></tr>
<tr><th id="2120">2120</th><td>      <b>if</b> (<a class="local col0 ref" href="#410Sum" title='Sum' data-ref="410Sum" data-ref-filename="410Sum">Sum</a> == <b>nullptr</b>)</td></tr>
<tr><th id="2121">2121</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2122">2122</th><td></td></tr>
<tr><th id="2123">2123</th><td>      <i>// Update the GEP in place if possible.</i></td></tr>
<tr><th id="2124">2124</th><td>      <b>if</b> (<a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User14getNumOperandsEv" title='llvm::User::getNumOperands' data-ref="_ZNK4llvm4User14getNumOperandsEv" data-ref-filename="_ZNK4llvm4User14getNumOperandsEv">getNumOperands</a>() == <var>2</var>) {</td></tr>
<tr><th id="2125">2125</th><td>        <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst13setIsInBoundsEb" title='llvm::GetElementPtrInst::setIsInBounds' data-ref="_ZN4llvm17GetElementPtrInst13setIsInBoundsEb" data-ref-filename="_ZN4llvm17GetElementPtrInst13setIsInBoundsEb">setIsInBounds</a>(<a class="tu ref fn" href="#_ZL19isMergedGEPInBoundsRN4llvm11GEPOperatorES1_" title='isMergedGEPInBounds' data-use='c' data-ref="_ZL19isMergedGEPInBoundsRN4llvm11GEPOperatorES1_" data-ref-filename="_ZL19isMergedGEPInBoundsRN4llvm11GEPOperatorES1_">isMergedGEPInBounds</a>(<span class='refarg'>*<a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a></span>, <span class='refarg'>*<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::GEPOperator" title='llvm::GEPOperator' data-ref="llvm::GEPOperator" data-ref-filename="llvm..GEPOperator">GEPOperator</a>&gt;(&amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>)</span>));</td></tr>
<tr><th id="2126">2126</th><td>        <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a></span>, <var>0</var>, <a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<var>0</var>));</td></tr>
<tr><th id="2127">2127</th><td>        <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a></span>, <var>1</var>, <a class="local col0 ref" href="#410Sum" title='Sum' data-ref="410Sum" data-ref-filename="410Sum">Sum</a>);</td></tr>
<tr><th id="2128">2128</th><td>        <b>return</b> &amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>;</td></tr>
<tr><th id="2129">2129</th><td>      }</td></tr>
<tr><th id="2130">2130</th><td>      <a class="local col4 ref" href="#404Indices" title='Indices' data-ref="404Indices" data-ref-filename="404Indices">Indices</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl6appendETL0__S1_" title='llvm::SmallVectorImpl::append' data-ref="_ZN4llvm15SmallVectorImpl6appendETL0__S1_" data-ref-filename="_ZN4llvm15SmallVectorImpl6appendETL0__S1_">append</a>(<a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZN4llvm4User8op_beginEv" title='llvm::User::op_begin' data-ref="_ZN4llvm4User8op_beginEv" data-ref-filename="_ZN4llvm4User8op_beginEv">op_begin</a>()+<var>1</var>, <a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZN4llvm4User6op_endEv" title='llvm::User::op_end' data-ref="_ZN4llvm4User6op_endEv" data-ref-filename="_ZN4llvm4User6op_endEv">op_end</a>()-<var>1</var>);</td></tr>
<tr><th id="2131">2131</th><td>      <a class="local col4 ref" href="#404Indices" title='Indices' data-ref="404Indices" data-ref-filename="404Indices">Indices</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col0 ref" href="#410Sum" title='Sum' data-ref="410Sum" data-ref-filename="410Sum">Sum</a>);</td></tr>
<tr><th id="2132">2132</th><td>      <a class="local col4 ref" href="#404Indices" title='Indices' data-ref="404Indices" data-ref-filename="404Indices">Indices</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl6appendETL0__S1_" title='llvm::SmallVectorImpl::append' data-ref="_ZN4llvm15SmallVectorImpl6appendETL0__S1_" data-ref-filename="_ZN4llvm15SmallVectorImpl6appendETL0__S1_">append</a>(<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::op_begin' data-ref="_ZN4llvm17GetElementPtrInst8op_beginEv" data-ref-filename="_ZN4llvm17GetElementPtrInst8op_beginEv">op_begin</a>()+<var>2</var>, <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::op_end' data-ref="_ZN4llvm17GetElementPtrInst6op_endEv" data-ref-filename="_ZN4llvm17GetElementPtrInst6op_endEv">op_end</a>());</td></tr>
<tr><th id="2133">2133</th><td>    } <b>else</b> <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(*<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst9idx_beginEv" title='llvm::GetElementPtrInst::idx_begin' data-ref="_ZN4llvm17GetElementPtrInst9idx_beginEv" data-ref-filename="_ZN4llvm17GetElementPtrInst9idx_beginEv">idx_begin</a>()) &amp;&amp;</td></tr>
<tr><th id="2134">2134</th><td>               <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castERT0_" title='llvm::cast' data-ref="_ZN4llvm4castERT0_" data-ref-filename="_ZN4llvm4castERT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<span class='refarg'>*<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst9idx_beginEv" title='llvm::GetElementPtrInst::idx_begin' data-ref="_ZN4llvm17GetElementPtrInst9idx_beginEv" data-ref-filename="_ZN4llvm17GetElementPtrInst9idx_beginEv">idx_begin</a>()</span>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZNK4llvm8Constant11isNullValueEv" title='llvm::Constant::isNullValue' data-ref="_ZNK4llvm8Constant11isNullValueEv" data-ref-filename="_ZNK4llvm8Constant11isNullValueEv">isNullValue</a>() &amp;&amp;</td></tr>
<tr><th id="2135">2135</th><td>               <a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User14getNumOperandsEv" title='llvm::User::getNumOperands' data-ref="_ZNK4llvm4User14getNumOperandsEv" data-ref-filename="_ZNK4llvm4User14getNumOperandsEv">getNumOperands</a>() != <var>1</var>) {</td></tr>
<tr><th id="2136">2136</th><td>      <i>// Otherwise we can do the fold if the first index of the GEP is a zero</i></td></tr>
<tr><th id="2137">2137</th><td>      <a class="local col4 ref" href="#404Indices" title='Indices' data-ref="404Indices" data-ref-filename="404Indices">Indices</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl6appendETL0__S1_" title='llvm::SmallVectorImpl::append' data-ref="_ZN4llvm15SmallVectorImpl6appendETL0__S1_" data-ref-filename="_ZN4llvm15SmallVectorImpl6appendETL0__S1_">append</a>(<a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZN4llvm4User8op_beginEv" title='llvm::User::op_begin' data-ref="_ZN4llvm4User8op_beginEv" data-ref-filename="_ZN4llvm4User8op_beginEv">op_begin</a>()+<var>1</var>, <a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZN4llvm4User6op_endEv" title='llvm::User::op_end' data-ref="_ZN4llvm4User6op_endEv" data-ref-filename="_ZN4llvm4User6op_endEv">op_end</a>());</td></tr>
<tr><th id="2138">2138</th><td>      <a class="local col4 ref" href="#404Indices" title='Indices' data-ref="404Indices" data-ref-filename="404Indices">Indices</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl6appendETL0__S1_" title='llvm::SmallVectorImpl::append' data-ref="_ZN4llvm15SmallVectorImpl6appendETL0__S1_" data-ref-filename="_ZN4llvm15SmallVectorImpl6appendETL0__S1_">append</a>(<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst9idx_beginEv" title='llvm::GetElementPtrInst::idx_begin' data-ref="_ZN4llvm17GetElementPtrInst9idx_beginEv" data-ref-filename="_ZN4llvm17GetElementPtrInst9idx_beginEv">idx_begin</a>()+<var>1</var>, <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst7idx_endEv" title='llvm::GetElementPtrInst::idx_end' data-ref="_ZN4llvm17GetElementPtrInst7idx_endEv" data-ref-filename="_ZN4llvm17GetElementPtrInst7idx_endEv">idx_end</a>());</td></tr>
<tr><th id="2139">2139</th><td>    }</td></tr>
<tr><th id="2140">2140</th><td></td></tr>
<tr><th id="2141">2141</th><td>    <b>if</b> (!<a class="local col4 ref" href="#404Indices" title='Indices' data-ref="404Indices" data-ref-filename="404Indices">Indices</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase5emptyEv" title='llvm::SmallVectorBase::empty' data-ref="_ZNK4llvm15SmallVectorBase5emptyEv" data-ref-filename="_ZNK4llvm15SmallVectorBase5emptyEv">empty</a>())</td></tr>
<tr><th id="2142">2142</th><td>      <b>return</b> <a class="tu ref fn" href="#_ZL19isMergedGEPInBoundsRN4llvm11GEPOperatorES1_" title='isMergedGEPInBounds' data-use='c' data-ref="_ZL19isMergedGEPInBoundsRN4llvm11GEPOperatorES1_" data-ref-filename="_ZL19isMergedGEPInBoundsRN4llvm11GEPOperatorES1_">isMergedGEPInBounds</a>(<span class='refarg'>*<a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a></span>, <span class='refarg'>*<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::GEPOperator" title='llvm::GEPOperator' data-ref="llvm::GEPOperator" data-ref-filename="llvm..GEPOperator">GEPOperator</a>&gt;(&amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>)</span>)</td></tr>
<tr><th id="2143">2143</th><td>                 ? <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::GetElementPtrInst" title='llvm::GetElementPtrInst' data-ref="llvm::GetElementPtrInst" data-ref-filename="llvm..GetElementPtrInst">GetElementPtrInst</a>::<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst14CreateInBoundsEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE" title='llvm::GetElementPtrInst::CreateInBounds' data-ref="_ZN4llvm17GetElementPtrInst14CreateInBoundsEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm17GetElementPtrInst14CreateInBoundsEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE">CreateInBounds</a>(</td></tr>
<tr><th id="2144">2144</th><td>                       <a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm11GEPOperator20getSourceElementTypeEv" title='llvm::GEPOperator::getSourceElementType' data-ref="_ZNK4llvm11GEPOperator20getSourceElementTypeEv" data-ref-filename="_ZNK4llvm11GEPOperator20getSourceElementTypeEv">getSourceElementType</a>(), <a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<var>0</var>), <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col4 ref" href="#404Indices" title='Indices' data-ref="404Indices" data-ref-filename="404Indices">Indices</a>,</td></tr>
<tr><th id="2145">2145</th><td>                       <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>())</td></tr>
<tr><th id="2146">2146</th><td>                 : <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::GetElementPtrInst" title='llvm::GetElementPtrInst' data-ref="llvm::GetElementPtrInst" data-ref-filename="llvm..GetElementPtrInst">GetElementPtrInst</a>::<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst6CreateEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE" title='llvm::GetElementPtrInst::Create' data-ref="_ZN4llvm17GetElementPtrInst6CreateEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm17GetElementPtrInst6CreateEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE">Create</a>(<a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Operator.h.html#_ZNK4llvm11GEPOperator20getSourceElementTypeEv" title='llvm::GEPOperator::getSourceElementType' data-ref="_ZNK4llvm11GEPOperator20getSourceElementTypeEv" data-ref-filename="_ZNK4llvm11GEPOperator20getSourceElementTypeEv">getSourceElementType</a>(),</td></tr>
<tr><th id="2147">2147</th><td>                                             <a class="local col5 ref" href="#395Src" title='Src' data-ref="395Src" data-ref-filename="395Src">Src</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<var>0</var>), <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col4 ref" href="#404Indices" title='Indices' data-ref="404Indices" data-ref-filename="404Indices">Indices</a>,</td></tr>
<tr><th id="2148">2148</th><td>                                             <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>());</td></tr>
<tr><th id="2149">2149</th><td>  }</td></tr>
<tr><th id="2150">2150</th><td></td></tr>
<tr><th id="2151">2151</th><td>  <i>// Skip if GEP source element type is scalable. The type alloc size is unknown</i></td></tr>
<tr><th id="2152">2152</th><td><i>  // at compile-time.</i></td></tr>
<tr><th id="2153">2153</th><td>  <b>if</b> (<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst13getNumIndicesEv" title='llvm::GetElementPtrInst::getNumIndices' data-ref="_ZNK4llvm17GetElementPtrInst13getNumIndicesEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst13getNumIndicesEv">getNumIndices</a>() == <var>1</var> &amp;&amp; !<a class="local col6 ref" href="#366IsGEPSrcEleScalable" title='IsGEPSrcEleScalable' data-ref="366IsGEPSrcEleScalable" data-ref-filename="366IsGEPSrcEleScalable">IsGEPSrcEleScalable</a>) {</td></tr>
<tr><th id="2154">2154</th><td>    <em>unsigned</em> <dfn class="local col1 decl" id="411AS" title='AS' data-type='unsigned int' data-ref="411AS" data-ref-filename="411AS">AS</dfn> = <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst22getPointerAddressSpaceEv" title='llvm::GetElementPtrInst::getPointerAddressSpace' data-ref="_ZNK4llvm17GetElementPtrInst22getPointerAddressSpaceEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst22getPointerAddressSpaceEv">getPointerAddressSpace</a>();</td></tr>
<tr><th id="2155">2155</th><td>    <b>if</b> (<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<var>1</var>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type19getScalarSizeInBitsEv" title='llvm::Type::getScalarSizeInBits' data-ref="_ZNK4llvm4Type19getScalarSizeInBitsEv" data-ref-filename="_ZNK4llvm4Type19getScalarSizeInBitsEv">getScalarSizeInBits</a>() ==</td></tr>
<tr><th id="2156">2156</th><td>        <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout18getIndexSizeInBitsEj" title='llvm::DataLayout::getIndexSizeInBits' data-ref="_ZNK4llvm10DataLayout18getIndexSizeInBitsEj" data-ref-filename="_ZNK4llvm10DataLayout18getIndexSizeInBitsEj">getIndexSizeInBits</a>(<a class="local col1 ref" href="#411AS" title='AS' data-ref="411AS" data-ref-filename="411AS">AS</a>)) {</td></tr>
<tr><th id="2157">2157</th><td>      <a class="typedef" href="../../../../../include/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col2 decl" id="412TyAllocSize" title='TyAllocSize' data-type='uint64_t' data-ref="412TyAllocSize" data-ref-filename="412TyAllocSize">TyAllocSize</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeAllocSize' data-ref="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE">getTypeAllocSize</a>(<a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>).<a class="ref fn" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSize12getFixedSizeEv" title='llvm::TypeSize::getFixedSize' data-ref="_ZNK4llvm8TypeSize12getFixedSizeEv" data-ref-filename="_ZNK4llvm8TypeSize12getFixedSizeEv">getFixedSize</a>();</td></tr>
<tr><th id="2158">2158</th><td></td></tr>
<tr><th id="2159">2159</th><td>      <em>bool</em> <dfn class="local col3 decl" id="413Matched" title='Matched' data-type='bool' data-ref="413Matched" data-ref-filename="413Matched">Matched</dfn> = <b>false</b>;</td></tr>
<tr><th id="2160">2160</th><td>      <a class="typedef" href="../../../../../include/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col4 decl" id="414C" title='C' data-type='uint64_t' data-ref="414C" data-ref-filename="414C">C</dfn>;</td></tr>
<tr><th id="2161">2161</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="415V" title='V' data-type='llvm::Value *' data-ref="415V" data-ref-filename="415V">V</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="2162">2162</th><td>      <b>if</b> (<a class="local col2 ref" href="#412TyAllocSize" title='TyAllocSize' data-ref="412TyAllocSize" data-ref-filename="412TyAllocSize">TyAllocSize</a> == <var>1</var>) {</td></tr>
<tr><th id="2163">2163</th><td>        <a class="local col5 ref" href="#415V" title='V' data-ref="415V" data-ref-filename="415V">V</a> = <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="2164">2164</th><td>        <a class="local col3 ref" href="#413Matched" title='Matched' data-ref="413Matched" data-ref-filename="413Matched">Matched</a> = <b>true</b>;</td></tr>
<tr><th id="2165">2165</th><td>      } <b>else</b> <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<var>1</var>),</td></tr>
<tr><th id="2166">2166</th><td>                       <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_AShrERKT_RKT0_" title='llvm::PatternMatch::m_AShr' data-ref="_ZN4llvm12PatternMatch6m_AShrERKT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch6m_AShrERKT_RKT0_">m_AShr</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col5 ref" href="#415V" title='V' data-ref="415V" data-ref-filename="415V">V</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch13m_ConstantIntERm" title='llvm::PatternMatch::m_ConstantInt' data-ref="_ZN4llvm12PatternMatch13m_ConstantIntERm" data-ref-filename="_ZN4llvm12PatternMatch13m_ConstantIntERm">m_ConstantInt</a>(<span class='refarg'><a class="local col4 ref" href="#414C" title='C' data-ref="414C" data-ref-filename="414C">C</a></span>)))) {</td></tr>
<tr><th id="2167">2167</th><td>        <b>if</b> (<a class="local col2 ref" href="#412TyAllocSize" title='TyAllocSize' data-ref="412TyAllocSize" data-ref-filename="412TyAllocSize">TyAllocSize</a> == <var>1ULL</var> &lt;&lt; <a class="local col4 ref" href="#414C" title='C' data-ref="414C" data-ref-filename="414C">C</a>)</td></tr>
<tr><th id="2168">2168</th><td>          <a class="local col3 ref" href="#413Matched" title='Matched' data-ref="413Matched" data-ref-filename="413Matched">Matched</a> = <b>true</b>;</td></tr>
<tr><th id="2169">2169</th><td>      } <b>else</b> <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<var>1</var>),</td></tr>
<tr><th id="2170">2170</th><td>                       <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_SDivERKT_RKT0_" title='llvm::PatternMatch::m_SDiv' data-ref="_ZN4llvm12PatternMatch6m_SDivERKT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch6m_SDivERKT_RKT0_">m_SDiv</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col5 ref" href="#415V" title='V' data-ref="415V" data-ref-filename="415V">V</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch13m_ConstantIntERm" title='llvm::PatternMatch::m_ConstantInt' data-ref="_ZN4llvm12PatternMatch13m_ConstantIntERm" data-ref-filename="_ZN4llvm12PatternMatch13m_ConstantIntERm">m_ConstantInt</a>(<span class='refarg'><a class="local col4 ref" href="#414C" title='C' data-ref="414C" data-ref-filename="414C">C</a></span>)))) {</td></tr>
<tr><th id="2171">2171</th><td>        <b>if</b> (<a class="local col2 ref" href="#412TyAllocSize" title='TyAllocSize' data-ref="412TyAllocSize" data-ref-filename="412TyAllocSize">TyAllocSize</a> == <a class="local col4 ref" href="#414C" title='C' data-ref="414C" data-ref-filename="414C">C</a>)</td></tr>
<tr><th id="2172">2172</th><td>          <a class="local col3 ref" href="#413Matched" title='Matched' data-ref="413Matched" data-ref-filename="413Matched">Matched</a> = <b>true</b>;</td></tr>
<tr><th id="2173">2173</th><td>      }</td></tr>
<tr><th id="2174">2174</th><td></td></tr>
<tr><th id="2175">2175</th><td>      <b>if</b> (<a class="local col3 ref" href="#413Matched" title='Matched' data-ref="413Matched" data-ref-filename="413Matched">Matched</a>) {</td></tr>
<tr><th id="2176">2176</th><td>        <i>// Canonicalize (gep i8* X, -(ptrtoint Y))</i></td></tr>
<tr><th id="2177">2177</th><td><i>        // to (inttoptr (sub (ptrtoint X), (ptrtoint Y)))</i></td></tr>
<tr><th id="2178">2178</th><td><i>        // The GEP pattern is emitted by the SCEV expander for certain kinds of</i></td></tr>
<tr><th id="2179">2179</th><td><i>        // pointer arithmetic.</i></td></tr>
<tr><th id="2180">2180</th><td>        <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col5 ref" href="#415V" title='V' data-ref="415V" data-ref-filename="415V">V</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5m_NegERKT_" title='llvm::PatternMatch::m_Neg' data-ref="_ZN4llvm12PatternMatch5m_NegERKT_" data-ref-filename="_ZN4llvm12PatternMatch5m_NegERKT_">m_Neg</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_PtrToIntERKT_" title='llvm::PatternMatch::m_PtrToInt' data-ref="_ZN4llvm12PatternMatch10m_PtrToIntERKT_" data-ref-filename="_ZN4llvm12PatternMatch10m_PtrToIntERKT_">m_PtrToInt</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueEv" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueEv" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueEv">m_Value</a>())))) {</td></tr>
<tr><th id="2181">2181</th><td>          <a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::Operator" title='llvm::Operator' data-ref="llvm::Operator" data-ref-filename="llvm..Operator">Operator</a> *<dfn class="local col6 decl" id="416Index" title='Index' data-type='llvm::Operator *' data-ref="416Index" data-ref-filename="416Index">Index</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Operator.h.html#llvm::Operator" title='llvm::Operator' data-ref="llvm::Operator" data-ref-filename="llvm..Operator">Operator</a>&gt;(<a class="local col5 ref" href="#415V" title='V' data-ref="415V" data-ref-filename="415V">V</a>);</td></tr>
<tr><th id="2182">2182</th><td>          <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="417PtrToInt" title='PtrToInt' data-type='llvm::Value *' data-ref="417PtrToInt" data-ref-filename="417PtrToInt">PtrToInt</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14CreatePtrToIntEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreatePtrToInt' data-ref="_ZN4llvm13IRBuilderBase14CreatePtrToIntEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase14CreatePtrToIntEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreatePtrToInt</a>(<a class="local col3 ref" href="#373PtrOp" title='PtrOp' data-ref="373PtrOp" data-ref-filename="373PtrOp">PtrOp</a>, <a class="local col6 ref" href="#416Index" title='Index' data-ref="416Index" data-ref-filename="416Index">Index</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="2183">2183</th><td>          <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="418NewSub" title='NewSub' data-type='llvm::Value *' data-ref="418NewSub" data-ref-filename="418NewSub">NewSub</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateSubEPNS_5ValueES2_RKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateSub' data-ref="_ZN4llvm13IRBuilderBase9CreateSubEPNS_5ValueES2_RKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateSubEPNS_5ValueES2_RKNS_5TwineEbb">CreateSub</a>(<a class="local col7 ref" href="#417PtrToInt" title='PtrToInt' data-ref="417PtrToInt" data-ref-filename="417PtrToInt">PtrToInt</a>, <a class="local col6 ref" href="#416Index" title='Index' data-ref="416Index" data-ref-filename="416Index">Index</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<var>1</var>));</td></tr>
<tr><th id="2184">2184</th><td>          <b>return</b> <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a>::<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm8CastInst6CreateENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineEPS1_" title='llvm::CastInst::Create' data-ref="_ZN4llvm8CastInst6CreateENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineEPS1_" data-ref-filename="_ZN4llvm8CastInst6CreateENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineEPS1_">Create</a>(<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#194" title='llvm::Instruction::IntToPtr' data-ref="llvm::Instruction::IntToPtr" data-ref-filename="llvm..Instruction..IntToPtr">IntToPtr</a>, <a class="local col8 ref" href="#418NewSub" title='NewSub' data-ref="418NewSub" data-ref-filename="418NewSub">NewSub</a>, <a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2185">2185</th><td>        }</td></tr>
<tr><th id="2186">2186</th><td>        <i>// Canonicalize (gep i8* X, (ptrtoint Y)-(ptrtoint X))</i></td></tr>
<tr><th id="2187">2187</th><td><i>        // to (bitcast Y)</i></td></tr>
<tr><th id="2188">2188</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="419Y" title='Y' data-type='llvm::Value *' data-ref="419Y" data-ref-filename="419Y">Y</dfn>;</td></tr>
<tr><th id="2189">2189</th><td>        <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col5 ref" href="#415V" title='V' data-ref="415V" data-ref-filename="415V">V</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5m_SubERKT_RKT0_" title='llvm::PatternMatch::m_Sub' data-ref="_ZN4llvm12PatternMatch5m_SubERKT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5m_SubERKT_RKT0_">m_Sub</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_PtrToIntERKT_" title='llvm::PatternMatch::m_PtrToInt' data-ref="_ZN4llvm12PatternMatch10m_PtrToIntERKT_" data-ref-filename="_ZN4llvm12PatternMatch10m_PtrToIntERKT_">m_PtrToInt</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col9 ref" href="#419Y" title='Y' data-ref="419Y" data-ref-filename="419Y">Y</a></span>)),</td></tr>
<tr><th id="2190">2190</th><td>                           <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_PtrToIntERKT_" title='llvm::PatternMatch::m_PtrToInt' data-ref="_ZN4llvm12PatternMatch10m_PtrToIntERKT_" data-ref-filename="_ZN4llvm12PatternMatch10m_PtrToIntERKT_">m_PtrToInt</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE" title='llvm::PatternMatch::m_Specific' data-ref="_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE">m_Specific</a>(<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<var>0</var>))))))</td></tr>
<tr><th id="2191">2191</th><td>          <b>return</b> <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a>::<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm8CastInst35CreatePointerBitCastOrAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" title='llvm::CastInst::CreatePointerBitCastOrAddrSpaceCast' data-ref="_ZN4llvm8CastInst35CreatePointerBitCastOrAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm8CastInst35CreatePointerBitCastOrAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE">CreatePointerBitCastOrAddrSpaceCast</a>(<a class="local col9 ref" href="#419Y" title='Y' data-ref="419Y" data-ref-filename="419Y">Y</a>, <a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2192">2192</th><td>      }</td></tr>
<tr><th id="2193">2193</th><td>    }</td></tr>
<tr><th id="2194">2194</th><td>  }</td></tr>
<tr><th id="2195">2195</th><td></td></tr>
<tr><th id="2196">2196</th><td>  <i>// We do not handle pointer-vector geps here.</i></td></tr>
<tr><th id="2197">2197</th><td>  <b>if</b> (<a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type10isVectorTyEv" title='llvm::Type::isVectorTy' data-ref="_ZNK4llvm4Type10isVectorTyEv" data-ref-filename="_ZNK4llvm4Type10isVectorTyEv">isVectorTy</a>())</td></tr>
<tr><th id="2198">2198</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2199">2199</th><td></td></tr>
<tr><th id="2200">2200</th><td>  <i>// Handle gep(bitcast x) and gep(gep x, 0, 0, 0).</i></td></tr>
<tr><th id="2201">2201</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="420StrippedPtr" title='StrippedPtr' data-type='llvm::Value *' data-ref="420StrippedPtr" data-ref-filename="420StrippedPtr">StrippedPtr</dfn> = <a class="local col3 ref" href="#373PtrOp" title='PtrOp' data-ref="373PtrOp" data-ref-filename="373PtrOp">PtrOp</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value17stripPointerCastsEv" title='llvm::Value::stripPointerCasts' data-ref="_ZN4llvm5Value17stripPointerCastsEv" data-ref-filename="_ZN4llvm5Value17stripPointerCastsEv">stripPointerCasts</a>();</td></tr>
<tr><th id="2202">2202</th><td>  <a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::PointerType" title='llvm::PointerType' data-ref="llvm::PointerType" data-ref-filename="llvm..PointerType">PointerType</a> *<dfn class="local col1 decl" id="421StrippedPtrTy" title='StrippedPtrTy' data-type='llvm::PointerType *' data-ref="421StrippedPtrTy" data-ref-filename="421StrippedPtrTy">StrippedPtrTy</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::PointerType" title='llvm::PointerType' data-ref="llvm::PointerType" data-ref-filename="llvm..PointerType">PointerType</a>&gt;(<a class="local col0 ref" href="#420StrippedPtr" title='StrippedPtr' data-ref="420StrippedPtr" data-ref-filename="420StrippedPtr">StrippedPtr</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="2203">2203</th><td></td></tr>
<tr><th id="2204">2204</th><td>  <b>if</b> (<a class="local col0 ref" href="#420StrippedPtr" title='StrippedPtr' data-ref="420StrippedPtr" data-ref-filename="420StrippedPtr">StrippedPtr</a> != <a class="local col3 ref" href="#373PtrOp" title='PtrOp' data-ref="373PtrOp" data-ref-filename="373PtrOp">PtrOp</a>) {</td></tr>
<tr><th id="2205">2205</th><td>    <em>bool</em> <dfn class="local col2 decl" id="422HasZeroPointerIndex" title='HasZeroPointerIndex' data-type='bool' data-ref="422HasZeroPointerIndex" data-ref-filename="422HasZeroPointerIndex">HasZeroPointerIndex</dfn> = <b>false</b>;</td></tr>
<tr><th id="2206">2206</th><td>    <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col3 decl" id="423StrippedPtrEltTy" title='StrippedPtrEltTy' data-type='llvm::Type *' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</dfn> = <a class="local col1 ref" href="#421StrippedPtrTy" title='StrippedPtrTy' data-ref="421StrippedPtrTy" data-ref-filename="421StrippedPtrTy">StrippedPtrTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm11PointerType14getElementTypeEv" title='llvm::PointerType::getElementType' data-ref="_ZNK4llvm11PointerType14getElementTypeEv" data-ref-filename="_ZNK4llvm11PointerType14getElementTypeEv">getElementType</a>();</td></tr>
<tr><th id="2207">2207</th><td></td></tr>
<tr><th id="2208">2208</th><td>    <b>if</b> (<em>auto</em> *<dfn class="local col4 decl" id="424C" title='C' data-type='llvm::ConstantInt *' data-ref="424C" data-ref-filename="424C"><a class="local col4 ref" href="#424C" title='C' data-ref="424C" data-ref-filename="424C">C</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<var>1</var>)))</td></tr>
<tr><th id="2209">2209</th><td>      <a class="local col2 ref" href="#422HasZeroPointerIndex" title='HasZeroPointerIndex' data-ref="422HasZeroPointerIndex" data-ref-filename="422HasZeroPointerIndex">HasZeroPointerIndex</a> = <a class="local col4 ref" href="#424C" title='C' data-ref="424C" data-ref-filename="424C">C</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZNK4llvm11ConstantInt6isZeroEv" title='llvm::ConstantInt::isZero' data-ref="_ZNK4llvm11ConstantInt6isZeroEv" data-ref-filename="_ZNK4llvm11ConstantInt6isZeroEv">isZero</a>();</td></tr>
<tr><th id="2210">2210</th><td></td></tr>
<tr><th id="2211">2211</th><td>    <i>// Transform: GEP (bitcast [10 x i8]* X to [0 x i8]*), i32 0, ...</i></td></tr>
<tr><th id="2212">2212</th><td><i>    // into     : GEP [10 x i8]* X, i32 0, ...</i></td></tr>
<tr><th id="2213">2213</th><td><i>    //</i></td></tr>
<tr><th id="2214">2214</th><td><i>    // Likewise, transform: GEP (bitcast i8* X to [0 x i8]*), i32 0, ...</i></td></tr>
<tr><th id="2215">2215</th><td><i>    //           into     : GEP i8* X, ...</i></td></tr>
<tr><th id="2216">2216</th><td><i>    //</i></td></tr>
<tr><th id="2217">2217</th><td><i>    // This occurs when the program declares an array extern like "int X[];"</i></td></tr>
<tr><th id="2218">2218</th><td>    <b>if</b> (<a class="local col2 ref" href="#422HasZeroPointerIndex" title='HasZeroPointerIndex' data-ref="422HasZeroPointerIndex" data-ref-filename="422HasZeroPointerIndex">HasZeroPointerIndex</a>) {</td></tr>
<tr><th id="2219">2219</th><td>      <b>if</b> (<em>auto</em> *<dfn class="local col5 decl" id="425CATy" title='CATy' data-type='llvm::ArrayType *' data-ref="425CATy" data-ref-filename="425CATy"><a class="local col5 ref" href="#425CATy" title='CATy' data-ref="425CATy" data-ref-filename="425CATy">CATy</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ArrayType" title='llvm::ArrayType' data-ref="llvm::ArrayType" data-ref-filename="llvm..ArrayType">ArrayType</a>&gt;(<a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>)) {</td></tr>
<tr><th id="2220">2220</th><td>        <i>// GEP (bitcast i8* X to [0 x i8]*), i32 0, ... ?</i></td></tr>
<tr><th id="2221">2221</th><td>        <b>if</b> (<a class="local col5 ref" href="#425CATy" title='CATy' data-ref="425CATy" data-ref-filename="425CATy">CATy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm9ArrayType14getElementTypeEv" title='llvm::ArrayType::getElementType' data-ref="_ZNK4llvm9ArrayType14getElementTypeEv" data-ref-filename="_ZNK4llvm9ArrayType14getElementTypeEv">getElementType</a>() == <a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>) {</td></tr>
<tr><th id="2222">2222</th><td>          <i>// -&gt; GEP i8* X, ...</i></td></tr>
<tr><th id="2223">2223</th><td>          <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *, <var>8</var>&gt; <dfn class="local col6 decl" id="426Idx" title='Idx' data-type='SmallVector&lt;llvm::Value *, 8&gt;' data-ref="426Idx" data-ref-filename="426Idx">Idx</dfn><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1ERKNS_14iterator_rangeITL0__EE" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1ERKNS_14iterator_rangeITL0__EE" data-ref-filename="_ZN4llvm11SmallVectorC1ERKNS_14iterator_rangeITL0__EE">(</a><a class="ref fn" href="../../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm10drop_beginEOT_m" title='llvm::drop_begin' data-ref="_ZN4llvm10drop_beginEOT_m" data-ref-filename="_ZN4llvm10drop_beginEOT_m">drop_begin</a>(<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst7indicesEv" title='llvm::GetElementPtrInst::indices' data-ref="_ZN4llvm17GetElementPtrInst7indicesEv" data-ref-filename="_ZN4llvm17GetElementPtrInst7indicesEv">indices</a>()));</td></tr>
<tr><th id="2224">2224</th><td>          <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::GetElementPtrInst" title='llvm::GetElementPtrInst' data-ref="llvm::GetElementPtrInst" data-ref-filename="llvm..GetElementPtrInst">GetElementPtrInst</a> *<dfn class="local col7 decl" id="427Res" title='Res' data-type='llvm::GetElementPtrInst *' data-ref="427Res" data-ref-filename="427Res">Res</dfn> = <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::GetElementPtrInst" title='llvm::GetElementPtrInst' data-ref="llvm::GetElementPtrInst" data-ref-filename="llvm..GetElementPtrInst">GetElementPtrInst</a>::<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst6CreateEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE" title='llvm::GetElementPtrInst::Create' data-ref="_ZN4llvm17GetElementPtrInst6CreateEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm17GetElementPtrInst6CreateEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE">Create</a>(</td></tr>
<tr><th id="2225">2225</th><td>              <a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>, <a class="local col0 ref" href="#420StrippedPtr" title='StrippedPtr' data-ref="420StrippedPtr" data-ref-filename="420StrippedPtr">StrippedPtr</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col6 ref" href="#426Idx" title='Idx' data-ref="426Idx" data-ref-filename="426Idx">Idx</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>());</td></tr>
<tr><th id="2226">2226</th><td>          <a class="local col7 ref" href="#427Res" title='Res' data-ref="427Res" data-ref-filename="427Res">Res</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst13setIsInBoundsEb" title='llvm::GetElementPtrInst::setIsInBounds' data-ref="_ZN4llvm17GetElementPtrInst13setIsInBoundsEb" data-ref-filename="_ZN4llvm17GetElementPtrInst13setIsInBoundsEb">setIsInBounds</a>(<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst10isInBoundsEv" title='llvm::GetElementPtrInst::isInBounds' data-ref="_ZNK4llvm17GetElementPtrInst10isInBoundsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst10isInBoundsEv">isInBounds</a>());</td></tr>
<tr><th id="2227">2227</th><td>          <b>if</b> (<a class="local col1 ref" href="#421StrippedPtrTy" title='StrippedPtrTy' data-ref="421StrippedPtrTy" data-ref-filename="421StrippedPtrTy">StrippedPtrTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm11PointerType15getAddressSpaceEv" title='llvm::PointerType::getAddressSpace' data-ref="_ZNK4llvm11PointerType15getAddressSpaceEv" data-ref-filename="_ZNK4llvm11PointerType15getAddressSpaceEv">getAddressSpace</a>() == <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv" title='llvm::GetElementPtrInst::getAddressSpace' data-ref="_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv">getAddressSpace</a>())</td></tr>
<tr><th id="2228">2228</th><td>            <b>return</b> <a class="local col7 ref" href="#427Res" title='Res' data-ref="427Res" data-ref-filename="427Res">Res</a>;</td></tr>
<tr><th id="2229">2229</th><td>          <i>// Insert Res, and create an addrspacecast.</i></td></tr>
<tr><th id="2230">2230</th><td><i>          // e.g.,</i></td></tr>
<tr><th id="2231">2231</th><td><i>          // GEP (addrspacecast i8 addrspace(1)* X to [0 x i8]*), i32 0, ...</i></td></tr>
<tr><th id="2232">2232</th><td><i>          // -&gt;</i></td></tr>
<tr><th id="2233">2233</th><td><i>          // %0 = GEP i8 addrspace(1)* X, ...</i></td></tr>
<tr><th id="2234">2234</th><td><i>          // addrspacecast i8 addrspace(1)* %0 to i8*</i></td></tr>
<tr><th id="2235">2235</th><td>          <b>return</b> <b>new</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::AddrSpaceCastInst" title='llvm::AddrSpaceCastInst' data-ref="llvm::AddrSpaceCastInst" data-ref-filename="llvm..AddrSpaceCastInst">AddrSpaceCastInst</a><a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" title='llvm::AddrSpaceCastInst::AddrSpaceCastInst' data-ref="_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE">(</a><a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZNK4llvm13IRBuilderBase6InsertEPT_RKNS_5TwineE" title='llvm::IRBuilderBase::Insert' data-ref="_ZNK4llvm13IRBuilderBase6InsertEPT_RKNS_5TwineE" data-ref-filename="_ZNK4llvm13IRBuilderBase6InsertEPT_RKNS_5TwineE">Insert</a>(<a class="local col7 ref" href="#427Res" title='Res' data-ref="427Res" data-ref-filename="427Res">Res</a>), <a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2236">2236</th><td>        }</td></tr>
<tr><th id="2237">2237</th><td></td></tr>
<tr><th id="2238">2238</th><td>        <b>if</b> (<em>auto</em> *<dfn class="local col8 decl" id="428XATy" title='XATy' data-type='llvm::ArrayType *' data-ref="428XATy" data-ref-filename="428XATy"><a class="local col8 ref" href="#428XATy" title='XATy' data-ref="428XATy" data-ref-filename="428XATy">XATy</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ArrayType" title='llvm::ArrayType' data-ref="llvm::ArrayType" data-ref-filename="llvm..ArrayType">ArrayType</a>&gt;(<a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>)) {</td></tr>
<tr><th id="2239">2239</th><td>          <i>// GEP (bitcast [10 x i8]* X to [0 x i8]*), i32 0, ... ?</i></td></tr>
<tr><th id="2240">2240</th><td>          <b>if</b> (<a class="local col5 ref" href="#425CATy" title='CATy' data-ref="425CATy" data-ref-filename="425CATy">CATy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm9ArrayType14getElementTypeEv" title='llvm::ArrayType::getElementType' data-ref="_ZNK4llvm9ArrayType14getElementTypeEv" data-ref-filename="_ZNK4llvm9ArrayType14getElementTypeEv">getElementType</a>() == <a class="local col8 ref" href="#428XATy" title='XATy' data-ref="428XATy" data-ref-filename="428XATy">XATy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm9ArrayType14getElementTypeEv" title='llvm::ArrayType::getElementType' data-ref="_ZNK4llvm9ArrayType14getElementTypeEv" data-ref-filename="_ZNK4llvm9ArrayType14getElementTypeEv">getElementType</a>()) {</td></tr>
<tr><th id="2241">2241</th><td>            <i>// -&gt; GEP [10 x i8]* X, i32 0, ...</i></td></tr>
<tr><th id="2242">2242</th><td><i>            // At this point, we know that the cast source type is a pointer</i></td></tr>
<tr><th id="2243">2243</th><td><i>            // to an array of the same type as the destination pointer</i></td></tr>
<tr><th id="2244">2244</th><td><i>            // array.  Because the array type is never stepped over (there</i></td></tr>
<tr><th id="2245">2245</th><td><i>            // is a leading zero) we can fold the cast into this GEP.</i></td></tr>
<tr><th id="2246">2246</th><td>            <b>if</b> (<a class="local col1 ref" href="#421StrippedPtrTy" title='StrippedPtrTy' data-ref="421StrippedPtrTy" data-ref-filename="421StrippedPtrTy">StrippedPtrTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm11PointerType15getAddressSpaceEv" title='llvm::PointerType::getAddressSpace' data-ref="_ZNK4llvm11PointerType15getAddressSpaceEv" data-ref-filename="_ZNK4llvm11PointerType15getAddressSpaceEv">getAddressSpace</a>() == <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv" title='llvm::GetElementPtrInst::getAddressSpace' data-ref="_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv">getAddressSpace</a>()) {</td></tr>
<tr><th id="2247">2247</th><td>              <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst20setSourceElementTypeEPNS_4TypeE" title='llvm::GetElementPtrInst::setSourceElementType' data-ref="_ZN4llvm17GetElementPtrInst20setSourceElementTypeEPNS_4TypeE" data-ref-filename="_ZN4llvm17GetElementPtrInst20setSourceElementTypeEPNS_4TypeE">setSourceElementType</a>(<a class="local col8 ref" href="#428XATy" title='XATy' data-ref="428XATy" data-ref-filename="428XATy">XATy</a>);</td></tr>
<tr><th id="2248">2248</th><td>              <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a></span>, <var>0</var>, <a class="local col0 ref" href="#420StrippedPtr" title='StrippedPtr' data-ref="420StrippedPtr" data-ref-filename="420StrippedPtr">StrippedPtr</a>);</td></tr>
<tr><th id="2249">2249</th><td>            }</td></tr>
<tr><th id="2250">2250</th><td>            <i>// Cannot replace the base pointer directly because StrippedPtr's</i></td></tr>
<tr><th id="2251">2251</th><td><i>            // address space is different. Instead, create a new GEP followed by</i></td></tr>
<tr><th id="2252">2252</th><td><i>            // an addrspacecast.</i></td></tr>
<tr><th id="2253">2253</th><td><i>            // e.g.,</i></td></tr>
<tr><th id="2254">2254</th><td><i>            // GEP (addrspacecast [10 x i8] addrspace(1)* X to [0 x i8]*),</i></td></tr>
<tr><th id="2255">2255</th><td><i>            //   i32 0, ...</i></td></tr>
<tr><th id="2256">2256</th><td><i>            // -&gt;</i></td></tr>
<tr><th id="2257">2257</th><td><i>            // %0 = GEP [10 x i8] addrspace(1)* X, ...</i></td></tr>
<tr><th id="2258">2258</th><td><i>            // addrspacecast i8 addrspace(1)* %0 to i8*</i></td></tr>
<tr><th id="2259">2259</th><td>            <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *, <var>8</var>&gt; <dfn class="local col9 decl" id="429Idx" title='Idx' data-type='SmallVector&lt;llvm::Value *, 8&gt;' data-ref="429Idx" data-ref-filename="429Idx">Idx</dfn><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1ERKNS_14iterator_rangeITL0__EE" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1ERKNS_14iterator_rangeITL0__EE" data-ref-filename="_ZN4llvm11SmallVectorC1ERKNS_14iterator_rangeITL0__EE">(</a><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst7indicesEv" title='llvm::GetElementPtrInst::indices' data-ref="_ZN4llvm17GetElementPtrInst7indicesEv" data-ref-filename="_ZN4llvm17GetElementPtrInst7indicesEv">indices</a>());</td></tr>
<tr><th id="2260">2260</th><td>            <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="430NewGEP" title='NewGEP' data-type='llvm::Value *' data-ref="430NewGEP" data-ref-filename="430NewGEP">NewGEP</dfn> =</td></tr>
<tr><th id="2261">2261</th><td>                <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst10isInBoundsEv" title='llvm::GetElementPtrInst::isInBounds' data-ref="_ZNK4llvm17GetElementPtrInst10isInBoundsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst10isInBoundsEv">isInBounds</a>()</td></tr>
<tr><th id="2262">2262</th><td>                    ? <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInBoundsGEP' data-ref="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE">CreateInBoundsGEP</a>(<a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>, <a class="local col0 ref" href="#420StrippedPtr" title='StrippedPtr' data-ref="420StrippedPtr" data-ref-filename="420StrippedPtr">StrippedPtr</a>,</td></tr>
<tr><th id="2263">2263</th><td>                                                <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col9 ref" href="#429Idx" title='Idx' data-ref="429Idx" data-ref-filename="429Idx">Idx</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>())</td></tr>
<tr><th id="2264">2264</th><td>                    : <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateGEP' data-ref="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE">CreateGEP</a>(<a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>, <a class="local col0 ref" href="#420StrippedPtr" title='StrippedPtr' data-ref="420StrippedPtr" data-ref-filename="420StrippedPtr">StrippedPtr</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col9 ref" href="#429Idx" title='Idx' data-ref="429Idx" data-ref-filename="429Idx">Idx</a>,</td></tr>
<tr><th id="2265">2265</th><td>                                        <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>());</td></tr>
<tr><th id="2266">2266</th><td>            <b>return</b> <b>new</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::AddrSpaceCastInst" title='llvm::AddrSpaceCastInst' data-ref="llvm::AddrSpaceCastInst" data-ref-filename="llvm..AddrSpaceCastInst">AddrSpaceCastInst</a><a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" title='llvm::AddrSpaceCastInst::AddrSpaceCastInst' data-ref="_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE">(</a><a class="local col0 ref" href="#430NewGEP" title='NewGEP' data-ref="430NewGEP" data-ref-filename="430NewGEP">NewGEP</a>, <a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2267">2267</th><td>          }</td></tr>
<tr><th id="2268">2268</th><td>        }</td></tr>
<tr><th id="2269">2269</th><td>      }</td></tr>
<tr><th id="2270">2270</th><td>    } <b>else</b> <b>if</b> (<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getNumOperands' data-ref="_ZNK4llvm17GetElementPtrInst14getNumOperandsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst14getNumOperandsEv">getNumOperands</a>() == <var>2</var> &amp;&amp; !<a class="local col6 ref" href="#366IsGEPSrcEleScalable" title='IsGEPSrcEleScalable' data-ref="366IsGEPSrcEleScalable" data-ref-filename="366IsGEPSrcEleScalable">IsGEPSrcEleScalable</a>) {</td></tr>
<tr><th id="2271">2271</th><td>      <i>// Skip if GEP source element type is scalable. The type alloc size is</i></td></tr>
<tr><th id="2272">2272</th><td><i>      // unknown at compile-time.</i></td></tr>
<tr><th id="2273">2273</th><td><i>      // Transform things like: %t = getelementptr i32*</i></td></tr>
<tr><th id="2274">2274</th><td><i>      // bitcast ([2 x i32]* %str to i32*), i32 %V into:  %t1 = getelementptr [2</i></td></tr>
<tr><th id="2275">2275</th><td><i>      // x i32]* %str, i32 0, i32 %V; bitcast</i></td></tr>
<tr><th id="2276">2276</th><td>      <b>if</b> (<a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type9isArrayTyEv" title='llvm::Type::isArrayTy' data-ref="_ZNK4llvm4Type9isArrayTyEv" data-ref-filename="_ZNK4llvm4Type9isArrayTyEv">isArrayTy</a>() &amp;&amp;</td></tr>
<tr><th id="2277">2277</th><td>          <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeAllocSize' data-ref="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE">getTypeAllocSize</a>(<a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type19getArrayElementTypeEv" title='llvm::Type::getArrayElementType' data-ref="_ZNK4llvm4Type19getArrayElementTypeEv" data-ref-filename="_ZNK4llvm4Type19getArrayElementTypeEv">getArrayElementType</a>()) <a class="ref fn" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm24UnivariateLinearPolyBaseeqERKNS_24UnivariateLinearPolyBaseIT_EE" title='llvm::UnivariateLinearPolyBase::operator==' data-ref="_ZNK4llvm24UnivariateLinearPolyBaseeqERKNS_24UnivariateLinearPolyBaseIT_EE" data-ref-filename="_ZNK4llvm24UnivariateLinearPolyBaseeqERKNS_24UnivariateLinearPolyBaseIT_EE">==</a></td></tr>
<tr><th id="2278">2278</th><td>              <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeAllocSize' data-ref="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE">getTypeAllocSize</a>(<a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>)) {</td></tr>
<tr><th id="2279">2279</th><td>        <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col1 decl" id="431IdxType" title='IdxType' data-type='llvm::Type *' data-ref="431IdxType" data-ref-filename="431IdxType">IdxType</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout12getIndexTypeEPNS_4TypeE" title='llvm::DataLayout::getIndexType' data-ref="_ZNK4llvm10DataLayout12getIndexTypeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout12getIndexTypeEPNS_4TypeE">getIndexType</a>(<a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2280">2280</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="432Idx" title='Idx' data-type='llvm::Value *[2]' data-ref="432Idx" data-ref-filename="432Idx">Idx</dfn>[<var>2</var>] = { <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>::<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZN4llvm8Constant12getNullValueEPNS_4TypeE" title='llvm::Constant::getNullValue' data-ref="_ZN4llvm8Constant12getNullValueEPNS_4TypeE" data-ref-filename="_ZN4llvm8Constant12getNullValueEPNS_4TypeE">getNullValue</a>(<a class="local col1 ref" href="#431IdxType" title='IdxType' data-ref="431IdxType" data-ref-filename="431IdxType">IdxType</a>), <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<var>1</var>) };</td></tr>
<tr><th id="2281">2281</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="433NewGEP" title='NewGEP' data-type='llvm::Value *' data-ref="433NewGEP" data-ref-filename="433NewGEP">NewGEP</dfn> =</td></tr>
<tr><th id="2282">2282</th><td>            <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst10isInBoundsEv" title='llvm::GetElementPtrInst::isInBounds' data-ref="_ZNK4llvm17GetElementPtrInst10isInBoundsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst10isInBoundsEv">isInBounds</a>()</td></tr>
<tr><th id="2283">2283</th><td>                ? <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInBoundsGEP' data-ref="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE">CreateInBoundsGEP</a>(<a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>, <a class="local col0 ref" href="#420StrippedPtr" title='StrippedPtr' data-ref="420StrippedPtr" data-ref-filename="420StrippedPtr">StrippedPtr</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERATL0___KT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERATL0___KT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERATL0___KT_"></a><a class="local col2 ref" href="#432Idx" title='Idx' data-ref="432Idx" data-ref-filename="432Idx">Idx</a>,</td></tr>
<tr><th id="2284">2284</th><td>                                            <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>())</td></tr>
<tr><th id="2285">2285</th><td>                : <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateGEP' data-ref="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE">CreateGEP</a>(<a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>, <a class="local col0 ref" href="#420StrippedPtr" title='StrippedPtr' data-ref="420StrippedPtr" data-ref-filename="420StrippedPtr">StrippedPtr</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERATL0___KT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERATL0___KT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERATL0___KT_"></a><a class="local col2 ref" href="#432Idx" title='Idx' data-ref="432Idx" data-ref-filename="432Idx">Idx</a>,</td></tr>
<tr><th id="2286">2286</th><td>                                    <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>());</td></tr>
<tr><th id="2287">2287</th><td></td></tr>
<tr><th id="2288">2288</th><td>        <i>// V and GEP are both pointer types --&gt; BitCast</i></td></tr>
<tr><th id="2289">2289</th><td>        <b>return</b> <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a>::<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm8CastInst35CreatePointerBitCastOrAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" title='llvm::CastInst::CreatePointerBitCastOrAddrSpaceCast' data-ref="_ZN4llvm8CastInst35CreatePointerBitCastOrAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm8CastInst35CreatePointerBitCastOrAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE">CreatePointerBitCastOrAddrSpaceCast</a>(<a class="local col3 ref" href="#433NewGEP" title='NewGEP' data-ref="433NewGEP" data-ref-filename="433NewGEP">NewGEP</a>, <a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2290">2290</th><td>      }</td></tr>
<tr><th id="2291">2291</th><td></td></tr>
<tr><th id="2292">2292</th><td>      <i>// Transform things like:</i></td></tr>
<tr><th id="2293">2293</th><td><i>      // %V = mul i64 %N, 4</i></td></tr>
<tr><th id="2294">2294</th><td><i>      // %t = getelementptr i8* bitcast (i32* %arr to i8*), i32 %V</i></td></tr>
<tr><th id="2295">2295</th><td><i>      // into:  %t1 = getelementptr i32* %arr, i32 %N; bitcast</i></td></tr>
<tr><th id="2296">2296</th><td>      <b>if</b> (<a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE" title='llvm::Type::isSized' data-ref="_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE" data-ref-filename="_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE">isSized</a>() &amp;&amp; <a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE" title='llvm::Type::isSized' data-ref="_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE" data-ref-filename="_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE">isSized</a>()) {</td></tr>
<tr><th id="2297">2297</th><td>        <i>// Check that changing the type amounts to dividing the index by a scale</i></td></tr>
<tr><th id="2298">2298</th><td><i>        // factor.</i></td></tr>
<tr><th id="2299">2299</th><td>        <a class="typedef" href="../../../../../include/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col4 decl" id="434ResSize" title='ResSize' data-type='uint64_t' data-ref="434ResSize" data-ref-filename="434ResSize">ResSize</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeAllocSize' data-ref="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE">getTypeAllocSize</a>(<a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>).<a class="ref fn" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSize12getFixedSizeEv" title='llvm::TypeSize::getFixedSize' data-ref="_ZNK4llvm8TypeSize12getFixedSizeEv" data-ref-filename="_ZNK4llvm8TypeSize12getFixedSizeEv">getFixedSize</a>();</td></tr>
<tr><th id="2300">2300</th><td>        <a class="typedef" href="../../../../../include/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col5 decl" id="435SrcSize" title='SrcSize' data-type='uint64_t' data-ref="435SrcSize" data-ref-filename="435SrcSize">SrcSize</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeAllocSize' data-ref="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE">getTypeAllocSize</a>(<a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>).<a class="ref fn" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSize12getFixedSizeEv" title='llvm::TypeSize::getFixedSize' data-ref="_ZNK4llvm8TypeSize12getFixedSizeEv" data-ref-filename="_ZNK4llvm8TypeSize12getFixedSizeEv">getFixedSize</a>();</td></tr>
<tr><th id="2301">2301</th><td>        <b>if</b> (<a class="local col4 ref" href="#434ResSize" title='ResSize' data-ref="434ResSize" data-ref-filename="434ResSize">ResSize</a> &amp;&amp; <a class="local col5 ref" href="#435SrcSize" title='SrcSize' data-ref="435SrcSize" data-ref-filename="435SrcSize">SrcSize</a> % <a class="local col4 ref" href="#434ResSize" title='ResSize' data-ref="434ResSize" data-ref-filename="434ResSize">ResSize</a> == <var>0</var>) {</td></tr>
<tr><th id="2302">2302</th><td>          <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="436Idx" title='Idx' data-type='llvm::Value *' data-ref="436Idx" data-ref-filename="436Idx">Idx</dfn> = <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="2303">2303</th><td>          <em>unsigned</em> <dfn class="local col7 decl" id="437BitWidth" title='BitWidth' data-type='unsigned int' data-ref="437BitWidth" data-ref-filename="437BitWidth">BitWidth</dfn> = <a class="ref fn fake" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col6 ref" href="#436Idx" title='Idx' data-ref="436Idx" data-ref-filename="436Idx">Idx</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" title='llvm::Type::getPrimitiveSizeInBits' data-ref="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" data-ref-filename="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv">getPrimitiveSizeInBits</a>();</td></tr>
<tr><th id="2304">2304</th><td>          <a class="typedef" href="../../../../../include/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col8 decl" id="438Scale" title='Scale' data-type='uint64_t' data-ref="438Scale" data-ref-filename="438Scale">Scale</dfn> = <a class="local col5 ref" href="#435SrcSize" title='SrcSize' data-ref="435SrcSize" data-ref-filename="435SrcSize">SrcSize</a> / <a class="local col4 ref" href="#434ResSize" title='ResSize' data-ref="434ResSize" data-ref-filename="434ResSize">ResSize</a>;</td></tr>
<tr><th id="2305">2305</th><td></td></tr>
<tr><th id="2306">2306</th><td>          <i>// Earlier transforms ensure that the index has the right type</i></td></tr>
<tr><th id="2307">2307</th><td><i>          // according to Data Layout, which considerably simplifies the</i></td></tr>
<tr><th id="2308">2308</th><td><i>          // logic by eliminating implicit casts.</i></td></tr>
<tr><th id="2309">2309</th><td>          <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Idx-&gt;getType() == DL.getIndexType(GEPType) &amp;&amp;</td></tr>
<tr><th id="2310">2310</th><td>                 <q>"Index type does not match the Data Layout preferences"</q>);</td></tr>
<tr><th id="2311">2311</th><td></td></tr>
<tr><th id="2312">2312</th><td>          <em>bool</em> <dfn class="local col9 decl" id="439NSW" title='NSW' data-type='bool' data-ref="439NSW" data-ref-filename="439NSW">NSW</dfn>;</td></tr>
<tr><th id="2313">2313</th><td>          <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="440NewIdx" title='NewIdx' data-type='llvm::Value *' data-ref="440NewIdx" data-ref-filename="440NewIdx"><a class="local col0 ref" href="#440NewIdx" title='NewIdx' data-ref="440NewIdx" data-ref-filename="440NewIdx">NewIdx</a></dfn> = <a class="member fn" href="#_ZN4llvm16InstCombinerImpl7DescaleEPNS_5ValueENS_5APIntERb" title='llvm::InstCombinerImpl::Descale' data-ref="_ZN4llvm16InstCombinerImpl7DescaleEPNS_5ValueENS_5APIntERb" data-ref-filename="_ZN4llvm16InstCombinerImpl7DescaleEPNS_5ValueENS_5APIntERb">Descale</a>(<a class="local col6 ref" href="#436Idx" title='Idx' data-ref="436Idx" data-ref-filename="436Idx">Idx</a>, <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a><a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntC1Ejmb" title='llvm::APInt::APInt' data-ref="_ZN4llvm5APIntC1Ejmb" data-ref-filename="_ZN4llvm5APIntC1Ejmb">(</a><a class="local col7 ref" href="#437BitWidth" title='BitWidth' data-ref="437BitWidth" data-ref-filename="437BitWidth">BitWidth</a>, <a class="local col8 ref" href="#438Scale" title='Scale' data-ref="438Scale" data-ref-filename="438Scale">Scale</a>), <span class='refarg'><a class="local col9 ref" href="#439NSW" title='NSW' data-ref="439NSW" data-ref-filename="439NSW">NSW</a></span>)) {</td></tr>
<tr><th id="2314">2314</th><td>            <i>// Successfully decomposed Idx as NewIdx * Scale, form a new GEP.</i></td></tr>
<tr><th id="2315">2315</th><td><i>            // If the multiplication NewIdx * Scale may overflow then the new</i></td></tr>
<tr><th id="2316">2316</th><td><i>            // GEP may not be "inbounds".</i></td></tr>
<tr><th id="2317">2317</th><td>            <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="441NewGEP" title='NewGEP' data-type='llvm::Value *' data-ref="441NewGEP" data-ref-filename="441NewGEP">NewGEP</dfn> =</td></tr>
<tr><th id="2318">2318</th><td>                <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst10isInBoundsEv" title='llvm::GetElementPtrInst::isInBounds' data-ref="_ZNK4llvm17GetElementPtrInst10isInBoundsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst10isInBoundsEv">isInBounds</a>() &amp;&amp; <a class="local col9 ref" href="#439NSW" title='NSW' data-ref="439NSW" data-ref-filename="439NSW">NSW</a></td></tr>
<tr><th id="2319">2319</th><td>                    ? <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueES4_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateInBoundsGEP' data-ref="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueES4_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueES4_RKNS_5TwineE">CreateInBoundsGEP</a>(<a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>, <a class="local col0 ref" href="#420StrippedPtr" title='StrippedPtr' data-ref="420StrippedPtr" data-ref-filename="420StrippedPtr">StrippedPtr</a>,</td></tr>
<tr><th id="2320">2320</th><td>                                                <a class="local col0 ref" href="#440NewIdx" title='NewIdx' data-ref="440NewIdx" data-ref-filename="440NewIdx">NewIdx</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>())</td></tr>
<tr><th id="2321">2321</th><td>                    : <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueES4_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateGEP' data-ref="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueES4_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueES4_RKNS_5TwineE">CreateGEP</a>(<a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>, <a class="local col0 ref" href="#420StrippedPtr" title='StrippedPtr' data-ref="420StrippedPtr" data-ref-filename="420StrippedPtr">StrippedPtr</a>, <a class="local col0 ref" href="#440NewIdx" title='NewIdx' data-ref="440NewIdx" data-ref-filename="440NewIdx">NewIdx</a>,</td></tr>
<tr><th id="2322">2322</th><td>                                        <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>());</td></tr>
<tr><th id="2323">2323</th><td></td></tr>
<tr><th id="2324">2324</th><td>            <i>// The NewGEP must be pointer typed, so must the old one -&gt; BitCast</i></td></tr>
<tr><th id="2325">2325</th><td>            <b>return</b> <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a>::<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm8CastInst35CreatePointerBitCastOrAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" title='llvm::CastInst::CreatePointerBitCastOrAddrSpaceCast' data-ref="_ZN4llvm8CastInst35CreatePointerBitCastOrAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm8CastInst35CreatePointerBitCastOrAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE">CreatePointerBitCastOrAddrSpaceCast</a>(<a class="local col1 ref" href="#441NewGEP" title='NewGEP' data-ref="441NewGEP" data-ref-filename="441NewGEP">NewGEP</a>,</td></tr>
<tr><th id="2326">2326</th><td>                                                                 <a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2327">2327</th><td>          }</td></tr>
<tr><th id="2328">2328</th><td>        }</td></tr>
<tr><th id="2329">2329</th><td>      }</td></tr>
<tr><th id="2330">2330</th><td></td></tr>
<tr><th id="2331">2331</th><td>      <i>// Similarly, transform things like:</i></td></tr>
<tr><th id="2332">2332</th><td><i>      // getelementptr i8* bitcast ([100 x double]* X to i8*), i32 %tmp</i></td></tr>
<tr><th id="2333">2333</th><td><i>      //   (where tmp = 8*tmp2) into:</i></td></tr>
<tr><th id="2334">2334</th><td><i>      // getelementptr [100 x double]* %arr, i32 0, i32 %tmp2; bitcast</i></td></tr>
<tr><th id="2335">2335</th><td>      <b>if</b> (<a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE" title='llvm::Type::isSized' data-ref="_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE" data-ref-filename="_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE">isSized</a>() &amp;&amp; <a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE" title='llvm::Type::isSized' data-ref="_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE" data-ref-filename="_ZNK4llvm4Type7isSizedEPNS_15SmallPtrSetImplIPS0_EE">isSized</a>() &amp;&amp;</td></tr>
<tr><th id="2336">2336</th><td>          <a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type9isArrayTyEv" title='llvm::Type::isArrayTy' data-ref="_ZNK4llvm4Type9isArrayTyEv" data-ref-filename="_ZNK4llvm4Type9isArrayTyEv">isArrayTy</a>()) {</td></tr>
<tr><th id="2337">2337</th><td>        <i>// Check that changing to the array element type amounts to dividing the</i></td></tr>
<tr><th id="2338">2338</th><td><i>        // index by a scale factor.</i></td></tr>
<tr><th id="2339">2339</th><td>        <a class="typedef" href="../../../../../include/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col2 decl" id="442ResSize" title='ResSize' data-type='uint64_t' data-ref="442ResSize" data-ref-filename="442ResSize">ResSize</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeAllocSize' data-ref="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE">getTypeAllocSize</a>(<a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>).<a class="ref fn" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSize12getFixedSizeEv" title='llvm::TypeSize::getFixedSize' data-ref="_ZNK4llvm8TypeSize12getFixedSizeEv" data-ref-filename="_ZNK4llvm8TypeSize12getFixedSizeEv">getFixedSize</a>();</td></tr>
<tr><th id="2340">2340</th><td>        <a class="typedef" href="../../../../../include/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col3 decl" id="443ArrayEltSize" title='ArrayEltSize' data-type='uint64_t' data-ref="443ArrayEltSize" data-ref-filename="443ArrayEltSize">ArrayEltSize</dfn> =</td></tr>
<tr><th id="2341">2341</th><td>            <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeAllocSize' data-ref="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE">getTypeAllocSize</a>(<a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type19getArrayElementTypeEv" title='llvm::Type::getArrayElementType' data-ref="_ZNK4llvm4Type19getArrayElementTypeEv" data-ref-filename="_ZNK4llvm4Type19getArrayElementTypeEv">getArrayElementType</a>())</td></tr>
<tr><th id="2342">2342</th><td>                .<a class="ref fn" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSize12getFixedSizeEv" title='llvm::TypeSize::getFixedSize' data-ref="_ZNK4llvm8TypeSize12getFixedSizeEv" data-ref-filename="_ZNK4llvm8TypeSize12getFixedSizeEv">getFixedSize</a>();</td></tr>
<tr><th id="2343">2343</th><td>        <b>if</b> (<a class="local col2 ref" href="#442ResSize" title='ResSize' data-ref="442ResSize" data-ref-filename="442ResSize">ResSize</a> &amp;&amp; <a class="local col3 ref" href="#443ArrayEltSize" title='ArrayEltSize' data-ref="443ArrayEltSize" data-ref-filename="443ArrayEltSize">ArrayEltSize</a> % <a class="local col2 ref" href="#442ResSize" title='ResSize' data-ref="442ResSize" data-ref-filename="442ResSize">ResSize</a> == <var>0</var>) {</td></tr>
<tr><th id="2344">2344</th><td>          <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="444Idx" title='Idx' data-type='llvm::Value *' data-ref="444Idx" data-ref-filename="444Idx">Idx</dfn> = <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getOperand' data-ref="_ZNK4llvm17GetElementPtrInst10getOperandEj" data-ref-filename="_ZNK4llvm17GetElementPtrInst10getOperandEj">getOperand</a>(<var>1</var>);</td></tr>
<tr><th id="2345">2345</th><td>          <em>unsigned</em> <dfn class="local col5 decl" id="445BitWidth" title='BitWidth' data-type='unsigned int' data-ref="445BitWidth" data-ref-filename="445BitWidth">BitWidth</dfn> = <a class="ref fn fake" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col4 ref" href="#444Idx" title='Idx' data-ref="444Idx" data-ref-filename="444Idx">Idx</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" title='llvm::Type::getPrimitiveSizeInBits' data-ref="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" data-ref-filename="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv">getPrimitiveSizeInBits</a>();</td></tr>
<tr><th id="2346">2346</th><td>          <a class="typedef" href="../../../../../include/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col6 decl" id="446Scale" title='Scale' data-type='uint64_t' data-ref="446Scale" data-ref-filename="446Scale">Scale</dfn> = <a class="local col3 ref" href="#443ArrayEltSize" title='ArrayEltSize' data-ref="443ArrayEltSize" data-ref-filename="443ArrayEltSize">ArrayEltSize</a> / <a class="local col2 ref" href="#442ResSize" title='ResSize' data-ref="442ResSize" data-ref-filename="442ResSize">ResSize</a>;</td></tr>
<tr><th id="2347">2347</th><td></td></tr>
<tr><th id="2348">2348</th><td>          <i>// Earlier transforms ensure that the index has the right type</i></td></tr>
<tr><th id="2349">2349</th><td><i>          // according to the Data Layout, which considerably simplifies</i></td></tr>
<tr><th id="2350">2350</th><td><i>          // the logic by eliminating implicit casts.</i></td></tr>
<tr><th id="2351">2351</th><td>          <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Idx-&gt;getType() == DL.getIndexType(GEPType) &amp;&amp;</td></tr>
<tr><th id="2352">2352</th><td>                 <q>"Index type does not match the Data Layout preferences"</q>);</td></tr>
<tr><th id="2353">2353</th><td></td></tr>
<tr><th id="2354">2354</th><td>          <em>bool</em> <dfn class="local col7 decl" id="447NSW" title='NSW' data-type='bool' data-ref="447NSW" data-ref-filename="447NSW">NSW</dfn>;</td></tr>
<tr><th id="2355">2355</th><td>          <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="448NewIdx" title='NewIdx' data-type='llvm::Value *' data-ref="448NewIdx" data-ref-filename="448NewIdx"><a class="local col8 ref" href="#448NewIdx" title='NewIdx' data-ref="448NewIdx" data-ref-filename="448NewIdx">NewIdx</a></dfn> = <a class="member fn" href="#_ZN4llvm16InstCombinerImpl7DescaleEPNS_5ValueENS_5APIntERb" title='llvm::InstCombinerImpl::Descale' data-ref="_ZN4llvm16InstCombinerImpl7DescaleEPNS_5ValueENS_5APIntERb" data-ref-filename="_ZN4llvm16InstCombinerImpl7DescaleEPNS_5ValueENS_5APIntERb">Descale</a>(<a class="local col4 ref" href="#444Idx" title='Idx' data-ref="444Idx" data-ref-filename="444Idx">Idx</a>, <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a><a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntC1Ejmb" title='llvm::APInt::APInt' data-ref="_ZN4llvm5APIntC1Ejmb" data-ref-filename="_ZN4llvm5APIntC1Ejmb">(</a><a class="local col5 ref" href="#445BitWidth" title='BitWidth' data-ref="445BitWidth" data-ref-filename="445BitWidth">BitWidth</a>, <a class="local col6 ref" href="#446Scale" title='Scale' data-ref="446Scale" data-ref-filename="446Scale">Scale</a>), <span class='refarg'><a class="local col7 ref" href="#447NSW" title='NSW' data-ref="447NSW" data-ref-filename="447NSW">NSW</a></span>)) {</td></tr>
<tr><th id="2356">2356</th><td>            <i>// Successfully decomposed Idx as NewIdx * Scale, form a new GEP.</i></td></tr>
<tr><th id="2357">2357</th><td><i>            // If the multiplication NewIdx * Scale may overflow then the new</i></td></tr>
<tr><th id="2358">2358</th><td><i>            // GEP may not be "inbounds".</i></td></tr>
<tr><th id="2359">2359</th><td>            <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col9 decl" id="449IndTy" title='IndTy' data-type='llvm::Type *' data-ref="449IndTy" data-ref-filename="449IndTy">IndTy</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout12getIndexTypeEPNS_4TypeE" title='llvm::DataLayout::getIndexType' data-ref="_ZNK4llvm10DataLayout12getIndexTypeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout12getIndexTypeEPNS_4TypeE">getIndexType</a>(<a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2360">2360</th><td>            <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="450Off" title='Off' data-type='llvm::Value *[2]' data-ref="450Off" data-ref-filename="450Off">Off</dfn>[<var>2</var>] = {<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>::<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZN4llvm8Constant12getNullValueEPNS_4TypeE" title='llvm::Constant::getNullValue' data-ref="_ZN4llvm8Constant12getNullValueEPNS_4TypeE" data-ref-filename="_ZN4llvm8Constant12getNullValueEPNS_4TypeE">getNullValue</a>(<a class="local col9 ref" href="#449IndTy" title='IndTy' data-ref="449IndTy" data-ref-filename="449IndTy">IndTy</a>), <a class="local col8 ref" href="#448NewIdx" title='NewIdx' data-ref="448NewIdx" data-ref-filename="448NewIdx">NewIdx</a>};</td></tr>
<tr><th id="2361">2361</th><td></td></tr>
<tr><th id="2362">2362</th><td>            <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="451NewGEP" title='NewGEP' data-type='llvm::Value *' data-ref="451NewGEP" data-ref-filename="451NewGEP">NewGEP</dfn> =</td></tr>
<tr><th id="2363">2363</th><td>                <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst10isInBoundsEv" title='llvm::GetElementPtrInst::isInBounds' data-ref="_ZNK4llvm17GetElementPtrInst10isInBoundsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst10isInBoundsEv">isInBounds</a>() &amp;&amp; <a class="local col7 ref" href="#447NSW" title='NSW' data-ref="447NSW" data-ref-filename="447NSW">NSW</a></td></tr>
<tr><th id="2364">2364</th><td>                    ? <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInBoundsGEP' data-ref="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE">CreateInBoundsGEP</a>(<a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>, <a class="local col0 ref" href="#420StrippedPtr" title='StrippedPtr' data-ref="420StrippedPtr" data-ref-filename="420StrippedPtr">StrippedPtr</a>,</td></tr>
<tr><th id="2365">2365</th><td>                                                <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERATL0___KT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERATL0___KT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERATL0___KT_"></a><a class="local col0 ref" href="#450Off" title='Off' data-ref="450Off" data-ref-filename="450Off">Off</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>())</td></tr>
<tr><th id="2366">2366</th><td>                    : <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateGEP' data-ref="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE">CreateGEP</a>(<a class="local col3 ref" href="#423StrippedPtrEltTy" title='StrippedPtrEltTy' data-ref="423StrippedPtrEltTy" data-ref-filename="423StrippedPtrEltTy">StrippedPtrEltTy</a>, <a class="local col0 ref" href="#420StrippedPtr" title='StrippedPtr' data-ref="420StrippedPtr" data-ref-filename="420StrippedPtr">StrippedPtr</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERATL0___KT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERATL0___KT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERATL0___KT_"></a><a class="local col0 ref" href="#450Off" title='Off' data-ref="450Off" data-ref-filename="450Off">Off</a>,</td></tr>
<tr><th id="2367">2367</th><td>                                        <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>());</td></tr>
<tr><th id="2368">2368</th><td>            <i>// The NewGEP must be pointer typed, so must the old one -&gt; BitCast</i></td></tr>
<tr><th id="2369">2369</th><td>            <b>return</b> <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a>::<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm8CastInst35CreatePointerBitCastOrAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" title='llvm::CastInst::CreatePointerBitCastOrAddrSpaceCast' data-ref="_ZN4llvm8CastInst35CreatePointerBitCastOrAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm8CastInst35CreatePointerBitCastOrAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE">CreatePointerBitCastOrAddrSpaceCast</a>(<a class="local col1 ref" href="#451NewGEP" title='NewGEP' data-ref="451NewGEP" data-ref-filename="451NewGEP">NewGEP</a>,</td></tr>
<tr><th id="2370">2370</th><td>                                                                 <a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2371">2371</th><td>          }</td></tr>
<tr><th id="2372">2372</th><td>        }</td></tr>
<tr><th id="2373">2373</th><td>      }</td></tr>
<tr><th id="2374">2374</th><td>    }</td></tr>
<tr><th id="2375">2375</th><td>  }</td></tr>
<tr><th id="2376">2376</th><td></td></tr>
<tr><th id="2377">2377</th><td>  <i>// addrspacecast between types is canonicalized as a bitcast, then an</i></td></tr>
<tr><th id="2378">2378</th><td><i>  // addrspacecast. To take advantage of the below bitcast + struct GEP, look</i></td></tr>
<tr><th id="2379">2379</th><td><i>  // through the addrspacecast.</i></td></tr>
<tr><th id="2380">2380</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="452ASCStrippedPtrOp" title='ASCStrippedPtrOp' data-type='llvm::Value *' data-ref="452ASCStrippedPtrOp" data-ref-filename="452ASCStrippedPtrOp">ASCStrippedPtrOp</dfn> = <a class="local col3 ref" href="#373PtrOp" title='PtrOp' data-ref="373PtrOp" data-ref-filename="373PtrOp">PtrOp</a>;</td></tr>
<tr><th id="2381">2381</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col3 decl" id="453ASC" title='ASC' data-type='llvm::AddrSpaceCastInst *' data-ref="453ASC" data-ref-filename="453ASC"><a class="local col3 ref" href="#453ASC" title='ASC' data-ref="453ASC" data-ref-filename="453ASC">ASC</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::AddrSpaceCastInst" title='llvm::AddrSpaceCastInst' data-ref="llvm::AddrSpaceCastInst" data-ref-filename="llvm..AddrSpaceCastInst">AddrSpaceCastInst</a>&gt;(<a class="local col3 ref" href="#373PtrOp" title='PtrOp' data-ref="373PtrOp" data-ref-filename="373PtrOp">PtrOp</a>)) {</td></tr>
<tr><th id="2382">2382</th><td>    <i>//   X = bitcast A addrspace(1)* to B addrspace(1)*</i></td></tr>
<tr><th id="2383">2383</th><td><i>    //   Y = addrspacecast A addrspace(1)* to B addrspace(2)*</i></td></tr>
<tr><th id="2384">2384</th><td><i>    //   Z = gep Y, &lt;...constant indices...&gt;</i></td></tr>
<tr><th id="2385">2385</th><td><i>    // Into an addrspacecasted GEP of the struct.</i></td></tr>
<tr><th id="2386">2386</th><td>    <b>if</b> (<em>auto</em> *<dfn class="local col4 decl" id="454BC" title='BC' data-type='llvm::BitCastInst *' data-ref="454BC" data-ref-filename="454BC"><a class="local col4 ref" href="#454BC" title='BC' data-ref="454BC" data-ref-filename="454BC">BC</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::BitCastInst" title='llvm::BitCastInst' data-ref="llvm::BitCastInst" data-ref-filename="llvm..BitCastInst">BitCastInst</a>&gt;(<a class="local col3 ref" href="#453ASC" title='ASC' data-ref="453ASC" data-ref-filename="453ASC">ASC</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#76" title='llvm::UnaryInstruction::getOperand' data-ref="_ZNK4llvm16UnaryInstruction10getOperandEj" data-ref-filename="_ZNK4llvm16UnaryInstruction10getOperandEj">getOperand</a>(<var>0</var>)))</td></tr>
<tr><th id="2387">2387</th><td>      <a class="local col2 ref" href="#452ASCStrippedPtrOp" title='ASCStrippedPtrOp' data-ref="452ASCStrippedPtrOp" data-ref-filename="452ASCStrippedPtrOp">ASCStrippedPtrOp</a> = <a class="local col4 ref" href="#454BC" title='BC' data-ref="454BC" data-ref-filename="454BC">BC</a>;</td></tr>
<tr><th id="2388">2388</th><td>  }</td></tr>
<tr><th id="2389">2389</th><td></td></tr>
<tr><th id="2390">2390</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col5 decl" id="455BCI" title='BCI' data-type='llvm::BitCastInst *' data-ref="455BCI" data-ref-filename="455BCI"><a class="local col5 ref" href="#455BCI" title='BCI' data-ref="455BCI" data-ref-filename="455BCI">BCI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::BitCastInst" title='llvm::BitCastInst' data-ref="llvm::BitCastInst" data-ref-filename="llvm..BitCastInst">BitCastInst</a>&gt;(<a class="local col2 ref" href="#452ASCStrippedPtrOp" title='ASCStrippedPtrOp' data-ref="452ASCStrippedPtrOp" data-ref-filename="452ASCStrippedPtrOp">ASCStrippedPtrOp</a>)) {</td></tr>
<tr><th id="2391">2391</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="456SrcOp" title='SrcOp' data-type='llvm::Value *' data-ref="456SrcOp" data-ref-filename="456SrcOp">SrcOp</dfn> = <a class="local col5 ref" href="#455BCI" title='BCI' data-ref="455BCI" data-ref-filename="455BCI">BCI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#76" title='llvm::UnaryInstruction::getOperand' data-ref="_ZNK4llvm16UnaryInstruction10getOperandEj" data-ref-filename="_ZNK4llvm16UnaryInstruction10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="2392">2392</th><td>    <a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::PointerType" title='llvm::PointerType' data-ref="llvm::PointerType" data-ref-filename="llvm..PointerType">PointerType</a> *<dfn class="local col7 decl" id="457SrcType" title='SrcType' data-type='llvm::PointerType *' data-ref="457SrcType" data-ref-filename="457SrcType">SrcType</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::PointerType" title='llvm::PointerType' data-ref="llvm::PointerType" data-ref-filename="llvm..PointerType">PointerType</a>&gt;(<a class="local col5 ref" href="#455BCI" title='BCI' data-ref="455BCI" data-ref-filename="455BCI">BCI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CastInst8getSrcTyEv" title='llvm::CastInst::getSrcTy' data-ref="_ZNK4llvm8CastInst8getSrcTyEv" data-ref-filename="_ZNK4llvm8CastInst8getSrcTyEv">getSrcTy</a>());</td></tr>
<tr><th id="2393">2393</th><td>    <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col8 decl" id="458SrcEltType" title='SrcEltType' data-type='llvm::Type *' data-ref="458SrcEltType" data-ref-filename="458SrcEltType">SrcEltType</dfn> = <a class="local col7 ref" href="#457SrcType" title='SrcType' data-ref="457SrcType" data-ref-filename="457SrcType">SrcType</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm11PointerType14getElementTypeEv" title='llvm::PointerType::getElementType' data-ref="_ZNK4llvm11PointerType14getElementTypeEv" data-ref-filename="_ZNK4llvm11PointerType14getElementTypeEv">getElementType</a>();</td></tr>
<tr><th id="2394">2394</th><td></td></tr>
<tr><th id="2395">2395</th><td>    <i>// GEP directly using the source operand if this GEP is accessing an element</i></td></tr>
<tr><th id="2396">2396</th><td><i>    // of a bitcasted pointer to vector or array of the same dimensions:</i></td></tr>
<tr><th id="2397">2397</th><td><i>    // gep (bitcast &lt;c x ty&gt;* X to [c x ty]*), Y, Z --&gt; gep X, Y, Z</i></td></tr>
<tr><th id="2398">2398</th><td><i>    // gep (bitcast [c x ty]* X to &lt;c x ty&gt;*), Y, Z --&gt; gep X, Y, Z</i></td></tr>
<tr><th id="2399">2399</th><td>    <em>auto</em> <dfn class="local col9 decl" id="459areMatchingArrayAndVecTypes" title='areMatchingArrayAndVecTypes' data-type='(lambda at /fast/tmp/llvm-proj-12/llvm/lib/Transforms/InstCombine/InstructionCombining.cpp:2399:40)' data-ref="459areMatchingArrayAndVecTypes" data-ref-filename="459areMatchingArrayAndVecTypes">areMatchingArrayAndVecTypes</dfn> = [](<a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col0 decl" id="460ArrTy" title='ArrTy' data-type='llvm::Type *' data-ref="460ArrTy" data-ref-filename="460ArrTy">ArrTy</dfn>, <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col1 decl" id="461VecTy" title='VecTy' data-type='llvm::Type *' data-ref="461VecTy" data-ref-filename="461VecTy">VecTy</dfn>,</td></tr>
<tr><th id="2400">2400</th><td>                                          <em>const</em> <a class="type" href="../../../include/llvm/IR/DataLayout.h.html#llvm::DataLayout" title='llvm::DataLayout' data-ref="llvm::DataLayout" data-ref-filename="llvm..DataLayout">DataLayout</a> &amp;<dfn class="local col2 decl" id="462DL" title='DL' data-type='const llvm::DataLayout &amp;' data-ref="462DL" data-ref-filename="462DL">DL</dfn>) {</td></tr>
<tr><th id="2401">2401</th><td>      <em>auto</em> *<dfn class="local col3 decl" id="463VecVTy" title='VecVTy' data-type='llvm::FixedVectorType *' data-ref="463VecVTy" data-ref-filename="463VecVTy">VecVTy</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::FixedVectorType" title='llvm::FixedVectorType' data-ref="llvm::FixedVectorType" data-ref-filename="llvm..FixedVectorType">FixedVectorType</a>&gt;(<a class="local col1 ref" href="#461VecTy" title='VecTy' data-ref="461VecTy" data-ref-filename="461VecTy">VecTy</a>);</td></tr>
<tr><th id="2402">2402</th><td>      <b>return</b> <a class="local col0 ref" href="#460ArrTy" title='ArrTy' data-ref="460ArrTy" data-ref-filename="460ArrTy">ArrTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type19getArrayElementTypeEv" title='llvm::Type::getArrayElementType' data-ref="_ZNK4llvm4Type19getArrayElementTypeEv" data-ref-filename="_ZNK4llvm4Type19getArrayElementTypeEv">getArrayElementType</a>() == <a class="local col3 ref" href="#463VecVTy" title='VecVTy' data-ref="463VecVTy" data-ref-filename="463VecVTy">VecVTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm10VectorType14getElementTypeEv" title='llvm::VectorType::getElementType' data-ref="_ZNK4llvm10VectorType14getElementTypeEv" data-ref-filename="_ZNK4llvm10VectorType14getElementTypeEv">getElementType</a>() &amp;&amp;</td></tr>
<tr><th id="2403">2403</th><td>             <a class="local col0 ref" href="#460ArrTy" title='ArrTy' data-ref="460ArrTy" data-ref-filename="460ArrTy">ArrTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type19getArrayNumElementsEv" title='llvm::Type::getArrayNumElements' data-ref="_ZNK4llvm4Type19getArrayNumElementsEv" data-ref-filename="_ZNK4llvm4Type19getArrayNumElementsEv">getArrayNumElements</a>() == <a class="local col3 ref" href="#463VecVTy" title='VecVTy' data-ref="463VecVTy" data-ref-filename="463VecVTy">VecVTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm15FixedVectorType14getNumElementsEv" title='llvm::FixedVectorType::getNumElements' data-ref="_ZNK4llvm15FixedVectorType14getNumElementsEv" data-ref-filename="_ZNK4llvm15FixedVectorType14getNumElementsEv">getNumElements</a>() &amp;&amp;</td></tr>
<tr><th id="2404">2404</th><td>             <a class="local col2 ref" href="#462DL" title='DL' data-ref="462DL" data-ref-filename="462DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeAllocSize' data-ref="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE">getTypeAllocSize</a>(<a class="local col0 ref" href="#460ArrTy" title='ArrTy' data-ref="460ArrTy" data-ref-filename="460ArrTy">ArrTy</a>) <a class="ref fn" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm24UnivariateLinearPolyBaseeqERKNS_24UnivariateLinearPolyBaseIT_EE" title='llvm::UnivariateLinearPolyBase::operator==' data-ref="_ZNK4llvm24UnivariateLinearPolyBaseeqERKNS_24UnivariateLinearPolyBaseIT_EE" data-ref-filename="_ZNK4llvm24UnivariateLinearPolyBaseeqERKNS_24UnivariateLinearPolyBaseIT_EE">==</a> <a class="local col2 ref" href="#462DL" title='DL' data-ref="462DL" data-ref-filename="462DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeAllocSize' data-ref="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE">getTypeAllocSize</a>(<a class="local col1 ref" href="#461VecTy" title='VecTy' data-ref="461VecTy" data-ref-filename="461VecTy">VecTy</a>);</td></tr>
<tr><th id="2405">2405</th><td>    };</td></tr>
<tr><th id="2406">2406</th><td>    <b>if</b> (<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#1000" title='llvm::GetElementPtrInst::getNumOperands' data-ref="_ZNK4llvm17GetElementPtrInst14getNumOperandsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst14getNumOperandsEv">getNumOperands</a>() == <var>3</var> &amp;&amp;</td></tr>
<tr><th id="2407">2407</th><td>        ((<a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type9isArrayTyEv" title='llvm::Type::isArrayTy' data-ref="_ZNK4llvm4Type9isArrayTyEv" data-ref-filename="_ZNK4llvm4Type9isArrayTyEv">isArrayTy</a>() &amp;&amp; <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::FixedVectorType" title='llvm::FixedVectorType' data-ref="llvm::FixedVectorType" data-ref-filename="llvm..FixedVectorType">FixedVectorType</a>&gt;(<a class="local col8 ref" href="#458SrcEltType" title='SrcEltType' data-ref="458SrcEltType" data-ref-filename="458SrcEltType">SrcEltType</a>) &amp;&amp;</td></tr>
<tr><th id="2408">2408</th><td>          <a class="local col9 ref" href="#459areMatchingArrayAndVecTypes" title='areMatchingArrayAndVecTypes' data-ref="459areMatchingArrayAndVecTypes" data-ref-filename="459areMatchingArrayAndVecTypes">areMatchingArrayAndVecTypes</a><a class="tu ref fn" href="#_ZZN4llvm16InstCombinerImpl22visitGetElementPtrInstERNS_17GetElementPtrInstEENK3$_2clEPNS_4TypeES5_RKNS_10DataLayoutE" title='llvm::InstCombinerImpl::visitGetElementPtrInst(llvm::GetElementPtrInst &amp;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN4llvm16InstCombinerImpl22visitGetElementPtrInstERNS_17GetElementPtrInstEENK3$_2clEPNS_4TypeES5_RKNS_10DataLayoutE" data-ref-filename="_ZZN4llvm16InstCombinerImpl22visitGetElementPtrInstERNS_17GetElementPtrInstEENK3$_2clEPNS_4TypeES5_RKNS_10DataLayoutE">(<a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>, <a class="local col8 ref" href="#458SrcEltType" title='SrcEltType' data-ref="458SrcEltType" data-ref-filename="458SrcEltType">SrcEltType</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>)</a>) ||</td></tr>
<tr><th id="2409">2409</th><td>         (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::FixedVectorType" title='llvm::FixedVectorType' data-ref="llvm::FixedVectorType" data-ref-filename="llvm..FixedVectorType">FixedVectorType</a>&gt;(<a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>) &amp;&amp; <a class="local col8 ref" href="#458SrcEltType" title='SrcEltType' data-ref="458SrcEltType" data-ref-filename="458SrcEltType">SrcEltType</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type9isArrayTyEv" title='llvm::Type::isArrayTy' data-ref="_ZNK4llvm4Type9isArrayTyEv" data-ref-filename="_ZNK4llvm4Type9isArrayTyEv">isArrayTy</a>() &amp;&amp;</td></tr>
<tr><th id="2410">2410</th><td>          <a class="local col9 ref" href="#459areMatchingArrayAndVecTypes" title='areMatchingArrayAndVecTypes' data-ref="459areMatchingArrayAndVecTypes" data-ref-filename="459areMatchingArrayAndVecTypes">areMatchingArrayAndVecTypes</a><a class="tu ref fn" href="#_ZZN4llvm16InstCombinerImpl22visitGetElementPtrInstERNS_17GetElementPtrInstEENK3$_2clEPNS_4TypeES5_RKNS_10DataLayoutE" title='llvm::InstCombinerImpl::visitGetElementPtrInst(llvm::GetElementPtrInst &amp;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN4llvm16InstCombinerImpl22visitGetElementPtrInstERNS_17GetElementPtrInstEENK3$_2clEPNS_4TypeES5_RKNS_10DataLayoutE" data-ref-filename="_ZZN4llvm16InstCombinerImpl22visitGetElementPtrInstERNS_17GetElementPtrInstEENK3$_2clEPNS_4TypeES5_RKNS_10DataLayoutE">(<a class="local col8 ref" href="#458SrcEltType" title='SrcEltType' data-ref="458SrcEltType" data-ref-filename="458SrcEltType">SrcEltType</a>, <a class="local col5 ref" href="#365GEPEltType" title='GEPEltType' data-ref="365GEPEltType" data-ref-filename="365GEPEltType">GEPEltType</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>)</a>))) {</td></tr>
<tr><th id="2411">2411</th><td></td></tr>
<tr><th id="2412">2412</th><td>      <i>// Create a new GEP here, as using `setOperand()` followed by</i></td></tr>
<tr><th id="2413">2413</th><td><i>      // `setSourceElementType()` won't actually update the type of the</i></td></tr>
<tr><th id="2414">2414</th><td><i>      // existing GEP Value. Causing issues if this Value is accessed when</i></td></tr>
<tr><th id="2415">2415</th><td><i>      // constructing an AddrSpaceCastInst</i></td></tr>
<tr><th id="2416">2416</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="464NGEP" title='NGEP' data-type='llvm::Value *' data-ref="464NGEP" data-ref-filename="464NGEP">NGEP</dfn> =</td></tr>
<tr><th id="2417">2417</th><td>          <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst10isInBoundsEv" title='llvm::GetElementPtrInst::isInBounds' data-ref="_ZNK4llvm17GetElementPtrInst10isInBoundsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst10isInBoundsEv">isInBounds</a>()</td></tr>
<tr><th id="2418">2418</th><td>              ? <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInBoundsGEP' data-ref="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE">CreateInBoundsGEP</a>(<a class="local col8 ref" href="#458SrcEltType" title='SrcEltType' data-ref="458SrcEltType" data-ref-filename="458SrcEltType">SrcEltType</a>, <a class="local col6 ref" href="#456SrcOp" title='SrcOp' data-ref="456SrcOp" data-ref-filename="456SrcOp">SrcOp</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E" data-ref-filename="_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E"></a>{<a class="local col3 ref" href="#363Ops" title='Ops' data-ref="363Ops" data-ref-filename="363Ops">Ops</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<var>1</var>]</a>, <a class="local col3 ref" href="#363Ops" title='Ops' data-ref="363Ops" data-ref-filename="363Ops">Ops</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<var>2</var>]</a>})</td></tr>
<tr><th id="2419">2419</th><td>              : <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateGEP' data-ref="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE">CreateGEP</a>(<a class="local col8 ref" href="#458SrcEltType" title='SrcEltType' data-ref="458SrcEltType" data-ref-filename="458SrcEltType">SrcEltType</a>, <a class="local col6 ref" href="#456SrcOp" title='SrcOp' data-ref="456SrcOp" data-ref-filename="456SrcOp">SrcOp</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E" data-ref-filename="_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E"></a>{<a class="local col3 ref" href="#363Ops" title='Ops' data-ref="363Ops" data-ref-filename="363Ops">Ops</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<var>1</var>]</a>, <a class="local col3 ref" href="#363Ops" title='Ops' data-ref="363Ops" data-ref-filename="363Ops">Ops</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<var>2</var>]</a>});</td></tr>
<tr><th id="2420">2420</th><td>      <a class="local col4 ref" href="#464NGEP" title='NGEP' data-ref="464NGEP" data-ref-filename="464NGEP">NGEP</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value8takeNameEPS0_" title='llvm::Value::takeName' data-ref="_ZN4llvm5Value8takeNameEPS0_" data-ref-filename="_ZN4llvm5Value8takeNameEPS0_">takeName</a>(&amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>);</td></tr>
<tr><th id="2421">2421</th><td></td></tr>
<tr><th id="2422">2422</th><td>      <i>// Preserve GEP address space to satisfy users</i></td></tr>
<tr><th id="2423">2423</th><td>      <b>if</b> (<a class="local col4 ref" href="#464NGEP" title='NGEP' data-ref="464NGEP" data-ref-filename="464NGEP">NGEP</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPointerAddressSpaceEv" title='llvm::Type::getPointerAddressSpace' data-ref="_ZNK4llvm4Type22getPointerAddressSpaceEv" data-ref-filename="_ZNK4llvm4Type22getPointerAddressSpaceEv">getPointerAddressSpace</a>() != <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv" title='llvm::GetElementPtrInst::getAddressSpace' data-ref="_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv">getAddressSpace</a>())</td></tr>
<tr><th id="2424">2424</th><td>        <b>return</b> <b>new</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::AddrSpaceCastInst" title='llvm::AddrSpaceCastInst' data-ref="llvm::AddrSpaceCastInst" data-ref-filename="llvm..AddrSpaceCastInst">AddrSpaceCastInst</a><a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" title='llvm::AddrSpaceCastInst::AddrSpaceCastInst' data-ref="_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE">(</a><a class="local col4 ref" href="#464NGEP" title='NGEP' data-ref="464NGEP" data-ref-filename="464NGEP">NGEP</a>, <a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2425">2425</th><td></td></tr>
<tr><th id="2426">2426</th><td>      <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a></span>, <a class="local col4 ref" href="#464NGEP" title='NGEP' data-ref="464NGEP" data-ref-filename="464NGEP">NGEP</a>);</td></tr>
<tr><th id="2427">2427</th><td>    }</td></tr>
<tr><th id="2428">2428</th><td></td></tr>
<tr><th id="2429">2429</th><td>    <i>// See if we can simplify:</i></td></tr>
<tr><th id="2430">2430</th><td><i>    //   X = bitcast A* to B*</i></td></tr>
<tr><th id="2431">2431</th><td><i>    //   Y = gep X, &lt;...constant indices...&gt;</i></td></tr>
<tr><th id="2432">2432</th><td><i>    // into a gep of the original struct. This is important for SROA and alias</i></td></tr>
<tr><th id="2433">2433</th><td><i>    // analysis of unions. If "A" is also a bitcast, wait for A/X to be merged.</i></td></tr>
<tr><th id="2434">2434</th><td>    <em>unsigned</em> <dfn class="local col5 decl" id="465OffsetBits" title='OffsetBits' data-type='unsigned int' data-ref="465OffsetBits" data-ref-filename="465OffsetBits">OffsetBits</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout22getIndexTypeSizeInBitsEPNS_4TypeE" title='llvm::DataLayout::getIndexTypeSizeInBits' data-ref="_ZNK4llvm10DataLayout22getIndexTypeSizeInBitsEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout22getIndexTypeSizeInBitsEPNS_4TypeE">getIndexTypeSizeInBits</a>(<a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2435">2435</th><td>    <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> <dfn class="local col6 decl" id="466Offset" title='Offset' data-type='llvm::APInt' data-ref="466Offset" data-ref-filename="466Offset">Offset</dfn><a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntC1Ejmb" title='llvm::APInt::APInt' data-ref="_ZN4llvm5APIntC1Ejmb" data-ref-filename="_ZN4llvm5APIntC1Ejmb">(</a><a class="local col5 ref" href="#465OffsetBits" title='OffsetBits' data-ref="465OffsetBits" data-ref-filename="465OffsetBits">OffsetBits</a>, <var>0</var>);</td></tr>
<tr><th id="2436">2436</th><td>    <b>if</b> (!<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::BitCastInst" title='llvm::BitCastInst' data-ref="llvm::BitCastInst" data-ref-filename="llvm..BitCastInst">BitCastInst</a>&gt;(<a class="local col6 ref" href="#456SrcOp" title='SrcOp' data-ref="456SrcOp" data-ref-filename="456SrcOp">SrcOp</a>) &amp;&amp; <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst24accumulateConstantOffsetERKNS_10DataLayoutERNS_5APIntE" title='llvm::GetElementPtrInst::accumulateConstantOffset' data-ref="_ZNK4llvm17GetElementPtrInst24accumulateConstantOffsetERKNS_10DataLayoutERNS_5APIntE" data-ref-filename="_ZNK4llvm17GetElementPtrInst24accumulateConstantOffsetERKNS_10DataLayoutERNS_5APIntE">accumulateConstantOffset</a>(<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>, <span class='refarg'><a class="local col6 ref" href="#466Offset" title='Offset' data-ref="466Offset" data-ref-filename="466Offset">Offset</a></span>)) {</td></tr>
<tr><th id="2437">2437</th><td>      <i>// If this GEP instruction doesn't move the pointer, just replace the GEP</i></td></tr>
<tr><th id="2438">2438</th><td><i>      // with a bitcast of the real input to the dest type.</i></td></tr>
<tr><th id="2439">2439</th><td>      <b>if</b> (<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APIntntEv" title='llvm::APInt::operator!' data-ref="_ZNK4llvm5APIntntEv" data-ref-filename="_ZNK4llvm5APIntntEv">!</a><a class="local col6 ref" href="#466Offset" title='Offset' data-ref="466Offset" data-ref-filename="466Offset">Offset</a>) {</td></tr>
<tr><th id="2440">2440</th><td>        <i>// If the bitcast is of an allocation, and the allocation will be</i></td></tr>
<tr><th id="2441">2441</th><td><i>        // converted to match the type of the cast, don't touch this.</i></td></tr>
<tr><th id="2442">2442</th><td>        <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::AllocaInst" title='llvm::AllocaInst' data-ref="llvm::AllocaInst" data-ref-filename="llvm..AllocaInst">AllocaInst</a>&gt;(<a class="local col6 ref" href="#456SrcOp" title='SrcOp' data-ref="456SrcOp" data-ref-filename="456SrcOp">SrcOp</a>) || <a class="ref fn" href="../../../include/llvm/Analysis/MemoryBuiltins.h.html#_ZN4llvm14isAllocationFnEPKNS_5ValueEPKNS_17TargetLibraryInfoEb" title='llvm::isAllocationFn' data-ref="_ZN4llvm14isAllocationFnEPKNS_5ValueEPKNS_17TargetLibraryInfoEb" data-ref-filename="_ZN4llvm14isAllocationFnEPKNS_5ValueEPKNS_17TargetLibraryInfoEb">isAllocationFn</a>(<a class="local col6 ref" href="#456SrcOp" title='SrcOp' data-ref="456SrcOp" data-ref-filename="456SrcOp">SrcOp</a>, &amp;<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::TLI" title='llvm::InstCombiner::TLI' data-ref="llvm::InstCombiner::TLI" data-ref-filename="llvm..InstCombiner..TLI">TLI</a>)) {</td></tr>
<tr><th id="2443">2443</th><td>          <i>// See if the bitcast simplifies, if so, don't nuke this GEP yet.</i></td></tr>
<tr><th id="2444">2444</th><td>          <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col7 decl" id="467I" title='I' data-type='llvm::Instruction *' data-ref="467I" data-ref-filename="467I"><a class="local col7 ref" href="#467I" title='I' data-ref="467I" data-ref-filename="467I">I</a></dfn> = <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl12visitBitCastERNS_11BitCastInstE" title='llvm::InstCombinerImpl::visitBitCast' data-ref="_ZN4llvm16InstCombinerImpl12visitBitCastERNS_11BitCastInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl12visitBitCastERNS_11BitCastInstE">visitBitCast</a>(<span class='refarg'>*<a class="local col5 ref" href="#455BCI" title='BCI' data-ref="455BCI" data-ref-filename="455BCI">BCI</a></span>)) {</td></tr>
<tr><th id="2445">2445</th><td>            <b>if</b> (<a class="local col7 ref" href="#467I" title='I' data-ref="467I" data-ref-filename="467I">I</a> != <a class="local col5 ref" href="#455BCI" title='BCI' data-ref="455BCI" data-ref-filename="455BCI">BCI</a>) {</td></tr>
<tr><th id="2446">2446</th><td>              <a class="local col7 ref" href="#467I" title='I' data-ref="467I" data-ref-filename="467I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value8takeNameEPS0_" title='llvm::Value::takeName' data-ref="_ZN4llvm5Value8takeNameEPS0_" data-ref-filename="_ZN4llvm5Value8takeNameEPS0_">takeName</a>(<a class="local col5 ref" href="#455BCI" title='BCI' data-ref="455BCI" data-ref-filename="455BCI">BCI</a>);</td></tr>
<tr><th id="2447">2447</th><td>              <a class="local col5 ref" href="#455BCI" title='BCI' data-ref="455BCI" data-ref-filename="455BCI">BCI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock11getInstListEv" title='llvm::BasicBlock::getInstList' data-ref="_ZN4llvm10BasicBlock11getInstListEv" data-ref-filename="_ZN4llvm10BasicBlock11getInstListEv">getInstList</a>().<a class="ref fn" href="../../../include/llvm/ADT/ilist.h.html#_ZN4llvm11iplist_impl6insertENT_8iteratorENS1_7pointerE" title='llvm::iplist_impl::insert' data-ref="_ZN4llvm11iplist_impl6insertENT_8iteratorENS1_7pointerE" data-ref-filename="_ZN4llvm11iplist_impl6insertENT_8iteratorENS1_7pointerE">insert</a>(<a class="local col5 ref" href="#455BCI" title='BCI' data-ref="455BCI" data-ref-filename="455BCI">BCI</a>-&gt;<a class="ref fn" href="../../../include/llvm/ADT/ilist_node.h.html#_ZN4llvm15ilist_node_impl11getIteratorEv" title='llvm::ilist_node_impl::getIterator' data-ref="_ZN4llvm15ilist_node_impl11getIteratorEv" data-ref-filename="_ZN4llvm15ilist_node_impl11getIteratorEv">getIterator</a>(), <a class="local col7 ref" href="#467I" title='I' data-ref="467I" data-ref-filename="467I">I</a>);</td></tr>
<tr><th id="2448">2448</th><td>              <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'>*<a class="local col5 ref" href="#455BCI" title='BCI' data-ref="455BCI" data-ref-filename="455BCI">BCI</a></span>, <a class="local col7 ref" href="#467I" title='I' data-ref="467I" data-ref-filename="467I">I</a>);</td></tr>
<tr><th id="2449">2449</th><td>            }</td></tr>
<tr><th id="2450">2450</th><td>            <b>return</b> &amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>;</td></tr>
<tr><th id="2451">2451</th><td>          }</td></tr>
<tr><th id="2452">2452</th><td>        }</td></tr>
<tr><th id="2453">2453</th><td></td></tr>
<tr><th id="2454">2454</th><td>        <b>if</b> (<a class="local col7 ref" href="#457SrcType" title='SrcType' data-ref="457SrcType" data-ref-filename="457SrcType">SrcType</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPointerAddressSpaceEv" title='llvm::Type::getPointerAddressSpace' data-ref="_ZNK4llvm4Type22getPointerAddressSpaceEv" data-ref-filename="_ZNK4llvm4Type22getPointerAddressSpaceEv">getPointerAddressSpace</a>() != <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv" title='llvm::GetElementPtrInst::getAddressSpace' data-ref="_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv">getAddressSpace</a>())</td></tr>
<tr><th id="2455">2455</th><td>          <b>return</b> <b>new</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::AddrSpaceCastInst" title='llvm::AddrSpaceCastInst' data-ref="llvm::AddrSpaceCastInst" data-ref-filename="llvm..AddrSpaceCastInst">AddrSpaceCastInst</a><a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" title='llvm::AddrSpaceCastInst::AddrSpaceCastInst' data-ref="_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE">(</a><a class="local col6 ref" href="#456SrcOp" title='SrcOp' data-ref="456SrcOp" data-ref-filename="456SrcOp">SrcOp</a>, <a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2456">2456</th><td>        <b>return</b> <b>new</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::BitCastInst" title='llvm::BitCastInst' data-ref="llvm::BitCastInst" data-ref-filename="llvm..BitCastInst">BitCastInst</a><a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm11BitCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" title='llvm::BitCastInst::BitCastInst' data-ref="_ZN4llvm11BitCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm11BitCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE">(</a><a class="local col6 ref" href="#456SrcOp" title='SrcOp' data-ref="456SrcOp" data-ref-filename="456SrcOp">SrcOp</a>, <a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2457">2457</th><td>      }</td></tr>
<tr><th id="2458">2458</th><td></td></tr>
<tr><th id="2459">2459</th><td>      <i>// Otherwise, if the offset is non-zero, we need to find out if there is a</i></td></tr>
<tr><th id="2460">2460</th><td><i>      // field at Offset in 'A's type.  If so, we can pull the cast through the</i></td></tr>
<tr><th id="2461">2461</th><td><i>      // GEP.</i></td></tr>
<tr><th id="2462">2462</th><td>      <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a>*, <var>8</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col8 decl" id="468NewIndices" title='NewIndices' data-type='SmallVector&lt;llvm::Value *, 8&gt;' data-ref="468NewIndices" data-ref-filename="468NewIndices">NewIndices</dfn>;</td></tr>
<tr><th id="2463">2463</th><td>      <b>if</b> (<a class="member fn" href="#_ZN4llvm16InstCombinerImpl19FindElementAtOffsetEPNS_11PointerTypeElRNS_15SmallVectorImplIPNS_5ValueEEE" title='llvm::InstCombinerImpl::FindElementAtOffset' data-ref="_ZN4llvm16InstCombinerImpl19FindElementAtOffsetEPNS_11PointerTypeElRNS_15SmallVectorImplIPNS_5ValueEEE" data-ref-filename="_ZN4llvm16InstCombinerImpl19FindElementAtOffsetEPNS_11PointerTypeElRNS_15SmallVectorImplIPNS_5ValueEEE">FindElementAtOffset</a>(<a class="local col7 ref" href="#457SrcType" title='SrcType' data-ref="457SrcType" data-ref-filename="457SrcType">SrcType</a>, <a class="local col6 ref" href="#466Offset" title='Offset' data-ref="466Offset" data-ref-filename="466Offset">Offset</a>.<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt12getSExtValueEv" title='llvm::APInt::getSExtValue' data-ref="_ZNK4llvm5APInt12getSExtValueEv" data-ref-filename="_ZNK4llvm5APInt12getSExtValueEv">getSExtValue</a>(), <span class='refarg'><a class="local col8 ref" href="#468NewIndices" title='NewIndices' data-ref="468NewIndices" data-ref-filename="468NewIndices">NewIndices</a></span>)) {</td></tr>
<tr><th id="2464">2464</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="469NGEP" title='NGEP' data-type='llvm::Value *' data-ref="469NGEP" data-ref-filename="469NGEP">NGEP</dfn> =</td></tr>
<tr><th id="2465">2465</th><td>            <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst10isInBoundsEv" title='llvm::GetElementPtrInst::isInBounds' data-ref="_ZNK4llvm17GetElementPtrInst10isInBoundsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst10isInBoundsEv">isInBounds</a>()</td></tr>
<tr><th id="2466">2466</th><td>                ? <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInBoundsGEP' data-ref="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE">CreateInBoundsGEP</a>(<a class="local col8 ref" href="#458SrcEltType" title='SrcEltType' data-ref="458SrcEltType" data-ref-filename="458SrcEltType">SrcEltType</a>, <a class="local col6 ref" href="#456SrcOp" title='SrcOp' data-ref="456SrcOp" data-ref-filename="456SrcOp">SrcOp</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col8 ref" href="#468NewIndices" title='NewIndices' data-ref="468NewIndices" data-ref-filename="468NewIndices">NewIndices</a>)</td></tr>
<tr><th id="2467">2467</th><td>                : <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateGEP' data-ref="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE">CreateGEP</a>(<a class="local col8 ref" href="#458SrcEltType" title='SrcEltType' data-ref="458SrcEltType" data-ref-filename="458SrcEltType">SrcEltType</a>, <a class="local col6 ref" href="#456SrcOp" title='SrcOp' data-ref="456SrcOp" data-ref-filename="456SrcOp">SrcOp</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col8 ref" href="#468NewIndices" title='NewIndices' data-ref="468NewIndices" data-ref-filename="468NewIndices">NewIndices</a>);</td></tr>
<tr><th id="2468">2468</th><td></td></tr>
<tr><th id="2469">2469</th><td>        <b>if</b> (<a class="local col9 ref" href="#469NGEP" title='NGEP' data-ref="469NGEP" data-ref-filename="469NGEP">NGEP</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>() == <a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>)</td></tr>
<tr><th id="2470">2470</th><td>          <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a></span>, <a class="local col9 ref" href="#469NGEP" title='NGEP' data-ref="469NGEP" data-ref-filename="469NGEP">NGEP</a>);</td></tr>
<tr><th id="2471">2471</th><td>        <a class="local col9 ref" href="#469NGEP" title='NGEP' data-ref="469NGEP" data-ref-filename="469NGEP">NGEP</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value8takeNameEPS0_" title='llvm::Value::takeName' data-ref="_ZN4llvm5Value8takeNameEPS0_" data-ref-filename="_ZN4llvm5Value8takeNameEPS0_">takeName</a>(&amp;<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>);</td></tr>
<tr><th id="2472">2472</th><td></td></tr>
<tr><th id="2473">2473</th><td>        <b>if</b> (<a class="local col9 ref" href="#469NGEP" title='NGEP' data-ref="469NGEP" data-ref-filename="469NGEP">NGEP</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPointerAddressSpaceEv" title='llvm::Type::getPointerAddressSpace' data-ref="_ZNK4llvm4Type22getPointerAddressSpaceEv" data-ref-filename="_ZNK4llvm4Type22getPointerAddressSpaceEv">getPointerAddressSpace</a>() != <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv" title='llvm::GetElementPtrInst::getAddressSpace' data-ref="_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst15getAddressSpaceEv">getAddressSpace</a>())</td></tr>
<tr><th id="2474">2474</th><td>          <b>return</b> <b>new</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::AddrSpaceCastInst" title='llvm::AddrSpaceCastInst' data-ref="llvm::AddrSpaceCastInst" data-ref-filename="llvm..AddrSpaceCastInst">AddrSpaceCastInst</a><a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" title='llvm::AddrSpaceCastInst::AddrSpaceCastInst' data-ref="_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm17AddrSpaceCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE">(</a><a class="local col9 ref" href="#469NGEP" title='NGEP' data-ref="469NGEP" data-ref-filename="469NGEP">NGEP</a>, <a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2475">2475</th><td>        <b>return</b> <b>new</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::BitCastInst" title='llvm::BitCastInst' data-ref="llvm::BitCastInst" data-ref-filename="llvm..BitCastInst">BitCastInst</a><a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm11BitCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" title='llvm::BitCastInst::BitCastInst' data-ref="_ZN4llvm11BitCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm11BitCastInstC1EPNS_5ValueEPNS_4TypeERKNS_5TwineEPNS_11InstructionE">(</a><a class="local col9 ref" href="#469NGEP" title='NGEP' data-ref="469NGEP" data-ref-filename="469NGEP">NGEP</a>, <a class="local col4 ref" href="#364GEPType" title='GEPType' data-ref="364GEPType" data-ref-filename="364GEPType">GEPType</a>);</td></tr>
<tr><th id="2476">2476</th><td>      }</td></tr>
<tr><th id="2477">2477</th><td>    }</td></tr>
<tr><th id="2478">2478</th><td>  }</td></tr>
<tr><th id="2479">2479</th><td></td></tr>
<tr><th id="2480">2480</th><td>  <b>if</b> (!<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst10isInBoundsEv" title='llvm::GetElementPtrInst::isInBounds' data-ref="_ZNK4llvm17GetElementPtrInst10isInBoundsEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst10isInBoundsEv">isInBounds</a>()) {</td></tr>
<tr><th id="2481">2481</th><td>    <em>unsigned</em> <dfn class="local col0 decl" id="470IdxWidth" title='IdxWidth' data-type='unsigned int' data-ref="470IdxWidth" data-ref-filename="470IdxWidth">IdxWidth</dfn> =</td></tr>
<tr><th id="2482">2482</th><td>        <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout18getIndexSizeInBitsEj" title='llvm::DataLayout::getIndexSizeInBits' data-ref="_ZNK4llvm10DataLayout18getIndexSizeInBitsEj" data-ref-filename="_ZNK4llvm10DataLayout18getIndexSizeInBitsEj">getIndexSizeInBits</a>(<a class="local col3 ref" href="#373PtrOp" title='PtrOp' data-ref="373PtrOp" data-ref-filename="373PtrOp">PtrOp</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPointerAddressSpaceEv" title='llvm::Type::getPointerAddressSpace' data-ref="_ZNK4llvm4Type22getPointerAddressSpaceEv" data-ref-filename="_ZNK4llvm4Type22getPointerAddressSpaceEv">getPointerAddressSpace</a>());</td></tr>
<tr><th id="2483">2483</th><td>    <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> <dfn class="local col1 decl" id="471BasePtrOffset" title='BasePtrOffset' data-type='llvm::APInt' data-ref="471BasePtrOffset" data-ref-filename="471BasePtrOffset">BasePtrOffset</dfn><a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntC1Ejmb" title='llvm::APInt::APInt' data-ref="_ZN4llvm5APIntC1Ejmb" data-ref-filename="_ZN4llvm5APIntC1Ejmb">(</a><a class="local col0 ref" href="#470IdxWidth" title='IdxWidth' data-ref="470IdxWidth" data-ref-filename="470IdxWidth">IdxWidth</a>, <var>0</var>);</td></tr>
<tr><th id="2484">2484</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="472UnderlyingPtrOp" title='UnderlyingPtrOp' data-type='llvm::Value *' data-ref="472UnderlyingPtrOp" data-ref-filename="472UnderlyingPtrOp">UnderlyingPtrOp</dfn> =</td></tr>
<tr><th id="2485">2485</th><td>            <a class="local col3 ref" href="#373PtrOp" title='PtrOp' data-ref="373PtrOp" data-ref-filename="373PtrOp">PtrOp</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value41stripAndAccumulateInBoundsConstantOffsetsERKNS_10DataLayoutERNS_5APIntE" title='llvm::Value::stripAndAccumulateInBoundsConstantOffsets' data-ref="_ZN4llvm5Value41stripAndAccumulateInBoundsConstantOffsetsERKNS_10DataLayoutERNS_5APIntE" data-ref-filename="_ZN4llvm5Value41stripAndAccumulateInBoundsConstantOffsetsERKNS_10DataLayoutERNS_5APIntE">stripAndAccumulateInBoundsConstantOffsets</a>(<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>,</td></tr>
<tr><th id="2486">2486</th><td>                                                             <span class='refarg'><a class="local col1 ref" href="#471BasePtrOffset" title='BasePtrOffset' data-ref="471BasePtrOffset" data-ref-filename="471BasePtrOffset">BasePtrOffset</a></span>);</td></tr>
<tr><th id="2487">2487</th><td>    <b>if</b> (<em>auto</em> *<dfn class="local col3 decl" id="473AI" title='AI' data-type='llvm::AllocaInst *' data-ref="473AI" data-ref-filename="473AI"><a class="local col3 ref" href="#473AI" title='AI' data-ref="473AI" data-ref-filename="473AI">AI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::AllocaInst" title='llvm::AllocaInst' data-ref="llvm::AllocaInst" data-ref-filename="llvm..AllocaInst">AllocaInst</a>&gt;(<a class="local col2 ref" href="#472UnderlyingPtrOp" title='UnderlyingPtrOp' data-ref="472UnderlyingPtrOp" data-ref-filename="472UnderlyingPtrOp">UnderlyingPtrOp</a>)) {</td></tr>
<tr><th id="2488">2488</th><td>      <b>if</b> (<a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst24accumulateConstantOffsetERKNS_10DataLayoutERNS_5APIntE" title='llvm::GetElementPtrInst::accumulateConstantOffset' data-ref="_ZNK4llvm17GetElementPtrInst24accumulateConstantOffsetERKNS_10DataLayoutERNS_5APIntE" data-ref-filename="_ZNK4llvm17GetElementPtrInst24accumulateConstantOffsetERKNS_10DataLayoutERNS_5APIntE">accumulateConstantOffset</a>(<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>, <span class='refarg'><a class="local col1 ref" href="#471BasePtrOffset" title='BasePtrOffset' data-ref="471BasePtrOffset" data-ref-filename="471BasePtrOffset">BasePtrOffset</a></span>) &amp;&amp;</td></tr>
<tr><th id="2489">2489</th><td>          <a class="local col1 ref" href="#471BasePtrOffset" title='BasePtrOffset' data-ref="471BasePtrOffset" data-ref-filename="471BasePtrOffset">BasePtrOffset</a>.<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt13isNonNegativeEv" title='llvm::APInt::isNonNegative' data-ref="_ZNK4llvm5APInt13isNonNegativeEv" data-ref-filename="_ZNK4llvm5APInt13isNonNegativeEv">isNonNegative</a>()) {</td></tr>
<tr><th id="2490">2490</th><td>        <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> <dfn class="local col4 decl" id="474AllocSize" title='AllocSize' data-type='llvm::APInt' data-ref="474AllocSize" data-ref-filename="474AllocSize">AllocSize</dfn><a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntC1Ejmb" title='llvm::APInt::APInt' data-ref="_ZN4llvm5APIntC1Ejmb" data-ref-filename="_ZN4llvm5APIntC1Ejmb">(</a></td></tr>
<tr><th id="2491">2491</th><td>            <a class="local col0 ref" href="#470IdxWidth" title='IdxWidth' data-ref="470IdxWidth" data-ref-filename="470IdxWidth">IdxWidth</a>,</td></tr>
<tr><th id="2492">2492</th><td>            <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>.<a class="ref fn" href="../../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeAllocSize' data-ref="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeAllocSizeEPNS_4TypeE">getTypeAllocSize</a>(<a class="local col3 ref" href="#473AI" title='AI' data-ref="473AI" data-ref-filename="473AI">AI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10AllocaInst16getAllocatedTypeEv" title='llvm::AllocaInst::getAllocatedType' data-ref="_ZNK4llvm10AllocaInst16getAllocatedTypeEv" data-ref-filename="_ZNK4llvm10AllocaInst16getAllocatedTypeEv">getAllocatedType</a>()).<a class="ref fn" href="../../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSize15getKnownMinSizeEv" title='llvm::TypeSize::getKnownMinSize' data-ref="_ZNK4llvm8TypeSize15getKnownMinSizeEv" data-ref-filename="_ZNK4llvm8TypeSize15getKnownMinSizeEv">getKnownMinSize</a>());</td></tr>
<tr><th id="2493">2493</th><td>        <b>if</b> (<a class="local col1 ref" href="#471BasePtrOffset" title='BasePtrOffset' data-ref="471BasePtrOffset" data-ref-filename="471BasePtrOffset">BasePtrOffset</a>.<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt3uleERKS0_" title='llvm::APInt::ule' data-ref="_ZNK4llvm5APInt3uleERKS0_" data-ref-filename="_ZNK4llvm5APInt3uleERKS0_">ule</a>(<a class="local col4 ref" href="#474AllocSize" title='AllocSize' data-ref="474AllocSize" data-ref-filename="474AllocSize">AllocSize</a>)) {</td></tr>
<tr><th id="2494">2494</th><td>          <b>return</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::GetElementPtrInst" title='llvm::GetElementPtrInst' data-ref="llvm::GetElementPtrInst" data-ref-filename="llvm..GetElementPtrInst">GetElementPtrInst</a>::<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm17GetElementPtrInst14CreateInBoundsEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE" title='llvm::GetElementPtrInst::CreateInBounds' data-ref="_ZN4llvm17GetElementPtrInst14CreateInBoundsEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm17GetElementPtrInst14CreateInBoundsEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineEPNS_11InstructionE">CreateInBounds</a>(</td></tr>
<tr><th id="2495">2495</th><td>              <a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17GetElementPtrInst20getSourceElementTypeEv" title='llvm::GetElementPtrInst::getSourceElementType' data-ref="_ZNK4llvm17GetElementPtrInst20getSourceElementTypeEv" data-ref-filename="_ZNK4llvm17GetElementPtrInst20getSourceElementTypeEv">getSourceElementType</a>(), <a class="local col3 ref" href="#373PtrOp" title='PtrOp' data-ref="373PtrOp" data-ref-filename="373PtrOp">PtrOp</a>, <a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm12makeArrayRefERKNS_11SmallVectorIT_XT0_EEE" title='llvm::makeArrayRef' data-ref="_ZN4llvm12makeArrayRefERKNS_11SmallVectorIT_XT0_EEE" data-ref-filename="_ZN4llvm12makeArrayRefERKNS_11SmallVectorIT_XT0_EEE">makeArrayRef</a>(<a class="local col3 ref" href="#363Ops" title='Ops' data-ref="363Ops" data-ref-filename="363Ops">Ops</a>).<a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRef5sliceEm" title='llvm::ArrayRef::slice' data-ref="_ZNK4llvm8ArrayRef5sliceEm" data-ref-filename="_ZNK4llvm8ArrayRef5sliceEm">slice</a>(<var>1</var>),</td></tr>
<tr><th id="2496">2496</th><td>              <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1ERKNS_9StringRefE" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1ERKNS_9StringRefE" data-ref-filename="_ZN4llvm5TwineC1ERKNS_9StringRefE"></a><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getNameEv" title='llvm::Value::getName' data-ref="_ZNK4llvm5Value7getNameEv" data-ref-filename="_ZNK4llvm5Value7getNameEv">getName</a>());</td></tr>
<tr><th id="2497">2497</th><td>        }</td></tr>
<tr><th id="2498">2498</th><td>      }</td></tr>
<tr><th id="2499">2499</th><td>    }</td></tr>
<tr><th id="2500">2500</th><td>  }</td></tr>
<tr><th id="2501">2501</th><td></td></tr>
<tr><th id="2502">2502</th><td>  <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col5 decl" id="475R" title='R' data-type='llvm::Instruction *' data-ref="475R" data-ref-filename="475R"><a class="local col5 ref" href="#475R" title='R' data-ref="475R" data-ref-filename="475R">R</a></dfn> = <a class="tu ref fn" href="#_ZL13foldSelectGEPRN4llvm17GetElementPtrInstERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE" title='foldSelectGEP' data-use='c' data-ref="_ZL13foldSelectGEPRN4llvm17GetElementPtrInstERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE" data-ref-filename="_ZL13foldSelectGEPRN4llvm17GetElementPtrInstERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEE">foldSelectGEP</a>(<span class='refarg'><a class="local col2 ref" href="#362GEP" title='GEP' data-ref="362GEP" data-ref-filename="362GEP">GEP</a></span>, <span class='refarg'><a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a></span>))</td></tr>
<tr><th id="2503">2503</th><td>    <b>return</b> <a class="local col5 ref" href="#475R" title='R' data-ref="475R" data-ref-filename="475R">R</a>;</td></tr>
<tr><th id="2504">2504</th><td></td></tr>
<tr><th id="2505">2505</th><td>  <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2506">2506</th><td>}</td></tr>
<tr><th id="2507">2507</th><td></td></tr>
<tr><th id="2508">2508</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL28isNeverEqualToUnescapedAllocPN4llvm5ValueEPKNS_17TargetLibraryInfoEPNS_11InstructionE" title='isNeverEqualToUnescapedAlloc' data-type='bool isNeverEqualToUnescapedAlloc(llvm::Value * V, const llvm::TargetLibraryInfo * TLI, llvm::Instruction * AI)' data-ref="_ZL28isNeverEqualToUnescapedAllocPN4llvm5ValueEPKNS_17TargetLibraryInfoEPNS_11InstructionE" data-ref-filename="_ZL28isNeverEqualToUnescapedAllocPN4llvm5ValueEPKNS_17TargetLibraryInfoEPNS_11InstructionE">isNeverEqualToUnescapedAlloc</dfn>(<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="476V" title='V' data-type='llvm::Value *' data-ref="476V" data-ref-filename="476V">V</dfn>, <em>const</em> <a class="type" href="../../../include/llvm/Analysis/TargetLibraryInfo.h.html#llvm::TargetLibraryInfo" title='llvm::TargetLibraryInfo' data-ref="llvm::TargetLibraryInfo" data-ref-filename="llvm..TargetLibraryInfo">TargetLibraryInfo</a> *<dfn class="local col7 decl" id="477TLI" title='TLI' data-type='const llvm::TargetLibraryInfo *' data-ref="477TLI" data-ref-filename="477TLI">TLI</dfn>,</td></tr>
<tr><th id="2509">2509</th><td>                                         <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col8 decl" id="478AI" title='AI' data-type='llvm::Instruction *' data-ref="478AI" data-ref-filename="478AI">AI</dfn>) {</td></tr>
<tr><th id="2510">2510</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantPointerNull" title='llvm::ConstantPointerNull' data-ref="llvm::ConstantPointerNull" data-ref-filename="llvm..ConstantPointerNull">ConstantPointerNull</a>&gt;(<a class="local col6 ref" href="#476V" title='V' data-ref="476V" data-ref-filename="476V">V</a>))</td></tr>
<tr><th id="2511">2511</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="2512">2512</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col9 decl" id="479LI" title='LI' data-type='llvm::LoadInst *' data-ref="479LI" data-ref-filename="479LI"><a class="local col9 ref" href="#479LI" title='LI' data-ref="479LI" data-ref-filename="479LI">LI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a>&gt;(<a class="local col6 ref" href="#476V" title='V' data-ref="476V" data-ref-filename="476V">V</a>))</td></tr>
<tr><th id="2513">2513</th><td>    <b>return</b> <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/GlobalVariable.h.html#llvm::GlobalVariable" title='llvm::GlobalVariable' data-ref="llvm::GlobalVariable" data-ref-filename="llvm..GlobalVariable">GlobalVariable</a>&gt;(<a class="local col9 ref" href="#479LI" title='LI' data-ref="479LI" data-ref-filename="479LI">LI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm8LoadInst17getPointerOperandEv" title='llvm::LoadInst::getPointerOperand' data-ref="_ZN4llvm8LoadInst17getPointerOperandEv" data-ref-filename="_ZN4llvm8LoadInst17getPointerOperandEv">getPointerOperand</a>());</td></tr>
<tr><th id="2514">2514</th><td>  <i>// Two distinct allocations will never be equal.</i></td></tr>
<tr><th id="2515">2515</th><td><i>  // We rely on LookThroughBitCast in isAllocLikeFn being false, since looking</i></td></tr>
<tr><th id="2516">2516</th><td><i>  // through bitcasts of V can cause</i></td></tr>
<tr><th id="2517">2517</th><td><i>  // the result statement below to be true, even when AI and V (ex:</i></td></tr>
<tr><th id="2518">2518</th><td><i>  // i8* -&gt;i32* -&gt;i8* of AI) are the same allocations.</i></td></tr>
<tr><th id="2519">2519</th><td>  <b>return</b> <a class="ref fn" href="../../../include/llvm/Analysis/MemoryBuiltins.h.html#_ZN4llvm13isAllocLikeFnEPKNS_5ValueEPKNS_17TargetLibraryInfoEb" title='llvm::isAllocLikeFn' data-ref="_ZN4llvm13isAllocLikeFnEPKNS_5ValueEPKNS_17TargetLibraryInfoEb" data-ref-filename="_ZN4llvm13isAllocLikeFnEPKNS_5ValueEPKNS_17TargetLibraryInfoEb">isAllocLikeFn</a>(<a class="local col6 ref" href="#476V" title='V' data-ref="476V" data-ref-filename="476V">V</a>, <a class="local col7 ref" href="#477TLI" title='TLI' data-ref="477TLI" data-ref-filename="477TLI">TLI</a>) &amp;&amp; <a class="local col6 ref" href="#476V" title='V' data-ref="476V" data-ref-filename="476V">V</a> != <a class="local col8 ref" href="#478AI" title='AI' data-ref="478AI" data-ref-filename="478AI">AI</a>;</td></tr>
<tr><th id="2520">2520</th><td>}</td></tr>
<tr><th id="2521">2521</th><td></td></tr>
<tr><th id="2522">2522</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL20isAllocSiteRemovablePN4llvm11InstructionERNS_15SmallVectorImplINS_14WeakTrackingVHEEEPKNS_17TargetLibraryInfoE" title='isAllocSiteRemovable' data-type='bool isAllocSiteRemovable(llvm::Instruction * AI, SmallVectorImpl&lt;llvm::WeakTrackingVH&gt; &amp; Users, const llvm::TargetLibraryInfo * TLI)' data-ref="_ZL20isAllocSiteRemovablePN4llvm11InstructionERNS_15SmallVectorImplINS_14WeakTrackingVHEEEPKNS_17TargetLibraryInfoE" data-ref-filename="_ZL20isAllocSiteRemovablePN4llvm11InstructionERNS_15SmallVectorImplINS_14WeakTrackingVHEEEPKNS_17TargetLibraryInfoE">isAllocSiteRemovable</dfn>(<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col0 decl" id="480AI" title='AI' data-type='llvm::Instruction *' data-ref="480AI" data-ref-filename="480AI">AI</dfn>,</td></tr>
<tr><th id="2523">2523</th><td>                                 <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVectorImpl" title='llvm::SmallVectorImpl' data-ref="llvm::SmallVectorImpl" data-ref-filename="llvm..SmallVectorImpl">SmallVectorImpl</a>&lt;<a class="type" href="../../../include/llvm/IR/ValueHandle.h.html#llvm::WeakTrackingVH" title='llvm::WeakTrackingVH' data-ref="llvm::WeakTrackingVH" data-ref-filename="llvm..WeakTrackingVH">WeakTrackingVH</a>&gt; &amp;<dfn class="local col1 decl" id="481Users" title='Users' data-type='SmallVectorImpl&lt;llvm::WeakTrackingVH&gt; &amp;' data-ref="481Users" data-ref-filename="481Users">Users</dfn>,</td></tr>
<tr><th id="2524">2524</th><td>                                 <em>const</em> <a class="type" href="../../../include/llvm/Analysis/TargetLibraryInfo.h.html#llvm::TargetLibraryInfo" title='llvm::TargetLibraryInfo' data-ref="llvm::TargetLibraryInfo" data-ref-filename="llvm..TargetLibraryInfo">TargetLibraryInfo</a> *<dfn class="local col2 decl" id="482TLI" title='TLI' data-type='const llvm::TargetLibraryInfo *' data-ref="482TLI" data-ref-filename="482TLI">TLI</dfn>) {</td></tr>
<tr><th id="2525">2525</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>*, <var>4</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col3 decl" id="483Worklist" title='Worklist' data-type='SmallVector&lt;llvm::Instruction *, 4&gt;' data-ref="483Worklist" data-ref-filename="483Worklist">Worklist</dfn>;</td></tr>
<tr><th id="2526">2526</th><td>  <a class="local col3 ref" href="#483Worklist" title='Worklist' data-ref="483Worklist" data-ref-filename="483Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col0 ref" href="#480AI" title='AI' data-ref="480AI" data-ref-filename="480AI">AI</a>);</td></tr>
<tr><th id="2527">2527</th><td></td></tr>
<tr><th id="2528">2528</th><td>  <b>do</b> {</td></tr>
<tr><th id="2529">2529</th><td>    <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col4 decl" id="484PI" title='PI' data-type='llvm::Instruction *' data-ref="484PI" data-ref-filename="484PI">PI</dfn> = <a class="local col3 ref" href="#483Worklist" title='Worklist' data-ref="483Worklist" data-ref-filename="483Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl12pop_back_valEv" title='llvm::SmallVectorImpl::pop_back_val' data-ref="_ZN4llvm15SmallVectorImpl12pop_back_valEv" data-ref-filename="_ZN4llvm15SmallVectorImpl12pop_back_valEv">pop_back_val</a>();</td></tr>
<tr><th id="2530">2530</th><td>    <b>for</b> (<a class="type" href="../../../include/llvm/IR/User.h.html#llvm::User" title='llvm::User' data-ref="llvm::User" data-ref-filename="llvm..User">User</a> *<dfn class="local col5 decl" id="485U" title='U' data-type='llvm::User *' data-ref="485U" data-ref-filename="485U">U</dfn> : <a class="local col4 ref" href="#484PI" title='PI' data-ref="484PI" data-ref-filename="484PI">PI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value5usersEv" title='llvm::Value::users' data-ref="_ZN4llvm5Value5usersEv" data-ref-filename="_ZN4llvm5Value5usersEv">users</a>()) {</td></tr>
<tr><th id="2531">2531</th><td>      <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col6 decl" id="486I" title='I' data-type='llvm::Instruction *' data-ref="486I" data-ref-filename="486I">I</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>&gt;(<a class="local col5 ref" href="#485U" title='U' data-ref="485U" data-ref-filename="485U">U</a>);</td></tr>
<tr><th id="2532">2532</th><td>      <b>switch</b> (<a class="local col6 ref" href="#486I" title='I' data-ref="486I" data-ref-filename="486I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction9getOpcodeEv" title='llvm::Instruction::getOpcode' data-ref="_ZNK4llvm11Instruction9getOpcodeEv" data-ref-filename="_ZNK4llvm11Instruction9getOpcodeEv">getOpcode</a>()) {</td></tr>
<tr><th id="2533">2533</th><td>      <b>default</b>:</td></tr>
<tr><th id="2534">2534</th><td>        <i>// Give up the moment we see something we can't handle.</i></td></tr>
<tr><th id="2535">2535</th><td>        <b>return</b> <b>false</b>;</td></tr>
<tr><th id="2536">2536</th><td></td></tr>
<tr><th id="2537">2537</th><td>      <b>case</b> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#196" title='llvm::Instruction::AddrSpaceCast' data-ref="llvm::Instruction::AddrSpaceCast" data-ref-filename="llvm..Instruction..AddrSpaceCast">AddrSpaceCast</a>:</td></tr>
<tr><th id="2538">2538</th><td>      <b>case</b> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#195" title='llvm::Instruction::BitCast' data-ref="llvm::Instruction::BitCast" data-ref-filename="llvm..Instruction..BitCast">BitCast</a>:</td></tr>
<tr><th id="2539">2539</th><td>      <b>case</b> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#174" title='llvm::Instruction::GetElementPtr' data-ref="llvm::Instruction::GetElementPtr" data-ref-filename="llvm..Instruction..GetElementPtr">GetElementPtr</a>:</td></tr>
<tr><th id="2540">2540</th><td>        <a class="local col1 ref" href="#481Users" title='Users' data-ref="481Users" data-ref-filename="481Users">Users</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" title='llvm::SmallVectorImpl::emplace_back' data-ref="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" data-ref-filename="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__">emplace_back</a>(<span class='refarg'><a class="local col6 ref" href="#486I" title='I' data-ref="486I" data-ref-filename="486I">I</a></span>);</td></tr>
<tr><th id="2541">2541</th><td>        <a class="local col3 ref" href="#483Worklist" title='Worklist' data-ref="483Worklist" data-ref-filename="483Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col6 ref" href="#486I" title='I' data-ref="486I" data-ref-filename="486I">I</a>);</td></tr>
<tr><th id="2542">2542</th><td>        <b>continue</b>;</td></tr>
<tr><th id="2543">2543</th><td></td></tr>
<tr><th id="2544">2544</th><td>      <b>case</b> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#206" title='llvm::Instruction::ICmp' data-ref="llvm::Instruction::ICmp" data-ref-filename="llvm..Instruction..ICmp">ICmp</a>: {</td></tr>
<tr><th id="2545">2545</th><td>        <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ICmpInst" title='llvm::ICmpInst' data-ref="llvm::ICmpInst" data-ref-filename="llvm..ICmpInst">ICmpInst</a> *<dfn class="local col7 decl" id="487ICI" title='ICI' data-type='llvm::ICmpInst *' data-ref="487ICI" data-ref-filename="487ICI">ICI</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ICmpInst" title='llvm::ICmpInst' data-ref="llvm::ICmpInst" data-ref-filename="llvm..ICmpInst">ICmpInst</a>&gt;(<a class="local col6 ref" href="#486I" title='I' data-ref="486I" data-ref-filename="486I">I</a>);</td></tr>
<tr><th id="2546">2546</th><td>        <i>// We can fold eq/ne comparisons with null to false/true, respectively.</i></td></tr>
<tr><th id="2547">2547</th><td><i>        // We also fold comparisons in some conditions provided the alloc has</i></td></tr>
<tr><th id="2548">2548</th><td><i>        // not escaped (see isNeverEqualToUnescapedAlloc).</i></td></tr>
<tr><th id="2549">2549</th><td>        <b>if</b> (!<a class="local col7 ref" href="#487ICI" title='ICI' data-ref="487ICI" data-ref-filename="487ICI">ICI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm8ICmpInst10isEqualityEv" title='llvm::ICmpInst::isEquality' data-ref="_ZNK4llvm8ICmpInst10isEqualityEv" data-ref-filename="_ZNK4llvm8ICmpInst10isEqualityEv">isEquality</a>())</td></tr>
<tr><th id="2550">2550</th><td>          <b>return</b> <b>false</b>;</td></tr>
<tr><th id="2551">2551</th><td>        <em>unsigned</em> <dfn class="local col8 decl" id="488OtherIndex" title='OtherIndex' data-type='unsigned int' data-ref="488OtherIndex" data-ref-filename="488OtherIndex">OtherIndex</dfn> = (<a class="local col7 ref" href="#487ICI" title='ICI' data-ref="487ICI" data-ref-filename="487ICI">ICI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#910" title='llvm::CmpInst::getOperand' data-ref="_ZNK4llvm7CmpInst10getOperandEj" data-ref-filename="_ZNK4llvm7CmpInst10getOperandEj">getOperand</a>(<var>0</var>) == <a class="local col4 ref" href="#484PI" title='PI' data-ref="484PI" data-ref-filename="484PI">PI</a>) ? <var>1</var> : <var>0</var>;</td></tr>
<tr><th id="2552">2552</th><td>        <b>if</b> (!<a class="tu ref fn" href="#_ZL28isNeverEqualToUnescapedAllocPN4llvm5ValueEPKNS_17TargetLibraryInfoEPNS_11InstructionE" title='isNeverEqualToUnescapedAlloc' data-use='c' data-ref="_ZL28isNeverEqualToUnescapedAllocPN4llvm5ValueEPKNS_17TargetLibraryInfoEPNS_11InstructionE" data-ref-filename="_ZL28isNeverEqualToUnescapedAllocPN4llvm5ValueEPKNS_17TargetLibraryInfoEPNS_11InstructionE">isNeverEqualToUnescapedAlloc</a>(<a class="local col7 ref" href="#487ICI" title='ICI' data-ref="487ICI" data-ref-filename="487ICI">ICI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#910" title='llvm::CmpInst::getOperand' data-ref="_ZNK4llvm7CmpInst10getOperandEj" data-ref-filename="_ZNK4llvm7CmpInst10getOperandEj">getOperand</a>(<a class="local col8 ref" href="#488OtherIndex" title='OtherIndex' data-ref="488OtherIndex" data-ref-filename="488OtherIndex">OtherIndex</a>), <a class="local col2 ref" href="#482TLI" title='TLI' data-ref="482TLI" data-ref-filename="482TLI">TLI</a>, <a class="local col0 ref" href="#480AI" title='AI' data-ref="480AI" data-ref-filename="480AI">AI</a>))</td></tr>
<tr><th id="2553">2553</th><td>          <b>return</b> <b>false</b>;</td></tr>
<tr><th id="2554">2554</th><td>        <a class="local col1 ref" href="#481Users" title='Users' data-ref="481Users" data-ref-filename="481Users">Users</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" title='llvm::SmallVectorImpl::emplace_back' data-ref="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" data-ref-filename="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__">emplace_back</a>(<span class='refarg'><a class="local col6 ref" href="#486I" title='I' data-ref="486I" data-ref-filename="486I">I</a></span>);</td></tr>
<tr><th id="2555">2555</th><td>        <b>continue</b>;</td></tr>
<tr><th id="2556">2556</th><td>      }</td></tr>
<tr><th id="2557">2557</th><td></td></tr>
<tr><th id="2558">2558</th><td>      <b>case</b> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#209" title='llvm::Instruction::Call' data-ref="llvm::Instruction::Call" data-ref-filename="llvm..Instruction..Call">Call</a>:</td></tr>
<tr><th id="2559">2559</th><td>        <i>// Ignore no-op and store intrinsics.</i></td></tr>
<tr><th id="2560">2560</th><td>        <b>if</b> (<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::IntrinsicInst" title='llvm::IntrinsicInst' data-ref="llvm::IntrinsicInst" data-ref-filename="llvm..IntrinsicInst">IntrinsicInst</a> *<dfn class="local col9 decl" id="489II" title='II' data-type='llvm::IntrinsicInst *' data-ref="489II" data-ref-filename="489II"><a class="local col9 ref" href="#489II" title='II' data-ref="489II" data-ref-filename="489II">II</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::IntrinsicInst" title='llvm::IntrinsicInst' data-ref="llvm::IntrinsicInst" data-ref-filename="llvm..IntrinsicInst">IntrinsicInst</a>&gt;(<a class="local col6 ref" href="#486I" title='I' data-ref="486I" data-ref-filename="486I">I</a>)) {</td></tr>
<tr><th id="2561">2561</th><td>          <b>switch</b> (<a class="local col9 ref" href="#489II" title='II' data-ref="489II" data-ref-filename="489II">II</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/IntrinsicInst.h.html#_ZNK4llvm13IntrinsicInst14getIntrinsicIDEv" title='llvm::IntrinsicInst::getIntrinsicID' data-ref="_ZNK4llvm13IntrinsicInst14getIntrinsicIDEv" data-ref-filename="_ZNK4llvm13IntrinsicInst14getIntrinsicIDEv">getIntrinsicID</a>()) {</td></tr>
<tr><th id="2562">2562</th><td>          <b>default</b>:</td></tr>
<tr><th id="2563">2563</th><td>            <b>return</b> <b>false</b>;</td></tr>
<tr><th id="2564">2564</th><td></td></tr>
<tr><th id="2565">2565</th><td>          <b>case</b> <span class="namespace">Intrinsic::</span><a class="enum" href="../../../../build/include/llvm/IR/IntrinsicEnums.inc.html#llvm::Intrinsic::memmove" title='llvm::Intrinsic::memmove' data-ref="llvm::Intrinsic::memmove" data-ref-filename="llvm..Intrinsic..memmove">memmove</a>:</td></tr>
<tr><th id="2566">2566</th><td>          <b>case</b> <span class="namespace">Intrinsic::</span><a class="enum" href="../../../../build/include/llvm/IR/IntrinsicEnums.inc.html#llvm::Intrinsic::memcpy" title='llvm::Intrinsic::memcpy' data-ref="llvm::Intrinsic::memcpy" data-ref-filename="llvm..Intrinsic..memcpy">memcpy</a>:</td></tr>
<tr><th id="2567">2567</th><td>          <b>case</b> <span class="namespace">Intrinsic::</span><a class="enum" href="../../../../build/include/llvm/IR/IntrinsicEnums.inc.html#llvm::Intrinsic::memset" title='llvm::Intrinsic::memset' data-ref="llvm::Intrinsic::memset" data-ref-filename="llvm..Intrinsic..memset">memset</a>: {</td></tr>
<tr><th id="2568">2568</th><td>            <a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::MemIntrinsic" title='llvm::MemIntrinsic' data-ref="llvm::MemIntrinsic" data-ref-filename="llvm..MemIntrinsic">MemIntrinsic</a> *<dfn class="local col0 decl" id="490MI" title='MI' data-type='llvm::MemIntrinsic *' data-ref="490MI" data-ref-filename="490MI">MI</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::MemIntrinsic" title='llvm::MemIntrinsic' data-ref="llvm::MemIntrinsic" data-ref-filename="llvm..MemIntrinsic">MemIntrinsic</a>&gt;(<a class="local col9 ref" href="#489II" title='II' data-ref="489II" data-ref-filename="489II">II</a>);</td></tr>
<tr><th id="2569">2569</th><td>            <b>if</b> (<a class="local col0 ref" href="#490MI" title='MI' data-ref="490MI" data-ref-filename="490MI">MI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/IntrinsicInst.h.html#_ZNK4llvm12MemIntrinsic10isVolatileEv" title='llvm::MemIntrinsic::isVolatile' data-ref="_ZNK4llvm12MemIntrinsic10isVolatileEv" data-ref-filename="_ZNK4llvm12MemIntrinsic10isVolatileEv">isVolatile</a>() || <a class="local col0 ref" href="#490MI" title='MI' data-ref="490MI" data-ref-filename="490MI">MI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/IntrinsicInst.h.html#_ZNK4llvm16MemIntrinsicBase10getRawDestEv" title='llvm::MemIntrinsicBase::getRawDest' data-ref="_ZNK4llvm16MemIntrinsicBase10getRawDestEv" data-ref-filename="_ZNK4llvm16MemIntrinsicBase10getRawDestEv">getRawDest</a>() != <a class="local col4 ref" href="#484PI" title='PI' data-ref="484PI" data-ref-filename="484PI">PI</a>)</td></tr>
<tr><th id="2570">2570</th><td>              <b>return</b> <b>false</b>;</td></tr>
<tr><th id="2571">2571</th><td>            <a class="macro" href="../../../include/llvm/Support/Compiler.h.html#274" title="[[gnu::fallthrough]]" data-ref="_M/LLVM_FALLTHROUGH">LLVM_FALLTHROUGH</a>;</td></tr>
<tr><th id="2572">2572</th><td>          }</td></tr>
<tr><th id="2573">2573</th><td>          <b>case</b> <span class="namespace">Intrinsic::</span><a class="enum" href="../../../../build/include/llvm/IR/IntrinsicEnums.inc.html#llvm::Intrinsic::assume" title='llvm::Intrinsic::assume' data-ref="llvm::Intrinsic::assume" data-ref-filename="llvm..Intrinsic..assume">assume</a>:</td></tr>
<tr><th id="2574">2574</th><td>          <b>case</b> <span class="namespace">Intrinsic::</span><a class="enum" href="../../../../build/include/llvm/IR/IntrinsicEnums.inc.html#llvm::Intrinsic::invariant_start" title='llvm::Intrinsic::invariant_start' data-ref="llvm::Intrinsic::invariant_start" data-ref-filename="llvm..Intrinsic..invariant_start">invariant_start</a>:</td></tr>
<tr><th id="2575">2575</th><td>          <b>case</b> <span class="namespace">Intrinsic::</span><a class="enum" href="../../../../build/include/llvm/IR/IntrinsicEnums.inc.html#llvm::Intrinsic::invariant_end" title='llvm::Intrinsic::invariant_end' data-ref="llvm::Intrinsic::invariant_end" data-ref-filename="llvm..Intrinsic..invariant_end">invariant_end</a>:</td></tr>
<tr><th id="2576">2576</th><td>          <b>case</b> <span class="namespace">Intrinsic::</span><a class="enum" href="../../../../build/include/llvm/IR/IntrinsicEnums.inc.html#llvm::Intrinsic::lifetime_start" title='llvm::Intrinsic::lifetime_start' data-ref="llvm::Intrinsic::lifetime_start" data-ref-filename="llvm..Intrinsic..lifetime_start">lifetime_start</a>:</td></tr>
<tr><th id="2577">2577</th><td>          <b>case</b> <span class="namespace">Intrinsic::</span><a class="enum" href="../../../../build/include/llvm/IR/IntrinsicEnums.inc.html#llvm::Intrinsic::lifetime_end" title='llvm::Intrinsic::lifetime_end' data-ref="llvm::Intrinsic::lifetime_end" data-ref-filename="llvm..Intrinsic..lifetime_end">lifetime_end</a>:</td></tr>
<tr><th id="2578">2578</th><td>          <b>case</b> <span class="namespace">Intrinsic::</span><a class="enum" href="../../../../build/include/llvm/IR/IntrinsicEnums.inc.html#llvm::Intrinsic::objectsize" title='llvm::Intrinsic::objectsize' data-ref="llvm::Intrinsic::objectsize" data-ref-filename="llvm..Intrinsic..objectsize">objectsize</a>:</td></tr>
<tr><th id="2579">2579</th><td>            <a class="local col1 ref" href="#481Users" title='Users' data-ref="481Users" data-ref-filename="481Users">Users</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" title='llvm::SmallVectorImpl::emplace_back' data-ref="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" data-ref-filename="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__">emplace_back</a>(<span class='refarg'><a class="local col6 ref" href="#486I" title='I' data-ref="486I" data-ref-filename="486I">I</a></span>);</td></tr>
<tr><th id="2580">2580</th><td>            <b>continue</b>;</td></tr>
<tr><th id="2581">2581</th><td>          }</td></tr>
<tr><th id="2582">2582</th><td>        }</td></tr>
<tr><th id="2583">2583</th><td></td></tr>
<tr><th id="2584">2584</th><td>        <b>if</b> (<a class="ref fn" href="../../../include/llvm/Analysis/MemoryBuiltins.h.html#_ZN4llvm10isFreeCallEPNS_5ValueEPKNS_17TargetLibraryInfoE" title='llvm::isFreeCall' data-ref="_ZN4llvm10isFreeCallEPNS_5ValueEPKNS_17TargetLibraryInfoE" data-ref-filename="_ZN4llvm10isFreeCallEPNS_5ValueEPKNS_17TargetLibraryInfoE">isFreeCall</a>(<a class="local col6 ref" href="#486I" title='I' data-ref="486I" data-ref-filename="486I">I</a>, <a class="local col2 ref" href="#482TLI" title='TLI' data-ref="482TLI" data-ref-filename="482TLI">TLI</a>)) {</td></tr>
<tr><th id="2585">2585</th><td>          <a class="local col1 ref" href="#481Users" title='Users' data-ref="481Users" data-ref-filename="481Users">Users</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" title='llvm::SmallVectorImpl::emplace_back' data-ref="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" data-ref-filename="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__">emplace_back</a>(<span class='refarg'><a class="local col6 ref" href="#486I" title='I' data-ref="486I" data-ref-filename="486I">I</a></span>);</td></tr>
<tr><th id="2586">2586</th><td>          <b>continue</b>;</td></tr>
<tr><th id="2587">2587</th><td>        }</td></tr>
<tr><th id="2588">2588</th><td>        <b>return</b> <b>false</b>;</td></tr>
<tr><th id="2589">2589</th><td></td></tr>
<tr><th id="2590">2590</th><td>      <b>case</b> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../../include/llvm/IR/Instruction.def.html#173" title='llvm::Instruction::Store' data-ref="llvm::Instruction::Store" data-ref-filename="llvm..Instruction..Store">Store</a>: {</td></tr>
<tr><th id="2591">2591</th><td>        <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a> *<dfn class="local col1 decl" id="491SI" title='SI' data-type='llvm::StoreInst *' data-ref="491SI" data-ref-filename="491SI">SI</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a>&gt;(<a class="local col6 ref" href="#486I" title='I' data-ref="486I" data-ref-filename="486I">I</a>);</td></tr>
<tr><th id="2592">2592</th><td>        <b>if</b> (<a class="local col1 ref" href="#491SI" title='SI' data-ref="491SI" data-ref-filename="491SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm9StoreInst10isVolatileEv" title='llvm::StoreInst::isVolatile' data-ref="_ZNK4llvm9StoreInst10isVolatileEv" data-ref-filename="_ZNK4llvm9StoreInst10isVolatileEv">isVolatile</a>() || <a class="local col1 ref" href="#491SI" title='SI' data-ref="491SI" data-ref-filename="491SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm9StoreInst17getPointerOperandEv" title='llvm::StoreInst::getPointerOperand' data-ref="_ZN4llvm9StoreInst17getPointerOperandEv" data-ref-filename="_ZN4llvm9StoreInst17getPointerOperandEv">getPointerOperand</a>() != <a class="local col4 ref" href="#484PI" title='PI' data-ref="484PI" data-ref-filename="484PI">PI</a>)</td></tr>
<tr><th id="2593">2593</th><td>          <b>return</b> <b>false</b>;</td></tr>
<tr><th id="2594">2594</th><td>        <a class="local col1 ref" href="#481Users" title='Users' data-ref="481Users" data-ref-filename="481Users">Users</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" title='llvm::SmallVectorImpl::emplace_back' data-ref="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" data-ref-filename="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__">emplace_back</a>(<span class='refarg'><a class="local col6 ref" href="#486I" title='I' data-ref="486I" data-ref-filename="486I">I</a></span>);</td></tr>
<tr><th id="2595">2595</th><td>        <b>continue</b>;</td></tr>
<tr><th id="2596">2596</th><td>      }</td></tr>
<tr><th id="2597">2597</th><td>      }</td></tr>
<tr><th id="2598">2598</th><td>      <a class="macro" href="../../../include/llvm/Support/ErrorHandling.h.html#139" title="__builtin_unreachable()" data-ref="_M/llvm_unreachable">llvm_unreachable</a>(<q>"missing a return?"</q>);</td></tr>
<tr><th id="2599">2599</th><td>    }</td></tr>
<tr><th id="2600">2600</th><td>  } <b>while</b> (!<a class="local col3 ref" href="#483Worklist" title='Worklist' data-ref="483Worklist" data-ref-filename="483Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase5emptyEv" title='llvm::SmallVectorBase::empty' data-ref="_ZNK4llvm15SmallVectorBase5emptyEv" data-ref-filename="_ZNK4llvm15SmallVectorBase5emptyEv">empty</a>());</td></tr>
<tr><th id="2601">2601</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="2602">2602</th><td>}</td></tr>
<tr><th id="2603">2603</th><td></td></tr>
<tr><th id="2604">2604</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl14visitAllocSiteERNS_11InstructionE" title='llvm::InstCombinerImpl::visitAllocSite' data-ref="_ZN4llvm16InstCombinerImpl14visitAllocSiteERNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl14visitAllocSiteERNS_11InstructionE">visitAllocSite</dfn>(<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> &amp;<dfn class="local col2 decl" id="492MI" title='MI' data-type='llvm::Instruction &amp;' data-ref="492MI" data-ref-filename="492MI">MI</dfn>) {</td></tr>
<tr><th id="2605">2605</th><td>  <i>// If we have a malloc call which is only used in any amount of comparisons to</i></td></tr>
<tr><th id="2606">2606</th><td><i>  // null and free calls, delete the calls and replace the comparisons with true</i></td></tr>
<tr><th id="2607">2607</th><td><i>  // or false as appropriate.</i></td></tr>
<tr><th id="2608">2608</th><td><i></i></td></tr>
<tr><th id="2609">2609</th><td><i>  // This is based on the principle that we can substitute our own allocation</i></td></tr>
<tr><th id="2610">2610</th><td><i>  // function (which will never return null) rather than knowledge of the</i></td></tr>
<tr><th id="2611">2611</th><td><i>  // specific function being called. In some sense this can change the permitted</i></td></tr>
<tr><th id="2612">2612</th><td><i>  // outputs of a program (when we convert a malloc to an alloca, the fact that</i></td></tr>
<tr><th id="2613">2613</th><td><i>  // the allocation is now on the stack is potentially visible, for example),</i></td></tr>
<tr><th id="2614">2614</th><td><i>  // but we believe in a permissible manner.</i></td></tr>
<tr><th id="2615">2615</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/ValueHandle.h.html#llvm::WeakTrackingVH" title='llvm::WeakTrackingVH' data-ref="llvm::WeakTrackingVH" data-ref-filename="llvm..WeakTrackingVH">WeakTrackingVH</a>, <var>64</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col3 decl" id="493Users" title='Users' data-type='SmallVector&lt;llvm::WeakTrackingVH, 64&gt;' data-ref="493Users" data-ref-filename="493Users">Users</dfn>;</td></tr>
<tr><th id="2616">2616</th><td></td></tr>
<tr><th id="2617">2617</th><td>  <i>// If we are removing an alloca with a dbg.declare, insert dbg.value calls</i></td></tr>
<tr><th id="2618">2618</th><td><i>  // before each store.</i></td></tr>
<tr><th id="2619">2619</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::DbgVariableIntrinsic" title='llvm::DbgVariableIntrinsic' data-ref="llvm::DbgVariableIntrinsic" data-ref-filename="llvm..DbgVariableIntrinsic">DbgVariableIntrinsic</a> *, <var>8</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col4 decl" id="494DVIs" title='DVIs' data-type='SmallVector&lt;llvm::DbgVariableIntrinsic *, 8&gt;' data-ref="494DVIs" data-ref-filename="494DVIs">DVIs</dfn>;</td></tr>
<tr><th id="2620">2620</th><td>  <span class="namespace">std::</span><span class='type' title='std::unique_ptr' data-ref="std::unique_ptr" data-ref-filename="std..unique_ptr">unique_ptr</span>&lt;<a class="type" href="../../../include/llvm/IR/DIBuilder.h.html#llvm::DIBuilder" title='llvm::DIBuilder' data-ref="llvm::DIBuilder" data-ref-filename="llvm..DIBuilder">DIBuilder</a>&gt; <span class='ref fn fake' title='std::unique_ptr::unique_ptr&lt;_Tp, _Dp&gt;' data-ref="_ZNSt10unique_ptrC1Ev" data-ref-filename="_ZNSt10unique_ptrC1Ev"></span><dfn class="local col5 decl" id="495DIB" title='DIB' data-type='std::unique_ptr&lt;DIBuilder&gt;' data-ref="495DIB" data-ref-filename="495DIB">DIB</dfn>;</td></tr>
<tr><th id="2621">2621</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::AllocaInst" title='llvm::AllocaInst' data-ref="llvm::AllocaInst" data-ref-filename="llvm..AllocaInst">AllocaInst</a>&gt;(<a class="local col2 ref" href="#492MI" title='MI' data-ref="492MI" data-ref-filename="492MI">MI</a>)) {</td></tr>
<tr><th id="2622">2622</th><td>    <a class="ref fn" href="../../../include/llvm/Transforms/Utils/Local.h.html#_ZN4llvm12findDbgUsersERNS_15SmallVectorImplIPNS_20DbgVariableIntrinsicEEEPNS_5ValueE" title='llvm::findDbgUsers' data-ref="_ZN4llvm12findDbgUsersERNS_15SmallVectorImplIPNS_20DbgVariableIntrinsicEEEPNS_5ValueE" data-ref-filename="_ZN4llvm12findDbgUsersERNS_15SmallVectorImplIPNS_20DbgVariableIntrinsicEEEPNS_5ValueE">findDbgUsers</a>(<span class='refarg'><a class="local col4 ref" href="#494DVIs" title='DVIs' data-ref="494DVIs" data-ref-filename="494DVIs">DVIs</a></span>, &amp;<a class="local col2 ref" href="#492MI" title='MI' data-ref="492MI" data-ref-filename="492MI">MI</a>);</td></tr>
<tr><th id="2623">2623</th><td>    <a class="local col5 ref" href="#495DIB" title='DIB' data-ref="495DIB" data-ref-filename="495DIB">DIB</a>.<span class='ref fn' title='std::unique_ptr::reset' data-ref="_ZNSt10unique_ptr5resetENSt15__uniq_ptr_implIT_T0_E7pointerE" data-ref-filename="_ZNSt10unique_ptr5resetENSt15__uniq_ptr_implIT_T0_E7pointerE">reset</span>(<b>new</b> <a class="type" href="../../../include/llvm/IR/DIBuilder.h.html#llvm::DIBuilder" title='llvm::DIBuilder' data-ref="llvm::DIBuilder" data-ref-filename="llvm..DIBuilder">DIBuilder</a><a class="ref fn" href="../../../include/llvm/IR/DIBuilder.h.html#_ZN4llvm9DIBuilderC1ERNS_6ModuleEbPNS_13DICompileUnitE" title='llvm::DIBuilder::DIBuilder' data-ref="_ZN4llvm9DIBuilderC1ERNS_6ModuleEbPNS_13DICompileUnitE" data-ref-filename="_ZN4llvm9DIBuilderC1ERNS_6ModuleEbPNS_13DICompileUnitE">(</a>*<a class="local col2 ref" href="#492MI" title='MI' data-ref="492MI" data-ref-filename="492MI">MI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getModuleEv" title='llvm::Instruction::getModule' data-ref="_ZN4llvm11Instruction9getModuleEv" data-ref-filename="_ZN4llvm11Instruction9getModuleEv">getModule</a>(), <i>/*AllowUnresolved=*/</i><b>false</b>));</td></tr>
<tr><th id="2624">2624</th><td>  }</td></tr>
<tr><th id="2625">2625</th><td></td></tr>
<tr><th id="2626">2626</th><td>  <b>if</b> (<a class="tu ref fn" href="#_ZL20isAllocSiteRemovablePN4llvm11InstructionERNS_15SmallVectorImplINS_14WeakTrackingVHEEEPKNS_17TargetLibraryInfoE" title='isAllocSiteRemovable' data-use='c' data-ref="_ZL20isAllocSiteRemovablePN4llvm11InstructionERNS_15SmallVectorImplINS_14WeakTrackingVHEEEPKNS_17TargetLibraryInfoE" data-ref-filename="_ZL20isAllocSiteRemovablePN4llvm11InstructionERNS_15SmallVectorImplINS_14WeakTrackingVHEEEPKNS_17TargetLibraryInfoE">isAllocSiteRemovable</a>(&amp;<a class="local col2 ref" href="#492MI" title='MI' data-ref="492MI" data-ref-filename="492MI">MI</a>, <span class='refarg'><a class="local col3 ref" href="#493Users" title='Users' data-ref="493Users" data-ref-filename="493Users">Users</a></span>, &amp;<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::TLI" title='llvm::InstCombiner::TLI' data-ref="llvm::InstCombiner::TLI" data-ref-filename="llvm..InstCombiner..TLI">TLI</a>)) {</td></tr>
<tr><th id="2627">2627</th><td>    <b>for</b> (<em>unsigned</em> <dfn class="local col6 decl" id="496i" title='i' data-type='unsigned int' data-ref="496i" data-ref-filename="496i">i</dfn> = <var>0</var>, <dfn class="local col7 decl" id="497e" title='e' data-type='unsigned int' data-ref="497e" data-ref-filename="497e">e</dfn> = <a class="local col3 ref" href="#493Users" title='Users' data-ref="493Users" data-ref-filename="493Users">Users</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase4sizeEv" title='llvm::SmallVectorBase::size' data-ref="_ZNK4llvm15SmallVectorBase4sizeEv" data-ref-filename="_ZNK4llvm15SmallVectorBase4sizeEv">size</a>(); <a class="local col6 ref" href="#496i" title='i' data-ref="496i" data-ref-filename="496i">i</a> != <a class="local col7 ref" href="#497e" title='e' data-ref="497e" data-ref-filename="497e">e</a>; ++<a class="local col6 ref" href="#496i" title='i' data-ref="496i" data-ref-filename="496i">i</a>) {</td></tr>
<tr><th id="2628">2628</th><td>      <i>// Lowering all @llvm.objectsize calls first because they may</i></td></tr>
<tr><th id="2629">2629</th><td><i>      // use a bitcast/GEP of the alloca we are removing.</i></td></tr>
<tr><th id="2630">2630</th><td>      <b>if</b> (!<a class="ref fn fake" href="../../../include/llvm/IR/ValueHandle.h.html#_ZNK4llvm14WeakTrackingVHcvPNS_5ValueEEv" title='llvm::WeakTrackingVH::operator llvm::Value *' data-ref="_ZNK4llvm14WeakTrackingVHcvPNS_5ValueEEv" data-ref-filename="_ZNK4llvm14WeakTrackingVHcvPNS_5ValueEEv"></a><a class="local col3 ref" href="#493Users" title='Users' data-ref="493Users" data-ref-filename="493Users">Users</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col6 ref" href="#496i" title='i' data-ref="496i" data-ref-filename="496i">i</a>]</a>)</td></tr>
<tr><th id="2631">2631</th><td>       <b>continue</b>;</td></tr>
<tr><th id="2632">2632</th><td></td></tr>
<tr><th id="2633">2633</th><td>      <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col8 decl" id="498I" title='I' data-type='llvm::Instruction *' data-ref="498I" data-ref-filename="498I">I</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>&gt;(&amp;<a class="ref fn" href="../../../include/llvm/IR/ValueHandle.h.html#_ZNK4llvm15ValueHandleBasedeEv" title='llvm::ValueHandleBase::operator*' data-ref="_ZNK4llvm15ValueHandleBasedeEv" data-ref-filename="_ZNK4llvm15ValueHandleBasedeEv">*</a><a class="local col3 ref" href="#493Users" title='Users' data-ref="493Users" data-ref-filename="493Users">Users</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col6 ref" href="#496i" title='i' data-ref="496i" data-ref-filename="496i">i</a>]</a>);</td></tr>
<tr><th id="2634">2634</th><td></td></tr>
<tr><th id="2635">2635</th><td>      <b>if</b> (<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::IntrinsicInst" title='llvm::IntrinsicInst' data-ref="llvm::IntrinsicInst" data-ref-filename="llvm..IntrinsicInst">IntrinsicInst</a> *<dfn class="local col9 decl" id="499II" title='II' data-type='llvm::IntrinsicInst *' data-ref="499II" data-ref-filename="499II"><a class="local col9 ref" href="#499II" title='II' data-ref="499II" data-ref-filename="499II">II</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::IntrinsicInst" title='llvm::IntrinsicInst' data-ref="llvm::IntrinsicInst" data-ref-filename="llvm..IntrinsicInst">IntrinsicInst</a>&gt;(<a class="local col8 ref" href="#498I" title='I' data-ref="498I" data-ref-filename="498I">I</a>)) {</td></tr>
<tr><th id="2636">2636</th><td>        <b>if</b> (<a class="local col9 ref" href="#499II" title='II' data-ref="499II" data-ref-filename="499II">II</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/IntrinsicInst.h.html#_ZNK4llvm13IntrinsicInst14getIntrinsicIDEv" title='llvm::IntrinsicInst::getIntrinsicID' data-ref="_ZNK4llvm13IntrinsicInst14getIntrinsicIDEv" data-ref-filename="_ZNK4llvm13IntrinsicInst14getIntrinsicIDEv">getIntrinsicID</a>() == <span class="namespace">Intrinsic::</span><a class="enum" href="../../../../build/include/llvm/IR/IntrinsicEnums.inc.html#llvm::Intrinsic::objectsize" title='llvm::Intrinsic::objectsize' data-ref="llvm::Intrinsic::objectsize" data-ref-filename="llvm..Intrinsic..objectsize">objectsize</a>) {</td></tr>
<tr><th id="2637">2637</th><td>          <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="500Result" title='Result' data-type='llvm::Value *' data-ref="500Result" data-ref-filename="500Result">Result</dfn> =</td></tr>
<tr><th id="2638">2638</th><td>              <a class="ref fn" href="../../../include/llvm/Analysis/MemoryBuiltins.h.html#_ZN4llvm19lowerObjectSizeCallEPNS_13IntrinsicInstERKNS_10DataLayoutEPKNS_17TargetLibraryInfoEb" title='llvm::lowerObjectSizeCall' data-ref="_ZN4llvm19lowerObjectSizeCallEPNS_13IntrinsicInstERKNS_10DataLayoutEPKNS_17TargetLibraryInfoEb" data-ref-filename="_ZN4llvm19lowerObjectSizeCallEPNS_13IntrinsicInstERKNS_10DataLayoutEPKNS_17TargetLibraryInfoEb">lowerObjectSizeCall</a>(<a class="local col9 ref" href="#499II" title='II' data-ref="499II" data-ref-filename="499II">II</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>, &amp;<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::TLI" title='llvm::InstCombiner::TLI' data-ref="llvm::InstCombiner::TLI" data-ref-filename="llvm..InstCombiner..TLI">TLI</a>, <i>/*MustSucceed=*/</i><b>true</b>);</td></tr>
<tr><th id="2639">2639</th><td>          <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'>*<a class="local col8 ref" href="#498I" title='I' data-ref="498I" data-ref-filename="498I">I</a></span>, <a class="local col0 ref" href="#500Result" title='Result' data-ref="500Result" data-ref-filename="500Result">Result</a>);</td></tr>
<tr><th id="2640">2640</th><td>          <a class="virtual member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" title='llvm::InstCombinerImpl::eraseInstFromFunction' data-ref="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE">eraseInstFromFunction</a>(<span class='refarg'>*<a class="local col8 ref" href="#498I" title='I' data-ref="498I" data-ref-filename="498I">I</a></span>);</td></tr>
<tr><th id="2641">2641</th><td>          <a class="local col3 ref" href="#493Users" title='Users' data-ref="493Users" data-ref-filename="493Users">Users</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col6 ref" href="#496i" title='i' data-ref="496i" data-ref-filename="496i">i</a>]</a> <a class="ref fn" href="../../../include/llvm/IR/ValueHandle.h.html#_ZN4llvm14WeakTrackingVHaSEPNS_5ValueE" title='llvm::WeakTrackingVH::operator=' data-ref="_ZN4llvm14WeakTrackingVHaSEPNS_5ValueE" data-ref-filename="_ZN4llvm14WeakTrackingVHaSEPNS_5ValueE">=</a> <b>nullptr</b>; <i>// Skip examining in the next loop.</i></td></tr>
<tr><th id="2642">2642</th><td>        }</td></tr>
<tr><th id="2643">2643</th><td>      }</td></tr>
<tr><th id="2644">2644</th><td>    }</td></tr>
<tr><th id="2645">2645</th><td>    <b>for</b> (<em>unsigned</em> <dfn class="local col1 decl" id="501i" title='i' data-type='unsigned int' data-ref="501i" data-ref-filename="501i">i</dfn> = <var>0</var>, <dfn class="local col2 decl" id="502e" title='e' data-type='unsigned int' data-ref="502e" data-ref-filename="502e">e</dfn> = <a class="local col3 ref" href="#493Users" title='Users' data-ref="493Users" data-ref-filename="493Users">Users</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase4sizeEv" title='llvm::SmallVectorBase::size' data-ref="_ZNK4llvm15SmallVectorBase4sizeEv" data-ref-filename="_ZNK4llvm15SmallVectorBase4sizeEv">size</a>(); <a class="local col1 ref" href="#501i" title='i' data-ref="501i" data-ref-filename="501i">i</a> != <a class="local col2 ref" href="#502e" title='e' data-ref="502e" data-ref-filename="502e">e</a>; ++<a class="local col1 ref" href="#501i" title='i' data-ref="501i" data-ref-filename="501i">i</a>) {</td></tr>
<tr><th id="2646">2646</th><td>      <b>if</b> (!<a class="ref fn fake" href="../../../include/llvm/IR/ValueHandle.h.html#_ZNK4llvm14WeakTrackingVHcvPNS_5ValueEEv" title='llvm::WeakTrackingVH::operator llvm::Value *' data-ref="_ZNK4llvm14WeakTrackingVHcvPNS_5ValueEEv" data-ref-filename="_ZNK4llvm14WeakTrackingVHcvPNS_5ValueEEv"></a><a class="local col3 ref" href="#493Users" title='Users' data-ref="493Users" data-ref-filename="493Users">Users</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col1 ref" href="#501i" title='i' data-ref="501i" data-ref-filename="501i">i</a>]</a>)</td></tr>
<tr><th id="2647">2647</th><td>        <b>continue</b>;</td></tr>
<tr><th id="2648">2648</th><td></td></tr>
<tr><th id="2649">2649</th><td>      <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col3 decl" id="503I" title='I' data-type='llvm::Instruction *' data-ref="503I" data-ref-filename="503I">I</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>&gt;(&amp;<a class="ref fn" href="../../../include/llvm/IR/ValueHandle.h.html#_ZNK4llvm15ValueHandleBasedeEv" title='llvm::ValueHandleBase::operator*' data-ref="_ZNK4llvm15ValueHandleBasedeEv" data-ref-filename="_ZNK4llvm15ValueHandleBasedeEv">*</a><a class="local col3 ref" href="#493Users" title='Users' data-ref="493Users" data-ref-filename="493Users">Users</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col1 ref" href="#501i" title='i' data-ref="501i" data-ref-filename="501i">i</a>]</a>);</td></tr>
<tr><th id="2650">2650</th><td></td></tr>
<tr><th id="2651">2651</th><td>      <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ICmpInst" title='llvm::ICmpInst' data-ref="llvm::ICmpInst" data-ref-filename="llvm..ICmpInst">ICmpInst</a> *<dfn class="local col4 decl" id="504C" title='C' data-type='llvm::ICmpInst *' data-ref="504C" data-ref-filename="504C"><a class="local col4 ref" href="#504C" title='C' data-ref="504C" data-ref-filename="504C">C</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ICmpInst" title='llvm::ICmpInst' data-ref="llvm::ICmpInst" data-ref-filename="llvm..ICmpInst">ICmpInst</a>&gt;(<a class="local col3 ref" href="#503I" title='I' data-ref="503I" data-ref-filename="503I">I</a>)) {</td></tr>
<tr><th id="2652">2652</th><td>        <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'>*<a class="local col4 ref" href="#504C" title='C' data-ref="504C" data-ref-filename="504C">C</a></span>,</td></tr>
<tr><th id="2653">2653</th><td>                            <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb">get</a>(<a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZN4llvm4Type9getInt1TyERNS_11LLVMContextE" title='llvm::Type::getInt1Ty' data-ref="_ZN4llvm4Type9getInt1TyERNS_11LLVMContextE" data-ref-filename="_ZN4llvm4Type9getInt1TyERNS_11LLVMContextE">getInt1Ty</a>(<span class='refarg'><a class="local col4 ref" href="#504C" title='C' data-ref="504C" data-ref-filename="504C">C</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value10getContextEv" title='llvm::Value::getContext' data-ref="_ZNK4llvm5Value10getContextEv" data-ref-filename="_ZNK4llvm5Value10getContextEv">getContext</a>()</span>),</td></tr>
<tr><th id="2654">2654</th><td>                                             <a class="local col4 ref" href="#504C" title='C' data-ref="504C" data-ref-filename="504C">C</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm7CmpInst16isFalseWhenEqualEv" title='llvm::CmpInst::isFalseWhenEqual' data-ref="_ZNK4llvm7CmpInst16isFalseWhenEqualEv" data-ref-filename="_ZNK4llvm7CmpInst16isFalseWhenEqualEv">isFalseWhenEqual</a>()));</td></tr>
<tr><th id="2655">2655</th><td>      } <b>else</b> <b>if</b> (<em>auto</em> *<dfn class="local col5 decl" id="505SI" title='SI' data-type='llvm::StoreInst *' data-ref="505SI" data-ref-filename="505SI"><a class="local col5 ref" href="#505SI" title='SI' data-ref="505SI" data-ref-filename="505SI">SI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a>&gt;(<a class="local col3 ref" href="#503I" title='I' data-ref="503I" data-ref-filename="503I">I</a>)) {</td></tr>
<tr><th id="2656">2656</th><td>        <b>for</b> (<em>auto</em> *<dfn class="local col6 decl" id="506DVI" title='DVI' data-type='llvm::DbgVariableIntrinsic *' data-ref="506DVI" data-ref-filename="506DVI">DVI</dfn> : <a class="local col4 ref" href="#494DVIs" title='DVIs' data-ref="494DVIs" data-ref-filename="494DVIs">DVIs</a>)</td></tr>
<tr><th id="2657">2657</th><td>          <b>if</b> (<a class="local col6 ref" href="#506DVI" title='DVI' data-ref="506DVI" data-ref-filename="506DVI">DVI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/IntrinsicInst.h.html#_ZNK4llvm20DbgVariableIntrinsic19isAddressOfVariableEv" title='llvm::DbgVariableIntrinsic::isAddressOfVariable' data-ref="_ZNK4llvm20DbgVariableIntrinsic19isAddressOfVariableEv" data-ref-filename="_ZNK4llvm20DbgVariableIntrinsic19isAddressOfVariableEv">isAddressOfVariable</a>())</td></tr>
<tr><th id="2658">2658</th><td>            <a class="ref fn" href="../../../include/llvm/Transforms/Utils/Local.h.html#_ZN4llvm31ConvertDebugDeclareToDebugValueEPNS_20DbgVariableIntrinsicEPNS_9StoreInstERNS_9DIBuilderE" title='llvm::ConvertDebugDeclareToDebugValue' data-ref="_ZN4llvm31ConvertDebugDeclareToDebugValueEPNS_20DbgVariableIntrinsicEPNS_9StoreInstERNS_9DIBuilderE" data-ref-filename="_ZN4llvm31ConvertDebugDeclareToDebugValueEPNS_20DbgVariableIntrinsicEPNS_9StoreInstERNS_9DIBuilderE">ConvertDebugDeclareToDebugValue</a>(<a class="local col6 ref" href="#506DVI" title='DVI' data-ref="506DVI" data-ref-filename="506DVI">DVI</a>, <a class="local col5 ref" href="#505SI" title='SI' data-ref="505SI" data-ref-filename="505SI">SI</a>, <span class='refarg'><span class='ref fn' title='std::unique_ptr::operator*' data-ref="_ZNKSt10unique_ptrdeEv" data-ref-filename="_ZNKSt10unique_ptrdeEv">*</span><a class="local col5 ref" href="#495DIB" title='DIB' data-ref="495DIB" data-ref-filename="495DIB">DIB</a></span>);</td></tr>
<tr><th id="2659">2659</th><td>      } <b>else</b> {</td></tr>
<tr><th id="2660">2660</th><td>        <i>// Casts, GEP, or anything else: we're about to delete this instruction,</i></td></tr>
<tr><th id="2661">2661</th><td><i>        // so it can not have any valid uses.</i></td></tr>
<tr><th id="2662">2662</th><td>        <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'>*<a class="local col3 ref" href="#503I" title='I' data-ref="503I" data-ref-filename="503I">I</a></span>, <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm10UndefValue3getEPNS_4TypeE" title='llvm::UndefValue::get' data-ref="_ZN4llvm10UndefValue3getEPNS_4TypeE" data-ref-filename="_ZN4llvm10UndefValue3getEPNS_4TypeE">get</a>(<a class="local col3 ref" href="#503I" title='I' data-ref="503I" data-ref-filename="503I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()));</td></tr>
<tr><th id="2663">2663</th><td>      }</td></tr>
<tr><th id="2664">2664</th><td>      <a class="virtual member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" title='llvm::InstCombinerImpl::eraseInstFromFunction' data-ref="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE">eraseInstFromFunction</a>(<span class='refarg'>*<a class="local col3 ref" href="#503I" title='I' data-ref="503I" data-ref-filename="503I">I</a></span>);</td></tr>
<tr><th id="2665">2665</th><td>    }</td></tr>
<tr><th id="2666">2666</th><td></td></tr>
<tr><th id="2667">2667</th><td>    <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::InvokeInst" title='llvm::InvokeInst' data-ref="llvm::InvokeInst" data-ref-filename="llvm..InvokeInst">InvokeInst</a> *<dfn class="local col7 decl" id="507II" title='II' data-type='llvm::InvokeInst *' data-ref="507II" data-ref-filename="507II"><a class="local col7 ref" href="#507II" title='II' data-ref="507II" data-ref-filename="507II">II</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::InvokeInst" title='llvm::InvokeInst' data-ref="llvm::InvokeInst" data-ref-filename="llvm..InvokeInst">InvokeInst</a>&gt;(&amp;<a class="local col2 ref" href="#492MI" title='MI' data-ref="492MI" data-ref-filename="492MI">MI</a>)) {</td></tr>
<tr><th id="2668">2668</th><td>      <i>// Replace invoke with a NOP intrinsic to maintain the original CFG</i></td></tr>
<tr><th id="2669">2669</th><td>      <a class="type" href="../../../include/llvm/IR/Module.h.html#llvm::Module" title='llvm::Module' data-ref="llvm::Module" data-ref-filename="llvm..Module">Module</a> *<dfn class="local col8 decl" id="508M" title='M' data-type='llvm::Module *' data-ref="508M" data-ref-filename="508M">M</dfn> = <a class="local col7 ref" href="#507II" title='II' data-ref="507II" data-ref-filename="507II">II</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getModuleEv" title='llvm::Instruction::getModule' data-ref="_ZN4llvm11Instruction9getModuleEv" data-ref-filename="_ZN4llvm11Instruction9getModuleEv">getModule</a>();</td></tr>
<tr><th id="2670">2670</th><td>      <a class="type" href="../../../include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> *<dfn class="local col9 decl" id="509F" title='F' data-type='llvm::Function *' data-ref="509F" data-ref-filename="509F">F</dfn> = <span class="namespace">Intrinsic::</span><a class="ref fn" href="../../../include/llvm/IR/Intrinsics.h.html#_ZN4llvm9Intrinsic14getDeclarationEPNS_6ModuleEjNS_8ArrayRefIPNS_4TypeEEE" title='llvm::Intrinsic::getDeclaration' data-ref="_ZN4llvm9Intrinsic14getDeclarationEPNS_6ModuleEjNS_8ArrayRefIPNS_4TypeEEE" data-ref-filename="_ZN4llvm9Intrinsic14getDeclarationEPNS_6ModuleEjNS_8ArrayRefIPNS_4TypeEEE">getDeclaration</a>(<a class="local col8 ref" href="#508M" title='M' data-ref="508M" data-ref-filename="508M">M</a>, <span class="namespace">Intrinsic::</span><a class="enum" href="../../../../build/include/llvm/IR/IntrinsicEnums.inc.html#llvm::Intrinsic::donothing" title='llvm::Intrinsic::donothing' data-ref="llvm::Intrinsic::donothing" data-ref-filename="llvm..Intrinsic..donothing">donothing</a>);</td></tr>
<tr><th id="2671">2671</th><td>      <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::InvokeInst" title='llvm::InvokeInst' data-ref="llvm::InvokeInst" data-ref-filename="llvm..InvokeInst">InvokeInst</a>::<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10InvokeInst6CreateENS_14FunctionCalleeEPNS_10BasicBlockES3_NS_8ArrayRefIPNS_5ValueEEERKNS_5TwineES3_" title='llvm::InvokeInst::Create' data-ref="_ZN4llvm10InvokeInst6CreateENS_14FunctionCalleeEPNS_10BasicBlockES3_NS_8ArrayRefIPNS_5ValueEEERKNS_5TwineES3_" data-ref-filename="_ZN4llvm10InvokeInst6CreateENS_14FunctionCalleeEPNS_10BasicBlockES3_NS_8ArrayRefIPNS_5ValueEEERKNS_5TwineES3_">Create</a>(<a class="ref fn fake" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZN4llvm14FunctionCalleeC1EPT_" title='llvm::FunctionCallee::FunctionCallee' data-ref="_ZN4llvm14FunctionCalleeC1EPT_" data-ref-filename="_ZN4llvm14FunctionCalleeC1EPT_"></a><a class="local col9 ref" href="#509F" title='F' data-ref="509F" data-ref-filename="509F">F</a>, <a class="local col7 ref" href="#507II" title='II' data-ref="507II" data-ref-filename="507II">II</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10InvokeInst13getNormalDestEv" title='llvm::InvokeInst::getNormalDest' data-ref="_ZNK4llvm10InvokeInst13getNormalDestEv" data-ref-filename="_ZNK4llvm10InvokeInst13getNormalDestEv">getNormalDest</a>(), <a class="local col7 ref" href="#507II" title='II' data-ref="507II" data-ref-filename="507II">II</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10InvokeInst13getUnwindDestEv" title='llvm::InvokeInst::getUnwindDest' data-ref="_ZNK4llvm10InvokeInst13getUnwindDestEv" data-ref-filename="_ZNK4llvm10InvokeInst13getUnwindDestEv">getUnwindDest</a>(),</td></tr>
<tr><th id="2672">2672</th><td>                         <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ENS_8NoneTypeE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ENS_8NoneTypeE" data-ref-filename="_ZN4llvm8ArrayRefC1ENS_8NoneTypeE"></a><a class="ref" href="../../../include/llvm/ADT/None.h.html#llvm::None" title='llvm::None' data-ref="llvm::None" data-ref-filename="llvm..None">None</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>""</q>, <a class="local col7 ref" href="#507II" title='II' data-ref="507II" data-ref-filename="507II">II</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>());</td></tr>
<tr><th id="2673">2673</th><td>    }</td></tr>
<tr><th id="2674">2674</th><td></td></tr>
<tr><th id="2675">2675</th><td>    <i>// Remove debug intrinsics which describe the value contained within the</i></td></tr>
<tr><th id="2676">2676</th><td><i>    // alloca. In addition to removing dbg.{declare,addr} which simply point to</i></td></tr>
<tr><th id="2677">2677</th><td><i>    // the alloca, remove dbg.value(&lt;alloca&gt;, ..., DW_OP_deref)'s as well, e.g.:</i></td></tr>
<tr><th id="2678">2678</th><td><i>    //</i></td></tr>
<tr><th id="2679">2679</th><td><i>    // ```</i></td></tr>
<tr><th id="2680">2680</th><td><i>    //   define void @foo(i32 %0) {</i></td></tr>
<tr><th id="2681">2681</th><td><i>    //     %a = alloca i32                              ; Deleted.</i></td></tr>
<tr><th id="2682">2682</th><td><i>    //     store i32 %0, i32* %a</i></td></tr>
<tr><th id="2683">2683</th><td><i>    //     dbg.value(i32 %0, "arg0")                    ; Not deleted.</i></td></tr>
<tr><th id="2684">2684</th><td><i>    //     dbg.value(i32* %a, "arg0", DW_OP_deref)      ; Deleted.</i></td></tr>
<tr><th id="2685">2685</th><td><i>    //     call void @trivially_inlinable_no_op(i32* %a)</i></td></tr>
<tr><th id="2686">2686</th><td><i>    //     ret void</i></td></tr>
<tr><th id="2687">2687</th><td><i>    //  }</i></td></tr>
<tr><th id="2688">2688</th><td><i>    // ```</i></td></tr>
<tr><th id="2689">2689</th><td><i>    //</i></td></tr>
<tr><th id="2690">2690</th><td><i>    // This may not be required if we stop describing the contents of allocas</i></td></tr>
<tr><th id="2691">2691</th><td><i>    // using dbg.value(&lt;alloca&gt;, ..., DW_OP_deref), but we currently do this in</i></td></tr>
<tr><th id="2692">2692</th><td><i>    // the LowerDbgDeclare utility.</i></td></tr>
<tr><th id="2693">2693</th><td><i>    //</i></td></tr>
<tr><th id="2694">2694</th><td><i>    // If there is a dead store to `%a` in @trivially_inlinable_no_op, the</i></td></tr>
<tr><th id="2695">2695</th><td><i>    // "arg0" dbg.value may be stale after the call. However, failing to remove</i></td></tr>
<tr><th id="2696">2696</th><td><i>    // the DW_OP_deref dbg.value causes large gaps in location coverage.</i></td></tr>
<tr><th id="2697">2697</th><td>    <b>for</b> (<em>auto</em> *<dfn class="local col0 decl" id="510DVI" title='DVI' data-type='llvm::DbgVariableIntrinsic *' data-ref="510DVI" data-ref-filename="510DVI">DVI</dfn> : <a class="local col4 ref" href="#494DVIs" title='DVIs' data-ref="494DVIs" data-ref-filename="494DVIs">DVIs</a>)</td></tr>
<tr><th id="2698">2698</th><td>      <b>if</b> (<a class="local col0 ref" href="#510DVI" title='DVI' data-ref="510DVI" data-ref-filename="510DVI">DVI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/IntrinsicInst.h.html#_ZNK4llvm20DbgVariableIntrinsic19isAddressOfVariableEv" title='llvm::DbgVariableIntrinsic::isAddressOfVariable' data-ref="_ZNK4llvm20DbgVariableIntrinsic19isAddressOfVariableEv" data-ref-filename="_ZNK4llvm20DbgVariableIntrinsic19isAddressOfVariableEv">isAddressOfVariable</a>() || <a class="local col0 ref" href="#510DVI" title='DVI' data-ref="510DVI" data-ref-filename="510DVI">DVI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/IntrinsicInst.h.html#_ZNK4llvm20DbgVariableIntrinsic13getExpressionEv" title='llvm::DbgVariableIntrinsic::getExpression' data-ref="_ZNK4llvm20DbgVariableIntrinsic13getExpressionEv" data-ref-filename="_ZNK4llvm20DbgVariableIntrinsic13getExpressionEv">getExpression</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/DebugInfoMetadata.h.html#_ZNK4llvm12DIExpression15startsWithDerefEv" title='llvm::DIExpression::startsWithDeref' data-ref="_ZNK4llvm12DIExpression15startsWithDerefEv" data-ref-filename="_ZNK4llvm12DIExpression15startsWithDerefEv">startsWithDeref</a>())</td></tr>
<tr><th id="2699">2699</th><td>        <a class="local col0 ref" href="#510DVI" title='DVI' data-ref="510DVI" data-ref-filename="510DVI">DVI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="2700">2700</th><td></td></tr>
<tr><th id="2701">2701</th><td>    <b>return</b> <a class="virtual member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" title='llvm::InstCombinerImpl::eraseInstFromFunction' data-ref="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE">eraseInstFromFunction</a>(<span class='refarg'><a class="local col2 ref" href="#492MI" title='MI' data-ref="492MI" data-ref-filename="492MI">MI</a></span>);</td></tr>
<tr><th id="2702">2702</th><td>  }</td></tr>
<tr><th id="2703">2703</th><td>  <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2704">2704</th><td>}</td></tr>
<tr><th id="2705">2705</th><td></td></tr>
<tr><th id="2706">2706</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">/// Move the call to free before a NULL test.</i></td></tr>
<tr><th id="2707">2707</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">///</i></td></tr>
<tr><th id="2708">2708</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">/// Check if this free is accessed after its argument has been test</i></td></tr>
<tr><th id="2709">2709</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">/// against NULL (property 0).</i></td></tr>
<tr><th id="2710">2710</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">/// If yes, it is legal to move this call in its predecessor block.</i></td></tr>
<tr><th id="2711">2711</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">///</i></td></tr>
<tr><th id="2712">2712</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">/// The move is performed only if the block containing the call to free</i></td></tr>
<tr><th id="2713">2713</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">/// will be removed, i.e.:</i></td></tr>
<tr><th id="2714">2714</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">/// 1. it has only one predecessor P, and P has two successors</i></td></tr>
<tr><th id="2715">2715</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">/// 2. it contains the call, noops, and an unconditional branch</i></td></tr>
<tr><th id="2716">2716</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">/// 3. its successor is the same as its predecessor's successor</i></td></tr>
<tr><th id="2717">2717</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">///</i></td></tr>
<tr><th id="2718">2718</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">/// The profitability is out-of concern here and this function should</i></td></tr>
<tr><th id="2719">2719</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">/// be called only if the caller knows this transformation would be</i></td></tr>
<tr><th id="2720">2720</th><td><i class="doc" data-doc="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">/// profitable (e.g., for code size).</i></td></tr>
<tr><th id="2721">2721</th><td><em>static</em> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="tu decl def fn" id="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE" title='tryToMoveFreeBeforeNullTest' data-type='llvm::Instruction * tryToMoveFreeBeforeNullTest(llvm::CallInst &amp; FI, const llvm::DataLayout &amp; DL)' data-ref="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE" data-ref-filename="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">tryToMoveFreeBeforeNullTest</dfn>(<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::CallInst" title='llvm::CallInst' data-ref="llvm::CallInst" data-ref-filename="llvm..CallInst">CallInst</a> &amp;<dfn class="local col1 decl" id="511FI" title='FI' data-type='llvm::CallInst &amp;' data-ref="511FI" data-ref-filename="511FI">FI</dfn>,</td></tr>
<tr><th id="2722">2722</th><td>                                                <em>const</em> <a class="type" href="../../../include/llvm/IR/DataLayout.h.html#llvm::DataLayout" title='llvm::DataLayout' data-ref="llvm::DataLayout" data-ref-filename="llvm..DataLayout">DataLayout</a> &amp;<dfn class="local col2 decl" id="512DL" title='DL' data-type='const llvm::DataLayout &amp;' data-ref="512DL" data-ref-filename="512DL">DL</dfn>) {</td></tr>
<tr><th id="2723">2723</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="513Op" title='Op' data-type='llvm::Value *' data-ref="513Op" data-ref-filename="513Op">Op</dfn> = <a class="local col1 ref" href="#511FI" title='FI' data-ref="511FI" data-ref-filename="511FI">FI</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CallBase13getArgOperandEj" title='llvm::CallBase::getArgOperand' data-ref="_ZNK4llvm8CallBase13getArgOperandEj" data-ref-filename="_ZNK4llvm8CallBase13getArgOperandEj">getArgOperand</a>(<var>0</var>);</td></tr>
<tr><th id="2724">2724</th><td>  <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col4 decl" id="514FreeInstrBB" title='FreeInstrBB' data-type='llvm::BasicBlock *' data-ref="514FreeInstrBB" data-ref-filename="514FreeInstrBB">FreeInstrBB</dfn> = <a class="local col1 ref" href="#511FI" title='FI' data-ref="511FI" data-ref-filename="511FI">FI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>();</td></tr>
<tr><th id="2725">2725</th><td>  <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col5 decl" id="515PredBB" title='PredBB' data-type='llvm::BasicBlock *' data-ref="515PredBB" data-ref-filename="515PredBB">PredBB</dfn> = <a class="local col4 ref" href="#514FreeInstrBB" title='FreeInstrBB' data-ref="514FreeInstrBB" data-ref-filename="514FreeInstrBB">FreeInstrBB</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock20getSinglePredecessorEv" title='llvm::BasicBlock::getSinglePredecessor' data-ref="_ZN4llvm10BasicBlock20getSinglePredecessorEv" data-ref-filename="_ZN4llvm10BasicBlock20getSinglePredecessorEv">getSinglePredecessor</a>();</td></tr>
<tr><th id="2726">2726</th><td></td></tr>
<tr><th id="2727">2727</th><td>  <i>// Validate part of constraint #1: Only one predecessor</i></td></tr>
<tr><th id="2728">2728</th><td><i>  // FIXME: We can extend the number of predecessor, but in that case, we</i></td></tr>
<tr><th id="2729">2729</th><td><i>  //        would duplicate the call to free in each predecessor and it may</i></td></tr>
<tr><th id="2730">2730</th><td><i>  //        not be profitable even for code size.</i></td></tr>
<tr><th id="2731">2731</th><td>  <b>if</b> (!<a class="local col5 ref" href="#515PredBB" title='PredBB' data-ref="515PredBB" data-ref-filename="515PredBB">PredBB</a>)</td></tr>
<tr><th id="2732">2732</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2733">2733</th><td></td></tr>
<tr><th id="2734">2734</th><td>  <i>// Validate constraint #2: Does this block contains only the call to</i></td></tr>
<tr><th id="2735">2735</th><td><i>  //                         free, noops, and an unconditional branch?</i></td></tr>
<tr><th id="2736">2736</th><td>  <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col6 decl" id="516SuccBB" title='SuccBB' data-type='llvm::BasicBlock *' data-ref="516SuccBB" data-ref-filename="516SuccBB">SuccBB</dfn>;</td></tr>
<tr><th id="2737">2737</th><td>  <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col7 decl" id="517FreeInstrBBTerminator" title='FreeInstrBBTerminator' data-type='llvm::Instruction *' data-ref="517FreeInstrBBTerminator" data-ref-filename="517FreeInstrBBTerminator">FreeInstrBBTerminator</dfn> = <a class="local col4 ref" href="#514FreeInstrBB" title='FreeInstrBB' data-ref="514FreeInstrBB" data-ref-filename="514FreeInstrBB">FreeInstrBB</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock13getTerminatorEv" title='llvm::BasicBlock::getTerminator' data-ref="_ZN4llvm10BasicBlock13getTerminatorEv" data-ref-filename="_ZN4llvm10BasicBlock13getTerminatorEv">getTerminator</a>();</td></tr>
<tr><th id="2738">2738</th><td>  <b>if</b> (!<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col7 ref" href="#517FreeInstrBBTerminator" title='FreeInstrBBTerminator' data-ref="517FreeInstrBBTerminator" data-ref-filename="517FreeInstrBBTerminator">FreeInstrBBTerminator</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch17m_UnconditionalBrERPNS_10BasicBlockE" title='llvm::PatternMatch::m_UnconditionalBr' data-ref="_ZN4llvm12PatternMatch17m_UnconditionalBrERPNS_10BasicBlockE" data-ref-filename="_ZN4llvm12PatternMatch17m_UnconditionalBrERPNS_10BasicBlockE">m_UnconditionalBr</a>(<span class='refarg'><a class="local col6 ref" href="#516SuccBB" title='SuccBB' data-ref="516SuccBB" data-ref-filename="516SuccBB">SuccBB</a></span>)))</td></tr>
<tr><th id="2739">2739</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2740">2740</th><td></td></tr>
<tr><th id="2741">2741</th><td>  <i>// If there are only 2 instructions in the block, at this point,</i></td></tr>
<tr><th id="2742">2742</th><td><i>  // this is the call to free and unconditional.</i></td></tr>
<tr><th id="2743">2743</th><td><i>  // If there are more than 2 instructions, check that they are noops</i></td></tr>
<tr><th id="2744">2744</th><td><i>  // i.e., they won't hurt the performance of the generated code.</i></td></tr>
<tr><th id="2745">2745</th><td>  <b>if</b> (<a class="local col4 ref" href="#514FreeInstrBB" title='FreeInstrBB' data-ref="514FreeInstrBB" data-ref-filename="514FreeInstrBB">FreeInstrBB</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZNK4llvm10BasicBlock4sizeEv" title='llvm::BasicBlock::size' data-ref="_ZNK4llvm10BasicBlock4sizeEv" data-ref-filename="_ZNK4llvm10BasicBlock4sizeEv">size</a>() != <var>2</var>) {</td></tr>
<tr><th id="2746">2746</th><td>    <b>for</b> (<em>const</em> <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> &amp;<dfn class="local col8 decl" id="518Inst" title='Inst' data-type='const llvm::Instruction &amp;' data-ref="518Inst" data-ref-filename="518Inst">Inst</dfn> : <a class="local col4 ref" href="#514FreeInstrBB" title='FreeInstrBB' data-ref="514FreeInstrBB" data-ref-filename="514FreeInstrBB">FreeInstrBB</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock24instructionsWithoutDebugEb" title='llvm::BasicBlock::instructionsWithoutDebug' data-ref="_ZN4llvm10BasicBlock24instructionsWithoutDebugEb" data-ref-filename="_ZN4llvm10BasicBlock24instructionsWithoutDebugEb">instructionsWithoutDebug</a>()) {</td></tr>
<tr><th id="2747">2747</th><td>      <b>if</b> (&amp;<a class="local col8 ref" href="#518Inst" title='Inst' data-ref="518Inst" data-ref-filename="518Inst">Inst</a> == &amp;<a class="local col1 ref" href="#511FI" title='FI' data-ref="511FI" data-ref-filename="511FI">FI</a> || &amp;<a class="local col8 ref" href="#518Inst" title='Inst' data-ref="518Inst" data-ref-filename="518Inst">Inst</a> == <a class="local col7 ref" href="#517FreeInstrBBTerminator" title='FreeInstrBBTerminator' data-ref="517FreeInstrBBTerminator" data-ref-filename="517FreeInstrBBTerminator">FreeInstrBBTerminator</a>)</td></tr>
<tr><th id="2748">2748</th><td>        <b>continue</b>;</td></tr>
<tr><th id="2749">2749</th><td>      <em>auto</em> *<dfn class="local col9 decl" id="519Cast" title='Cast' data-type='const llvm::CastInst *' data-ref="519Cast" data-ref-filename="519Cast">Cast</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a>&gt;(&amp;<a class="local col8 ref" href="#518Inst" title='Inst' data-ref="518Inst" data-ref-filename="518Inst">Inst</a>);</td></tr>
<tr><th id="2750">2750</th><td>      <b>if</b> (!<a class="local col9 ref" href="#519Cast" title='Cast' data-ref="519Cast" data-ref-filename="519Cast">Cast</a> || !<a class="local col9 ref" href="#519Cast" title='Cast' data-ref="519Cast" data-ref-filename="519Cast">Cast</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CastInst10isNoopCastERKNS_10DataLayoutE" title='llvm::CastInst::isNoopCast' data-ref="_ZNK4llvm8CastInst10isNoopCastERKNS_10DataLayoutE" data-ref-filename="_ZNK4llvm8CastInst10isNoopCastERKNS_10DataLayoutE">isNoopCast</a>(<a class="local col2 ref" href="#512DL" title='DL' data-ref="512DL" data-ref-filename="512DL">DL</a>))</td></tr>
<tr><th id="2751">2751</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2752">2752</th><td>    }</td></tr>
<tr><th id="2753">2753</th><td>  }</td></tr>
<tr><th id="2754">2754</th><td>  <i>// Validate the rest of constraint #1 by matching on the pred branch.</i></td></tr>
<tr><th id="2755">2755</th><td>  <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col0 decl" id="520TI" title='TI' data-type='llvm::Instruction *' data-ref="520TI" data-ref-filename="520TI">TI</dfn> = <a class="local col5 ref" href="#515PredBB" title='PredBB' data-ref="515PredBB" data-ref-filename="515PredBB">PredBB</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock13getTerminatorEv" title='llvm::BasicBlock::getTerminator' data-ref="_ZN4llvm10BasicBlock13getTerminatorEv" data-ref-filename="_ZN4llvm10BasicBlock13getTerminatorEv">getTerminator</a>();</td></tr>
<tr><th id="2756">2756</th><td>  <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col1 decl" id="521TrueBB" title='TrueBB' data-type='llvm::BasicBlock *' data-ref="521TrueBB" data-ref-filename="521TrueBB">TrueBB</dfn>, *<dfn class="local col2 decl" id="522FalseBB" title='FalseBB' data-type='llvm::BasicBlock *' data-ref="522FalseBB" data-ref-filename="522FalseBB">FalseBB</dfn>;</td></tr>
<tr><th id="2757">2757</th><td>  <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ICmpInst" title='llvm::ICmpInst' data-ref="llvm::ICmpInst" data-ref-filename="llvm..ICmpInst">ICmpInst</a>::<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CmpInst::Predicate" title='llvm::CmpInst::Predicate' data-ref="llvm::CmpInst::Predicate" data-ref-filename="llvm..CmpInst..Predicate">Predicate</a> <dfn class="local col3 decl" id="523Pred" title='Pred' data-type='ICmpInst::Predicate' data-ref="523Pred" data-ref-filename="523Pred">Pred</dfn>;</td></tr>
<tr><th id="2758">2758</th><td>  <b>if</b> (!<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col0 ref" href="#520TI" title='TI' data-ref="520TI" data-ref-filename="520TI">TI</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch4m_BrERKT_RPNS_10BasicBlockES6_" title='llvm::PatternMatch::m_Br' data-ref="_ZN4llvm12PatternMatch4m_BrERKT_RPNS_10BasicBlockES6_" data-ref-filename="_ZN4llvm12PatternMatch4m_BrERKT_RPNS_10BasicBlockES6_">m_Br</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_ICmpERNS_7CmpInst9PredicateERKT_RKT0_" title='llvm::PatternMatch::m_ICmp' data-ref="_ZN4llvm12PatternMatch6m_ICmpERNS_7CmpInst9PredicateERKT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch6m_ICmpERNS_7CmpInst9PredicateERKT_RKT0_">m_ICmp</a>(<span class='refarg'><a class="local col3 ref" href="#523Pred" title='Pred' data-ref="523Pred" data-ref-filename="523Pred">Pred</a></span>,</td></tr>
<tr><th id="2759">2759</th><td>                             <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch11m_CombineOrERKT_RKT0_" title='llvm::PatternMatch::m_CombineOr' data-ref="_ZN4llvm12PatternMatch11m_CombineOrERKT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch11m_CombineOrERKT_RKT0_">m_CombineOr</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE" title='llvm::PatternMatch::m_Specific' data-ref="_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE">m_Specific</a>(<a class="local col3 ref" href="#513Op" title='Op' data-ref="513Op" data-ref-filename="513Op">Op</a>),</td></tr>
<tr><th id="2760">2760</th><td>                                         <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE" title='llvm::PatternMatch::m_Specific' data-ref="_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch10m_SpecificEPKNS_5ValueE">m_Specific</a>(<a class="local col3 ref" href="#513Op" title='Op' data-ref="513Op" data-ref-filename="513Op">Op</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value17stripPointerCastsEv" title='llvm::Value::stripPointerCasts' data-ref="_ZN4llvm5Value17stripPointerCastsEv" data-ref-filename="_ZN4llvm5Value17stripPointerCastsEv">stripPointerCasts</a>())),</td></tr>
<tr><th id="2761">2761</th><td>                             <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_ZeroEv" title='llvm::PatternMatch::m_Zero' data-ref="_ZN4llvm12PatternMatch6m_ZeroEv" data-ref-filename="_ZN4llvm12PatternMatch6m_ZeroEv">m_Zero</a>()),</td></tr>
<tr><th id="2762">2762</th><td>                      <span class='refarg'><a class="local col1 ref" href="#521TrueBB" title='TrueBB' data-ref="521TrueBB" data-ref-filename="521TrueBB">TrueBB</a></span>, <span class='refarg'><a class="local col2 ref" href="#522FalseBB" title='FalseBB' data-ref="522FalseBB" data-ref-filename="522FalseBB">FalseBB</a></span>)))</td></tr>
<tr><th id="2763">2763</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2764">2764</th><td>  <b>if</b> (<a class="local col3 ref" href="#523Pred" title='Pred' data-ref="523Pred" data-ref-filename="523Pred">Pred</a> != <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ICmpInst" title='llvm::ICmpInst' data-ref="llvm::ICmpInst" data-ref-filename="llvm..ICmpInst">ICmpInst</a>::<a class="enum" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CmpInst::ICMP_EQ" title='llvm::CmpInst::ICMP_EQ' data-ref="llvm::CmpInst::ICMP_EQ" data-ref-filename="llvm..CmpInst..ICMP_EQ">ICMP_EQ</a> &amp;&amp; <a class="local col3 ref" href="#523Pred" title='Pred' data-ref="523Pred" data-ref-filename="523Pred">Pred</a> != <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ICmpInst" title='llvm::ICmpInst' data-ref="llvm::ICmpInst" data-ref-filename="llvm..ICmpInst">ICmpInst</a>::<a class="enum" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CmpInst::ICMP_NE" title='llvm::CmpInst::ICMP_NE' data-ref="llvm::CmpInst::ICMP_NE" data-ref-filename="llvm..CmpInst..ICMP_NE">ICMP_NE</a>)</td></tr>
<tr><th id="2765">2765</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2766">2766</th><td></td></tr>
<tr><th id="2767">2767</th><td>  <i>// Validate constraint #3: Ensure the null case just falls through.</i></td></tr>
<tr><th id="2768">2768</th><td>  <b>if</b> (<a class="local col6 ref" href="#516SuccBB" title='SuccBB' data-ref="516SuccBB" data-ref-filename="516SuccBB">SuccBB</a> != (<a class="local col3 ref" href="#523Pred" title='Pred' data-ref="523Pred" data-ref-filename="523Pred">Pred</a> == <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ICmpInst" title='llvm::ICmpInst' data-ref="llvm::ICmpInst" data-ref-filename="llvm..ICmpInst">ICmpInst</a>::<a class="enum" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CmpInst::ICMP_EQ" title='llvm::CmpInst::ICMP_EQ' data-ref="llvm::CmpInst::ICMP_EQ" data-ref-filename="llvm..CmpInst..ICMP_EQ">ICMP_EQ</a> ? <a class="local col1 ref" href="#521TrueBB" title='TrueBB' data-ref="521TrueBB" data-ref-filename="521TrueBB">TrueBB</a> : <a class="local col2 ref" href="#522FalseBB" title='FalseBB' data-ref="522FalseBB" data-ref-filename="522FalseBB">FalseBB</a>))</td></tr>
<tr><th id="2769">2769</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2770">2770</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(FreeInstrBB == (Pred == ICmpInst::ICMP_EQ ? FalseBB : TrueBB) &amp;&amp;</td></tr>
<tr><th id="2771">2771</th><td>         <q>"Broken CFG: missing edge from predecessor to successor"</q>);</td></tr>
<tr><th id="2772">2772</th><td></td></tr>
<tr><th id="2773">2773</th><td>  <i>// At this point, we know that everything in FreeInstrBB can be moved</i></td></tr>
<tr><th id="2774">2774</th><td><i>  // before TI.</i></td></tr>
<tr><th id="2775">2775</th><td>  <b>for</b> (<a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="typedef" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock::iterator" title='llvm::BasicBlock::iterator' data-type='InstListType::iterator' data-ref="llvm::BasicBlock::iterator" data-ref-filename="llvm..BasicBlock..iterator">iterator</a> <dfn class="local col4 decl" id="524It" title='It' data-type='BasicBlock::iterator' data-ref="524It" data-ref-filename="524It">It</dfn> = <a class="local col4 ref" href="#514FreeInstrBB" title='FreeInstrBB' data-ref="514FreeInstrBB" data-ref-filename="514FreeInstrBB">FreeInstrBB</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock5beginEv" title='llvm::BasicBlock::begin' data-ref="_ZN4llvm10BasicBlock5beginEv" data-ref-filename="_ZN4llvm10BasicBlock5beginEv">begin</a>(), <dfn class="local col5 decl" id="525End" title='End' data-type='BasicBlock::iterator' data-ref="525End" data-ref-filename="525End">End</dfn> = <a class="local col4 ref" href="#514FreeInstrBB" title='FreeInstrBB' data-ref="514FreeInstrBB" data-ref-filename="514FreeInstrBB">FreeInstrBB</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock3endEv" title='llvm::BasicBlock::end' data-ref="_ZN4llvm10BasicBlock3endEv" data-ref-filename="_ZN4llvm10BasicBlock3endEv">end</a>();</td></tr>
<tr><th id="2776">2776</th><td>       <a class="local col4 ref" href="#524It" title='It' data-ref="524It" data-ref-filename="524It">It</a> <a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_" title='llvm::operator!=' data-ref="_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_" data-ref-filename="_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_">!=</a> <a class="local col5 ref" href="#525End" title='End' data-ref="525End" data-ref-filename="525End">End</a>;) {</td></tr>
<tr><th id="2777">2777</th><td>    <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> &amp;<dfn class="local col6 decl" id="526Instr" title='Instr' data-type='llvm::Instruction &amp;' data-ref="526Instr" data-ref-filename="526Instr">Instr</dfn> = <a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZNK4llvm14ilist_iteratordeEv" title='llvm::ilist_iterator::operator*' data-ref="_ZNK4llvm14ilist_iteratordeEv" data-ref-filename="_ZNK4llvm14ilist_iteratordeEv">*</a><a class="local col4 ref" href="#524It" title='It' data-ref="524It" data-ref-filename="524It">It</a><a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZN4llvm14ilist_iteratorppEi" title='llvm::ilist_iterator::operator++' data-ref="_ZN4llvm14ilist_iteratorppEi" data-ref-filename="_ZN4llvm14ilist_iteratorppEi">++</a>;</td></tr>
<tr><th id="2778">2778</th><td>    <b>if</b> (&amp;<a class="local col6 ref" href="#526Instr" title='Instr' data-ref="526Instr" data-ref-filename="526Instr">Instr</a> == <a class="local col7 ref" href="#517FreeInstrBBTerminator" title='FreeInstrBBTerminator' data-ref="517FreeInstrBBTerminator" data-ref-filename="517FreeInstrBBTerminator">FreeInstrBBTerminator</a>)</td></tr>
<tr><th id="2779">2779</th><td>      <b>break</b>;</td></tr>
<tr><th id="2780">2780</th><td>    <a class="local col6 ref" href="#526Instr" title='Instr' data-ref="526Instr" data-ref-filename="526Instr">Instr</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction10moveBeforeEPS0_" title='llvm::Instruction::moveBefore' data-ref="_ZN4llvm11Instruction10moveBeforeEPS0_" data-ref-filename="_ZN4llvm11Instruction10moveBeforeEPS0_">moveBefore</a>(<a class="local col0 ref" href="#520TI" title='TI' data-ref="520TI" data-ref-filename="520TI">TI</a>);</td></tr>
<tr><th id="2781">2781</th><td>  }</td></tr>
<tr><th id="2782">2782</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(FreeInstrBB-&gt;size() == <var>1</var> &amp;&amp;</td></tr>
<tr><th id="2783">2783</th><td>         <q>"Only the branch instruction should remain"</q>);</td></tr>
<tr><th id="2784">2784</th><td>  <b>return</b> &amp;<a class="local col1 ref" href="#511FI" title='FI' data-ref="511FI" data-ref-filename="511FI">FI</a>;</td></tr>
<tr><th id="2785">2785</th><td>}</td></tr>
<tr><th id="2786">2786</th><td></td></tr>
<tr><th id="2787">2787</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl9visitFreeERNS_8CallInstE" title='llvm::InstCombinerImpl::visitFree' data-ref="_ZN4llvm16InstCombinerImpl9visitFreeERNS_8CallInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl9visitFreeERNS_8CallInstE">visitFree</dfn>(<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::CallInst" title='llvm::CallInst' data-ref="llvm::CallInst" data-ref-filename="llvm..CallInst">CallInst</a> &amp;<dfn class="local col7 decl" id="527FI" title='FI' data-type='llvm::CallInst &amp;' data-ref="527FI" data-ref-filename="527FI">FI</dfn>) {</td></tr>
<tr><th id="2788">2788</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="528Op" title='Op' data-type='llvm::Value *' data-ref="528Op" data-ref-filename="528Op">Op</dfn> = <a class="local col7 ref" href="#527FI" title='FI' data-ref="527FI" data-ref-filename="527FI">FI</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CallBase13getArgOperandEj" title='llvm::CallBase::getArgOperand' data-ref="_ZNK4llvm8CallBase13getArgOperandEj" data-ref-filename="_ZNK4llvm8CallBase13getArgOperandEj">getArgOperand</a>(<var>0</var>);</td></tr>
<tr><th id="2789">2789</th><td></td></tr>
<tr><th id="2790">2790</th><td>  <i>// free undef -&gt; unreachable.</i></td></tr>
<tr><th id="2791">2791</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a>&gt;(<a class="local col8 ref" href="#528Op" title='Op' data-ref="528Op" data-ref-filename="528Op">Op</a>)) {</td></tr>
<tr><th id="2792">2792</th><td>    <i>// Leave a marker since we can't modify the CFG here.</i></td></tr>
<tr><th id="2793">2793</th><td>    <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl30CreateNonTerminatorUnreachableEPNS_11InstructionE" title='llvm::InstCombinerImpl::CreateNonTerminatorUnreachable' data-ref="_ZN4llvm16InstCombinerImpl30CreateNonTerminatorUnreachableEPNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl30CreateNonTerminatorUnreachableEPNS_11InstructionE">CreateNonTerminatorUnreachable</a>(&amp;<a class="local col7 ref" href="#527FI" title='FI' data-ref="527FI" data-ref-filename="527FI">FI</a>);</td></tr>
<tr><th id="2794">2794</th><td>    <b>return</b> <a class="virtual member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" title='llvm::InstCombinerImpl::eraseInstFromFunction' data-ref="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE">eraseInstFromFunction</a>(<span class='refarg'><a class="local col7 ref" href="#527FI" title='FI' data-ref="527FI" data-ref-filename="527FI">FI</a></span>);</td></tr>
<tr><th id="2795">2795</th><td>  }</td></tr>
<tr><th id="2796">2796</th><td></td></tr>
<tr><th id="2797">2797</th><td>  <i>// If we have 'free null' delete the instruction.  This can happen in stl code</i></td></tr>
<tr><th id="2798">2798</th><td><i>  // when lots of inlining happens.</i></td></tr>
<tr><th id="2799">2799</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantPointerNull" title='llvm::ConstantPointerNull' data-ref="llvm::ConstantPointerNull" data-ref-filename="llvm..ConstantPointerNull">ConstantPointerNull</a>&gt;(<a class="local col8 ref" href="#528Op" title='Op' data-ref="528Op" data-ref-filename="528Op">Op</a>))</td></tr>
<tr><th id="2800">2800</th><td>    <b>return</b> <a class="virtual member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" title='llvm::InstCombinerImpl::eraseInstFromFunction' data-ref="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE">eraseInstFromFunction</a>(<span class='refarg'><a class="local col7 ref" href="#527FI" title='FI' data-ref="527FI" data-ref-filename="527FI">FI</a></span>);</td></tr>
<tr><th id="2801">2801</th><td></td></tr>
<tr><th id="2802">2802</th><td>  <i>// If we optimize for code size, try to move the call to free before the null</i></td></tr>
<tr><th id="2803">2803</th><td><i>  // test so that simplify cfg can remove the empty block and dead code</i></td></tr>
<tr><th id="2804">2804</th><td><i>  // elimination the branch. I.e., helps to turn something like:</i></td></tr>
<tr><th id="2805">2805</th><td><i>  // if (foo) free(foo);</i></td></tr>
<tr><th id="2806">2806</th><td><i>  // into</i></td></tr>
<tr><th id="2807">2807</th><td><i>  // free(foo);</i></td></tr>
<tr><th id="2808">2808</th><td><i>  //</i></td></tr>
<tr><th id="2809">2809</th><td><i>  // Note that we can only do this for 'free' and not for any flavor of</i></td></tr>
<tr><th id="2810">2810</th><td><i>  // 'operator delete'; there is no 'operator delete' symbol for which we are</i></td></tr>
<tr><th id="2811">2811</th><td><i>  // permitted to invent a call, even if we're passing in a null pointer.</i></td></tr>
<tr><th id="2812">2812</th><td>  <b>if</b> (<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::MinimizeSize" title='llvm::InstCombiner::MinimizeSize' data-ref="llvm::InstCombiner::MinimizeSize" data-ref-filename="llvm..InstCombiner..MinimizeSize">MinimizeSize</a>) {</td></tr>
<tr><th id="2813">2813</th><td>    <a class="type" href="../../../include/llvm/Analysis/TargetLibraryInfo.h.html#llvm::LibFunc" title='llvm::LibFunc' data-ref="llvm::LibFunc" data-ref-filename="llvm..LibFunc">LibFunc</a> <dfn class="local col9 decl" id="529Func" title='Func' data-type='llvm::LibFunc' data-ref="529Func" data-ref-filename="529Func">Func</dfn>;</td></tr>
<tr><th id="2814">2814</th><td>    <b>if</b> (<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::TLI" title='llvm::InstCombiner::TLI' data-ref="llvm::InstCombiner::TLI" data-ref-filename="llvm..InstCombiner..TLI">TLI</a>.<a class="ref fn" href="../../../include/llvm/Analysis/TargetLibraryInfo.h.html#_ZNK4llvm17TargetLibraryInfo10getLibFuncERKNS_8CallBaseERNS_7LibFuncE" title='llvm::TargetLibraryInfo::getLibFunc' data-ref="_ZNK4llvm17TargetLibraryInfo10getLibFuncERKNS_8CallBaseERNS_7LibFuncE" data-ref-filename="_ZNK4llvm17TargetLibraryInfo10getLibFuncERKNS_8CallBaseERNS_7LibFuncE">getLibFunc</a>(<a class="local col7 ref" href="#527FI" title='FI' data-ref="527FI" data-ref-filename="527FI">FI</a>, <span class='refarg'><a class="local col9 ref" href="#529Func" title='Func' data-ref="529Func" data-ref-filename="529Func">Func</a></span>) &amp;&amp; <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::TLI" title='llvm::InstCombiner::TLI' data-ref="llvm::InstCombiner::TLI" data-ref-filename="llvm..InstCombiner..TLI">TLI</a>.<a class="ref fn" href="../../../include/llvm/Analysis/TargetLibraryInfo.h.html#_ZNK4llvm17TargetLibraryInfo3hasENS_7LibFuncE" title='llvm::TargetLibraryInfo::has' data-ref="_ZNK4llvm17TargetLibraryInfo3hasENS_7LibFuncE" data-ref-filename="_ZNK4llvm17TargetLibraryInfo3hasENS_7LibFuncE">has</a>(<a class="local col9 ref" href="#529Func" title='Func' data-ref="529Func" data-ref-filename="529Func">Func</a>) &amp;&amp; <a class="local col9 ref" href="#529Func" title='Func' data-ref="529Func" data-ref-filename="529Func">Func</a> == <a class="enum" href="../../../include/llvm/Analysis/TargetLibraryInfo.def.html#839" title='llvm::LibFunc_free' data-ref="llvm::LibFunc_free" data-ref-filename="llvm..LibFunc_free">LibFunc_free</a>)</td></tr>
<tr><th id="2815">2815</th><td>      <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col0 decl" id="530I" title='I' data-type='llvm::Instruction *' data-ref="530I" data-ref-filename="530I"><a class="local col0 ref" href="#530I" title='I' data-ref="530I" data-ref-filename="530I">I</a></dfn> = <a class="tu ref fn" href="#_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE" title='tryToMoveFreeBeforeNullTest' data-use='c' data-ref="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE" data-ref-filename="_ZL27tryToMoveFreeBeforeNullTestRN4llvm8CallInstERKNS_10DataLayoutE">tryToMoveFreeBeforeNullTest</a>(<span class='refarg'><a class="local col7 ref" href="#527FI" title='FI' data-ref="527FI" data-ref-filename="527FI">FI</a></span>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>))</td></tr>
<tr><th id="2816">2816</th><td>        <b>return</b> <a class="local col0 ref" href="#530I" title='I' data-ref="530I" data-ref-filename="530I">I</a>;</td></tr>
<tr><th id="2817">2817</th><td>  }</td></tr>
<tr><th id="2818">2818</th><td></td></tr>
<tr><th id="2819">2819</th><td>  <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2820">2820</th><td>}</td></tr>
<tr><th id="2821">2821</th><td></td></tr>
<tr><th id="2822">2822</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL14isMustTailCallPN4llvm5ValueE" title='isMustTailCall' data-type='bool isMustTailCall(llvm::Value * V)' data-ref="_ZL14isMustTailCallPN4llvm5ValueE" data-ref-filename="_ZL14isMustTailCallPN4llvm5ValueE">isMustTailCall</dfn>(<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="531V" title='V' data-type='llvm::Value *' data-ref="531V" data-ref-filename="531V">V</dfn>) {</td></tr>
<tr><th id="2823">2823</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col2 decl" id="532CI" title='CI' data-type='llvm::CallInst *' data-ref="532CI" data-ref-filename="532CI"><a class="local col2 ref" href="#532CI" title='CI' data-ref="532CI" data-ref-filename="532CI">CI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::CallInst" title='llvm::CallInst' data-ref="llvm::CallInst" data-ref-filename="llvm..CallInst">CallInst</a>&gt;(<a class="local col1 ref" href="#531V" title='V' data-ref="531V" data-ref-filename="531V">V</a>))</td></tr>
<tr><th id="2824">2824</th><td>    <b>return</b> <a class="local col2 ref" href="#532CI" title='CI' data-ref="532CI" data-ref-filename="532CI">CI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm8CallInst14isMustTailCallEv" title='llvm::CallInst::isMustTailCall' data-ref="_ZNK4llvm8CallInst14isMustTailCallEv" data-ref-filename="_ZNK4llvm8CallInst14isMustTailCallEv">isMustTailCall</a>();</td></tr>
<tr><th id="2825">2825</th><td>  <b>return</b> <b>false</b>;</td></tr>
<tr><th id="2826">2826</th><td>}</td></tr>
<tr><th id="2827">2827</th><td></td></tr>
<tr><th id="2828">2828</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl15visitReturnInstERNS_10ReturnInstE" title='llvm::InstCombinerImpl::visitReturnInst' data-ref="_ZN4llvm16InstCombinerImpl15visitReturnInstERNS_10ReturnInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl15visitReturnInstERNS_10ReturnInstE">visitReturnInst</dfn>(<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ReturnInst" title='llvm::ReturnInst' data-ref="llvm::ReturnInst" data-ref-filename="llvm..ReturnInst">ReturnInst</a> &amp;<dfn class="local col3 decl" id="533RI" title='RI' data-type='llvm::ReturnInst &amp;' data-ref="533RI" data-ref-filename="533RI">RI</dfn>) {</td></tr>
<tr><th id="2829">2829</th><td>  <b>if</b> (<a class="local col3 ref" href="#533RI" title='RI' data-ref="533RI" data-ref-filename="533RI">RI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#2975" title='llvm::ReturnInst::getNumOperands' data-ref="_ZNK4llvm10ReturnInst14getNumOperandsEv" data-ref-filename="_ZNK4llvm10ReturnInst14getNumOperandsEv">getNumOperands</a>() == <var>0</var>) <i>// ret void</i></td></tr>
<tr><th id="2830">2830</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2831">2831</th><td></td></tr>
<tr><th id="2832">2832</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="534ResultOp" title='ResultOp' data-type='llvm::Value *' data-ref="534ResultOp" data-ref-filename="534ResultOp">ResultOp</dfn> = <a class="local col3 ref" href="#533RI" title='RI' data-ref="533RI" data-ref-filename="533RI">RI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#2975" title='llvm::ReturnInst::getOperand' data-ref="_ZNK4llvm10ReturnInst10getOperandEj" data-ref-filename="_ZNK4llvm10ReturnInst10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="2833">2833</th><td>  <a class="type" href="../../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col5 decl" id="535VTy" title='VTy' data-type='llvm::Type *' data-ref="535VTy" data-ref-filename="535VTy">VTy</dfn> = <a class="local col4 ref" href="#534ResultOp" title='ResultOp' data-ref="534ResultOp" data-ref-filename="534ResultOp">ResultOp</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>();</td></tr>
<tr><th id="2834">2834</th><td>  <b>if</b> (!<a class="local col5 ref" href="#535VTy" title='VTy' data-ref="535VTy" data-ref-filename="535VTy">VTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type11isIntegerTyEv" title='llvm::Type::isIntegerTy' data-ref="_ZNK4llvm4Type11isIntegerTyEv" data-ref-filename="_ZNK4llvm4Type11isIntegerTyEv">isIntegerTy</a>() || <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col4 ref" href="#534ResultOp" title='ResultOp' data-ref="534ResultOp" data-ref-filename="534ResultOp">ResultOp</a>))</td></tr>
<tr><th id="2835">2835</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2836">2836</th><td></td></tr>
<tr><th id="2837">2837</th><td>  <i>// Don't replace result of musttail calls.</i></td></tr>
<tr><th id="2838">2838</th><td>  <b>if</b> (<a class="tu ref fn" href="#_ZL14isMustTailCallPN4llvm5ValueE" title='isMustTailCall' data-use='c' data-ref="_ZL14isMustTailCallPN4llvm5ValueE" data-ref-filename="_ZL14isMustTailCallPN4llvm5ValueE">isMustTailCall</a>(<a class="local col4 ref" href="#534ResultOp" title='ResultOp' data-ref="534ResultOp" data-ref-filename="534ResultOp">ResultOp</a>))</td></tr>
<tr><th id="2839">2839</th><td>    <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2840">2840</th><td></td></tr>
<tr><th id="2841">2841</th><td>  <i>// There might be assume intrinsics dominating this return that completely</i></td></tr>
<tr><th id="2842">2842</th><td><i>  // determine the value. If so, constant fold it.</i></td></tr>
<tr><th id="2843">2843</th><td>  <a class="type" href="../../../include/llvm/Support/KnownBits.h.html#llvm::KnownBits" title='llvm::KnownBits' data-ref="llvm::KnownBits" data-ref-filename="llvm..KnownBits">KnownBits</a> <dfn class="local col6 decl" id="536Known" title='Known' data-type='llvm::KnownBits' data-ref="536Known" data-ref-filename="536Known">Known</dfn> = <a class="member fn" href="InstCombineInternal.h.html#_ZNK4llvm16InstCombinerImpl16computeKnownBitsEPKNS_5ValueEjPKNS_11InstructionE" title='llvm::InstCombinerImpl::computeKnownBits' data-ref="_ZNK4llvm16InstCombinerImpl16computeKnownBitsEPKNS_5ValueEjPKNS_11InstructionE" data-ref-filename="_ZNK4llvm16InstCombinerImpl16computeKnownBitsEPKNS_5ValueEjPKNS_11InstructionE">computeKnownBits</a>(<a class="local col4 ref" href="#534ResultOp" title='ResultOp' data-ref="534ResultOp" data-ref-filename="534ResultOp">ResultOp</a>, <var>0</var>, &amp;<a class="local col3 ref" href="#533RI" title='RI' data-ref="533RI" data-ref-filename="533RI">RI</a>);</td></tr>
<tr><th id="2844">2844</th><td>  <b>if</b> (<a class="local col6 ref" href="#536Known" title='Known' data-ref="536Known" data-ref-filename="536Known">Known</a>.<a class="ref fn" href="../../../include/llvm/Support/KnownBits.h.html#_ZNK4llvm9KnownBits10isConstantEv" title='llvm::KnownBits::isConstant' data-ref="_ZNK4llvm9KnownBits10isConstantEv" data-ref-filename="_ZNK4llvm9KnownBits10isConstantEv">isConstant</a>())</td></tr>
<tr><th id="2845">2845</th><td>    <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col3 ref" href="#533RI" title='RI' data-ref="533RI" data-ref-filename="533RI">RI</a></span>, <var>0</var>,</td></tr>
<tr><th id="2846">2846</th><td>        <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>::<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZN4llvm8Constant15getIntegerValueEPNS_4TypeERKNS_5APIntE" title='llvm::Constant::getIntegerValue' data-ref="_ZN4llvm8Constant15getIntegerValueEPNS_4TypeERKNS_5APIntE" data-ref-filename="_ZN4llvm8Constant15getIntegerValueEPNS_4TypeERKNS_5APIntE">getIntegerValue</a>(<a class="local col5 ref" href="#535VTy" title='VTy' data-ref="535VTy" data-ref-filename="535VTy">VTy</a>, <a class="local col6 ref" href="#536Known" title='Known' data-ref="536Known" data-ref-filename="536Known">Known</a>.<a class="ref fn" href="../../../include/llvm/Support/KnownBits.h.html#_ZNK4llvm9KnownBits11getConstantEv" title='llvm::KnownBits::getConstant' data-ref="_ZNK4llvm9KnownBits11getConstantEv" data-ref-filename="_ZNK4llvm9KnownBits11getConstantEv">getConstant</a>()));</td></tr>
<tr><th id="2847">2847</th><td></td></tr>
<tr><th id="2848">2848</th><td>  <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2849">2849</th><td>}</td></tr>
<tr><th id="2850">2850</th><td></td></tr>
<tr><th id="2851">2851</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl20visitUnreachableInstERNS_15UnreachableInstE" title='llvm::InstCombinerImpl::visitUnreachableInst' data-ref="_ZN4llvm16InstCombinerImpl20visitUnreachableInstERNS_15UnreachableInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl20visitUnreachableInstERNS_15UnreachableInstE">visitUnreachableInst</dfn>(<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::UnreachableInst" title='llvm::UnreachableInst' data-ref="llvm::UnreachableInst" data-ref-filename="llvm..UnreachableInst">UnreachableInst</a> &amp;<dfn class="local col7 decl" id="537I" title='I' data-type='llvm::UnreachableInst &amp;' data-ref="537I" data-ref-filename="537I">I</dfn>) {</td></tr>
<tr><th id="2852">2852</th><td>  <i>// Try to remove the previous instruction if it must lead to unreachable.</i></td></tr>
<tr><th id="2853">2853</th><td><i>  // This includes instructions like stores and "llvm.assume" that may not get</i></td></tr>
<tr><th id="2854">2854</th><td><i>  // removed by simple dead code elimination.</i></td></tr>
<tr><th id="2855">2855</th><td>  <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col8 decl" id="538Prev" title='Prev' data-type='llvm::Instruction *' data-ref="538Prev" data-ref-filename="538Prev">Prev</dfn> = <a class="local col7 ref" href="#537I" title='I' data-ref="537I" data-ref-filename="537I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction26getPrevNonDebugInstructionEb" title='llvm::Instruction::getPrevNonDebugInstruction' data-ref="_ZN4llvm11Instruction26getPrevNonDebugInstructionEb" data-ref-filename="_ZN4llvm11Instruction26getPrevNonDebugInstructionEb">getPrevNonDebugInstruction</a>();</td></tr>
<tr><th id="2856">2856</th><td>  <b>if</b> (<a class="local col8 ref" href="#538Prev" title='Prev' data-ref="538Prev" data-ref-filename="538Prev">Prev</a> &amp;&amp; !<a class="local col8 ref" href="#538Prev" title='Prev' data-ref="538Prev" data-ref-filename="538Prev">Prev</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction7isEHPadEv" title='llvm::Instruction::isEHPad' data-ref="_ZNK4llvm11Instruction7isEHPadEv" data-ref-filename="_ZNK4llvm11Instruction7isEHPadEv">isEHPad</a>() &amp;&amp;</td></tr>
<tr><th id="2857">2857</th><td>      <a class="ref fn" href="../../../include/llvm/Analysis/ValueTracking.h.html#_ZN4llvm42isGuaranteedToTransferExecutionToSuccessorEPKNS_11InstructionE" title='llvm::isGuaranteedToTransferExecutionToSuccessor' data-ref="_ZN4llvm42isGuaranteedToTransferExecutionToSuccessorEPKNS_11InstructionE" data-ref-filename="_ZN4llvm42isGuaranteedToTransferExecutionToSuccessorEPKNS_11InstructionE">isGuaranteedToTransferExecutionToSuccessor</a>(<a class="local col8 ref" href="#538Prev" title='Prev' data-ref="538Prev" data-ref-filename="538Prev">Prev</a>)) {</td></tr>
<tr><th id="2858">2858</th><td>    <i>// Temporarily disable removal of volatile stores preceding unreachable,</i></td></tr>
<tr><th id="2859">2859</th><td><i>    // pending a potential LangRef change permitting volatile stores to trap.</i></td></tr>
<tr><th id="2860">2860</th><td><i>    // TODO: Either remove this code, or properly integrate the check into</i></td></tr>
<tr><th id="2861">2861</th><td><i>    // isGuaranteedToTransferExecutionToSuccessor().</i></td></tr>
<tr><th id="2862">2862</th><td>    <b>if</b> (<em>auto</em> *<dfn class="local col9 decl" id="539SI" title='SI' data-type='llvm::StoreInst *' data-ref="539SI" data-ref-filename="539SI"><a class="local col9 ref" href="#539SI" title='SI' data-ref="539SI" data-ref-filename="539SI">SI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a>&gt;(<a class="local col8 ref" href="#538Prev" title='Prev' data-ref="538Prev" data-ref-filename="538Prev">Prev</a>))</td></tr>
<tr><th id="2863">2863</th><td>      <b>if</b> (<a class="local col9 ref" href="#539SI" title='SI' data-ref="539SI" data-ref-filename="539SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm9StoreInst10isVolatileEv" title='llvm::StoreInst::isVolatile' data-ref="_ZNK4llvm9StoreInst10isVolatileEv" data-ref-filename="_ZNK4llvm9StoreInst10isVolatileEv">isVolatile</a>())</td></tr>
<tr><th id="2864">2864</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2865">2865</th><td></td></tr>
<tr><th id="2866">2866</th><td>    <i>// A value may still have uses before we process it here (for example, in</i></td></tr>
<tr><th id="2867">2867</th><td><i>    // another unreachable block), so convert those to undef.</i></td></tr>
<tr><th id="2868">2868</th><td>    <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'>*<a class="local col8 ref" href="#538Prev" title='Prev' data-ref="538Prev" data-ref-filename="538Prev">Prev</a></span>, <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm10UndefValue3getEPNS_4TypeE" title='llvm::UndefValue::get' data-ref="_ZN4llvm10UndefValue3getEPNS_4TypeE" data-ref-filename="_ZN4llvm10UndefValue3getEPNS_4TypeE">get</a>(<a class="local col8 ref" href="#538Prev" title='Prev' data-ref="538Prev" data-ref-filename="538Prev">Prev</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()));</td></tr>
<tr><th id="2869">2869</th><td>    <a class="virtual member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" title='llvm::InstCombinerImpl::eraseInstFromFunction' data-ref="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE">eraseInstFromFunction</a>(<span class='refarg'>*<a class="local col8 ref" href="#538Prev" title='Prev' data-ref="538Prev" data-ref-filename="538Prev">Prev</a></span>);</td></tr>
<tr><th id="2870">2870</th><td>    <b>return</b> &amp;<a class="local col7 ref" href="#537I" title='I' data-ref="537I" data-ref-filename="537I">I</a>;</td></tr>
<tr><th id="2871">2871</th><td>  }</td></tr>
<tr><th id="2872">2872</th><td>  <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2873">2873</th><td>}</td></tr>
<tr><th id="2874">2874</th><td></td></tr>
<tr><th id="2875">2875</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl28visitUnconditionalBranchInstERNS_10BranchInstE" title='llvm::InstCombinerImpl::visitUnconditionalBranchInst' data-ref="_ZN4llvm16InstCombinerImpl28visitUnconditionalBranchInstERNS_10BranchInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl28visitUnconditionalBranchInstERNS_10BranchInstE">visitUnconditionalBranchInst</dfn>(<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::BranchInst" title='llvm::BranchInst' data-ref="llvm::BranchInst" data-ref-filename="llvm..BranchInst">BranchInst</a> &amp;<dfn class="local col0 decl" id="540BI" title='BI' data-type='llvm::BranchInst &amp;' data-ref="540BI" data-ref-filename="540BI">BI</dfn>) {</td></tr>
<tr><th id="2876">2876</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(BI.isUnconditional() &amp;&amp; <q>"Only for unconditional branches."</q>);</td></tr>
<tr><th id="2877">2877</th><td></td></tr>
<tr><th id="2878">2878</th><td>  <i>// If this store is the second-to-last instruction in the basic block</i></td></tr>
<tr><th id="2879">2879</th><td><i>  // (excluding debug info and bitcasts of pointers) and if the block ends with</i></td></tr>
<tr><th id="2880">2880</th><td><i>  // an unconditional branch, try to move the store to the successor block.</i></td></tr>
<tr><th id="2881">2881</th><td></td></tr>
<tr><th id="2882">2882</th><td>  <em>auto</em> <dfn class="local col1 decl" id="541GetLastSinkableStore" title='GetLastSinkableStore' data-type='(lambda at /fast/tmp/llvm-proj-12/llvm/lib/Transforms/InstCombine/InstructionCombining.cpp:2882:31)' data-ref="541GetLastSinkableStore" data-ref-filename="541GetLastSinkableStore">GetLastSinkableStore</dfn> = [](<a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="typedef" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock::iterator" title='llvm::BasicBlock::iterator' data-type='InstListType::iterator' data-ref="llvm::BasicBlock::iterator" data-ref-filename="llvm..BasicBlock..iterator">iterator</a> <dfn class="local col2 decl" id="542BBI" title='BBI' data-type='BasicBlock::iterator' data-ref="542BBI" data-ref-filename="542BBI">BBI</dfn>) {</td></tr>
<tr><th id="2883">2883</th><td>    <em>auto</em> <dfn class="local col3 decl" id="543IsNoopInstrForStoreMerging" title='IsNoopInstrForStoreMerging' data-type='(lambda at /fast/tmp/llvm-proj-12/llvm/lib/Transforms/InstCombine/InstructionCombining.cpp:2883:39)' data-ref="543IsNoopInstrForStoreMerging" data-ref-filename="543IsNoopInstrForStoreMerging">IsNoopInstrForStoreMerging</dfn> = [](<a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="typedef" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock::iterator" title='llvm::BasicBlock::iterator' data-type='InstListType::iterator' data-ref="llvm::BasicBlock::iterator" data-ref-filename="llvm..BasicBlock..iterator">iterator</a> <dfn class="local col4 decl" id="544BBI" title='BBI' data-type='BasicBlock::iterator' data-ref="544BBI" data-ref-filename="544BBI">BBI</dfn>) {</td></tr>
<tr><th id="2884">2884</th><td>      <b>return</b> <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::DbgInfoIntrinsic" title='llvm::DbgInfoIntrinsic' data-ref="llvm::DbgInfoIntrinsic" data-ref-filename="llvm..DbgInfoIntrinsic">DbgInfoIntrinsic</a>&gt;(<a class="local col4 ref" href="#544BBI" title='BBI' data-ref="544BBI" data-ref-filename="544BBI">BBI</a>) ||</td></tr>
<tr><th id="2885">2885</th><td>             (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::BitCastInst" title='llvm::BitCastInst' data-ref="llvm::BitCastInst" data-ref-filename="llvm..BitCastInst">BitCastInst</a>&gt;(<a class="local col4 ref" href="#544BBI" title='BBI' data-ref="544BBI" data-ref-filename="544BBI">BBI</a>) &amp;&amp; <a class="local col4 ref" href="#544BBI" title='BBI' data-ref="544BBI" data-ref-filename="544BBI">BBI</a><a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZNK4llvm14ilist_iteratorptEv" title='llvm::ilist_iterator::operator-&gt;' data-ref="_ZNK4llvm14ilist_iteratorptEv" data-ref-filename="_ZNK4llvm14ilist_iteratorptEv">-&gt;</a><a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type11isPointerTyEv" title='llvm::Type::isPointerTy' data-ref="_ZNK4llvm4Type11isPointerTyEv" data-ref-filename="_ZNK4llvm4Type11isPointerTyEv">isPointerTy</a>());</td></tr>
<tr><th id="2886">2886</th><td>    };</td></tr>
<tr><th id="2887">2887</th><td></td></tr>
<tr><th id="2888">2888</th><td>    <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="typedef" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock::iterator" title='llvm::BasicBlock::iterator' data-type='InstListType::iterator' data-ref="llvm::BasicBlock::iterator" data-ref-filename="llvm..BasicBlock..iterator">iterator</a> <dfn class="local col5 decl" id="545FirstInstr" title='FirstInstr' data-type='BasicBlock::iterator' data-ref="545FirstInstr" data-ref-filename="545FirstInstr">FirstInstr</dfn> = <a class="local col2 ref" href="#542BBI" title='BBI' data-ref="542BBI" data-ref-filename="542BBI">BBI</a><a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZNK4llvm14ilist_iteratorptEv" title='llvm::ilist_iterator::operator-&gt;' data-ref="_ZNK4llvm14ilist_iteratorptEv" data-ref-filename="_ZNK4llvm14ilist_iteratorptEv">-&gt;</a><a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock5beginEv" title='llvm::BasicBlock::begin' data-ref="_ZN4llvm10BasicBlock5beginEv" data-ref-filename="_ZN4llvm10BasicBlock5beginEv">begin</a>();</td></tr>
<tr><th id="2889">2889</th><td>    <b>do</b> {</td></tr>
<tr><th id="2890">2890</th><td>      <b>if</b> (<a class="local col2 ref" href="#542BBI" title='BBI' data-ref="542BBI" data-ref-filename="542BBI">BBI</a> <a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_" title='llvm::operator!=' data-ref="_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_" data-ref-filename="_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_">!=</a> <a class="local col5 ref" href="#545FirstInstr" title='FirstInstr' data-ref="545FirstInstr" data-ref-filename="545FirstInstr">FirstInstr</a>)</td></tr>
<tr><th id="2891">2891</th><td>        <a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZN4llvm14ilist_iteratormmEv" title='llvm::ilist_iterator::operator--' data-ref="_ZN4llvm14ilist_iteratormmEv" data-ref-filename="_ZN4llvm14ilist_iteratormmEv">--</a><a class="local col2 ref" href="#542BBI" title='BBI' data-ref="542BBI" data-ref-filename="542BBI">BBI</a>;</td></tr>
<tr><th id="2892">2892</th><td>    } <b>while</b> (<a class="local col2 ref" href="#542BBI" title='BBI' data-ref="542BBI" data-ref-filename="542BBI">BBI</a> <a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_" title='llvm::operator!=' data-ref="_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_" data-ref-filename="_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_">!=</a> <a class="local col5 ref" href="#545FirstInstr" title='FirstInstr' data-ref="545FirstInstr" data-ref-filename="545FirstInstr">FirstInstr</a> &amp;&amp; <a class="local col3 ref" href="#543IsNoopInstrForStoreMerging" title='IsNoopInstrForStoreMerging' data-ref="543IsNoopInstrForStoreMerging" data-ref-filename="543IsNoopInstrForStoreMerging">IsNoopInstrForStoreMerging</a><a class="tu ref fn" href="#_ZZZN4llvm16InstCombinerImpl28visitUnconditionalBranchInstERNS_10BranchInstEENK3$_3clENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11Instruc2191902" title='llvm::InstCombinerImpl::visitUnconditionalBranchInst(llvm::BranchInst &amp;)::(anonymous class)::operator()(BasicBlock::iterator)::(anonymous class)::operator()' data-use='c' data-ref="_ZZZN4llvm16InstCombinerImpl28visitUnconditionalBranchInstERNS_10BranchInstEENK3$_3clENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11Instruc2191902" data-ref-filename="_ZZZN4llvm16InstCombinerImpl28visitUnconditionalBranchInstERNS_10BranchInstEENK3$_3clENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11Instruc2191902">(<a class="ref fn fake" href="../../../include/llvm/ADT/ilist_iterator.h.html#57" title='llvm::ilist_iterator&lt;llvm::ilist_detail::node_options&lt;llvm::Instruction, false, false, void&gt;, false, false&gt;::ilist_iterator' data-ref="_ZN4llvm14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEC1ERKS5_" data-ref-filename="_ZN4llvm14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEC1ERKS5_"></a><a class="local col2 ref" href="#542BBI" title='BBI' data-ref="542BBI" data-ref-filename="542BBI">BBI</a>)</a>);</td></tr>
<tr><th id="2893">2893</th><td></td></tr>
<tr><th id="2894">2894</th><td>    <b>return</b> <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castERT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castERT0_" data-ref-filename="_ZN4llvm8dyn_castERT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a>&gt;(<span class='refarg'><a class="local col2 ref" href="#542BBI" title='BBI' data-ref="542BBI" data-ref-filename="542BBI">BBI</a></span>);</td></tr>
<tr><th id="2895">2895</th><td>  };</td></tr>
<tr><th id="2896">2896</th><td></td></tr>
<tr><th id="2897">2897</th><td>  <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a> *<dfn class="local col6 decl" id="546SI" title='SI' data-type='llvm::StoreInst *' data-ref="546SI" data-ref-filename="546SI"><a class="local col6 ref" href="#546SI" title='SI' data-ref="546SI" data-ref-filename="546SI">SI</a></dfn> = <a class="local col1 ref" href="#541GetLastSinkableStore" title='GetLastSinkableStore' data-ref="541GetLastSinkableStore" data-ref-filename="541GetLastSinkableStore">GetLastSinkableStore</a><a class="tu ref fn" href="#_ZZN4llvm16InstCombinerImpl28visitUnconditionalBranchInstERNS_10BranchInstEENK3$_3clENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11Instruct3814179" title='llvm::InstCombinerImpl::visitUnconditionalBranchInst(llvm::BranchInst &amp;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN4llvm16InstCombinerImpl28visitUnconditionalBranchInstERNS_10BranchInstEENK3$_3clENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11Instruct3814179" data-ref-filename="_ZZN4llvm16InstCombinerImpl28visitUnconditionalBranchInstERNS_10BranchInstEENK3$_3clENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11Instruct3814179">(<a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="typedef" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock::iterator" title='llvm::BasicBlock::iterator' data-type='InstListType::iterator' data-ref="llvm::BasicBlock::iterator" data-ref-filename="llvm..BasicBlock..iterator">iterator</a><a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZN4llvm14ilist_iteratorC1ENS_12ilist_detail14IteratorTraitsIT_XT1_EE9referenceE" title='llvm::ilist_iterator::ilist_iterator&lt;OptionsT, IsReverse, IsConst&gt;' data-ref="_ZN4llvm14ilist_iteratorC1ENS_12ilist_detail14IteratorTraitsIT_XT1_EE9referenceE" data-ref-filename="_ZN4llvm14ilist_iteratorC1ENS_12ilist_detail14IteratorTraitsIT_XT1_EE9referenceE">(</a><a class="local col0 ref" href="#540BI" title='BI' data-ref="540BI" data-ref-filename="540BI">BI</a>))</a>)</td></tr>
<tr><th id="2898">2898</th><td>    <b>if</b> (<a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl23mergeStoreIntoSuccessorERNS_9StoreInstE" title='llvm::InstCombinerImpl::mergeStoreIntoSuccessor' data-ref="_ZN4llvm16InstCombinerImpl23mergeStoreIntoSuccessorERNS_9StoreInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl23mergeStoreIntoSuccessorERNS_9StoreInstE">mergeStoreIntoSuccessor</a>(<span class='refarg'>*<a class="local col6 ref" href="#546SI" title='SI' data-ref="546SI" data-ref-filename="546SI">SI</a></span>))</td></tr>
<tr><th id="2899">2899</th><td>      <b>return</b> &amp;<a class="local col0 ref" href="#540BI" title='BI' data-ref="540BI" data-ref-filename="540BI">BI</a>;</td></tr>
<tr><th id="2900">2900</th><td></td></tr>
<tr><th id="2901">2901</th><td>  <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2902">2902</th><td>}</td></tr>
<tr><th id="2903">2903</th><td></td></tr>
<tr><th id="2904">2904</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl15visitBranchInstERNS_10BranchInstE" title='llvm::InstCombinerImpl::visitBranchInst' data-ref="_ZN4llvm16InstCombinerImpl15visitBranchInstERNS_10BranchInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl15visitBranchInstERNS_10BranchInstE">visitBranchInst</dfn>(<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::BranchInst" title='llvm::BranchInst' data-ref="llvm::BranchInst" data-ref-filename="llvm..BranchInst">BranchInst</a> &amp;<dfn class="local col7 decl" id="547BI" title='BI' data-type='llvm::BranchInst &amp;' data-ref="547BI" data-ref-filename="547BI">BI</dfn>) {</td></tr>
<tr><th id="2905">2905</th><td>  <b>if</b> (<a class="local col7 ref" href="#547BI" title='BI' data-ref="547BI" data-ref-filename="547BI">BI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10BranchInst15isUnconditionalEv" title='llvm::BranchInst::isUnconditional' data-ref="_ZNK4llvm10BranchInst15isUnconditionalEv" data-ref-filename="_ZNK4llvm10BranchInst15isUnconditionalEv">isUnconditional</a>())</td></tr>
<tr><th id="2906">2906</th><td>    <b>return</b> <a class="member fn" href="#_ZN4llvm16InstCombinerImpl28visitUnconditionalBranchInstERNS_10BranchInstE" title='llvm::InstCombinerImpl::visitUnconditionalBranchInst' data-ref="_ZN4llvm16InstCombinerImpl28visitUnconditionalBranchInstERNS_10BranchInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl28visitUnconditionalBranchInstERNS_10BranchInstE">visitUnconditionalBranchInst</a>(<span class='refarg'><a class="local col7 ref" href="#547BI" title='BI' data-ref="547BI" data-ref-filename="547BI">BI</a></span>);</td></tr>
<tr><th id="2907">2907</th><td></td></tr>
<tr><th id="2908">2908</th><td>  <i>// Change br (not X), label True, label False to: br X, label False, True</i></td></tr>
<tr><th id="2909">2909</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="548X" title='X' data-type='llvm::Value *' data-ref="548X" data-ref-filename="548X">X</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="2910">2910</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(&amp;<a class="local col7 ref" href="#547BI" title='BI' data-ref="547BI" data-ref-filename="547BI">BI</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch4m_BrERKT_RKT0_RKT1_" title='llvm::PatternMatch::m_Br' data-ref="_ZN4llvm12PatternMatch4m_BrERKT_RKT0_RKT1_" data-ref-filename="_ZN4llvm12PatternMatch4m_BrERKT_RKT0_RKT1_">m_Br</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5m_NotERKT_" title='llvm::PatternMatch::m_Not' data-ref="_ZN4llvm12PatternMatch5m_NotERKT_" data-ref-filename="_ZN4llvm12PatternMatch5m_NotERKT_">m_Not</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col8 ref" href="#548X" title='X' data-ref="548X" data-ref-filename="548X">X</a></span>)), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch12m_BasicBlockEv" title='llvm::PatternMatch::m_BasicBlock' data-ref="_ZN4llvm12PatternMatch12m_BasicBlockEv" data-ref-filename="_ZN4llvm12PatternMatch12m_BasicBlockEv">m_BasicBlock</a>(), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch12m_BasicBlockEv" title='llvm::PatternMatch::m_BasicBlock' data-ref="_ZN4llvm12PatternMatch12m_BasicBlockEv" data-ref-filename="_ZN4llvm12PatternMatch12m_BasicBlockEv">m_BasicBlock</a>())) &amp;&amp;</td></tr>
<tr><th id="2911">2911</th><td>      !<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col8 ref" href="#548X" title='X' data-ref="548X" data-ref-filename="548X">X</a>)) {</td></tr>
<tr><th id="2912">2912</th><td>    <i>// Swap Destinations and condition...</i></td></tr>
<tr><th id="2913">2913</th><td>    <a class="local col7 ref" href="#547BI" title='BI' data-ref="547BI" data-ref-filename="547BI">BI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10BranchInst14swapSuccessorsEv" title='llvm::BranchInst::swapSuccessors' data-ref="_ZN4llvm10BranchInst14swapSuccessorsEv" data-ref-filename="_ZN4llvm10BranchInst14swapSuccessorsEv">swapSuccessors</a>();</td></tr>
<tr><th id="2914">2914</th><td>    <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col7 ref" href="#547BI" title='BI' data-ref="547BI" data-ref-filename="547BI">BI</a></span>, <var>0</var>, <a class="local col8 ref" href="#548X" title='X' data-ref="548X" data-ref-filename="548X">X</a>);</td></tr>
<tr><th id="2915">2915</th><td>  }</td></tr>
<tr><th id="2916">2916</th><td></td></tr>
<tr><th id="2917">2917</th><td>  <i>// If the condition is irrelevant, remove the use so that other</i></td></tr>
<tr><th id="2918">2918</th><td><i>  // transforms on the condition become more effective.</i></td></tr>
<tr><th id="2919">2919</th><td>  <b>if</b> (!<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col7 ref" href="#547BI" title='BI' data-ref="547BI" data-ref-filename="547BI">BI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10BranchInst12getConditionEv" title='llvm::BranchInst::getCondition' data-ref="_ZNK4llvm10BranchInst12getConditionEv" data-ref-filename="_ZNK4llvm10BranchInst12getConditionEv">getCondition</a>()) &amp;&amp;</td></tr>
<tr><th id="2920">2920</th><td>      <a class="local col7 ref" href="#547BI" title='BI' data-ref="547BI" data-ref-filename="547BI">BI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10BranchInst12getSuccessorEj" title='llvm::BranchInst::getSuccessor' data-ref="_ZNK4llvm10BranchInst12getSuccessorEj" data-ref-filename="_ZNK4llvm10BranchInst12getSuccessorEj">getSuccessor</a>(<var>0</var>) == <a class="local col7 ref" href="#547BI" title='BI' data-ref="547BI" data-ref-filename="547BI">BI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10BranchInst12getSuccessorEj" title='llvm::BranchInst::getSuccessor' data-ref="_ZNK4llvm10BranchInst12getSuccessorEj" data-ref-filename="_ZNK4llvm10BranchInst12getSuccessorEj">getSuccessor</a>(<var>1</var>))</td></tr>
<tr><th id="2921">2921</th><td>    <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(</td></tr>
<tr><th id="2922">2922</th><td>        <span class='refarg'><a class="local col7 ref" href="#547BI" title='BI' data-ref="547BI" data-ref-filename="547BI">BI</a></span>, <var>0</var>, <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt8getFalseEPNS_4TypeE" title='llvm::ConstantInt::getFalse' data-ref="_ZN4llvm11ConstantInt8getFalseEPNS_4TypeE" data-ref-filename="_ZN4llvm11ConstantInt8getFalseEPNS_4TypeE">getFalse</a>(<a class="local col7 ref" href="#547BI" title='BI' data-ref="547BI" data-ref-filename="547BI">BI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10BranchInst12getConditionEv" title='llvm::BranchInst::getCondition' data-ref="_ZNK4llvm10BranchInst12getConditionEv" data-ref-filename="_ZNK4llvm10BranchInst12getConditionEv">getCondition</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()));</td></tr>
<tr><th id="2923">2923</th><td></td></tr>
<tr><th id="2924">2924</th><td>  <i>// Canonicalize, for example, fcmp_one -&gt; fcmp_oeq.</i></td></tr>
<tr><th id="2925">2925</th><td>  <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CmpInst" title='llvm::CmpInst' data-ref="llvm::CmpInst" data-ref-filename="llvm..CmpInst">CmpInst</a>::<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CmpInst::Predicate" title='llvm::CmpInst::Predicate' data-ref="llvm::CmpInst::Predicate" data-ref-filename="llvm..CmpInst..Predicate">Predicate</a> <dfn class="local col9 decl" id="549Pred" title='Pred' data-type='CmpInst::Predicate' data-ref="549Pred" data-ref-filename="549Pred">Pred</dfn>;</td></tr>
<tr><th id="2926">2926</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(&amp;<a class="local col7 ref" href="#547BI" title='BI' data-ref="547BI" data-ref-filename="547BI">BI</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch4m_BrERKT_RKT0_RKT1_" title='llvm::PatternMatch::m_Br' data-ref="_ZN4llvm12PatternMatch4m_BrERKT_RKT0_RKT1_" data-ref-filename="_ZN4llvm12PatternMatch4m_BrERKT_RKT0_RKT1_">m_Br</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch8m_OneUseERKT_" title='llvm::PatternMatch::m_OneUse' data-ref="_ZN4llvm12PatternMatch8m_OneUseERKT_" data-ref-filename="_ZN4llvm12PatternMatch8m_OneUseERKT_">m_OneUse</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch6m_FCmpERNS_7CmpInst9PredicateERKT_RKT0_" title='llvm::PatternMatch::m_FCmp' data-ref="_ZN4llvm12PatternMatch6m_FCmpERNS_7CmpInst9PredicateERKT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch6m_FCmpERNS_7CmpInst9PredicateERKT_RKT0_">m_FCmp</a>(<span class='refarg'><a class="local col9 ref" href="#549Pred" title='Pred' data-ref="549Pred" data-ref-filename="549Pred">Pred</a></span>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueEv" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueEv" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueEv">m_Value</a>(), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueEv" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueEv" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueEv">m_Value</a>())),</td></tr>
<tr><th id="2927">2927</th><td>                      <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch12m_BasicBlockEv" title='llvm::PatternMatch::m_BasicBlock' data-ref="_ZN4llvm12PatternMatch12m_BasicBlockEv" data-ref-filename="_ZN4llvm12PatternMatch12m_BasicBlockEv">m_BasicBlock</a>(), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch12m_BasicBlockEv" title='llvm::PatternMatch::m_BasicBlock' data-ref="_ZN4llvm12PatternMatch12m_BasicBlockEv" data-ref-filename="_ZN4llvm12PatternMatch12m_BasicBlockEv">m_BasicBlock</a>())) &amp;&amp;</td></tr>
<tr><th id="2928">2928</th><td>      !<a class="member fn" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#_ZN4llvm12InstCombiner20isCanonicalPredicateENS_7CmpInst9PredicateE" title='llvm::InstCombiner::isCanonicalPredicate' data-ref="_ZN4llvm12InstCombiner20isCanonicalPredicateENS_7CmpInst9PredicateE" data-ref-filename="_ZN4llvm12InstCombiner20isCanonicalPredicateENS_7CmpInst9PredicateE">isCanonicalPredicate</a>(<a class="local col9 ref" href="#549Pred" title='Pred' data-ref="549Pred" data-ref-filename="549Pred">Pred</a>)) {</td></tr>
<tr><th id="2929">2929</th><td>    <i>// Swap destinations and condition.</i></td></tr>
<tr><th id="2930">2930</th><td>    <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CmpInst" title='llvm::CmpInst' data-ref="llvm::CmpInst" data-ref-filename="llvm..CmpInst">CmpInst</a> *<dfn class="local col0 decl" id="550Cond" title='Cond' data-type='llvm::CmpInst *' data-ref="550Cond" data-ref-filename="550Cond">Cond</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CmpInst" title='llvm::CmpInst' data-ref="llvm::CmpInst" data-ref-filename="llvm..CmpInst">CmpInst</a>&gt;(<a class="local col7 ref" href="#547BI" title='BI' data-ref="547BI" data-ref-filename="547BI">BI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10BranchInst12getConditionEv" title='llvm::BranchInst::getCondition' data-ref="_ZNK4llvm10BranchInst12getConditionEv" data-ref-filename="_ZNK4llvm10BranchInst12getConditionEv">getCondition</a>());</td></tr>
<tr><th id="2931">2931</th><td>    <a class="local col0 ref" href="#550Cond" title='Cond' data-ref="550Cond" data-ref-filename="550Cond">Cond</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm7CmpInst12setPredicateENS0_9PredicateE" title='llvm::CmpInst::setPredicate' data-ref="_ZN4llvm7CmpInst12setPredicateENS0_9PredicateE" data-ref-filename="_ZN4llvm7CmpInst12setPredicateENS0_9PredicateE">setPredicate</a>(<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CmpInst" title='llvm::CmpInst' data-ref="llvm::CmpInst" data-ref-filename="llvm..CmpInst">CmpInst</a>::<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm7CmpInst19getInversePredicateENS0_9PredicateE" title='llvm::CmpInst::getInversePredicate' data-ref="_ZN4llvm7CmpInst19getInversePredicateENS0_9PredicateE" data-ref-filename="_ZN4llvm7CmpInst19getInversePredicateENS0_9PredicateE">getInversePredicate</a>(<a class="local col9 ref" href="#549Pred" title='Pred' data-ref="549Pred" data-ref-filename="549Pred">Pred</a>));</td></tr>
<tr><th id="2932">2932</th><td>    <a class="local col7 ref" href="#547BI" title='BI' data-ref="547BI" data-ref-filename="547BI">BI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10BranchInst14swapSuccessorsEv" title='llvm::BranchInst::swapSuccessors' data-ref="_ZN4llvm10BranchInst14swapSuccessorsEv" data-ref-filename="_ZN4llvm10BranchInst14swapSuccessorsEv">swapSuccessors</a>();</td></tr>
<tr><th id="2933">2933</th><td>    <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Worklist" title='llvm::InstCombiner::Worklist' data-ref="llvm::InstCombiner::Worklist" data-ref-filename="llvm..InstCombiner..Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" title='llvm::InstCombineWorklist::push' data-ref="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" data-ref-filename="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE">push</a>(<a class="local col0 ref" href="#550Cond" title='Cond' data-ref="550Cond" data-ref-filename="550Cond">Cond</a>);</td></tr>
<tr><th id="2934">2934</th><td>    <b>return</b> &amp;<a class="local col7 ref" href="#547BI" title='BI' data-ref="547BI" data-ref-filename="547BI">BI</a>;</td></tr>
<tr><th id="2935">2935</th><td>  }</td></tr>
<tr><th id="2936">2936</th><td></td></tr>
<tr><th id="2937">2937</th><td>  <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2938">2938</th><td>}</td></tr>
<tr><th id="2939">2939</th><td></td></tr>
<tr><th id="2940">2940</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl15visitSwitchInstERNS_10SwitchInstE" title='llvm::InstCombinerImpl::visitSwitchInst' data-ref="_ZN4llvm16InstCombinerImpl15visitSwitchInstERNS_10SwitchInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl15visitSwitchInstERNS_10SwitchInstE">visitSwitchInst</dfn>(<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::SwitchInst" title='llvm::SwitchInst' data-ref="llvm::SwitchInst" data-ref-filename="llvm..SwitchInst">SwitchInst</a> &amp;<dfn class="local col1 decl" id="551SI" title='SI' data-type='llvm::SwitchInst &amp;' data-ref="551SI" data-ref-filename="551SI">SI</dfn>) {</td></tr>
<tr><th id="2941">2941</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="552Cond" title='Cond' data-type='llvm::Value *' data-ref="552Cond" data-ref-filename="552Cond">Cond</dfn> = <a class="local col1 ref" href="#551SI" title='SI' data-ref="551SI" data-ref-filename="551SI">SI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10SwitchInst12getConditionEv" title='llvm::SwitchInst::getCondition' data-ref="_ZNK4llvm10SwitchInst12getConditionEv" data-ref-filename="_ZNK4llvm10SwitchInst12getConditionEv">getCondition</a>();</td></tr>
<tr><th id="2942">2942</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="553Op0" title='Op0' data-type='llvm::Value *' data-ref="553Op0" data-ref-filename="553Op0">Op0</dfn>;</td></tr>
<tr><th id="2943">2943</th><td>  <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a> *<dfn class="local col4 decl" id="554AddRHS" title='AddRHS' data-type='llvm::ConstantInt *' data-ref="554AddRHS" data-ref-filename="554AddRHS">AddRHS</dfn>;</td></tr>
<tr><th id="2944">2944</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col2 ref" href="#552Cond" title='Cond' data-ref="552Cond" data-ref-filename="552Cond">Cond</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5m_AddERKT_RKT0_" title='llvm::PatternMatch::m_Add' data-ref="_ZN4llvm12PatternMatch5m_AddERKT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5m_AddERKT_RKT0_">m_Add</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueERPNS_5ValueE">m_Value</a>(<span class='refarg'><a class="local col3 ref" href="#553Op0" title='Op0' data-ref="553Op0" data-ref-filename="553Op0">Op0</a></span>), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch13m_ConstantIntERPNS_11ConstantIntE" title='llvm::PatternMatch::m_ConstantInt' data-ref="_ZN4llvm12PatternMatch13m_ConstantIntERPNS_11ConstantIntE" data-ref-filename="_ZN4llvm12PatternMatch13m_ConstantIntERPNS_11ConstantIntE">m_ConstantInt</a>(<span class='refarg'><a class="local col4 ref" href="#554AddRHS" title='AddRHS' data-ref="554AddRHS" data-ref-filename="554AddRHS">AddRHS</a></span>)))) {</td></tr>
<tr><th id="2945">2945</th><td>    <i>// Change 'switch (X+4) case 1:' into 'switch (X) case -3'.</i></td></tr>
<tr><th id="2946">2946</th><td>    <b>for</b> (<em>auto</em> <dfn class="local col5 decl" id="555Case" title='Case' data-type='llvm::SwitchInst::CaseHandle' data-ref="555Case" data-ref-filename="555Case">Case</dfn> : <a class="local col1 ref" href="#551SI" title='SI' data-ref="551SI" data-ref-filename="551SI">SI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SwitchInst5casesEv" title='llvm::SwitchInst::cases' data-ref="_ZN4llvm10SwitchInst5casesEv" data-ref-filename="_ZN4llvm10SwitchInst5casesEv">cases</a>()) {</td></tr>
<tr><th id="2947">2947</th><td>      <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col6 decl" id="556NewCase" title='NewCase' data-type='llvm::Constant *' data-ref="556NewCase" data-ref-filename="556NewCase">NewCase</dfn> = <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr6getSubEPNS_8ConstantES2_bb" title='llvm::ConstantExpr::getSub' data-ref="_ZN4llvm12ConstantExpr6getSubEPNS_8ConstantES2_bb" data-ref-filename="_ZN4llvm12ConstantExpr6getSubEPNS_8ConstantES2_bb">getSub</a>(<a class="local col5 ref" href="#555Case" title='Case' data-ref="555Case" data-ref-filename="555Case">Case</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10SwitchInst14CaseHandleImpl12getCaseValueEv" title='llvm::SwitchInst::CaseHandleImpl::getCaseValue' data-ref="_ZNK4llvm10SwitchInst14CaseHandleImpl12getCaseValueEv" data-ref-filename="_ZNK4llvm10SwitchInst14CaseHandleImpl12getCaseValueEv">getCaseValue</a>(), <a class="local col4 ref" href="#554AddRHS" title='AddRHS' data-ref="554AddRHS" data-ref-filename="554AddRHS">AddRHS</a>);</td></tr>
<tr><th id="2948">2948</th><td>      <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(isa&lt;ConstantInt&gt;(NewCase) &amp;&amp;</td></tr>
<tr><th id="2949">2949</th><td>             <q>"Result of expression should be constant"</q>);</td></tr>
<tr><th id="2950">2950</th><td>      <a class="local col5 ref" href="#555Case" title='Case' data-ref="555Case" data-ref-filename="555Case">Case</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SwitchInst10CaseHandle8setValueEPNS_11ConstantIntE" title='llvm::SwitchInst::CaseHandle::setValue' data-ref="_ZN4llvm10SwitchInst10CaseHandle8setValueEPNS_11ConstantIntE" data-ref-filename="_ZN4llvm10SwitchInst10CaseHandle8setValueEPNS_11ConstantIntE">setValue</a>(<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col6 ref" href="#556NewCase" title='NewCase' data-ref="556NewCase" data-ref-filename="556NewCase">NewCase</a>));</td></tr>
<tr><th id="2951">2951</th><td>    }</td></tr>
<tr><th id="2952">2952</th><td>    <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col1 ref" href="#551SI" title='SI' data-ref="551SI" data-ref-filename="551SI">SI</a></span>, <var>0</var>, <a class="local col3 ref" href="#553Op0" title='Op0' data-ref="553Op0" data-ref-filename="553Op0">Op0</a>);</td></tr>
<tr><th id="2953">2953</th><td>  }</td></tr>
<tr><th id="2954">2954</th><td></td></tr>
<tr><th id="2955">2955</th><td>  <a class="type" href="../../../include/llvm/Support/KnownBits.h.html#llvm::KnownBits" title='llvm::KnownBits' data-ref="llvm::KnownBits" data-ref-filename="llvm..KnownBits">KnownBits</a> <dfn class="local col7 decl" id="557Known" title='Known' data-type='llvm::KnownBits' data-ref="557Known" data-ref-filename="557Known">Known</dfn> = <a class="member fn" href="InstCombineInternal.h.html#_ZNK4llvm16InstCombinerImpl16computeKnownBitsEPKNS_5ValueEjPKNS_11InstructionE" title='llvm::InstCombinerImpl::computeKnownBits' data-ref="_ZNK4llvm16InstCombinerImpl16computeKnownBitsEPKNS_5ValueEjPKNS_11InstructionE" data-ref-filename="_ZNK4llvm16InstCombinerImpl16computeKnownBitsEPKNS_5ValueEjPKNS_11InstructionE">computeKnownBits</a>(<a class="local col2 ref" href="#552Cond" title='Cond' data-ref="552Cond" data-ref-filename="552Cond">Cond</a>, <var>0</var>, &amp;<a class="local col1 ref" href="#551SI" title='SI' data-ref="551SI" data-ref-filename="551SI">SI</a>);</td></tr>
<tr><th id="2956">2956</th><td>  <em>unsigned</em> <dfn class="local col8 decl" id="558LeadingKnownZeros" title='LeadingKnownZeros' data-type='unsigned int' data-ref="558LeadingKnownZeros" data-ref-filename="558LeadingKnownZeros">LeadingKnownZeros</dfn> = <a class="local col7 ref" href="#557Known" title='Known' data-ref="557Known" data-ref-filename="557Known">Known</a>.<a class="ref fn" href="../../../include/llvm/Support/KnownBits.h.html#_ZNK4llvm9KnownBits20countMinLeadingZerosEv" title='llvm::KnownBits::countMinLeadingZeros' data-ref="_ZNK4llvm9KnownBits20countMinLeadingZerosEv" data-ref-filename="_ZNK4llvm9KnownBits20countMinLeadingZerosEv">countMinLeadingZeros</a>();</td></tr>
<tr><th id="2957">2957</th><td>  <em>unsigned</em> <dfn class="local col9 decl" id="559LeadingKnownOnes" title='LeadingKnownOnes' data-type='unsigned int' data-ref="559LeadingKnownOnes" data-ref-filename="559LeadingKnownOnes">LeadingKnownOnes</dfn> = <a class="local col7 ref" href="#557Known" title='Known' data-ref="557Known" data-ref-filename="557Known">Known</a>.<a class="ref fn" href="../../../include/llvm/Support/KnownBits.h.html#_ZNK4llvm9KnownBits19countMinLeadingOnesEv" title='llvm::KnownBits::countMinLeadingOnes' data-ref="_ZNK4llvm9KnownBits19countMinLeadingOnesEv" data-ref-filename="_ZNK4llvm9KnownBits19countMinLeadingOnesEv">countMinLeadingOnes</a>();</td></tr>
<tr><th id="2958">2958</th><td></td></tr>
<tr><th id="2959">2959</th><td>  <i>// Compute the number of leading bits we can ignore.</i></td></tr>
<tr><th id="2960">2960</th><td><i>  // TODO: A better way to determine this would use ComputeNumSignBits().</i></td></tr>
<tr><th id="2961">2961</th><td>  <b>for</b> (<em>auto</em> &amp;<dfn class="local col0 decl" id="560C" title='C' data-type='llvm::SwitchInst::CaseHandle &amp;' data-ref="560C" data-ref-filename="560C">C</dfn> : <a class="local col1 ref" href="#551SI" title='SI' data-ref="551SI" data-ref-filename="551SI">SI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SwitchInst5casesEv" title='llvm::SwitchInst::cases' data-ref="_ZN4llvm10SwitchInst5casesEv" data-ref-filename="_ZN4llvm10SwitchInst5casesEv">cases</a>()) {</td></tr>
<tr><th id="2962">2962</th><td>    <a class="local col8 ref" href="#558LeadingKnownZeros" title='LeadingKnownZeros' data-ref="558LeadingKnownZeros" data-ref-filename="558LeadingKnownZeros">LeadingKnownZeros</a> = <span class="namespace">std::</span><span class='ref fn' title='std::min' data-ref="_ZSt3minRKT_S1_" data-ref-filename="_ZSt3minRKT_S1_">min</span>(</td></tr>
<tr><th id="2963">2963</th><td>        <a class="local col8 ref" href="#558LeadingKnownZeros" title='LeadingKnownZeros' data-ref="558LeadingKnownZeros" data-ref-filename="558LeadingKnownZeros">LeadingKnownZeros</a>, <a class="local col0 ref" href="#560C" title='C' data-ref="560C" data-ref-filename="560C">C</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10SwitchInst14CaseHandleImpl12getCaseValueEv" title='llvm::SwitchInst::CaseHandleImpl::getCaseValue' data-ref="_ZNK4llvm10SwitchInst14CaseHandleImpl12getCaseValueEv" data-ref-filename="_ZNK4llvm10SwitchInst14CaseHandleImpl12getCaseValueEv">getCaseValue</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZNK4llvm11ConstantInt8getValueEv" title='llvm::ConstantInt::getValue' data-ref="_ZNK4llvm11ConstantInt8getValueEv" data-ref-filename="_ZNK4llvm11ConstantInt8getValueEv">getValue</a>().<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt17countLeadingZerosEv" title='llvm::APInt::countLeadingZeros' data-ref="_ZNK4llvm5APInt17countLeadingZerosEv" data-ref-filename="_ZNK4llvm5APInt17countLeadingZerosEv">countLeadingZeros</a>());</td></tr>
<tr><th id="2964">2964</th><td>    <a class="local col9 ref" href="#559LeadingKnownOnes" title='LeadingKnownOnes' data-ref="559LeadingKnownOnes" data-ref-filename="559LeadingKnownOnes">LeadingKnownOnes</a> = <span class="namespace">std::</span><span class='ref fn' title='std::min' data-ref="_ZSt3minRKT_S1_" data-ref-filename="_ZSt3minRKT_S1_">min</span>(</td></tr>
<tr><th id="2965">2965</th><td>        <a class="local col9 ref" href="#559LeadingKnownOnes" title='LeadingKnownOnes' data-ref="559LeadingKnownOnes" data-ref-filename="559LeadingKnownOnes">LeadingKnownOnes</a>, <a class="local col0 ref" href="#560C" title='C' data-ref="560C" data-ref-filename="560C">C</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10SwitchInst14CaseHandleImpl12getCaseValueEv" title='llvm::SwitchInst::CaseHandleImpl::getCaseValue' data-ref="_ZNK4llvm10SwitchInst14CaseHandleImpl12getCaseValueEv" data-ref-filename="_ZNK4llvm10SwitchInst14CaseHandleImpl12getCaseValueEv">getCaseValue</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZNK4llvm11ConstantInt8getValueEv" title='llvm::ConstantInt::getValue' data-ref="_ZNK4llvm11ConstantInt8getValueEv" data-ref-filename="_ZNK4llvm11ConstantInt8getValueEv">getValue</a>().<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt16countLeadingOnesEv" title='llvm::APInt::countLeadingOnes' data-ref="_ZNK4llvm5APInt16countLeadingOnesEv" data-ref-filename="_ZNK4llvm5APInt16countLeadingOnesEv">countLeadingOnes</a>());</td></tr>
<tr><th id="2966">2966</th><td>  }</td></tr>
<tr><th id="2967">2967</th><td></td></tr>
<tr><th id="2968">2968</th><td>  <em>unsigned</em> <dfn class="local col1 decl" id="561NewWidth" title='NewWidth' data-type='unsigned int' data-ref="561NewWidth" data-ref-filename="561NewWidth">NewWidth</dfn> = <a class="local col7 ref" href="#557Known" title='Known' data-ref="557Known" data-ref-filename="557Known">Known</a>.<a class="ref fn" href="../../../include/llvm/Support/KnownBits.h.html#_ZNK4llvm9KnownBits11getBitWidthEv" title='llvm::KnownBits::getBitWidth' data-ref="_ZNK4llvm9KnownBits11getBitWidthEv" data-ref-filename="_ZNK4llvm9KnownBits11getBitWidthEv">getBitWidth</a>() - <span class="namespace">std::</span><span class='ref fn' title='std::max' data-ref="_ZSt3maxRKT_S1_" data-ref-filename="_ZSt3maxRKT_S1_">max</span>(<a class="local col8 ref" href="#558LeadingKnownZeros" title='LeadingKnownZeros' data-ref="558LeadingKnownZeros" data-ref-filename="558LeadingKnownZeros">LeadingKnownZeros</a>, <a class="local col9 ref" href="#559LeadingKnownOnes" title='LeadingKnownOnes' data-ref="559LeadingKnownOnes" data-ref-filename="559LeadingKnownOnes">LeadingKnownOnes</a>);</td></tr>
<tr><th id="2969">2969</th><td></td></tr>
<tr><th id="2970">2970</th><td>  <i>// Shrink the condition operand if the new type is smaller than the old type.</i></td></tr>
<tr><th id="2971">2971</th><td><i>  // But do not shrink to a non-standard type, because backend can't generate</i></td></tr>
<tr><th id="2972">2972</th><td><i>  // good code for that yet.</i></td></tr>
<tr><th id="2973">2973</th><td><i>  // TODO: We can make it aggressive again after fixing PR39569.</i></td></tr>
<tr><th id="2974">2974</th><td>  <b>if</b> (<a class="local col1 ref" href="#561NewWidth" title='NewWidth' data-ref="561NewWidth" data-ref-filename="561NewWidth">NewWidth</a> &gt; <var>0</var> &amp;&amp; <a class="local col1 ref" href="#561NewWidth" title='NewWidth' data-ref="561NewWidth" data-ref-filename="561NewWidth">NewWidth</a> &lt; <a class="local col7 ref" href="#557Known" title='Known' data-ref="557Known" data-ref-filename="557Known">Known</a>.<a class="ref fn" href="../../../include/llvm/Support/KnownBits.h.html#_ZNK4llvm9KnownBits11getBitWidthEv" title='llvm::KnownBits::getBitWidth' data-ref="_ZNK4llvm9KnownBits11getBitWidthEv" data-ref-filename="_ZNK4llvm9KnownBits11getBitWidthEv">getBitWidth</a>() &amp;&amp;</td></tr>
<tr><th id="2975">2975</th><td>      <a class="member fn" href="#_ZNK4llvm16InstCombinerImpl16shouldChangeTypeEjj" title='llvm::InstCombinerImpl::shouldChangeType' data-ref="_ZNK4llvm16InstCombinerImpl16shouldChangeTypeEjj" data-ref-filename="_ZNK4llvm16InstCombinerImpl16shouldChangeTypeEjj">shouldChangeType</a>(<a class="local col7 ref" href="#557Known" title='Known' data-ref="557Known" data-ref-filename="557Known">Known</a>.<a class="ref fn" href="../../../include/llvm/Support/KnownBits.h.html#_ZNK4llvm9KnownBits11getBitWidthEv" title='llvm::KnownBits::getBitWidth' data-ref="_ZNK4llvm9KnownBits11getBitWidthEv" data-ref-filename="_ZNK4llvm9KnownBits11getBitWidthEv">getBitWidth</a>(), <a class="local col1 ref" href="#561NewWidth" title='NewWidth' data-ref="561NewWidth" data-ref-filename="561NewWidth">NewWidth</a>)) {</td></tr>
<tr><th id="2976">2976</th><td>    <a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::IntegerType" title='llvm::IntegerType' data-ref="llvm::IntegerType" data-ref-filename="llvm..IntegerType">IntegerType</a> *<dfn class="local col2 decl" id="562Ty" title='Ty' data-type='llvm::IntegerType *' data-ref="562Ty" data-ref-filename="562Ty">Ty</dfn> = <a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::IntegerType" title='llvm::IntegerType' data-ref="llvm::IntegerType" data-ref-filename="llvm..IntegerType">IntegerType</a>::<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZN4llvm11IntegerType3getERNS_11LLVMContextEj" title='llvm::IntegerType::get' data-ref="_ZN4llvm11IntegerType3getERNS_11LLVMContextEj" data-ref-filename="_ZN4llvm11IntegerType3getERNS_11LLVMContextEj">get</a>(<span class='refarg'><a class="local col1 ref" href="#551SI" title='SI' data-ref="551SI" data-ref-filename="551SI">SI</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value10getContextEv" title='llvm::Value::getContext' data-ref="_ZNK4llvm5Value10getContextEv" data-ref-filename="_ZNK4llvm5Value10getContextEv">getContext</a>()</span>, <a class="local col1 ref" href="#561NewWidth" title='NewWidth' data-ref="561NewWidth" data-ref-filename="561NewWidth">NewWidth</a>);</td></tr>
<tr><th id="2977">2977</th><td>    <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE">SetInsertPoint</a>(&amp;<a class="local col1 ref" href="#551SI" title='SI' data-ref="551SI" data-ref-filename="551SI">SI</a>);</td></tr>
<tr><th id="2978">2978</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="563NewCond" title='NewCond' data-type='llvm::Value *' data-ref="563NewCond" data-ref-filename="563NewCond">NewCond</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateTruncEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateTrunc' data-ref="_ZN4llvm13IRBuilderBase11CreateTruncEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateTruncEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateTrunc</a>(<a class="local col2 ref" href="#552Cond" title='Cond' data-ref="552Cond" data-ref-filename="552Cond">Cond</a>, <a class="local col2 ref" href="#562Ty" title='Ty' data-ref="562Ty" data-ref-filename="562Ty">Ty</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"trunc"</q>);</td></tr>
<tr><th id="2979">2979</th><td></td></tr>
<tr><th id="2980">2980</th><td>    <b>for</b> (<em>auto</em> <dfn class="local col4 decl" id="564Case" title='Case' data-type='llvm::SwitchInst::CaseHandle' data-ref="564Case" data-ref-filename="564Case">Case</dfn> : <a class="local col1 ref" href="#551SI" title='SI' data-ref="551SI" data-ref-filename="551SI">SI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SwitchInst5casesEv" title='llvm::SwitchInst::cases' data-ref="_ZN4llvm10SwitchInst5casesEv" data-ref-filename="_ZN4llvm10SwitchInst5casesEv">cases</a>()) {</td></tr>
<tr><th id="2981">2981</th><td>      <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> <dfn class="local col5 decl" id="565TruncatedCase" title='TruncatedCase' data-type='llvm::APInt' data-ref="565TruncatedCase" data-ref-filename="565TruncatedCase">TruncatedCase</dfn> = <a class="local col4 ref" href="#564Case" title='Case' data-ref="564Case" data-ref-filename="564Case">Case</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10SwitchInst14CaseHandleImpl12getCaseValueEv" title='llvm::SwitchInst::CaseHandleImpl::getCaseValue' data-ref="_ZNK4llvm10SwitchInst14CaseHandleImpl12getCaseValueEv" data-ref-filename="_ZNK4llvm10SwitchInst14CaseHandleImpl12getCaseValueEv">getCaseValue</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZNK4llvm11ConstantInt8getValueEv" title='llvm::ConstantInt::getValue' data-ref="_ZNK4llvm11ConstantInt8getValueEv" data-ref-filename="_ZNK4llvm11ConstantInt8getValueEv">getValue</a>().<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APInt5truncEj" title='llvm::APInt::trunc' data-ref="_ZNK4llvm5APInt5truncEj" data-ref-filename="_ZNK4llvm5APInt5truncEj">trunc</a>(<a class="local col1 ref" href="#561NewWidth" title='NewWidth' data-ref="561NewWidth" data-ref-filename="561NewWidth">NewWidth</a>);</td></tr>
<tr><th id="2982">2982</th><td>      <a class="local col4 ref" href="#564Case" title='Case' data-ref="564Case" data-ref-filename="564Case">Case</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SwitchInst10CaseHandle8setValueEPNS_11ConstantIntE" title='llvm::SwitchInst::CaseHandle::setValue' data-ref="_ZN4llvm10SwitchInst10CaseHandle8setValueEPNS_11ConstantIntE" data-ref-filename="_ZN4llvm10SwitchInst10CaseHandle8setValueEPNS_11ConstantIntE">setValue</a>(<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getERNS_11LLVMContextERKNS_5APIntE" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getERNS_11LLVMContextERKNS_5APIntE" data-ref-filename="_ZN4llvm11ConstantInt3getERNS_11LLVMContextERKNS_5APIntE">get</a>(<span class='refarg'><a class="local col1 ref" href="#551SI" title='SI' data-ref="551SI" data-ref-filename="551SI">SI</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value10getContextEv" title='llvm::Value::getContext' data-ref="_ZNK4llvm5Value10getContextEv" data-ref-filename="_ZNK4llvm5Value10getContextEv">getContext</a>()</span>, <a class="local col5 ref" href="#565TruncatedCase" title='TruncatedCase' data-ref="565TruncatedCase" data-ref-filename="565TruncatedCase">TruncatedCase</a>));</td></tr>
<tr><th id="2983">2983</th><td>    }</td></tr>
<tr><th id="2984">2984</th><td>    <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" title='llvm::InstCombinerImpl::replaceOperand' data-ref="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl14replaceOperandERNS_11InstructionEjPNS_5ValueE">replaceOperand</a>(<span class='refarg'><a class="local col1 ref" href="#551SI" title='SI' data-ref="551SI" data-ref-filename="551SI">SI</a></span>, <var>0</var>, <a class="local col3 ref" href="#563NewCond" title='NewCond' data-ref="563NewCond" data-ref-filename="563NewCond">NewCond</a>);</td></tr>
<tr><th id="2985">2985</th><td>  }</td></tr>
<tr><th id="2986">2986</th><td></td></tr>
<tr><th id="2987">2987</th><td>  <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="2988">2988</th><td>}</td></tr>
<tr><th id="2989">2989</th><td></td></tr>
<tr><th id="2990">2990</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl21visitExtractValueInstERNS_16ExtractValueInstE" title='llvm::InstCombinerImpl::visitExtractValueInst' data-ref="_ZN4llvm16InstCombinerImpl21visitExtractValueInstERNS_16ExtractValueInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl21visitExtractValueInstERNS_16ExtractValueInstE">visitExtractValueInst</dfn>(<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ExtractValueInst" title='llvm::ExtractValueInst' data-ref="llvm::ExtractValueInst" data-ref-filename="llvm..ExtractValueInst">ExtractValueInst</a> &amp;<dfn class="local col6 decl" id="566EV" title='EV' data-type='llvm::ExtractValueInst &amp;' data-ref="566EV" data-ref-filename="566EV">EV</dfn>) {</td></tr>
<tr><th id="2991">2991</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="567Agg" title='Agg' data-type='llvm::Value *' data-ref="567Agg" data-ref-filename="567Agg">Agg</dfn> = <a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm16ExtractValueInst19getAggregateOperandEv" title='llvm::ExtractValueInst::getAggregateOperand' data-ref="_ZN4llvm16ExtractValueInst19getAggregateOperandEv" data-ref-filename="_ZN4llvm16ExtractValueInst19getAggregateOperandEv">getAggregateOperand</a>();</td></tr>
<tr><th id="2992">2992</th><td></td></tr>
<tr><th id="2993">2993</th><td>  <b>if</b> (!<a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm16ExtractValueInst10hasIndicesEv" title='llvm::ExtractValueInst::hasIndices' data-ref="_ZNK4llvm16ExtractValueInst10hasIndicesEv" data-ref-filename="_ZNK4llvm16ExtractValueInst10hasIndicesEv">hasIndices</a>())</td></tr>
<tr><th id="2994">2994</th><td>    <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'><a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a></span>, <a class="local col7 ref" href="#567Agg" title='Agg' data-ref="567Agg" data-ref-filename="567Agg">Agg</a>);</td></tr>
<tr><th id="2995">2995</th><td></td></tr>
<tr><th id="2996">2996</th><td>  <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="568V" title='V' data-type='llvm::Value *' data-ref="568V" data-ref-filename="568V"><a class="local col8 ref" href="#568V" title='V' data-ref="568V" data-ref-filename="568V">V</a></dfn> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm24SimplifyExtractValueInstEPNS_5ValueENS_8ArrayRefIjEERKNS_13SimplifyQueryE" title='llvm::SimplifyExtractValueInst' data-ref="_ZN4llvm24SimplifyExtractValueInstEPNS_5ValueENS_8ArrayRefIjEERKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm24SimplifyExtractValueInstEPNS_5ValueENS_8ArrayRefIjEERKNS_13SimplifyQueryE">SimplifyExtractValueInst</a>(<a class="local col7 ref" href="#567Agg" title='Agg' data-ref="567Agg" data-ref-filename="567Agg">Agg</a>, <a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm16ExtractValueInst10getIndicesEv" title='llvm::ExtractValueInst::getIndices' data-ref="_ZNK4llvm16ExtractValueInst10getIndicesEv" data-ref-filename="_ZNK4llvm16ExtractValueInst10getIndicesEv">getIndices</a>(),</td></tr>
<tr><th id="2997">2997</th><td>                                          <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::SQ" title='llvm::InstCombiner::SQ' data-ref="llvm::InstCombiner::SQ" data-ref-filename="llvm..InstCombiner..SQ">SQ</a>.<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" title='llvm::SimplifyQuery::getWithInstruction' data-ref="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" data-ref-filename="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE">getWithInstruction</a>(&amp;<a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a>)))</td></tr>
<tr><th id="2998">2998</th><td>    <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'><a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a></span>, <a class="local col8 ref" href="#568V" title='V' data-ref="568V" data-ref-filename="568V">V</a>);</td></tr>
<tr><th id="2999">2999</th><td></td></tr>
<tr><th id="3000">3000</th><td>  <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::InsertValueInst" title='llvm::InsertValueInst' data-ref="llvm::InsertValueInst" data-ref-filename="llvm..InsertValueInst">InsertValueInst</a> *<dfn class="local col9 decl" id="569IV" title='IV' data-type='llvm::InsertValueInst *' data-ref="569IV" data-ref-filename="569IV"><a class="local col9 ref" href="#569IV" title='IV' data-ref="569IV" data-ref-filename="569IV">IV</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::InsertValueInst" title='llvm::InsertValueInst' data-ref="llvm::InsertValueInst" data-ref-filename="llvm..InsertValueInst">InsertValueInst</a>&gt;(<a class="local col7 ref" href="#567Agg" title='Agg' data-ref="567Agg" data-ref-filename="567Agg">Agg</a>)) {</td></tr>
<tr><th id="3001">3001</th><td>    <i>// We're extracting from an insertvalue instruction, compare the indices</i></td></tr>
<tr><th id="3002">3002</th><td>    <em>const</em> <em>unsigned</em> *<dfn class="local col0 decl" id="570exti" title='exti' data-type='const unsigned int *' data-ref="570exti" data-ref-filename="570exti">exti</dfn>, *<dfn class="local col1 decl" id="571exte" title='exte' data-type='const unsigned int *' data-ref="571exte" data-ref-filename="571exte">exte</dfn>, *<dfn class="local col2 decl" id="572insi" title='insi' data-type='const unsigned int *' data-ref="572insi" data-ref-filename="572insi">insi</dfn>, *<dfn class="local col3 decl" id="573inse" title='inse' data-type='const unsigned int *' data-ref="573inse" data-ref-filename="573inse">inse</dfn>;</td></tr>
<tr><th id="3003">3003</th><td>    <b>for</b> (<a class="local col0 ref" href="#570exti" title='exti' data-ref="570exti" data-ref-filename="570exti">exti</a> = <a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm16ExtractValueInst9idx_beginEv" title='llvm::ExtractValueInst::idx_begin' data-ref="_ZNK4llvm16ExtractValueInst9idx_beginEv" data-ref-filename="_ZNK4llvm16ExtractValueInst9idx_beginEv">idx_begin</a>(), <a class="local col2 ref" href="#572insi" title='insi' data-ref="572insi" data-ref-filename="572insi">insi</a> = <a class="local col9 ref" href="#569IV" title='IV' data-ref="569IV" data-ref-filename="569IV">IV</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm15InsertValueInst9idx_beginEv" title='llvm::InsertValueInst::idx_begin' data-ref="_ZNK4llvm15InsertValueInst9idx_beginEv" data-ref-filename="_ZNK4llvm15InsertValueInst9idx_beginEv">idx_begin</a>(),</td></tr>
<tr><th id="3004">3004</th><td>         <a class="local col1 ref" href="#571exte" title='exte' data-ref="571exte" data-ref-filename="571exte">exte</a> = <a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm16ExtractValueInst7idx_endEv" title='llvm::ExtractValueInst::idx_end' data-ref="_ZNK4llvm16ExtractValueInst7idx_endEv" data-ref-filename="_ZNK4llvm16ExtractValueInst7idx_endEv">idx_end</a>(), <a class="local col3 ref" href="#573inse" title='inse' data-ref="573inse" data-ref-filename="573inse">inse</a> = <a class="local col9 ref" href="#569IV" title='IV' data-ref="569IV" data-ref-filename="569IV">IV</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm15InsertValueInst7idx_endEv" title='llvm::InsertValueInst::idx_end' data-ref="_ZNK4llvm15InsertValueInst7idx_endEv" data-ref-filename="_ZNK4llvm15InsertValueInst7idx_endEv">idx_end</a>();</td></tr>
<tr><th id="3005">3005</th><td>         <a class="local col0 ref" href="#570exti" title='exti' data-ref="570exti" data-ref-filename="570exti">exti</a> != <a class="local col1 ref" href="#571exte" title='exte' data-ref="571exte" data-ref-filename="571exte">exte</a> &amp;&amp; <a class="local col2 ref" href="#572insi" title='insi' data-ref="572insi" data-ref-filename="572insi">insi</a> != <a class="local col3 ref" href="#573inse" title='inse' data-ref="573inse" data-ref-filename="573inse">inse</a>;</td></tr>
<tr><th id="3006">3006</th><td>         ++<a class="local col0 ref" href="#570exti" title='exti' data-ref="570exti" data-ref-filename="570exti">exti</a>, ++<a class="local col2 ref" href="#572insi" title='insi' data-ref="572insi" data-ref-filename="572insi">insi</a>) {</td></tr>
<tr><th id="3007">3007</th><td>      <b>if</b> (*<a class="local col2 ref" href="#572insi" title='insi' data-ref="572insi" data-ref-filename="572insi">insi</a> != *<a class="local col0 ref" href="#570exti" title='exti' data-ref="570exti" data-ref-filename="570exti">exti</a>)</td></tr>
<tr><th id="3008">3008</th><td>        <i>// The insert and extract both reference distinctly different elements.</i></td></tr>
<tr><th id="3009">3009</th><td><i>        // This means the extract is not influenced by the insert, and we can</i></td></tr>
<tr><th id="3010">3010</th><td><i>        // replace the aggregate operand of the extract with the aggregate</i></td></tr>
<tr><th id="3011">3011</th><td><i>        // operand of the insert. i.e., replace</i></td></tr>
<tr><th id="3012">3012</th><td><i>        // %I = insertvalue { i32, { i32 } } %A, { i32 } { i32 42 }, 1</i></td></tr>
<tr><th id="3013">3013</th><td><i>        // %E = extractvalue { i32, { i32 } } %I, 0</i></td></tr>
<tr><th id="3014">3014</th><td><i>        // with</i></td></tr>
<tr><th id="3015">3015</th><td><i>        // %E = extractvalue { i32, { i32 } } %A, 0</i></td></tr>
<tr><th id="3016">3016</th><td>        <b>return</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ExtractValueInst" title='llvm::ExtractValueInst' data-ref="llvm::ExtractValueInst" data-ref-filename="llvm..ExtractValueInst">ExtractValueInst</a>::<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm16ExtractValueInst6CreateEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineEPNS_11InstructionE" title='llvm::ExtractValueInst::Create' data-ref="_ZN4llvm16ExtractValueInst6CreateEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm16ExtractValueInst6CreateEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineEPNS_11InstructionE">Create</a>(<a class="local col9 ref" href="#569IV" title='IV' data-ref="569IV" data-ref-filename="569IV">IV</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm15InsertValueInst19getAggregateOperandEv" title='llvm::InsertValueInst::getAggregateOperand' data-ref="_ZN4llvm15InsertValueInst19getAggregateOperandEv" data-ref-filename="_ZN4llvm15InsertValueInst19getAggregateOperandEv">getAggregateOperand</a>(),</td></tr>
<tr><th id="3017">3017</th><td>                                        <a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm16ExtractValueInst10getIndicesEv" title='llvm::ExtractValueInst::getIndices' data-ref="_ZNK4llvm16ExtractValueInst10getIndicesEv" data-ref-filename="_ZNK4llvm16ExtractValueInst10getIndicesEv">getIndices</a>());</td></tr>
<tr><th id="3018">3018</th><td>    }</td></tr>
<tr><th id="3019">3019</th><td>    <b>if</b> (<a class="local col0 ref" href="#570exti" title='exti' data-ref="570exti" data-ref-filename="570exti">exti</a> == <a class="local col1 ref" href="#571exte" title='exte' data-ref="571exte" data-ref-filename="571exte">exte</a> &amp;&amp; <a class="local col2 ref" href="#572insi" title='insi' data-ref="572insi" data-ref-filename="572insi">insi</a> == <a class="local col3 ref" href="#573inse" title='inse' data-ref="573inse" data-ref-filename="573inse">inse</a>)</td></tr>
<tr><th id="3020">3020</th><td>      <i>// Both iterators are at the end: Index lists are identical. Replace</i></td></tr>
<tr><th id="3021">3021</th><td><i>      // %B = insertvalue { i32, { i32 } } %A, i32 42, 1, 0</i></td></tr>
<tr><th id="3022">3022</th><td><i>      // %C = extractvalue { i32, { i32 } } %B, 1, 0</i></td></tr>
<tr><th id="3023">3023</th><td><i>      // with "i32 42"</i></td></tr>
<tr><th id="3024">3024</th><td>      <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'><a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a></span>, <a class="local col9 ref" href="#569IV" title='IV' data-ref="569IV" data-ref-filename="569IV">IV</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm15InsertValueInst23getInsertedValueOperandEv" title='llvm::InsertValueInst::getInsertedValueOperand' data-ref="_ZN4llvm15InsertValueInst23getInsertedValueOperandEv" data-ref-filename="_ZN4llvm15InsertValueInst23getInsertedValueOperandEv">getInsertedValueOperand</a>());</td></tr>
<tr><th id="3025">3025</th><td>    <b>if</b> (<a class="local col0 ref" href="#570exti" title='exti' data-ref="570exti" data-ref-filename="570exti">exti</a> == <a class="local col1 ref" href="#571exte" title='exte' data-ref="571exte" data-ref-filename="571exte">exte</a>) {</td></tr>
<tr><th id="3026">3026</th><td>      <i>// The extract list is a prefix of the insert list. i.e. replace</i></td></tr>
<tr><th id="3027">3027</th><td><i>      // %I = insertvalue { i32, { i32 } } %A, i32 42, 1, 0</i></td></tr>
<tr><th id="3028">3028</th><td><i>      // %E = extractvalue { i32, { i32 } } %I, 1</i></td></tr>
<tr><th id="3029">3029</th><td><i>      // with</i></td></tr>
<tr><th id="3030">3030</th><td><i>      // %X = extractvalue { i32, { i32 } } %A, 1</i></td></tr>
<tr><th id="3031">3031</th><td><i>      // %E = insertvalue { i32 } %X, i32 42, 0</i></td></tr>
<tr><th id="3032">3032</th><td><i>      // by switching the order of the insert and extract (though the</i></td></tr>
<tr><th id="3033">3033</th><td><i>      // insertvalue should be left in, since it may have other uses).</i></td></tr>
<tr><th id="3034">3034</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="574NewEV" title='NewEV' data-type='llvm::Value *' data-ref="574NewEV" data-ref-filename="574NewEV">NewEV</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateExtractValue' data-ref="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE">CreateExtractValue</a>(<a class="local col9 ref" href="#569IV" title='IV' data-ref="569IV" data-ref-filename="569IV">IV</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm15InsertValueInst19getAggregateOperandEv" title='llvm::InsertValueInst::getAggregateOperand' data-ref="_ZN4llvm15InsertValueInst19getAggregateOperandEv" data-ref-filename="_ZN4llvm15InsertValueInst19getAggregateOperandEv">getAggregateOperand</a>(),</td></tr>
<tr><th id="3035">3035</th><td>                                                <a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm16ExtractValueInst10getIndicesEv" title='llvm::ExtractValueInst::getIndices' data-ref="_ZNK4llvm16ExtractValueInst10getIndicesEv" data-ref-filename="_ZNK4llvm16ExtractValueInst10getIndicesEv">getIndices</a>());</td></tr>
<tr><th id="3036">3036</th><td>      <b>return</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::InsertValueInst" title='llvm::InsertValueInst' data-ref="llvm::InsertValueInst" data-ref-filename="llvm..InsertValueInst">InsertValueInst</a>::<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm15InsertValueInst6CreateEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineEPNS_11InstructionE" title='llvm::InsertValueInst::Create' data-ref="_ZN4llvm15InsertValueInst6CreateEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm15InsertValueInst6CreateEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineEPNS_11InstructionE">Create</a>(<a class="local col4 ref" href="#574NewEV" title='NewEV' data-ref="574NewEV" data-ref-filename="574NewEV">NewEV</a>, <a class="local col9 ref" href="#569IV" title='IV' data-ref="569IV" data-ref-filename="569IV">IV</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm15InsertValueInst23getInsertedValueOperandEv" title='llvm::InsertValueInst::getInsertedValueOperand' data-ref="_ZN4llvm15InsertValueInst23getInsertedValueOperandEv" data-ref-filename="_ZN4llvm15InsertValueInst23getInsertedValueOperandEv">getInsertedValueOperand</a>(),</td></tr>
<tr><th id="3037">3037</th><td>                                     <a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm12makeArrayRefEPKT_S2_" title='llvm::makeArrayRef' data-ref="_ZN4llvm12makeArrayRefEPKT_S2_" data-ref-filename="_ZN4llvm12makeArrayRefEPKT_S2_">makeArrayRef</a>(<a class="local col2 ref" href="#572insi" title='insi' data-ref="572insi" data-ref-filename="572insi">insi</a>, <a class="local col3 ref" href="#573inse" title='inse' data-ref="573inse" data-ref-filename="573inse">inse</a>));</td></tr>
<tr><th id="3038">3038</th><td>    }</td></tr>
<tr><th id="3039">3039</th><td>    <b>if</b> (<a class="local col2 ref" href="#572insi" title='insi' data-ref="572insi" data-ref-filename="572insi">insi</a> == <a class="local col3 ref" href="#573inse" title='inse' data-ref="573inse" data-ref-filename="573inse">inse</a>)</td></tr>
<tr><th id="3040">3040</th><td>      <i>// The insert list is a prefix of the extract list</i></td></tr>
<tr><th id="3041">3041</th><td><i>      // We can simply remove the common indices from the extract and make it</i></td></tr>
<tr><th id="3042">3042</th><td><i>      // operate on the inserted value instead of the insertvalue result.</i></td></tr>
<tr><th id="3043">3043</th><td><i>      // i.e., replace</i></td></tr>
<tr><th id="3044">3044</th><td><i>      // %I = insertvalue { i32, { i32 } } %A, { i32 } { i32 42 }, 1</i></td></tr>
<tr><th id="3045">3045</th><td><i>      // %E = extractvalue { i32, { i32 } } %I, 1, 0</i></td></tr>
<tr><th id="3046">3046</th><td><i>      // with</i></td></tr>
<tr><th id="3047">3047</th><td><i>      // %E extractvalue { i32 } { i32 42 }, 0</i></td></tr>
<tr><th id="3048">3048</th><td>      <b>return</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ExtractValueInst" title='llvm::ExtractValueInst' data-ref="llvm::ExtractValueInst" data-ref-filename="llvm..ExtractValueInst">ExtractValueInst</a>::<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm16ExtractValueInst6CreateEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineEPNS_11InstructionE" title='llvm::ExtractValueInst::Create' data-ref="_ZN4llvm16ExtractValueInst6CreateEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm16ExtractValueInst6CreateEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineEPNS_11InstructionE">Create</a>(<a class="local col9 ref" href="#569IV" title='IV' data-ref="569IV" data-ref-filename="569IV">IV</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm15InsertValueInst23getInsertedValueOperandEv" title='llvm::InsertValueInst::getInsertedValueOperand' data-ref="_ZN4llvm15InsertValueInst23getInsertedValueOperandEv" data-ref-filename="_ZN4llvm15InsertValueInst23getInsertedValueOperandEv">getInsertedValueOperand</a>(),</td></tr>
<tr><th id="3049">3049</th><td>                                      <a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm12makeArrayRefEPKT_S2_" title='llvm::makeArrayRef' data-ref="_ZN4llvm12makeArrayRefEPKT_S2_" data-ref-filename="_ZN4llvm12makeArrayRefEPKT_S2_">makeArrayRef</a>(<a class="local col0 ref" href="#570exti" title='exti' data-ref="570exti" data-ref-filename="570exti">exti</a>, <a class="local col1 ref" href="#571exte" title='exte' data-ref="571exte" data-ref-filename="571exte">exte</a>));</td></tr>
<tr><th id="3050">3050</th><td>  }</td></tr>
<tr><th id="3051">3051</th><td>  <b>if</b> (<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::WithOverflowInst" title='llvm::WithOverflowInst' data-ref="llvm::WithOverflowInst" data-ref-filename="llvm..WithOverflowInst">WithOverflowInst</a> *<dfn class="local col5 decl" id="575WO" title='WO' data-type='llvm::WithOverflowInst *' data-ref="575WO" data-ref-filename="575WO"><a class="local col5 ref" href="#575WO" title='WO' data-ref="575WO" data-ref-filename="575WO">WO</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::WithOverflowInst" title='llvm::WithOverflowInst' data-ref="llvm::WithOverflowInst" data-ref-filename="llvm..WithOverflowInst">WithOverflowInst</a>&gt;(<a class="local col7 ref" href="#567Agg" title='Agg' data-ref="567Agg" data-ref-filename="567Agg">Agg</a>)) {</td></tr>
<tr><th id="3052">3052</th><td>    <i>// We're extracting from an overflow intrinsic, see if we're the only user,</i></td></tr>
<tr><th id="3053">3053</th><td><i>    // which allows us to simplify multiple result intrinsics to simpler</i></td></tr>
<tr><th id="3054">3054</th><td><i>    // things that just get one value.</i></td></tr>
<tr><th id="3055">3055</th><td>    <b>if</b> (<a class="local col5 ref" href="#575WO" title='WO' data-ref="575WO" data-ref-filename="575WO">WO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>()) {</td></tr>
<tr><th id="3056">3056</th><td>      <i>// Check if we're grabbing only the result of a 'with overflow' intrinsic</i></td></tr>
<tr><th id="3057">3057</th><td><i>      // and replace it with a traditional binary instruction.</i></td></tr>
<tr><th id="3058">3058</th><td>      <b>if</b> (*<a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm16ExtractValueInst9idx_beginEv" title='llvm::ExtractValueInst::idx_begin' data-ref="_ZNK4llvm16ExtractValueInst9idx_beginEv" data-ref-filename="_ZNK4llvm16ExtractValueInst9idx_beginEv">idx_begin</a>() == <var>0</var>) {</td></tr>
<tr><th id="3059">3059</th><td>        <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction::BinaryOps" title='llvm::Instruction::BinaryOps' data-ref="llvm::Instruction::BinaryOps" data-ref-filename="llvm..Instruction..BinaryOps">BinaryOps</a> <dfn class="local col6 decl" id="576BinOp" title='BinOp' data-type='Instruction::BinaryOps' data-ref="576BinOp" data-ref-filename="576BinOp">BinOp</dfn> = <a class="local col5 ref" href="#575WO" title='WO' data-ref="575WO" data-ref-filename="575WO">WO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/IntrinsicInst.h.html#_ZNK4llvm17BinaryOpIntrinsic11getBinaryOpEv" title='llvm::BinaryOpIntrinsic::getBinaryOp' data-ref="_ZNK4llvm17BinaryOpIntrinsic11getBinaryOpEv" data-ref-filename="_ZNK4llvm17BinaryOpIntrinsic11getBinaryOpEv">getBinaryOp</a>();</td></tr>
<tr><th id="3060">3060</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="577LHS" title='LHS' data-type='llvm::Value *' data-ref="577LHS" data-ref-filename="577LHS">LHS</dfn> = <a class="local col5 ref" href="#575WO" title='WO' data-ref="575WO" data-ref-filename="575WO">WO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/IntrinsicInst.h.html#_ZNK4llvm17BinaryOpIntrinsic6getLHSEv" title='llvm::BinaryOpIntrinsic::getLHS' data-ref="_ZNK4llvm17BinaryOpIntrinsic6getLHSEv" data-ref-filename="_ZNK4llvm17BinaryOpIntrinsic6getLHSEv">getLHS</a>(), *<dfn class="local col8 decl" id="578RHS" title='RHS' data-type='llvm::Value *' data-ref="578RHS" data-ref-filename="578RHS">RHS</dfn> = <a class="local col5 ref" href="#575WO" title='WO' data-ref="575WO" data-ref-filename="575WO">WO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/IntrinsicInst.h.html#_ZNK4llvm17BinaryOpIntrinsic6getRHSEv" title='llvm::BinaryOpIntrinsic::getRHS' data-ref="_ZNK4llvm17BinaryOpIntrinsic6getRHSEv" data-ref-filename="_ZNK4llvm17BinaryOpIntrinsic6getRHSEv">getRHS</a>();</td></tr>
<tr><th id="3061">3061</th><td>        <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'>*<a class="local col5 ref" href="#575WO" title='WO' data-ref="575WO" data-ref-filename="575WO">WO</a></span>, <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm10UndefValue3getEPNS_4TypeE" title='llvm::UndefValue::get' data-ref="_ZN4llvm10UndefValue3getEPNS_4TypeE" data-ref-filename="_ZN4llvm10UndefValue3getEPNS_4TypeE">get</a>(<a class="local col5 ref" href="#575WO" title='WO' data-ref="575WO" data-ref-filename="575WO">WO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()));</td></tr>
<tr><th id="3062">3062</th><td>        <a class="virtual member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" title='llvm::InstCombinerImpl::eraseInstFromFunction' data-ref="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE">eraseInstFromFunction</a>(<span class='refarg'>*<a class="local col5 ref" href="#575WO" title='WO' data-ref="575WO" data-ref-filename="575WO">WO</a></span>);</td></tr>
<tr><th id="3063">3063</th><td>        <b>return</b> <a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::BinaryOperator" title='llvm::BinaryOperator' data-ref="llvm::BinaryOperator" data-ref-filename="llvm..BinaryOperator">BinaryOperator</a>::<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm14BinaryOperator6CreateENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPS1_" title='llvm::BinaryOperator::Create' data-ref="_ZN4llvm14BinaryOperator6CreateENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPS1_" data-ref-filename="_ZN4llvm14BinaryOperator6CreateENS_11Instruction9BinaryOpsEPNS_5ValueES4_RKNS_5TwineEPS1_">Create</a>(<a class="local col6 ref" href="#576BinOp" title='BinOp' data-ref="576BinOp" data-ref-filename="576BinOp">BinOp</a>, <a class="local col7 ref" href="#577LHS" title='LHS' data-ref="577LHS" data-ref-filename="577LHS">LHS</a>, <a class="local col8 ref" href="#578RHS" title='RHS' data-ref="578RHS" data-ref-filename="578RHS">RHS</a>);</td></tr>
<tr><th id="3064">3064</th><td>      }</td></tr>
<tr><th id="3065">3065</th><td></td></tr>
<tr><th id="3066">3066</th><td>      <i>// If the normal result of the add is dead, and the RHS is a constant,</i></td></tr>
<tr><th id="3067">3067</th><td><i>      // we can transform this into a range comparison.</i></td></tr>
<tr><th id="3068">3068</th><td><i>      // overflow = uadd a, -4  --&gt;  overflow = icmp ugt a, 3</i></td></tr>
<tr><th id="3069">3069</th><td>      <b>if</b> (<a class="local col5 ref" href="#575WO" title='WO' data-ref="575WO" data-ref-filename="575WO">WO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/IntrinsicInst.h.html#_ZNK4llvm13IntrinsicInst14getIntrinsicIDEv" title='llvm::IntrinsicInst::getIntrinsicID' data-ref="_ZNK4llvm13IntrinsicInst14getIntrinsicIDEv" data-ref-filename="_ZNK4llvm13IntrinsicInst14getIntrinsicIDEv">getIntrinsicID</a>() == <span class="namespace">Intrinsic::</span><a class="enum" href="../../../../build/include/llvm/IR/IntrinsicEnums.inc.html#llvm::Intrinsic::uadd_with_overflow" title='llvm::Intrinsic::uadd_with_overflow' data-ref="llvm::Intrinsic::uadd_with_overflow" data-ref-filename="llvm..Intrinsic..uadd_with_overflow">uadd_with_overflow</a>)</td></tr>
<tr><th id="3070">3070</th><td>        <b>if</b> (<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a> *<dfn class="local col9 decl" id="579CI" title='CI' data-type='llvm::ConstantInt *' data-ref="579CI" data-ref-filename="579CI"><a class="local col9 ref" href="#579CI" title='CI' data-ref="579CI" data-ref-filename="579CI">CI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col5 ref" href="#575WO" title='WO' data-ref="575WO" data-ref-filename="575WO">WO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/IntrinsicInst.h.html#_ZNK4llvm17BinaryOpIntrinsic6getRHSEv" title='llvm::BinaryOpIntrinsic::getRHS' data-ref="_ZNK4llvm17BinaryOpIntrinsic6getRHSEv" data-ref-filename="_ZNK4llvm17BinaryOpIntrinsic6getRHSEv">getRHS</a>()))</td></tr>
<tr><th id="3071">3071</th><td>          <b>return</b> <b>new</b> <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ICmpInst" title='llvm::ICmpInst' data-ref="llvm::ICmpInst" data-ref-filename="llvm..ICmpInst">ICmpInst</a><a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm8ICmpInstC1ENS_7CmpInst9PredicateEPNS_5ValueES4_RKNS_5TwineE" title='llvm::ICmpInst::ICmpInst' data-ref="_ZN4llvm8ICmpInstC1ENS_7CmpInst9PredicateEPNS_5ValueES4_RKNS_5TwineE" data-ref-filename="_ZN4llvm8ICmpInstC1ENS_7CmpInst9PredicateEPNS_5ValueES4_RKNS_5TwineE">(</a><a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ICmpInst" title='llvm::ICmpInst' data-ref="llvm::ICmpInst" data-ref-filename="llvm..ICmpInst">ICmpInst</a>::<a class="enum" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CmpInst::ICMP_UGT" title='llvm::CmpInst::ICMP_UGT' data-ref="llvm::CmpInst::ICMP_UGT" data-ref-filename="llvm..CmpInst..ICMP_UGT">ICMP_UGT</a>, <a class="local col5 ref" href="#575WO" title='WO' data-ref="575WO" data-ref-filename="575WO">WO</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/IntrinsicInst.h.html#_ZNK4llvm17BinaryOpIntrinsic6getLHSEv" title='llvm::BinaryOpIntrinsic::getLHS' data-ref="_ZNK4llvm17BinaryOpIntrinsic6getLHSEv" data-ref-filename="_ZNK4llvm17BinaryOpIntrinsic6getLHSEv">getLHS</a>(),</td></tr>
<tr><th id="3072">3072</th><td>                              <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm12ConstantExpr6getNotEPNS_8ConstantE" title='llvm::ConstantExpr::getNot' data-ref="_ZN4llvm12ConstantExpr6getNotEPNS_8ConstantE" data-ref-filename="_ZN4llvm12ConstantExpr6getNotEPNS_8ConstantE">getNot</a>(<a class="local col9 ref" href="#579CI" title='CI' data-ref="579CI" data-ref-filename="579CI">CI</a>));</td></tr>
<tr><th id="3073">3073</th><td>    }</td></tr>
<tr><th id="3074">3074</th><td>  }</td></tr>
<tr><th id="3075">3075</th><td>  <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<dfn class="local col0 decl" id="580L" title='L' data-type='llvm::LoadInst *' data-ref="580L" data-ref-filename="580L"><a class="local col0 ref" href="#580L" title='L' data-ref="580L" data-ref-filename="580L">L</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a>&gt;(<a class="local col7 ref" href="#567Agg" title='Agg' data-ref="567Agg" data-ref-filename="567Agg">Agg</a>))</td></tr>
<tr><th id="3076">3076</th><td>    <i>// If the (non-volatile) load only has one use, we can rewrite this to a</i></td></tr>
<tr><th id="3077">3077</th><td><i>    // load from a GEP. This reduces the size of the load. If a load is used</i></td></tr>
<tr><th id="3078">3078</th><td><i>    // only by extractvalue instructions then this either must have been</i></td></tr>
<tr><th id="3079">3079</th><td><i>    // optimized before, or it is a struct with padding, in which case we</i></td></tr>
<tr><th id="3080">3080</th><td><i>    // don't want to do the transformation as it loses padding knowledge.</i></td></tr>
<tr><th id="3081">3081</th><td>    <b>if</b> (<a class="local col0 ref" href="#580L" title='L' data-ref="580L" data-ref-filename="580L">L</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm8LoadInst8isSimpleEv" title='llvm::LoadInst::isSimple' data-ref="_ZNK4llvm8LoadInst8isSimpleEv" data-ref-filename="_ZNK4llvm8LoadInst8isSimpleEv">isSimple</a>() &amp;&amp; <a class="local col0 ref" href="#580L" title='L' data-ref="580L" data-ref-filename="580L">L</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9hasOneUseEv" title='llvm::Value::hasOneUse' data-ref="_ZNK4llvm5Value9hasOneUseEv" data-ref-filename="_ZNK4llvm5Value9hasOneUseEv">hasOneUse</a>()) {</td></tr>
<tr><th id="3082">3082</th><td>      <i>// extractvalue has integer indices, getelementptr has Value*s. Convert.</i></td></tr>
<tr><th id="3083">3083</th><td>      <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a>*, <var>4</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col1 decl" id="581Indices" title='Indices' data-type='SmallVector&lt;llvm::Value *, 4&gt;' data-ref="581Indices" data-ref-filename="581Indices">Indices</dfn>;</td></tr>
<tr><th id="3084">3084</th><td>      <i>// Prefix an i32 0 since we need the first element.</i></td></tr>
<tr><th id="3085">3085</th><td>      <a class="local col1 ref" href="#581Indices" title='Indices' data-ref="581Indices" data-ref-filename="581Indices">Indices</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8getInt32Ej" title='llvm::IRBuilderBase::getInt32' data-ref="_ZN4llvm13IRBuilderBase8getInt32Ej" data-ref-filename="_ZN4llvm13IRBuilderBase8getInt32Ej">getInt32</a>(<var>0</var>));</td></tr>
<tr><th id="3086">3086</th><td>      <b>for</b> (<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ExtractValueInst" title='llvm::ExtractValueInst' data-ref="llvm::ExtractValueInst" data-ref-filename="llvm..ExtractValueInst">ExtractValueInst</a>::<a class="typedef" href="../../../include/llvm/IR/Instructions.h.html#llvm::ExtractValueInst::idx_iterator" title='llvm::ExtractValueInst::idx_iterator' data-type='const unsigned int *' data-ref="llvm::ExtractValueInst::idx_iterator" data-ref-filename="llvm..ExtractValueInst..idx_iterator">idx_iterator</a> <dfn class="local col2 decl" id="582I" title='I' data-type='ExtractValueInst::idx_iterator' data-ref="582I" data-ref-filename="582I">I</dfn> = <a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm16ExtractValueInst9idx_beginEv" title='llvm::ExtractValueInst::idx_begin' data-ref="_ZNK4llvm16ExtractValueInst9idx_beginEv" data-ref-filename="_ZNK4llvm16ExtractValueInst9idx_beginEv">idx_begin</a>(), <dfn class="local col3 decl" id="583E" title='E' data-type='ExtractValueInst::idx_iterator' data-ref="583E" data-ref-filename="583E">E</dfn> = <a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm16ExtractValueInst7idx_endEv" title='llvm::ExtractValueInst::idx_end' data-ref="_ZNK4llvm16ExtractValueInst7idx_endEv" data-ref-filename="_ZNK4llvm16ExtractValueInst7idx_endEv">idx_end</a>();</td></tr>
<tr><th id="3087">3087</th><td>            <a class="local col2 ref" href="#582I" title='I' data-ref="582I" data-ref-filename="582I">I</a> != <a class="local col3 ref" href="#583E" title='E' data-ref="583E" data-ref-filename="583E">E</a>; ++<a class="local col2 ref" href="#582I" title='I' data-ref="582I" data-ref-filename="582I">I</a>)</td></tr>
<tr><th id="3088">3088</th><td>        <a class="local col1 ref" href="#581Indices" title='Indices' data-ref="581Indices" data-ref-filename="581Indices">Indices</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8getInt32Ej" title='llvm::IRBuilderBase::getInt32' data-ref="_ZN4llvm13IRBuilderBase8getInt32Ej" data-ref-filename="_ZN4llvm13IRBuilderBase8getInt32Ej">getInt32</a>(*<a class="local col2 ref" href="#582I" title='I' data-ref="582I" data-ref-filename="582I">I</a>));</td></tr>
<tr><th id="3089">3089</th><td></td></tr>
<tr><th id="3090">3090</th><td>      <i>// We need to insert these at the location of the old load, not at that of</i></td></tr>
<tr><th id="3091">3091</th><td><i>      // the extractvalue.</i></td></tr>
<tr><th id="3092">3092</th><td>      <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE">SetInsertPoint</a>(<a class="local col0 ref" href="#580L" title='L' data-ref="580L" data-ref-filename="580L">L</a>);</td></tr>
<tr><th id="3093">3093</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="584GEP" title='GEP' data-type='llvm::Value *' data-ref="584GEP" data-ref-filename="584GEP">GEP</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInBoundsGEP' data-ref="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInBoundsGEPEPNS_4TypeEPNS_5ValueENS_8ArrayRefIS4_EERKNS_5TwineE">CreateInBoundsGEP</a>(<a class="local col0 ref" href="#580L" title='L' data-ref="580L" data-ref-filename="580L">L</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(),</td></tr>
<tr><th id="3094">3094</th><td>                                             <a class="local col0 ref" href="#580L" title='L' data-ref="580L" data-ref-filename="580L">L</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm8LoadInst17getPointerOperandEv" title='llvm::LoadInst::getPointerOperand' data-ref="_ZN4llvm8LoadInst17getPointerOperandEv" data-ref-filename="_ZN4llvm8LoadInst17getPointerOperandEv">getPointerOperand</a>(), <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col1 ref" href="#581Indices" title='Indices' data-ref="581Indices" data-ref-filename="581Indices">Indices</a>);</td></tr>
<tr><th id="3095">3095</th><td>      <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col5 decl" id="585NL" title='NL' data-type='llvm::Instruction *' data-ref="585NL" data-ref-filename="585NL">NL</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateLoadEPNS_4TypeEPNS_5ValueERKNS_5TwineE" title='llvm::IRBuilderBase::CreateLoad' data-ref="_ZN4llvm13IRBuilderBase10CreateLoadEPNS_4TypeEPNS_5ValueERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateLoadEPNS_4TypeEPNS_5ValueERKNS_5TwineE">CreateLoad</a>(<a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col4 ref" href="#584GEP" title='GEP' data-ref="584GEP" data-ref-filename="584GEP">GEP</a>);</td></tr>
<tr><th id="3096">3096</th><td>      <i>// Whatever aliasing information we had for the orignal load must also</i></td></tr>
<tr><th id="3097">3097</th><td><i>      // hold for the smaller load, so propagate the annotations.</i></td></tr>
<tr><th id="3098">3098</th><td>      <a class="type" href="../../../include/llvm/IR/Metadata.h.html#llvm::AAMDNodes" title='llvm::AAMDNodes' data-ref="llvm::AAMDNodes" data-ref-filename="llvm..AAMDNodes">AAMDNodes</a> <a class="ref fn fake" href="../../../include/llvm/IR/Metadata.h.html#_ZN4llvm9AAMDNodesC1Ev" title='llvm::AAMDNodes::AAMDNodes' data-ref="_ZN4llvm9AAMDNodesC1Ev" data-ref-filename="_ZN4llvm9AAMDNodesC1Ev"></a><dfn class="local col6 decl" id="586Nodes" title='Nodes' data-type='llvm::AAMDNodes' data-ref="586Nodes" data-ref-filename="586Nodes">Nodes</dfn>;</td></tr>
<tr><th id="3099">3099</th><td>      <a class="local col0 ref" href="#580L" title='L' data-ref="580L" data-ref-filename="580L">L</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction13getAAMetadataERNS_9AAMDNodesEb" title='llvm::Instruction::getAAMetadata' data-ref="_ZNK4llvm11Instruction13getAAMetadataERNS_9AAMDNodesEb" data-ref-filename="_ZNK4llvm11Instruction13getAAMetadataERNS_9AAMDNodesEb">getAAMetadata</a>(<span class='refarg'><a class="local col6 ref" href="#586Nodes" title='Nodes' data-ref="586Nodes" data-ref-filename="586Nodes">Nodes</a></span>);</td></tr>
<tr><th id="3100">3100</th><td>      <a class="local col5 ref" href="#585NL" title='NL' data-ref="585NL" data-ref-filename="585NL">NL</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction13setAAMetadataERKNS_9AAMDNodesE" title='llvm::Instruction::setAAMetadata' data-ref="_ZN4llvm11Instruction13setAAMetadataERKNS_9AAMDNodesE" data-ref-filename="_ZN4llvm11Instruction13setAAMetadataERKNS_9AAMDNodesE">setAAMetadata</a>(<a class="local col6 ref" href="#586Nodes" title='Nodes' data-ref="586Nodes" data-ref-filename="586Nodes">Nodes</a>);</td></tr>
<tr><th id="3101">3101</th><td>      <i>// Returning the load directly will cause the main loop to insert it in</i></td></tr>
<tr><th id="3102">3102</th><td><i>      // the wrong spot, so use replaceInstUsesWith().</i></td></tr>
<tr><th id="3103">3103</th><td>      <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'><a class="local col6 ref" href="#566EV" title='EV' data-ref="566EV" data-ref-filename="566EV">EV</a></span>, <a class="local col5 ref" href="#585NL" title='NL' data-ref="585NL" data-ref-filename="585NL">NL</a>);</td></tr>
<tr><th id="3104">3104</th><td>    }</td></tr>
<tr><th id="3105">3105</th><td>  <i>// We could simplify extracts from other values. Note that nested extracts may</i></td></tr>
<tr><th id="3106">3106</th><td><i>  // already be simplified implicitly by the above: extract (extract (insert) )</i></td></tr>
<tr><th id="3107">3107</th><td><i>  // will be translated into extract ( insert ( extract ) ) first and then just</i></td></tr>
<tr><th id="3108">3108</th><td><i>  // the value inserted, if appropriate. Similarly for extracts from single-use</i></td></tr>
<tr><th id="3109">3109</th><td><i>  // loads: extract (extract (load)) will be translated to extract (load (gep))</i></td></tr>
<tr><th id="3110">3110</th><td><i>  // and if again single-use then via load (gep (gep)) to load (gep).</i></td></tr>
<tr><th id="3111">3111</th><td><i>  // However, double extracts from e.g. function arguments or return values</i></td></tr>
<tr><th id="3112">3112</th><td><i>  // aren't handled yet.</i></td></tr>
<tr><th id="3113">3113</th><td>  <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="3114">3114</th><td>}</td></tr>
<tr><th id="3115">3115</th><td></td></tr>
<tr><th id="3116">3116</th><td><i class="doc" data-doc="_ZL10isCatchAllN4llvm13EHPersonalityEPNS_8ConstantE">/// Return 'true' if the given typeinfo will match anything.</i></td></tr>
<tr><th id="3117">3117</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL10isCatchAllN4llvm13EHPersonalityEPNS_8ConstantE" title='isCatchAll' data-type='bool isCatchAll(llvm::EHPersonality Personality, llvm::Constant * TypeInfo)' data-ref="_ZL10isCatchAllN4llvm13EHPersonalityEPNS_8ConstantE" data-ref-filename="_ZL10isCatchAllN4llvm13EHPersonalityEPNS_8ConstantE">isCatchAll</dfn>(<a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a> <dfn class="local col7 decl" id="587Personality" title='Personality' data-type='llvm::EHPersonality' data-ref="587Personality" data-ref-filename="587Personality">Personality</dfn>, <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col8 decl" id="588TypeInfo" title='TypeInfo' data-type='llvm::Constant *' data-ref="588TypeInfo" data-ref-filename="588TypeInfo">TypeInfo</dfn>) {</td></tr>
<tr><th id="3118">3118</th><td>  <b>switch</b> (<a class="local col7 ref" href="#587Personality" title='Personality' data-ref="587Personality" data-ref-filename="587Personality">Personality</a>) {</td></tr>
<tr><th id="3119">3119</th><td>  <b>case</b> <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a>::<a class="enum" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality::GNU_C" title='llvm::EHPersonality::GNU_C' data-ref="llvm::EHPersonality::GNU_C" data-ref-filename="llvm..EHPersonality..GNU_C">GNU_C</a>:</td></tr>
<tr><th id="3120">3120</th><td>  <b>case</b> <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a>::<a class="enum" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality::GNU_C_SjLj" title='llvm::EHPersonality::GNU_C_SjLj' data-ref="llvm::EHPersonality::GNU_C_SjLj" data-ref-filename="llvm..EHPersonality..GNU_C_SjLj">GNU_C_SjLj</a>:</td></tr>
<tr><th id="3121">3121</th><td>  <b>case</b> <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a>::<a class="enum" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality::Rust" title='llvm::EHPersonality::Rust' data-ref="llvm::EHPersonality::Rust" data-ref-filename="llvm..EHPersonality..Rust">Rust</a>:</td></tr>
<tr><th id="3122">3122</th><td>    <i>// The GCC C EH and Rust personality only exists to support cleanups, so</i></td></tr>
<tr><th id="3123">3123</th><td><i>    // it's not clear what the semantics of catch clauses are.</i></td></tr>
<tr><th id="3124">3124</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="3125">3125</th><td>  <b>case</b> <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a>::<a class="enum" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality::Unknown" title='llvm::EHPersonality::Unknown' data-ref="llvm::EHPersonality::Unknown" data-ref-filename="llvm..EHPersonality..Unknown">Unknown</a>:</td></tr>
<tr><th id="3126">3126</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="3127">3127</th><td>  <b>case</b> <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a>::<a class="enum" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality::GNU_Ada" title='llvm::EHPersonality::GNU_Ada' data-ref="llvm::EHPersonality::GNU_Ada" data-ref-filename="llvm..EHPersonality..GNU_Ada">GNU_Ada</a>:</td></tr>
<tr><th id="3128">3128</th><td>    <i>// While __gnat_all_others_value will match any Ada exception, it doesn't</i></td></tr>
<tr><th id="3129">3129</th><td><i>    // match foreign exceptions (or didn't, before gcc-4.7).</i></td></tr>
<tr><th id="3130">3130</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="3131">3131</th><td>  <b>case</b> <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a>::<a class="enum" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality::GNU_CXX" title='llvm::EHPersonality::GNU_CXX' data-ref="llvm::EHPersonality::GNU_CXX" data-ref-filename="llvm..EHPersonality..GNU_CXX">GNU_CXX</a>:</td></tr>
<tr><th id="3132">3132</th><td>  <b>case</b> <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a>::<a class="enum" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality::GNU_CXX_SjLj" title='llvm::EHPersonality::GNU_CXX_SjLj' data-ref="llvm::EHPersonality::GNU_CXX_SjLj" data-ref-filename="llvm..EHPersonality..GNU_CXX_SjLj">GNU_CXX_SjLj</a>:</td></tr>
<tr><th id="3133">3133</th><td>  <b>case</b> <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a>::<a class="enum" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality::GNU_ObjC" title='llvm::EHPersonality::GNU_ObjC' data-ref="llvm::EHPersonality::GNU_ObjC" data-ref-filename="llvm..EHPersonality..GNU_ObjC">GNU_ObjC</a>:</td></tr>
<tr><th id="3134">3134</th><td>  <b>case</b> <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a>::<a class="enum" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality::MSVC_X86SEH" title='llvm::EHPersonality::MSVC_X86SEH' data-ref="llvm::EHPersonality::MSVC_X86SEH" data-ref-filename="llvm..EHPersonality..MSVC_X86SEH">MSVC_X86SEH</a>:</td></tr>
<tr><th id="3135">3135</th><td>  <b>case</b> <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a>::<a class="enum" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality::MSVC_TableSEH" title='llvm::EHPersonality::MSVC_TableSEH' data-ref="llvm::EHPersonality::MSVC_TableSEH" data-ref-filename="llvm..EHPersonality..MSVC_TableSEH">MSVC_TableSEH</a>:</td></tr>
<tr><th id="3136">3136</th><td>  <b>case</b> <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a>::<a class="enum" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality::MSVC_CXX" title='llvm::EHPersonality::MSVC_CXX' data-ref="llvm::EHPersonality::MSVC_CXX" data-ref-filename="llvm..EHPersonality..MSVC_CXX">MSVC_CXX</a>:</td></tr>
<tr><th id="3137">3137</th><td>  <b>case</b> <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a>::<a class="enum" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality::CoreCLR" title='llvm::EHPersonality::CoreCLR' data-ref="llvm::EHPersonality::CoreCLR" data-ref-filename="llvm..EHPersonality..CoreCLR">CoreCLR</a>:</td></tr>
<tr><th id="3138">3138</th><td>  <b>case</b> <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a>::<a class="enum" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality::Wasm_CXX" title='llvm::EHPersonality::Wasm_CXX' data-ref="llvm::EHPersonality::Wasm_CXX" data-ref-filename="llvm..EHPersonality..Wasm_CXX">Wasm_CXX</a>:</td></tr>
<tr><th id="3139">3139</th><td>  <b>case</b> <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a>::<a class="enum" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality::XL_CXX" title='llvm::EHPersonality::XL_CXX' data-ref="llvm::EHPersonality::XL_CXX" data-ref-filename="llvm..EHPersonality..XL_CXX">XL_CXX</a>:</td></tr>
<tr><th id="3140">3140</th><td>    <b>return</b> <a class="local col8 ref" href="#588TypeInfo" title='TypeInfo' data-ref="588TypeInfo" data-ref-filename="588TypeInfo">TypeInfo</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZNK4llvm8Constant11isNullValueEv" title='llvm::Constant::isNullValue' data-ref="_ZNK4llvm8Constant11isNullValueEv" data-ref-filename="_ZNK4llvm8Constant11isNullValueEv">isNullValue</a>();</td></tr>
<tr><th id="3141">3141</th><td>  }</td></tr>
<tr><th id="3142">3142</th><td>  <a class="macro" href="../../../include/llvm/Support/ErrorHandling.h.html#139" title="__builtin_unreachable()" data-ref="_M/llvm_unreachable">llvm_unreachable</a>(<q>"invalid enum"</q>);</td></tr>
<tr><th id="3143">3143</th><td>}</td></tr>
<tr><th id="3144">3144</th><td></td></tr>
<tr><th id="3145">3145</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL14shorter_filterPKN4llvm5ValueES2_" title='shorter_filter' data-type='bool shorter_filter(const llvm::Value * LHS, const llvm::Value * RHS)' data-ref="_ZL14shorter_filterPKN4llvm5ValueES2_" data-ref-filename="_ZL14shorter_filterPKN4llvm5ValueES2_">shorter_filter</dfn>(<em>const</em> <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="589LHS" title='LHS' data-type='const llvm::Value *' data-ref="589LHS" data-ref-filename="589LHS">LHS</dfn>, <em>const</em> <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="590RHS" title='RHS' data-type='const llvm::Value *' data-ref="590RHS" data-ref-filename="590RHS">RHS</dfn>) {</td></tr>
<tr><th id="3146">3146</th><td>  <b>return</b></td></tr>
<tr><th id="3147">3147</th><td>    <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ArrayType" title='llvm::ArrayType' data-ref="llvm::ArrayType" data-ref-filename="llvm..ArrayType">ArrayType</a>&gt;(<a class="local col9 ref" href="#589LHS" title='LHS' data-ref="589LHS" data-ref-filename="589LHS">LHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>())-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm9ArrayType14getNumElementsEv" title='llvm::ArrayType::getNumElements' data-ref="_ZNK4llvm9ArrayType14getNumElementsEv" data-ref-filename="_ZNK4llvm9ArrayType14getNumElementsEv">getNumElements</a>()</td></tr>
<tr><th id="3148">3148</th><td>  &lt;</td></tr>
<tr><th id="3149">3149</th><td>    <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ArrayType" title='llvm::ArrayType' data-ref="llvm::ArrayType" data-ref-filename="llvm..ArrayType">ArrayType</a>&gt;(<a class="local col0 ref" href="#590RHS" title='RHS' data-ref="590RHS" data-ref-filename="590RHS">RHS</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>())-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm9ArrayType14getNumElementsEv" title='llvm::ArrayType::getNumElements' data-ref="_ZNK4llvm9ArrayType14getNumElementsEv" data-ref-filename="_ZNK4llvm9ArrayType14getNumElementsEv">getNumElements</a>();</td></tr>
<tr><th id="3150">3150</th><td>}</td></tr>
<tr><th id="3151">3151</th><td></td></tr>
<tr><th id="3152">3152</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl19visitLandingPadInstERNS_14LandingPadInstE" title='llvm::InstCombinerImpl::visitLandingPadInst' data-ref="_ZN4llvm16InstCombinerImpl19visitLandingPadInstERNS_14LandingPadInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl19visitLandingPadInstERNS_14LandingPadInstE">visitLandingPadInst</dfn>(<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::LandingPadInst" title='llvm::LandingPadInst' data-ref="llvm::LandingPadInst" data-ref-filename="llvm..LandingPadInst">LandingPadInst</a> &amp;<dfn class="local col1 decl" id="591LI" title='LI' data-type='llvm::LandingPadInst &amp;' data-ref="591LI" data-ref-filename="591LI">LI</dfn>) {</td></tr>
<tr><th id="3153">3153</th><td>  <i>// The logic here should be correct for any real-world personality function.</i></td></tr>
<tr><th id="3154">3154</th><td><i>  // However if that turns out not to be true, the offending logic can always</i></td></tr>
<tr><th id="3155">3155</th><td><i>  // be conditioned on the personality function, like the catch-all logic is.</i></td></tr>
<tr><th id="3156">3156</th><td>  <a class="type" href="../../../include/llvm/Analysis/EHPersonalities.h.html#llvm::EHPersonality" title='llvm::EHPersonality' data-ref="llvm::EHPersonality" data-ref-filename="llvm..EHPersonality">EHPersonality</a> <dfn class="local col2 decl" id="592Personality" title='Personality' data-type='llvm::EHPersonality' data-ref="592Personality" data-ref-filename="592Personality">Personality</dfn> =</td></tr>
<tr><th id="3157">3157</th><td>      <a class="ref fn" href="../../../include/llvm/Analysis/EHPersonalities.h.html#_ZN4llvm21classifyEHPersonalityEPKNS_5ValueE" title='llvm::classifyEHPersonality' data-ref="_ZN4llvm21classifyEHPersonalityEPKNS_5ValueE" data-ref-filename="_ZN4llvm21classifyEHPersonalityEPKNS_5ValueE">classifyEHPersonality</a>(<a class="local col1 ref" href="#591LI" title='LI' data-ref="591LI" data-ref-filename="591LI">LI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock9getParentEv" title='llvm::BasicBlock::getParent' data-ref="_ZN4llvm10BasicBlock9getParentEv" data-ref-filename="_ZN4llvm10BasicBlock9getParentEv">getParent</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Function.h.html#_ZNK4llvm8Function16getPersonalityFnEv" title='llvm::Function::getPersonalityFn' data-ref="_ZNK4llvm8Function16getPersonalityFnEv" data-ref-filename="_ZNK4llvm8Function16getPersonalityFnEv">getPersonalityFn</a>());</td></tr>
<tr><th id="3158">3158</th><td></td></tr>
<tr><th id="3159">3159</th><td>  <i>// Simplify the list of clauses, eg by removing repeated catch clauses</i></td></tr>
<tr><th id="3160">3160</th><td><i>  // (these are often created by inlining).</i></td></tr>
<tr><th id="3161">3161</th><td>  <em>bool</em> <dfn class="local col3 decl" id="593MakeNewInstruction" title='MakeNewInstruction' data-type='bool' data-ref="593MakeNewInstruction" data-ref-filename="593MakeNewInstruction">MakeNewInstruction</dfn> = <b>false</b>; <i>// If true, recreate using the following:</i></td></tr>
<tr><th id="3162">3162</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *, <var>16</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col4 decl" id="594NewClauses" title='NewClauses' data-type='SmallVector&lt;llvm::Constant *, 16&gt;' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</dfn>; <i>// - Clauses for the new instruction;</i></td></tr>
<tr><th id="3163">3163</th><td>  <em>bool</em> <dfn class="local col5 decl" id="595CleanupFlag" title='CleanupFlag' data-type='bool' data-ref="595CleanupFlag" data-ref-filename="595CleanupFlag">CleanupFlag</dfn> = <a class="local col1 ref" href="#591LI" title='LI' data-ref="591LI" data-ref-filename="591LI">LI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm14LandingPadInst9isCleanupEv" title='llvm::LandingPadInst::isCleanup' data-ref="_ZNK4llvm14LandingPadInst9isCleanupEv" data-ref-filename="_ZNK4llvm14LandingPadInst9isCleanupEv">isCleanup</a>();   <i>// - The new instruction is a cleanup.</i></td></tr>
<tr><th id="3164">3164</th><td></td></tr>
<tr><th id="3165">3165</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallPtrSet.h.html#llvm::SmallPtrSet" title='llvm::SmallPtrSet' data-ref="llvm::SmallPtrSet" data-ref-filename="llvm..SmallPtrSet">SmallPtrSet</a>&lt;<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *, <var>16</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallPtrSet.h.html#_ZN4llvm11SmallPtrSetC1Ev" title='llvm::SmallPtrSet::SmallPtrSet&lt;PtrType, SmallSize&gt;' data-ref="_ZN4llvm11SmallPtrSetC1Ev" data-ref-filename="_ZN4llvm11SmallPtrSetC1Ev"></a><dfn class="local col6 decl" id="596AlreadyCaught" title='AlreadyCaught' data-type='SmallPtrSet&lt;llvm::Value *, 16&gt;' data-ref="596AlreadyCaught" data-ref-filename="596AlreadyCaught">AlreadyCaught</dfn>; <i>// Typeinfos known caught already.</i></td></tr>
<tr><th id="3166">3166</th><td>  <b>for</b> (<em>unsigned</em> <dfn class="local col7 decl" id="597i" title='i' data-type='unsigned int' data-ref="597i" data-ref-filename="597i">i</dfn> = <var>0</var>, <dfn class="local col8 decl" id="598e" title='e' data-type='unsigned int' data-ref="598e" data-ref-filename="598e">e</dfn> = <a class="local col1 ref" href="#591LI" title='LI' data-ref="591LI" data-ref-filename="591LI">LI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm14LandingPadInst13getNumClausesEv" title='llvm::LandingPadInst::getNumClauses' data-ref="_ZNK4llvm14LandingPadInst13getNumClausesEv" data-ref-filename="_ZNK4llvm14LandingPadInst13getNumClausesEv">getNumClauses</a>(); <a class="local col7 ref" href="#597i" title='i' data-ref="597i" data-ref-filename="597i">i</a> != <a class="local col8 ref" href="#598e" title='e' data-ref="598e" data-ref-filename="598e">e</a>; ++<a class="local col7 ref" href="#597i" title='i' data-ref="597i" data-ref-filename="597i">i</a>) {</td></tr>
<tr><th id="3167">3167</th><td>    <em>bool</em> <dfn class="local col9 decl" id="599isLastClause" title='isLastClause' data-type='bool' data-ref="599isLastClause" data-ref-filename="599isLastClause">isLastClause</dfn> = <a class="local col7 ref" href="#597i" title='i' data-ref="597i" data-ref-filename="597i">i</a> + <var>1</var> == <a class="local col8 ref" href="#598e" title='e' data-ref="598e" data-ref-filename="598e">e</a>;</td></tr>
<tr><th id="3168">3168</th><td>    <b>if</b> (<a class="local col1 ref" href="#591LI" title='LI' data-ref="591LI" data-ref-filename="591LI">LI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm14LandingPadInst7isCatchEj" title='llvm::LandingPadInst::isCatch' data-ref="_ZNK4llvm14LandingPadInst7isCatchEj" data-ref-filename="_ZNK4llvm14LandingPadInst7isCatchEj">isCatch</a>(<a class="local col7 ref" href="#597i" title='i' data-ref="597i" data-ref-filename="597i">i</a>)) {</td></tr>
<tr><th id="3169">3169</th><td>      <i>// A catch clause.</i></td></tr>
<tr><th id="3170">3170</th><td>      <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col0 decl" id="600CatchClause" title='CatchClause' data-type='llvm::Constant *' data-ref="600CatchClause" data-ref-filename="600CatchClause">CatchClause</dfn> = <a class="local col1 ref" href="#591LI" title='LI' data-ref="591LI" data-ref-filename="591LI">LI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm14LandingPadInst9getClauseEj" title='llvm::LandingPadInst::getClause' data-ref="_ZNK4llvm14LandingPadInst9getClauseEj" data-ref-filename="_ZNK4llvm14LandingPadInst9getClauseEj">getClause</a>(<a class="local col7 ref" href="#597i" title='i' data-ref="597i" data-ref-filename="597i">i</a>);</td></tr>
<tr><th id="3171">3171</th><td>      <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col1 decl" id="601TypeInfo" title='TypeInfo' data-type='llvm::Constant *' data-ref="601TypeInfo" data-ref-filename="601TypeInfo">TypeInfo</dfn> = <a class="local col0 ref" href="#600CatchClause" title='CatchClause' data-ref="600CatchClause" data-ref-filename="600CatchClause">CatchClause</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZN4llvm8Constant17stripPointerCastsEv" title='llvm::Constant::stripPointerCasts' data-ref="_ZN4llvm8Constant17stripPointerCastsEv" data-ref-filename="_ZN4llvm8Constant17stripPointerCastsEv">stripPointerCasts</a>();</td></tr>
<tr><th id="3172">3172</th><td></td></tr>
<tr><th id="3173">3173</th><td>      <i>// If we already saw this clause, there is no point in having a second</i></td></tr>
<tr><th id="3174">3174</th><td><i>      // copy of it.</i></td></tr>
<tr><th id="3175">3175</th><td>      <b>if</b> (<a class="local col6 ref" href="#596AlreadyCaught" title='AlreadyCaught' data-ref="596AlreadyCaught" data-ref-filename="596AlreadyCaught">AlreadyCaught</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallPtrSet.h.html#_ZN4llvm15SmallPtrSetImpl6insertET_" title='llvm::SmallPtrSetImpl::insert' data-ref="_ZN4llvm15SmallPtrSetImpl6insertET_" data-ref-filename="_ZN4llvm15SmallPtrSetImpl6insertET_">insert</a>(<a class="local col1 ref" href="#601TypeInfo" title='TypeInfo' data-ref="601TypeInfo" data-ref-filename="601TypeInfo">TypeInfo</a>).<span class='ref field' title='std::pair&lt;llvm::SmallPtrSetIterator&lt;llvm::Value *&gt;, bool&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>) {</td></tr>
<tr><th id="3176">3176</th><td>        <i>// This catch clause was not already seen.</i></td></tr>
<tr><th id="3177">3177</th><td>        <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col0 ref" href="#600CatchClause" title='CatchClause' data-ref="600CatchClause" data-ref-filename="600CatchClause">CatchClause</a>);</td></tr>
<tr><th id="3178">3178</th><td>      } <b>else</b> {</td></tr>
<tr><th id="3179">3179</th><td>        <i>// Repeated catch clause - drop the redundant copy.</i></td></tr>
<tr><th id="3180">3180</th><td>        <a class="local col3 ref" href="#593MakeNewInstruction" title='MakeNewInstruction' data-ref="593MakeNewInstruction" data-ref-filename="593MakeNewInstruction">MakeNewInstruction</a> = <b>true</b>;</td></tr>
<tr><th id="3181">3181</th><td>      }</td></tr>
<tr><th id="3182">3182</th><td></td></tr>
<tr><th id="3183">3183</th><td>      <i>// If this is a catch-all then there is no point in keeping any following</i></td></tr>
<tr><th id="3184">3184</th><td><i>      // clauses or marking the landingpad as having a cleanup.</i></td></tr>
<tr><th id="3185">3185</th><td>      <b>if</b> (<a class="tu ref fn" href="#_ZL10isCatchAllN4llvm13EHPersonalityEPNS_8ConstantE" title='isCatchAll' data-use='c' data-ref="_ZL10isCatchAllN4llvm13EHPersonalityEPNS_8ConstantE" data-ref-filename="_ZL10isCatchAllN4llvm13EHPersonalityEPNS_8ConstantE">isCatchAll</a>(<a class="local col2 ref" href="#592Personality" title='Personality' data-ref="592Personality" data-ref-filename="592Personality">Personality</a>, <a class="local col1 ref" href="#601TypeInfo" title='TypeInfo' data-ref="601TypeInfo" data-ref-filename="601TypeInfo">TypeInfo</a>)) {</td></tr>
<tr><th id="3186">3186</th><td>        <b>if</b> (!<a class="local col9 ref" href="#599isLastClause" title='isLastClause' data-ref="599isLastClause" data-ref-filename="599isLastClause">isLastClause</a>)</td></tr>
<tr><th id="3187">3187</th><td>          <a class="local col3 ref" href="#593MakeNewInstruction" title='MakeNewInstruction' data-ref="593MakeNewInstruction" data-ref-filename="593MakeNewInstruction">MakeNewInstruction</a> = <b>true</b>;</td></tr>
<tr><th id="3188">3188</th><td>        <a class="local col5 ref" href="#595CleanupFlag" title='CleanupFlag' data-ref="595CleanupFlag" data-ref-filename="595CleanupFlag">CleanupFlag</a> = <b>false</b>;</td></tr>
<tr><th id="3189">3189</th><td>        <b>break</b>;</td></tr>
<tr><th id="3190">3190</th><td>      }</td></tr>
<tr><th id="3191">3191</th><td>    } <b>else</b> {</td></tr>
<tr><th id="3192">3192</th><td>      <i>// A filter clause.  If any of the filter elements were already caught</i></td></tr>
<tr><th id="3193">3193</th><td><i>      // then they can be dropped from the filter.  It is tempting to try to</i></td></tr>
<tr><th id="3194">3194</th><td><i>      // exploit the filter further by saying that any typeinfo that does not</i></td></tr>
<tr><th id="3195">3195</th><td><i>      // occur in the filter can't be caught later (and thus can be dropped).</i></td></tr>
<tr><th id="3196">3196</th><td><i>      // However this would be wrong, since typeinfos can match without being</i></td></tr>
<tr><th id="3197">3197</th><td><i>      // equal (for example if one represents a C++ class, and the other some</i></td></tr>
<tr><th id="3198">3198</th><td><i>      // class derived from it).</i></td></tr>
<tr><th id="3199">3199</th><td>      <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(LI.isFilter(i) &amp;&amp; <q>"Unsupported landingpad clause!"</q>);</td></tr>
<tr><th id="3200">3200</th><td>      <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col2 decl" id="602FilterClause" title='FilterClause' data-type='llvm::Constant *' data-ref="602FilterClause" data-ref-filename="602FilterClause">FilterClause</dfn> = <a class="local col1 ref" href="#591LI" title='LI' data-ref="591LI" data-ref-filename="591LI">LI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm14LandingPadInst9getClauseEj" title='llvm::LandingPadInst::getClause' data-ref="_ZNK4llvm14LandingPadInst9getClauseEj" data-ref-filename="_ZNK4llvm14LandingPadInst9getClauseEj">getClause</a>(<a class="local col7 ref" href="#597i" title='i' data-ref="597i" data-ref-filename="597i">i</a>);</td></tr>
<tr><th id="3201">3201</th><td>      <a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ArrayType" title='llvm::ArrayType' data-ref="llvm::ArrayType" data-ref-filename="llvm..ArrayType">ArrayType</a> *<dfn class="local col3 decl" id="603FilterType" title='FilterType' data-type='llvm::ArrayType *' data-ref="603FilterType" data-ref-filename="603FilterType">FilterType</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ArrayType" title='llvm::ArrayType' data-ref="llvm::ArrayType" data-ref-filename="llvm..ArrayType">ArrayType</a>&gt;(<a class="local col2 ref" href="#602FilterClause" title='FilterClause' data-ref="602FilterClause" data-ref-filename="602FilterClause">FilterClause</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="3202">3202</th><td>      <em>unsigned</em> <dfn class="local col4 decl" id="604NumTypeInfos" title='NumTypeInfos' data-type='unsigned int' data-ref="604NumTypeInfos" data-ref-filename="604NumTypeInfos">NumTypeInfos</dfn> = <a class="local col3 ref" href="#603FilterType" title='FilterType' data-ref="603FilterType" data-ref-filename="603FilterType">FilterType</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm9ArrayType14getNumElementsEv" title='llvm::ArrayType::getNumElements' data-ref="_ZNK4llvm9ArrayType14getNumElementsEv" data-ref-filename="_ZNK4llvm9ArrayType14getNumElementsEv">getNumElements</a>();</td></tr>
<tr><th id="3203">3203</th><td></td></tr>
<tr><th id="3204">3204</th><td>      <i>// An empty filter catches everything, so there is no point in keeping any</i></td></tr>
<tr><th id="3205">3205</th><td><i>      // following clauses or marking the landingpad as having a cleanup.  By</i></td></tr>
<tr><th id="3206">3206</th><td><i>      // dealing with this case here the following code is made a bit simpler.</i></td></tr>
<tr><th id="3207">3207</th><td>      <b>if</b> (!<a class="local col4 ref" href="#604NumTypeInfos" title='NumTypeInfos' data-ref="604NumTypeInfos" data-ref-filename="604NumTypeInfos">NumTypeInfos</a>) {</td></tr>
<tr><th id="3208">3208</th><td>        <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col2 ref" href="#602FilterClause" title='FilterClause' data-ref="602FilterClause" data-ref-filename="602FilterClause">FilterClause</a>);</td></tr>
<tr><th id="3209">3209</th><td>        <b>if</b> (!<a class="local col9 ref" href="#599isLastClause" title='isLastClause' data-ref="599isLastClause" data-ref-filename="599isLastClause">isLastClause</a>)</td></tr>
<tr><th id="3210">3210</th><td>          <a class="local col3 ref" href="#593MakeNewInstruction" title='MakeNewInstruction' data-ref="593MakeNewInstruction" data-ref-filename="593MakeNewInstruction">MakeNewInstruction</a> = <b>true</b>;</td></tr>
<tr><th id="3211">3211</th><td>        <a class="local col5 ref" href="#595CleanupFlag" title='CleanupFlag' data-ref="595CleanupFlag" data-ref-filename="595CleanupFlag">CleanupFlag</a> = <b>false</b>;</td></tr>
<tr><th id="3212">3212</th><td>        <b>break</b>;</td></tr>
<tr><th id="3213">3213</th><td>      }</td></tr>
<tr><th id="3214">3214</th><td></td></tr>
<tr><th id="3215">3215</th><td>      <em>bool</em> <dfn class="local col5 decl" id="605MakeNewFilter" title='MakeNewFilter' data-type='bool' data-ref="605MakeNewFilter" data-ref-filename="605MakeNewFilter">MakeNewFilter</dfn> = <b>false</b>; <i>// If true, make a new filter.</i></td></tr>
<tr><th id="3216">3216</th><td>      <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *, <var>16</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col6 decl" id="606NewFilterElts" title='NewFilterElts' data-type='SmallVector&lt;llvm::Constant *, 16&gt;' data-ref="606NewFilterElts" data-ref-filename="606NewFilterElts">NewFilterElts</dfn>; <i>// New elements.</i></td></tr>
<tr><th id="3217">3217</th><td>      <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantAggregateZero" title='llvm::ConstantAggregateZero' data-ref="llvm::ConstantAggregateZero" data-ref-filename="llvm..ConstantAggregateZero">ConstantAggregateZero</a>&gt;(<a class="local col2 ref" href="#602FilterClause" title='FilterClause' data-ref="602FilterClause" data-ref-filename="602FilterClause">FilterClause</a>)) {</td></tr>
<tr><th id="3218">3218</th><td>        <i>// Not an empty filter - it contains at least one null typeinfo.</i></td></tr>
<tr><th id="3219">3219</th><td>        <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(NumTypeInfos &gt; <var>0</var> &amp;&amp; <q>"Should have handled empty filter already!"</q>);</td></tr>
<tr><th id="3220">3220</th><td>        <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col7 decl" id="607TypeInfo" title='TypeInfo' data-type='llvm::Constant *' data-ref="607TypeInfo" data-ref-filename="607TypeInfo">TypeInfo</dfn> =</td></tr>
<tr><th id="3221">3221</th><td>          <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>::<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZN4llvm8Constant12getNullValueEPNS_4TypeE" title='llvm::Constant::getNullValue' data-ref="_ZN4llvm8Constant12getNullValueEPNS_4TypeE" data-ref-filename="_ZN4llvm8Constant12getNullValueEPNS_4TypeE">getNullValue</a>(<a class="local col3 ref" href="#603FilterType" title='FilterType' data-ref="603FilterType" data-ref-filename="603FilterType">FilterType</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm9ArrayType14getElementTypeEv" title='llvm::ArrayType::getElementType' data-ref="_ZNK4llvm9ArrayType14getElementTypeEv" data-ref-filename="_ZNK4llvm9ArrayType14getElementTypeEv">getElementType</a>());</td></tr>
<tr><th id="3222">3222</th><td>        <i>// If this typeinfo is a catch-all then the filter can never match.</i></td></tr>
<tr><th id="3223">3223</th><td>        <b>if</b> (<a class="tu ref fn" href="#_ZL10isCatchAllN4llvm13EHPersonalityEPNS_8ConstantE" title='isCatchAll' data-use='c' data-ref="_ZL10isCatchAllN4llvm13EHPersonalityEPNS_8ConstantE" data-ref-filename="_ZL10isCatchAllN4llvm13EHPersonalityEPNS_8ConstantE">isCatchAll</a>(<a class="local col2 ref" href="#592Personality" title='Personality' data-ref="592Personality" data-ref-filename="592Personality">Personality</a>, <a class="local col7 ref" href="#607TypeInfo" title='TypeInfo' data-ref="607TypeInfo" data-ref-filename="607TypeInfo">TypeInfo</a>)) {</td></tr>
<tr><th id="3224">3224</th><td>          <i>// Throw the filter away.</i></td></tr>
<tr><th id="3225">3225</th><td>          <a class="local col3 ref" href="#593MakeNewInstruction" title='MakeNewInstruction' data-ref="593MakeNewInstruction" data-ref-filename="593MakeNewInstruction">MakeNewInstruction</a> = <b>true</b>;</td></tr>
<tr><th id="3226">3226</th><td>          <b>continue</b>;</td></tr>
<tr><th id="3227">3227</th><td>        }</td></tr>
<tr><th id="3228">3228</th><td></td></tr>
<tr><th id="3229">3229</th><td>        <i>// There is no point in having multiple copies of this typeinfo, so</i></td></tr>
<tr><th id="3230">3230</th><td><i>        // discard all but the first copy if there is more than one.</i></td></tr>
<tr><th id="3231">3231</th><td>        <a class="local col6 ref" href="#606NewFilterElts" title='NewFilterElts' data-ref="606NewFilterElts" data-ref-filename="606NewFilterElts">NewFilterElts</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col7 ref" href="#607TypeInfo" title='TypeInfo' data-ref="607TypeInfo" data-ref-filename="607TypeInfo">TypeInfo</a>);</td></tr>
<tr><th id="3232">3232</th><td>        <b>if</b> (<a class="local col4 ref" href="#604NumTypeInfos" title='NumTypeInfos' data-ref="604NumTypeInfos" data-ref-filename="604NumTypeInfos">NumTypeInfos</a> &gt; <var>1</var>)</td></tr>
<tr><th id="3233">3233</th><td>          <a class="local col5 ref" href="#605MakeNewFilter" title='MakeNewFilter' data-ref="605MakeNewFilter" data-ref-filename="605MakeNewFilter">MakeNewFilter</a> = <b>true</b>;</td></tr>
<tr><th id="3234">3234</th><td>      } <b>else</b> {</td></tr>
<tr><th id="3235">3235</th><td>        <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantArray" title='llvm::ConstantArray' data-ref="llvm::ConstantArray" data-ref-filename="llvm..ConstantArray">ConstantArray</a> *<dfn class="local col8 decl" id="608Filter" title='Filter' data-type='llvm::ConstantArray *' data-ref="608Filter" data-ref-filename="608Filter">Filter</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantArray" title='llvm::ConstantArray' data-ref="llvm::ConstantArray" data-ref-filename="llvm..ConstantArray">ConstantArray</a>&gt;(<a class="local col2 ref" href="#602FilterClause" title='FilterClause' data-ref="602FilterClause" data-ref-filename="602FilterClause">FilterClause</a>);</td></tr>
<tr><th id="3236">3236</th><td>        <a class="type" href="../../../include/llvm/ADT/SmallPtrSet.h.html#llvm::SmallPtrSet" title='llvm::SmallPtrSet' data-ref="llvm::SmallPtrSet" data-ref-filename="llvm..SmallPtrSet">SmallPtrSet</a>&lt;<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *, <var>16</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallPtrSet.h.html#_ZN4llvm11SmallPtrSetC1Ev" title='llvm::SmallPtrSet::SmallPtrSet&lt;PtrType, SmallSize&gt;' data-ref="_ZN4llvm11SmallPtrSetC1Ev" data-ref-filename="_ZN4llvm11SmallPtrSetC1Ev"></a><dfn class="local col9 decl" id="609SeenInFilter" title='SeenInFilter' data-type='SmallPtrSet&lt;llvm::Value *, 16&gt;' data-ref="609SeenInFilter" data-ref-filename="609SeenInFilter">SeenInFilter</dfn>; <i>// For uniquing the elements.</i></td></tr>
<tr><th id="3237">3237</th><td>        <a class="local col6 ref" href="#606NewFilterElts" title='NewFilterElts' data-ref="606NewFilterElts" data-ref-filename="606NewFilterElts">NewFilterElts</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl7reserveENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructib6929423" title='llvm::SmallVectorImpl::reserve' data-ref="_ZN4llvm15SmallVectorImpl7reserveENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructib6929423" data-ref-filename="_ZN4llvm15SmallVectorImpl7reserveENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructib6929423">reserve</a>(<a class="local col4 ref" href="#604NumTypeInfos" title='NumTypeInfos' data-ref="604NumTypeInfos" data-ref-filename="604NumTypeInfos">NumTypeInfos</a>);</td></tr>
<tr><th id="3238">3238</th><td></td></tr>
<tr><th id="3239">3239</th><td>        <i>// Remove any filter elements that were already caught or that already</i></td></tr>
<tr><th id="3240">3240</th><td><i>        // occurred in the filter.  While there, see if any of the elements are</i></td></tr>
<tr><th id="3241">3241</th><td><i>        // catch-alls.  If so, the filter can be discarded.</i></td></tr>
<tr><th id="3242">3242</th><td>        <em>bool</em> <dfn class="local col0 decl" id="610SawCatchAll" title='SawCatchAll' data-type='bool' data-ref="610SawCatchAll" data-ref-filename="610SawCatchAll">SawCatchAll</dfn> = <b>false</b>;</td></tr>
<tr><th id="3243">3243</th><td>        <b>for</b> (<em>unsigned</em> <dfn class="local col1 decl" id="611j" title='j' data-type='unsigned int' data-ref="611j" data-ref-filename="611j">j</dfn> = <var>0</var>; <a class="local col1 ref" href="#611j" title='j' data-ref="611j" data-ref-filename="611j">j</a> != <a class="local col4 ref" href="#604NumTypeInfos" title='NumTypeInfos' data-ref="604NumTypeInfos" data-ref-filename="604NumTypeInfos">NumTypeInfos</a>; ++<a class="local col1 ref" href="#611j" title='j' data-ref="611j" data-ref-filename="611j">j</a>) {</td></tr>
<tr><th id="3244">3244</th><td>          <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col2 decl" id="612Elt" title='Elt' data-type='llvm::Constant *' data-ref="612Elt" data-ref-filename="612Elt">Elt</dfn> = <a class="local col8 ref" href="#608Filter" title='Filter' data-ref="608Filter" data-ref-filename="608Filter">Filter</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#406" title='llvm::ConstantAggregate::getOperand' data-ref="_ZNK4llvm17ConstantAggregate10getOperandEj" data-ref-filename="_ZNK4llvm17ConstantAggregate10getOperandEj">getOperand</a>(<a class="local col1 ref" href="#611j" title='j' data-ref="611j" data-ref-filename="611j">j</a>);</td></tr>
<tr><th id="3245">3245</th><td>          <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col3 decl" id="613TypeInfo" title='TypeInfo' data-type='llvm::Constant *' data-ref="613TypeInfo" data-ref-filename="613TypeInfo">TypeInfo</dfn> = <a class="local col2 ref" href="#612Elt" title='Elt' data-ref="612Elt" data-ref-filename="612Elt">Elt</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZN4llvm8Constant17stripPointerCastsEv" title='llvm::Constant::stripPointerCasts' data-ref="_ZN4llvm8Constant17stripPointerCastsEv" data-ref-filename="_ZN4llvm8Constant17stripPointerCastsEv">stripPointerCasts</a>();</td></tr>
<tr><th id="3246">3246</th><td>          <b>if</b> (<a class="tu ref fn" href="#_ZL10isCatchAllN4llvm13EHPersonalityEPNS_8ConstantE" title='isCatchAll' data-use='c' data-ref="_ZL10isCatchAllN4llvm13EHPersonalityEPNS_8ConstantE" data-ref-filename="_ZL10isCatchAllN4llvm13EHPersonalityEPNS_8ConstantE">isCatchAll</a>(<a class="local col2 ref" href="#592Personality" title='Personality' data-ref="592Personality" data-ref-filename="592Personality">Personality</a>, <a class="local col3 ref" href="#613TypeInfo" title='TypeInfo' data-ref="613TypeInfo" data-ref-filename="613TypeInfo">TypeInfo</a>)) {</td></tr>
<tr><th id="3247">3247</th><td>            <i>// This element is a catch-all.  Bail out, noting this fact.</i></td></tr>
<tr><th id="3248">3248</th><td>            <a class="local col0 ref" href="#610SawCatchAll" title='SawCatchAll' data-ref="610SawCatchAll" data-ref-filename="610SawCatchAll">SawCatchAll</a> = <b>true</b>;</td></tr>
<tr><th id="3249">3249</th><td>            <b>break</b>;</td></tr>
<tr><th id="3250">3250</th><td>          }</td></tr>
<tr><th id="3251">3251</th><td></td></tr>
<tr><th id="3252">3252</th><td>          <i>// Even if we've seen a type in a catch clause, we don't want to</i></td></tr>
<tr><th id="3253">3253</th><td><i>          // remove it from the filter.  An unexpected type handler may be</i></td></tr>
<tr><th id="3254">3254</th><td><i>          // set up for a call site which throws an exception of the same</i></td></tr>
<tr><th id="3255">3255</th><td><i>          // type caught.  In order for the exception thrown by the unexpected</i></td></tr>
<tr><th id="3256">3256</th><td><i>          // handler to propagate correctly, the filter must be correctly</i></td></tr>
<tr><th id="3257">3257</th><td><i>          // described for the call site.</i></td></tr>
<tr><th id="3258">3258</th><td><i>          //</i></td></tr>
<tr><th id="3259">3259</th><td><i>          // Example:</i></td></tr>
<tr><th id="3260">3260</th><td><i>          //</i></td></tr>
<tr><th id="3261">3261</th><td><i>          // void unexpected() { throw 1;}</i></td></tr>
<tr><th id="3262">3262</th><td><i>          // void foo() throw (int) {</i></td></tr>
<tr><th id="3263">3263</th><td><i>          //   std::set_unexpected(unexpected);</i></td></tr>
<tr><th id="3264">3264</th><td><i>          //   try {</i></td></tr>
<tr><th id="3265">3265</th><td><i>          //     throw 2.0;</i></td></tr>
<tr><th id="3266">3266</th><td><i>          //   } catch (int i) {}</i></td></tr>
<tr><th id="3267">3267</th><td><i>          // }</i></td></tr>
<tr><th id="3268">3268</th><td><i></i></td></tr>
<tr><th id="3269">3269</th><td><i>          // There is no point in having multiple copies of the same typeinfo in</i></td></tr>
<tr><th id="3270">3270</th><td><i>          // a filter, so only add it if we didn't already.</i></td></tr>
<tr><th id="3271">3271</th><td>          <b>if</b> (<a class="local col9 ref" href="#609SeenInFilter" title='SeenInFilter' data-ref="609SeenInFilter" data-ref-filename="609SeenInFilter">SeenInFilter</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallPtrSet.h.html#_ZN4llvm15SmallPtrSetImpl6insertET_" title='llvm::SmallPtrSetImpl::insert' data-ref="_ZN4llvm15SmallPtrSetImpl6insertET_" data-ref-filename="_ZN4llvm15SmallPtrSetImpl6insertET_">insert</a>(<a class="local col3 ref" href="#613TypeInfo" title='TypeInfo' data-ref="613TypeInfo" data-ref-filename="613TypeInfo">TypeInfo</a>).<span class='ref field' title='std::pair&lt;llvm::SmallPtrSetIterator&lt;llvm::Value *&gt;, bool&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>)</td></tr>
<tr><th id="3272">3272</th><td>            <a class="local col6 ref" href="#606NewFilterElts" title='NewFilterElts' data-ref="606NewFilterElts" data-ref-filename="606NewFilterElts">NewFilterElts</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col2 ref" href="#612Elt" title='Elt' data-ref="612Elt" data-ref-filename="612Elt">Elt</a>));</td></tr>
<tr><th id="3273">3273</th><td>        }</td></tr>
<tr><th id="3274">3274</th><td>        <i>// A filter containing a catch-all cannot match anything by definition.</i></td></tr>
<tr><th id="3275">3275</th><td>        <b>if</b> (<a class="local col0 ref" href="#610SawCatchAll" title='SawCatchAll' data-ref="610SawCatchAll" data-ref-filename="610SawCatchAll">SawCatchAll</a>) {</td></tr>
<tr><th id="3276">3276</th><td>          <i>// Throw the filter away.</i></td></tr>
<tr><th id="3277">3277</th><td>          <a class="local col3 ref" href="#593MakeNewInstruction" title='MakeNewInstruction' data-ref="593MakeNewInstruction" data-ref-filename="593MakeNewInstruction">MakeNewInstruction</a> = <b>true</b>;</td></tr>
<tr><th id="3278">3278</th><td>          <b>continue</b>;</td></tr>
<tr><th id="3279">3279</th><td>        }</td></tr>
<tr><th id="3280">3280</th><td></td></tr>
<tr><th id="3281">3281</th><td>        <i>// If we dropped something from the filter, make a new one.</i></td></tr>
<tr><th id="3282">3282</th><td>        <b>if</b> (<a class="local col6 ref" href="#606NewFilterElts" title='NewFilterElts' data-ref="606NewFilterElts" data-ref-filename="606NewFilterElts">NewFilterElts</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase4sizeEv" title='llvm::SmallVectorBase::size' data-ref="_ZNK4llvm15SmallVectorBase4sizeEv" data-ref-filename="_ZNK4llvm15SmallVectorBase4sizeEv">size</a>() &lt; <a class="local col4 ref" href="#604NumTypeInfos" title='NumTypeInfos' data-ref="604NumTypeInfos" data-ref-filename="604NumTypeInfos">NumTypeInfos</a>)</td></tr>
<tr><th id="3283">3283</th><td>          <a class="local col5 ref" href="#605MakeNewFilter" title='MakeNewFilter' data-ref="605MakeNewFilter" data-ref-filename="605MakeNewFilter">MakeNewFilter</a> = <b>true</b>;</td></tr>
<tr><th id="3284">3284</th><td>      }</td></tr>
<tr><th id="3285">3285</th><td>      <b>if</b> (<a class="local col5 ref" href="#605MakeNewFilter" title='MakeNewFilter' data-ref="605MakeNewFilter" data-ref-filename="605MakeNewFilter">MakeNewFilter</a>) {</td></tr>
<tr><th id="3286">3286</th><td>        <a class="local col3 ref" href="#603FilterType" title='FilterType' data-ref="603FilterType" data-ref-filename="603FilterType">FilterType</a> = <a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ArrayType" title='llvm::ArrayType' data-ref="llvm::ArrayType" data-ref-filename="llvm..ArrayType">ArrayType</a>::<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZN4llvm9ArrayType3getEPNS_4TypeEm" title='llvm::ArrayType::get' data-ref="_ZN4llvm9ArrayType3getEPNS_4TypeEm" data-ref-filename="_ZN4llvm9ArrayType3getEPNS_4TypeEm">get</a>(<a class="local col3 ref" href="#603FilterType" title='FilterType' data-ref="603FilterType" data-ref-filename="603FilterType">FilterType</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm9ArrayType14getElementTypeEv" title='llvm::ArrayType::getElementType' data-ref="_ZNK4llvm9ArrayType14getElementTypeEv" data-ref-filename="_ZNK4llvm9ArrayType14getElementTypeEv">getElementType</a>(),</td></tr>
<tr><th id="3287">3287</th><td>                                    <a class="local col6 ref" href="#606NewFilterElts" title='NewFilterElts' data-ref="606NewFilterElts" data-ref-filename="606NewFilterElts">NewFilterElts</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase4sizeEv" title='llvm::SmallVectorBase::size' data-ref="_ZNK4llvm15SmallVectorBase4sizeEv" data-ref-filename="_ZNK4llvm15SmallVectorBase4sizeEv">size</a>());</td></tr>
<tr><th id="3288">3288</th><td>        <a class="local col2 ref" href="#602FilterClause" title='FilterClause' data-ref="602FilterClause" data-ref-filename="602FilterClause">FilterClause</a> = <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantArray" title='llvm::ConstantArray' data-ref="llvm::ConstantArray" data-ref-filename="llvm..ConstantArray">ConstantArray</a>::<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZN4llvm13ConstantArray3getEPNS_9ArrayTypeENS_8ArrayRefIPNS_8ConstantEEE" title='llvm::ConstantArray::get' data-ref="_ZN4llvm13ConstantArray3getEPNS_9ArrayTypeENS_8ArrayRefIPNS_8ConstantEEE" data-ref-filename="_ZN4llvm13ConstantArray3getEPNS_9ArrayTypeENS_8ArrayRefIPNS_8ConstantEEE">get</a>(<a class="local col3 ref" href="#603FilterType" title='FilterType' data-ref="603FilterType" data-ref-filename="603FilterType">FilterType</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col6 ref" href="#606NewFilterElts" title='NewFilterElts' data-ref="606NewFilterElts" data-ref-filename="606NewFilterElts">NewFilterElts</a>);</td></tr>
<tr><th id="3289">3289</th><td>        <a class="local col3 ref" href="#593MakeNewInstruction" title='MakeNewInstruction' data-ref="593MakeNewInstruction" data-ref-filename="593MakeNewInstruction">MakeNewInstruction</a> = <b>true</b>;</td></tr>
<tr><th id="3290">3290</th><td>      }</td></tr>
<tr><th id="3291">3291</th><td></td></tr>
<tr><th id="3292">3292</th><td>      <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col2 ref" href="#602FilterClause" title='FilterClause' data-ref="602FilterClause" data-ref-filename="602FilterClause">FilterClause</a>);</td></tr>
<tr><th id="3293">3293</th><td></td></tr>
<tr><th id="3294">3294</th><td>      <i>// If the new filter is empty then it will catch everything so there is</i></td></tr>
<tr><th id="3295">3295</th><td><i>      // no point in keeping any following clauses or marking the landingpad</i></td></tr>
<tr><th id="3296">3296</th><td><i>      // as having a cleanup.  The case of the original filter being empty was</i></td></tr>
<tr><th id="3297">3297</th><td><i>      // already handled above.</i></td></tr>
<tr><th id="3298">3298</th><td>      <b>if</b> (<a class="local col5 ref" href="#605MakeNewFilter" title='MakeNewFilter' data-ref="605MakeNewFilter" data-ref-filename="605MakeNewFilter">MakeNewFilter</a> &amp;&amp; !<a class="local col6 ref" href="#606NewFilterElts" title='NewFilterElts' data-ref="606NewFilterElts" data-ref-filename="606NewFilterElts">NewFilterElts</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase4sizeEv" title='llvm::SmallVectorBase::size' data-ref="_ZNK4llvm15SmallVectorBase4sizeEv" data-ref-filename="_ZNK4llvm15SmallVectorBase4sizeEv">size</a>()) {</td></tr>
<tr><th id="3299">3299</th><td>        <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(MakeNewInstruction &amp;&amp; <q>"New filter but not a new instruction!"</q>);</td></tr>
<tr><th id="3300">3300</th><td>        <a class="local col5 ref" href="#595CleanupFlag" title='CleanupFlag' data-ref="595CleanupFlag" data-ref-filename="595CleanupFlag">CleanupFlag</a> = <b>false</b>;</td></tr>
<tr><th id="3301">3301</th><td>        <b>break</b>;</td></tr>
<tr><th id="3302">3302</th><td>      }</td></tr>
<tr><th id="3303">3303</th><td>    }</td></tr>
<tr><th id="3304">3304</th><td>  }</td></tr>
<tr><th id="3305">3305</th><td></td></tr>
<tr><th id="3306">3306</th><td>  <i>// If several filters occur in a row then reorder them so that the shortest</i></td></tr>
<tr><th id="3307">3307</th><td><i>  // filters come first (those with the smallest number of elements).  This is</i></td></tr>
<tr><th id="3308">3308</th><td><i>  // advantageous because shorter filters are more likely to match, speeding up</i></td></tr>
<tr><th id="3309">3309</th><td><i>  // unwinding, but mostly because it increases the effectiveness of the other</i></td></tr>
<tr><th id="3310">3310</th><td><i>  // filter optimizations below.</i></td></tr>
<tr><th id="3311">3311</th><td>  <b>for</b> (<em>unsigned</em> <dfn class="local col4 decl" id="614i" title='i' data-type='unsigned int' data-ref="614i" data-ref-filename="614i">i</dfn> = <var>0</var>, <dfn class="local col5 decl" id="615e" title='e' data-type='unsigned int' data-ref="615e" data-ref-filename="615e">e</dfn> = <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase4sizeEv" title='llvm::SmallVectorBase::size' data-ref="_ZNK4llvm15SmallVectorBase4sizeEv" data-ref-filename="_ZNK4llvm15SmallVectorBase4sizeEv">size</a>(); <a class="local col4 ref" href="#614i" title='i' data-ref="614i" data-ref-filename="614i">i</a> + <var>1</var> &lt; <a class="local col5 ref" href="#615e" title='e' data-ref="615e" data-ref-filename="615e">e</a>; ) {</td></tr>
<tr><th id="3312">3312</th><td>    <em>unsigned</em> <dfn class="local col6 decl" id="616j" title='j' data-type='unsigned int' data-ref="616j" data-ref-filename="616j">j</dfn>;</td></tr>
<tr><th id="3313">3313</th><td>    <i>// Find the maximal 'j' s.t. the range [i, j) consists entirely of filters.</i></td></tr>
<tr><th id="3314">3314</th><td>    <b>for</b> (<a class="local col6 ref" href="#616j" title='j' data-ref="616j" data-ref-filename="616j">j</a> = <a class="local col4 ref" href="#614i" title='i' data-ref="614i" data-ref-filename="614i">i</a>; <a class="local col6 ref" href="#616j" title='j' data-ref="616j" data-ref-filename="616j">j</a> != <a class="local col5 ref" href="#615e" title='e' data-ref="615e" data-ref-filename="615e">e</a>; ++<a class="local col6 ref" href="#616j" title='j' data-ref="616j" data-ref-filename="616j">j</a>)</td></tr>
<tr><th id="3315">3315</th><td>      <b>if</b> (!<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ArrayType" title='llvm::ArrayType' data-ref="llvm::ArrayType" data-ref-filename="llvm..ArrayType">ArrayType</a>&gt;(<a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col6 ref" href="#616j" title='j' data-ref="616j" data-ref-filename="616j">j</a>]</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()))</td></tr>
<tr><th id="3316">3316</th><td>        <b>break</b>;</td></tr>
<tr><th id="3317">3317</th><td></td></tr>
<tr><th id="3318">3318</th><td>    <i>// Check whether the filters are already sorted by length.  We need to know</i></td></tr>
<tr><th id="3319">3319</th><td><i>    // if sorting them is actually going to do anything so that we only make a</i></td></tr>
<tr><th id="3320">3320</th><td><i>    // new landingpad instruction if it does.</i></td></tr>
<tr><th id="3321">3321</th><td>    <b>for</b> (<em>unsigned</em> <dfn class="local col7 decl" id="617k" title='k' data-type='unsigned int' data-ref="617k" data-ref-filename="617k">k</dfn> = <a class="local col4 ref" href="#614i" title='i' data-ref="614i" data-ref-filename="614i">i</a>; <a class="local col7 ref" href="#617k" title='k' data-ref="617k" data-ref-filename="617k">k</a> + <var>1</var> &lt; <a class="local col6 ref" href="#616j" title='j' data-ref="616j" data-ref-filename="616j">j</a>; ++<a class="local col7 ref" href="#617k" title='k' data-ref="617k" data-ref-filename="617k">k</a>)</td></tr>
<tr><th id="3322">3322</th><td>      <b>if</b> (<a class="tu ref fn" href="#_ZL14shorter_filterPKN4llvm5ValueES2_" title='shorter_filter' data-use='c' data-ref="_ZL14shorter_filterPKN4llvm5ValueES2_" data-ref-filename="_ZL14shorter_filterPKN4llvm5ValueES2_">shorter_filter</a>(<a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col7 ref" href="#617k" title='k' data-ref="617k" data-ref-filename="617k">k</a>+<var>1</var>]</a>, <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col7 ref" href="#617k" title='k' data-ref="617k" data-ref-filename="617k">k</a>]</a>)) {</td></tr>
<tr><th id="3323">3323</th><td>        <i>// Not sorted, so sort the filters now.  Doing an unstable sort would be</i></td></tr>
<tr><th id="3324">3324</th><td><i>        // correct too but reordering filters pointlessly might confuse users.</i></td></tr>
<tr><th id="3325">3325</th><td>        <span class="namespace">std::</span><span class='ref fn' title='std::stable_sort' data-ref="_ZSt11stable_sortT_S_T0_" data-ref-filename="_ZSt11stable_sortT_S_T0_">stable_sort</span>(<a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommon5beginEv" title='llvm::SmallVectorTemplateCommon::begin' data-ref="_ZN4llvm25SmallVectorTemplateCommon5beginEv" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommon5beginEv">begin</a>() + <a class="local col4 ref" href="#614i" title='i' data-ref="614i" data-ref-filename="614i">i</a>, <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommon5beginEv" title='llvm::SmallVectorTemplateCommon::begin' data-ref="_ZN4llvm25SmallVectorTemplateCommon5beginEv" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommon5beginEv">begin</a>() + <a class="local col6 ref" href="#616j" title='j' data-ref="616j" data-ref-filename="616j">j</a>,</td></tr>
<tr><th id="3326">3326</th><td>                         <a class="tu ref fn" href="#_ZL14shorter_filterPKN4llvm5ValueES2_" title='shorter_filter' data-use='r' data-ref="_ZL14shorter_filterPKN4llvm5ValueES2_" data-ref-filename="_ZL14shorter_filterPKN4llvm5ValueES2_">shorter_filter</a>);</td></tr>
<tr><th id="3327">3327</th><td>        <a class="local col3 ref" href="#593MakeNewInstruction" title='MakeNewInstruction' data-ref="593MakeNewInstruction" data-ref-filename="593MakeNewInstruction">MakeNewInstruction</a> = <b>true</b>;</td></tr>
<tr><th id="3328">3328</th><td>        <b>break</b>;</td></tr>
<tr><th id="3329">3329</th><td>      }</td></tr>
<tr><th id="3330">3330</th><td></td></tr>
<tr><th id="3331">3331</th><td>    <i>// Look for the next batch of filters.</i></td></tr>
<tr><th id="3332">3332</th><td>    <a class="local col4 ref" href="#614i" title='i' data-ref="614i" data-ref-filename="614i">i</a> = <a class="local col6 ref" href="#616j" title='j' data-ref="616j" data-ref-filename="616j">j</a> + <var>1</var>;</td></tr>
<tr><th id="3333">3333</th><td>  }</td></tr>
<tr><th id="3334">3334</th><td></td></tr>
<tr><th id="3335">3335</th><td>  <i>// If typeinfos matched if and only if equal, then the elements of a filter L</i></td></tr>
<tr><th id="3336">3336</th><td><i>  // that occurs later than a filter F could be replaced by the intersection of</i></td></tr>
<tr><th id="3337">3337</th><td><i>  // the elements of F and L.  In reality two typeinfos can match without being</i></td></tr>
<tr><th id="3338">3338</th><td><i>  // equal (for example if one represents a C++ class, and the other some class</i></td></tr>
<tr><th id="3339">3339</th><td><i>  // derived from it) so it would be wrong to perform this transform in general.</i></td></tr>
<tr><th id="3340">3340</th><td><i>  // However the transform is correct and useful if F is a subset of L.  In that</i></td></tr>
<tr><th id="3341">3341</th><td><i>  // case L can be replaced by F, and thus removed altogether since repeating a</i></td></tr>
<tr><th id="3342">3342</th><td><i>  // filter is pointless.  So here we look at all pairs of filters F and L where</i></td></tr>
<tr><th id="3343">3343</th><td><i>  // L follows F in the list of clauses, and remove L if every element of F is</i></td></tr>
<tr><th id="3344">3344</th><td><i>  // an element of L.  This can occur when inlining C++ functions with exception</i></td></tr>
<tr><th id="3345">3345</th><td><i>  // specifications.</i></td></tr>
<tr><th id="3346">3346</th><td>  <b>for</b> (<em>unsigned</em> <dfn class="local col8 decl" id="618i" title='i' data-type='unsigned int' data-ref="618i" data-ref-filename="618i">i</dfn> = <var>0</var>; <a class="local col8 ref" href="#618i" title='i' data-ref="618i" data-ref-filename="618i">i</a> + <var>1</var> &lt; <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase4sizeEv" title='llvm::SmallVectorBase::size' data-ref="_ZNK4llvm15SmallVectorBase4sizeEv" data-ref-filename="_ZNK4llvm15SmallVectorBase4sizeEv">size</a>(); ++<a class="local col8 ref" href="#618i" title='i' data-ref="618i" data-ref-filename="618i">i</a>) {</td></tr>
<tr><th id="3347">3347</th><td>    <i>// Examine each filter in turn.</i></td></tr>
<tr><th id="3348">3348</th><td>    <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="619Filter" title='Filter' data-type='llvm::Value *' data-ref="619Filter" data-ref-filename="619Filter">Filter</dfn> = <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col8 ref" href="#618i" title='i' data-ref="618i" data-ref-filename="618i">i</a>]</a>;</td></tr>
<tr><th id="3349">3349</th><td>    <a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ArrayType" title='llvm::ArrayType' data-ref="llvm::ArrayType" data-ref-filename="llvm..ArrayType">ArrayType</a> *<dfn class="local col0 decl" id="620FTy" title='FTy' data-type='llvm::ArrayType *' data-ref="620FTy" data-ref-filename="620FTy">FTy</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ArrayType" title='llvm::ArrayType' data-ref="llvm::ArrayType" data-ref-filename="llvm..ArrayType">ArrayType</a>&gt;(<a class="local col9 ref" href="#619Filter" title='Filter' data-ref="619Filter" data-ref-filename="619Filter">Filter</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="3350">3350</th><td>    <b>if</b> (!<a class="local col0 ref" href="#620FTy" title='FTy' data-ref="620FTy" data-ref-filename="620FTy">FTy</a>)</td></tr>
<tr><th id="3351">3351</th><td>      <i>// Not a filter - skip it.</i></td></tr>
<tr><th id="3352">3352</th><td>      <b>continue</b>;</td></tr>
<tr><th id="3353">3353</th><td>    <em>unsigned</em> <dfn class="local col1 decl" id="621FElts" title='FElts' data-type='unsigned int' data-ref="621FElts" data-ref-filename="621FElts">FElts</dfn> = <a class="local col0 ref" href="#620FTy" title='FTy' data-ref="620FTy" data-ref-filename="620FTy">FTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm9ArrayType14getNumElementsEv" title='llvm::ArrayType::getNumElements' data-ref="_ZNK4llvm9ArrayType14getNumElementsEv" data-ref-filename="_ZNK4llvm9ArrayType14getNumElementsEv">getNumElements</a>();</td></tr>
<tr><th id="3354">3354</th><td>    <i>// Examine each filter following this one.  Doing this backwards means that</i></td></tr>
<tr><th id="3355">3355</th><td><i>    // we don't have to worry about filters disappearing under us when removed.</i></td></tr>
<tr><th id="3356">3356</th><td>    <b>for</b> (<em>unsigned</em> <dfn class="local col2 decl" id="622j" title='j' data-type='unsigned int' data-ref="622j" data-ref-filename="622j">j</dfn> = <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase4sizeEv" title='llvm::SmallVectorBase::size' data-ref="_ZNK4llvm15SmallVectorBase4sizeEv" data-ref-filename="_ZNK4llvm15SmallVectorBase4sizeEv">size</a>() - <var>1</var>; <a class="local col2 ref" href="#622j" title='j' data-ref="622j" data-ref-filename="622j">j</a> != <a class="local col8 ref" href="#618i" title='i' data-ref="618i" data-ref-filename="618i">i</a>; --<a class="local col2 ref" href="#622j" title='j' data-ref="622j" data-ref-filename="622j">j</a>) {</td></tr>
<tr><th id="3357">3357</th><td>      <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="623LFilter" title='LFilter' data-type='llvm::Value *' data-ref="623LFilter" data-ref-filename="623LFilter">LFilter</dfn> = <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col2 ref" href="#622j" title='j' data-ref="622j" data-ref-filename="622j">j</a>]</a>;</td></tr>
<tr><th id="3358">3358</th><td>      <a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ArrayType" title='llvm::ArrayType' data-ref="llvm::ArrayType" data-ref-filename="llvm..ArrayType">ArrayType</a> *<dfn class="local col4 decl" id="624LTy" title='LTy' data-type='llvm::ArrayType *' data-ref="624LTy" data-ref-filename="624LTy">LTy</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/DerivedTypes.h.html#llvm::ArrayType" title='llvm::ArrayType' data-ref="llvm::ArrayType" data-ref-filename="llvm..ArrayType">ArrayType</a>&gt;(<a class="local col3 ref" href="#623LFilter" title='LFilter' data-ref="623LFilter" data-ref-filename="623LFilter">LFilter</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="3359">3359</th><td>      <b>if</b> (!<a class="local col4 ref" href="#624LTy" title='LTy' data-ref="624LTy" data-ref-filename="624LTy">LTy</a>)</td></tr>
<tr><th id="3360">3360</th><td>        <i>// Not a filter - skip it.</i></td></tr>
<tr><th id="3361">3361</th><td>        <b>continue</b>;</td></tr>
<tr><th id="3362">3362</th><td>      <i>// If Filter is a subset of LFilter, i.e. every element of Filter is also</i></td></tr>
<tr><th id="3363">3363</th><td><i>      // an element of LFilter, then discard LFilter.</i></td></tr>
<tr><th id="3364">3364</th><td>      <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVectorImpl" title='llvm::SmallVectorImpl' data-ref="llvm::SmallVectorImpl" data-ref-filename="llvm..SmallVectorImpl">SmallVectorImpl</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *&gt;::<a class="typedef" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVectorImpl{llvm::Constant*}::iterator" title='llvm::SmallVectorImpl&lt;llvm::Constant *&gt;::iterator' data-type='typename SuperClass::iterator' data-ref="llvm::SmallVectorImpl{llvm::Constant*}::iterator" data-ref-filename="llvm..SmallVectorImpl{llvm..Constant*}..iterator">iterator</a> <dfn class="local col5 decl" id="625J" title='J' data-type='SmallVectorImpl&lt;Constant *&gt;::iterator' data-ref="625J" data-ref-filename="625J">J</dfn> = <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommon5beginEv" title='llvm::SmallVectorTemplateCommon::begin' data-ref="_ZN4llvm25SmallVectorTemplateCommon5beginEv" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommon5beginEv">begin</a>() + <a class="local col2 ref" href="#622j" title='j' data-ref="622j" data-ref-filename="622j">j</a>;</td></tr>
<tr><th id="3365">3365</th><td>      <i>// If Filter is empty then it is a subset of LFilter.</i></td></tr>
<tr><th id="3366">3366</th><td>      <b>if</b> (!<a class="local col1 ref" href="#621FElts" title='FElts' data-ref="621FElts" data-ref-filename="621FElts">FElts</a>) {</td></tr>
<tr><th id="3367">3367</th><td>        <i>// Discard LFilter.</i></td></tr>
<tr><th id="3368">3368</th><td>        <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl5eraseENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructible1740290" title='llvm::SmallVectorImpl::erase' data-ref="_ZN4llvm15SmallVectorImpl5eraseENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructible1740290" data-ref-filename="_ZN4llvm15SmallVectorImpl5eraseENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructible1740290">erase</a>(<a class="local col5 ref" href="#625J" title='J' data-ref="625J" data-ref-filename="625J">J</a>);</td></tr>
<tr><th id="3369">3369</th><td>        <a class="local col3 ref" href="#593MakeNewInstruction" title='MakeNewInstruction' data-ref="593MakeNewInstruction" data-ref-filename="593MakeNewInstruction">MakeNewInstruction</a> = <b>true</b>;</td></tr>
<tr><th id="3370">3370</th><td>        <i>// Move on to the next filter.</i></td></tr>
<tr><th id="3371">3371</th><td>        <b>continue</b>;</td></tr>
<tr><th id="3372">3372</th><td>      }</td></tr>
<tr><th id="3373">3373</th><td>      <em>unsigned</em> <dfn class="local col6 decl" id="626LElts" title='LElts' data-type='unsigned int' data-ref="626LElts" data-ref-filename="626LElts">LElts</dfn> = <a class="local col4 ref" href="#624LTy" title='LTy' data-ref="624LTy" data-ref-filename="624LTy">LTy</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm9ArrayType14getNumElementsEv" title='llvm::ArrayType::getNumElements' data-ref="_ZNK4llvm9ArrayType14getNumElementsEv" data-ref-filename="_ZNK4llvm9ArrayType14getNumElementsEv">getNumElements</a>();</td></tr>
<tr><th id="3374">3374</th><td>      <i>// If Filter is longer than LFilter then it cannot be a subset of it.</i></td></tr>
<tr><th id="3375">3375</th><td>      <b>if</b> (<a class="local col1 ref" href="#621FElts" title='FElts' data-ref="621FElts" data-ref-filename="621FElts">FElts</a> &gt; <a class="local col6 ref" href="#626LElts" title='LElts' data-ref="626LElts" data-ref-filename="626LElts">LElts</a>)</td></tr>
<tr><th id="3376">3376</th><td>        <i>// Move on to the next filter.</i></td></tr>
<tr><th id="3377">3377</th><td>        <b>continue</b>;</td></tr>
<tr><th id="3378">3378</th><td>      <i>// At this point we know that LFilter has at least one element.</i></td></tr>
<tr><th id="3379">3379</th><td>      <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantAggregateZero" title='llvm::ConstantAggregateZero' data-ref="llvm::ConstantAggregateZero" data-ref-filename="llvm..ConstantAggregateZero">ConstantAggregateZero</a>&gt;(<a class="local col3 ref" href="#623LFilter" title='LFilter' data-ref="623LFilter" data-ref-filename="623LFilter">LFilter</a>)) { <i>// LFilter only contains zeros.</i></td></tr>
<tr><th id="3380">3380</th><td>        <i>// Filter is a subset of LFilter iff Filter contains only zeros (as we</i></td></tr>
<tr><th id="3381">3381</th><td><i>        // already know that Filter is not longer than LFilter).</i></td></tr>
<tr><th id="3382">3382</th><td>        <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantAggregateZero" title='llvm::ConstantAggregateZero' data-ref="llvm::ConstantAggregateZero" data-ref-filename="llvm..ConstantAggregateZero">ConstantAggregateZero</a>&gt;(<a class="local col9 ref" href="#619Filter" title='Filter' data-ref="619Filter" data-ref-filename="619Filter">Filter</a>)) {</td></tr>
<tr><th id="3383">3383</th><td>          <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(FElts &lt;= LElts &amp;&amp; <q>"Should have handled this case earlier!"</q>);</td></tr>
<tr><th id="3384">3384</th><td>          <i>// Discard LFilter.</i></td></tr>
<tr><th id="3385">3385</th><td>          <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl5eraseENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructible1740290" title='llvm::SmallVectorImpl::erase' data-ref="_ZN4llvm15SmallVectorImpl5eraseENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructible1740290" data-ref-filename="_ZN4llvm15SmallVectorImpl5eraseENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructible1740290">erase</a>(<a class="local col5 ref" href="#625J" title='J' data-ref="625J" data-ref-filename="625J">J</a>);</td></tr>
<tr><th id="3386">3386</th><td>          <a class="local col3 ref" href="#593MakeNewInstruction" title='MakeNewInstruction' data-ref="593MakeNewInstruction" data-ref-filename="593MakeNewInstruction">MakeNewInstruction</a> = <b>true</b>;</td></tr>
<tr><th id="3387">3387</th><td>        }</td></tr>
<tr><th id="3388">3388</th><td>        <i>// Move on to the next filter.</i></td></tr>
<tr><th id="3389">3389</th><td>        <b>continue</b>;</td></tr>
<tr><th id="3390">3390</th><td>      }</td></tr>
<tr><th id="3391">3391</th><td>      <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantArray" title='llvm::ConstantArray' data-ref="llvm::ConstantArray" data-ref-filename="llvm..ConstantArray">ConstantArray</a> *<dfn class="local col7 decl" id="627LArray" title='LArray' data-type='llvm::ConstantArray *' data-ref="627LArray" data-ref-filename="627LArray">LArray</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantArray" title='llvm::ConstantArray' data-ref="llvm::ConstantArray" data-ref-filename="llvm..ConstantArray">ConstantArray</a>&gt;(<a class="local col3 ref" href="#623LFilter" title='LFilter' data-ref="623LFilter" data-ref-filename="623LFilter">LFilter</a>);</td></tr>
<tr><th id="3392">3392</th><td>      <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantAggregateZero" title='llvm::ConstantAggregateZero' data-ref="llvm::ConstantAggregateZero" data-ref-filename="llvm..ConstantAggregateZero">ConstantAggregateZero</a>&gt;(<a class="local col9 ref" href="#619Filter" title='Filter' data-ref="619Filter" data-ref-filename="619Filter">Filter</a>)) { <i>// Filter only contains zeros.</i></td></tr>
<tr><th id="3393">3393</th><td>        <i>// Since Filter is non-empty and contains only zeros, it is a subset of</i></td></tr>
<tr><th id="3394">3394</th><td><i>        // LFilter iff LFilter contains a zero.</i></td></tr>
<tr><th id="3395">3395</th><td>        <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(FElts &gt; <var>0</var> &amp;&amp; <q>"Should have eliminated the empty filter earlier!"</q>);</td></tr>
<tr><th id="3396">3396</th><td>        <b>for</b> (<em>unsigned</em> <dfn class="local col8 decl" id="628l" title='l' data-type='unsigned int' data-ref="628l" data-ref-filename="628l">l</dfn> = <var>0</var>; <a class="local col8 ref" href="#628l" title='l' data-ref="628l" data-ref-filename="628l">l</a> != <a class="local col6 ref" href="#626LElts" title='LElts' data-ref="626LElts" data-ref-filename="626LElts">LElts</a>; ++<a class="local col8 ref" href="#628l" title='l' data-ref="628l" data-ref-filename="628l">l</a>)</td></tr>
<tr><th id="3397">3397</th><td>          <b>if</b> (<a class="local col7 ref" href="#627LArray" title='LArray' data-ref="627LArray" data-ref-filename="627LArray">LArray</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#406" title='llvm::ConstantAggregate::getOperand' data-ref="_ZNK4llvm17ConstantAggregate10getOperandEj" data-ref-filename="_ZNK4llvm17ConstantAggregate10getOperandEj">getOperand</a>(<a class="local col8 ref" href="#628l" title='l' data-ref="628l" data-ref-filename="628l">l</a>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZNK4llvm8Constant11isNullValueEv" title='llvm::Constant::isNullValue' data-ref="_ZNK4llvm8Constant11isNullValueEv" data-ref-filename="_ZNK4llvm8Constant11isNullValueEv">isNullValue</a>()) {</td></tr>
<tr><th id="3398">3398</th><td>            <i>// LFilter contains a zero - discard it.</i></td></tr>
<tr><th id="3399">3399</th><td>            <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl5eraseENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructible1740290" title='llvm::SmallVectorImpl::erase' data-ref="_ZN4llvm15SmallVectorImpl5eraseENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructible1740290" data-ref-filename="_ZN4llvm15SmallVectorImpl5eraseENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructible1740290">erase</a>(<a class="local col5 ref" href="#625J" title='J' data-ref="625J" data-ref-filename="625J">J</a>);</td></tr>
<tr><th id="3400">3400</th><td>            <a class="local col3 ref" href="#593MakeNewInstruction" title='MakeNewInstruction' data-ref="593MakeNewInstruction" data-ref-filename="593MakeNewInstruction">MakeNewInstruction</a> = <b>true</b>;</td></tr>
<tr><th id="3401">3401</th><td>            <b>break</b>;</td></tr>
<tr><th id="3402">3402</th><td>          }</td></tr>
<tr><th id="3403">3403</th><td>        <i>// Move on to the next filter.</i></td></tr>
<tr><th id="3404">3404</th><td>        <b>continue</b>;</td></tr>
<tr><th id="3405">3405</th><td>      }</td></tr>
<tr><th id="3406">3406</th><td>      <i>// At this point we know that both filters are ConstantArrays.  Loop over</i></td></tr>
<tr><th id="3407">3407</th><td><i>      // operands to see whether every element of Filter is also an element of</i></td></tr>
<tr><th id="3408">3408</th><td><i>      // LFilter.  Since filters tend to be short this is probably faster than</i></td></tr>
<tr><th id="3409">3409</th><td><i>      // using a method that scales nicely.</i></td></tr>
<tr><th id="3410">3410</th><td>      <a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantArray" title='llvm::ConstantArray' data-ref="llvm::ConstantArray" data-ref-filename="llvm..ConstantArray">ConstantArray</a> *<dfn class="local col9 decl" id="629FArray" title='FArray' data-type='llvm::ConstantArray *' data-ref="629FArray" data-ref-filename="629FArray">FArray</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantArray" title='llvm::ConstantArray' data-ref="llvm::ConstantArray" data-ref-filename="llvm..ConstantArray">ConstantArray</a>&gt;(<a class="local col9 ref" href="#619Filter" title='Filter' data-ref="619Filter" data-ref-filename="619Filter">Filter</a>);</td></tr>
<tr><th id="3411">3411</th><td>      <em>bool</em> <dfn class="local col0 decl" id="630AllFound" title='AllFound' data-type='bool' data-ref="630AllFound" data-ref-filename="630AllFound">AllFound</dfn> = <b>true</b>;</td></tr>
<tr><th id="3412">3412</th><td>      <b>for</b> (<em>unsigned</em> <dfn class="local col1 decl" id="631f" title='f' data-type='unsigned int' data-ref="631f" data-ref-filename="631f">f</dfn> = <var>0</var>; <a class="local col1 ref" href="#631f" title='f' data-ref="631f" data-ref-filename="631f">f</a> != <a class="local col1 ref" href="#621FElts" title='FElts' data-ref="621FElts" data-ref-filename="621FElts">FElts</a>; ++<a class="local col1 ref" href="#631f" title='f' data-ref="631f" data-ref-filename="631f">f</a>) {</td></tr>
<tr><th id="3413">3413</th><td>        <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="632FTypeInfo" title='FTypeInfo' data-type='llvm::Value *' data-ref="632FTypeInfo" data-ref-filename="632FTypeInfo">FTypeInfo</dfn> = <a class="local col9 ref" href="#629FArray" title='FArray' data-ref="629FArray" data-ref-filename="629FArray">FArray</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#406" title='llvm::ConstantAggregate::getOperand' data-ref="_ZNK4llvm17ConstantAggregate10getOperandEj" data-ref-filename="_ZNK4llvm17ConstantAggregate10getOperandEj">getOperand</a>(<a class="local col1 ref" href="#631f" title='f' data-ref="631f" data-ref-filename="631f">f</a>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZN4llvm8Constant17stripPointerCastsEv" title='llvm::Constant::stripPointerCasts' data-ref="_ZN4llvm8Constant17stripPointerCastsEv" data-ref-filename="_ZN4llvm8Constant17stripPointerCastsEv">stripPointerCasts</a>();</td></tr>
<tr><th id="3414">3414</th><td>        <a class="local col0 ref" href="#630AllFound" title='AllFound' data-ref="630AllFound" data-ref-filename="630AllFound">AllFound</a> = <b>false</b>;</td></tr>
<tr><th id="3415">3415</th><td>        <b>for</b> (<em>unsigned</em> <dfn class="local col3 decl" id="633l" title='l' data-type='unsigned int' data-ref="633l" data-ref-filename="633l">l</dfn> = <var>0</var>; <a class="local col3 ref" href="#633l" title='l' data-ref="633l" data-ref-filename="633l">l</a> != <a class="local col6 ref" href="#626LElts" title='LElts' data-ref="626LElts" data-ref-filename="626LElts">LElts</a>; ++<a class="local col3 ref" href="#633l" title='l' data-ref="633l" data-ref-filename="633l">l</a>) {</td></tr>
<tr><th id="3416">3416</th><td>          <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="634LTypeInfo" title='LTypeInfo' data-type='llvm::Value *' data-ref="634LTypeInfo" data-ref-filename="634LTypeInfo">LTypeInfo</dfn> = <a class="local col7 ref" href="#627LArray" title='LArray' data-ref="627LArray" data-ref-filename="627LArray">LArray</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#406" title='llvm::ConstantAggregate::getOperand' data-ref="_ZNK4llvm17ConstantAggregate10getOperandEj" data-ref-filename="_ZNK4llvm17ConstantAggregate10getOperandEj">getOperand</a>(<a class="local col3 ref" href="#633l" title='l' data-ref="633l" data-ref-filename="633l">l</a>)-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZN4llvm8Constant17stripPointerCastsEv" title='llvm::Constant::stripPointerCasts' data-ref="_ZN4llvm8Constant17stripPointerCastsEv" data-ref-filename="_ZN4llvm8Constant17stripPointerCastsEv">stripPointerCasts</a>();</td></tr>
<tr><th id="3417">3417</th><td>          <b>if</b> (<a class="local col4 ref" href="#634LTypeInfo" title='LTypeInfo' data-ref="634LTypeInfo" data-ref-filename="634LTypeInfo">LTypeInfo</a> == <a class="local col2 ref" href="#632FTypeInfo" title='FTypeInfo' data-ref="632FTypeInfo" data-ref-filename="632FTypeInfo">FTypeInfo</a>) {</td></tr>
<tr><th id="3418">3418</th><td>            <a class="local col0 ref" href="#630AllFound" title='AllFound' data-ref="630AllFound" data-ref-filename="630AllFound">AllFound</a> = <b>true</b>;</td></tr>
<tr><th id="3419">3419</th><td>            <b>break</b>;</td></tr>
<tr><th id="3420">3420</th><td>          }</td></tr>
<tr><th id="3421">3421</th><td>        }</td></tr>
<tr><th id="3422">3422</th><td>        <b>if</b> (!<a class="local col0 ref" href="#630AllFound" title='AllFound' data-ref="630AllFound" data-ref-filename="630AllFound">AllFound</a>)</td></tr>
<tr><th id="3423">3423</th><td>          <b>break</b>;</td></tr>
<tr><th id="3424">3424</th><td>      }</td></tr>
<tr><th id="3425">3425</th><td>      <b>if</b> (<a class="local col0 ref" href="#630AllFound" title='AllFound' data-ref="630AllFound" data-ref-filename="630AllFound">AllFound</a>) {</td></tr>
<tr><th id="3426">3426</th><td>        <i>// Discard LFilter.</i></td></tr>
<tr><th id="3427">3427</th><td>        <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl5eraseENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructible1740290" title='llvm::SmallVectorImpl::erase' data-ref="_ZN4llvm15SmallVectorImpl5eraseENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructible1740290" data-ref-filename="_ZN4llvm15SmallVectorImpl5eraseENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructible1740290">erase</a>(<a class="local col5 ref" href="#625J" title='J' data-ref="625J" data-ref-filename="625J">J</a>);</td></tr>
<tr><th id="3428">3428</th><td>        <a class="local col3 ref" href="#593MakeNewInstruction" title='MakeNewInstruction' data-ref="593MakeNewInstruction" data-ref-filename="593MakeNewInstruction">MakeNewInstruction</a> = <b>true</b>;</td></tr>
<tr><th id="3429">3429</th><td>      }</td></tr>
<tr><th id="3430">3430</th><td>      <i>// Move on to the next filter.</i></td></tr>
<tr><th id="3431">3431</th><td>    }</td></tr>
<tr><th id="3432">3432</th><td>  }</td></tr>
<tr><th id="3433">3433</th><td></td></tr>
<tr><th id="3434">3434</th><td>  <i>// If we changed any of the clauses, replace the old landingpad instruction</i></td></tr>
<tr><th id="3435">3435</th><td><i>  // with a new one.</i></td></tr>
<tr><th id="3436">3436</th><td>  <b>if</b> (<a class="local col3 ref" href="#593MakeNewInstruction" title='MakeNewInstruction' data-ref="593MakeNewInstruction" data-ref-filename="593MakeNewInstruction">MakeNewInstruction</a>) {</td></tr>
<tr><th id="3437">3437</th><td>    <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::LandingPadInst" title='llvm::LandingPadInst' data-ref="llvm::LandingPadInst" data-ref-filename="llvm..LandingPadInst">LandingPadInst</a> *<dfn class="local col5 decl" id="635NLI" title='NLI' data-type='llvm::LandingPadInst *' data-ref="635NLI" data-ref-filename="635NLI">NLI</dfn> = <a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::LandingPadInst" title='llvm::LandingPadInst' data-ref="llvm::LandingPadInst" data-ref-filename="llvm..LandingPadInst">LandingPadInst</a>::<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm14LandingPadInst6CreateEPNS_4TypeEjRKNS_5TwineEPNS_11InstructionE" title='llvm::LandingPadInst::Create' data-ref="_ZN4llvm14LandingPadInst6CreateEPNS_4TypeEjRKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm14LandingPadInst6CreateEPNS_4TypeEjRKNS_5TwineEPNS_11InstructionE">Create</a>(<a class="local col1 ref" href="#591LI" title='LI' data-ref="591LI" data-ref-filename="591LI">LI</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(),</td></tr>
<tr><th id="3438">3438</th><td>                                                 <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase4sizeEv" title='llvm::SmallVectorBase::size' data-ref="_ZNK4llvm15SmallVectorBase4sizeEv" data-ref-filename="_ZNK4llvm15SmallVectorBase4sizeEv">size</a>());</td></tr>
<tr><th id="3439">3439</th><td>    <b>for</b> (<em>unsigned</em> <dfn class="local col6 decl" id="636i" title='i' data-type='unsigned int' data-ref="636i" data-ref-filename="636i">i</dfn> = <var>0</var>, <dfn class="local col7 decl" id="637e" title='e' data-type='unsigned int' data-ref="637e" data-ref-filename="637e">e</dfn> = <a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase4sizeEv" title='llvm::SmallVectorBase::size' data-ref="_ZNK4llvm15SmallVectorBase4sizeEv" data-ref-filename="_ZNK4llvm15SmallVectorBase4sizeEv">size</a>(); <a class="local col6 ref" href="#636i" title='i' data-ref="636i" data-ref-filename="636i">i</a> != <a class="local col7 ref" href="#637e" title='e' data-ref="637e" data-ref-filename="637e">e</a>; ++<a class="local col6 ref" href="#636i" title='i' data-ref="636i" data-ref-filename="636i">i</a>)</td></tr>
<tr><th id="3440">3440</th><td>      <a class="local col5 ref" href="#635NLI" title='NLI' data-ref="635NLI" data-ref-filename="635NLI">NLI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm14LandingPadInst9addClauseEPNS_8ConstantE" title='llvm::LandingPadInst::addClause' data-ref="_ZN4llvm14LandingPadInst9addClauseEPNS_8ConstantE" data-ref-filename="_ZN4llvm14LandingPadInst9addClauseEPNS_8ConstantE">addClause</a>(<a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col6 ref" href="#636i" title='i' data-ref="636i" data-ref-filename="636i">i</a>]</a>);</td></tr>
<tr><th id="3441">3441</th><td>    <i>// A landing pad with no clauses must have the cleanup flag set.  It is</i></td></tr>
<tr><th id="3442">3442</th><td><i>    // theoretically possible, though highly unlikely, that we eliminated all</i></td></tr>
<tr><th id="3443">3443</th><td><i>    // clauses.  If so, force the cleanup flag to true.</i></td></tr>
<tr><th id="3444">3444</th><td>    <b>if</b> (<a class="local col4 ref" href="#594NewClauses" title='NewClauses' data-ref="594NewClauses" data-ref-filename="594NewClauses">NewClauses</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase5emptyEv" title='llvm::SmallVectorBase::empty' data-ref="_ZNK4llvm15SmallVectorBase5emptyEv" data-ref-filename="_ZNK4llvm15SmallVectorBase5emptyEv">empty</a>())</td></tr>
<tr><th id="3445">3445</th><td>      <a class="local col5 ref" href="#595CleanupFlag" title='CleanupFlag' data-ref="595CleanupFlag" data-ref-filename="595CleanupFlag">CleanupFlag</a> = <b>true</b>;</td></tr>
<tr><th id="3446">3446</th><td>    <a class="local col5 ref" href="#635NLI" title='NLI' data-ref="635NLI" data-ref-filename="635NLI">NLI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm14LandingPadInst10setCleanupEb" title='llvm::LandingPadInst::setCleanup' data-ref="_ZN4llvm14LandingPadInst10setCleanupEb" data-ref-filename="_ZN4llvm14LandingPadInst10setCleanupEb">setCleanup</a>(<a class="local col5 ref" href="#595CleanupFlag" title='CleanupFlag' data-ref="595CleanupFlag" data-ref-filename="595CleanupFlag">CleanupFlag</a>);</td></tr>
<tr><th id="3447">3447</th><td>    <b>return</b> <a class="local col5 ref" href="#635NLI" title='NLI' data-ref="635NLI" data-ref-filename="635NLI">NLI</a>;</td></tr>
<tr><th id="3448">3448</th><td>  }</td></tr>
<tr><th id="3449">3449</th><td></td></tr>
<tr><th id="3450">3450</th><td>  <i>// Even if none of the clauses changed, we may nonetheless have understood</i></td></tr>
<tr><th id="3451">3451</th><td><i>  // that the cleanup flag is pointless.  Clear it if so.</i></td></tr>
<tr><th id="3452">3452</th><td>  <b>if</b> (<a class="local col1 ref" href="#591LI" title='LI' data-ref="591LI" data-ref-filename="591LI">LI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm14LandingPadInst9isCleanupEv" title='llvm::LandingPadInst::isCleanup' data-ref="_ZNK4llvm14LandingPadInst9isCleanupEv" data-ref-filename="_ZNK4llvm14LandingPadInst9isCleanupEv">isCleanup</a>() != <a class="local col5 ref" href="#595CleanupFlag" title='CleanupFlag' data-ref="595CleanupFlag" data-ref-filename="595CleanupFlag">CleanupFlag</a>) {</td></tr>
<tr><th id="3453">3453</th><td>    <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(!CleanupFlag &amp;&amp; <q>"Adding a cleanup, not removing one?!"</q>);</td></tr>
<tr><th id="3454">3454</th><td>    <a class="local col1 ref" href="#591LI" title='LI' data-ref="591LI" data-ref-filename="591LI">LI</a>.<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm14LandingPadInst10setCleanupEb" title='llvm::LandingPadInst::setCleanup' data-ref="_ZN4llvm14LandingPadInst10setCleanupEb" data-ref-filename="_ZN4llvm14LandingPadInst10setCleanupEb">setCleanup</a>(<a class="local col5 ref" href="#595CleanupFlag" title='CleanupFlag' data-ref="595CleanupFlag" data-ref-filename="595CleanupFlag">CleanupFlag</a>);</td></tr>
<tr><th id="3455">3455</th><td>    <b>return</b> &amp;<a class="local col1 ref" href="#591LI" title='LI' data-ref="591LI" data-ref-filename="591LI">LI</a>;</td></tr>
<tr><th id="3456">3456</th><td>  }</td></tr>
<tr><th id="3457">3457</th><td></td></tr>
<tr><th id="3458">3458</th><td>  <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="3459">3459</th><td>}</td></tr>
<tr><th id="3460">3460</th><td></td></tr>
<tr><th id="3461">3461</th><td><a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl11visitFreezeERNS_10FreezeInstE" title='llvm::InstCombinerImpl::visitFreeze' data-ref="_ZN4llvm16InstCombinerImpl11visitFreezeERNS_10FreezeInstE" data-ref-filename="_ZN4llvm16InstCombinerImpl11visitFreezeERNS_10FreezeInstE">visitFreeze</dfn>(<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::FreezeInst" title='llvm::FreezeInst' data-ref="llvm::FreezeInst" data-ref-filename="llvm..FreezeInst">FreezeInst</a> &amp;<dfn class="local col8 decl" id="638I" title='I' data-type='llvm::FreezeInst &amp;' data-ref="638I" data-ref-filename="638I">I</dfn>) {</td></tr>
<tr><th id="3462">3462</th><td>  <a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="639Op0" title='Op0' data-type='llvm::Value *' data-ref="639Op0" data-ref-filename="639Op0">Op0</dfn> = <a class="local col8 ref" href="#638I" title='I' data-ref="638I" data-ref-filename="638I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#76" title='llvm::UnaryInstruction::getOperand' data-ref="_ZNK4llvm16UnaryInstruction10getOperandEj" data-ref-filename="_ZNK4llvm16UnaryInstruction10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="3463">3463</th><td></td></tr>
<tr><th id="3464">3464</th><td>  <b>if</b> (<a class="type" href="../../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="640V" title='V' data-type='llvm::Value *' data-ref="640V" data-ref-filename="640V"><a class="local col0 ref" href="#640V" title='V' data-ref="640V" data-ref-filename="640V">V</a></dfn> = <a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZN4llvm18SimplifyFreezeInstEPNS_5ValueERKNS_13SimplifyQueryE" title='llvm::SimplifyFreezeInst' data-ref="_ZN4llvm18SimplifyFreezeInstEPNS_5ValueERKNS_13SimplifyQueryE" data-ref-filename="_ZN4llvm18SimplifyFreezeInstEPNS_5ValueERKNS_13SimplifyQueryE">SimplifyFreezeInst</a>(<a class="local col9 ref" href="#639Op0" title='Op0' data-ref="639Op0" data-ref-filename="639Op0">Op0</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::SQ" title='llvm::InstCombiner::SQ' data-ref="llvm::InstCombiner::SQ" data-ref-filename="llvm..InstCombiner..SQ">SQ</a>.<a class="ref fn" href="../../../include/llvm/Analysis/InstructionSimplify.h.html#_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" title='llvm::SimplifyQuery::getWithInstruction' data-ref="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE" data-ref-filename="_ZNK4llvm13SimplifyQuery18getWithInstructionEPNS_11InstructionE">getWithInstruction</a>(&amp;<a class="local col8 ref" href="#638I" title='I' data-ref="638I" data-ref-filename="638I">I</a>)))</td></tr>
<tr><th id="3465">3465</th><td>    <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'><a class="local col8 ref" href="#638I" title='I' data-ref="638I" data-ref-filename="638I">I</a></span>, <a class="local col0 ref" href="#640V" title='V' data-ref="640V" data-ref-filename="640V">V</a>);</td></tr>
<tr><th id="3466">3466</th><td></td></tr>
<tr><th id="3467">3467</th><td>  <i>// freeze (phi const, x) --&gt; phi const, (freeze x)</i></td></tr>
<tr><th id="3468">3468</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col1 decl" id="641PN" title='PN' data-type='llvm::PHINode *' data-ref="641PN" data-ref-filename="641PN"><a class="local col1 ref" href="#641PN" title='PN' data-ref="641PN" data-ref-filename="641PN">PN</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a>&gt;(<a class="local col9 ref" href="#639Op0" title='Op0' data-ref="639Op0" data-ref-filename="639Op0">Op0</a>)) {</td></tr>
<tr><th id="3469">3469</th><td>    <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col2 decl" id="642NV" title='NV' data-type='llvm::Instruction *' data-ref="642NV" data-ref-filename="642NV"><a class="local col2 ref" href="#642NV" title='NV' data-ref="642NV" data-ref-filename="642NV">NV</a></dfn> = <a class="member fn" href="#_ZN4llvm16InstCombinerImpl13foldOpIntoPhiERNS_11InstructionEPNS_7PHINodeE" title='llvm::InstCombinerImpl::foldOpIntoPhi' data-ref="_ZN4llvm16InstCombinerImpl13foldOpIntoPhiERNS_11InstructionEPNS_7PHINodeE" data-ref-filename="_ZN4llvm16InstCombinerImpl13foldOpIntoPhiERNS_11InstructionEPNS_7PHINodeE">foldOpIntoPhi</a>(<span class='refarg'><a class="local col8 ref" href="#638I" title='I' data-ref="638I" data-ref-filename="638I">I</a></span>, <a class="local col1 ref" href="#641PN" title='PN' data-ref="641PN" data-ref-filename="641PN">PN</a>))</td></tr>
<tr><th id="3470">3470</th><td>      <b>return</b> <a class="local col2 ref" href="#642NV" title='NV' data-ref="642NV" data-ref-filename="642NV">NV</a>;</td></tr>
<tr><th id="3471">3471</th><td>  }</td></tr>
<tr><th id="3472">3472</th><td></td></tr>
<tr><th id="3473">3473</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col9 ref" href="#639Op0" title='Op0' data-ref="639Op0" data-ref-filename="639Op0">Op0</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_UndefEv" title='llvm::PatternMatch::m_Undef' data-ref="_ZN4llvm12PatternMatch7m_UndefEv" data-ref-filename="_ZN4llvm12PatternMatch7m_UndefEv">m_Undef</a>())) {</td></tr>
<tr><th id="3474">3474</th><td>    <i>// If I is freeze(undef), see its uses and fold it to the best constant.</i></td></tr>
<tr><th id="3475">3475</th><td><i>    // - or: pick -1</i></td></tr>
<tr><th id="3476">3476</th><td><i>    // - select's condition: pick the value that leads to choosing a constant</i></td></tr>
<tr><th id="3477">3477</th><td><i>    // - other ops: pick 0</i></td></tr>
<tr><th id="3478">3478</th><td>    <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col3 decl" id="643BestValue" title='BestValue' data-type='llvm::Constant *' data-ref="643BestValue" data-ref-filename="643BestValue">BestValue</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="3479">3479</th><td>    <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col4 decl" id="644NullValue" title='NullValue' data-type='llvm::Constant *' data-ref="644NullValue" data-ref-filename="644NullValue">NullValue</dfn> = <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>::<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZN4llvm8Constant12getNullValueEPNS_4TypeE" title='llvm::Constant::getNullValue' data-ref="_ZN4llvm8Constant12getNullValueEPNS_4TypeE" data-ref-filename="_ZN4llvm8Constant12getNullValueEPNS_4TypeE">getNullValue</a>(<a class="local col8 ref" href="#638I" title='I' data-ref="638I" data-ref-filename="638I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="3480">3480</th><td>    <b>for</b> (<em>const</em> <em>auto</em> *<dfn class="local col5 decl" id="645U" title='U' data-type='const llvm::User *' data-ref="645U" data-ref-filename="645U">U</dfn> : <a class="local col8 ref" href="#638I" title='I' data-ref="638I" data-ref-filename="638I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value5usersEv" title='llvm::Value::users' data-ref="_ZN4llvm5Value5usersEv" data-ref-filename="_ZN4llvm5Value5usersEv">users</a>()) {</td></tr>
<tr><th id="3481">3481</th><td>      <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col6 decl" id="646C" title='C' data-type='llvm::Constant *' data-ref="646C" data-ref-filename="646C">C</dfn> = <a class="local col4 ref" href="#644NullValue" title='NullValue' data-ref="644NullValue" data-ref-filename="644NullValue">NullValue</a>;</td></tr>
<tr><th id="3482">3482</th><td></td></tr>
<tr><th id="3483">3483</th><td>      <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col5 ref" href="#645U" title='U' data-ref="645U" data-ref-filename="645U">U</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch4m_OrERKT_RKT0_" title='llvm::PatternMatch::m_Or' data-ref="_ZN4llvm12PatternMatch4m_OrERKT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch4m_OrERKT_RKT0_">m_Or</a>(<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueEv" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueEv" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueEv">m_Value</a>(), <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch7m_ValueEv" title='llvm::PatternMatch::m_Value' data-ref="_ZN4llvm12PatternMatch7m_ValueEv" data-ref-filename="_ZN4llvm12PatternMatch7m_ValueEv">m_Value</a>())))</td></tr>
<tr><th id="3484">3484</th><td>        <a class="local col6 ref" href="#646C" title='C' data-ref="646C" data-ref-filename="646C">C</a> = <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>::<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZN4llvm8Constant15getAllOnesValueEPNS_4TypeE" title='llvm::Constant::getAllOnesValue' data-ref="_ZN4llvm8Constant15getAllOnesValueEPNS_4TypeE" data-ref-filename="_ZN4llvm8Constant15getAllOnesValueEPNS_4TypeE">getAllOnesValue</a>(<a class="local col8 ref" href="#638I" title='I' data-ref="638I" data-ref-filename="638I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="3485">3485</th><td>      <b>else</b> <b>if</b> (<em>const</em> <em>auto</em> *<dfn class="local col7 decl" id="647SI" title='SI' data-type='const llvm::SelectInst *' data-ref="647SI" data-ref-filename="647SI"><a class="local col7 ref" href="#647SI" title='SI' data-ref="647SI" data-ref-filename="647SI">SI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::SelectInst" title='llvm::SelectInst' data-ref="llvm::SelectInst" data-ref-filename="llvm..SelectInst">SelectInst</a>&gt;(<a class="local col5 ref" href="#645U" title='U' data-ref="645U" data-ref-filename="645U">U</a>)) {</td></tr>
<tr><th id="3486">3486</th><td>        <b>if</b> (<a class="local col7 ref" href="#647SI" title='SI' data-ref="647SI" data-ref-filename="647SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10SelectInst12getConditionEv" title='llvm::SelectInst::getCondition' data-ref="_ZNK4llvm10SelectInst12getConditionEv" data-ref-filename="_ZNK4llvm10SelectInst12getConditionEv">getCondition</a>() == &amp;<a class="local col8 ref" href="#638I" title='I' data-ref="638I" data-ref-filename="638I">I</a>) {</td></tr>
<tr><th id="3487">3487</th><td>          <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::APInt" title='llvm::APInt' data-ref="llvm::APInt" data-ref-filename="llvm..APInt">APInt</a> <dfn class="local col8 decl" id="648CondVal" title='CondVal' data-type='llvm::APInt' data-ref="648CondVal" data-ref-filename="648CondVal">CondVal</dfn><a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntC1Ejmb" title='llvm::APInt::APInt' data-ref="_ZN4llvm5APIntC1Ejmb" data-ref-filename="_ZN4llvm5APIntC1Ejmb">(</a><var>1</var>, <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col7 ref" href="#647SI" title='SI' data-ref="647SI" data-ref-filename="647SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10SelectInst13getFalseValueEv" title='llvm::SelectInst::getFalseValue' data-ref="_ZNK4llvm10SelectInst13getFalseValueEv" data-ref-filename="_ZNK4llvm10SelectInst13getFalseValueEv">getFalseValue</a>()) ? <var>0</var> : <var>1</var>);</td></tr>
<tr><th id="3488">3488</th><td>          <a class="local col6 ref" href="#646C" title='C' data-ref="646C" data-ref-filename="646C">C</a> = <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>::<a class="ref fn" href="../../../include/llvm/IR/Constant.h.html#_ZN4llvm8Constant15getIntegerValueEPNS_4TypeERKNS_5APIntE" title='llvm::Constant::getIntegerValue' data-ref="_ZN4llvm8Constant15getIntegerValueEPNS_4TypeERKNS_5APIntE" data-ref-filename="_ZN4llvm8Constant15getIntegerValueEPNS_4TypeERKNS_5APIntE">getIntegerValue</a>(<a class="local col8 ref" href="#638I" title='I' data-ref="638I" data-ref-filename="638I">I</a>.<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col8 ref" href="#648CondVal" title='CondVal' data-ref="648CondVal" data-ref-filename="648CondVal">CondVal</a>);</td></tr>
<tr><th id="3489">3489</th><td>        }</td></tr>
<tr><th id="3490">3490</th><td>      }</td></tr>
<tr><th id="3491">3491</th><td></td></tr>
<tr><th id="3492">3492</th><td>      <b>if</b> (!<a class="local col3 ref" href="#643BestValue" title='BestValue' data-ref="643BestValue" data-ref-filename="643BestValue">BestValue</a>)</td></tr>
<tr><th id="3493">3493</th><td>        <a class="local col3 ref" href="#643BestValue" title='BestValue' data-ref="643BestValue" data-ref-filename="643BestValue">BestValue</a> = <a class="local col6 ref" href="#646C" title='C' data-ref="646C" data-ref-filename="646C">C</a>;</td></tr>
<tr><th id="3494">3494</th><td>      <b>else</b> <b>if</b> (<a class="local col3 ref" href="#643BestValue" title='BestValue' data-ref="643BestValue" data-ref-filename="643BestValue">BestValue</a> != <a class="local col6 ref" href="#646C" title='C' data-ref="646C" data-ref-filename="646C">C</a>)</td></tr>
<tr><th id="3495">3495</th><td>        <a class="local col3 ref" href="#643BestValue" title='BestValue' data-ref="643BestValue" data-ref-filename="643BestValue">BestValue</a> = <a class="local col4 ref" href="#644NullValue" title='NullValue' data-ref="644NullValue" data-ref-filename="644NullValue">NullValue</a>;</td></tr>
<tr><th id="3496">3496</th><td>    }</td></tr>
<tr><th id="3497">3497</th><td></td></tr>
<tr><th id="3498">3498</th><td>    <b>return</b> <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'><a class="local col8 ref" href="#638I" title='I' data-ref="638I" data-ref-filename="638I">I</a></span>, <a class="local col3 ref" href="#643BestValue" title='BestValue' data-ref="643BestValue" data-ref-filename="643BestValue">BestValue</a>);</td></tr>
<tr><th id="3499">3499</th><td>  }</td></tr>
<tr><th id="3500">3500</th><td></td></tr>
<tr><th id="3501">3501</th><td>  <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="3502">3502</th><td>}</td></tr>
<tr><th id="3503">3503</th><td></td></tr>
<tr><th id="3504">3504</th><td><i class="doc" data-doc="_ZL20TryToSinkInstructionPN4llvm11InstructionEPNS_10BasicBlockE">/// Try to move the specified instruction from its current block into the</i></td></tr>
<tr><th id="3505">3505</th><td><i class="doc" data-doc="_ZL20TryToSinkInstructionPN4llvm11InstructionEPNS_10BasicBlockE">/// beginning of DestBlock, which can only happen if it's safe to move the</i></td></tr>
<tr><th id="3506">3506</th><td><i class="doc" data-doc="_ZL20TryToSinkInstructionPN4llvm11InstructionEPNS_10BasicBlockE">/// instruction past all of the instructions between it and the end of its</i></td></tr>
<tr><th id="3507">3507</th><td><i class="doc" data-doc="_ZL20TryToSinkInstructionPN4llvm11InstructionEPNS_10BasicBlockE">/// block.</i></td></tr>
<tr><th id="3508">3508</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL20TryToSinkInstructionPN4llvm11InstructionEPNS_10BasicBlockE" title='TryToSinkInstruction' data-type='bool TryToSinkInstruction(llvm::Instruction * I, llvm::BasicBlock * DestBlock)' data-ref="_ZL20TryToSinkInstructionPN4llvm11InstructionEPNS_10BasicBlockE" data-ref-filename="_ZL20TryToSinkInstructionPN4llvm11InstructionEPNS_10BasicBlockE">TryToSinkInstruction</dfn>(<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col9 decl" id="649I" title='I' data-type='llvm::Instruction *' data-ref="649I" data-ref-filename="649I">I</dfn>, <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col0 decl" id="650DestBlock" title='DestBlock' data-type='llvm::BasicBlock *' data-ref="650DestBlock" data-ref-filename="650DestBlock">DestBlock</dfn>) {</td></tr>
<tr><th id="3509">3509</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(I-&gt;getSingleUndroppableUse() &amp;&amp; <q>"Invariants didn't hold!"</q>);</td></tr>
<tr><th id="3510">3510</th><td>  <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col1 decl" id="651SrcBlock" title='SrcBlock' data-type='llvm::BasicBlock *' data-ref="651SrcBlock" data-ref-filename="651SrcBlock">SrcBlock</dfn> = <a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>();</td></tr>
<tr><th id="3511">3511</th><td></td></tr>
<tr><th id="3512">3512</th><td>  <i>// Cannot move control-flow-involving, volatile loads, vaarg, etc.</i></td></tr>
<tr><th id="3513">3513</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a>&gt;(<a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>) || <a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction7isEHPadEv" title='llvm::Instruction::isEHPad' data-ref="_ZNK4llvm11Instruction7isEHPadEv" data-ref-filename="_ZNK4llvm11Instruction7isEHPadEv">isEHPad</a>() || <a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction18mayHaveSideEffectsEv" title='llvm::Instruction::mayHaveSideEffects' data-ref="_ZNK4llvm11Instruction18mayHaveSideEffectsEv" data-ref-filename="_ZNK4llvm11Instruction18mayHaveSideEffectsEv">mayHaveSideEffects</a>() ||</td></tr>
<tr><th id="3514">3514</th><td>      <a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction12isTerminatorEv" title='llvm::Instruction::isTerminator' data-ref="_ZNK4llvm11Instruction12isTerminatorEv" data-ref-filename="_ZNK4llvm11Instruction12isTerminatorEv">isTerminator</a>())</td></tr>
<tr><th id="3515">3515</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="3516">3516</th><td></td></tr>
<tr><th id="3517">3517</th><td>  <i>// Do not sink static or dynamic alloca instructions. Static allocas must</i></td></tr>
<tr><th id="3518">3518</th><td><i>  // remain in the entry block, and dynamic allocas must not be sunk in between</i></td></tr>
<tr><th id="3519">3519</th><td><i>  // a stacksave / stackrestore pair, which would incorrectly shorten its</i></td></tr>
<tr><th id="3520">3520</th><td><i>  // lifetime.</i></td></tr>
<tr><th id="3521">3521</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::AllocaInst" title='llvm::AllocaInst' data-ref="llvm::AllocaInst" data-ref-filename="llvm..AllocaInst">AllocaInst</a>&gt;(<a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>))</td></tr>
<tr><th id="3522">3522</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="3523">3523</th><td></td></tr>
<tr><th id="3524">3524</th><td>  <i>// Do not sink into catchswitch blocks.</i></td></tr>
<tr><th id="3525">3525</th><td>  <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::CatchSwitchInst" title='llvm::CatchSwitchInst' data-ref="llvm::CatchSwitchInst" data-ref-filename="llvm..CatchSwitchInst">CatchSwitchInst</a>&gt;(<a class="local col0 ref" href="#650DestBlock" title='DestBlock' data-ref="650DestBlock" data-ref-filename="650DestBlock">DestBlock</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock13getTerminatorEv" title='llvm::BasicBlock::getTerminator' data-ref="_ZN4llvm10BasicBlock13getTerminatorEv" data-ref-filename="_ZN4llvm10BasicBlock13getTerminatorEv">getTerminator</a>()))</td></tr>
<tr><th id="3526">3526</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="3527">3527</th><td></td></tr>
<tr><th id="3528">3528</th><td>  <i>// Do not sink convergent call instructions.</i></td></tr>
<tr><th id="3529">3529</th><td>  <b>if</b> (<em>auto</em> *<dfn class="local col2 decl" id="652CI" title='CI' data-type='llvm::CallInst *' data-ref="652CI" data-ref-filename="652CI"><a class="local col2 ref" href="#652CI" title='CI' data-ref="652CI" data-ref-filename="652CI">CI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::CallInst" title='llvm::CallInst' data-ref="llvm::CallInst" data-ref-filename="llvm..CallInst">CallInst</a>&gt;(<a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>)) {</td></tr>
<tr><th id="3530">3530</th><td>    <b>if</b> (<a class="local col2 ref" href="#652CI" title='CI' data-ref="652CI" data-ref-filename="652CI">CI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#_ZNK4llvm8CallBase12isConvergentEv" title='llvm::CallBase::isConvergent' data-ref="_ZNK4llvm8CallBase12isConvergentEv" data-ref-filename="_ZNK4llvm8CallBase12isConvergentEv">isConvergent</a>())</td></tr>
<tr><th id="3531">3531</th><td>      <b>return</b> <b>false</b>;</td></tr>
<tr><th id="3532">3532</th><td>  }</td></tr>
<tr><th id="3533">3533</th><td>  <i>// We can only sink load instructions if there is nothing between the load and</i></td></tr>
<tr><th id="3534">3534</th><td><i>  // the end of block that could change the value.</i></td></tr>
<tr><th id="3535">3535</th><td>  <b>if</b> (<a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction17mayReadFromMemoryEv" title='llvm::Instruction::mayReadFromMemory' data-ref="_ZNK4llvm11Instruction17mayReadFromMemoryEv" data-ref-filename="_ZNK4llvm11Instruction17mayReadFromMemoryEv">mayReadFromMemory</a>()) {</td></tr>
<tr><th id="3536">3536</th><td>    <i>// We don't want to do any sophisticated alias analysis, so we only check</i></td></tr>
<tr><th id="3537">3537</th><td><i>    // the instructions after I in I's parent block if we try to sink to its</i></td></tr>
<tr><th id="3538">3538</th><td><i>    // successor block.</i></td></tr>
<tr><th id="3539">3539</th><td>    <b>if</b> (<a class="local col0 ref" href="#650DestBlock" title='DestBlock' data-ref="650DestBlock" data-ref-filename="650DestBlock">DestBlock</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock20getUniquePredecessorEv" title='llvm::BasicBlock::getUniquePredecessor' data-ref="_ZN4llvm10BasicBlock20getUniquePredecessorEv" data-ref-filename="_ZN4llvm10BasicBlock20getUniquePredecessorEv">getUniquePredecessor</a>() != <a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>())</td></tr>
<tr><th id="3540">3540</th><td>      <b>return</b> <b>false</b>;</td></tr>
<tr><th id="3541">3541</th><td>    <b>for</b> (<a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="typedef" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock::iterator" title='llvm::BasicBlock::iterator' data-type='InstListType::iterator' data-ref="llvm::BasicBlock::iterator" data-ref-filename="llvm..BasicBlock..iterator">iterator</a> <dfn class="local col3 decl" id="653Scan" title='Scan' data-type='BasicBlock::iterator' data-ref="653Scan" data-ref-filename="653Scan">Scan</dfn> = <a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/ADT/ilist_node.h.html#_ZN4llvm15ilist_node_impl11getIteratorEv" title='llvm::ilist_node_impl::getIterator' data-ref="_ZN4llvm15ilist_node_impl11getIteratorEv" data-ref-filename="_ZN4llvm15ilist_node_impl11getIteratorEv">getIterator</a>(),</td></tr>
<tr><th id="3542">3542</th><td>                              <dfn class="local col4 decl" id="654E" title='E' data-type='BasicBlock::iterator' data-ref="654E" data-ref-filename="654E">E</dfn> = <a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock3endEv" title='llvm::BasicBlock::end' data-ref="_ZN4llvm10BasicBlock3endEv" data-ref-filename="_ZN4llvm10BasicBlock3endEv">end</a>();</td></tr>
<tr><th id="3543">3543</th><td>         <a class="local col3 ref" href="#653Scan" title='Scan' data-ref="653Scan" data-ref-filename="653Scan">Scan</a> <a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_" title='llvm::operator!=' data-ref="_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_" data-ref-filename="_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_">!=</a> <a class="local col4 ref" href="#654E" title='E' data-ref="654E" data-ref-filename="654E">E</a>; <a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZN4llvm14ilist_iteratorppEv" title='llvm::ilist_iterator::operator++' data-ref="_ZN4llvm14ilist_iteratorppEv" data-ref-filename="_ZN4llvm14ilist_iteratorppEv">++</a><a class="local col3 ref" href="#653Scan" title='Scan' data-ref="653Scan" data-ref-filename="653Scan">Scan</a>)</td></tr>
<tr><th id="3544">3544</th><td>      <b>if</b> (<a class="local col3 ref" href="#653Scan" title='Scan' data-ref="653Scan" data-ref-filename="653Scan">Scan</a><a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZNK4llvm14ilist_iteratorptEv" title='llvm::ilist_iterator::operator-&gt;' data-ref="_ZNK4llvm14ilist_iteratorptEv" data-ref-filename="_ZNK4llvm14ilist_iteratorptEv">-&gt;</a><a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction16mayWriteToMemoryEv" title='llvm::Instruction::mayWriteToMemory' data-ref="_ZNK4llvm11Instruction16mayWriteToMemoryEv" data-ref-filename="_ZNK4llvm11Instruction16mayWriteToMemoryEv">mayWriteToMemory</a>())</td></tr>
<tr><th id="3545">3545</th><td>        <b>return</b> <b>false</b>;</td></tr>
<tr><th id="3546">3546</th><td>  }</td></tr>
<tr><th id="3547">3547</th><td></td></tr>
<tr><th id="3548">3548</th><td>  <a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value17dropDroppableUsesENS_12function_refIFbPKNS_3UseEEEE" title='llvm::Value::dropDroppableUses' data-ref="_ZN4llvm5Value17dropDroppableUsesENS_12function_refIFbPKNS_3UseEEEE" data-ref-filename="_ZN4llvm5Value17dropDroppableUsesENS_12function_refIFbPKNS_3UseEEEE">dropDroppableUses</a>(<a class="tu ref fn fake" href="../../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-use='c' data-ref="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" data-ref-filename="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931"></a>[<a class="local col0 ref" href="#650DestBlock" title='DestBlock' data-ref="650DestBlock" data-ref-filename="650DestBlock">DestBlock</a>](<em>const</em> <a class="type" href="../../../include/llvm/IR/Use.h.html#llvm::Use" title='llvm::Use' data-ref="llvm::Use" data-ref-filename="llvm..Use">Use</a> *<dfn class="local col5 decl" id="655U" title='U' data-type='const llvm::Use *' data-ref="655U" data-ref-filename="655U">U</dfn>) {</td></tr>
<tr><th id="3549">3549</th><td>    <b>if</b> (<em>auto</em> *<dfn class="local col6 decl" id="656I" title='I' data-type='llvm::Instruction *' data-ref="656I" data-ref-filename="656I"><a class="local col6 ref" href="#656I" title='I' data-ref="656I" data-ref-filename="656I">I</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>&gt;(<a class="local col5 ref" href="#655U" title='U' data-ref="655U" data-ref-filename="655U">U</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Use.h.html#_ZNK4llvm3Use7getUserEv" title='llvm::Use::getUser' data-ref="_ZNK4llvm3Use7getUserEv" data-ref-filename="_ZNK4llvm3Use7getUserEv">getUser</a>()))</td></tr>
<tr><th id="3550">3550</th><td>      <b>return</b> <a class="local col6 ref" href="#656I" title='I' data-ref="656I" data-ref-filename="656I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>() != <a class="local col0 ref" href="#650DestBlock" title='DestBlock' data-ref="650DestBlock" data-ref-filename="650DestBlock">DestBlock</a>;</td></tr>
<tr><th id="3551">3551</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="3552">3552</th><td>  });</td></tr>
<tr><th id="3553">3553</th><td>  <i class="doc">/// FIXME: We could remove droppable uses that are not dominated by</i></td></tr>
<tr><th id="3554">3554</th><td><i class="doc">  /// the new position.</i></td></tr>
<tr><th id="3555">3555</th><td></td></tr>
<tr><th id="3556">3556</th><td>  <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="typedef" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock::iterator" title='llvm::BasicBlock::iterator' data-type='InstListType::iterator' data-ref="llvm::BasicBlock::iterator" data-ref-filename="llvm..BasicBlock..iterator">iterator</a> <dfn class="local col7 decl" id="657InsertPos" title='InsertPos' data-type='BasicBlock::iterator' data-ref="657InsertPos" data-ref-filename="657InsertPos">InsertPos</dfn> = <a class="local col0 ref" href="#650DestBlock" title='DestBlock' data-ref="650DestBlock" data-ref-filename="650DestBlock">DestBlock</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock19getFirstInsertionPtEv" title='llvm::BasicBlock::getFirstInsertionPt' data-ref="_ZN4llvm10BasicBlock19getFirstInsertionPtEv" data-ref-filename="_ZN4llvm10BasicBlock19getFirstInsertionPtEv">getFirstInsertionPt</a>();</td></tr>
<tr><th id="3557">3557</th><td>  <a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction10moveBeforeEPS0_" title='llvm::Instruction::moveBefore' data-ref="_ZN4llvm11Instruction10moveBeforeEPS0_" data-ref-filename="_ZN4llvm11Instruction10moveBeforeEPS0_">moveBefore</a>(&amp;<a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZNK4llvm14ilist_iteratordeEv" title='llvm::ilist_iterator::operator*' data-ref="_ZNK4llvm14ilist_iteratordeEv" data-ref-filename="_ZNK4llvm14ilist_iteratordeEv">*</a><a class="local col7 ref" href="#657InsertPos" title='InsertPos' data-ref="657InsertPos" data-ref-filename="657InsertPos">InsertPos</a>);</td></tr>
<tr><th id="3558">3558</th><td>  <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#123" title='NumSunkInst' data-ref="NumSunkInst" data-ref-filename="NumSunkInst">NumSunkInst</a>;</td></tr>
<tr><th id="3559">3559</th><td></td></tr>
<tr><th id="3560">3560</th><td>  <i>// Also sink all related debug uses from the source basic block. Otherwise we</i></td></tr>
<tr><th id="3561">3561</th><td><i>  // get debug use before the def. Attempt to salvage debug uses first, to</i></td></tr>
<tr><th id="3562">3562</th><td><i>  // maximise the range variables have location for. If we cannot salvage, then</i></td></tr>
<tr><th id="3563">3563</th><td><i>  // mark the location undef: we know it was supposed to receive a new location</i></td></tr>
<tr><th id="3564">3564</th><td><i>  // here, but that computation has been sunk.</i></td></tr>
<tr><th id="3565">3565</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::DbgVariableIntrinsic" title='llvm::DbgVariableIntrinsic' data-ref="llvm::DbgVariableIntrinsic" data-ref-filename="llvm..DbgVariableIntrinsic">DbgVariableIntrinsic</a> *, <var>2</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col8 decl" id="658DbgUsers" title='DbgUsers' data-type='SmallVector&lt;llvm::DbgVariableIntrinsic *, 2&gt;' data-ref="658DbgUsers" data-ref-filename="658DbgUsers">DbgUsers</dfn>;</td></tr>
<tr><th id="3566">3566</th><td>  <a class="ref fn" href="../../../include/llvm/Transforms/Utils/Local.h.html#_ZN4llvm12findDbgUsersERNS_15SmallVectorImplIPNS_20DbgVariableIntrinsicEEEPNS_5ValueE" title='llvm::findDbgUsers' data-ref="_ZN4llvm12findDbgUsersERNS_15SmallVectorImplIPNS_20DbgVariableIntrinsicEEEPNS_5ValueE" data-ref-filename="_ZN4llvm12findDbgUsersERNS_15SmallVectorImplIPNS_20DbgVariableIntrinsicEEEPNS_5ValueE">findDbgUsers</a>(<span class='refarg'><a class="local col8 ref" href="#658DbgUsers" title='DbgUsers' data-ref="658DbgUsers" data-ref-filename="658DbgUsers">DbgUsers</a></span>, <a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>);</td></tr>
<tr><th id="3567">3567</th><td></td></tr>
<tr><th id="3568">3568</th><td>  <i>// Update the arguments of a dbg.declare instruction, so that it</i></td></tr>
<tr><th id="3569">3569</th><td><i>  // does not point into a sunk instruction.</i></td></tr>
<tr><th id="3570">3570</th><td>  <em>auto</em> <dfn class="local col9 decl" id="659updateDbgDeclare" title='updateDbgDeclare' data-type='(lambda at /fast/tmp/llvm-proj-12/llvm/lib/Transforms/InstCombine/InstructionCombining.cpp:3570:27)' data-ref="659updateDbgDeclare" data-ref-filename="659updateDbgDeclare">updateDbgDeclare</dfn> = [&amp;<a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>](<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::DbgVariableIntrinsic" title='llvm::DbgVariableIntrinsic' data-ref="llvm::DbgVariableIntrinsic" data-ref-filename="llvm..DbgVariableIntrinsic">DbgVariableIntrinsic</a> *<dfn class="local col0 decl" id="660DII" title='DII' data-type='llvm::DbgVariableIntrinsic *' data-ref="660DII" data-ref-filename="660DII">DII</dfn>) {</td></tr>
<tr><th id="3571">3571</th><td>    <b>if</b> (!<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::DbgDeclareInst" title='llvm::DbgDeclareInst' data-ref="llvm::DbgDeclareInst" data-ref-filename="llvm..DbgDeclareInst">DbgDeclareInst</a>&gt;(<a class="local col0 ref" href="#660DII" title='DII' data-ref="660DII" data-ref-filename="660DII">DII</a>))</td></tr>
<tr><th id="3572">3572</th><td>      <b>return</b> <b>false</b>;</td></tr>
<tr><th id="3573">3573</th><td></td></tr>
<tr><th id="3574">3574</th><td>    <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/InstrTypes.h.html#llvm::CastInst" title='llvm::CastInst' data-ref="llvm::CastInst" data-ref-filename="llvm..CastInst">CastInst</a>&gt;(<a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>))</td></tr>
<tr><th id="3575">3575</th><td>      <a class="local col0 ref" href="#660DII" title='DII' data-ref="660DII" data-ref-filename="660DII">DII</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/InstrTypes.h.html#1233" title='llvm::CallBase::setOperand' data-ref="_ZN4llvm8CallBase10setOperandEjPNS_5ValueE" data-ref-filename="_ZN4llvm8CallBase10setOperandEjPNS_5ValueE">setOperand</a>(</td></tr>
<tr><th id="3576">3576</th><td>          <var>0</var>, <a class="type" href="../../../include/llvm/IR/Metadata.h.html#llvm::MetadataAsValue" title='llvm::MetadataAsValue' data-ref="llvm::MetadataAsValue" data-ref-filename="llvm..MetadataAsValue">MetadataAsValue</a>::<a class="ref fn" href="../../../include/llvm/IR/Metadata.h.html#_ZN4llvm15MetadataAsValue3getERNS_11LLVMContextEPNS_8MetadataE" title='llvm::MetadataAsValue::get' data-ref="_ZN4llvm15MetadataAsValue3getERNS_11LLVMContextEPNS_8MetadataE" data-ref-filename="_ZN4llvm15MetadataAsValue3getERNS_11LLVMContextEPNS_8MetadataE">get</a>(<span class='refarg'><a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value10getContextEv" title='llvm::Value::getContext' data-ref="_ZNK4llvm5Value10getContextEv" data-ref-filename="_ZNK4llvm5Value10getContextEv">getContext</a>()</span>,</td></tr>
<tr><th id="3577">3577</th><td>                                  <a class="type" href="../../../include/llvm/IR/Metadata.h.html#llvm::ValueAsMetadata" title='llvm::ValueAsMetadata' data-ref="llvm::ValueAsMetadata" data-ref-filename="llvm..ValueAsMetadata">ValueAsMetadata</a>::<a class="ref fn" href="../../../include/llvm/IR/Metadata.h.html#_ZN4llvm15ValueAsMetadata3getEPNS_5ValueE" title='llvm::ValueAsMetadata::get' data-ref="_ZN4llvm15ValueAsMetadata3getEPNS_5ValueE" data-ref-filename="_ZN4llvm15ValueAsMetadata3getEPNS_5ValueE">get</a>(<a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<var>0</var>))));</td></tr>
<tr><th id="3578">3578</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="3579">3579</th><td>  };</td></tr>
<tr><th id="3580">3580</th><td></td></tr>
<tr><th id="3581">3581</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::DbgVariableIntrinsic" title='llvm::DbgVariableIntrinsic' data-ref="llvm::DbgVariableIntrinsic" data-ref-filename="llvm..DbgVariableIntrinsic">DbgVariableIntrinsic</a> *, <var>2</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col1 decl" id="661DIIClones" title='DIIClones' data-type='SmallVector&lt;llvm::DbgVariableIntrinsic *, 2&gt;' data-ref="661DIIClones" data-ref-filename="661DIIClones">DIIClones</dfn>;</td></tr>
<tr><th id="3582">3582</th><td>  <b>for</b> (<em>auto</em> <dfn class="local col2 decl" id="662User" title='User' data-type='llvm::DbgVariableIntrinsic *' data-ref="662User" data-ref-filename="662User">User</dfn> : <a class="local col8 ref" href="#658DbgUsers" title='DbgUsers' data-ref="658DbgUsers" data-ref-filename="658DbgUsers">DbgUsers</a>) {</td></tr>
<tr><th id="3583">3583</th><td>    <i>// A dbg.declare instruction should not be cloned, since there can only be</i></td></tr>
<tr><th id="3584">3584</th><td><i>    // one per variable fragment. It should be left in the original place</i></td></tr>
<tr><th id="3585">3585</th><td><i>    // because the sunk instruction is not an alloca (otherwise we could not be</i></td></tr>
<tr><th id="3586">3586</th><td><i>    // here).</i></td></tr>
<tr><th id="3587">3587</th><td>    <b>if</b> (<a class="local col2 ref" href="#662User" title='User' data-ref="662User" data-ref-filename="662User">User</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>() != <a class="local col1 ref" href="#651SrcBlock" title='SrcBlock' data-ref="651SrcBlock" data-ref-filename="651SrcBlock">SrcBlock</a> || <a class="local col9 ref" href="#659updateDbgDeclare" title='updateDbgDeclare' data-ref="659updateDbgDeclare" data-ref-filename="659updateDbgDeclare">updateDbgDeclare</a><a class="tu ref fn" href="#_ZZL20TryToSinkInstructionPN4llvm11InstructionEPNS_10BasicBlockEENK3$_4clEPNS_20DbgVariableIntrinsicE" title='TryToSinkInstruction(llvm::Instruction *, llvm::BasicBlock *)::(anonymous class)::operator()' data-use='c' data-ref="_ZZL20TryToSinkInstructionPN4llvm11InstructionEPNS_10BasicBlockEENK3$_4clEPNS_20DbgVariableIntrinsicE" data-ref-filename="_ZZL20TryToSinkInstructionPN4llvm11InstructionEPNS_10BasicBlockEENK3$_4clEPNS_20DbgVariableIntrinsicE">(<a class="local col2 ref" href="#662User" title='User' data-ref="662User" data-ref-filename="662User">User</a>)</a>)</td></tr>
<tr><th id="3588">3588</th><td>      <b>continue</b>;</td></tr>
<tr><th id="3589">3589</th><td></td></tr>
<tr><th id="3590">3590</th><td>    <a class="local col1 ref" href="#661DIIClones" title='DIIClones' data-ref="661DIIClones" data-ref-filename="661DIIClones">DIIClones</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" title='llvm::SmallVectorImpl::emplace_back' data-ref="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" data-ref-filename="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__">emplace_back</a>(<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::DbgVariableIntrinsic" title='llvm::DbgVariableIntrinsic' data-ref="llvm::DbgVariableIntrinsic" data-ref-filename="llvm..DbgVariableIntrinsic">DbgVariableIntrinsic</a>&gt;(<a class="local col2 ref" href="#662User" title='User' data-ref="662User" data-ref-filename="662User">User</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction5cloneEv" title='llvm::Instruction::clone' data-ref="_ZNK4llvm11Instruction5cloneEv" data-ref-filename="_ZNK4llvm11Instruction5cloneEv">clone</a>()));</td></tr>
<tr><th id="3591">3591</th><td>    <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"CLONE: "</q> &lt;&lt; *DIIClones.back() &lt;&lt; <kbd>'\n'</kbd>);</td></tr>
<tr><th id="3592">3592</th><td>  }</td></tr>
<tr><th id="3593">3593</th><td></td></tr>
<tr><th id="3594">3594</th><td>  <i>// Perform salvaging without the clones, then sink the clones.</i></td></tr>
<tr><th id="3595">3595</th><td>  <b>if</b> (!<a class="local col1 ref" href="#661DIIClones" title='DIIClones' data-ref="661DIIClones" data-ref-filename="661DIIClones">DIIClones</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase5emptyEv" title='llvm::SmallVectorBase::empty' data-ref="_ZNK4llvm15SmallVectorBase5emptyEv" data-ref-filename="_ZNK4llvm15SmallVectorBase5emptyEv">empty</a>()) {</td></tr>
<tr><th id="3596">3596</th><td>    <a class="ref fn" href="../../../include/llvm/Transforms/Utils/Local.h.html#_ZN4llvm28salvageDebugInfoForDbgValuesERNS_11InstructionENS_8ArrayRefIPNS_20DbgVariableIntrinsicEEE" title='llvm::salvageDebugInfoForDbgValues' data-ref="_ZN4llvm28salvageDebugInfoForDbgValuesERNS_11InstructionENS_8ArrayRefIPNS_20DbgVariableIntrinsicEEE" data-ref-filename="_ZN4llvm28salvageDebugInfoForDbgValuesERNS_11InstructionENS_8ArrayRefIPNS_20DbgVariableIntrinsicEEE">salvageDebugInfoForDbgValues</a>(<span class='refarg'>*<a class="local col9 ref" href="#649I" title='I' data-ref="649I" data-ref-filename="649I">I</a></span>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col8 ref" href="#658DbgUsers" title='DbgUsers' data-ref="658DbgUsers" data-ref-filename="658DbgUsers">DbgUsers</a>);</td></tr>
<tr><th id="3597">3597</th><td>    <b>for</b> (<em>auto</em> &amp;<dfn class="local col3 decl" id="663DIIClone" title='DIIClone' data-type='llvm::DbgVariableIntrinsic *&amp;' data-ref="663DIIClone" data-ref-filename="663DIIClone">DIIClone</dfn> : <a class="local col1 ref" href="#661DIIClones" title='DIIClones' data-ref="661DIIClones" data-ref-filename="661DIIClones">DIIClones</a>) {</td></tr>
<tr><th id="3598">3598</th><td>      <a class="local col3 ref" href="#663DIIClone" title='DIIClone' data-ref="663DIIClone" data-ref-filename="663DIIClone">DIIClone</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction12insertBeforeEPS0_" title='llvm::Instruction::insertBefore' data-ref="_ZN4llvm11Instruction12insertBeforeEPS0_" data-ref-filename="_ZN4llvm11Instruction12insertBeforeEPS0_">insertBefore</a>(&amp;<a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZNK4llvm14ilist_iteratordeEv" title='llvm::ilist_iterator::operator*' data-ref="_ZNK4llvm14ilist_iteratordeEv" data-ref-filename="_ZNK4llvm14ilist_iteratordeEv">*</a><a class="local col7 ref" href="#657InsertPos" title='InsertPos' data-ref="657InsertPos" data-ref-filename="657InsertPos">InsertPos</a>);</td></tr>
<tr><th id="3599">3599</th><td>      <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"SINK: "</q> &lt;&lt; *DIIClone &lt;&lt; <kbd>'\n'</kbd>);</td></tr>
<tr><th id="3600">3600</th><td>    }</td></tr>
<tr><th id="3601">3601</th><td>  }</td></tr>
<tr><th id="3602">3602</th><td></td></tr>
<tr><th id="3603">3603</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="3604">3604</th><td>}</td></tr>
<tr><th id="3605">3605</th><td></td></tr>
<tr><th id="3606">3606</th><td><em>bool</em> <a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a>::<dfn class="decl def fn" id="_ZN4llvm16InstCombinerImpl3runEv" title='llvm::InstCombinerImpl::run' data-ref="_ZN4llvm16InstCombinerImpl3runEv" data-ref-filename="_ZN4llvm16InstCombinerImpl3runEv">run</dfn>() {</td></tr>
<tr><th id="3607">3607</th><td>  <b>while</b> (!<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Worklist" title='llvm::InstCombiner::Worklist' data-ref="llvm::InstCombiner::Worklist" data-ref-filename="llvm..InstCombiner..Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZNK4llvm19InstCombineWorklist7isEmptyEv" title='llvm::InstCombineWorklist::isEmpty' data-ref="_ZNK4llvm19InstCombineWorklist7isEmptyEv" data-ref-filename="_ZNK4llvm19InstCombineWorklist7isEmptyEv">isEmpty</a>()) {</td></tr>
<tr><th id="3608">3608</th><td>    <i>// Walk deferred instructions in reverse order, and push them to the</i></td></tr>
<tr><th id="3609">3609</th><td><i>    // worklist, which means they'll end up popped from the worklist in-order.</i></td></tr>
<tr><th id="3610">3610</th><td>    <b>while</b> (<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col4 decl" id="664I" title='I' data-type='llvm::Instruction *' data-ref="664I" data-ref-filename="664I"><a class="local col4 ref" href="#664I" title='I' data-ref="664I" data-ref-filename="664I">I</a></dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Worklist" title='llvm::InstCombiner::Worklist' data-ref="llvm::InstCombiner::Worklist" data-ref-filename="llvm..InstCombiner..Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist11popDeferredEv" title='llvm::InstCombineWorklist::popDeferred' data-ref="_ZN4llvm19InstCombineWorklist11popDeferredEv" data-ref-filename="_ZN4llvm19InstCombineWorklist11popDeferredEv">popDeferred</a>()) {</td></tr>
<tr><th id="3611">3611</th><td>      <i>// Check to see if we can DCE the instruction. We do this already here to</i></td></tr>
<tr><th id="3612">3612</th><td><i>      // reduce the number of uses and thus allow other folds to trigger.</i></td></tr>
<tr><th id="3613">3613</th><td><i>      // Note that eraseInstFromFunction() may push additional instructions on</i></td></tr>
<tr><th id="3614">3614</th><td><i>      // the deferred worklist, so this will DCE whole instruction chains.</i></td></tr>
<tr><th id="3615">3615</th><td>      <b>if</b> (<a class="ref fn" href="../../../include/llvm/Transforms/Utils/Local.h.html#_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE" title='llvm::isInstructionTriviallyDead' data-ref="_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE" data-ref-filename="_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE">isInstructionTriviallyDead</a>(<a class="local col4 ref" href="#664I" title='I' data-ref="664I" data-ref-filename="664I">I</a>, &amp;<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::TLI" title='llvm::InstCombiner::TLI' data-ref="llvm::InstCombiner::TLI" data-ref-filename="llvm..InstCombiner..TLI">TLI</a>)) {</td></tr>
<tr><th id="3616">3616</th><td>        <a class="virtual member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" title='llvm::InstCombinerImpl::eraseInstFromFunction' data-ref="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE">eraseInstFromFunction</a>(<span class='refarg'>*<a class="local col4 ref" href="#664I" title='I' data-ref="664I" data-ref-filename="664I">I</a></span>);</td></tr>
<tr><th id="3617">3617</th><td>        <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#122" title='NumDeadInst' data-ref="NumDeadInst" data-ref-filename="NumDeadInst">NumDeadInst</a>;</td></tr>
<tr><th id="3618">3618</th><td>        <b>continue</b>;</td></tr>
<tr><th id="3619">3619</th><td>      }</td></tr>
<tr><th id="3620">3620</th><td></td></tr>
<tr><th id="3621">3621</th><td>      <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Worklist" title='llvm::InstCombiner::Worklist' data-ref="llvm::InstCombiner::Worklist" data-ref-filename="llvm..InstCombiner..Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" title='llvm::InstCombineWorklist::push' data-ref="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" data-ref-filename="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE">push</a>(<a class="local col4 ref" href="#664I" title='I' data-ref="664I" data-ref-filename="664I">I</a>);</td></tr>
<tr><th id="3622">3622</th><td>    }</td></tr>
<tr><th id="3623">3623</th><td></td></tr>
<tr><th id="3624">3624</th><td>    <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col5 decl" id="665I" title='I' data-type='llvm::Instruction *' data-ref="665I" data-ref-filename="665I">I</dfn> = <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Worklist" title='llvm::InstCombiner::Worklist' data-ref="llvm::InstCombiner::Worklist" data-ref-filename="llvm..InstCombiner..Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist9removeOneEv" title='llvm::InstCombineWorklist::removeOne' data-ref="_ZN4llvm19InstCombineWorklist9removeOneEv" data-ref-filename="_ZN4llvm19InstCombineWorklist9removeOneEv">removeOne</a>();</td></tr>
<tr><th id="3625">3625</th><td>    <b>if</b> (<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a> == <b>nullptr</b>) <b>continue</b>;  <i>// skip null values.</i></td></tr>
<tr><th id="3626">3626</th><td></td></tr>
<tr><th id="3627">3627</th><td>    <i>// Check to see if we can DCE the instruction.</i></td></tr>
<tr><th id="3628">3628</th><td>    <b>if</b> (<a class="ref fn" href="../../../include/llvm/Transforms/Utils/Local.h.html#_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE" title='llvm::isInstructionTriviallyDead' data-ref="_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE" data-ref-filename="_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE">isInstructionTriviallyDead</a>(<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>, &amp;<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::TLI" title='llvm::InstCombiner::TLI' data-ref="llvm::InstCombiner::TLI" data-ref-filename="llvm..InstCombiner..TLI">TLI</a>)) {</td></tr>
<tr><th id="3629">3629</th><td>      <a class="virtual member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" title='llvm::InstCombinerImpl::eraseInstFromFunction' data-ref="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE">eraseInstFromFunction</a>(<span class='refarg'>*<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a></span>);</td></tr>
<tr><th id="3630">3630</th><td>      <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#122" title='NumDeadInst' data-ref="NumDeadInst" data-ref-filename="NumDeadInst">NumDeadInst</a>;</td></tr>
<tr><th id="3631">3631</th><td>      <b>continue</b>;</td></tr>
<tr><th id="3632">3632</th><td>    }</td></tr>
<tr><th id="3633">3633</th><td></td></tr>
<tr><th id="3634">3634</th><td>    <b>if</b> (!<a class="type" href="../../../include/llvm/Support/DebugCounter.h.html#llvm::DebugCounter" title='llvm::DebugCounter' data-ref="llvm::DebugCounter" data-ref-filename="llvm..DebugCounter">DebugCounter</a>::<a class="ref fn" href="../../../include/llvm/Support/DebugCounter.h.html#_ZN4llvm12DebugCounter13shouldExecuteEj" title='llvm::DebugCounter::shouldExecute' data-ref="_ZN4llvm12DebugCounter13shouldExecuteEj" data-ref-filename="_ZN4llvm12DebugCounter13shouldExecuteEj">shouldExecute</a>(<a class="ref" href="#127" title='VisitCounter' data-ref="VisitCounter" data-ref-filename="VisitCounter">VisitCounter</a>))</td></tr>
<tr><th id="3635">3635</th><td>      <b>continue</b>;</td></tr>
<tr><th id="3636">3636</th><td></td></tr>
<tr><th id="3637">3637</th><td>    <i>// Instruction isn't dead, see if we can constant propagate it.</i></td></tr>
<tr><th id="3638">3638</th><td>    <b>if</b> (!<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9use_emptyEv" title='llvm::Value::use_empty' data-ref="_ZNK4llvm5Value9use_emptyEv" data-ref-filename="_ZNK4llvm5Value9use_emptyEv">use_empty</a>() &amp;&amp;</td></tr>
<tr><th id="3639">3639</th><td>        (<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User14getNumOperandsEv" title='llvm::User::getNumOperands' data-ref="_ZNK4llvm4User14getNumOperandsEv" data-ref-filename="_ZNK4llvm4User14getNumOperandsEv">getNumOperands</a>() == <var>0</var> || <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<var>0</var>)))) {</td></tr>
<tr><th id="3640">3640</th><td>      <b>if</b> (<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col6 decl" id="666C" title='C' data-type='llvm::Constant *' data-ref="666C" data-ref-filename="666C"><a class="local col6 ref" href="#666C" title='C' data-ref="666C" data-ref-filename="666C">C</a></dfn> = <a class="ref fn" href="../../../include/llvm/Analysis/ConstantFolding.h.html#_ZN4llvm23ConstantFoldInstructionEPNS_11InstructionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoE" title='llvm::ConstantFoldInstruction' data-ref="_ZN4llvm23ConstantFoldInstructionEPNS_11InstructionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoE" data-ref-filename="_ZN4llvm23ConstantFoldInstructionEPNS_11InstructionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoE">ConstantFoldInstruction</a>(<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DL" title='llvm::InstCombiner::DL' data-ref="llvm::InstCombiner::DL" data-ref-filename="llvm..InstCombiner..DL">DL</a>, &amp;<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::TLI" title='llvm::InstCombiner::TLI' data-ref="llvm::InstCombiner::TLI" data-ref-filename="llvm..InstCombiner..TLI">TLI</a>)) {</td></tr>
<tr><th id="3641">3641</th><td>        <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"IC: ConstFold to: "</q> &lt;&lt; *C &lt;&lt; <q>" from: "</q> &lt;&lt; *I</td></tr>
<tr><th id="3642">3642</th><td>                          &lt;&lt; <kbd>'\n'</kbd>);</td></tr>
<tr><th id="3643">3643</th><td></td></tr>
<tr><th id="3644">3644</th><td>        <i>// Add operands to the worklist.</i></td></tr>
<tr><th id="3645">3645</th><td>        <a class="member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" title='llvm::InstCombinerImpl::replaceInstUsesWith' data-ref="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE" data-ref-filename="_ZN4llvm16InstCombinerImpl19replaceInstUsesWithERNS_11InstructionEPNS_5ValueE">replaceInstUsesWith</a>(<span class='refarg'>*<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a></span>, <a class="local col6 ref" href="#666C" title='C' data-ref="666C" data-ref-filename="666C">C</a>);</td></tr>
<tr><th id="3646">3646</th><td>        <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#121" title='NumConstProp' data-ref="NumConstProp" data-ref-filename="NumConstProp">NumConstProp</a>;</td></tr>
<tr><th id="3647">3647</th><td>        <b>if</b> (<a class="ref fn" href="../../../include/llvm/Transforms/Utils/Local.h.html#_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE" title='llvm::isInstructionTriviallyDead' data-ref="_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE" data-ref-filename="_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE">isInstructionTriviallyDead</a>(<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>, &amp;<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::TLI" title='llvm::InstCombiner::TLI' data-ref="llvm::InstCombiner::TLI" data-ref-filename="llvm..InstCombiner..TLI">TLI</a>))</td></tr>
<tr><th id="3648">3648</th><td>          <a class="virtual member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" title='llvm::InstCombinerImpl::eraseInstFromFunction' data-ref="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE">eraseInstFromFunction</a>(<span class='refarg'>*<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a></span>);</td></tr>
<tr><th id="3649">3649</th><td>        <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::MadeIRChange" title='llvm::InstCombiner::MadeIRChange' data-ref="llvm::InstCombiner::MadeIRChange" data-ref-filename="llvm..InstCombiner..MadeIRChange">MadeIRChange</a> = <b>true</b>;</td></tr>
<tr><th id="3650">3650</th><td>        <b>continue</b>;</td></tr>
<tr><th id="3651">3651</th><td>      }</td></tr>
<tr><th id="3652">3652</th><td>    }</td></tr>
<tr><th id="3653">3653</th><td></td></tr>
<tr><th id="3654">3654</th><td>    <i>// See if we can trivially sink this instruction to its user if we can</i></td></tr>
<tr><th id="3655">3655</th><td><i>    // prove that the successor is not executed more frequently than our block.</i></td></tr>
<tr><th id="3656">3656</th><td>    <b>if</b> (<a class="ref fn fake" href="../../../include/llvm/Support/CommandLine.h.html#_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev" title='llvm::cl::opt_storage&lt;type-parameter-0-0, false, false&gt;::operator type-parameter-0-0' data-ref="_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev" data-ref-filename="_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev"></a><a class="tu ref" href="#EnableCodeSinking" title='EnableCodeSinking' data-use='m' data-ref="EnableCodeSinking" data-ref-filename="EnableCodeSinking">EnableCodeSinking</a>)</td></tr>
<tr><th id="3657">3657</th><td>      <b>if</b> (<a class="type" href="../../../include/llvm/IR/Use.h.html#llvm::Use" title='llvm::Use' data-ref="llvm::Use" data-ref-filename="llvm..Use">Use</a> *<dfn class="local col7 decl" id="667SingleUse" title='SingleUse' data-type='llvm::Use *' data-ref="667SingleUse" data-ref-filename="667SingleUse"><a class="local col7 ref" href="#667SingleUse" title='SingleUse' data-ref="667SingleUse" data-ref-filename="667SingleUse">SingleUse</a></dfn> = <a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value23getSingleUndroppableUseEv" title='llvm::Value::getSingleUndroppableUse' data-ref="_ZN4llvm5Value23getSingleUndroppableUseEv" data-ref-filename="_ZN4llvm5Value23getSingleUndroppableUseEv">getSingleUndroppableUse</a>()) {</td></tr>
<tr><th id="3658">3658</th><td>        <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col8 decl" id="668BB" title='BB' data-type='llvm::BasicBlock *' data-ref="668BB" data-ref-filename="668BB">BB</dfn> = <a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>();</td></tr>
<tr><th id="3659">3659</th><td>        <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col9 decl" id="669UserInst" title='UserInst' data-type='llvm::Instruction *' data-ref="669UserInst" data-ref-filename="669UserInst">UserInst</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>&gt;(<a class="local col7 ref" href="#667SingleUse" title='SingleUse' data-ref="667SingleUse" data-ref-filename="667SingleUse">SingleUse</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Use.h.html#_ZNK4llvm3Use7getUserEv" title='llvm::Use::getUser' data-ref="_ZNK4llvm3Use7getUserEv" data-ref-filename="_ZNK4llvm3Use7getUserEv">getUser</a>());</td></tr>
<tr><th id="3660">3660</th><td>        <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col0 decl" id="670UserParent" title='UserParent' data-type='llvm::BasicBlock *' data-ref="670UserParent" data-ref-filename="670UserParent">UserParent</dfn>;</td></tr>
<tr><th id="3661">3661</th><td></td></tr>
<tr><th id="3662">3662</th><td>        <i>// Get the block the use occurs in.</i></td></tr>
<tr><th id="3663">3663</th><td>        <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a> *<dfn class="local col1 decl" id="671PN" title='PN' data-type='llvm::PHINode *' data-ref="671PN" data-ref-filename="671PN"><a class="local col1 ref" href="#671PN" title='PN' data-ref="671PN" data-ref-filename="671PN">PN</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a>&gt;(<a class="local col9 ref" href="#669UserInst" title='UserInst' data-ref="669UserInst" data-ref-filename="669UserInst">UserInst</a>))</td></tr>
<tr><th id="3664">3664</th><td>          <a class="local col0 ref" href="#670UserParent" title='UserParent' data-ref="670UserParent" data-ref-filename="670UserParent">UserParent</a> = <a class="local col1 ref" href="#671PN" title='PN' data-ref="671PN" data-ref-filename="671PN">PN</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm7PHINode16getIncomingBlockERKNS_3UseE" title='llvm::PHINode::getIncomingBlock' data-ref="_ZNK4llvm7PHINode16getIncomingBlockERKNS_3UseE" data-ref-filename="_ZNK4llvm7PHINode16getIncomingBlockERKNS_3UseE">getIncomingBlock</a>(*<a class="local col7 ref" href="#667SingleUse" title='SingleUse' data-ref="667SingleUse" data-ref-filename="667SingleUse">SingleUse</a>);</td></tr>
<tr><th id="3665">3665</th><td>        <b>else</b></td></tr>
<tr><th id="3666">3666</th><td>          <a class="local col0 ref" href="#670UserParent" title='UserParent' data-ref="670UserParent" data-ref-filename="670UserParent">UserParent</a> = <a class="local col9 ref" href="#669UserInst" title='UserInst' data-ref="669UserInst" data-ref-filename="669UserInst">UserInst</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>();</td></tr>
<tr><th id="3667">3667</th><td></td></tr>
<tr><th id="3668">3668</th><td>        <i>// Try sinking to another block. If that block is unreachable, then do</i></td></tr>
<tr><th id="3669">3669</th><td><i>        // not bother. SimplifyCFG should handle it.</i></td></tr>
<tr><th id="3670">3670</th><td>        <b>if</b> (<a class="local col0 ref" href="#670UserParent" title='UserParent' data-ref="670UserParent" data-ref-filename="670UserParent">UserParent</a> != <a class="local col8 ref" href="#668BB" title='BB' data-ref="668BB" data-ref-filename="668BB">BB</a> &amp;&amp; <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::DT" title='llvm::InstCombiner::DT' data-ref="llvm::InstCombiner::DT" data-ref-filename="llvm..InstCombiner..DT">DT</a>.<a class="ref fn" href="../../../include/llvm/Support/GenericDomTree.h.html#_ZNK4llvm17DominatorTreeBase20isReachableFromEntryEPKT_" title='llvm::DominatorTreeBase::isReachableFromEntry' data-ref="_ZNK4llvm17DominatorTreeBase20isReachableFromEntryEPKT_" data-ref-filename="_ZNK4llvm17DominatorTreeBase20isReachableFromEntryEPKT_">isReachableFromEntry</a>(<a class="local col0 ref" href="#670UserParent" title='UserParent' data-ref="670UserParent" data-ref-filename="670UserParent">UserParent</a>)) {</td></tr>
<tr><th id="3671">3671</th><td>          <i>// See if the user is one of our successors that has only one</i></td></tr>
<tr><th id="3672">3672</th><td><i>          // predecessor, so that we don't have to split the critical edge.</i></td></tr>
<tr><th id="3673">3673</th><td>          <em>bool</em> <dfn class="local col2 decl" id="672ShouldSink" title='ShouldSink' data-type='bool' data-ref="672ShouldSink" data-ref-filename="672ShouldSink">ShouldSink</dfn> = <a class="local col0 ref" href="#670UserParent" title='UserParent' data-ref="670UserParent" data-ref-filename="670UserParent">UserParent</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock20getUniquePredecessorEv" title='llvm::BasicBlock::getUniquePredecessor' data-ref="_ZN4llvm10BasicBlock20getUniquePredecessorEv" data-ref-filename="_ZN4llvm10BasicBlock20getUniquePredecessorEv">getUniquePredecessor</a>() == <a class="local col8 ref" href="#668BB" title='BB' data-ref="668BB" data-ref-filename="668BB">BB</a>;</td></tr>
<tr><th id="3674">3674</th><td>          <i>// Another option where we can sink is a block that ends with a</i></td></tr>
<tr><th id="3675">3675</th><td><i>          // terminator that does not pass control to other block (such as</i></td></tr>
<tr><th id="3676">3676</th><td><i>          // return or unreachable). In this case:</i></td></tr>
<tr><th id="3677">3677</th><td><i>          //   - I dominates the User (by SSA form);</i></td></tr>
<tr><th id="3678">3678</th><td><i>          //   - the User will be executed at most once.</i></td></tr>
<tr><th id="3679">3679</th><td><i>          // So sinking I down to User is always profitable or neutral.</i></td></tr>
<tr><th id="3680">3680</th><td>          <b>if</b> (!<a class="local col2 ref" href="#672ShouldSink" title='ShouldSink' data-ref="672ShouldSink" data-ref-filename="672ShouldSink">ShouldSink</a>) {</td></tr>
<tr><th id="3681">3681</th><td>            <em>auto</em> *<dfn class="local col3 decl" id="673Term" title='Term' data-type='llvm::Instruction *' data-ref="673Term" data-ref-filename="673Term">Term</dfn> = <a class="local col0 ref" href="#670UserParent" title='UserParent' data-ref="670UserParent" data-ref-filename="670UserParent">UserParent</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock13getTerminatorEv" title='llvm::BasicBlock::getTerminator' data-ref="_ZN4llvm10BasicBlock13getTerminatorEv" data-ref-filename="_ZN4llvm10BasicBlock13getTerminatorEv">getTerminator</a>();</td></tr>
<tr><th id="3682">3682</th><td>            <a class="local col2 ref" href="#672ShouldSink" title='ShouldSink' data-ref="672ShouldSink" data-ref-filename="672ShouldSink">ShouldSink</a> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::ReturnInst" title='llvm::ReturnInst' data-ref="llvm::ReturnInst" data-ref-filename="llvm..ReturnInst">ReturnInst</a>&gt;(<a class="local col3 ref" href="#673Term" title='Term' data-ref="673Term" data-ref-filename="673Term">Term</a>) || <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::UnreachableInst" title='llvm::UnreachableInst' data-ref="llvm::UnreachableInst" data-ref-filename="llvm..UnreachableInst">UnreachableInst</a>&gt;(<a class="local col3 ref" href="#673Term" title='Term' data-ref="673Term" data-ref-filename="673Term">Term</a>);</td></tr>
<tr><th id="3683">3683</th><td>          }</td></tr>
<tr><th id="3684">3684</th><td>          <b>if</b> (<a class="local col2 ref" href="#672ShouldSink" title='ShouldSink' data-ref="672ShouldSink" data-ref-filename="672ShouldSink">ShouldSink</a>) {</td></tr>
<tr><th id="3685">3685</th><td>            <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(DT.dominates(BB, UserParent) &amp;&amp;</td></tr>
<tr><th id="3686">3686</th><td>                   <q>"Dominance relation broken?"</q>);</td></tr>
<tr><th id="3687">3687</th><td>            <i>// Okay, the CFG is simple enough, try to sink this instruction.</i></td></tr>
<tr><th id="3688">3688</th><td>            <b>if</b> (<a class="tu ref fn" href="#_ZL20TryToSinkInstructionPN4llvm11InstructionEPNS_10BasicBlockE" title='TryToSinkInstruction' data-use='c' data-ref="_ZL20TryToSinkInstructionPN4llvm11InstructionEPNS_10BasicBlockE" data-ref-filename="_ZL20TryToSinkInstructionPN4llvm11InstructionEPNS_10BasicBlockE">TryToSinkInstruction</a>(<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>, <a class="local col0 ref" href="#670UserParent" title='UserParent' data-ref="670UserParent" data-ref-filename="670UserParent">UserParent</a>)) {</td></tr>
<tr><th id="3689">3689</th><td>              <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"IC: Sink: "</q> &lt;&lt; *I &lt;&lt; <kbd>'\n'</kbd>);</td></tr>
<tr><th id="3690">3690</th><td>              <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::MadeIRChange" title='llvm::InstCombiner::MadeIRChange' data-ref="llvm::InstCombiner::MadeIRChange" data-ref-filename="llvm..InstCombiner..MadeIRChange">MadeIRChange</a> = <b>true</b>;</td></tr>
<tr><th id="3691">3691</th><td>              <i>// We'll add uses of the sunk instruction below, but since sinking</i></td></tr>
<tr><th id="3692">3692</th><td><i>              // can expose opportunities for it's *operands* add them to the</i></td></tr>
<tr><th id="3693">3693</th><td><i>              // worklist</i></td></tr>
<tr><th id="3694">3694</th><td>              <b>for</b> (<a class="type" href="../../../include/llvm/IR/Use.h.html#llvm::Use" title='llvm::Use' data-ref="llvm::Use" data-ref-filename="llvm..Use">Use</a> &amp;<dfn class="local col4 decl" id="674U" title='U' data-type='llvm::Use &amp;' data-ref="674U" data-ref-filename="674U">U</dfn> : <a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZN4llvm4User8operandsEv" title='llvm::User::operands' data-ref="_ZN4llvm4User8operandsEv" data-ref-filename="_ZN4llvm4User8operandsEv">operands</a>())</td></tr>
<tr><th id="3695">3695</th><td>                <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col5 decl" id="675OpI" title='OpI' data-type='llvm::Instruction *' data-ref="675OpI" data-ref-filename="675OpI"><a class="local col5 ref" href="#675OpI" title='OpI' data-ref="675OpI" data-ref-filename="675OpI">OpI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>&gt;(<a class="local col4 ref" href="#674U" title='U' data-ref="674U" data-ref-filename="674U">U</a>.<a class="ref fn" href="../../../include/llvm/IR/Use.h.html#_ZNK4llvm3Use3getEv" title='llvm::Use::get' data-ref="_ZNK4llvm3Use3getEv" data-ref-filename="_ZNK4llvm3Use3getEv">get</a>()))</td></tr>
<tr><th id="3696">3696</th><td>                  <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Worklist" title='llvm::InstCombiner::Worklist' data-ref="llvm::InstCombiner::Worklist" data-ref-filename="llvm..InstCombiner..Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" title='llvm::InstCombineWorklist::push' data-ref="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" data-ref-filename="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE">push</a>(<a class="local col5 ref" href="#675OpI" title='OpI' data-ref="675OpI" data-ref-filename="675OpI">OpI</a>);</td></tr>
<tr><th id="3697">3697</th><td>            }</td></tr>
<tr><th id="3698">3698</th><td>          }</td></tr>
<tr><th id="3699">3699</th><td>        }</td></tr>
<tr><th id="3700">3700</th><td>      }</td></tr>
<tr><th id="3701">3701</th><td></td></tr>
<tr><th id="3702">3702</th><td>    <i>// Now that we have an instruction, try combining it to simplify it.</i></td></tr>
<tr><th id="3703">3703</th><td>    <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE">SetInsertPoint</a>(<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>);</td></tr>
<tr><th id="3704">3704</th><td>    <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Builder" title='llvm::InstCombiner::Builder' data-ref="llvm::InstCombiner::Builder" data-ref-filename="llvm..InstCombiner..Builder">Builder</a>.<a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase21CollectMetadataToCopyEPNS_11InstructionENS_8ArrayRefIjEE" title='llvm::IRBuilderBase::CollectMetadataToCopy' data-ref="_ZN4llvm13IRBuilderBase21CollectMetadataToCopyEPNS_11InstructionENS_8ArrayRefIjEE" data-ref-filename="_ZN4llvm13IRBuilderBase21CollectMetadataToCopyEPNS_11InstructionENS_8ArrayRefIjEE">CollectMetadataToCopy</a>(</td></tr>
<tr><th id="3705">3705</th><td>        <a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E" data-ref-filename="_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E"></a>{<a class="type" href="../../../include/llvm/IR/LLVMContext.h.html#llvm::LLVMContext" title='llvm::LLVMContext' data-ref="llvm::LLVMContext" data-ref-filename="llvm..LLVMContext">LLVMContext</a>::<a class="enum" href="../../../include/llvm/IR/FixedMetadataKinds.def.html#13" title='llvm::LLVMContext::MD_dbg' data-ref="llvm::LLVMContext::MD_dbg" data-ref-filename="llvm..LLVMContext..MD_dbg">MD_dbg</a>, <a class="type" href="../../../include/llvm/IR/LLVMContext.h.html#llvm::LLVMContext" title='llvm::LLVMContext' data-ref="llvm::LLVMContext" data-ref-filename="llvm..LLVMContext">LLVMContext</a>::<a class="enum" href="../../../include/llvm/IR/FixedMetadataKinds.def.html#44" title='llvm::LLVMContext::MD_annotation' data-ref="llvm::LLVMContext::MD_annotation" data-ref-filename="llvm..LLVMContext..MD_annotation">MD_annotation</a>});</td></tr>
<tr><th id="3706">3706</th><td></td></tr>
<tr><th id="3707">3707</th><td><u>#<span data-ppcond="3707">ifndef</span> <span class="macro" data-ref="_M/NDEBUG">NDEBUG</span></u></td></tr>
<tr><th id="3708">3708</th><td>    std::string OrigI;</td></tr>
<tr><th id="3709">3709</th><td><u>#<span data-ppcond="3707">endif</span></u></td></tr>
<tr><th id="3710">3710</th><td>    <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(raw_string_ostream SS(OrigI); I-&gt;print(SS); OrigI = SS.str(););</td></tr>
<tr><th id="3711">3711</th><td>    <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"IC: Visiting: "</q> &lt;&lt; OrigI &lt;&lt; <kbd>'\n'</kbd>);</td></tr>
<tr><th id="3712">3712</th><td></td></tr>
<tr><th id="3713">3713</th><td>    <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col6 decl" id="676Result" title='Result' data-type='llvm::Instruction *' data-ref="676Result" data-ref-filename="676Result"><a class="local col6 ref" href="#676Result" title='Result' data-ref="676Result" data-ref-filename="676Result">Result</a></dfn> = <a class="member fn" href="../../../include/llvm/IR/InstVisitor.h.html#_ZN4llvm11InstVisitor5visitERNS_11InstructionE" title='llvm::InstVisitor::visit' data-ref="_ZN4llvm11InstVisitor5visitERNS_11InstructionE" data-ref-filename="_ZN4llvm11InstVisitor5visitERNS_11InstructionE">visit</a>(<span class='refarg'>*<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a></span>)) {</td></tr>
<tr><th id="3714">3714</th><td>      <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#120" title='NumCombined' data-ref="NumCombined" data-ref-filename="NumCombined">NumCombined</a>;</td></tr>
<tr><th id="3715">3715</th><td>      <i>// Should we replace the old instruction with a new one?</i></td></tr>
<tr><th id="3716">3716</th><td>      <b>if</b> (<a class="local col6 ref" href="#676Result" title='Result' data-ref="676Result" data-ref-filename="676Result">Result</a> != <a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>) {</td></tr>
<tr><th id="3717">3717</th><td>        <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"IC: Old = "</q> &lt;&lt; *I &lt;&lt; <kbd>'\n'</kbd></td></tr>
<tr><th id="3718">3718</th><td>                          &lt;&lt; <q>"    New = "</q> &lt;&lt; *Result &lt;&lt; <kbd>'\n'</kbd>);</td></tr>
<tr><th id="3719">3719</th><td></td></tr>
<tr><th id="3720">3720</th><td>        <a class="local col6 ref" href="#676Result" title='Result' data-ref="676Result" data-ref-filename="676Result">Result</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction12copyMetadataERKS0_NS_8ArrayRefIjEE" title='llvm::Instruction::copyMetadata' data-ref="_ZN4llvm11Instruction12copyMetadataERKS0_NS_8ArrayRefIjEE" data-ref-filename="_ZN4llvm11Instruction12copyMetadataERKS0_NS_8ArrayRefIjEE">copyMetadata</a>(*<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>,</td></tr>
<tr><th id="3721">3721</th><td>                             <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E" data-ref-filename="_ZN4llvm8ArrayRefC1ERKSt16initializer_listIT_E"></a>{<a class="type" href="../../../include/llvm/IR/LLVMContext.h.html#llvm::LLVMContext" title='llvm::LLVMContext' data-ref="llvm::LLVMContext" data-ref-filename="llvm..LLVMContext">LLVMContext</a>::<a class="enum" href="../../../include/llvm/IR/FixedMetadataKinds.def.html#13" title='llvm::LLVMContext::MD_dbg' data-ref="llvm::LLVMContext::MD_dbg" data-ref-filename="llvm..LLVMContext..MD_dbg">MD_dbg</a>, <a class="type" href="../../../include/llvm/IR/LLVMContext.h.html#llvm::LLVMContext" title='llvm::LLVMContext' data-ref="llvm::LLVMContext" data-ref-filename="llvm..LLVMContext">LLVMContext</a>::<a class="enum" href="../../../include/llvm/IR/FixedMetadataKinds.def.html#44" title='llvm::LLVMContext::MD_annotation' data-ref="llvm::LLVMContext::MD_annotation" data-ref-filename="llvm..LLVMContext..MD_annotation">MD_annotation</a>});</td></tr>
<tr><th id="3722">3722</th><td>        <i>// Everything uses the new instruction now.</i></td></tr>
<tr><th id="3723">3723</th><td>        <a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col6 ref" href="#676Result" title='Result' data-ref="676Result" data-ref-filename="676Result">Result</a>);</td></tr>
<tr><th id="3724">3724</th><td></td></tr>
<tr><th id="3725">3725</th><td>        <i>// Move the name to the new instruction first.</i></td></tr>
<tr><th id="3726">3726</th><td>        <a class="local col6 ref" href="#676Result" title='Result' data-ref="676Result" data-ref-filename="676Result">Result</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value8takeNameEPS0_" title='llvm::Value::takeName' data-ref="_ZN4llvm5Value8takeNameEPS0_" data-ref-filename="_ZN4llvm5Value8takeNameEPS0_">takeName</a>(<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>);</td></tr>
<tr><th id="3727">3727</th><td></td></tr>
<tr><th id="3728">3728</th><td>        <i>// Insert the new instruction into the basic block...</i></td></tr>
<tr><th id="3729">3729</th><td>        <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col7 decl" id="677InstParent" title='InstParent' data-type='llvm::BasicBlock *' data-ref="677InstParent" data-ref-filename="677InstParent">InstParent</dfn> = <a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>();</td></tr>
<tr><th id="3730">3730</th><td>        <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="typedef" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock::iterator" title='llvm::BasicBlock::iterator' data-type='InstListType::iterator' data-ref="llvm::BasicBlock::iterator" data-ref-filename="llvm..BasicBlock..iterator">iterator</a> <dfn class="local col8 decl" id="678InsertPos" title='InsertPos' data-type='BasicBlock::iterator' data-ref="678InsertPos" data-ref-filename="678InsertPos">InsertPos</dfn> = <a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/ADT/ilist_node.h.html#_ZN4llvm15ilist_node_impl11getIteratorEv" title='llvm::ilist_node_impl::getIterator' data-ref="_ZN4llvm15ilist_node_impl11getIteratorEv" data-ref-filename="_ZN4llvm15ilist_node_impl11getIteratorEv">getIterator</a>();</td></tr>
<tr><th id="3731">3731</th><td></td></tr>
<tr><th id="3732">3732</th><td>        <i>// Are we replace a PHI with something that isn't a PHI, or vice versa?</i></td></tr>
<tr><th id="3733">3733</th><td>        <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a>&gt;(<a class="local col6 ref" href="#676Result" title='Result' data-ref="676Result" data-ref-filename="676Result">Result</a>) != <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a>&gt;(<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>)) {</td></tr>
<tr><th id="3734">3734</th><td>          <i>// We need to fix up the insertion point.</i></td></tr>
<tr><th id="3735">3735</th><td>          <b>if</b> (<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a>&gt;(<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>)) <i>// PHI -&gt; Non-PHI</i></td></tr>
<tr><th id="3736">3736</th><td>            <a class="local col8 ref" href="#678InsertPos" title='InsertPos' data-ref="678InsertPos" data-ref-filename="678InsertPos">InsertPos</a> <a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#57" title='llvm::ilist_iterator&lt;llvm::ilist_detail::node_options&lt;llvm::Instruction, false, false, void&gt;, false, false&gt;::operator=' data-ref="_ZN4llvm14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEaSEOS5_" data-ref-filename="_ZN4llvm14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEaSEOS5_">=</a> <a class="local col7 ref" href="#677InstParent" title='InstParent' data-ref="677InstParent" data-ref-filename="677InstParent">InstParent</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock19getFirstInsertionPtEv" title='llvm::BasicBlock::getFirstInsertionPt' data-ref="_ZN4llvm10BasicBlock19getFirstInsertionPtEv" data-ref-filename="_ZN4llvm10BasicBlock19getFirstInsertionPtEv">getFirstInsertionPt</a>();</td></tr>
<tr><th id="3737">3737</th><td>          <b>else</b> <i>// Non-PHI -&gt; PHI</i></td></tr>
<tr><th id="3738">3738</th><td>            <a class="local col8 ref" href="#678InsertPos" title='InsertPos' data-ref="678InsertPos" data-ref-filename="678InsertPos">InsertPos</a> <a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#57" title='llvm::ilist_iterator&lt;llvm::ilist_detail::node_options&lt;llvm::Instruction, false, false, void&gt;, false, false&gt;::operator=' data-ref="_ZN4llvm14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEaSEOS5_" data-ref-filename="_ZN4llvm14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEaSEOS5_">=</a> <a class="local col7 ref" href="#677InstParent" title='InstParent' data-ref="677InstParent" data-ref-filename="677InstParent">InstParent</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock14getFirstNonPHIEv" title='llvm::BasicBlock::getFirstNonPHI' data-ref="_ZN4llvm10BasicBlock14getFirstNonPHIEv" data-ref-filename="_ZN4llvm10BasicBlock14getFirstNonPHIEv">getFirstNonPHI</a>()-&gt;<a class="ref fn" href="../../../include/llvm/ADT/ilist_node.h.html#_ZN4llvm15ilist_node_impl11getIteratorEv" title='llvm::ilist_node_impl::getIterator' data-ref="_ZN4llvm15ilist_node_impl11getIteratorEv" data-ref-filename="_ZN4llvm15ilist_node_impl11getIteratorEv">getIterator</a>();</td></tr>
<tr><th id="3739">3739</th><td>        }</td></tr>
<tr><th id="3740">3740</th><td></td></tr>
<tr><th id="3741">3741</th><td>        <a class="local col7 ref" href="#677InstParent" title='InstParent' data-ref="677InstParent" data-ref-filename="677InstParent">InstParent</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock11getInstListEv" title='llvm::BasicBlock::getInstList' data-ref="_ZN4llvm10BasicBlock11getInstListEv" data-ref-filename="_ZN4llvm10BasicBlock11getInstListEv">getInstList</a>().<a class="ref fn" href="../../../include/llvm/ADT/ilist.h.html#_ZN4llvm11iplist_impl6insertENT_8iteratorENS1_7pointerE" title='llvm::iplist_impl::insert' data-ref="_ZN4llvm11iplist_impl6insertENT_8iteratorENS1_7pointerE" data-ref-filename="_ZN4llvm11iplist_impl6insertENT_8iteratorENS1_7pointerE">insert</a>(<a class="ref fn fake" href="../../../include/llvm/ADT/ilist_iterator.h.html#57" title='llvm::ilist_iterator&lt;llvm::ilist_detail::node_options&lt;llvm::Instruction, false, false, void&gt;, false, false&gt;::ilist_iterator' data-ref="_ZN4llvm14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEC1ERKS5_" data-ref-filename="_ZN4llvm14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEC1ERKS5_"></a><a class="local col8 ref" href="#678InsertPos" title='InsertPos' data-ref="678InsertPos" data-ref-filename="678InsertPos">InsertPos</a>, <a class="local col6 ref" href="#676Result" title='Result' data-ref="676Result" data-ref-filename="676Result">Result</a>);</td></tr>
<tr><th id="3742">3742</th><td></td></tr>
<tr><th id="3743">3743</th><td>        <i>// Push the new instruction and any users onto the worklist.</i></td></tr>
<tr><th id="3744">3744</th><td>        <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Worklist" title='llvm::InstCombiner::Worklist' data-ref="llvm::InstCombiner::Worklist" data-ref-filename="llvm..InstCombiner..Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist19pushUsersToWorkListERNS_11InstructionE" title='llvm::InstCombineWorklist::pushUsersToWorkList' data-ref="_ZN4llvm19InstCombineWorklist19pushUsersToWorkListERNS_11InstructionE" data-ref-filename="_ZN4llvm19InstCombineWorklist19pushUsersToWorkListERNS_11InstructionE">pushUsersToWorkList</a>(<span class='refarg'>*<a class="local col6 ref" href="#676Result" title='Result' data-ref="676Result" data-ref-filename="676Result">Result</a></span>);</td></tr>
<tr><th id="3745">3745</th><td>        <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Worklist" title='llvm::InstCombiner::Worklist' data-ref="llvm::InstCombiner::Worklist" data-ref-filename="llvm..InstCombiner..Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" title='llvm::InstCombineWorklist::push' data-ref="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" data-ref-filename="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE">push</a>(<a class="local col6 ref" href="#676Result" title='Result' data-ref="676Result" data-ref-filename="676Result">Result</a>);</td></tr>
<tr><th id="3746">3746</th><td></td></tr>
<tr><th id="3747">3747</th><td>        <a class="virtual member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" title='llvm::InstCombinerImpl::eraseInstFromFunction' data-ref="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE">eraseInstFromFunction</a>(<span class='refarg'>*<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a></span>);</td></tr>
<tr><th id="3748">3748</th><td>      } <b>else</b> {</td></tr>
<tr><th id="3749">3749</th><td>        <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"IC: Mod = "</q> &lt;&lt; OrigI &lt;&lt; <kbd>'\n'</kbd></td></tr>
<tr><th id="3750">3750</th><td>                          &lt;&lt; <q>"    New = "</q> &lt;&lt; *I &lt;&lt; <kbd>'\n'</kbd>);</td></tr>
<tr><th id="3751">3751</th><td></td></tr>
<tr><th id="3752">3752</th><td>        <i>// If the instruction was modified, it's possible that it is now dead.</i></td></tr>
<tr><th id="3753">3753</th><td><i>        // if so, remove it.</i></td></tr>
<tr><th id="3754">3754</th><td>        <b>if</b> (<a class="ref fn" href="../../../include/llvm/Transforms/Utils/Local.h.html#_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE" title='llvm::isInstructionTriviallyDead' data-ref="_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE" data-ref-filename="_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE">isInstructionTriviallyDead</a>(<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>, &amp;<a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::TLI" title='llvm::InstCombiner::TLI' data-ref="llvm::InstCombiner::TLI" data-ref-filename="llvm..InstCombiner..TLI">TLI</a>)) {</td></tr>
<tr><th id="3755">3755</th><td>          <a class="virtual member fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" title='llvm::InstCombinerImpl::eraseInstFromFunction' data-ref="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE" data-ref-filename="_ZN4llvm16InstCombinerImpl21eraseInstFromFunctionERNS_11InstructionE">eraseInstFromFunction</a>(<span class='refarg'>*<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a></span>);</td></tr>
<tr><th id="3756">3756</th><td>        } <b>else</b> {</td></tr>
<tr><th id="3757">3757</th><td>          <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Worklist" title='llvm::InstCombiner::Worklist' data-ref="llvm::InstCombiner::Worklist" data-ref-filename="llvm..InstCombiner..Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist19pushUsersToWorkListERNS_11InstructionE" title='llvm::InstCombineWorklist::pushUsersToWorkList' data-ref="_ZN4llvm19InstCombineWorklist19pushUsersToWorkListERNS_11InstructionE" data-ref-filename="_ZN4llvm19InstCombineWorklist19pushUsersToWorkListERNS_11InstructionE">pushUsersToWorkList</a>(<span class='refarg'>*<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a></span>);</td></tr>
<tr><th id="3758">3758</th><td>          <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Worklist" title='llvm::InstCombiner::Worklist' data-ref="llvm::InstCombiner::Worklist" data-ref-filename="llvm..InstCombiner..Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" title='llvm::InstCombineWorklist::push' data-ref="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" data-ref-filename="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE">push</a>(<a class="local col5 ref" href="#665I" title='I' data-ref="665I" data-ref-filename="665I">I</a>);</td></tr>
<tr><th id="3759">3759</th><td>        }</td></tr>
<tr><th id="3760">3760</th><td>      }</td></tr>
<tr><th id="3761">3761</th><td>      <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::MadeIRChange" title='llvm::InstCombiner::MadeIRChange' data-ref="llvm::InstCombiner::MadeIRChange" data-ref-filename="llvm..InstCombiner..MadeIRChange">MadeIRChange</a> = <b>true</b>;</td></tr>
<tr><th id="3762">3762</th><td>    }</td></tr>
<tr><th id="3763">3763</th><td>  }</td></tr>
<tr><th id="3764">3764</th><td></td></tr>
<tr><th id="3765">3765</th><td>  <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::Worklist" title='llvm::InstCombiner::Worklist' data-ref="llvm::InstCombiner::Worklist" data-ref-filename="llvm..InstCombiner..Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist3zapEv" title='llvm::InstCombineWorklist::zap' data-ref="_ZN4llvm19InstCombineWorklist3zapEv" data-ref-filename="_ZN4llvm19InstCombineWorklist3zapEv">zap</a>();</td></tr>
<tr><th id="3766">3766</th><td>  <b>return</b> <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::MadeIRChange" title='llvm::InstCombiner::MadeIRChange' data-ref="llvm::InstCombiner::MadeIRChange" data-ref-filename="llvm..InstCombiner..MadeIRChange">MadeIRChange</a>;</td></tr>
<tr><th id="3767">3767</th><td>}</td></tr>
<tr><th id="3768">3768</th><td></td></tr>
<tr><th id="3769">3769</th><td><i>// Track the scopes used by !alias.scope and !noalias. In a function, a</i></td></tr>
<tr><th id="3770">3770</th><td><i>// @llvm.experimental.noalias.scope.decl is only useful if that scope is used</i></td></tr>
<tr><th id="3771">3771</th><td><i>// by both sets. If not, the declaration of the scope can be safely omitted.</i></td></tr>
<tr><th id="3772">3772</th><td><i>// The MDNode of the scope can be omitted as well for the instructions that are</i></td></tr>
<tr><th id="3773">3773</th><td><i>// part of this function. We do not do that at this point, as this might become</i></td></tr>
<tr><th id="3774">3774</th><td><i>// too time consuming to do.</i></td></tr>
<tr><th id="3775">3775</th><td><b>class</b> <dfn class="type def" id="AliasScopeTracker" title='AliasScopeTracker' data-ref="AliasScopeTracker" data-ref-filename="AliasScopeTracker">AliasScopeTracker</dfn> {</td></tr>
<tr><th id="3776">3776</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallPtrSet.h.html#llvm::SmallPtrSet" title='llvm::SmallPtrSet' data-ref="llvm::SmallPtrSet" data-ref-filename="llvm..SmallPtrSet">SmallPtrSet</a>&lt;<em>const</em> <a class="type" href="../../../include/llvm/IR/Metadata.h.html#llvm::MDNode" title='llvm::MDNode' data-ref="llvm::MDNode" data-ref-filename="llvm..MDNode">MDNode</a> *, <var>8</var>&gt; <dfn class="tu decl field" id="AliasScopeTracker::UsedAliasScopesAndLists" title='AliasScopeTracker::UsedAliasScopesAndLists' data-type='SmallPtrSet&lt;const llvm::MDNode *, 8&gt;' data-ref="AliasScopeTracker::UsedAliasScopesAndLists" data-ref-filename="AliasScopeTracker..UsedAliasScopesAndLists">UsedAliasScopesAndLists</dfn>;</td></tr>
<tr><th id="3777">3777</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallPtrSet.h.html#llvm::SmallPtrSet" title='llvm::SmallPtrSet' data-ref="llvm::SmallPtrSet" data-ref-filename="llvm..SmallPtrSet">SmallPtrSet</a>&lt;<em>const</em> <a class="type" href="../../../include/llvm/IR/Metadata.h.html#llvm::MDNode" title='llvm::MDNode' data-ref="llvm::MDNode" data-ref-filename="llvm..MDNode">MDNode</a> *, <var>8</var>&gt; <dfn class="tu decl field" id="AliasScopeTracker::UsedNoAliasScopesAndLists" title='AliasScopeTracker::UsedNoAliasScopesAndLists' data-type='SmallPtrSet&lt;const llvm::MDNode *, 8&gt;' data-ref="AliasScopeTracker::UsedNoAliasScopesAndLists" data-ref-filename="AliasScopeTracker..UsedNoAliasScopesAndLists">UsedNoAliasScopesAndLists</dfn>;</td></tr>
<tr><th id="3778">3778</th><td></td></tr>
<tr><th id="3779">3779</th><td><b>public</b>:</td></tr>
<tr><th id="3780">3780</th><td>  <em>void</em> <dfn class="tu decl def fn" id="_ZN17AliasScopeTracker7analyseEPN4llvm11InstructionE" title='AliasScopeTracker::analyse' data-type='void AliasScopeTracker::analyse(llvm::Instruction * I)' data-ref="_ZN17AliasScopeTracker7analyseEPN4llvm11InstructionE" data-ref-filename="_ZN17AliasScopeTracker7analyseEPN4llvm11InstructionE">analyse</dfn>(<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col9 decl" id="679I" title='I' data-type='llvm::Instruction *' data-ref="679I" data-ref-filename="679I">I</dfn>) {</td></tr>
<tr><th id="3781">3781</th><td>    <i>// This seems to be faster than checking 'mayReadOrWriteMemory()'.</i></td></tr>
<tr><th id="3782">3782</th><td>    <b>if</b> (!<a class="local col9 ref" href="#679I" title='I' data-ref="679I" data-ref-filename="679I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction28hasMetadataOtherThanDebugLocEv" title='llvm::Instruction::hasMetadataOtherThanDebugLoc' data-ref="_ZNK4llvm11Instruction28hasMetadataOtherThanDebugLocEv" data-ref-filename="_ZNK4llvm11Instruction28hasMetadataOtherThanDebugLocEv">hasMetadataOtherThanDebugLoc</a>())</td></tr>
<tr><th id="3783">3783</th><td>      <b>return</b>;</td></tr>
<tr><th id="3784">3784</th><td></td></tr>
<tr><th id="3785">3785</th><td>    <em>auto</em> <dfn class="local col0 decl" id="680Track" title='Track' data-type='(lambda at /fast/tmp/llvm-proj-12/llvm/lib/Transforms/InstCombine/InstructionCombining.cpp:3785:18)' data-ref="680Track" data-ref-filename="680Track">Track</dfn> = [](<a class="type" href="../../../include/llvm/IR/Metadata.h.html#llvm::Metadata" title='llvm::Metadata' data-ref="llvm::Metadata" data-ref-filename="llvm..Metadata">Metadata</a> *<dfn class="local col1 decl" id="681ScopeList" title='ScopeList' data-type='llvm::Metadata *' data-ref="681ScopeList" data-ref-filename="681ScopeList">ScopeList</dfn>, <em>auto</em> &amp;<dfn class="local col2 decl" id="682Container" title='Container' data-type='auto &amp;' data-ref="682Container" data-ref-filename="682Container">Container</dfn>) {</td></tr>
<tr><th id="3786">3786</th><td>      <em>const</em> <em>auto</em> *<dfn class="local col3 decl" id="683MDScopeList" title='MDScopeList' data-type='const llvm::MDNode *' data-ref="683MDScopeList" data-ref-filename="683MDScopeList">MDScopeList</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm16dyn_cast_or_nullEPT0_" title='llvm::dyn_cast_or_null' data-ref="_ZN4llvm16dyn_cast_or_nullEPT0_" data-ref-filename="_ZN4llvm16dyn_cast_or_nullEPT0_">dyn_cast_or_null</a>&lt;<a class="type" href="../../../include/llvm/IR/Metadata.h.html#llvm::MDNode" title='llvm::MDNode' data-ref="llvm::MDNode" data-ref-filename="llvm..MDNode">MDNode</a>&gt;(<a class="local col1 ref" href="#681ScopeList" title='ScopeList' data-ref="681ScopeList" data-ref-filename="681ScopeList">ScopeList</a>);</td></tr>
<tr><th id="3787">3787</th><td>      <b>if</b> (!<a class="local col3 ref" href="#683MDScopeList" title='MDScopeList' data-ref="683MDScopeList" data-ref-filename="683MDScopeList">MDScopeList</a> || !<a class="local col2 ref" href="#682Container" title='Container' data-ref="682Container" data-ref-filename="682Container">Container</a>.insert(<a class="local col3 ref" href="#683MDScopeList" title='MDScopeList' data-ref="683MDScopeList" data-ref-filename="683MDScopeList">MDScopeList</a>).second)</td></tr>
<tr><th id="3788">3788</th><td>        <b>return</b>;</td></tr>
<tr><th id="3789">3789</th><td>      <b>for</b> (<em>auto</em> &amp;<dfn class="local col4 decl" id="684MDOperand" title='MDOperand' data-type='const llvm::MDOperand &amp;' data-ref="684MDOperand" data-ref-filename="684MDOperand">MDOperand</dfn> : <a class="local col3 ref" href="#683MDScopeList" title='MDScopeList' data-ref="683MDScopeList" data-ref-filename="683MDScopeList">MDScopeList</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Metadata.h.html#_ZNK4llvm6MDNode8operandsEv" title='llvm::MDNode::operands' data-ref="_ZNK4llvm6MDNode8operandsEv" data-ref-filename="_ZNK4llvm6MDNode8operandsEv">operands</a>())</td></tr>
<tr><th id="3790">3790</th><td>        <b>if</b> (<em>auto</em> *<dfn class="local col5 decl" id="685MDScope" title='MDScope' data-type='llvm::MDNode *' data-ref="685MDScope" data-ref-filename="685MDScope"><a class="local col5 ref" href="#685MDScope" title='MDScope' data-ref="685MDScope" data-ref-filename="685MDScope">MDScope</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castERKT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castERKT0_" data-ref-filename="_ZN4llvm8dyn_castERKT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Metadata.h.html#llvm::MDNode" title='llvm::MDNode' data-ref="llvm::MDNode" data-ref-filename="llvm..MDNode">MDNode</a>&gt;(<a class="local col4 ref" href="#684MDOperand" title='MDOperand' data-ref="684MDOperand" data-ref-filename="684MDOperand">MDOperand</a>))</td></tr>
<tr><th id="3791">3791</th><td>          <a class="local col2 ref" href="#682Container" title='Container' data-ref="682Container" data-ref-filename="682Container">Container</a>.insert(<a class="local col5 ref" href="#685MDScope" title='MDScope' data-ref="685MDScope" data-ref-filename="685MDScope">MDScope</a>);</td></tr>
<tr><th id="3792">3792</th><td>    };</td></tr>
<tr><th id="3793">3793</th><td></td></tr>
<tr><th id="3794">3794</th><td>    <a class="local col0 ref" href="#680Track" title='Track' data-ref="680Track" data-ref-filename="680Track">Track</a>(<a class="local col9 ref" href="#679I" title='I' data-ref="679I" data-ref-filename="679I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction11getMetadataEj" title='llvm::Instruction::getMetadata' data-ref="_ZNK4llvm11Instruction11getMetadataEj" data-ref-filename="_ZNK4llvm11Instruction11getMetadataEj">getMetadata</a>(<a class="type" href="../../../include/llvm/IR/LLVMContext.h.html#llvm::LLVMContext" title='llvm::LLVMContext' data-ref="llvm::LLVMContext" data-ref-filename="llvm..LLVMContext">LLVMContext</a>::<a class="enum" href="../../../include/llvm/IR/FixedMetadataKinds.def.html#20" title='llvm::LLVMContext::MD_alias_scope' data-ref="llvm::LLVMContext::MD_alias_scope" data-ref-filename="llvm..LLVMContext..MD_alias_scope">MD_alias_scope</a>), <a class="tu member field" href="#AliasScopeTracker::UsedAliasScopesAndLists" title='AliasScopeTracker::UsedAliasScopesAndLists' data-use='a' data-ref="AliasScopeTracker::UsedAliasScopesAndLists" data-ref-filename="AliasScopeTracker..UsedAliasScopesAndLists">UsedAliasScopesAndLists</a>);</td></tr>
<tr><th id="3795">3795</th><td>    <a class="local col0 ref" href="#680Track" title='Track' data-ref="680Track" data-ref-filename="680Track">Track</a>(<a class="local col9 ref" href="#679I" title='I' data-ref="679I" data-ref-filename="679I">I</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction11getMetadataEj" title='llvm::Instruction::getMetadata' data-ref="_ZNK4llvm11Instruction11getMetadataEj" data-ref-filename="_ZNK4llvm11Instruction11getMetadataEj">getMetadata</a>(<a class="type" href="../../../include/llvm/IR/LLVMContext.h.html#llvm::LLVMContext" title='llvm::LLVMContext' data-ref="llvm::LLVMContext" data-ref-filename="llvm..LLVMContext">LLVMContext</a>::<a class="enum" href="../../../include/llvm/IR/FixedMetadataKinds.def.html#21" title='llvm::LLVMContext::MD_noalias' data-ref="llvm::LLVMContext::MD_noalias" data-ref-filename="llvm..LLVMContext..MD_noalias">MD_noalias</a>), <a class="tu member field" href="#AliasScopeTracker::UsedNoAliasScopesAndLists" title='AliasScopeTracker::UsedNoAliasScopesAndLists' data-use='a' data-ref="AliasScopeTracker::UsedNoAliasScopesAndLists" data-ref-filename="AliasScopeTracker..UsedNoAliasScopesAndLists">UsedNoAliasScopesAndLists</a>);</td></tr>
<tr><th id="3796">3796</th><td>  }</td></tr>
<tr><th id="3797">3797</th><td></td></tr>
<tr><th id="3798">3798</th><td>  <em>bool</em> <dfn class="tu decl def fn" id="_ZN17AliasScopeTracker22isNoAliasScopeDeclDeadEPN4llvm11InstructionE" title='AliasScopeTracker::isNoAliasScopeDeclDead' data-type='bool AliasScopeTracker::isNoAliasScopeDeclDead(llvm::Instruction * Inst)' data-ref="_ZN17AliasScopeTracker22isNoAliasScopeDeclDeadEPN4llvm11InstructionE" data-ref-filename="_ZN17AliasScopeTracker22isNoAliasScopeDeclDeadEPN4llvm11InstructionE">isNoAliasScopeDeclDead</dfn>(<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col6 decl" id="686Inst" title='Inst' data-type='llvm::Instruction *' data-ref="686Inst" data-ref-filename="686Inst">Inst</dfn>) {</td></tr>
<tr><th id="3799">3799</th><td>    <a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::NoAliasScopeDeclInst" title='llvm::NoAliasScopeDeclInst' data-ref="llvm::NoAliasScopeDeclInst" data-ref-filename="llvm..NoAliasScopeDeclInst">NoAliasScopeDeclInst</a> *<dfn class="local col7 decl" id="687Decl" title='Decl' data-type='llvm::NoAliasScopeDeclInst *' data-ref="687Decl" data-ref-filename="687Decl">Decl</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/IntrinsicInst.h.html#llvm::NoAliasScopeDeclInst" title='llvm::NoAliasScopeDeclInst' data-ref="llvm::NoAliasScopeDeclInst" data-ref-filename="llvm..NoAliasScopeDeclInst">NoAliasScopeDeclInst</a>&gt;(<a class="local col6 ref" href="#686Inst" title='Inst' data-ref="686Inst" data-ref-filename="686Inst">Inst</a>);</td></tr>
<tr><th id="3800">3800</th><td>    <b>if</b> (!<a class="local col7 ref" href="#687Decl" title='Decl' data-ref="687Decl" data-ref-filename="687Decl">Decl</a>)</td></tr>
<tr><th id="3801">3801</th><td>      <b>return</b> <b>false</b>;</td></tr>
<tr><th id="3802">3802</th><td></td></tr>
<tr><th id="3803">3803</th><td>    <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Decl-&gt;use_empty() &amp;&amp;</td></tr>
<tr><th id="3804">3804</th><td>           <q>"llvm.experimental.noalias.scope.decl in use ?"</q>);</td></tr>
<tr><th id="3805">3805</th><td>    <em>const</em> <a class="type" href="../../../include/llvm/IR/Metadata.h.html#llvm::MDNode" title='llvm::MDNode' data-ref="llvm::MDNode" data-ref-filename="llvm..MDNode">MDNode</a> *<dfn class="local col8 decl" id="688MDSL" title='MDSL' data-type='const llvm::MDNode *' data-ref="688MDSL" data-ref-filename="688MDSL">MDSL</dfn> = <a class="local col7 ref" href="#687Decl" title='Decl' data-ref="687Decl" data-ref-filename="687Decl">Decl</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/IntrinsicInst.h.html#_ZNK4llvm20NoAliasScopeDeclInst12getScopeListEv" title='llvm::NoAliasScopeDeclInst::getScopeList' data-ref="_ZNK4llvm20NoAliasScopeDeclInst12getScopeListEv" data-ref-filename="_ZNK4llvm20NoAliasScopeDeclInst12getScopeListEv">getScopeList</a>();</td></tr>
<tr><th id="3806">3806</th><td>    <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(MDSL-&gt;getNumOperands() == <var>1</var> &amp;&amp;</td></tr>
<tr><th id="3807">3807</th><td>           <q>"llvm.experimental.noalias.scope should refer to a single scope"</q>);</td></tr>
<tr><th id="3808">3808</th><td>    <em>auto</em> &amp;<dfn class="local col9 decl" id="689MDOperand" title='MDOperand' data-type='const llvm::MDOperand &amp;' data-ref="689MDOperand" data-ref-filename="689MDOperand">MDOperand</dfn> = <a class="local col8 ref" href="#688MDSL" title='MDSL' data-ref="688MDSL" data-ref-filename="688MDSL">MDSL</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Metadata.h.html#_ZNK4llvm6MDNode10getOperandEj" title='llvm::MDNode::getOperand' data-ref="_ZNK4llvm6MDNode10getOperandEj" data-ref-filename="_ZNK4llvm6MDNode10getOperandEj">getOperand</a>(<var>0</var>);</td></tr>
<tr><th id="3809">3809</th><td>    <b>if</b> (<em>auto</em> *<dfn class="local col0 decl" id="690MD" title='MD' data-type='llvm::MDNode *' data-ref="690MD" data-ref-filename="690MD"><a class="local col0 ref" href="#690MD" title='MD' data-ref="690MD" data-ref-filename="690MD">MD</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castERKT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castERKT0_" data-ref-filename="_ZN4llvm8dyn_castERKT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Metadata.h.html#llvm::MDNode" title='llvm::MDNode' data-ref="llvm::MDNode" data-ref-filename="llvm..MDNode">MDNode</a>&gt;(<a class="local col9 ref" href="#689MDOperand" title='MDOperand' data-ref="689MDOperand" data-ref-filename="689MDOperand">MDOperand</a>))</td></tr>
<tr><th id="3810">3810</th><td>      <b>return</b> !<a class="tu member field" href="#AliasScopeTracker::UsedAliasScopesAndLists" title='AliasScopeTracker::UsedAliasScopesAndLists' data-use='m' data-ref="AliasScopeTracker::UsedAliasScopesAndLists" data-ref-filename="AliasScopeTracker..UsedAliasScopesAndLists">UsedAliasScopesAndLists</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallPtrSet.h.html#_ZNK4llvm15SmallPtrSetImpl8containsENS_22add_const_past_pointerIT_vE4typeE" title='llvm::SmallPtrSetImpl::contains' data-ref="_ZNK4llvm15SmallPtrSetImpl8containsENS_22add_const_past_pointerIT_vE4typeE" data-ref-filename="_ZNK4llvm15SmallPtrSetImpl8containsENS_22add_const_past_pointerIT_vE4typeE">contains</a>(<a class="local col0 ref" href="#690MD" title='MD' data-ref="690MD" data-ref-filename="690MD">MD</a>) ||</td></tr>
<tr><th id="3811">3811</th><td>             !<a class="tu member field" href="#AliasScopeTracker::UsedNoAliasScopesAndLists" title='AliasScopeTracker::UsedNoAliasScopesAndLists' data-use='m' data-ref="AliasScopeTracker::UsedNoAliasScopesAndLists" data-ref-filename="AliasScopeTracker..UsedNoAliasScopesAndLists">UsedNoAliasScopesAndLists</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallPtrSet.h.html#_ZNK4llvm15SmallPtrSetImpl8containsENS_22add_const_past_pointerIT_vE4typeE" title='llvm::SmallPtrSetImpl::contains' data-ref="_ZNK4llvm15SmallPtrSetImpl8containsENS_22add_const_past_pointerIT_vE4typeE" data-ref-filename="_ZNK4llvm15SmallPtrSetImpl8containsENS_22add_const_past_pointerIT_vE4typeE">contains</a>(<a class="local col0 ref" href="#690MD" title='MD' data-ref="690MD" data-ref-filename="690MD">MD</a>);</td></tr>
<tr><th id="3812">3812</th><td></td></tr>
<tr><th id="3813">3813</th><td>    <i>// Not an MDNode ? throw away.</i></td></tr>
<tr><th id="3814">3814</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="3815">3815</th><td>  }</td></tr>
<tr><th id="3816">3816</th><td>};</td></tr>
<tr><th id="3817">3817</th><td></td></tr>
<tr><th id="3818">3818</th><td><i class="doc" data-doc="_ZL29prepareICWorklistFromFunctionRN4llvm8FunctionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoERNS_19InstCombineWorklistE">/// Populate the IC worklist from a function, by walking it in depth-first</i></td></tr>
<tr><th id="3819">3819</th><td><i class="doc" data-doc="_ZL29prepareICWorklistFromFunctionRN4llvm8FunctionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoERNS_19InstCombineWorklistE">/// order and adding all reachable code to the worklist.</i></td></tr>
<tr><th id="3820">3820</th><td><i class="doc" data-doc="_ZL29prepareICWorklistFromFunctionRN4llvm8FunctionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoERNS_19InstCombineWorklistE">///</i></td></tr>
<tr><th id="3821">3821</th><td><i class="doc" data-doc="_ZL29prepareICWorklistFromFunctionRN4llvm8FunctionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoERNS_19InstCombineWorklistE">/// This has a couple of tricks to make the code faster and more powerful.  In</i></td></tr>
<tr><th id="3822">3822</th><td><i class="doc" data-doc="_ZL29prepareICWorklistFromFunctionRN4llvm8FunctionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoERNS_19InstCombineWorklistE">/// particular, we constant fold and DCE instructions as we go, to avoid adding</i></td></tr>
<tr><th id="3823">3823</th><td><i class="doc" data-doc="_ZL29prepareICWorklistFromFunctionRN4llvm8FunctionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoERNS_19InstCombineWorklistE">/// them to the worklist (this significantly speeds up instcombine on code where</i></td></tr>
<tr><th id="3824">3824</th><td><i class="doc" data-doc="_ZL29prepareICWorklistFromFunctionRN4llvm8FunctionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoERNS_19InstCombineWorklistE">/// many instructions are dead or constant).  Additionally, if we find a branch</i></td></tr>
<tr><th id="3825">3825</th><td><i class="doc" data-doc="_ZL29prepareICWorklistFromFunctionRN4llvm8FunctionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoERNS_19InstCombineWorklistE">/// whose condition is a known constant, we only visit the reachable successors.</i></td></tr>
<tr><th id="3826">3826</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL29prepareICWorklistFromFunctionRN4llvm8FunctionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoERNS_19InstCombineWorklistE" title='prepareICWorklistFromFunction' data-type='bool prepareICWorklistFromFunction(llvm::Function &amp; F, const llvm::DataLayout &amp; DL, const llvm::TargetLibraryInfo * TLI, llvm::InstCombineWorklist &amp; ICWorklist)' data-ref="_ZL29prepareICWorklistFromFunctionRN4llvm8FunctionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoERNS_19InstCombineWorklistE" data-ref-filename="_ZL29prepareICWorklistFromFunctionRN4llvm8FunctionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoERNS_19InstCombineWorklistE">prepareICWorklistFromFunction</dfn>(<a class="type" href="../../../include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> &amp;<dfn class="local col1 decl" id="691F" title='F' data-type='llvm::Function &amp;' data-ref="691F" data-ref-filename="691F">F</dfn>, <em>const</em> <a class="type" href="../../../include/llvm/IR/DataLayout.h.html#llvm::DataLayout" title='llvm::DataLayout' data-ref="llvm::DataLayout" data-ref-filename="llvm..DataLayout">DataLayout</a> &amp;<dfn class="local col2 decl" id="692DL" title='DL' data-type='const llvm::DataLayout &amp;' data-ref="692DL" data-ref-filename="692DL">DL</dfn>,</td></tr>
<tr><th id="3827">3827</th><td>                                          <em>const</em> <a class="type" href="../../../include/llvm/Analysis/TargetLibraryInfo.h.html#llvm::TargetLibraryInfo" title='llvm::TargetLibraryInfo' data-ref="llvm::TargetLibraryInfo" data-ref-filename="llvm..TargetLibraryInfo">TargetLibraryInfo</a> *<dfn class="local col3 decl" id="693TLI" title='TLI' data-type='const llvm::TargetLibraryInfo *' data-ref="693TLI" data-ref-filename="693TLI">TLI</dfn>,</td></tr>
<tr><th id="3828">3828</th><td>                                          <a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#llvm::InstCombineWorklist" title='llvm::InstCombineWorklist' data-ref="llvm::InstCombineWorklist" data-ref-filename="llvm..InstCombineWorklist">InstCombineWorklist</a> &amp;<dfn class="local col4 decl" id="694ICWorklist" title='ICWorklist' data-type='llvm::InstCombineWorklist &amp;' data-ref="694ICWorklist" data-ref-filename="694ICWorklist">ICWorklist</dfn>) {</td></tr>
<tr><th id="3829">3829</th><td>  <em>bool</em> <dfn class="local col5 decl" id="695MadeIRChange" title='MadeIRChange' data-type='bool' data-ref="695MadeIRChange" data-ref-filename="695MadeIRChange">MadeIRChange</dfn> = <b>false</b>;</td></tr>
<tr><th id="3830">3830</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallPtrSet.h.html#llvm::SmallPtrSet" title='llvm::SmallPtrSet' data-ref="llvm::SmallPtrSet" data-ref-filename="llvm..SmallPtrSet">SmallPtrSet</a>&lt;<a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *, <var>32</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallPtrSet.h.html#_ZN4llvm11SmallPtrSetC1Ev" title='llvm::SmallPtrSet::SmallPtrSet&lt;PtrType, SmallSize&gt;' data-ref="_ZN4llvm11SmallPtrSetC1Ev" data-ref-filename="_ZN4llvm11SmallPtrSetC1Ev"></a><dfn class="local col6 decl" id="696Visited" title='Visited' data-type='SmallPtrSet&lt;llvm::BasicBlock *, 32&gt;' data-ref="696Visited" data-ref-filename="696Visited">Visited</dfn>;</td></tr>
<tr><th id="3831">3831</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>*, <var>256</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col7 decl" id="697Worklist" title='Worklist' data-type='SmallVector&lt;llvm::BasicBlock *, 256&gt;' data-ref="697Worklist" data-ref-filename="697Worklist">Worklist</dfn>;</td></tr>
<tr><th id="3832">3832</th><td>  <a class="local col7 ref" href="#697Worklist" title='Worklist' data-ref="697Worklist" data-ref-filename="697Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(&amp;<a class="local col1 ref" href="#691F" title='F' data-ref="691F" data-ref-filename="691F">F</a>.<a class="ref fn" href="../../../include/llvm/IR/Function.h.html#_ZN4llvm8Function5frontEv" title='llvm::Function::front' data-ref="_ZN4llvm8Function5frontEv" data-ref-filename="_ZN4llvm8Function5frontEv">front</a>());</td></tr>
<tr><th id="3833">3833</th><td></td></tr>
<tr><th id="3834">3834</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>*, <var>128</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col8 decl" id="698InstrsForInstCombineWorklist" title='InstrsForInstCombineWorklist' data-type='SmallVector&lt;llvm::Instruction *, 128&gt;' data-ref="698InstrsForInstCombineWorklist" data-ref-filename="698InstrsForInstCombineWorklist">InstrsForInstCombineWorklist</dfn>;</td></tr>
<tr><th id="3835">3835</th><td>  <a class="type" href="../../../include/llvm/ADT/DenseMap.h.html#llvm::DenseMap" title='llvm::DenseMap' data-ref="llvm::DenseMap" data-ref-filename="llvm..DenseMap">DenseMap</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *, <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/DenseMap.h.html#_ZN4llvm8DenseMapC1Ej" title='llvm::DenseMap::DenseMap&lt;KeyT, ValueT, KeyInfoT, BucketT&gt;' data-ref="_ZN4llvm8DenseMapC1Ej" data-ref-filename="_ZN4llvm8DenseMapC1Ej"></a><dfn class="local col9 decl" id="699FoldedConstants" title='FoldedConstants' data-type='DenseMap&lt;llvm::Constant *, llvm::Constant *&gt;' data-ref="699FoldedConstants" data-ref-filename="699FoldedConstants">FoldedConstants</dfn>;</td></tr>
<tr><th id="3836">3836</th><td>  <a class="type" href="#AliasScopeTracker" title='AliasScopeTracker' data-ref="AliasScopeTracker" data-ref-filename="AliasScopeTracker">AliasScopeTracker</a> <a class="tu ref fn fake" href="#3775" title='AliasScopeTracker::AliasScopeTracker' data-use='c' data-ref="_ZN17AliasScopeTrackerC1Ev" data-ref-filename="_ZN17AliasScopeTrackerC1Ev"></a><dfn class="local col0 decl" id="700SeenAliasScopes" title='SeenAliasScopes' data-type='AliasScopeTracker' data-ref="700SeenAliasScopes" data-ref-filename="700SeenAliasScopes">SeenAliasScopes</dfn>;</td></tr>
<tr><th id="3837">3837</th><td></td></tr>
<tr><th id="3838">3838</th><td>  <b>do</b> {</td></tr>
<tr><th id="3839">3839</th><td>    <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col1 decl" id="701BB" title='BB' data-type='llvm::BasicBlock *' data-ref="701BB" data-ref-filename="701BB">BB</dfn> = <a class="local col7 ref" href="#697Worklist" title='Worklist' data-ref="697Worklist" data-ref-filename="697Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl12pop_back_valEv" title='llvm::SmallVectorImpl::pop_back_val' data-ref="_ZN4llvm15SmallVectorImpl12pop_back_valEv" data-ref-filename="_ZN4llvm15SmallVectorImpl12pop_back_valEv">pop_back_val</a>();</td></tr>
<tr><th id="3840">3840</th><td></td></tr>
<tr><th id="3841">3841</th><td>    <i>// We have now visited this block!  If we've already been here, ignore it.</i></td></tr>
<tr><th id="3842">3842</th><td>    <b>if</b> (!<a class="local col6 ref" href="#696Visited" title='Visited' data-ref="696Visited" data-ref-filename="696Visited">Visited</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallPtrSet.h.html#_ZN4llvm15SmallPtrSetImpl6insertET_" title='llvm::SmallPtrSetImpl::insert' data-ref="_ZN4llvm15SmallPtrSetImpl6insertET_" data-ref-filename="_ZN4llvm15SmallPtrSetImpl6insertET_">insert</a>(<a class="local col1 ref" href="#701BB" title='BB' data-ref="701BB" data-ref-filename="701BB">BB</a>).<span class='ref field' title='std::pair&lt;llvm::SmallPtrSetIterator&lt;llvm::BasicBlock *&gt;, bool&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>)</td></tr>
<tr><th id="3843">3843</th><td>      <b>continue</b>;</td></tr>
<tr><th id="3844">3844</th><td></td></tr>
<tr><th id="3845">3845</th><td>    <b>for</b> (<a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="typedef" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock::iterator" title='llvm::BasicBlock::iterator' data-type='InstListType::iterator' data-ref="llvm::BasicBlock::iterator" data-ref-filename="llvm..BasicBlock..iterator">iterator</a> <dfn class="local col2 decl" id="702BBI" title='BBI' data-type='BasicBlock::iterator' data-ref="702BBI" data-ref-filename="702BBI">BBI</dfn> = <a class="local col1 ref" href="#701BB" title='BB' data-ref="701BB" data-ref-filename="701BB">BB</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock5beginEv" title='llvm::BasicBlock::begin' data-ref="_ZN4llvm10BasicBlock5beginEv" data-ref-filename="_ZN4llvm10BasicBlock5beginEv">begin</a>(), <dfn class="local col3 decl" id="703E" title='E' data-type='BasicBlock::iterator' data-ref="703E" data-ref-filename="703E">E</dfn> = <a class="local col1 ref" href="#701BB" title='BB' data-ref="701BB" data-ref-filename="701BB">BB</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock3endEv" title='llvm::BasicBlock::end' data-ref="_ZN4llvm10BasicBlock3endEv" data-ref-filename="_ZN4llvm10BasicBlock3endEv">end</a>(); <a class="local col2 ref" href="#702BBI" title='BBI' data-ref="702BBI" data-ref-filename="702BBI">BBI</a> <a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_" title='llvm::operator!=' data-ref="_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_" data-ref-filename="_ZN4llvmneERKNS_14ilist_iteratorIT_XT0_EXT1_EEES5_">!=</a> <a class="local col3 ref" href="#703E" title='E' data-ref="703E" data-ref-filename="703E">E</a>; ) {</td></tr>
<tr><th id="3846">3846</th><td>      <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col4 decl" id="704Inst" title='Inst' data-type='llvm::Instruction *' data-ref="704Inst" data-ref-filename="704Inst">Inst</dfn> = &amp;<a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZNK4llvm14ilist_iteratordeEv" title='llvm::ilist_iterator::operator*' data-ref="_ZNK4llvm14ilist_iteratordeEv" data-ref-filename="_ZNK4llvm14ilist_iteratordeEv">*</a><a class="local col2 ref" href="#702BBI" title='BBI' data-ref="702BBI" data-ref-filename="702BBI">BBI</a><a class="ref fn" href="../../../include/llvm/ADT/ilist_iterator.h.html#_ZN4llvm14ilist_iteratorppEi" title='llvm::ilist_iterator::operator++' data-ref="_ZN4llvm14ilist_iteratorppEi" data-ref-filename="_ZN4llvm14ilist_iteratorppEi">++</a>;</td></tr>
<tr><th id="3847">3847</th><td></td></tr>
<tr><th id="3848">3848</th><td>      <i>// ConstantProp instruction if trivially constant.</i></td></tr>
<tr><th id="3849">3849</th><td>      <b>if</b> (!<a class="local col4 ref" href="#704Inst" title='Inst' data-ref="704Inst" data-ref-filename="704Inst">Inst</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9use_emptyEv" title='llvm::Value::use_empty' data-ref="_ZNK4llvm5Value9use_emptyEv" data-ref-filename="_ZNK4llvm5Value9use_emptyEv">use_empty</a>() &amp;&amp;</td></tr>
<tr><th id="3850">3850</th><td>          (<a class="local col4 ref" href="#704Inst" title='Inst' data-ref="704Inst" data-ref-filename="704Inst">Inst</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User14getNumOperandsEv" title='llvm::User::getNumOperands' data-ref="_ZNK4llvm4User14getNumOperandsEv" data-ref-filename="_ZNK4llvm4User14getNumOperandsEv">getNumOperands</a>() == <var>0</var> || <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<a class="local col4 ref" href="#704Inst" title='Inst' data-ref="704Inst" data-ref-filename="704Inst">Inst</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZNK4llvm4User10getOperandEj" title='llvm::User::getOperand' data-ref="_ZNK4llvm4User10getOperandEj" data-ref-filename="_ZNK4llvm4User10getOperandEj">getOperand</a>(<var>0</var>))))</td></tr>
<tr><th id="3851">3851</th><td>        <b>if</b> (<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col5 decl" id="705C" title='C' data-type='llvm::Constant *' data-ref="705C" data-ref-filename="705C"><a class="local col5 ref" href="#705C" title='C' data-ref="705C" data-ref-filename="705C">C</a></dfn> = <a class="ref fn" href="../../../include/llvm/Analysis/ConstantFolding.h.html#_ZN4llvm23ConstantFoldInstructionEPNS_11InstructionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoE" title='llvm::ConstantFoldInstruction' data-ref="_ZN4llvm23ConstantFoldInstructionEPNS_11InstructionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoE" data-ref-filename="_ZN4llvm23ConstantFoldInstructionEPNS_11InstructionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoE">ConstantFoldInstruction</a>(<a class="local col4 ref" href="#704Inst" title='Inst' data-ref="704Inst" data-ref-filename="704Inst">Inst</a>, <a class="local col2 ref" href="#692DL" title='DL' data-ref="692DL" data-ref-filename="692DL">DL</a>, <a class="local col3 ref" href="#693TLI" title='TLI' data-ref="693TLI" data-ref-filename="693TLI">TLI</a>)) {</td></tr>
<tr><th id="3852">3852</th><td>          <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"IC: ConstFold to: "</q> &lt;&lt; *C &lt;&lt; <q>" from: "</q> &lt;&lt; *Inst</td></tr>
<tr><th id="3853">3853</th><td>                            &lt;&lt; <kbd>'\n'</kbd>);</td></tr>
<tr><th id="3854">3854</th><td>          <a class="local col4 ref" href="#704Inst" title='Inst' data-ref="704Inst" data-ref-filename="704Inst">Inst</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col5 ref" href="#705C" title='C' data-ref="705C" data-ref-filename="705C">C</a>);</td></tr>
<tr><th id="3855">3855</th><td>          <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#121" title='NumConstProp' data-ref="NumConstProp" data-ref-filename="NumConstProp">NumConstProp</a>;</td></tr>
<tr><th id="3856">3856</th><td>          <b>if</b> (<a class="ref fn" href="../../../include/llvm/Transforms/Utils/Local.h.html#_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE" title='llvm::isInstructionTriviallyDead' data-ref="_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE" data-ref-filename="_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE">isInstructionTriviallyDead</a>(<a class="local col4 ref" href="#704Inst" title='Inst' data-ref="704Inst" data-ref-filename="704Inst">Inst</a>, <a class="local col3 ref" href="#693TLI" title='TLI' data-ref="693TLI" data-ref-filename="693TLI">TLI</a>))</td></tr>
<tr><th id="3857">3857</th><td>            <a class="local col4 ref" href="#704Inst" title='Inst' data-ref="704Inst" data-ref-filename="704Inst">Inst</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="3858">3858</th><td>          <a class="local col5 ref" href="#695MadeIRChange" title='MadeIRChange' data-ref="695MadeIRChange" data-ref-filename="695MadeIRChange">MadeIRChange</a> = <b>true</b>;</td></tr>
<tr><th id="3859">3859</th><td>          <b>continue</b>;</td></tr>
<tr><th id="3860">3860</th><td>        }</td></tr>
<tr><th id="3861">3861</th><td></td></tr>
<tr><th id="3862">3862</th><td>      <i>// See if we can constant fold its operands.</i></td></tr>
<tr><th id="3863">3863</th><td>      <b>for</b> (<a class="type" href="../../../include/llvm/IR/Use.h.html#llvm::Use" title='llvm::Use' data-ref="llvm::Use" data-ref-filename="llvm..Use">Use</a> &amp;<dfn class="local col6 decl" id="706U" title='U' data-type='llvm::Use &amp;' data-ref="706U" data-ref-filename="706U">U</dfn> : <a class="local col4 ref" href="#704Inst" title='Inst' data-ref="704Inst" data-ref-filename="704Inst">Inst</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/User.h.html#_ZN4llvm4User8operandsEv" title='llvm::User::operands' data-ref="_ZN4llvm4User8operandsEv" data-ref-filename="_ZN4llvm4User8operandsEv">operands</a>()) {</td></tr>
<tr><th id="3864">3864</th><td>        <b>if</b> (!<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantVector" title='llvm::ConstantVector' data-ref="llvm::ConstantVector" data-ref-filename="llvm..ConstantVector">ConstantVector</a>&gt;(<a class="local col6 ref" href="#706U" title='U' data-ref="706U" data-ref-filename="706U">U</a>) &amp;&amp; !<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantExpr" title='llvm::ConstantExpr' data-ref="llvm::ConstantExpr" data-ref-filename="llvm..ConstantExpr">ConstantExpr</a>&gt;(<a class="local col6 ref" href="#706U" title='U' data-ref="706U" data-ref-filename="706U">U</a>))</td></tr>
<tr><th id="3865">3865</th><td>          <b>continue</b>;</td></tr>
<tr><th id="3866">3866</th><td></td></tr>
<tr><th id="3867">3867</th><td>        <em>auto</em> *<dfn class="local col7 decl" id="707C" title='C' data-type='llvm::Constant *' data-ref="707C" data-ref-filename="707C">C</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castERT0_" title='llvm::cast' data-ref="_ZN4llvm4castERT0_" data-ref-filename="_ZN4llvm4castERT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>&gt;(<span class='refarg'><a class="local col6 ref" href="#706U" title='U' data-ref="706U" data-ref-filename="706U">U</a></span>);</td></tr>
<tr><th id="3868">3868</th><td>        <a class="type" href="../../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *&amp;<dfn class="local col8 decl" id="708FoldRes" title='FoldRes' data-type='llvm::Constant *&amp;' data-ref="708FoldRes" data-ref-filename="708FoldRes">FoldRes</dfn> = <a class="local col9 ref" href="#699FoldedConstants" title='FoldedConstants' data-ref="699FoldedConstants" data-ref-filename="699FoldedConstants">FoldedConstants</a><a class="ref fn" href="../../../include/llvm/ADT/DenseMap.h.html#_ZN4llvm12DenseMapBaseixERKT0_" title='llvm::DenseMapBase::operator[]' data-ref="_ZN4llvm12DenseMapBaseixERKT0_" data-ref-filename="_ZN4llvm12DenseMapBaseixERKT0_">[<a class="local col7 ref" href="#707C" title='C' data-ref="707C" data-ref-filename="707C">C</a>]</a>;</td></tr>
<tr><th id="3869">3869</th><td>        <b>if</b> (!<a class="local col8 ref" href="#708FoldRes" title='FoldRes' data-ref="708FoldRes" data-ref-filename="708FoldRes">FoldRes</a>)</td></tr>
<tr><th id="3870">3870</th><td>          <a class="local col8 ref" href="#708FoldRes" title='FoldRes' data-ref="708FoldRes" data-ref-filename="708FoldRes">FoldRes</a> = <a class="ref fn" href="../../../include/llvm/Analysis/ConstantFolding.h.html#_ZN4llvm20ConstantFoldConstantEPKNS_8ConstantERKNS_10DataLayoutEPKNS_17TargetLibraryInfoE" title='llvm::ConstantFoldConstant' data-ref="_ZN4llvm20ConstantFoldConstantEPKNS_8ConstantERKNS_10DataLayoutEPKNS_17TargetLibraryInfoE" data-ref-filename="_ZN4llvm20ConstantFoldConstantEPKNS_8ConstantERKNS_10DataLayoutEPKNS_17TargetLibraryInfoE">ConstantFoldConstant</a>(<a class="local col7 ref" href="#707C" title='C' data-ref="707C" data-ref-filename="707C">C</a>, <a class="local col2 ref" href="#692DL" title='DL' data-ref="692DL" data-ref-filename="692DL">DL</a>, <a class="local col3 ref" href="#693TLI" title='TLI' data-ref="693TLI" data-ref-filename="693TLI">TLI</a>);</td></tr>
<tr><th id="3871">3871</th><td></td></tr>
<tr><th id="3872">3872</th><td>        <b>if</b> (<a class="local col8 ref" href="#708FoldRes" title='FoldRes' data-ref="708FoldRes" data-ref-filename="708FoldRes">FoldRes</a> != <a class="local col7 ref" href="#707C" title='C' data-ref="707C" data-ref-filename="707C">C</a>) {</td></tr>
<tr><th id="3873">3873</th><td>          <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"IC: ConstFold operand of: "</q> &lt;&lt; *Inst</td></tr>
<tr><th id="3874">3874</th><td>                            &lt;&lt; <q>"\n    Old = "</q> &lt;&lt; *C</td></tr>
<tr><th id="3875">3875</th><td>                            &lt;&lt; <q>"\n    New = "</q> &lt;&lt; *FoldRes &lt;&lt; <kbd>'\n'</kbd>);</td></tr>
<tr><th id="3876">3876</th><td>          <a class="local col6 ref" href="#706U" title='U' data-ref="706U" data-ref-filename="706U">U</a> <a class="ref fn" href="../../../include/llvm/IR/Use.h.html#_ZN4llvm3UseaSEPNS_5ValueE" title='llvm::Use::operator=' data-ref="_ZN4llvm3UseaSEPNS_5ValueE" data-ref-filename="_ZN4llvm3UseaSEPNS_5ValueE">=</a> <a class="local col8 ref" href="#708FoldRes" title='FoldRes' data-ref="708FoldRes" data-ref-filename="708FoldRes">FoldRes</a>;</td></tr>
<tr><th id="3877">3877</th><td>          <a class="local col5 ref" href="#695MadeIRChange" title='MadeIRChange' data-ref="695MadeIRChange" data-ref-filename="695MadeIRChange">MadeIRChange</a> = <b>true</b>;</td></tr>
<tr><th id="3878">3878</th><td>        }</td></tr>
<tr><th id="3879">3879</th><td>      }</td></tr>
<tr><th id="3880">3880</th><td></td></tr>
<tr><th id="3881">3881</th><td>      <i>// Skip processing debug and pseudo intrinsics in InstCombine. Processing</i></td></tr>
<tr><th id="3882">3882</th><td><i>      // these call instructions consumes non-trivial amount of time and</i></td></tr>
<tr><th id="3883">3883</th><td><i>      // provides no value for the optimization.</i></td></tr>
<tr><th id="3884">3884</th><td>      <b>if</b> (!<a class="local col4 ref" href="#704Inst" title='Inst' data-ref="704Inst" data-ref-filename="704Inst">Inst</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction19isDebugOrPseudoInstEv" title='llvm::Instruction::isDebugOrPseudoInst' data-ref="_ZNK4llvm11Instruction19isDebugOrPseudoInstEv" data-ref-filename="_ZNK4llvm11Instruction19isDebugOrPseudoInstEv">isDebugOrPseudoInst</a>()) {</td></tr>
<tr><th id="3885">3885</th><td>        <a class="local col8 ref" href="#698InstrsForInstCombineWorklist" title='InstrsForInstCombineWorklist' data-ref="698InstrsForInstCombineWorklist" data-ref-filename="698InstrsForInstCombineWorklist">InstrsForInstCombineWorklist</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col4 ref" href="#704Inst" title='Inst' data-ref="704Inst" data-ref-filename="704Inst">Inst</a>);</td></tr>
<tr><th id="3886">3886</th><td>        <a class="local col0 ref" href="#700SeenAliasScopes" title='SeenAliasScopes' data-ref="700SeenAliasScopes" data-ref-filename="700SeenAliasScopes">SeenAliasScopes</a>.<a class="tu ref fn" href="#_ZN17AliasScopeTracker7analyseEPN4llvm11InstructionE" title='AliasScopeTracker::analyse' data-use='c' data-ref="_ZN17AliasScopeTracker7analyseEPN4llvm11InstructionE" data-ref-filename="_ZN17AliasScopeTracker7analyseEPN4llvm11InstructionE">analyse</a>(<a class="local col4 ref" href="#704Inst" title='Inst' data-ref="704Inst" data-ref-filename="704Inst">Inst</a>);</td></tr>
<tr><th id="3887">3887</th><td>      }</td></tr>
<tr><th id="3888">3888</th><td>    }</td></tr>
<tr><th id="3889">3889</th><td></td></tr>
<tr><th id="3890">3890</th><td>    <i>// Recursively visit successors.  If this is a branch or switch on a</i></td></tr>
<tr><th id="3891">3891</th><td><i>    // constant, only visit the reachable successor.</i></td></tr>
<tr><th id="3892">3892</th><td>    <a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col9 decl" id="709TI" title='TI' data-type='llvm::Instruction *' data-ref="709TI" data-ref-filename="709TI">TI</dfn> = <a class="local col1 ref" href="#701BB" title='BB' data-ref="701BB" data-ref-filename="701BB">BB</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock13getTerminatorEv" title='llvm::BasicBlock::getTerminator' data-ref="_ZN4llvm10BasicBlock13getTerminatorEv" data-ref-filename="_ZN4llvm10BasicBlock13getTerminatorEv">getTerminator</a>();</td></tr>
<tr><th id="3893">3893</th><td>    <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::BranchInst" title='llvm::BranchInst' data-ref="llvm::BranchInst" data-ref-filename="llvm..BranchInst">BranchInst</a> *<dfn class="local col0 decl" id="710BI" title='BI' data-type='llvm::BranchInst *' data-ref="710BI" data-ref-filename="710BI"><a class="local col0 ref" href="#710BI" title='BI' data-ref="710BI" data-ref-filename="710BI">BI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::BranchInst" title='llvm::BranchInst' data-ref="llvm::BranchInst" data-ref-filename="llvm..BranchInst">BranchInst</a>&gt;(<a class="local col9 ref" href="#709TI" title='TI' data-ref="709TI" data-ref-filename="709TI">TI</a>)) {</td></tr>
<tr><th id="3894">3894</th><td>      <b>if</b> (<a class="local col0 ref" href="#710BI" title='BI' data-ref="710BI" data-ref-filename="710BI">BI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10BranchInst13isConditionalEv" title='llvm::BranchInst::isConditional' data-ref="_ZNK4llvm10BranchInst13isConditionalEv" data-ref-filename="_ZNK4llvm10BranchInst13isConditionalEv">isConditional</a>() &amp;&amp; <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col0 ref" href="#710BI" title='BI' data-ref="710BI" data-ref-filename="710BI">BI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10BranchInst12getConditionEv" title='llvm::BranchInst::getCondition' data-ref="_ZNK4llvm10BranchInst12getConditionEv" data-ref-filename="_ZNK4llvm10BranchInst12getConditionEv">getCondition</a>())) {</td></tr>
<tr><th id="3895">3895</th><td>        <em>bool</em> <dfn class="local col1 decl" id="711CondVal" title='CondVal' data-type='bool' data-ref="711CondVal" data-ref-filename="711CondVal">CondVal</dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col0 ref" href="#710BI" title='BI' data-ref="710BI" data-ref-filename="710BI">BI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10BranchInst12getConditionEv" title='llvm::BranchInst::getCondition' data-ref="_ZNK4llvm10BranchInst12getConditionEv" data-ref-filename="_ZNK4llvm10BranchInst12getConditionEv">getCondition</a>())-&gt;<a class="ref fn" href="../../../include/llvm/IR/Constants.h.html#_ZNK4llvm11ConstantInt12getZExtValueEv" title='llvm::ConstantInt::getZExtValue' data-ref="_ZNK4llvm11ConstantInt12getZExtValueEv" data-ref-filename="_ZNK4llvm11ConstantInt12getZExtValueEv">getZExtValue</a>();</td></tr>
<tr><th id="3896">3896</th><td>        <a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col2 decl" id="712ReachableBB" title='ReachableBB' data-type='llvm::BasicBlock *' data-ref="712ReachableBB" data-ref-filename="712ReachableBB">ReachableBB</dfn> = <a class="local col0 ref" href="#710BI" title='BI' data-ref="710BI" data-ref-filename="710BI">BI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10BranchInst12getSuccessorEj" title='llvm::BranchInst::getSuccessor' data-ref="_ZNK4llvm10BranchInst12getSuccessorEj" data-ref-filename="_ZNK4llvm10BranchInst12getSuccessorEj">getSuccessor</a>(!<a class="local col1 ref" href="#711CondVal" title='CondVal' data-ref="711CondVal" data-ref-filename="711CondVal">CondVal</a>);</td></tr>
<tr><th id="3897">3897</th><td>        <a class="local col7 ref" href="#697Worklist" title='Worklist' data-ref="697Worklist" data-ref-filename="697Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col2 ref" href="#712ReachableBB" title='ReachableBB' data-ref="712ReachableBB" data-ref-filename="712ReachableBB">ReachableBB</a>);</td></tr>
<tr><th id="3898">3898</th><td>        <b>continue</b>;</td></tr>
<tr><th id="3899">3899</th><td>      }</td></tr>
<tr><th id="3900">3900</th><td>    } <b>else</b> <b>if</b> (<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::SwitchInst" title='llvm::SwitchInst' data-ref="llvm::SwitchInst" data-ref-filename="llvm..SwitchInst">SwitchInst</a> *<dfn class="local col3 decl" id="713SI" title='SI' data-type='llvm::SwitchInst *' data-ref="713SI" data-ref-filename="713SI"><a class="local col3 ref" href="#713SI" title='SI' data-ref="713SI" data-ref-filename="713SI">SI</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::SwitchInst" title='llvm::SwitchInst' data-ref="llvm::SwitchInst" data-ref-filename="llvm..SwitchInst">SwitchInst</a>&gt;(<a class="local col9 ref" href="#709TI" title='TI' data-ref="709TI" data-ref-filename="709TI">TI</a>)) {</td></tr>
<tr><th id="3901">3901</th><td>      <b>if</b> (<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a> *<dfn class="local col4 decl" id="714Cond" title='Cond' data-type='llvm::ConstantInt *' data-ref="714Cond" data-ref-filename="714Cond"><a class="local col4 ref" href="#714Cond" title='Cond' data-ref="714Cond" data-ref-filename="714Cond">Cond</a></dfn> = <a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col3 ref" href="#713SI" title='SI' data-ref="713SI" data-ref-filename="713SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10SwitchInst12getConditionEv" title='llvm::SwitchInst::getCondition' data-ref="_ZNK4llvm10SwitchInst12getConditionEv" data-ref-filename="_ZNK4llvm10SwitchInst12getConditionEv">getCondition</a>())) {</td></tr>
<tr><th id="3902">3902</th><td>        <a class="local col7 ref" href="#697Worklist" title='Worklist' data-ref="697Worklist" data-ref-filename="697Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col3 ref" href="#713SI" title='SI' data-ref="713SI" data-ref-filename="713SI">SI</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZN4llvm10SwitchInst13findCaseValueEPKNS_11ConstantIntE" title='llvm::SwitchInst::findCaseValue' data-ref="_ZN4llvm10SwitchInst13findCaseValueEPKNS_11ConstantIntE" data-ref-filename="_ZN4llvm10SwitchInst13findCaseValueEPKNS_11ConstantIntE">findCaseValue</a>(<a class="local col4 ref" href="#714Cond" title='Cond' data-ref="714Cond" data-ref-filename="714Cond">Cond</a>)<a class="ref fn" href="../../../include/llvm/ADT/iterator.h.html#_ZN4llvm20iterator_facade_baseptEv" title='llvm::iterator_facade_base::operator-&gt;' data-ref="_ZN4llvm20iterator_facade_baseptEv" data-ref-filename="_ZN4llvm20iterator_facade_baseptEv">-&gt;</a><a class="ref fn" href="../../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10SwitchInst14CaseHandleImpl16getCaseSuccessorEv" title='llvm::SwitchInst::CaseHandleImpl::getCaseSuccessor' data-ref="_ZNK4llvm10SwitchInst14CaseHandleImpl16getCaseSuccessorEv" data-ref-filename="_ZNK4llvm10SwitchInst14CaseHandleImpl16getCaseSuccessorEv">getCaseSuccessor</a>());</td></tr>
<tr><th id="3903">3903</th><td>        <b>continue</b>;</td></tr>
<tr><th id="3904">3904</th><td>      }</td></tr>
<tr><th id="3905">3905</th><td>    }</td></tr>
<tr><th id="3906">3906</th><td></td></tr>
<tr><th id="3907">3907</th><td>    <a class="ref fn" href="../../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm12append_rangeERT_OT0_" title='llvm::append_range' data-ref="_ZN4llvm12append_rangeERT_OT0_" data-ref-filename="_ZN4llvm12append_rangeERT_OT0_">append_range</a>(<span class='refarg'><a class="local col7 ref" href="#697Worklist" title='Worklist' data-ref="697Worklist" data-ref-filename="697Worklist">Worklist</a></span>, <a class="ref fn" href="../../../include/llvm/IR/CFG.h.html#_ZN4llvm10successorsEPNS_11InstructionE" title='llvm::successors' data-ref="_ZN4llvm10successorsEPNS_11InstructionE" data-ref-filename="_ZN4llvm10successorsEPNS_11InstructionE">successors</a>(<a class="local col9 ref" href="#709TI" title='TI' data-ref="709TI" data-ref-filename="709TI">TI</a>));</td></tr>
<tr><th id="3908">3908</th><td>  } <b>while</b> (!<a class="local col7 ref" href="#697Worklist" title='Worklist' data-ref="697Worklist" data-ref-filename="697Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase5emptyEv" title='llvm::SmallVectorBase::empty' data-ref="_ZNK4llvm15SmallVectorBase5emptyEv" data-ref-filename="_ZNK4llvm15SmallVectorBase5emptyEv">empty</a>());</td></tr>
<tr><th id="3909">3909</th><td></td></tr>
<tr><th id="3910">3910</th><td>  <i>// Remove instructions inside unreachable blocks. This prevents the</i></td></tr>
<tr><th id="3911">3911</th><td><i>  // instcombine code from having to deal with some bad special cases, and</i></td></tr>
<tr><th id="3912">3912</th><td><i>  // reduces use counts of instructions.</i></td></tr>
<tr><th id="3913">3913</th><td>  <b>for</b> (<a class="type" href="../../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> &amp;<dfn class="local col5 decl" id="715BB" title='BB' data-type='llvm::BasicBlock &amp;' data-ref="715BB" data-ref-filename="715BB">BB</dfn> : <a class="local col1 ref" href="#691F" title='F' data-ref="691F" data-ref-filename="691F">F</a>) {</td></tr>
<tr><th id="3914">3914</th><td>    <b>if</b> (<a class="local col6 ref" href="#696Visited" title='Visited' data-ref="696Visited" data-ref-filename="696Visited">Visited</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallPtrSet.h.html#_ZNK4llvm15SmallPtrSetImpl5countENS_22add_const_past_pointerIT_vE4typeE" title='llvm::SmallPtrSetImpl::count' data-ref="_ZNK4llvm15SmallPtrSetImpl5countENS_22add_const_past_pointerIT_vE4typeE" data-ref-filename="_ZNK4llvm15SmallPtrSetImpl5countENS_22add_const_past_pointerIT_vE4typeE">count</a>(&amp;<a class="local col5 ref" href="#715BB" title='BB' data-ref="715BB" data-ref-filename="715BB">BB</a>))</td></tr>
<tr><th id="3915">3915</th><td>      <b>continue</b>;</td></tr>
<tr><th id="3916">3916</th><td></td></tr>
<tr><th id="3917">3917</th><td>    <em>unsigned</em> <dfn class="local col6 decl" id="716NumDeadInstInBB" title='NumDeadInstInBB' data-type='unsigned int' data-ref="716NumDeadInstInBB" data-ref-filename="716NumDeadInstInBB">NumDeadInstInBB</dfn>;</td></tr>
<tr><th id="3918">3918</th><td>    <em>unsigned</em> <dfn class="local col7 decl" id="717NumDeadDbgInstInBB" title='NumDeadDbgInstInBB' data-type='unsigned int' data-ref="717NumDeadDbgInstInBB" data-ref-filename="717NumDeadDbgInstInBB">NumDeadDbgInstInBB</dfn>;</td></tr>
<tr><th id="3919">3919</th><td>    <span class="namespace">std::</span><span class='ref fn' title='std::tie' data-ref="_ZSt3tieDpRT_" data-ref-filename="_ZSt3tieDpRT_">tie</span>(<span class='refarg'><a class="local col6 ref" href="#716NumDeadInstInBB" title='NumDeadInstInBB' data-ref="716NumDeadInstInBB" data-ref-filename="716NumDeadInstInBB">NumDeadInstInBB</a></span>, <span class='refarg'><a class="local col7 ref" href="#717NumDeadDbgInstInBB" title='NumDeadDbgInstInBB' data-ref="717NumDeadDbgInstInBB" data-ref-filename="717NumDeadDbgInstInBB">NumDeadDbgInstInBB</a></span>) <span class='ref fn' title='std::tuple&lt;type-parameter-0-0, type-parameter-0-1&gt;::operator=' data-ref="_ZNSt5tupleIJT_T0_EEaSEOSt4pairITL0__TL0_0_E" data-ref-filename="_ZNSt5tupleIJT_T0_EEaSEOSt4pairITL0__TL0_0_E">=</span></td></tr>
<tr><th id="3920">3920</th><td>        <a class="ref fn" href="../../../include/llvm/Transforms/Utils/Local.h.html#_ZN4llvm42removeAllNonTerminatorAndEHPadInstructionsEPNS_10BasicBlockE" title='llvm::removeAllNonTerminatorAndEHPadInstructions' data-ref="_ZN4llvm42removeAllNonTerminatorAndEHPadInstructionsEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm42removeAllNonTerminatorAndEHPadInstructionsEPNS_10BasicBlockE">removeAllNonTerminatorAndEHPadInstructions</a>(&amp;<a class="local col5 ref" href="#715BB" title='BB' data-ref="715BB" data-ref-filename="715BB">BB</a>);</td></tr>
<tr><th id="3921">3921</th><td></td></tr>
<tr><th id="3922">3922</th><td>    <a class="local col5 ref" href="#695MadeIRChange" title='MadeIRChange' data-ref="695MadeIRChange" data-ref-filename="695MadeIRChange">MadeIRChange</a> |= <a class="local col6 ref" href="#716NumDeadInstInBB" title='NumDeadInstInBB' data-ref="716NumDeadInstInBB" data-ref-filename="716NumDeadInstInBB">NumDeadInstInBB</a> + <a class="local col7 ref" href="#717NumDeadDbgInstInBB" title='NumDeadDbgInstInBB' data-ref="717NumDeadDbgInstInBB" data-ref-filename="717NumDeadDbgInstInBB">NumDeadDbgInstInBB</a> &gt; <var>0</var>;</td></tr>
<tr><th id="3923">3923</th><td>    <a class="ref" href="#122" title='NumDeadInst' data-ref="NumDeadInst" data-ref-filename="NumDeadInst">NumDeadInst</a> <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticpLERKj" title='llvm::NoopStatistic::operator+=' data-ref="_ZN4llvm13NoopStatisticpLERKj" data-ref-filename="_ZN4llvm13NoopStatisticpLERKj">+=</a> <a class="local col6 ref" href="#716NumDeadInstInBB" title='NumDeadInstInBB' data-ref="716NumDeadInstInBB" data-ref-filename="716NumDeadInstInBB">NumDeadInstInBB</a>;</td></tr>
<tr><th id="3924">3924</th><td>  }</td></tr>
<tr><th id="3925">3925</th><td></td></tr>
<tr><th id="3926">3926</th><td>  <i>// Once we've found all of the instructions to add to instcombine's worklist,</i></td></tr>
<tr><th id="3927">3927</th><td><i>  // add them in reverse order.  This way instcombine will visit from the top</i></td></tr>
<tr><th id="3928">3928</th><td><i>  // of the function down.  This jives well with the way that it adds all uses</i></td></tr>
<tr><th id="3929">3929</th><td><i>  // of instructions to the worklist after doing a transformation, thus avoiding</i></td></tr>
<tr><th id="3930">3930</th><td><i>  // some N^2 behavior in pathological cases.</i></td></tr>
<tr><th id="3931">3931</th><td>  <a class="local col4 ref" href="#694ICWorklist" title='ICWorklist' data-ref="694ICWorklist" data-ref-filename="694ICWorklist">ICWorklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist7reserveEm" title='llvm::InstCombineWorklist::reserve' data-ref="_ZN4llvm19InstCombineWorklist7reserveEm" data-ref-filename="_ZN4llvm19InstCombineWorklist7reserveEm">reserve</a>(<a class="local col8 ref" href="#698InstrsForInstCombineWorklist" title='InstrsForInstCombineWorklist' data-ref="698InstrsForInstCombineWorklist" data-ref-filename="698InstrsForInstCombineWorklist">InstrsForInstCombineWorklist</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase4sizeEv" title='llvm::SmallVectorBase::size' data-ref="_ZNK4llvm15SmallVectorBase4sizeEv" data-ref-filename="_ZNK4llvm15SmallVectorBase4sizeEv">size</a>());</td></tr>
<tr><th id="3932">3932</th><td>  <b>for</b> (<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col8 decl" id="718Inst" title='Inst' data-type='llvm::Instruction *' data-ref="718Inst" data-ref-filename="718Inst">Inst</dfn> : <a class="ref fn" href="../../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm7reverseEOT_PNSt9enable_ifIXsr10has_rbeginIS0_EE5valueEvE4typeE" title='llvm::reverse' data-ref="_ZN4llvm7reverseEOT_PNSt9enable_ifIXsr10has_rbeginIS0_EE5valueEvE4typeE" data-ref-filename="_ZN4llvm7reverseEOT_PNSt9enable_ifIXsr10has_rbeginIS0_EE5valueEvE4typeE">reverse</a>(<span class='refarg'><a class="local col8 ref" href="#698InstrsForInstCombineWorklist" title='InstrsForInstCombineWorklist' data-ref="698InstrsForInstCombineWorklist" data-ref-filename="698InstrsForInstCombineWorklist">InstrsForInstCombineWorklist</a></span>)) {</td></tr>
<tr><th id="3933">3933</th><td>    <i>// DCE instruction if trivially dead. As we iterate in reverse program</i></td></tr>
<tr><th id="3934">3934</th><td><i>    // order here, we will clean up whole chains of dead instructions.</i></td></tr>
<tr><th id="3935">3935</th><td>    <b>if</b> (<a class="ref fn" href="../../../include/llvm/Transforms/Utils/Local.h.html#_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE" title='llvm::isInstructionTriviallyDead' data-ref="_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE" data-ref-filename="_ZN4llvm26isInstructionTriviallyDeadEPNS_11InstructionEPKNS_17TargetLibraryInfoE">isInstructionTriviallyDead</a>(<a class="local col8 ref" href="#718Inst" title='Inst' data-ref="718Inst" data-ref-filename="718Inst">Inst</a>, <a class="local col3 ref" href="#693TLI" title='TLI' data-ref="693TLI" data-ref-filename="693TLI">TLI</a>) ||</td></tr>
<tr><th id="3936">3936</th><td>        <a class="local col0 ref" href="#700SeenAliasScopes" title='SeenAliasScopes' data-ref="700SeenAliasScopes" data-ref-filename="700SeenAliasScopes">SeenAliasScopes</a>.<a class="tu ref fn" href="#_ZN17AliasScopeTracker22isNoAliasScopeDeclDeadEPN4llvm11InstructionE" title='AliasScopeTracker::isNoAliasScopeDeclDead' data-use='c' data-ref="_ZN17AliasScopeTracker22isNoAliasScopeDeclDeadEPN4llvm11InstructionE" data-ref-filename="_ZN17AliasScopeTracker22isNoAliasScopeDeclDeadEPN4llvm11InstructionE">isNoAliasScopeDeclDead</a>(<a class="local col8 ref" href="#718Inst" title='Inst' data-ref="718Inst" data-ref-filename="718Inst">Inst</a>)) {</td></tr>
<tr><th id="3937">3937</th><td>      <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#122" title='NumDeadInst' data-ref="NumDeadInst" data-ref-filename="NumDeadInst">NumDeadInst</a>;</td></tr>
<tr><th id="3938">3938</th><td>      <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"IC: DCE: "</q> &lt;&lt; *Inst &lt;&lt; <kbd>'\n'</kbd>);</td></tr>
<tr><th id="3939">3939</th><td>      <a class="ref fn" href="../../../include/llvm/Transforms/Utils/Local.h.html#_ZN4llvm16salvageDebugInfoERNS_11InstructionE" title='llvm::salvageDebugInfo' data-ref="_ZN4llvm16salvageDebugInfoERNS_11InstructionE" data-ref-filename="_ZN4llvm16salvageDebugInfoERNS_11InstructionE">salvageDebugInfo</a>(<span class='refarg'>*<a class="local col8 ref" href="#718Inst" title='Inst' data-ref="718Inst" data-ref-filename="718Inst">Inst</a></span>);</td></tr>
<tr><th id="3940">3940</th><td>      <a class="local col8 ref" href="#718Inst" title='Inst' data-ref="718Inst" data-ref-filename="718Inst">Inst</a>-&gt;<a class="ref fn" href="../../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="3941">3941</th><td>      <a class="local col5 ref" href="#695MadeIRChange" title='MadeIRChange' data-ref="695MadeIRChange" data-ref-filename="695MadeIRChange">MadeIRChange</a> = <b>true</b>;</td></tr>
<tr><th id="3942">3942</th><td>      <b>continue</b>;</td></tr>
<tr><th id="3943">3943</th><td>    }</td></tr>
<tr><th id="3944">3944</th><td></td></tr>
<tr><th id="3945">3945</th><td>    <a class="local col4 ref" href="#694ICWorklist" title='ICWorklist' data-ref="694ICWorklist" data-ref-filename="694ICWorklist">ICWorklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" title='llvm::InstCombineWorklist::push' data-ref="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE" data-ref-filename="_ZN4llvm19InstCombineWorklist4pushEPNS_11InstructionE">push</a>(<a class="local col8 ref" href="#718Inst" title='Inst' data-ref="718Inst" data-ref-filename="718Inst">Inst</a>);</td></tr>
<tr><th id="3946">3946</th><td>  }</td></tr>
<tr><th id="3947">3947</th><td></td></tr>
<tr><th id="3948">3948</th><td>  <b>return</b> <a class="local col5 ref" href="#695MadeIRChange" title='MadeIRChange' data-ref="695MadeIRChange" data-ref-filename="695MadeIRChange">MadeIRChange</a>;</td></tr>
<tr><th id="3949">3949</th><td>}</td></tr>
<tr><th id="3950">3950</th><td></td></tr>
<tr><th id="3951">3951</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL31combineInstructionsOverFunctionRN4llvm8FunctionERNS_19InstCombineWorklistEPNS_9AAResultsERNS_15AssumptionCacheERNS_17TargetLibraryInfoERNS_19Targ12081709" title='combineInstructionsOverFunction' data-type='bool combineInstructionsOverFunction(llvm::Function &amp; F, llvm::InstCombineWorklist &amp; Worklist, llvm::AliasAnalysis * AA, llvm::AssumptionCache &amp; AC, llvm::TargetLibraryInfo &amp; TLI, llvm::TargetTransformInfo &amp; TTI, llvm::DominatorTree &amp; DT, llvm::OptimizationRemarkEmitter &amp; ORE, llvm::BlockFrequencyInfo * BFI, llvm::ProfileSummaryInfo * PSI, unsigned int MaxIterations, llvm::LoopInfo * LI)' data-ref="_ZL31combineInstructionsOverFunctionRN4llvm8FunctionERNS_19InstCombineWorklistEPNS_9AAResultsERNS_15AssumptionCacheERNS_17TargetLibraryInfoERNS_19Targ12081709" data-ref-filename="_ZL31combineInstructionsOverFunctionRN4llvm8FunctionERNS_19InstCombineWorklistEPNS_9AAResultsERNS_15AssumptionCacheERNS_17TargetLibraryInfoERNS_19Targ12081709">combineInstructionsOverFunction</dfn>(</td></tr>
<tr><th id="3952">3952</th><td>    <a class="type" href="../../../include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> &amp;<dfn class="local col9 decl" id="719F" title='F' data-type='llvm::Function &amp;' data-ref="719F" data-ref-filename="719F">F</dfn>, <a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#llvm::InstCombineWorklist" title='llvm::InstCombineWorklist' data-ref="llvm::InstCombineWorklist" data-ref-filename="llvm..InstCombineWorklist">InstCombineWorklist</a> &amp;<dfn class="local col0 decl" id="720Worklist" title='Worklist' data-type='llvm::InstCombineWorklist &amp;' data-ref="720Worklist" data-ref-filename="720Worklist">Worklist</dfn>, <a class="typedef" href="../../../include/llvm/Analysis/AliasAnalysis.h.html#llvm::AliasAnalysis" title='llvm::AliasAnalysis' data-type='llvm::AAResults' data-ref="llvm::AliasAnalysis" data-ref-filename="llvm..AliasAnalysis">AliasAnalysis</a> *<dfn class="local col1 decl" id="721AA" title='AA' data-type='llvm::AliasAnalysis *' data-ref="721AA" data-ref-filename="721AA">AA</dfn>,</td></tr>
<tr><th id="3953">3953</th><td>    <a class="type" href="../../../include/llvm/Analysis/AssumptionCache.h.html#llvm::AssumptionCache" title='llvm::AssumptionCache' data-ref="llvm::AssumptionCache" data-ref-filename="llvm..AssumptionCache">AssumptionCache</a> &amp;<dfn class="local col2 decl" id="722AC" title='AC' data-type='llvm::AssumptionCache &amp;' data-ref="722AC" data-ref-filename="722AC">AC</dfn>, <a class="type" href="../../../include/llvm/Analysis/TargetLibraryInfo.h.html#llvm::TargetLibraryInfo" title='llvm::TargetLibraryInfo' data-ref="llvm::TargetLibraryInfo" data-ref-filename="llvm..TargetLibraryInfo">TargetLibraryInfo</a> &amp;<dfn class="local col3 decl" id="723TLI" title='TLI' data-type='llvm::TargetLibraryInfo &amp;' data-ref="723TLI" data-ref-filename="723TLI">TLI</dfn>, <a class="type" href="../../../include/llvm/Analysis/TargetTransformInfo.h.html#llvm::TargetTransformInfo" title='llvm::TargetTransformInfo' data-ref="llvm::TargetTransformInfo" data-ref-filename="llvm..TargetTransformInfo">TargetTransformInfo</a> &amp;<dfn class="local col4 decl" id="724TTI" title='TTI' data-type='llvm::TargetTransformInfo &amp;' data-ref="724TTI" data-ref-filename="724TTI">TTI</dfn>,</td></tr>
<tr><th id="3954">3954</th><td>    <a class="type" href="../../../include/llvm/IR/Dominators.h.html#llvm::DominatorTree" title='llvm::DominatorTree' data-ref="llvm::DominatorTree" data-ref-filename="llvm..DominatorTree">DominatorTree</a> &amp;<dfn class="local col5 decl" id="725DT" title='DT' data-type='llvm::DominatorTree &amp;' data-ref="725DT" data-ref-filename="725DT">DT</dfn>, <a class="type" href="../../../include/llvm/Analysis/OptimizationRemarkEmitter.h.html#llvm::OptimizationRemarkEmitter" title='llvm::OptimizationRemarkEmitter' data-ref="llvm::OptimizationRemarkEmitter" data-ref-filename="llvm..OptimizationRemarkEmitter">OptimizationRemarkEmitter</a> &amp;<dfn class="local col6 decl" id="726ORE" title='ORE' data-type='llvm::OptimizationRemarkEmitter &amp;' data-ref="726ORE" data-ref-filename="726ORE">ORE</dfn>, <a class="type" href="../../../include/llvm/Analysis/BlockFrequencyInfo.h.html#llvm::BlockFrequencyInfo" title='llvm::BlockFrequencyInfo' data-ref="llvm::BlockFrequencyInfo" data-ref-filename="llvm..BlockFrequencyInfo">BlockFrequencyInfo</a> *<dfn class="local col7 decl" id="727BFI" title='BFI' data-type='llvm::BlockFrequencyInfo *' data-ref="727BFI" data-ref-filename="727BFI">BFI</dfn>,</td></tr>
<tr><th id="3955">3955</th><td>    <a class="type" href="../../../include/llvm/Analysis/ProfileSummaryInfo.h.html#llvm::ProfileSummaryInfo" title='llvm::ProfileSummaryInfo' data-ref="llvm::ProfileSummaryInfo" data-ref-filename="llvm..ProfileSummaryInfo">ProfileSummaryInfo</a> *<dfn class="local col8 decl" id="728PSI" title='PSI' data-type='llvm::ProfileSummaryInfo *' data-ref="728PSI" data-ref-filename="728PSI">PSI</dfn>, <em>unsigned</em> <dfn class="local col9 decl" id="729MaxIterations" title='MaxIterations' data-type='unsigned int' data-ref="729MaxIterations" data-ref-filename="729MaxIterations">MaxIterations</dfn>, <a class="type" href="../../../include/llvm/Analysis/LoopInfo.h.html#llvm::LoopInfo" title='llvm::LoopInfo' data-ref="llvm::LoopInfo" data-ref-filename="llvm..LoopInfo">LoopInfo</a> *<dfn class="local col0 decl" id="730LI" title='LI' data-type='llvm::LoopInfo *' data-ref="730LI" data-ref-filename="730LI">LI</dfn>) {</td></tr>
<tr><th id="3956">3956</th><td>  <em>auto</em> &amp;<dfn class="local col1 decl" id="731DL" title='DL' data-type='const llvm::DataLayout &amp;' data-ref="731DL" data-ref-filename="731DL">DL</dfn> = <a class="local col9 ref" href="#719F" title='F' data-ref="719F" data-ref-filename="719F">F</a>.<a class="ref fn" href="../../../include/llvm/IR/GlobalValue.h.html#_ZN4llvm11GlobalValue9getParentEv" title='llvm::GlobalValue::getParent' data-ref="_ZN4llvm11GlobalValue9getParentEv" data-ref-filename="_ZN4llvm11GlobalValue9getParentEv">getParent</a>()-&gt;<a class="ref fn" href="../../../include/llvm/IR/Module.h.html#_ZNK4llvm6Module13getDataLayoutEv" title='llvm::Module::getDataLayout' data-ref="_ZNK4llvm6Module13getDataLayoutEv" data-ref-filename="_ZNK4llvm6Module13getDataLayoutEv">getDataLayout</a>();</td></tr>
<tr><th id="3957">3957</th><td>  <a class="local col9 ref" href="#729MaxIterations" title='MaxIterations' data-ref="729MaxIterations" data-ref-filename="729MaxIterations">MaxIterations</a> = <span class="namespace">std::</span><span class='ref fn' title='std::min' data-ref="_ZSt3minRKT_S1_" data-ref-filename="_ZSt3minRKT_S1_">min</span>(<a class="local col9 ref" href="#729MaxIterations" title='MaxIterations' data-ref="729MaxIterations" data-ref-filename="729MaxIterations">MaxIterations</a>, <a class="tu ref" href="#LimitMaxIterations" title='LimitMaxIterations' data-use='m' data-ref="LimitMaxIterations" data-ref-filename="LimitMaxIterations">LimitMaxIterations</a>.<a class="ref fn" href="../../../include/llvm/Support/CommandLine.h.html#_ZN4llvm2cl11opt_storageIT_Lb0ELb0EE8getValueEv" title='llvm::cl::opt_storage&lt;type-parameter-0-0, false, false&gt;::getValue' data-ref="_ZN4llvm2cl11opt_storageIT_Lb0ELb0EE8getValueEv" data-ref-filename="_ZN4llvm2cl11opt_storageIT_Lb0ELb0EE8getValueEv">getValue</a>());</td></tr>
<tr><th id="3958">3958</th><td></td></tr>
<tr><th id="3959">3959</th><td>  <i class="doc">/// Builder - This is an IRBuilder that automatically inserts new</i></td></tr>
<tr><th id="3960">3960</th><td><i class="doc">  /// instructions into the worklist when they are created.</i></td></tr>
<tr><th id="3961">3961</th><td>  <a class="type" href="../../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;<a class="type" href="../../../include/llvm/Analysis/TargetFolder.h.html#llvm::TargetFolder" title='llvm::TargetFolder' data-ref="llvm::TargetFolder" data-ref-filename="llvm..TargetFolder">TargetFolder</a>, <a class="type" href="../../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilderCallbackInserter" title='llvm::IRBuilderCallbackInserter' data-ref="llvm::IRBuilderCallbackInserter" data-ref-filename="llvm..IRBuilderCallbackInserter">IRBuilderCallbackInserter</a>&gt; <dfn class="local col2 decl" id="732Builder" title='Builder' data-type='IRBuilder&lt;llvm::TargetFolder, llvm::IRBuilderCallbackInserter&gt;' data-ref="732Builder" data-ref-filename="732Builder">Builder</dfn><a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1ERNS_11LLVMContextET_T0_PNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1ERNS_11LLVMContextET_T0_PNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1ERNS_11LLVMContextET_T0_PNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a></td></tr>
<tr><th id="3962">3962</th><td>      <a class="local col9 ref" href="#719F" title='F' data-ref="719F" data-ref-filename="719F">F</a>.<a class="ref fn" href="../../../include/llvm/IR/Function.h.html#_ZNK4llvm8Function10getContextEv" title='llvm::Function::getContext' data-ref="_ZNK4llvm8Function10getContextEv" data-ref-filename="_ZNK4llvm8Function10getContextEv">getContext</a>(), <a class="type" href="../../../include/llvm/Analysis/TargetFolder.h.html#llvm::TargetFolder" title='llvm::TargetFolder' data-ref="llvm::TargetFolder" data-ref-filename="llvm..TargetFolder">TargetFolder</a><a class="ref fn" href="../../../include/llvm/Analysis/TargetFolder.h.html#_ZN4llvm12TargetFolderC1ERKNS_10DataLayoutE" title='llvm::TargetFolder::TargetFolder' data-ref="_ZN4llvm12TargetFolderC1ERKNS_10DataLayoutE" data-ref-filename="_ZN4llvm12TargetFolderC1ERKNS_10DataLayoutE">(</a><a class="local col1 ref" href="#731DL" title='DL' data-ref="731DL" data-ref-filename="731DL">DL</a>),</td></tr>
<tr><th id="3963">3963</th><td>      <a class="type" href="../../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilderCallbackInserter" title='llvm::IRBuilderCallbackInserter' data-ref="llvm::IRBuilderCallbackInserter" data-ref-filename="llvm..IRBuilderCallbackInserter">IRBuilderCallbackInserter</a><a class="ref fn" href="../../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm25IRBuilderCallbackInserterC1ESt8functionIFvPNS_11InstructionEEE" title='llvm::IRBuilderCallbackInserter::IRBuilderCallbackInserter' data-ref="_ZN4llvm25IRBuilderCallbackInserterC1ESt8functionIFvPNS_11InstructionEEE" data-ref-filename="_ZN4llvm25IRBuilderCallbackInserterC1ESt8functionIFvPNS_11InstructionEEE">(</a><span class='tu ref fn fake' title='std::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-use='c' data-ref="_ZNSt8functionIFT_DpT0_EEC1ETL0__" data-ref-filename="_ZNSt8functionIFT_DpT0_EEC1ETL0__"></span>[&amp;<a class="local col0 ref" href="#720Worklist" title='Worklist' data-ref="720Worklist" data-ref-filename="720Worklist">Worklist</a>, &amp;<a class="local col2 ref" href="#722AC" title='AC' data-ref="722AC" data-ref-filename="722AC">AC</a>](<a class="type" href="../../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col3 decl" id="733I" title='I' data-type='llvm::Instruction *' data-ref="733I" data-ref-filename="733I">I</dfn>) {</td></tr>
<tr><th id="3964">3964</th><td>        <a class="local col0 ref" href="#720Worklist" title='Worklist' data-ref="720Worklist" data-ref-filename="720Worklist">Worklist</a>.<a class="ref fn" href="../../../include/llvm/Transforms/InstCombine/InstCombineWorklist.h.html#_ZN4llvm19InstCombineWorklist3addEPNS_11InstructionE" title='llvm::InstCombineWorklist::add' data-ref="_ZN4llvm19InstCombineWorklist3addEPNS_11InstructionE" data-ref-filename="_ZN4llvm19InstCombineWorklist3addEPNS_11InstructionE">add</a>(<a class="local col3 ref" href="#733I" title='I' data-ref="733I" data-ref-filename="733I">I</a>);</td></tr>
<tr><th id="3965">3965</th><td>        <b>if</b> (<a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch5matchEPT_RKT0_" title='llvm::PatternMatch::match' data-ref="_ZN4llvm12PatternMatch5matchEPT_RKT0_" data-ref-filename="_ZN4llvm12PatternMatch5matchEPT_RKT0_">match</a>(<a class="local col3 ref" href="#733I" title='I' data-ref="733I" data-ref-filename="733I">I</a>, <a class="ref fn" href="../../../include/llvm/IR/PatternMatch.h.html#_ZN4llvm12PatternMatch11m_IntrinsicEv" title='llvm::PatternMatch::m_Intrinsic' data-ref="_ZN4llvm12PatternMatch11m_IntrinsicEv" data-ref-filename="_ZN4llvm12PatternMatch11m_IntrinsicEv">m_Intrinsic</a>&lt;<span class="namespace">Intrinsic::</span><a class="enum" href="../../../../build/include/llvm/IR/IntrinsicEnums.inc.html#llvm::Intrinsic::assume" title='llvm::Intrinsic::assume' data-ref="llvm::Intrinsic::assume" data-ref-filename="llvm..Intrinsic..assume">assume</a>&gt;()))</td></tr>
<tr><th id="3966">3966</th><td>          <a class="local col2 ref" href="#722AC" title='AC' data-ref="722AC" data-ref-filename="722AC">AC</a>.<a class="ref fn" href="../../../include/llvm/Analysis/AssumptionCache.h.html#_ZN4llvm15AssumptionCache18registerAssumptionEPNS_8CallInstE" title='llvm::AssumptionCache::registerAssumption' data-ref="_ZN4llvm15AssumptionCache18registerAssumptionEPNS_8CallInstE" data-ref-filename="_ZN4llvm15AssumptionCache18registerAssumptionEPNS_8CallInstE">registerAssumption</a>(<a class="ref fn" href="../../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../../include/llvm/IR/Instructions.h.html#llvm::CallInst" title='llvm::CallInst' data-ref="llvm::CallInst" data-ref-filename="llvm..CallInst">CallInst</a>&gt;(<a class="local col3 ref" href="#733I" title='I' data-ref="733I" data-ref-filename="733I">I</a>));</td></tr>
<tr><th id="3967">3967</th><td>      }));</td></tr>
<tr><th id="3968">3968</th><td></td></tr>
<tr><th id="3969">3969</th><td>  <i>// Lower dbg.declare intrinsics otherwise their value may be clobbered</i></td></tr>
<tr><th id="3970">3970</th><td><i>  // by instcombiner.</i></td></tr>
<tr><th id="3971">3971</th><td>  <em>bool</em> <dfn class="local col4 decl" id="734MadeIRChange" title='MadeIRChange' data-type='bool' data-ref="734MadeIRChange" data-ref-filename="734MadeIRChange">MadeIRChange</dfn> = <b>false</b>;</td></tr>
<tr><th id="3972">3972</th><td>  <b>if</b> (<a class="ref fn fake" href="../../../include/llvm/Support/CommandLine.h.html#_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev" title='llvm::cl::opt_storage&lt;type-parameter-0-0, false, false&gt;::operator type-parameter-0-0' data-ref="_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev" data-ref-filename="_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev"></a><a class="tu ref" href="#ShouldLowerDbgDeclare" title='ShouldLowerDbgDeclare' data-use='m' data-ref="ShouldLowerDbgDeclare" data-ref-filename="ShouldLowerDbgDeclare">ShouldLowerDbgDeclare</a>)</td></tr>
<tr><th id="3973">3973</th><td>    <a class="local col4 ref" href="#734MadeIRChange" title='MadeIRChange' data-ref="734MadeIRChange" data-ref-filename="734MadeIRChange">MadeIRChange</a> = <a class="ref fn" href="../../../include/llvm/Transforms/Utils/Local.h.html#_ZN4llvm15LowerDbgDeclareERNS_8FunctionE" title='llvm::LowerDbgDeclare' data-ref="_ZN4llvm15LowerDbgDeclareERNS_8FunctionE" data-ref-filename="_ZN4llvm15LowerDbgDeclareERNS_8FunctionE">LowerDbgDeclare</a>(<span class='refarg'><a class="local col9 ref" href="#719F" title='F' data-ref="719F" data-ref-filename="719F">F</a></span>);</td></tr>
<tr><th id="3974">3974</th><td></td></tr>
<tr><th id="3975">3975</th><td>  <i>// Iterate while there is work to do.</i></td></tr>
<tr><th id="3976">3976</th><td>  <em>unsigned</em> <dfn class="local col5 decl" id="735Iteration" title='Iteration' data-type='unsigned int' data-ref="735Iteration" data-ref-filename="735Iteration">Iteration</dfn> = <var>0</var>;</td></tr>
<tr><th id="3977">3977</th><td>  <b>while</b> (<b>true</b>) {</td></tr>
<tr><th id="3978">3978</th><td>    <a class="ref fn" href="../../../include/llvm/ADT/Statistic.h.html#_ZN4llvm13NoopStatisticppEv" title='llvm::NoopStatistic::operator++' data-ref="_ZN4llvm13NoopStatisticppEv" data-ref-filename="_ZN4llvm13NoopStatisticppEv">++</a><a class="ref" href="#117" title='NumWorklistIterations' data-ref="NumWorklistIterations" data-ref-filename="NumWorklistIterations">NumWorklistIterations</a>;</td></tr>
<tr><th id="3979">3979</th><td>    ++<a class="local col5 ref" href="#735Iteration" title='Iteration' data-ref="735Iteration" data-ref-filename="735Iteration">Iteration</a>;</td></tr>
<tr><th id="3980">3980</th><td></td></tr>
<tr><th id="3981">3981</th><td>    <b>if</b> (<a class="local col5 ref" href="#735Iteration" title='Iteration' data-ref="735Iteration" data-ref-filename="735Iteration">Iteration</a> &gt; <a class="ref fn fake" href="../../../include/llvm/Support/CommandLine.h.html#_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev" title='llvm::cl::opt_storage&lt;type-parameter-0-0, false, false&gt;::operator type-parameter-0-0' data-ref="_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev" data-ref-filename="_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev"></a><a class="tu ref" href="#InfiniteLoopDetectionThreshold" title='InfiniteLoopDetectionThreshold' data-use='m' data-ref="InfiniteLoopDetectionThreshold" data-ref-filename="InfiniteLoopDetectionThreshold">InfiniteLoopDetectionThreshold</a>) {</td></tr>
<tr><th id="3982">3982</th><td>      <a class="ref fn" href="../../../include/llvm/Support/ErrorHandling.h.html#_ZN4llvm18report_fatal_errorERKNS_5TwineEb" title='llvm::report_fatal_error' data-ref="_ZN4llvm18report_fatal_errorERKNS_5TwineEb" data-ref-filename="_ZN4llvm18report_fatal_errorERKNS_5TwineEb">report_fatal_error</a>(</td></tr>
<tr><th id="3983">3983</th><td>          <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"Instruction Combining seems stuck in an infinite loop after "</q> <a class="ref fn" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvmplERKNS_5TwineES2_" title='llvm::operator+' data-ref="_ZN4llvmplERKNS_5TwineES2_" data-ref-filename="_ZN4llvmplERKNS_5TwineES2_">+</a></td></tr>
<tr><th id="3984">3984</th><td>          <a class="type" href="../../../include/llvm/ADT/Twine.h.html#llvm::Twine" title='llvm::Twine' data-ref="llvm::Twine" data-ref-filename="llvm..Twine">Twine</a><a class="ref fn" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1Ej" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1Ej" data-ref-filename="_ZN4llvm5TwineC1Ej">(</a><a class="ref fn fake" href="../../../include/llvm/Support/CommandLine.h.html#_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev" title='llvm::cl::opt_storage&lt;type-parameter-0-0, false, false&gt;::operator type-parameter-0-0' data-ref="_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev" data-ref-filename="_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev"></a><a class="tu ref" href="#InfiniteLoopDetectionThreshold" title='InfiniteLoopDetectionThreshold' data-use='m' data-ref="InfiniteLoopDetectionThreshold" data-ref-filename="InfiniteLoopDetectionThreshold">InfiniteLoopDetectionThreshold</a>) <a class="ref fn" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvmplERKNS_5TwineES2_" title='llvm::operator+' data-ref="_ZN4llvmplERKNS_5TwineES2_" data-ref-filename="_ZN4llvmplERKNS_5TwineES2_">+</a> <a class="ref fn fake" href="../../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>" iterations."</q>);</td></tr>
<tr><th id="3985">3985</th><td>    }</td></tr>
<tr><th id="3986">3986</th><td></td></tr>
<tr><th id="3987">3987</th><td>    <b>if</b> (<a class="local col5 ref" href="#735Iteration" title='Iteration' data-ref="735Iteration" data-ref-filename="735Iteration">Iteration</a> &gt; <a class="local col9 ref" href="#729MaxIterations" title='MaxIterations' data-ref="729MaxIterations" data-ref-filename="729MaxIterations">MaxIterations</a>) {</td></tr>
<tr><th id="3988">3988</th><td>      <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"\n\n[IC] Iteration limit #"</q> &lt;&lt; MaxIterations</td></tr>
<tr><th id="3989">3989</th><td>                        &lt;&lt; <q>" on "</q> &lt;&lt; F.getName()</td></tr>
<tr><th id="3990">3990</th><td>                        &lt;&lt; <q>" reached; stopping before reaching a fixpoint\n"</q>);</td></tr>
<tr><th id="3991">3991</th><td>      <b>break</b>;</td></tr>
<tr><th id="3992">3992</th><td>    }</td></tr>
<tr><th id="3993">3993</th><td></td></tr>
<tr><th id="3994">3994</th><td>    <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"\n\nINSTCOMBINE ITERATION #"</q> &lt;&lt; Iteration &lt;&lt; <q>" on "</q></td></tr>
<tr><th id="3995">3995</th><td>                      &lt;&lt; F.getName() &lt;&lt; <q>"\n"</q>);</td></tr>
<tr><th id="3996">3996</th><td></td></tr>
<tr><th id="3997">3997</th><td>    <a class="local col4 ref" href="#734MadeIRChange" title='MadeIRChange' data-ref="734MadeIRChange" data-ref-filename="734MadeIRChange">MadeIRChange</a> |= <a class="tu ref fn" href="#_ZL29prepareICWorklistFromFunctionRN4llvm8FunctionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoERNS_19InstCombineWorklistE" title='prepareICWorklistFromFunction' data-use='c' data-ref="_ZL29prepareICWorklistFromFunctionRN4llvm8FunctionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoERNS_19InstCombineWorklistE" data-ref-filename="_ZL29prepareICWorklistFromFunctionRN4llvm8FunctionERKNS_10DataLayoutEPKNS_17TargetLibraryInfoERNS_19InstCombineWorklistE">prepareICWorklistFromFunction</a>(<span class='refarg'><a class="local col9 ref" href="#719F" title='F' data-ref="719F" data-ref-filename="719F">F</a></span>, <a class="local col1 ref" href="#731DL" title='DL' data-ref="731DL" data-ref-filename="731DL">DL</a>, &amp;<a class="local col3 ref" href="#723TLI" title='TLI' data-ref="723TLI" data-ref-filename="723TLI">TLI</a>, <span class='refarg'><a class="local col0 ref" href="#720Worklist" title='Worklist' data-ref="720Worklist" data-ref-filename="720Worklist">Worklist</a></span>);</td></tr>
<tr><th id="3998">3998</th><td></td></tr>
<tr><th id="3999">3999</th><td>    <a class="type" href="InstCombineInternal.h.html#llvm::InstCombinerImpl" title='llvm::InstCombinerImpl' data-ref="llvm::InstCombinerImpl" data-ref-filename="llvm..InstCombinerImpl">InstCombinerImpl</a> <dfn class="local col6 decl" id="736IC" title='IC' data-type='llvm::InstCombinerImpl' data-ref="736IC" data-ref-filename="736IC">IC</dfn><a class="ref fn" href="InstCombineInternal.h.html#_ZN4llvm16InstCombinerImplC1ERNS_19InstCombineWorklistERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEEbPNS_9AAResultsERNS_15Assumpt7195462" title='llvm::InstCombinerImpl::InstCombinerImpl' data-ref="_ZN4llvm16InstCombinerImplC1ERNS_19InstCombineWorklistERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEEbPNS_9AAResultsERNS_15Assumpt7195462" data-ref-filename="_ZN4llvm16InstCombinerImplC1ERNS_19InstCombineWorklistERNS_9IRBuilderINS_12TargetFolderENS_25IRBuilderCallbackInserterEEEbPNS_9AAResultsERNS_15Assumpt7195462">(</a><a class="local col0 ref" href="#720Worklist" title='Worklist' data-ref="720Worklist" data-ref-filename="720Worklist">Worklist</a>, <a class="local col2 ref" href="#732Builder" title='Builder' data-ref="732Builder" data-ref-filename="732Builder">Builder</a>, <a class="local col9 ref" href="#719F" title='F' data-ref="719F" data-ref-filename="719F">F</a>.<a class="ref fn" href="../../../include/llvm/IR/Function.h.html#_ZNK4llvm8Function10hasMinSizeEv" title='llvm::Function::hasMinSize' data-ref="_ZNK4llvm8Function10hasMinSizeEv" data-ref-filename="_ZNK4llvm8Function10hasMinSizeEv">hasMinSize</a>(), <a class="local col1 ref" href="#721AA" title='AA' data-ref="721AA" data-ref-filename="721AA">AA</a>, <a class="local col2 ref" href="#722AC" title='AC' data-ref="722AC" data-ref-filename="722AC">AC</a>, <a class="local col3 ref" href="#723TLI" title='TLI' data-ref="723TLI" data-ref-filename="723TLI">TLI</a>, <a class="local col4 ref" href="#724TTI" title='TTI' data-ref="724TTI" data-ref-filename="724TTI">TTI</a>, <a class="local col5 ref" href="#725DT" title='DT' data-ref="725DT" data-ref-filename="725DT">DT</a>,</td></tr>
<tr><th id="4000">4000</th><td>                        <a class="local col6 ref" href="#726ORE" title='ORE' data-ref="726ORE" data-ref-filename="726ORE">ORE</a>, <a class="local col7 ref" href="#727BFI" title='BFI' data-ref="727BFI" data-ref-filename="727BFI">BFI</a>, <a class="local col8 ref" href="#728PSI" title='PSI' data-ref="728PSI" data-ref-filename="728PSI">PSI</a>, <a class="local col1 ref" href="#731DL" title='DL' data-ref="731DL" data-ref-filename="731DL">DL</a>, <a class="local col0 ref" href="#730LI" title='LI' data-ref="730LI" data-ref-filename="730LI">LI</a>);</td></tr>
<tr><th id="4001">4001</th><td>    <a class="local col6 ref" href="#736IC" title='IC' data-ref="736IC" data-ref-filename="736IC">IC</a>.<a class="ref field" href="../../../include/llvm/Transforms/InstCombine/InstCombiner.h.html#llvm::InstCombiner::MaxArraySizeForCombine" title='llvm::InstCombiner::MaxArraySizeForCombine' data-ref="llvm::InstCombiner::MaxArraySizeForCombine" data-ref-filename="llvm..InstCombiner..MaxArraySizeForCombine">MaxArraySizeForCombine</a> = <a class="ref fn fake" href="../../../include/llvm/Support/CommandLine.h.html#_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev" title='llvm::cl::opt_storage&lt;type-parameter-0-0, false, false&gt;::operator type-parameter-0-0' data-ref="_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev" data-ref-filename="_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev"></a><a class="tu ref" href="#MaxArraySize" title='MaxArraySize' data-use='m' data-ref="MaxArraySize" data-ref-filename="MaxArraySize">MaxArraySize</a>;</td></tr>
<tr><th id="4002">4002</th><td></td></tr>
<tr><th id="4003">4003</th><td>    <b>if</b> (!<a class="local col6 ref" href="#736IC" title='IC' data-ref="736IC" data-ref-filename="736IC">IC</a>.<a class="ref fn" href="#_ZN4llvm16InstCombinerImpl3runEv" title='llvm::InstCombinerImpl::run' data-ref="_ZN4llvm16InstCombinerImpl3runEv" data-ref-filename="_ZN4llvm16InstCombinerImpl3runEv">run</a>())</td></tr>
<tr><th id="4004">4004</th><td>      <b>break</b>;</td></tr>
<tr><th id="4005">4005</th><td></td></tr>
<tr><th id="4006">4006</th><td>    <a class="local col4 ref" href="#734MadeIRChange" title='MadeIRChange' data-ref="734MadeIRChange" data-ref-filename="734MadeIRChange">MadeIRChange</a> = <b>true</b>;</td></tr>
<tr><th id="4007">4007</th><td>  }</td></tr>
<tr><th id="4008">4008</th><td></td></tr>
<tr><th id="4009">4009</th><td>  <b>return</b> <a class="local col4 ref" href="#734MadeIRChange" title='MadeIRChange' data-ref="734MadeIRChange" data-ref-filename="734MadeIRChange">MadeIRChange</a>;</td></tr>
<tr><th id="4010">4010</th><td>}</td></tr>
<tr><th id="4011">4011</th><td></td></tr>
<tr><th id="4012">4012</th><td><a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstCombinePass" title='llvm::InstCombinePass' data-ref="llvm::InstCombinePass" data-ref-filename="llvm..InstCombinePass">InstCombinePass</a>::<dfn class="decl def fn" id="_ZN4llvm15InstCombinePassC1Ev" title='llvm::InstCombinePass::InstCombinePass' data-ref="_ZN4llvm15InstCombinePassC1Ev" data-ref-filename="_ZN4llvm15InstCombinePassC1Ev">InstCombinePass</dfn>() : <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstCombinePass::MaxIterations" title='llvm::InstCombinePass::MaxIterations' data-ref="llvm::InstCombinePass::MaxIterations" data-ref-filename="llvm..InstCombinePass..MaxIterations">MaxIterations</a>(<a class="ref fn fake" href="../../../include/llvm/Support/CommandLine.h.html#_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev" title='llvm::cl::opt_storage&lt;type-parameter-0-0, false, false&gt;::operator type-parameter-0-0' data-ref="_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev" data-ref-filename="_ZNK4llvm2cl11opt_storageIT_Lb0ELb0EEcvS2_Ev"></a><a class="tu ref" href="#LimitMaxIterations" title='LimitMaxIterations' data-use='m' data-ref="LimitMaxIterations" data-ref-filename="LimitMaxIterations">LimitMaxIterations</a>) {}</td></tr>
<tr><th id="4013">4013</th><td></td></tr>
<tr><th id="4014">4014</th><td><a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstCombinePass" title='llvm::InstCombinePass' data-ref="llvm::InstCombinePass" data-ref-filename="llvm..InstCombinePass">InstCombinePass</a>::<dfn class="decl def fn" id="_ZN4llvm15InstCombinePassC1Ej" title='llvm::InstCombinePass::InstCombinePass' data-ref="_ZN4llvm15InstCombinePassC1Ej" data-ref-filename="_ZN4llvm15InstCombinePassC1Ej">InstCombinePass</dfn>(<em>unsigned</em> <dfn class="local col7 decl" id="737MaxIterations" title='MaxIterations' data-type='unsigned int' data-ref="737MaxIterations" data-ref-filename="737MaxIterations">MaxIterations</dfn>)</td></tr>
<tr><th id="4015">4015</th><td>    : <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstCombinePass::MaxIterations" title='llvm::InstCombinePass::MaxIterations' data-ref="llvm::InstCombinePass::MaxIterations" data-ref-filename="llvm..InstCombinePass..MaxIterations">MaxIterations</a>(<a class="local col7 ref" href="#737MaxIterations" title='MaxIterations' data-ref="737MaxIterations" data-ref-filename="737MaxIterations">MaxIterations</a>) {}</td></tr>
<tr><th id="4016">4016</th><td></td></tr>
<tr><th id="4017">4017</th><td><a class="type" href="../../../include/llvm/IR/PassManager.h.html#llvm::PreservedAnalyses" title='llvm::PreservedAnalyses' data-ref="llvm::PreservedAnalyses" data-ref-filename="llvm..PreservedAnalyses">PreservedAnalyses</a> <a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstCombinePass" title='llvm::InstCombinePass' data-ref="llvm::InstCombinePass" data-ref-filename="llvm..InstCombinePass">InstCombinePass</a>::<dfn class="decl def fn" id="_ZN4llvm15InstCombinePass3runERNS_8FunctionERNS_15AnalysisManagerIS1_JEEE" title='llvm::InstCombinePass::run' data-ref="_ZN4llvm15InstCombinePass3runERNS_8FunctionERNS_15AnalysisManagerIS1_JEEE" data-ref-filename="_ZN4llvm15InstCombinePass3runERNS_8FunctionERNS_15AnalysisManagerIS1_JEEE">run</dfn>(<a class="type" href="../../../include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> &amp;<dfn class="local col8 decl" id="738F" title='F' data-type='llvm::Function &amp;' data-ref="738F" data-ref-filename="738F">F</dfn>,</td></tr>
<tr><th id="4018">4018</th><td>                                       <a class="typedef" href="../../../include/llvm/IR/PassManager.h.html#llvm::FunctionAnalysisManager" title='llvm::FunctionAnalysisManager' data-type='AnalysisManager&lt;llvm::Function&gt;' data-ref="llvm::FunctionAnalysisManager" data-ref-filename="llvm..FunctionAnalysisManager">FunctionAnalysisManager</a> &amp;<dfn class="local col9 decl" id="739AM" title='AM' data-type='llvm::FunctionAnalysisManager &amp;' data-ref="739AM" data-ref-filename="739AM">AM</dfn>) {</td></tr>
<tr><th id="4019">4019</th><td>  <em>auto</em> &amp;<dfn class="local col0 decl" id="740AC" title='AC' data-type='llvm::AssumptionCache &amp;' data-ref="740AC" data-ref-filename="740AC">AC</dfn> = <a class="local col9 ref" href="#739AM" title='AM' data-ref="739AM" data-ref-filename="739AM">AM</a>.<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZN4llvm15AnalysisManager9getResultERT_DpT0_" title='llvm::AnalysisManager::getResult' data-ref="_ZN4llvm15AnalysisManager9getResultERT_DpT0_" data-ref-filename="_ZN4llvm15AnalysisManager9getResultERT_DpT0_">getResult</a>&lt;<a class="type" href="../../../include/llvm/Analysis/AssumptionCache.h.html#llvm::AssumptionAnalysis" title='llvm::AssumptionAnalysis' data-ref="llvm::AssumptionAnalysis" data-ref-filename="llvm..AssumptionAnalysis">AssumptionAnalysis</a>&gt;(<span class='refarg'><a class="local col8 ref" href="#738F" title='F' data-ref="738F" data-ref-filename="738F">F</a></span>);</td></tr>
<tr><th id="4020">4020</th><td>  <em>auto</em> &amp;<dfn class="local col1 decl" id="741DT" title='DT' data-type='llvm::DominatorTree &amp;' data-ref="741DT" data-ref-filename="741DT">DT</dfn> = <a class="local col9 ref" href="#739AM" title='AM' data-ref="739AM" data-ref-filename="739AM">AM</a>.<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZN4llvm15AnalysisManager9getResultERT_DpT0_" title='llvm::AnalysisManager::getResult' data-ref="_ZN4llvm15AnalysisManager9getResultERT_DpT0_" data-ref-filename="_ZN4llvm15AnalysisManager9getResultERT_DpT0_">getResult</a>&lt;<a class="type" href="../../../include/llvm/IR/Dominators.h.html#llvm::DominatorTreeAnalysis" title='llvm::DominatorTreeAnalysis' data-ref="llvm::DominatorTreeAnalysis" data-ref-filename="llvm..DominatorTreeAnalysis">DominatorTreeAnalysis</a>&gt;(<span class='refarg'><a class="local col8 ref" href="#738F" title='F' data-ref="738F" data-ref-filename="738F">F</a></span>);</td></tr>
<tr><th id="4021">4021</th><td>  <em>auto</em> &amp;<dfn class="local col2 decl" id="742TLI" title='TLI' data-type='llvm::TargetLibraryInfo &amp;' data-ref="742TLI" data-ref-filename="742TLI">TLI</dfn> = <a class="local col9 ref" href="#739AM" title='AM' data-ref="739AM" data-ref-filename="739AM">AM</a>.<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZN4llvm15AnalysisManager9getResultERT_DpT0_" title='llvm::AnalysisManager::getResult' data-ref="_ZN4llvm15AnalysisManager9getResultERT_DpT0_" data-ref-filename="_ZN4llvm15AnalysisManager9getResultERT_DpT0_">getResult</a>&lt;<a class="type" href="../../../include/llvm/Analysis/TargetLibraryInfo.h.html#llvm::TargetLibraryAnalysis" title='llvm::TargetLibraryAnalysis' data-ref="llvm::TargetLibraryAnalysis" data-ref-filename="llvm..TargetLibraryAnalysis">TargetLibraryAnalysis</a>&gt;(<span class='refarg'><a class="local col8 ref" href="#738F" title='F' data-ref="738F" data-ref-filename="738F">F</a></span>);</td></tr>
<tr><th id="4022">4022</th><td>  <em>auto</em> &amp;<dfn class="local col3 decl" id="743ORE" title='ORE' data-type='llvm::OptimizationRemarkEmitter &amp;' data-ref="743ORE" data-ref-filename="743ORE">ORE</dfn> = <a class="local col9 ref" href="#739AM" title='AM' data-ref="739AM" data-ref-filename="739AM">AM</a>.<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZN4llvm15AnalysisManager9getResultERT_DpT0_" title='llvm::AnalysisManager::getResult' data-ref="_ZN4llvm15AnalysisManager9getResultERT_DpT0_" data-ref-filename="_ZN4llvm15AnalysisManager9getResultERT_DpT0_">getResult</a>&lt;<a class="type" href="../../../include/llvm/Analysis/OptimizationRemarkEmitter.h.html#llvm::OptimizationRemarkEmitterAnalysis" title='llvm::OptimizationRemarkEmitterAnalysis' data-ref="llvm::OptimizationRemarkEmitterAnalysis" data-ref-filename="llvm..OptimizationRemarkEmitterAnalysis">OptimizationRemarkEmitterAnalysis</a>&gt;(<span class='refarg'><a class="local col8 ref" href="#738F" title='F' data-ref="738F" data-ref-filename="738F">F</a></span>);</td></tr>
<tr><th id="4023">4023</th><td>  <em>auto</em> &amp;<dfn class="local col4 decl" id="744TTI" title='TTI' data-type='llvm::TargetTransformInfo &amp;' data-ref="744TTI" data-ref-filename="744TTI">TTI</dfn> = <a class="local col9 ref" href="#739AM" title='AM' data-ref="739AM" data-ref-filename="739AM">AM</a>.<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZN4llvm15AnalysisManager9getResultERT_DpT0_" title='llvm::AnalysisManager::getResult' data-ref="_ZN4llvm15AnalysisManager9getResultERT_DpT0_" data-ref-filename="_ZN4llvm15AnalysisManager9getResultERT_DpT0_">getResult</a>&lt;<a class="type" href="../../../include/llvm/Analysis/TargetTransformInfo.h.html#llvm::TargetIRAnalysis" title='llvm::TargetIRAnalysis' data-ref="llvm::TargetIRAnalysis" data-ref-filename="llvm..TargetIRAnalysis">TargetIRAnalysis</a>&gt;(<span class='refarg'><a class="local col8 ref" href="#738F" title='F' data-ref="738F" data-ref-filename="738F">F</a></span>);</td></tr>
<tr><th id="4024">4024</th><td></td></tr>
<tr><th id="4025">4025</th><td>  <em>auto</em> *<dfn class="local col5 decl" id="745LI" title='LI' data-type='llvm::LoopInfo *' data-ref="745LI" data-ref-filename="745LI">LI</dfn> = <a class="local col9 ref" href="#739AM" title='AM' data-ref="739AM" data-ref-filename="739AM">AM</a>.<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZNK4llvm15AnalysisManager15getCachedResultERT_" title='llvm::AnalysisManager::getCachedResult' data-ref="_ZNK4llvm15AnalysisManager15getCachedResultERT_" data-ref-filename="_ZNK4llvm15AnalysisManager15getCachedResultERT_">getCachedResult</a>&lt;<a class="type" href="../../../include/llvm/Analysis/LoopInfo.h.html#llvm::LoopAnalysis" title='llvm::LoopAnalysis' data-ref="llvm::LoopAnalysis" data-ref-filename="llvm..LoopAnalysis">LoopAnalysis</a>&gt;(<span class='refarg'><a class="local col8 ref" href="#738F" title='F' data-ref="738F" data-ref-filename="738F">F</a></span>);</td></tr>
<tr><th id="4026">4026</th><td></td></tr>
<tr><th id="4027">4027</th><td>  <em>auto</em> *<dfn class="local col6 decl" id="746AA" title='AA' data-type='llvm::AAResults *' data-ref="746AA" data-ref-filename="746AA">AA</dfn> = &amp;<a class="local col9 ref" href="#739AM" title='AM' data-ref="739AM" data-ref-filename="739AM">AM</a>.<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZN4llvm15AnalysisManager9getResultERT_DpT0_" title='llvm::AnalysisManager::getResult' data-ref="_ZN4llvm15AnalysisManager9getResultERT_DpT0_" data-ref-filename="_ZN4llvm15AnalysisManager9getResultERT_DpT0_">getResult</a>&lt;<a class="type" href="../../../include/llvm/Analysis/AliasAnalysis.h.html#llvm::AAManager" title='llvm::AAManager' data-ref="llvm::AAManager" data-ref-filename="llvm..AAManager">AAManager</a>&gt;(<span class='refarg'><a class="local col8 ref" href="#738F" title='F' data-ref="738F" data-ref-filename="738F">F</a></span>);</td></tr>
<tr><th id="4028">4028</th><td>  <em>auto</em> &amp;<dfn class="local col7 decl" id="747MAMProxy" title='MAMProxy' data-type='llvm::OuterAnalysisManagerProxy&lt;llvm::AnalysisManager&lt;llvm::Module&gt;, llvm::Function&gt;::Result &amp;' data-ref="747MAMProxy" data-ref-filename="747MAMProxy">MAMProxy</dfn> = <a class="local col9 ref" href="#739AM" title='AM' data-ref="739AM" data-ref-filename="739AM">AM</a>.<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZN4llvm15AnalysisManager9getResultERT_DpT0_" title='llvm::AnalysisManager::getResult' data-ref="_ZN4llvm15AnalysisManager9getResultERT_DpT0_" data-ref-filename="_ZN4llvm15AnalysisManager9getResultERT_DpT0_">getResult</a>&lt;<a class="typedef" href="../../../include/llvm/IR/PassManager.h.html#llvm::ModuleAnalysisManagerFunctionProxy" title='llvm::ModuleAnalysisManagerFunctionProxy' data-type='OuterAnalysisManagerProxy&lt;llvm::ModuleAnalysisManager, llvm::Function&gt;' data-ref="llvm::ModuleAnalysisManagerFunctionProxy" data-ref-filename="llvm..ModuleAnalysisManagerFunctionProxy">ModuleAnalysisManagerFunctionProxy</a>&gt;(<span class='refarg'><a class="local col8 ref" href="#738F" title='F' data-ref="738F" data-ref-filename="738F">F</a></span>);</td></tr>
<tr><th id="4029">4029</th><td>  <a class="type" href="../../../include/llvm/Analysis/ProfileSummaryInfo.h.html#llvm::ProfileSummaryInfo" title='llvm::ProfileSummaryInfo' data-ref="llvm::ProfileSummaryInfo" data-ref-filename="llvm..ProfileSummaryInfo">ProfileSummaryInfo</a> *<dfn class="local col8 decl" id="748PSI" title='PSI' data-type='llvm::ProfileSummaryInfo *' data-ref="748PSI" data-ref-filename="748PSI">PSI</dfn> =</td></tr>
<tr><th id="4030">4030</th><td>      <a class="local col7 ref" href="#747MAMProxy" title='MAMProxy' data-ref="747MAMProxy" data-ref-filename="747MAMProxy">MAMProxy</a>.<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZNK4llvm25OuterAnalysisManagerProxy6Result15getCachedResultERTL0_0_" title='llvm::OuterAnalysisManagerProxy::Result::getCachedResult' data-ref="_ZNK4llvm25OuterAnalysisManagerProxy6Result15getCachedResultERTL0_0_" data-ref-filename="_ZNK4llvm25OuterAnalysisManagerProxy6Result15getCachedResultERTL0_0_">getCachedResult</a>&lt;<a class="type" href="../../../include/llvm/Analysis/ProfileSummaryInfo.h.html#llvm::ProfileSummaryAnalysis" title='llvm::ProfileSummaryAnalysis' data-ref="llvm::ProfileSummaryAnalysis" data-ref-filename="llvm..ProfileSummaryAnalysis">ProfileSummaryAnalysis</a>&gt;(<span class='refarg'>*<a class="local col8 ref" href="#738F" title='F' data-ref="738F" data-ref-filename="738F">F</a>.<a class="ref fn" href="../../../include/llvm/IR/GlobalValue.h.html#_ZN4llvm11GlobalValue9getParentEv" title='llvm::GlobalValue::getParent' data-ref="_ZN4llvm11GlobalValue9getParentEv" data-ref-filename="_ZN4llvm11GlobalValue9getParentEv">getParent</a>()</span>);</td></tr>
<tr><th id="4031">4031</th><td>  <em>auto</em> *<dfn class="local col9 decl" id="749BFI" title='BFI' data-type='llvm::BlockFrequencyInfo *' data-ref="749BFI" data-ref-filename="749BFI">BFI</dfn> = (<a class="local col8 ref" href="#748PSI" title='PSI' data-ref="748PSI" data-ref-filename="748PSI">PSI</a> &amp;&amp; <a class="local col8 ref" href="#748PSI" title='PSI' data-ref="748PSI" data-ref-filename="748PSI">PSI</a>-&gt;<a class="ref fn" href="../../../include/llvm/Analysis/ProfileSummaryInfo.h.html#_ZNK4llvm18ProfileSummaryInfo17hasProfileSummaryEv" title='llvm::ProfileSummaryInfo::hasProfileSummary' data-ref="_ZNK4llvm18ProfileSummaryInfo17hasProfileSummaryEv" data-ref-filename="_ZNK4llvm18ProfileSummaryInfo17hasProfileSummaryEv">hasProfileSummary</a>()) ?</td></tr>
<tr><th id="4032">4032</th><td>      &amp;<a class="local col9 ref" href="#739AM" title='AM' data-ref="739AM" data-ref-filename="739AM">AM</a>.<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZN4llvm15AnalysisManager9getResultERT_DpT0_" title='llvm::AnalysisManager::getResult' data-ref="_ZN4llvm15AnalysisManager9getResultERT_DpT0_" data-ref-filename="_ZN4llvm15AnalysisManager9getResultERT_DpT0_">getResult</a>&lt;<a class="type" href="../../../include/llvm/Analysis/BlockFrequencyInfo.h.html#llvm::BlockFrequencyAnalysis" title='llvm::BlockFrequencyAnalysis' data-ref="llvm::BlockFrequencyAnalysis" data-ref-filename="llvm..BlockFrequencyAnalysis">BlockFrequencyAnalysis</a>&gt;(<span class='refarg'><a class="local col8 ref" href="#738F" title='F' data-ref="738F" data-ref-filename="738F">F</a></span>) : <b>nullptr</b>;</td></tr>
<tr><th id="4033">4033</th><td></td></tr>
<tr><th id="4034">4034</th><td>  <b>if</b> (!<a class="tu ref fn" href="#_ZL31combineInstructionsOverFunctionRN4llvm8FunctionERNS_19InstCombineWorklistEPNS_9AAResultsERNS_15AssumptionCacheERNS_17TargetLibraryInfoERNS_19Targ12081709" title='combineInstructionsOverFunction' data-use='c' data-ref="_ZL31combineInstructionsOverFunctionRN4llvm8FunctionERNS_19InstCombineWorklistEPNS_9AAResultsERNS_15AssumptionCacheERNS_17TargetLibraryInfoERNS_19Targ12081709" data-ref-filename="_ZL31combineInstructionsOverFunctionRN4llvm8FunctionERNS_19InstCombineWorklistEPNS_9AAResultsERNS_15AssumptionCacheERNS_17TargetLibraryInfoERNS_19Targ12081709">combineInstructionsOverFunction</a>(<span class='refarg'><a class="local col8 ref" href="#738F" title='F' data-ref="738F" data-ref-filename="738F">F</a></span>, <span class='refarg'><a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstCombinePass::Worklist" title='llvm::InstCombinePass::Worklist' data-ref="llvm::InstCombinePass::Worklist" data-ref-filename="llvm..InstCombinePass..Worklist">Worklist</a></span>, <a class="local col6 ref" href="#746AA" title='AA' data-ref="746AA" data-ref-filename="746AA">AA</a>, <span class='refarg'><a class="local col0 ref" href="#740AC" title='AC' data-ref="740AC" data-ref-filename="740AC">AC</a></span>, <span class='refarg'><a class="local col2 ref" href="#742TLI" title='TLI' data-ref="742TLI" data-ref-filename="742TLI">TLI</a></span>, <span class='refarg'><a class="local col4 ref" href="#744TTI" title='TTI' data-ref="744TTI" data-ref-filename="744TTI">TTI</a></span>, <span class='refarg'><a class="local col1 ref" href="#741DT" title='DT' data-ref="741DT" data-ref-filename="741DT">DT</a></span>, <span class='refarg'><a class="local col3 ref" href="#743ORE" title='ORE' data-ref="743ORE" data-ref-filename="743ORE">ORE</a></span>,</td></tr>
<tr><th id="4035">4035</th><td>                                       <a class="local col9 ref" href="#749BFI" title='BFI' data-ref="749BFI" data-ref-filename="749BFI">BFI</a>, <a class="local col8 ref" href="#748PSI" title='PSI' data-ref="748PSI" data-ref-filename="748PSI">PSI</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstCombinePass::MaxIterations" title='llvm::InstCombinePass::MaxIterations' data-ref="llvm::InstCombinePass::MaxIterations" data-ref-filename="llvm..InstCombinePass..MaxIterations">MaxIterations</a>, <a class="local col5 ref" href="#745LI" title='LI' data-ref="745LI" data-ref-filename="745LI">LI</a>))</td></tr>
<tr><th id="4036">4036</th><td>    <i>// No changes, all analyses are preserved.</i></td></tr>
<tr><th id="4037">4037</th><td>    <b>return</b> <a class="type" href="../../../include/llvm/IR/PassManager.h.html#llvm::PreservedAnalyses" title='llvm::PreservedAnalyses' data-ref="llvm::PreservedAnalyses" data-ref-filename="llvm..PreservedAnalyses">PreservedAnalyses</a>::<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZN4llvm17PreservedAnalyses3allEv" title='llvm::PreservedAnalyses::all' data-ref="_ZN4llvm17PreservedAnalyses3allEv" data-ref-filename="_ZN4llvm17PreservedAnalyses3allEv">all</a>();</td></tr>
<tr><th id="4038">4038</th><td></td></tr>
<tr><th id="4039">4039</th><td>  <i>// Mark all the analyses that instcombine updates as preserved.</i></td></tr>
<tr><th id="4040">4040</th><td>  <a class="type" href="../../../include/llvm/IR/PassManager.h.html#llvm::PreservedAnalyses" title='llvm::PreservedAnalyses' data-ref="llvm::PreservedAnalyses" data-ref-filename="llvm..PreservedAnalyses">PreservedAnalyses</a> <a class="ref fn fake" href="../../../include/llvm/IR/PassManager.h.html#155" title='llvm::PreservedAnalyses::PreservedAnalyses' data-ref="_ZN4llvm17PreservedAnalysesC1Ev" data-ref-filename="_ZN4llvm17PreservedAnalysesC1Ev"></a><dfn class="local col0 decl" id="750PA" title='PA' data-type='llvm::PreservedAnalyses' data-ref="750PA" data-ref-filename="750PA">PA</dfn>;</td></tr>
<tr><th id="4041">4041</th><td>  <a class="local col0 ref" href="#750PA" title='PA' data-ref="750PA" data-ref-filename="750PA">PA</a>.<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZN4llvm17PreservedAnalyses11preserveSetEv" title='llvm::PreservedAnalyses::preserveSet' data-ref="_ZN4llvm17PreservedAnalyses11preserveSetEv" data-ref-filename="_ZN4llvm17PreservedAnalyses11preserveSetEv">preserveSet</a>&lt;<a class="type" href="../../../include/llvm/IR/PassManager.h.html#llvm::CFGAnalyses" title='llvm::CFGAnalyses' data-ref="llvm::CFGAnalyses" data-ref-filename="llvm..CFGAnalyses">CFGAnalyses</a>&gt;();</td></tr>
<tr><th id="4042">4042</th><td>  <a class="local col0 ref" href="#750PA" title='PA' data-ref="750PA" data-ref-filename="750PA">PA</a>.<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZN4llvm17PreservedAnalyses8preserveEv" title='llvm::PreservedAnalyses::preserve' data-ref="_ZN4llvm17PreservedAnalyses8preserveEv" data-ref-filename="_ZN4llvm17PreservedAnalyses8preserveEv">preserve</a>&lt;<a class="type" href="../../../include/llvm/Analysis/AliasAnalysis.h.html#llvm::AAManager" title='llvm::AAManager' data-ref="llvm::AAManager" data-ref-filename="llvm..AAManager">AAManager</a>&gt;();</td></tr>
<tr><th id="4043">4043</th><td>  <a class="local col0 ref" href="#750PA" title='PA' data-ref="750PA" data-ref-filename="750PA">PA</a>.<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZN4llvm17PreservedAnalyses8preserveEv" title='llvm::PreservedAnalyses::preserve' data-ref="_ZN4llvm17PreservedAnalyses8preserveEv" data-ref-filename="_ZN4llvm17PreservedAnalyses8preserveEv">preserve</a>&lt;<a class="type" href="../../../include/llvm/Analysis/BasicAliasAnalysis.h.html#llvm::BasicAA" title='llvm::BasicAA' data-ref="llvm::BasicAA" data-ref-filename="llvm..BasicAA">BasicAA</a>&gt;();</td></tr>
<tr><th id="4044">4044</th><td>  <a class="local col0 ref" href="#750PA" title='PA' data-ref="750PA" data-ref-filename="750PA">PA</a>.<a class="ref fn" href="../../../include/llvm/IR/PassManager.h.html#_ZN4llvm17PreservedAnalyses8preserveEv" title='llvm::PreservedAnalyses::preserve' data-ref="_ZN4llvm17PreservedAnalyses8preserveEv" data-ref-filename="_ZN4llvm17PreservedAnalyses8preserveEv">preserve</a>&lt;<a class="type" href="../../../include/llvm/Analysis/GlobalsModRef.h.html#llvm::GlobalsAA" title='llvm::GlobalsAA' data-ref="llvm::GlobalsAA" data-ref-filename="llvm..GlobalsAA">GlobalsAA</a>&gt;();</td></tr>
<tr><th id="4045">4045</th><td>  <b>return</b> <a class="local col0 ref" href="#750PA" title='PA' data-ref="750PA" data-ref-filename="750PA">PA</a>;</td></tr>
<tr><th id="4046">4046</th><td>}</td></tr>
<tr><th id="4047">4047</th><td></td></tr>
<tr><th id="4048">4048</th><td><em>void</em> <a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstructionCombiningPass" title='llvm::InstructionCombiningPass' data-ref="llvm::InstructionCombiningPass" data-ref-filename="llvm..InstructionCombiningPass">InstructionCombiningPass</a>::<dfn class="virtual decl def fn" id="_ZNK4llvm24InstructionCombiningPass16getAnalysisUsageERNS_13AnalysisUsageE" title='llvm::InstructionCombiningPass::getAnalysisUsage' data-ref="_ZNK4llvm24InstructionCombiningPass16getAnalysisUsageERNS_13AnalysisUsageE" data-ref-filename="_ZNK4llvm24InstructionCombiningPass16getAnalysisUsageERNS_13AnalysisUsageE">getAnalysisUsage</dfn>(<a class="type" href="../../../include/llvm/PassAnalysisSupport.h.html#llvm::AnalysisUsage" title='llvm::AnalysisUsage' data-ref="llvm::AnalysisUsage" data-ref-filename="llvm..AnalysisUsage">AnalysisUsage</a> &amp;<dfn class="local col1 decl" id="751AU" title='AU' data-type='llvm::AnalysisUsage &amp;' data-ref="751AU" data-ref-filename="751AU">AU</dfn>) <em>const</em> {</td></tr>
<tr><th id="4049">4049</th><td>  <a class="local col1 ref" href="#751AU" title='AU' data-ref="751AU" data-ref-filename="751AU">AU</a>.<a class="ref fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZN4llvm13AnalysisUsage15setPreservesCFGEv" title='llvm::AnalysisUsage::setPreservesCFG' data-ref="_ZN4llvm13AnalysisUsage15setPreservesCFGEv" data-ref-filename="_ZN4llvm13AnalysisUsage15setPreservesCFGEv">setPreservesCFG</a>();</td></tr>
<tr><th id="4050">4050</th><td>  <a class="local col1 ref" href="#751AU" title='AU' data-ref="751AU" data-ref-filename="751AU">AU</a>.<a class="ref fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZN4llvm13AnalysisUsage11addRequiredEv" title='llvm::AnalysisUsage::addRequired' data-ref="_ZN4llvm13AnalysisUsage11addRequiredEv" data-ref-filename="_ZN4llvm13AnalysisUsage11addRequiredEv">addRequired</a>&lt;<a class="type" href="../../../include/llvm/Analysis/AliasAnalysis.h.html#llvm::AAResultsWrapperPass" title='llvm::AAResultsWrapperPass' data-ref="llvm::AAResultsWrapperPass" data-ref-filename="llvm..AAResultsWrapperPass">AAResultsWrapperPass</a>&gt;();</td></tr>
<tr><th id="4051">4051</th><td>  <a class="local col1 ref" href="#751AU" title='AU' data-ref="751AU" data-ref-filename="751AU">AU</a>.<a class="ref fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZN4llvm13AnalysisUsage11addRequiredEv" title='llvm::AnalysisUsage::addRequired' data-ref="_ZN4llvm13AnalysisUsage11addRequiredEv" data-ref-filename="_ZN4llvm13AnalysisUsage11addRequiredEv">addRequired</a>&lt;<a class="type" href="../../../include/llvm/Analysis/AssumptionCache.h.html#llvm::AssumptionCacheTracker" title='llvm::AssumptionCacheTracker' data-ref="llvm::AssumptionCacheTracker" data-ref-filename="llvm..AssumptionCacheTracker">AssumptionCacheTracker</a>&gt;();</td></tr>
<tr><th id="4052">4052</th><td>  <a class="local col1 ref" href="#751AU" title='AU' data-ref="751AU" data-ref-filename="751AU">AU</a>.<a class="ref fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZN4llvm13AnalysisUsage11addRequiredEv" title='llvm::AnalysisUsage::addRequired' data-ref="_ZN4llvm13AnalysisUsage11addRequiredEv" data-ref-filename="_ZN4llvm13AnalysisUsage11addRequiredEv">addRequired</a>&lt;<a class="type" href="../../../include/llvm/Analysis/TargetLibraryInfo.h.html#llvm::TargetLibraryInfoWrapperPass" title='llvm::TargetLibraryInfoWrapperPass' data-ref="llvm::TargetLibraryInfoWrapperPass" data-ref-filename="llvm..TargetLibraryInfoWrapperPass">TargetLibraryInfoWrapperPass</a>&gt;();</td></tr>
<tr><th id="4053">4053</th><td>  <a class="local col1 ref" href="#751AU" title='AU' data-ref="751AU" data-ref-filename="751AU">AU</a>.<a class="ref fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZN4llvm13AnalysisUsage11addRequiredEv" title='llvm::AnalysisUsage::addRequired' data-ref="_ZN4llvm13AnalysisUsage11addRequiredEv" data-ref-filename="_ZN4llvm13AnalysisUsage11addRequiredEv">addRequired</a>&lt;<a class="type" href="../../../include/llvm/Analysis/TargetTransformInfo.h.html#llvm::TargetTransformInfoWrapperPass" title='llvm::TargetTransformInfoWrapperPass' data-ref="llvm::TargetTransformInfoWrapperPass" data-ref-filename="llvm..TargetTransformInfoWrapperPass">TargetTransformInfoWrapperPass</a>&gt;();</td></tr>
<tr><th id="4054">4054</th><td>  <a class="local col1 ref" href="#751AU" title='AU' data-ref="751AU" data-ref-filename="751AU">AU</a>.<a class="ref fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZN4llvm13AnalysisUsage11addRequiredEv" title='llvm::AnalysisUsage::addRequired' data-ref="_ZN4llvm13AnalysisUsage11addRequiredEv" data-ref-filename="_ZN4llvm13AnalysisUsage11addRequiredEv">addRequired</a>&lt;<a class="type" href="../../../include/llvm/IR/Dominators.h.html#llvm::DominatorTreeWrapperPass" title='llvm::DominatorTreeWrapperPass' data-ref="llvm::DominatorTreeWrapperPass" data-ref-filename="llvm..DominatorTreeWrapperPass">DominatorTreeWrapperPass</a>&gt;();</td></tr>
<tr><th id="4055">4055</th><td>  <a class="local col1 ref" href="#751AU" title='AU' data-ref="751AU" data-ref-filename="751AU">AU</a>.<a class="ref fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZN4llvm13AnalysisUsage11addRequiredEv" title='llvm::AnalysisUsage::addRequired' data-ref="_ZN4llvm13AnalysisUsage11addRequiredEv" data-ref-filename="_ZN4llvm13AnalysisUsage11addRequiredEv">addRequired</a>&lt;<a class="type" href="../../../include/llvm/Analysis/OptimizationRemarkEmitter.h.html#llvm::OptimizationRemarkEmitterWrapperPass" title='llvm::OptimizationRemarkEmitterWrapperPass' data-ref="llvm::OptimizationRemarkEmitterWrapperPass" data-ref-filename="llvm..OptimizationRemarkEmitterWrapperPass">OptimizationRemarkEmitterWrapperPass</a>&gt;();</td></tr>
<tr><th id="4056">4056</th><td>  <a class="local col1 ref" href="#751AU" title='AU' data-ref="751AU" data-ref-filename="751AU">AU</a>.<a class="ref fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZN4llvm13AnalysisUsage12addPreservedEv" title='llvm::AnalysisUsage::addPreserved' data-ref="_ZN4llvm13AnalysisUsage12addPreservedEv" data-ref-filename="_ZN4llvm13AnalysisUsage12addPreservedEv">addPreserved</a>&lt;<a class="type" href="../../../include/llvm/IR/Dominators.h.html#llvm::DominatorTreeWrapperPass" title='llvm::DominatorTreeWrapperPass' data-ref="llvm::DominatorTreeWrapperPass" data-ref-filename="llvm..DominatorTreeWrapperPass">DominatorTreeWrapperPass</a>&gt;();</td></tr>
<tr><th id="4057">4057</th><td>  <a class="local col1 ref" href="#751AU" title='AU' data-ref="751AU" data-ref-filename="751AU">AU</a>.<a class="ref fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZN4llvm13AnalysisUsage12addPreservedEv" title='llvm::AnalysisUsage::addPreserved' data-ref="_ZN4llvm13AnalysisUsage12addPreservedEv" data-ref-filename="_ZN4llvm13AnalysisUsage12addPreservedEv">addPreserved</a>&lt;<a class="type" href="../../../include/llvm/Analysis/AliasAnalysis.h.html#llvm::AAResultsWrapperPass" title='llvm::AAResultsWrapperPass' data-ref="llvm::AAResultsWrapperPass" data-ref-filename="llvm..AAResultsWrapperPass">AAResultsWrapperPass</a>&gt;();</td></tr>
<tr><th id="4058">4058</th><td>  <a class="local col1 ref" href="#751AU" title='AU' data-ref="751AU" data-ref-filename="751AU">AU</a>.<a class="ref fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZN4llvm13AnalysisUsage12addPreservedEv" title='llvm::AnalysisUsage::addPreserved' data-ref="_ZN4llvm13AnalysisUsage12addPreservedEv" data-ref-filename="_ZN4llvm13AnalysisUsage12addPreservedEv">addPreserved</a>&lt;<a class="type" href="../../../include/llvm/Analysis/BasicAliasAnalysis.h.html#llvm::BasicAAWrapperPass" title='llvm::BasicAAWrapperPass' data-ref="llvm::BasicAAWrapperPass" data-ref-filename="llvm..BasicAAWrapperPass">BasicAAWrapperPass</a>&gt;();</td></tr>
<tr><th id="4059">4059</th><td>  <a class="local col1 ref" href="#751AU" title='AU' data-ref="751AU" data-ref-filename="751AU">AU</a>.<a class="ref fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZN4llvm13AnalysisUsage12addPreservedEv" title='llvm::AnalysisUsage::addPreserved' data-ref="_ZN4llvm13AnalysisUsage12addPreservedEv" data-ref-filename="_ZN4llvm13AnalysisUsage12addPreservedEv">addPreserved</a>&lt;<a class="type" href="../../../include/llvm/Analysis/GlobalsModRef.h.html#llvm::GlobalsAAWrapperPass" title='llvm::GlobalsAAWrapperPass' data-ref="llvm::GlobalsAAWrapperPass" data-ref-filename="llvm..GlobalsAAWrapperPass">GlobalsAAWrapperPass</a>&gt;();</td></tr>
<tr><th id="4060">4060</th><td>  <a class="local col1 ref" href="#751AU" title='AU' data-ref="751AU" data-ref-filename="751AU">AU</a>.<a class="ref fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZN4llvm13AnalysisUsage11addRequiredEv" title='llvm::AnalysisUsage::addRequired' data-ref="_ZN4llvm13AnalysisUsage11addRequiredEv" data-ref-filename="_ZN4llvm13AnalysisUsage11addRequiredEv">addRequired</a>&lt;<a class="type" href="../../../include/llvm/Analysis/ProfileSummaryInfo.h.html#llvm::ProfileSummaryInfoWrapperPass" title='llvm::ProfileSummaryInfoWrapperPass' data-ref="llvm::ProfileSummaryInfoWrapperPass" data-ref-filename="llvm..ProfileSummaryInfoWrapperPass">ProfileSummaryInfoWrapperPass</a>&gt;();</td></tr>
<tr><th id="4061">4061</th><td>  <a class="type" href="../../../include/llvm/Analysis/LazyBlockFrequencyInfo.h.html#llvm::LazyBlockFrequencyInfoPass" title='llvm::LazyBlockFrequencyInfoPass' data-ref="llvm::LazyBlockFrequencyInfoPass" data-ref-filename="llvm..LazyBlockFrequencyInfoPass">LazyBlockFrequencyInfoPass</a>::<a class="ref fn" href="../../../include/llvm/Analysis/LazyBlockFrequencyInfo.h.html#_ZN4llvm26LazyBlockFrequencyInfoPass23getLazyBFIAnalysisUsageERNS_13AnalysisUsageE" title='llvm::LazyBlockFrequencyInfoPass::getLazyBFIAnalysisUsage' data-ref="_ZN4llvm26LazyBlockFrequencyInfoPass23getLazyBFIAnalysisUsageERNS_13AnalysisUsageE" data-ref-filename="_ZN4llvm26LazyBlockFrequencyInfoPass23getLazyBFIAnalysisUsageERNS_13AnalysisUsageE">getLazyBFIAnalysisUsage</a>(<span class='refarg'><a class="local col1 ref" href="#751AU" title='AU' data-ref="751AU" data-ref-filename="751AU">AU</a></span>);</td></tr>
<tr><th id="4062">4062</th><td>}</td></tr>
<tr><th id="4063">4063</th><td></td></tr>
<tr><th id="4064">4064</th><td><em>bool</em> <a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstructionCombiningPass" title='llvm::InstructionCombiningPass' data-ref="llvm::InstructionCombiningPass" data-ref-filename="llvm..InstructionCombiningPass">InstructionCombiningPass</a>::<dfn class="virtual decl def fn" id="_ZN4llvm24InstructionCombiningPass13runOnFunctionERNS_8FunctionE" title='llvm::InstructionCombiningPass::runOnFunction' data-ref="_ZN4llvm24InstructionCombiningPass13runOnFunctionERNS_8FunctionE" data-ref-filename="_ZN4llvm24InstructionCombiningPass13runOnFunctionERNS_8FunctionE">runOnFunction</dfn>(<a class="type" href="../../../include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> &amp;<dfn class="local col2 decl" id="752F" title='F' data-type='llvm::Function &amp;' data-ref="752F" data-ref-filename="752F">F</dfn>) {</td></tr>
<tr><th id="4065">4065</th><td>  <b>if</b> (<a class="member fn" href="../../../include/llvm/Pass.h.html#_ZNK4llvm12FunctionPass12skipFunctionERKNS_8FunctionE" title='llvm::FunctionPass::skipFunction' data-ref="_ZNK4llvm12FunctionPass12skipFunctionERKNS_8FunctionE" data-ref-filename="_ZNK4llvm12FunctionPass12skipFunctionERKNS_8FunctionE">skipFunction</a>(<a class="local col2 ref" href="#752F" title='F' data-ref="752F" data-ref-filename="752F">F</a>))</td></tr>
<tr><th id="4066">4066</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="4067">4067</th><td></td></tr>
<tr><th id="4068">4068</th><td>  <i>// Required analyses.</i></td></tr>
<tr><th id="4069">4069</th><td>  <em>auto</em> <dfn class="local col3 decl" id="753AA" title='AA' data-type='llvm::AAResults *' data-ref="753AA" data-ref-filename="753AA">AA</dfn> = &amp;<a class="member fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZNK4llvm4Pass11getAnalysisEv" title='llvm::Pass::getAnalysis' data-ref="_ZNK4llvm4Pass11getAnalysisEv" data-ref-filename="_ZNK4llvm4Pass11getAnalysisEv">getAnalysis</a>&lt;<a class="type" href="../../../include/llvm/Analysis/AliasAnalysis.h.html#llvm::AAResultsWrapperPass" title='llvm::AAResultsWrapperPass' data-ref="llvm::AAResultsWrapperPass" data-ref-filename="llvm..AAResultsWrapperPass">AAResultsWrapperPass</a>&gt;().<a class="ref fn" href="../../../include/llvm/Analysis/AliasAnalysis.h.html#_ZN4llvm20AAResultsWrapperPass12getAAResultsEv" title='llvm::AAResultsWrapperPass::getAAResults' data-ref="_ZN4llvm20AAResultsWrapperPass12getAAResultsEv" data-ref-filename="_ZN4llvm20AAResultsWrapperPass12getAAResultsEv">getAAResults</a>();</td></tr>
<tr><th id="4070">4070</th><td>  <em>auto</em> &amp;<dfn class="local col4 decl" id="754AC" title='AC' data-type='llvm::AssumptionCache &amp;' data-ref="754AC" data-ref-filename="754AC">AC</dfn> = <a class="member fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZNK4llvm4Pass11getAnalysisEv" title='llvm::Pass::getAnalysis' data-ref="_ZNK4llvm4Pass11getAnalysisEv" data-ref-filename="_ZNK4llvm4Pass11getAnalysisEv">getAnalysis</a>&lt;<a class="type" href="../../../include/llvm/Analysis/AssumptionCache.h.html#llvm::AssumptionCacheTracker" title='llvm::AssumptionCacheTracker' data-ref="llvm::AssumptionCacheTracker" data-ref-filename="llvm..AssumptionCacheTracker">AssumptionCacheTracker</a>&gt;().<a class="ref fn" href="../../../include/llvm/Analysis/AssumptionCache.h.html#_ZN4llvm22AssumptionCacheTracker18getAssumptionCacheERNS_8FunctionE" title='llvm::AssumptionCacheTracker::getAssumptionCache' data-ref="_ZN4llvm22AssumptionCacheTracker18getAssumptionCacheERNS_8FunctionE" data-ref-filename="_ZN4llvm22AssumptionCacheTracker18getAssumptionCacheERNS_8FunctionE">getAssumptionCache</a>(<span class='refarg'><a class="local col2 ref" href="#752F" title='F' data-ref="752F" data-ref-filename="752F">F</a></span>);</td></tr>
<tr><th id="4071">4071</th><td>  <em>auto</em> &amp;<dfn class="local col5 decl" id="755TLI" title='TLI' data-type='llvm::TargetLibraryInfo &amp;' data-ref="755TLI" data-ref-filename="755TLI">TLI</dfn> = <a class="member fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZNK4llvm4Pass11getAnalysisEv" title='llvm::Pass::getAnalysis' data-ref="_ZNK4llvm4Pass11getAnalysisEv" data-ref-filename="_ZNK4llvm4Pass11getAnalysisEv">getAnalysis</a>&lt;<a class="type" href="../../../include/llvm/Analysis/TargetLibraryInfo.h.html#llvm::TargetLibraryInfoWrapperPass" title='llvm::TargetLibraryInfoWrapperPass' data-ref="llvm::TargetLibraryInfoWrapperPass" data-ref-filename="llvm..TargetLibraryInfoWrapperPass">TargetLibraryInfoWrapperPass</a>&gt;().<a class="ref fn" href="../../../include/llvm/Analysis/TargetLibraryInfo.h.html#_ZN4llvm28TargetLibraryInfoWrapperPass6getTLIERKNS_8FunctionE" title='llvm::TargetLibraryInfoWrapperPass::getTLI' data-ref="_ZN4llvm28TargetLibraryInfoWrapperPass6getTLIERKNS_8FunctionE" data-ref-filename="_ZN4llvm28TargetLibraryInfoWrapperPass6getTLIERKNS_8FunctionE">getTLI</a>(<a class="local col2 ref" href="#752F" title='F' data-ref="752F" data-ref-filename="752F">F</a>);</td></tr>
<tr><th id="4072">4072</th><td>  <em>auto</em> &amp;<dfn class="local col6 decl" id="756TTI" title='TTI' data-type='llvm::TargetTransformInfo &amp;' data-ref="756TTI" data-ref-filename="756TTI">TTI</dfn> = <a class="member fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZNK4llvm4Pass11getAnalysisEv" title='llvm::Pass::getAnalysis' data-ref="_ZNK4llvm4Pass11getAnalysisEv" data-ref-filename="_ZNK4llvm4Pass11getAnalysisEv">getAnalysis</a>&lt;<a class="type" href="../../../include/llvm/Analysis/TargetTransformInfo.h.html#llvm::TargetTransformInfoWrapperPass" title='llvm::TargetTransformInfoWrapperPass' data-ref="llvm::TargetTransformInfoWrapperPass" data-ref-filename="llvm..TargetTransformInfoWrapperPass">TargetTransformInfoWrapperPass</a>&gt;().<a class="ref fn" href="../../../include/llvm/Analysis/TargetTransformInfo.h.html#_ZN4llvm30TargetTransformInfoWrapperPass6getTTIERKNS_8FunctionE" title='llvm::TargetTransformInfoWrapperPass::getTTI' data-ref="_ZN4llvm30TargetTransformInfoWrapperPass6getTTIERKNS_8FunctionE" data-ref-filename="_ZN4llvm30TargetTransformInfoWrapperPass6getTTIERKNS_8FunctionE">getTTI</a>(<a class="local col2 ref" href="#752F" title='F' data-ref="752F" data-ref-filename="752F">F</a>);</td></tr>
<tr><th id="4073">4073</th><td>  <em>auto</em> &amp;<dfn class="local col7 decl" id="757DT" title='DT' data-type='llvm::DominatorTree &amp;' data-ref="757DT" data-ref-filename="757DT">DT</dfn> = <a class="member fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZNK4llvm4Pass11getAnalysisEv" title='llvm::Pass::getAnalysis' data-ref="_ZNK4llvm4Pass11getAnalysisEv" data-ref-filename="_ZNK4llvm4Pass11getAnalysisEv">getAnalysis</a>&lt;<a class="type" href="../../../include/llvm/IR/Dominators.h.html#llvm::DominatorTreeWrapperPass" title='llvm::DominatorTreeWrapperPass' data-ref="llvm::DominatorTreeWrapperPass" data-ref-filename="llvm..DominatorTreeWrapperPass">DominatorTreeWrapperPass</a>&gt;().<a class="ref fn" href="../../../include/llvm/IR/Dominators.h.html#_ZN4llvm24DominatorTreeWrapperPass10getDomTreeEv" title='llvm::DominatorTreeWrapperPass::getDomTree' data-ref="_ZN4llvm24DominatorTreeWrapperPass10getDomTreeEv" data-ref-filename="_ZN4llvm24DominatorTreeWrapperPass10getDomTreeEv">getDomTree</a>();</td></tr>
<tr><th id="4074">4074</th><td>  <em>auto</em> &amp;<dfn class="local col8 decl" id="758ORE" title='ORE' data-type='llvm::OptimizationRemarkEmitter &amp;' data-ref="758ORE" data-ref-filename="758ORE">ORE</dfn> = <a class="member fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZNK4llvm4Pass11getAnalysisEv" title='llvm::Pass::getAnalysis' data-ref="_ZNK4llvm4Pass11getAnalysisEv" data-ref-filename="_ZNK4llvm4Pass11getAnalysisEv">getAnalysis</a>&lt;<a class="type" href="../../../include/llvm/Analysis/OptimizationRemarkEmitter.h.html#llvm::OptimizationRemarkEmitterWrapperPass" title='llvm::OptimizationRemarkEmitterWrapperPass' data-ref="llvm::OptimizationRemarkEmitterWrapperPass" data-ref-filename="llvm..OptimizationRemarkEmitterWrapperPass">OptimizationRemarkEmitterWrapperPass</a>&gt;().<a class="ref fn" href="../../../include/llvm/Analysis/OptimizationRemarkEmitter.h.html#_ZN4llvm36OptimizationRemarkEmitterWrapperPass6getOREEv" title='llvm::OptimizationRemarkEmitterWrapperPass::getORE' data-ref="_ZN4llvm36OptimizationRemarkEmitterWrapperPass6getOREEv" data-ref-filename="_ZN4llvm36OptimizationRemarkEmitterWrapperPass6getOREEv">getORE</a>();</td></tr>
<tr><th id="4075">4075</th><td></td></tr>
<tr><th id="4076">4076</th><td>  <i>// Optional analyses.</i></td></tr>
<tr><th id="4077">4077</th><td>  <em>auto</em> *<dfn class="local col9 decl" id="759LIWP" title='LIWP' data-type='llvm::LoopInfoWrapperPass *' data-ref="759LIWP" data-ref-filename="759LIWP">LIWP</dfn> = <a class="member fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZNK4llvm4Pass22getAnalysisIfAvailableEv" title='llvm::Pass::getAnalysisIfAvailable' data-ref="_ZNK4llvm4Pass22getAnalysisIfAvailableEv" data-ref-filename="_ZNK4llvm4Pass22getAnalysisIfAvailableEv">getAnalysisIfAvailable</a>&lt;<a class="type" href="../../../include/llvm/Analysis/LoopInfo.h.html#llvm::LoopInfoWrapperPass" title='llvm::LoopInfoWrapperPass' data-ref="llvm::LoopInfoWrapperPass" data-ref-filename="llvm..LoopInfoWrapperPass">LoopInfoWrapperPass</a>&gt;();</td></tr>
<tr><th id="4078">4078</th><td>  <em>auto</em> *<dfn class="local col0 decl" id="760LI" title='LI' data-type='llvm::LoopInfo *' data-ref="760LI" data-ref-filename="760LI">LI</dfn> = <a class="local col9 ref" href="#759LIWP" title='LIWP' data-ref="759LIWP" data-ref-filename="759LIWP">LIWP</a> ? &amp;<a class="local col9 ref" href="#759LIWP" title='LIWP' data-ref="759LIWP" data-ref-filename="759LIWP">LIWP</a>-&gt;<a class="ref fn" href="../../../include/llvm/Analysis/LoopInfo.h.html#_ZN4llvm19LoopInfoWrapperPass11getLoopInfoEv" title='llvm::LoopInfoWrapperPass::getLoopInfo' data-ref="_ZN4llvm19LoopInfoWrapperPass11getLoopInfoEv" data-ref-filename="_ZN4llvm19LoopInfoWrapperPass11getLoopInfoEv">getLoopInfo</a>() : <b>nullptr</b>;</td></tr>
<tr><th id="4079">4079</th><td>  <a class="type" href="../../../include/llvm/Analysis/ProfileSummaryInfo.h.html#llvm::ProfileSummaryInfo" title='llvm::ProfileSummaryInfo' data-ref="llvm::ProfileSummaryInfo" data-ref-filename="llvm..ProfileSummaryInfo">ProfileSummaryInfo</a> *<dfn class="local col1 decl" id="761PSI" title='PSI' data-type='llvm::ProfileSummaryInfo *' data-ref="761PSI" data-ref-filename="761PSI">PSI</dfn> =</td></tr>
<tr><th id="4080">4080</th><td>      &amp;<a class="member fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZNK4llvm4Pass11getAnalysisEv" title='llvm::Pass::getAnalysis' data-ref="_ZNK4llvm4Pass11getAnalysisEv" data-ref-filename="_ZNK4llvm4Pass11getAnalysisEv">getAnalysis</a>&lt;<a class="type" href="../../../include/llvm/Analysis/ProfileSummaryInfo.h.html#llvm::ProfileSummaryInfoWrapperPass" title='llvm::ProfileSummaryInfoWrapperPass' data-ref="llvm::ProfileSummaryInfoWrapperPass" data-ref-filename="llvm..ProfileSummaryInfoWrapperPass">ProfileSummaryInfoWrapperPass</a>&gt;().<a class="ref fn" href="../../../include/llvm/Analysis/ProfileSummaryInfo.h.html#_ZN4llvm29ProfileSummaryInfoWrapperPass6getPSIEv" title='llvm::ProfileSummaryInfoWrapperPass::getPSI' data-ref="_ZN4llvm29ProfileSummaryInfoWrapperPass6getPSIEv" data-ref-filename="_ZN4llvm29ProfileSummaryInfoWrapperPass6getPSIEv">getPSI</a>();</td></tr>
<tr><th id="4081">4081</th><td>  <a class="type" href="../../../include/llvm/Analysis/BlockFrequencyInfo.h.html#llvm::BlockFrequencyInfo" title='llvm::BlockFrequencyInfo' data-ref="llvm::BlockFrequencyInfo" data-ref-filename="llvm..BlockFrequencyInfo">BlockFrequencyInfo</a> *<dfn class="local col2 decl" id="762BFI" title='BFI' data-type='llvm::BlockFrequencyInfo *' data-ref="762BFI" data-ref-filename="762BFI">BFI</dfn> =</td></tr>
<tr><th id="4082">4082</th><td>      (<a class="local col1 ref" href="#761PSI" title='PSI' data-ref="761PSI" data-ref-filename="761PSI">PSI</a> &amp;&amp; <a class="local col1 ref" href="#761PSI" title='PSI' data-ref="761PSI" data-ref-filename="761PSI">PSI</a>-&gt;<a class="ref fn" href="../../../include/llvm/Analysis/ProfileSummaryInfo.h.html#_ZNK4llvm18ProfileSummaryInfo17hasProfileSummaryEv" title='llvm::ProfileSummaryInfo::hasProfileSummary' data-ref="_ZNK4llvm18ProfileSummaryInfo17hasProfileSummaryEv" data-ref-filename="_ZNK4llvm18ProfileSummaryInfo17hasProfileSummaryEv">hasProfileSummary</a>()) ?</td></tr>
<tr><th id="4083">4083</th><td>      &amp;<a class="member fn" href="../../../include/llvm/PassAnalysisSupport.h.html#_ZNK4llvm4Pass11getAnalysisEv" title='llvm::Pass::getAnalysis' data-ref="_ZNK4llvm4Pass11getAnalysisEv" data-ref-filename="_ZNK4llvm4Pass11getAnalysisEv">getAnalysis</a>&lt;<a class="type" href="../../../include/llvm/Analysis/LazyBlockFrequencyInfo.h.html#llvm::LazyBlockFrequencyInfoPass" title='llvm::LazyBlockFrequencyInfoPass' data-ref="llvm::LazyBlockFrequencyInfoPass" data-ref-filename="llvm..LazyBlockFrequencyInfoPass">LazyBlockFrequencyInfoPass</a>&gt;().<a class="ref fn" href="../../../include/llvm/Analysis/LazyBlockFrequencyInfo.h.html#_ZN4llvm26LazyBlockFrequencyInfoPass6getBFIEv" title='llvm::LazyBlockFrequencyInfoPass::getBFI' data-ref="_ZN4llvm26LazyBlockFrequencyInfoPass6getBFIEv" data-ref-filename="_ZN4llvm26LazyBlockFrequencyInfoPass6getBFIEv">getBFI</a>() :</td></tr>
<tr><th id="4084">4084</th><td>      <b>nullptr</b>;</td></tr>
<tr><th id="4085">4085</th><td></td></tr>
<tr><th id="4086">4086</th><td>  <b>return</b> <a class="tu ref fn" href="#_ZL31combineInstructionsOverFunctionRN4llvm8FunctionERNS_19InstCombineWorklistEPNS_9AAResultsERNS_15AssumptionCacheERNS_17TargetLibraryInfoERNS_19Targ12081709" title='combineInstructionsOverFunction' data-use='c' data-ref="_ZL31combineInstructionsOverFunctionRN4llvm8FunctionERNS_19InstCombineWorklistEPNS_9AAResultsERNS_15AssumptionCacheERNS_17TargetLibraryInfoERNS_19Targ12081709" data-ref-filename="_ZL31combineInstructionsOverFunctionRN4llvm8FunctionERNS_19InstCombineWorklistEPNS_9AAResultsERNS_15AssumptionCacheERNS_17TargetLibraryInfoERNS_19Targ12081709">combineInstructionsOverFunction</a>(<span class='refarg'><a class="local col2 ref" href="#752F" title='F' data-ref="752F" data-ref-filename="752F">F</a></span>, <span class='refarg'><a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstructionCombiningPass::Worklist" title='llvm::InstructionCombiningPass::Worklist' data-ref="llvm::InstructionCombiningPass::Worklist" data-ref-filename="llvm..InstructionCombiningPass..Worklist">Worklist</a></span>, <a class="local col3 ref" href="#753AA" title='AA' data-ref="753AA" data-ref-filename="753AA">AA</a>, <span class='refarg'><a class="local col4 ref" href="#754AC" title='AC' data-ref="754AC" data-ref-filename="754AC">AC</a></span>, <span class='refarg'><a class="local col5 ref" href="#755TLI" title='TLI' data-ref="755TLI" data-ref-filename="755TLI">TLI</a></span>, <span class='refarg'><a class="local col6 ref" href="#756TTI" title='TTI' data-ref="756TTI" data-ref-filename="756TTI">TTI</a></span>, <span class='refarg'><a class="local col7 ref" href="#757DT" title='DT' data-ref="757DT" data-ref-filename="757DT">DT</a></span>, <span class='refarg'><a class="local col8 ref" href="#758ORE" title='ORE' data-ref="758ORE" data-ref-filename="758ORE">ORE</a></span>,</td></tr>
<tr><th id="4087">4087</th><td>                                         <a class="local col2 ref" href="#762BFI" title='BFI' data-ref="762BFI" data-ref-filename="762BFI">BFI</a>, <a class="local col1 ref" href="#761PSI" title='PSI' data-ref="761PSI" data-ref-filename="761PSI">PSI</a>, <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstructionCombiningPass::MaxIterations" title='llvm::InstructionCombiningPass::MaxIterations' data-ref="llvm::InstructionCombiningPass::MaxIterations" data-ref-filename="llvm..InstructionCombiningPass..MaxIterations">MaxIterations</a>, <a class="local col0 ref" href="#760LI" title='LI' data-ref="760LI" data-ref-filename="760LI">LI</a>);</td></tr>
<tr><th id="4088">4088</th><td>}</td></tr>
<tr><th id="4089">4089</th><td></td></tr>
<tr><th id="4090">4090</th><td><em>char</em> <a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstructionCombiningPass" title='llvm::InstructionCombiningPass' data-ref="llvm::InstructionCombiningPass" data-ref-filename="llvm..InstructionCombiningPass">InstructionCombiningPass</a>::<dfn class="decl def" id="llvm::InstructionCombiningPass::ID" title='llvm::InstructionCombiningPass::ID' data-ref="llvm::InstructionCombiningPass::ID" data-ref-filename="llvm..InstructionCombiningPass..ID">ID</dfn> = <var>0</var>;</td></tr>
<tr><th id="4091">4091</th><td></td></tr>
<tr><th id="4092">4092</th><td><a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstructionCombiningPass" title='llvm::InstructionCombiningPass' data-ref="llvm::InstructionCombiningPass" data-ref-filename="llvm..InstructionCombiningPass">InstructionCombiningPass</a>::<dfn class="decl def fn" id="_ZN4llvm24InstructionCombiningPassC1Ev" title='llvm::InstructionCombiningPass::InstructionCombiningPass' data-ref="_ZN4llvm24InstructionCombiningPassC1Ev" data-ref-filename="_ZN4llvm24InstructionCombiningPassC1Ev">InstructionCombiningPass</dfn>()</td></tr>
<tr><th id="4093">4093</th><td>    : <a class="type" href="../../../include/llvm/Pass.h.html#llvm::FunctionPass" title='llvm::FunctionPass' data-ref="llvm::FunctionPass" data-ref-filename="llvm..FunctionPass">FunctionPass</a><a class="ref fn" href="../../../include/llvm/Pass.h.html#_ZN4llvm12FunctionPassC1ERc" title='llvm::FunctionPass::FunctionPass' data-ref="_ZN4llvm12FunctionPassC1ERc" data-ref-filename="_ZN4llvm12FunctionPassC1ERc">(</a><a class="member" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstructionCombiningPass::ID" title='llvm::InstructionCombiningPass::ID' data-ref="llvm::InstructionCombiningPass::ID" data-ref-filename="llvm..InstructionCombiningPass..ID">ID</a>), <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstructionCombiningPass::MaxIterations" title='llvm::InstructionCombiningPass::MaxIterations' data-ref="llvm::InstructionCombiningPass::MaxIterations" data-ref-filename="llvm..InstructionCombiningPass..MaxIterations">MaxIterations</a>(<a class="tu ref" href="#InstCombineDefaultMaxIterations" title='InstCombineDefaultMaxIterations' data-use='r' data-ref="InstCombineDefaultMaxIterations" data-ref-filename="InstCombineDefaultMaxIterations">InstCombineDefaultMaxIterations</a>) {</td></tr>
<tr><th id="4094">4094</th><td>  <a class="ref fn" href="#4113" title='llvm::initializeInstructionCombiningPassPass' data-ref="_ZN4llvm38initializeInstructionCombiningPassPassERNS_12PassRegistryE" data-ref-filename="_ZN4llvm38initializeInstructionCombiningPassPassERNS_12PassRegistryE">initializeInstructionCombiningPassPass</a>(<span class='refarg'>*<a class="type" href="../../../include/llvm/PassRegistry.h.html#llvm::PassRegistry" title='llvm::PassRegistry' data-ref="llvm::PassRegistry" data-ref-filename="llvm..PassRegistry">PassRegistry</a>::<a class="ref fn" href="../../../include/llvm/PassRegistry.h.html#_ZN4llvm12PassRegistry15getPassRegistryEv" title='llvm::PassRegistry::getPassRegistry' data-ref="_ZN4llvm12PassRegistry15getPassRegistryEv" data-ref-filename="_ZN4llvm12PassRegistry15getPassRegistryEv">getPassRegistry</a>()</span>);</td></tr>
<tr><th id="4095">4095</th><td>}</td></tr>
<tr><th id="4096">4096</th><td></td></tr>
<tr><th id="4097">4097</th><td><a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstructionCombiningPass" title='llvm::InstructionCombiningPass' data-ref="llvm::InstructionCombiningPass" data-ref-filename="llvm..InstructionCombiningPass">InstructionCombiningPass</a>::<dfn class="decl def fn" id="_ZN4llvm24InstructionCombiningPassC1Ej" title='llvm::InstructionCombiningPass::InstructionCombiningPass' data-ref="_ZN4llvm24InstructionCombiningPassC1Ej" data-ref-filename="_ZN4llvm24InstructionCombiningPassC1Ej">InstructionCombiningPass</dfn>(<em>unsigned</em> <dfn class="local col3 decl" id="763MaxIterations" title='MaxIterations' data-type='unsigned int' data-ref="763MaxIterations" data-ref-filename="763MaxIterations">MaxIterations</dfn>)</td></tr>
<tr><th id="4098">4098</th><td>    : <a class="type" href="../../../include/llvm/Pass.h.html#llvm::FunctionPass" title='llvm::FunctionPass' data-ref="llvm::FunctionPass" data-ref-filename="llvm..FunctionPass">FunctionPass</a><a class="ref fn" href="../../../include/llvm/Pass.h.html#_ZN4llvm12FunctionPassC1ERc" title='llvm::FunctionPass::FunctionPass' data-ref="_ZN4llvm12FunctionPassC1ERc" data-ref-filename="_ZN4llvm12FunctionPassC1ERc">(</a><a class="member" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstructionCombiningPass::ID" title='llvm::InstructionCombiningPass::ID' data-ref="llvm::InstructionCombiningPass::ID" data-ref-filename="llvm..InstructionCombiningPass..ID">ID</a>), <a class="member field" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstructionCombiningPass::MaxIterations" title='llvm::InstructionCombiningPass::MaxIterations' data-ref="llvm::InstructionCombiningPass::MaxIterations" data-ref-filename="llvm..InstructionCombiningPass..MaxIterations">MaxIterations</a>(<a class="local col3 ref" href="#763MaxIterations" title='MaxIterations' data-ref="763MaxIterations" data-ref-filename="763MaxIterations">MaxIterations</a>) {</td></tr>
<tr><th id="4099">4099</th><td>  <a class="ref fn" href="#4113" title='llvm::initializeInstructionCombiningPassPass' data-ref="_ZN4llvm38initializeInstructionCombiningPassPassERNS_12PassRegistryE" data-ref-filename="_ZN4llvm38initializeInstructionCombiningPassPassERNS_12PassRegistryE">initializeInstructionCombiningPassPass</a>(<span class='refarg'>*<a class="type" href="../../../include/llvm/PassRegistry.h.html#llvm::PassRegistry" title='llvm::PassRegistry' data-ref="llvm::PassRegistry" data-ref-filename="llvm..PassRegistry">PassRegistry</a>::<a class="ref fn" href="../../../include/llvm/PassRegistry.h.html#_ZN4llvm12PassRegistry15getPassRegistryEv" title='llvm::PassRegistry::getPassRegistry' data-ref="_ZN4llvm12PassRegistry15getPassRegistryEv" data-ref-filename="_ZN4llvm12PassRegistry15getPassRegistryEv">getPassRegistry</a>()</span>);</td></tr>
<tr><th id="4100">4100</th><td>}</td></tr>
<tr><th id="4101">4101</th><td></td></tr>
<tr><th id="4102">4102</th><td><a class="macro" href="../../../include/llvm/PassSupport.h.html#51" title="static void *initializeInstructionCombiningPassPassOnce(PassRegistry &amp;Registry) {" data-ref="_M/INITIALIZE_PASS_BEGIN">INITIALIZE_PASS_BEGIN</a>(InstructionCombiningPass, <q>"instcombine"</q>,</td></tr>
<tr><th id="4103">4103</th><td>                      <q>"Combine redundant instructions"</q>, <b>false</b>, <b>false</b>)</td></tr>
<tr><th id="4104">4104</th><td><a class="macro" href="../../../include/llvm/PassSupport.h.html#54" title="initializeAssumptionCacheTrackerPass(Registry);" data-ref="_M/INITIALIZE_PASS_DEPENDENCY">INITIALIZE_PASS_DEPENDENCY</a>(AssumptionCacheTracker)</td></tr>
<tr><th id="4105">4105</th><td><a class="macro" href="../../../include/llvm/PassSupport.h.html#54" title="initializeTargetLibraryInfoWrapperPassPass(Registry);" data-ref="_M/INITIALIZE_PASS_DEPENDENCY">INITIALIZE_PASS_DEPENDENCY</a>(TargetLibraryInfoWrapperPass)</td></tr>
<tr><th id="4106">4106</th><td><a class="macro" href="../../../include/llvm/PassSupport.h.html#54" title="initializeTargetTransformInfoWrapperPassPass(Registry);" data-ref="_M/INITIALIZE_PASS_DEPENDENCY">INITIALIZE_PASS_DEPENDENCY</a>(TargetTransformInfoWrapperPass)</td></tr>
<tr><th id="4107">4107</th><td><a class="macro" href="../../../include/llvm/PassSupport.h.html#54" title="initializeDominatorTreeWrapperPassPass(Registry);" data-ref="_M/INITIALIZE_PASS_DEPENDENCY">INITIALIZE_PASS_DEPENDENCY</a>(DominatorTreeWrapperPass)</td></tr>
<tr><th id="4108">4108</th><td><a class="macro" href="../../../include/llvm/PassSupport.h.html#54" title="initializeAAResultsWrapperPassPass(Registry);" data-ref="_M/INITIALIZE_PASS_DEPENDENCY">INITIALIZE_PASS_DEPENDENCY</a>(AAResultsWrapperPass)</td></tr>
<tr><th id="4109">4109</th><td><a class="macro" href="../../../include/llvm/PassSupport.h.html#54" title="initializeGlobalsAAWrapperPassPass(Registry);" data-ref="_M/INITIALIZE_PASS_DEPENDENCY">INITIALIZE_PASS_DEPENDENCY</a>(GlobalsAAWrapperPass)</td></tr>
<tr><th id="4110">4110</th><td><a class="macro" href="../../../include/llvm/PassSupport.h.html#54" title="initializeOptimizationRemarkEmitterWrapperPassPass(Registry);" data-ref="_M/INITIALIZE_PASS_DEPENDENCY">INITIALIZE_PASS_DEPENDENCY</a>(OptimizationRemarkEmitterWrapperPass)</td></tr>
<tr><th id="4111">4111</th><td><a class="macro" href="../../../include/llvm/PassSupport.h.html#54" title="initializeLazyBlockFrequencyInfoPassPass(Registry);" data-ref="_M/INITIALIZE_PASS_DEPENDENCY">INITIALIZE_PASS_DEPENDENCY</a>(LazyBlockFrequencyInfoPass)</td></tr>
<tr><th id="4112">4112</th><td><a class="macro" href="../../../include/llvm/PassSupport.h.html#54" title="initializeProfileSummaryInfoWrapperPassPass(Registry);" data-ref="_M/INITIALIZE_PASS_DEPENDENCY">INITIALIZE_PASS_DEPENDENCY</a>(ProfileSummaryInfoWrapperPass)</td></tr>
<tr><th id="4113">4113</th><td><a class="macro" href="../../../include/llvm/PassSupport.h.html#58" title="PassInfo *PI = new PassInfo( &quot;Combine redundant instructions&quot;, &quot;instcombine&quot;, &amp;InstructionCombiningPass::ID, PassInfo::NormalCtor_t(callDefaultCtor&lt;InstructionCombiningPass&gt;), false, false); Registry.registerPass(*PI, true); return PI; } static llvm::once_flag InitializeInstructionCombiningPassPassFlag; void llvm::initializeInstructionCombiningPassPass(PassRegistry &amp;Registry) { llvm::call_once(InitializeInstructionCombiningPassPassFlag, initializeInstructionCombiningPassPassOnce, std::ref(Registry)); }" data-ref="_M/INITIALIZE_PASS_END">INITIALIZE_PASS_END</a>(<a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstructionCombiningPass" title='llvm::InstructionCombiningPass' data-ref="llvm::InstructionCombiningPass" data-ref-filename="llvm..InstructionCombiningPass">InstructionCombiningPass</a>, <a class="ref fn fake" href="../../../include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>"instcombine"</q>,</td></tr>
<tr><th id="4114">4114</th><td>                    <a class="ref fn fake" href="../../../include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>"Combine redundant instructions"</q>, <b>false</b>, <b>false</b>)</td></tr>
<tr><th id="4115">4115</th><td></td></tr>
<tr><th id="4116">4116</th><td><i>// Initialization Routines</i></td></tr>
<tr><th id="4117">4117</th><td><em>void</em> <span class="namespace">llvm::</span><dfn class="decl def fn" id="_ZN4llvm21initializeInstCombineERNS_12PassRegistryE" title='llvm::initializeInstCombine' data-ref="_ZN4llvm21initializeInstCombineERNS_12PassRegistryE" data-ref-filename="_ZN4llvm21initializeInstCombineERNS_12PassRegistryE">initializeInstCombine</dfn>(<a class="type" href="../../../include/llvm/PassRegistry.h.html#llvm::PassRegistry" title='llvm::PassRegistry' data-ref="llvm::PassRegistry" data-ref-filename="llvm..PassRegistry">PassRegistry</a> &amp;<dfn class="local col4 decl" id="764Registry" title='Registry' data-type='llvm::PassRegistry &amp;' data-ref="764Registry" data-ref-filename="764Registry">Registry</dfn>) {</td></tr>
<tr><th id="4118">4118</th><td>  <a class="ref fn" href="#4113" title='llvm::initializeInstructionCombiningPassPass' data-ref="_ZN4llvm38initializeInstructionCombiningPassPassERNS_12PassRegistryE" data-ref-filename="_ZN4llvm38initializeInstructionCombiningPassPassERNS_12PassRegistryE">initializeInstructionCombiningPassPass</a>(<span class='refarg'><a class="local col4 ref" href="#764Registry" title='Registry' data-ref="764Registry" data-ref-filename="764Registry">Registry</a></span>);</td></tr>
<tr><th id="4119">4119</th><td>}</td></tr>
<tr><th id="4120">4120</th><td></td></tr>
<tr><th id="4121">4121</th><td><em>void</em> <dfn class="decl def fn" id="LLVMInitializeInstCombine" title='LLVMInitializeInstCombine' data-ref="LLVMInitializeInstCombine" data-ref-filename="LLVMInitializeInstCombine">LLVMInitializeInstCombine</dfn>(<a class="typedef" href="../../../include/llvm-c/Types.h.html#LLVMPassRegistryRef" title='LLVMPassRegistryRef' data-type='struct LLVMOpaquePassRegistry *' data-ref="LLVMPassRegistryRef" data-ref-filename="LLVMPassRegistryRef">LLVMPassRegistryRef</a> <dfn class="local col5 decl" id="765R" title='R' data-type='LLVMPassRegistryRef' data-ref="765R" data-ref-filename="765R">R</dfn>) {</td></tr>
<tr><th id="4122">4122</th><td>  <a class="ref fn" href="#4113" title='llvm::initializeInstructionCombiningPassPass' data-ref="_ZN4llvm38initializeInstructionCombiningPassPassERNS_12PassRegistryE" data-ref-filename="_ZN4llvm38initializeInstructionCombiningPassPassERNS_12PassRegistryE">initializeInstructionCombiningPassPass</a>(<span class='refarg'>*<a class="ref fn" href="../../../include/llvm/PassRegistry.h.html#93" title='llvm::unwrap' data-ref="_ZN4llvm6unwrapEP22LLVMOpaquePassRegistry" data-ref-filename="_ZN4llvm6unwrapEP22LLVMOpaquePassRegistry">unwrap</a>(<a class="local col5 ref" href="#765R" title='R' data-ref="765R" data-ref-filename="765R">R</a>)</span>);</td></tr>
<tr><th id="4123">4123</th><td>}</td></tr>
<tr><th id="4124">4124</th><td></td></tr>
<tr><th id="4125">4125</th><td><a class="type" href="../../../include/llvm/Pass.h.html#llvm::FunctionPass" title='llvm::FunctionPass' data-ref="llvm::FunctionPass" data-ref-filename="llvm..FunctionPass">FunctionPass</a> *<span class="namespace">llvm::</span><dfn class="decl def fn" id="_ZN4llvm30createInstructionCombiningPassEv" title='llvm::createInstructionCombiningPass' data-ref="_ZN4llvm30createInstructionCombiningPassEv" data-ref-filename="_ZN4llvm30createInstructionCombiningPassEv">createInstructionCombiningPass</dfn>() {</td></tr>
<tr><th id="4126">4126</th><td>  <b>return</b> <b>new</b> <a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstructionCombiningPass" title='llvm::InstructionCombiningPass' data-ref="llvm::InstructionCombiningPass" data-ref-filename="llvm..InstructionCombiningPass">InstructionCombiningPass</a><a class="ref fn" href="#_ZN4llvm24InstructionCombiningPassC1Ev" title='llvm::InstructionCombiningPass::InstructionCombiningPass' data-ref="_ZN4llvm24InstructionCombiningPassC1Ev" data-ref-filename="_ZN4llvm24InstructionCombiningPassC1Ev">(</a>);</td></tr>
<tr><th id="4127">4127</th><td>}</td></tr>
<tr><th id="4128">4128</th><td></td></tr>
<tr><th id="4129">4129</th><td><a class="type" href="../../../include/llvm/Pass.h.html#llvm::FunctionPass" title='llvm::FunctionPass' data-ref="llvm::FunctionPass" data-ref-filename="llvm..FunctionPass">FunctionPass</a> *<span class="namespace">llvm::</span><dfn class="decl def fn" id="_ZN4llvm30createInstructionCombiningPassEj" title='llvm::createInstructionCombiningPass' data-ref="_ZN4llvm30createInstructionCombiningPassEj" data-ref-filename="_ZN4llvm30createInstructionCombiningPassEj">createInstructionCombiningPass</dfn>(<em>unsigned</em> <dfn class="local col6 decl" id="766MaxIterations" title='MaxIterations' data-type='unsigned int' data-ref="766MaxIterations" data-ref-filename="766MaxIterations">MaxIterations</dfn>) {</td></tr>
<tr><th id="4130">4130</th><td>  <b>return</b> <b>new</b> <a class="type" href="../../../include/llvm/Transforms/InstCombine/InstCombine.h.html#llvm::InstructionCombiningPass" title='llvm::InstructionCombiningPass' data-ref="llvm::InstructionCombiningPass" data-ref-filename="llvm..InstructionCombiningPass">InstructionCombiningPass</a><a class="ref fn" href="#_ZN4llvm24InstructionCombiningPassC1Ej" title='llvm::InstructionCombiningPass::InstructionCombiningPass' data-ref="_ZN4llvm24InstructionCombiningPassC1Ej" data-ref-filename="_ZN4llvm24InstructionCombiningPassC1Ej">(</a><a class="local col6 ref" href="#766MaxIterations" title='MaxIterations' data-ref="766MaxIterations" data-ref-filename="766MaxIterations">MaxIterations</a>);</td></tr>
<tr><th id="4131">4131</th><td>}</td></tr>
<tr><th id="4132">4132</th><td></td></tr>
<tr><th id="4133">4133</th><td><em>void</em> <dfn class="decl def fn" id="LLVMAddInstructionCombiningPass" title='LLVMAddInstructionCombiningPass' data-ref="LLVMAddInstructionCombiningPass" data-ref-filename="LLVMAddInstructionCombiningPass">LLVMAddInstructionCombiningPass</dfn>(<a class="typedef" href="../../../include/llvm-c/Types.h.html#LLVMPassManagerRef" title='LLVMPassManagerRef' data-type='struct LLVMOpaquePassManager *' data-ref="LLVMPassManagerRef" data-ref-filename="LLVMPassManagerRef">LLVMPassManagerRef</a> <dfn class="local col7 decl" id="767PM" title='PM' data-type='LLVMPassManagerRef' data-ref="767PM" data-ref-filename="767PM">PM</dfn>) {</td></tr>
<tr><th id="4134">4134</th><td>  <a class="ref fn" href="../../../include/llvm/IR/LegacyPassManager.h.html#98" title='llvm::unwrap' data-ref="_ZN4llvm6unwrapEP21LLVMOpaquePassManager" data-ref-filename="_ZN4llvm6unwrapEP21LLVMOpaquePassManager">unwrap</a>(<a class="local col7 ref" href="#767PM" title='PM' data-ref="767PM" data-ref-filename="767PM">PM</a>)-&gt;<a class="virtual ref fn" href="../../../include/llvm/IR/LegacyPassManager.h.html#_ZN4llvm6legacy15PassManagerBase3addEPNS_4PassE" title='llvm::legacy::PassManagerBase::add' data-ref="_ZN4llvm6legacy15PassManagerBase3addEPNS_4PassE" data-ref-filename="_ZN4llvm6legacy15PassManagerBase3addEPNS_4PassE">add</a>(<a class="ref fn" href="#_ZN4llvm30createInstructionCombiningPassEv" title='llvm::createInstructionCombiningPass' data-ref="_ZN4llvm30createInstructionCombiningPassEv" data-ref-filename="_ZN4llvm30createInstructionCombiningPassEv">createInstructionCombiningPass</a>());</td></tr>
<tr><th id="4135">4135</th><td>}</td></tr>
<tr><th id="4136">4136</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2021-Jul-01</em> from project llvm revision <em>12</em>