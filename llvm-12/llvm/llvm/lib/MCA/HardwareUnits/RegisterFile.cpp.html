<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>RegisterFile.cpp source code [llvm/llvm/lib/MCA/HardwareUnits/RegisterFile.cpp] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'llvm/llvm/lib/MCA/HardwareUnits/RegisterFile.cpp'; var root_path = '../../../../..'; var data_path = '../../../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../..'>llvm</a>/<a href='../../..'>llvm</a>/<a href='../..'>lib</a>/<a href='..'>MCA</a>/<a href='./'>HardwareUnits</a>/<a href='RegisterFile.cpp.html'>RegisterFile.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>//===--------------------- RegisterFile.cpp ---------------------*- C++ -*-===//</i></td></tr>
<tr><th id="2">2</th><td><i>//</i></td></tr>
<tr><th id="3">3</th><td><i>// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</i></td></tr>
<tr><th id="4">4</th><td><i>// See <a href="https://llvm.org/LICENSE.txt">https://llvm.org/LICENSE.txt</a> for license information.</i></td></tr>
<tr><th id="5">5</th><td><i>// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</i></td></tr>
<tr><th id="6">6</th><td><i>//</i></td></tr>
<tr><th id="7">7</th><td><i>//===----------------------------------------------------------------------===//</i></td></tr>
<tr><th id="8">8</th><td><i>/// \file</i></td></tr>
<tr><th id="9">9</th><td><i>///</i></td></tr>
<tr><th id="10">10</th><td><i>/// This file defines a register mapping file class.  This class is responsible</i></td></tr>
<tr><th id="11">11</th><td><i>/// for managing hardware register files and the tracking of data dependencies</i></td></tr>
<tr><th id="12">12</th><td><i>/// between registers.</i></td></tr>
<tr><th id="13">13</th><td><i>///</i></td></tr>
<tr><th id="14">14</th><td><i>//===----------------------------------------------------------------------===//</i></td></tr>
<tr><th id="15">15</th><td></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html">"llvm/MCA/HardwareUnits/RegisterFile.h"</a></u></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="../../../include/llvm/MCA/Instruction.h.html">"llvm/MCA/Instruction.h"</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../../../include/llvm/Support/Debug.h.html">"llvm/Support/Debug.h"</a></u></td></tr>
<tr><th id="19">19</th><td></td></tr>
<tr><th id="20">20</th><td><u>#define <dfn class="macro" id="_M/DEBUG_TYPE" data-ref="_M/DEBUG_TYPE">DEBUG_TYPE</dfn> "llvm-mca"</u></td></tr>
<tr><th id="21">21</th><td></td></tr>
<tr><th id="22">22</th><td><b>namespace</b> <span class="namespace">llvm</span> {</td></tr>
<tr><th id="23">23</th><td><b>namespace</b> <span class="namespace">mca</span> {</td></tr>
<tr><th id="24">24</th><td></td></tr>
<tr><th id="25">25</th><td><a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile" title='llvm::mca::RegisterFile' data-ref="llvm::mca::RegisterFile" data-ref-filename="llvm..mca..RegisterFile">RegisterFile</a>::<dfn class="decl def fn" id="_ZN4llvm3mca12RegisterFileC1ERKNS_12MCSchedModelERKNS_14MCRegisterInfoEj" title='llvm::mca::RegisterFile::RegisterFile' data-ref="_ZN4llvm3mca12RegisterFileC1ERKNS_12MCSchedModelERKNS_14MCRegisterInfoEj" data-ref-filename="_ZN4llvm3mca12RegisterFileC1ERKNS_12MCSchedModelERKNS_14MCRegisterInfoEj">RegisterFile</dfn>(<em>const</em> <a class="type" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCSchedModel" title='llvm::MCSchedModel' data-ref="llvm::MCSchedModel" data-ref-filename="llvm..MCSchedModel">MCSchedModel</a> &amp;<dfn class="local col1 decl" id="1SM" title='SM' data-type='const llvm::MCSchedModel &amp;' data-ref="1SM" data-ref-filename="1SM">SM</dfn>, <em>const</em> <a class="type" href="../../../include/llvm/MC/MCRegisterInfo.h.html#llvm::MCRegisterInfo" title='llvm::MCRegisterInfo' data-ref="llvm::MCRegisterInfo" data-ref-filename="llvm..MCRegisterInfo">MCRegisterInfo</a> &amp;<dfn class="local col2 decl" id="2mri" title='mri' data-type='const llvm::MCRegisterInfo &amp;' data-ref="2mri" data-ref-filename="2mri">mri</dfn>,</td></tr>
<tr><th id="26">26</th><td>                           <em>unsigned</em> <dfn class="local col3 decl" id="3NumRegs" title='NumRegs' data-type='unsigned int' data-ref="3NumRegs" data-ref-filename="3NumRegs">NumRegs</dfn>)</td></tr>
<tr><th id="27">27</th><td>    : <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::MRI" title='llvm::mca::RegisterFile::MRI' data-ref="llvm::mca::RegisterFile::MRI" data-ref-filename="llvm..mca..RegisterFile..MRI">MRI</a>(<a class="local col2 ref" href="#2mri" title='mri' data-ref="2mri" data-ref-filename="2mri">mri</a>),</td></tr>
<tr><th id="28">28</th><td>      <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EmRKT_RKT0_" data-ref-filename="_ZNSt6vectorC1EmRKT_RKT0_">(</span><a class="local col2 ref" href="#2mri" title='mri' data-ref="2mri" data-ref-filename="2mri">mri</a>.<a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo10getNumRegsEv" title='llvm::MCRegisterInfo::getNumRegs' data-ref="_ZNK4llvm14MCRegisterInfo10getNumRegsEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo10getNumRegsEv">getNumRegs</a>(), <span class='ref fn' title='std::pair::pair&lt;_T1, _T2&gt;' data-ref="_ZNSt4pairC1EOTL0__OTL0_0_" data-ref-filename="_ZNSt4pairC1EOTL0__OTL0_0_">{</span><a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteRef" title='llvm::mca::WriteRef' data-ref="llvm::mca::WriteRef" data-ref-filename="llvm..mca..WriteRef">WriteRef</a><a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca8WriteRefC1Ev" title='llvm::mca::WriteRef::WriteRef' data-ref="_ZN4llvm3mca8WriteRefC1Ev" data-ref-filename="_ZN4llvm3mca8WriteRefC1Ev">(</a>), <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo" title='llvm::mca::RegisterFile::RegisterRenamingInfo' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo">RegisterRenamingInfo</a><a class="ref fn" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#_ZN4llvm3mca12RegisterFile20RegisterRenamingInfoC1Ev" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RegisterRenamingInfo' data-ref="_ZN4llvm3mca12RegisterFile20RegisterRenamingInfoC1Ev" data-ref-filename="_ZN4llvm3mca12RegisterFile20RegisterRenamingInfoC1Ev">(</a>)}),</td></tr>
<tr><th id="29">29</th><td>      <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::ZeroRegisters" title='llvm::mca::RegisterFile::ZeroRegisters' data-ref="llvm::mca::RegisterFile::ZeroRegisters" data-ref-filename="llvm..mca..RegisterFile..ZeroRegisters">ZeroRegisters</a><a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APIntC1Ejmb" title='llvm::APInt::APInt' data-ref="_ZN4llvm5APIntC1Ejmb" data-ref-filename="_ZN4llvm5APIntC1Ejmb">(</a><a class="local col2 ref" href="#2mri" title='mri' data-ref="2mri" data-ref-filename="2mri">mri</a>.<a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo10getNumRegsEv" title='llvm::MCRegisterInfo::getNumRegs' data-ref="_ZNK4llvm14MCRegisterInfo10getNumRegsEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo10getNumRegsEv">getNumRegs</a>(), <b>false</b>) {</td></tr>
<tr><th id="30">30</th><td>  <a class="member fn" href="#_ZN4llvm3mca12RegisterFile10initializeERKNS_12MCSchedModelEj" title='llvm::mca::RegisterFile::initialize' data-ref="_ZN4llvm3mca12RegisterFile10initializeERKNS_12MCSchedModelEj" data-ref-filename="_ZN4llvm3mca12RegisterFile10initializeERKNS_12MCSchedModelEj">initialize</a>(<a class="local col1 ref" href="#1SM" title='SM' data-ref="1SM" data-ref-filename="1SM">SM</a>, <a class="local col3 ref" href="#3NumRegs" title='NumRegs' data-ref="3NumRegs" data-ref-filename="3NumRegs">NumRegs</a>);</td></tr>
<tr><th id="31">31</th><td>}</td></tr>
<tr><th id="32">32</th><td></td></tr>
<tr><th id="33">33</th><td><em>void</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile" title='llvm::mca::RegisterFile' data-ref="llvm::mca::RegisterFile" data-ref-filename="llvm..mca..RegisterFile">RegisterFile</a>::<dfn class="decl def fn" id="_ZN4llvm3mca12RegisterFile10initializeERKNS_12MCSchedModelEj" title='llvm::mca::RegisterFile::initialize' data-ref="_ZN4llvm3mca12RegisterFile10initializeERKNS_12MCSchedModelEj" data-ref-filename="_ZN4llvm3mca12RegisterFile10initializeERKNS_12MCSchedModelEj">initialize</dfn>(<em>const</em> <a class="type" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCSchedModel" title='llvm::MCSchedModel' data-ref="llvm::MCSchedModel" data-ref-filename="llvm..MCSchedModel">MCSchedModel</a> &amp;<dfn class="local col4 decl" id="4SM" title='SM' data-type='const llvm::MCSchedModel &amp;' data-ref="4SM" data-ref-filename="4SM">SM</dfn>, <em>unsigned</em> <dfn class="local col5 decl" id="5NumRegs" title='NumRegs' data-type='unsigned int' data-ref="5NumRegs" data-ref-filename="5NumRegs">NumRegs</dfn>) {</td></tr>
<tr><th id="34">34</th><td>  <i>// Create a default register file that "sees" all the machine registers</i></td></tr>
<tr><th id="35">35</th><td><i>  // declared by the target. The number of physical registers in the default</i></td></tr>
<tr><th id="36">36</th><td><i>  // register file is set equal to `NumRegs`. A value of zero for `NumRegs`</i></td></tr>
<tr><th id="37">37</th><td><i>  // means: this register file has an unbounded number of physical registers.</i></td></tr>
<tr><th id="38">38</th><td>  <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterFiles" title='llvm::mca::RegisterFile::RegisterFiles' data-ref="llvm::mca::RegisterFile::RegisterFiles" data-ref-filename="llvm..mca..RegisterFile..RegisterFiles">RegisterFiles</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" title='llvm::SmallVectorImpl::emplace_back' data-ref="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" data-ref-filename="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__">emplace_back</a>(<span class='refarg'><a class="local col5 ref" href="#5NumRegs" title='NumRegs' data-ref="5NumRegs" data-ref-filename="5NumRegs">NumRegs</a></span>);</td></tr>
<tr><th id="39">39</th><td>  <b>if</b> (!<a class="local col4 ref" href="#4SM" title='SM' data-ref="4SM" data-ref-filename="4SM">SM</a>.<a class="ref fn" href="../../../include/llvm/MC/MCSchedule.h.html#_ZNK4llvm12MCSchedModel21hasExtraProcessorInfoEv" title='llvm::MCSchedModel::hasExtraProcessorInfo' data-ref="_ZNK4llvm12MCSchedModel21hasExtraProcessorInfoEv" data-ref-filename="_ZNK4llvm12MCSchedModel21hasExtraProcessorInfoEv">hasExtraProcessorInfo</a>())</td></tr>
<tr><th id="40">40</th><td>    <b>return</b>;</td></tr>
<tr><th id="41">41</th><td></td></tr>
<tr><th id="42">42</th><td>  <i>// For each user defined register file, allocate a RegisterMappingTracker</i></td></tr>
<tr><th id="43">43</th><td><i>  // object. The size of every register file, as well as the mapping between</i></td></tr>
<tr><th id="44">44</th><td><i>  // register files and register classes is specified via tablegen.</i></td></tr>
<tr><th id="45">45</th><td>  <em>const</em> <a class="type" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCExtraProcessorInfo" title='llvm::MCExtraProcessorInfo' data-ref="llvm::MCExtraProcessorInfo" data-ref-filename="llvm..MCExtraProcessorInfo">MCExtraProcessorInfo</a> &amp;<dfn class="local col6 decl" id="6Info" title='Info' data-type='const llvm::MCExtraProcessorInfo &amp;' data-ref="6Info" data-ref-filename="6Info">Info</dfn> = <a class="local col4 ref" href="#4SM" title='SM' data-ref="4SM" data-ref-filename="4SM">SM</a>.<a class="ref fn" href="../../../include/llvm/MC/MCSchedule.h.html#_ZNK4llvm12MCSchedModel21getExtraProcessorInfoEv" title='llvm::MCSchedModel::getExtraProcessorInfo' data-ref="_ZNK4llvm12MCSchedModel21getExtraProcessorInfoEv" data-ref-filename="_ZNK4llvm12MCSchedModel21getExtraProcessorInfoEv">getExtraProcessorInfo</a>();</td></tr>
<tr><th id="46">46</th><td></td></tr>
<tr><th id="47">47</th><td>  <i>// Skip invalid register file at index 0.</i></td></tr>
<tr><th id="48">48</th><td>  <b>for</b> (<em>unsigned</em> <dfn class="local col7 decl" id="7I" title='I' data-type='unsigned int' data-ref="7I" data-ref-filename="7I">I</dfn> = <var>1</var>, <dfn class="local col8 decl" id="8E" title='E' data-type='unsigned int' data-ref="8E" data-ref-filename="8E">E</dfn> = <a class="local col6 ref" href="#6Info" title='Info' data-ref="6Info" data-ref-filename="6Info">Info</a>.<a class="ref field" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCExtraProcessorInfo::NumRegisterFiles" title='llvm::MCExtraProcessorInfo::NumRegisterFiles' data-ref="llvm::MCExtraProcessorInfo::NumRegisterFiles" data-ref-filename="llvm..MCExtraProcessorInfo..NumRegisterFiles">NumRegisterFiles</a>; <a class="local col7 ref" href="#7I" title='I' data-ref="7I" data-ref-filename="7I">I</a> &lt; <a class="local col8 ref" href="#8E" title='E' data-ref="8E" data-ref-filename="8E">E</a>; ++<a class="local col7 ref" href="#7I" title='I' data-ref="7I" data-ref-filename="7I">I</a>) {</td></tr>
<tr><th id="49">49</th><td>    <em>const</em> <a class="type" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCRegisterFileDesc" title='llvm::MCRegisterFileDesc' data-ref="llvm::MCRegisterFileDesc" data-ref-filename="llvm..MCRegisterFileDesc">MCRegisterFileDesc</a> &amp;<dfn class="local col9 decl" id="9RF" title='RF' data-type='const llvm::MCRegisterFileDesc &amp;' data-ref="9RF" data-ref-filename="9RF">RF</dfn> = <a class="local col6 ref" href="#6Info" title='Info' data-ref="6Info" data-ref-filename="6Info">Info</a>.<a class="ref field" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCExtraProcessorInfo::RegisterFiles" title='llvm::MCExtraProcessorInfo::RegisterFiles' data-ref="llvm::MCExtraProcessorInfo::RegisterFiles" data-ref-filename="llvm..MCExtraProcessorInfo..RegisterFiles">RegisterFiles</a>[<a class="local col7 ref" href="#7I" title='I' data-ref="7I" data-ref-filename="7I">I</a>];</td></tr>
<tr><th id="50">50</th><td>    <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(RF.NumPhysRegs &amp;&amp; <q>"Invalid PRF with zero physical registers!"</q>);</td></tr>
<tr><th id="51">51</th><td></td></tr>
<tr><th id="52">52</th><td>    <i>// The cost of a register definition is equivalent to the number of</i></td></tr>
<tr><th id="53">53</th><td><i>    // physical registers that are allocated at register renaming stage.</i></td></tr>
<tr><th id="54">54</th><td>    <em>unsigned</em> <dfn class="local col0 decl" id="10Length" title='Length' data-type='unsigned int' data-ref="10Length" data-ref-filename="10Length">Length</dfn> = <a class="local col9 ref" href="#9RF" title='RF' data-ref="9RF" data-ref-filename="9RF">RF</a>.<a class="ref field" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCRegisterFileDesc::NumRegisterCostEntries" title='llvm::MCRegisterFileDesc::NumRegisterCostEntries' data-ref="llvm::MCRegisterFileDesc::NumRegisterCostEntries" data-ref-filename="llvm..MCRegisterFileDesc..NumRegisterCostEntries">NumRegisterCostEntries</a>;</td></tr>
<tr><th id="55">55</th><td>    <em>const</em> <a class="type" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCRegisterCostEntry" title='llvm::MCRegisterCostEntry' data-ref="llvm::MCRegisterCostEntry" data-ref-filename="llvm..MCRegisterCostEntry">MCRegisterCostEntry</a> *<dfn class="local col1 decl" id="11FirstElt" title='FirstElt' data-type='const llvm::MCRegisterCostEntry *' data-ref="11FirstElt" data-ref-filename="11FirstElt">FirstElt</dfn> =</td></tr>
<tr><th id="56">56</th><td>        &amp;<a class="local col6 ref" href="#6Info" title='Info' data-ref="6Info" data-ref-filename="6Info">Info</a>.<a class="ref field" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCExtraProcessorInfo::RegisterCostTable" title='llvm::MCExtraProcessorInfo::RegisterCostTable' data-ref="llvm::MCExtraProcessorInfo::RegisterCostTable" data-ref-filename="llvm..MCExtraProcessorInfo..RegisterCostTable">RegisterCostTable</a>[<a class="local col9 ref" href="#9RF" title='RF' data-ref="9RF" data-ref-filename="9RF">RF</a>.<a class="ref field" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCRegisterFileDesc::RegisterCostEntryIdx" title='llvm::MCRegisterFileDesc::RegisterCostEntryIdx' data-ref="llvm::MCRegisterFileDesc::RegisterCostEntryIdx" data-ref-filename="llvm..MCRegisterFileDesc..RegisterCostEntryIdx">RegisterCostEntryIdx</a>];</td></tr>
<tr><th id="57">57</th><td>    <a class="member fn" href="#_ZN4llvm3mca12RegisterFile15addRegisterFileERKNS_18MCRegisterFileDescENS_8ArrayRefINS_19MCRegisterCostEntryEEE" title='llvm::mca::RegisterFile::addRegisterFile' data-ref="_ZN4llvm3mca12RegisterFile15addRegisterFileERKNS_18MCRegisterFileDescENS_8ArrayRefINS_19MCRegisterCostEntryEEE" data-ref-filename="_ZN4llvm3mca12RegisterFile15addRegisterFileERKNS_18MCRegisterFileDescENS_8ArrayRefINS_19MCRegisterCostEntryEEE">addRegisterFile</a>(<a class="local col9 ref" href="#9RF" title='RF' data-ref="9RF" data-ref-filename="9RF">RF</a>, <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::ArrayRef" title='llvm::ArrayRef' data-ref="llvm::ArrayRef" data-ref-filename="llvm..ArrayRef">ArrayRef</a>&lt;<a class="type" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCRegisterCostEntry" title='llvm::MCRegisterCostEntry' data-ref="llvm::MCRegisterCostEntry" data-ref-filename="llvm..MCRegisterCostEntry">MCRegisterCostEntry</a>&gt;<a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1EPKT_m" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1EPKT_m" data-ref-filename="_ZN4llvm8ArrayRefC1EPKT_m">(</a><a class="local col1 ref" href="#11FirstElt" title='FirstElt' data-ref="11FirstElt" data-ref-filename="11FirstElt">FirstElt</a>, <a class="local col0 ref" href="#10Length" title='Length' data-ref="10Length" data-ref-filename="10Length">Length</a>));</td></tr>
<tr><th id="58">58</th><td>  }</td></tr>
<tr><th id="59">59</th><td>}</td></tr>
<tr><th id="60">60</th><td></td></tr>
<tr><th id="61">61</th><td><em>void</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile" title='llvm::mca::RegisterFile' data-ref="llvm::mca::RegisterFile" data-ref-filename="llvm..mca..RegisterFile">RegisterFile</a>::<dfn class="decl def fn" id="_ZN4llvm3mca12RegisterFile10cycleStartEv" title='llvm::mca::RegisterFile::cycleStart' data-ref="_ZN4llvm3mca12RegisterFile10cycleStartEv" data-ref-filename="_ZN4llvm3mca12RegisterFile10cycleStartEv">cycleStart</dfn>() {</td></tr>
<tr><th id="62">62</th><td>  <b>for</b> (<a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker" title='llvm::mca::RegisterFile::RegisterMappingTracker' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker">RegisterMappingTracker</a> &amp;<dfn class="local col2 decl" id="12RMT" title='RMT' data-type='llvm::mca::RegisterFile::RegisterMappingTracker &amp;' data-ref="12RMT" data-ref-filename="12RMT">RMT</dfn> : <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterFiles" title='llvm::mca::RegisterFile::RegisterFiles' data-ref="llvm::mca::RegisterFile::RegisterFiles" data-ref-filename="llvm..mca..RegisterFile..RegisterFiles">RegisterFiles</a>)</td></tr>
<tr><th id="63">63</th><td>    <a class="local col2 ref" href="#12RMT" title='RMT' data-ref="12RMT" data-ref-filename="12RMT">RMT</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::NumMoveEliminated" title='llvm::mca::RegisterFile::RegisterMappingTracker::NumMoveEliminated' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::NumMoveEliminated" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..NumMoveEliminated">NumMoveEliminated</a> = <var>0</var>;</td></tr>
<tr><th id="64">64</th><td>}</td></tr>
<tr><th id="65">65</th><td></td></tr>
<tr><th id="66">66</th><td><em>void</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile" title='llvm::mca::RegisterFile' data-ref="llvm::mca::RegisterFile" data-ref-filename="llvm..mca..RegisterFile">RegisterFile</a>::<dfn class="decl def fn" id="_ZN4llvm3mca12RegisterFile15addRegisterFileERKNS_18MCRegisterFileDescENS_8ArrayRefINS_19MCRegisterCostEntryEEE" title='llvm::mca::RegisterFile::addRegisterFile' data-ref="_ZN4llvm3mca12RegisterFile15addRegisterFileERKNS_18MCRegisterFileDescENS_8ArrayRefINS_19MCRegisterCostEntryEEE" data-ref-filename="_ZN4llvm3mca12RegisterFile15addRegisterFileERKNS_18MCRegisterFileDescENS_8ArrayRefINS_19MCRegisterCostEntryEEE">addRegisterFile</dfn>(<em>const</em> <a class="type" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCRegisterFileDesc" title='llvm::MCRegisterFileDesc' data-ref="llvm::MCRegisterFileDesc" data-ref-filename="llvm..MCRegisterFileDesc">MCRegisterFileDesc</a> &amp;<dfn class="local col3 decl" id="13RF" title='RF' data-type='const llvm::MCRegisterFileDesc &amp;' data-ref="13RF" data-ref-filename="13RF">RF</dfn>,</td></tr>
<tr><th id="67">67</th><td>                                   <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::ArrayRef" title='llvm::ArrayRef' data-ref="llvm::ArrayRef" data-ref-filename="llvm..ArrayRef">ArrayRef</a>&lt;<a class="type" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCRegisterCostEntry" title='llvm::MCRegisterCostEntry' data-ref="llvm::MCRegisterCostEntry" data-ref-filename="llvm..MCRegisterCostEntry">MCRegisterCostEntry</a>&gt; <dfn class="local col4 decl" id="14Entries" title='Entries' data-type='ArrayRef&lt;llvm::MCRegisterCostEntry&gt;' data-ref="14Entries" data-ref-filename="14Entries">Entries</dfn>) {</td></tr>
<tr><th id="68">68</th><td>  <i>// A default register file is always allocated at index #0. That register file</i></td></tr>
<tr><th id="69">69</th><td><i>  // is mainly used to count the total number of mappings created by all</i></td></tr>
<tr><th id="70">70</th><td><i>  // register files at runtime. Users can limit the number of available physical</i></td></tr>
<tr><th id="71">71</th><td><i>  // registers in register file #0 through the command line flag</i></td></tr>
<tr><th id="72">72</th><td><i>  // `-register-file-size`.</i></td></tr>
<tr><th id="73">73</th><td>  <em>unsigned</em> <dfn class="local col5 decl" id="15RegisterFileIndex" title='RegisterFileIndex' data-type='unsigned int' data-ref="15RegisterFileIndex" data-ref-filename="15RegisterFileIndex">RegisterFileIndex</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterFiles" title='llvm::mca::RegisterFile::RegisterFiles' data-ref="llvm::mca::RegisterFile::RegisterFiles" data-ref-filename="llvm..mca..RegisterFile..RegisterFiles">RegisterFiles</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase4sizeEv" title='llvm::SmallVectorBase::size' data-ref="_ZNK4llvm15SmallVectorBase4sizeEv" data-ref-filename="_ZNK4llvm15SmallVectorBase4sizeEv">size</a>();</td></tr>
<tr><th id="74">74</th><td>  <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterFiles" title='llvm::mca::RegisterFile::RegisterFiles' data-ref="llvm::mca::RegisterFile::RegisterFiles" data-ref-filename="llvm..mca..RegisterFile..RegisterFiles">RegisterFiles</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" title='llvm::SmallVectorImpl::emplace_back' data-ref="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__" data-ref-filename="_ZN4llvm15SmallVectorImpl12emplace_backEDpOTL0__">emplace_back</a>(<a class="local col3 ref" href="#13RF" title='RF' data-ref="13RF" data-ref-filename="13RF">RF</a>.<a class="ref field" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCRegisterFileDesc::NumPhysRegs" title='llvm::MCRegisterFileDesc::NumPhysRegs' data-ref="llvm::MCRegisterFileDesc::NumPhysRegs" data-ref-filename="llvm..MCRegisterFileDesc..NumPhysRegs">NumPhysRegs</a>, <a class="local col3 ref" href="#13RF" title='RF' data-ref="13RF" data-ref-filename="13RF">RF</a>.<a class="ref field" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCRegisterFileDesc::MaxMovesEliminatedPerCycle" title='llvm::MCRegisterFileDesc::MaxMovesEliminatedPerCycle' data-ref="llvm::MCRegisterFileDesc::MaxMovesEliminatedPerCycle" data-ref-filename="llvm..MCRegisterFileDesc..MaxMovesEliminatedPerCycle">MaxMovesEliminatedPerCycle</a>,</td></tr>
<tr><th id="75">75</th><td>                             <a class="local col3 ref" href="#13RF" title='RF' data-ref="13RF" data-ref-filename="13RF">RF</a>.<a class="ref field" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCRegisterFileDesc::AllowZeroMoveEliminationOnly" title='llvm::MCRegisterFileDesc::AllowZeroMoveEliminationOnly' data-ref="llvm::MCRegisterFileDesc::AllowZeroMoveEliminationOnly" data-ref-filename="llvm..MCRegisterFileDesc..AllowZeroMoveEliminationOnly">AllowZeroMoveEliminationOnly</a>);</td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td>  <i>// Special case where there is no register class identifier in the set.</i></td></tr>
<tr><th id="78">78</th><td><i>  // An empty set of register classes means: this register file contains all</i></td></tr>
<tr><th id="79">79</th><td><i>  // the physical registers specified by the target.</i></td></tr>
<tr><th id="80">80</th><td><i>  // We optimistically assume that a register can be renamed at the cost of a</i></td></tr>
<tr><th id="81">81</th><td><i>  // single physical register. The constructor of RegisterFile ensures that</i></td></tr>
<tr><th id="82">82</th><td><i>  // a RegisterMapping exists for each logical register defined by the Target.</i></td></tr>
<tr><th id="83">83</th><td>  <b>if</b> (<a class="local col4 ref" href="#14Entries" title='Entries' data-ref="14Entries" data-ref-filename="14Entries">Entries</a>.<a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRef5emptyEv" title='llvm::ArrayRef::empty' data-ref="_ZNK4llvm8ArrayRef5emptyEv" data-ref-filename="_ZNK4llvm8ArrayRef5emptyEv">empty</a>())</td></tr>
<tr><th id="84">84</th><td>    <b>return</b>;</td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td>  <i>// Now update the cost of individual registers.</i></td></tr>
<tr><th id="87">87</th><td>  <b>for</b> (<em>const</em> <a class="type" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCRegisterCostEntry" title='llvm::MCRegisterCostEntry' data-ref="llvm::MCRegisterCostEntry" data-ref-filename="llvm..MCRegisterCostEntry">MCRegisterCostEntry</a> &amp;<dfn class="local col6 decl" id="16RCE" title='RCE' data-type='const llvm::MCRegisterCostEntry &amp;' data-ref="16RCE" data-ref-filename="16RCE">RCE</dfn> : <a class="local col4 ref" href="#14Entries" title='Entries' data-ref="14Entries" data-ref-filename="14Entries">Entries</a>) {</td></tr>
<tr><th id="88">88</th><td>    <em>const</em> <a class="type" href="../../../include/llvm/MC/MCRegisterInfo.h.html#llvm::MCRegisterClass" title='llvm::MCRegisterClass' data-ref="llvm::MCRegisterClass" data-ref-filename="llvm..MCRegisterClass">MCRegisterClass</a> &amp;<dfn class="local col7 decl" id="17RC" title='RC' data-type='const llvm::MCRegisterClass &amp;' data-ref="17RC" data-ref-filename="17RC">RC</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::MRI" title='llvm::mca::RegisterFile::MRI' data-ref="llvm::mca::RegisterFile::MRI" data-ref-filename="llvm..mca..RegisterFile..MRI">MRI</a>.<a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo11getRegClassEj" title='llvm::MCRegisterInfo::getRegClass' data-ref="_ZNK4llvm14MCRegisterInfo11getRegClassEj" data-ref-filename="_ZNK4llvm14MCRegisterInfo11getRegClassEj">getRegClass</a>(<a class="local col6 ref" href="#16RCE" title='RCE' data-ref="16RCE" data-ref-filename="16RCE">RCE</a>.<a class="ref field" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCRegisterCostEntry::RegisterClassID" title='llvm::MCRegisterCostEntry::RegisterClassID' data-ref="llvm::MCRegisterCostEntry::RegisterClassID" data-ref-filename="llvm..MCRegisterCostEntry..RegisterClassID">RegisterClassID</a>);</td></tr>
<tr><th id="89">89</th><td>    <b>for</b> (<em>const</em> <a class="typedef" href="../../../include/llvm/MC/MCRegister.h.html#llvm::MCPhysReg" title='llvm::MCPhysReg' data-type='uint16_t' data-ref="llvm::MCPhysReg" data-ref-filename="llvm..MCPhysReg">MCPhysReg</a> <dfn class="local col8 decl" id="18Reg" title='Reg' data-type='const llvm::MCPhysReg' data-ref="18Reg" data-ref-filename="18Reg">Reg</dfn> : <a class="local col7 ref" href="#17RC" title='RC' data-ref="17RC" data-ref-filename="17RC">RC</a>) {</td></tr>
<tr><th id="90">90</th><td>      <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo" title='llvm::mca::RegisterFile::RegisterRenamingInfo' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo">RegisterRenamingInfo</a> &amp;<dfn class="local col9 decl" id="19Entry" title='Entry' data-type='llvm::mca::RegisterFile::RegisterRenamingInfo &amp;' data-ref="19Entry" data-ref-filename="19Entry">Entry</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#18Reg" title='Reg' data-ref="18Reg" data-ref-filename="18Reg">Reg</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>;</td></tr>
<tr><th id="91">91</th><td>      <a class="typedef" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::IndexPlusCostPairTy" title='llvm::mca::RegisterFile::IndexPlusCostPairTy' data-type='std::pair&lt;unsigned int, unsigned int&gt;' data-ref="llvm::mca::RegisterFile::IndexPlusCostPairTy" data-ref-filename="llvm..mca..RegisterFile..IndexPlusCostPairTy">IndexPlusCostPairTy</a> &amp;<dfn class="local col0 decl" id="20IPC" title='IPC' data-type='llvm::mca::RegisterFile::IndexPlusCostPairTy &amp;' data-ref="20IPC" data-ref-filename="20IPC">IPC</dfn> = <a class="local col9 ref" href="#19Entry" title='Entry' data-ref="19Entry" data-ref-filename="19Entry">Entry</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" title='llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..IndexPlusCost">IndexPlusCost</a>;</td></tr>
<tr><th id="92">92</th><td>      <b>if</b> (<a class="local col0 ref" href="#20IPC" title='IPC' data-ref="20IPC" data-ref-filename="20IPC">IPC</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span> &amp;&amp; <a class="local col0 ref" href="#20IPC" title='IPC' data-ref="20IPC" data-ref-filename="20IPC">IPC</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span> != <a class="local col5 ref" href="#15RegisterFileIndex" title='RegisterFileIndex' data-ref="15RegisterFileIndex" data-ref-filename="15RegisterFileIndex">RegisterFileIndex</a>) {</td></tr>
<tr><th id="93">93</th><td>        <i>// The only register file that is allowed to overlap is the default</i></td></tr>
<tr><th id="94">94</th><td><i>        // register file at index #0. The analysis is inaccurate if register</i></td></tr>
<tr><th id="95">95</th><td><i>        // files overlap.</i></td></tr>
<tr><th id="96">96</th><td>        <a class="ref fn" href="../../../include/llvm/Support/raw_ostream.h.html#_ZN4llvm4errsEv" title='llvm::errs' data-ref="_ZN4llvm4errsEv" data-ref-filename="_ZN4llvm4errsEv">errs</a>() <a class="ref fn" href="../../../include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEPKc" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEPKc" data-ref-filename="_ZN4llvm11raw_ostreamlsEPKc">&lt;&lt;</a> <q>"warning: register "</q> <a class="ref fn" href="../../../include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEPKc" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEPKc" data-ref-filename="_ZN4llvm11raw_ostreamlsEPKc">&lt;&lt;</a> <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::MRI" title='llvm::mca::RegisterFile::MRI' data-ref="llvm::mca::RegisterFile::MRI" data-ref-filename="llvm..mca..RegisterFile..MRI">MRI</a>.<a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo7getNameENS_10MCRegisterE" title='llvm::MCRegisterInfo::getName' data-ref="_ZNK4llvm14MCRegisterInfo7getNameENS_10MCRegisterE" data-ref-filename="_ZNK4llvm14MCRegisterInfo7getNameENS_10MCRegisterE">getName</a>(<a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZN4llvm10MCRegisterC1Ej" title='llvm::MCRegister::MCRegister' data-ref="_ZN4llvm10MCRegisterC1Ej" data-ref-filename="_ZN4llvm10MCRegisterC1Ej"></a><a class="local col8 ref" href="#18Reg" title='Reg' data-ref="18Reg" data-ref-filename="18Reg">Reg</a>)</td></tr>
<tr><th id="97">97</th><td>               <a class="ref fn" href="../../../include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEPKc" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEPKc" data-ref-filename="_ZN4llvm11raw_ostreamlsEPKc">&lt;&lt;</a> <q>" defined in multiple register files."</q>;</td></tr>
<tr><th id="98">98</th><td>      }</td></tr>
<tr><th id="99">99</th><td>      <a class="local col0 ref" href="#20IPC" title='IPC' data-ref="20IPC" data-ref-filename="20IPC">IPC</a> <span class='ref fn' title='std::pair::operator=' data-ref="_ZNSt4pairaSENSt11conditionalIXsr6__and_ISt18is_move_assignableIT_ES1_IT0_EEE5valueEOSt4pairIS2_S4_EOSt20__nonesuch_no_bracesE4typeE" data-ref-filename="_ZNSt4pairaSENSt11conditionalIXsr6__and_ISt18is_move_assignableIT_ES1_IT0_EEE5valueEOSt4pairIS2_S4_EOSt20__nonesuch_no_bracesE4typeE">=</span> <span class="namespace">std::</span><span class='ref fn' title='std::make_pair' data-ref="_ZSt9make_pairOT_OT0_" data-ref-filename="_ZSt9make_pairOT_OT0_">make_pair</span>(<span class='refarg'><a class="local col5 ref" href="#15RegisterFileIndex" title='RegisterFileIndex' data-ref="15RegisterFileIndex" data-ref-filename="15RegisterFileIndex">RegisterFileIndex</a></span>, <a class="local col6 ref" href="#16RCE" title='RCE' data-ref="16RCE" data-ref-filename="16RCE">RCE</a>.<a class="ref field" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCRegisterCostEntry::Cost" title='llvm::MCRegisterCostEntry::Cost' data-ref="llvm::MCRegisterCostEntry::Cost" data-ref-filename="llvm..MCRegisterCostEntry..Cost">Cost</a>);</td></tr>
<tr><th id="100">100</th><td>      <a class="local col9 ref" href="#19Entry" title='Entry' data-ref="19Entry" data-ref-filename="19Entry">Entry</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a> = <a class="local col8 ref" href="#18Reg" title='Reg' data-ref="18Reg" data-ref-filename="18Reg">Reg</a>;</td></tr>
<tr><th id="101">101</th><td>      <a class="local col9 ref" href="#19Entry" title='Entry' data-ref="19Entry" data-ref-filename="19Entry">Entry</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::AllowMoveElimination" title='llvm::mca::RegisterFile::RegisterRenamingInfo::AllowMoveElimination' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::AllowMoveElimination" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..AllowMoveElimination">AllowMoveElimination</a> = <a class="local col6 ref" href="#16RCE" title='RCE' data-ref="16RCE" data-ref-filename="16RCE">RCE</a>.<a class="ref field" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCRegisterCostEntry::AllowMoveElimination" title='llvm::MCRegisterCostEntry::AllowMoveElimination' data-ref="llvm::MCRegisterCostEntry::AllowMoveElimination" data-ref-filename="llvm..MCRegisterCostEntry..AllowMoveElimination">AllowMoveElimination</a>;</td></tr>
<tr><th id="102">102</th><td></td></tr>
<tr><th id="103">103</th><td>      <i>// Assume the same cost for each sub-register.</i></td></tr>
<tr><th id="104">104</th><td>      <b>for</b> (<a class="type" href="../../../include/llvm/MC/MCRegisterInfo.h.html#llvm::MCSubRegIterator" title='llvm::MCSubRegIterator' data-ref="llvm::MCSubRegIterator" data-ref-filename="llvm..MCSubRegIterator">MCSubRegIterator</a> <dfn class="local col1 decl" id="21I" title='I' data-type='llvm::MCSubRegIterator' data-ref="21I" data-ref-filename="21I">I</dfn><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" title='llvm::MCSubRegIterator::MCSubRegIterator' data-ref="_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" data-ref-filename="_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb">(</a><a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZN4llvm10MCRegisterC1Ej" title='llvm::MCRegister::MCRegister' data-ref="_ZN4llvm10MCRegisterC1Ej" data-ref-filename="_ZN4llvm10MCRegisterC1Ej"></a><a class="local col8 ref" href="#18Reg" title='Reg' data-ref="18Reg" data-ref-filename="18Reg">Reg</a>, &amp;<a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::MRI" title='llvm::mca::RegisterFile::MRI' data-ref="llvm::mca::RegisterFile::MRI" data-ref-filename="llvm..mca..RegisterFile..MRI">MRI</a>); <a class="local col1 ref" href="#21I" title='I' data-ref="21I" data-ref-filename="21I">I</a>.<a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" title='llvm::MCRegisterInfo::DiffListIterator::isValid' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv">isValid</a>(); <a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" title='llvm::MCRegisterInfo::DiffListIterator::operator++' data-ref="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" data-ref-filename="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv">++</a><a class="local col1 ref" href="#21I" title='I' data-ref="21I" data-ref-filename="21I">I</a>) {</td></tr>
<tr><th id="105">105</th><td>        <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo" title='llvm::mca::RegisterFile::RegisterRenamingInfo' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo">RegisterRenamingInfo</a> &amp;<dfn class="local col2 decl" id="22OtherEntry" title='OtherEntry' data-type='llvm::mca::RegisterFile::RegisterRenamingInfo &amp;' data-ref="22OtherEntry" data-ref-filename="22OtherEntry">OtherEntry</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZNK4llvm10MCRegistercvjEv" title='llvm::MCRegister::operator unsigned int' data-ref="_ZNK4llvm10MCRegistercvjEv" data-ref-filename="_ZNK4llvm10MCRegistercvjEv"></a><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" title='llvm::MCRegisterInfo::DiffListIterator::operator*' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv">*</a><a class="local col1 ref" href="#21I" title='I' data-ref="21I" data-ref-filename="21I">I</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>;</td></tr>
<tr><th id="106">106</th><td>        <b>if</b> (!<a class="local col2 ref" href="#22OtherEntry" title='OtherEntry' data-ref="22OtherEntry" data-ref-filename="22OtherEntry">OtherEntry</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" title='llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..IndexPlusCost">IndexPlusCost</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span> &amp;&amp;</td></tr>
<tr><th id="107">107</th><td>            (!<a class="local col2 ref" href="#22OtherEntry" title='OtherEntry' data-ref="22OtherEntry" data-ref-filename="22OtherEntry">OtherEntry</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a> ||</td></tr>
<tr><th id="108">108</th><td>             <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::MRI" title='llvm::mca::RegisterFile::MRI' data-ref="llvm::mca::RegisterFile::MRI" data-ref-filename="llvm..mca..RegisterFile..MRI">MRI</a>.<a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo15isSuperRegisterENS_10MCRegisterES1_" title='llvm::MCRegisterInfo::isSuperRegister' data-ref="_ZNK4llvm14MCRegisterInfo15isSuperRegisterENS_10MCRegisterES1_" data-ref-filename="_ZNK4llvm14MCRegisterInfo15isSuperRegisterENS_10MCRegisterES1_">isSuperRegister</a>(<a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" title='llvm::MCRegisterInfo::DiffListIterator::operator*' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv">*</a><a class="local col1 ref" href="#21I" title='I' data-ref="21I" data-ref-filename="21I">I</a>, <a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZN4llvm10MCRegisterC1Ej" title='llvm::MCRegister::MCRegister' data-ref="_ZN4llvm10MCRegisterC1Ej" data-ref-filename="_ZN4llvm10MCRegisterC1Ej"></a><a class="local col2 ref" href="#22OtherEntry" title='OtherEntry' data-ref="22OtherEntry" data-ref-filename="22OtherEntry">OtherEntry</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a>))) {</td></tr>
<tr><th id="109">109</th><td>          <a class="local col2 ref" href="#22OtherEntry" title='OtherEntry' data-ref="22OtherEntry" data-ref-filename="22OtherEntry">OtherEntry</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" title='llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..IndexPlusCost">IndexPlusCost</a> <span class='ref fn' title='std::pair::operator=' data-ref="_ZNSt4pairaSENSt11conditionalIXsr6__and_ISt18is_copy_assignableIT_ES1_IT0_EEE5valueERKSt4pairIS2_S4_ERKSt20__nonesuch_no_bracesE4typeE" data-ref-filename="_ZNSt4pairaSENSt11conditionalIXsr6__and_ISt18is_copy_assignableIT_ES1_IT0_EEE5valueERKSt4pairIS2_S4_ERKSt20__nonesuch_no_bracesE4typeE">=</span> <a class="local col0 ref" href="#20IPC" title='IPC' data-ref="20IPC" data-ref-filename="20IPC">IPC</a>;</td></tr>
<tr><th id="110">110</th><td>          <a class="local col2 ref" href="#22OtherEntry" title='OtherEntry' data-ref="22OtherEntry" data-ref-filename="22OtherEntry">OtherEntry</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a> = <a class="local col8 ref" href="#18Reg" title='Reg' data-ref="18Reg" data-ref-filename="18Reg">Reg</a>;</td></tr>
<tr><th id="111">111</th><td>        }</td></tr>
<tr><th id="112">112</th><td>      }</td></tr>
<tr><th id="113">113</th><td>    }</td></tr>
<tr><th id="114">114</th><td>  }</td></tr>
<tr><th id="115">115</th><td>}</td></tr>
<tr><th id="116">116</th><td></td></tr>
<tr><th id="117">117</th><td><em>void</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile" title='llvm::mca::RegisterFile' data-ref="llvm::mca::RegisterFile" data-ref-filename="llvm..mca..RegisterFile">RegisterFile</a>::<dfn class="decl def fn" id="_ZN4llvm3mca12RegisterFile16allocatePhysRegsERKNS1_20RegisterRenamingInfoENS_15MutableArrayRefIjEE" title='llvm::mca::RegisterFile::allocatePhysRegs' data-ref="_ZN4llvm3mca12RegisterFile16allocatePhysRegsERKNS1_20RegisterRenamingInfoENS_15MutableArrayRefIjEE" data-ref-filename="_ZN4llvm3mca12RegisterFile16allocatePhysRegsERKNS1_20RegisterRenamingInfoENS_15MutableArrayRefIjEE">allocatePhysRegs</dfn>(<em>const</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo" title='llvm::mca::RegisterFile::RegisterRenamingInfo' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo">RegisterRenamingInfo</a> &amp;<dfn class="local col3 decl" id="23Entry" title='Entry' data-type='const llvm::mca::RegisterFile::RegisterRenamingInfo &amp;' data-ref="23Entry" data-ref-filename="23Entry">Entry</dfn>,</td></tr>
<tr><th id="118">118</th><td>                                    <a class="type" href="../../../include/llvm/ADT/ArrayRef.h.html#llvm::MutableArrayRef" title='llvm::MutableArrayRef' data-ref="llvm::MutableArrayRef" data-ref-filename="llvm..MutableArrayRef">MutableArrayRef</a>&lt;<em>unsigned</em>&gt; <dfn class="local col4 decl" id="24UsedPhysRegs" title='UsedPhysRegs' data-type='MutableArrayRef&lt;unsigned int&gt;' data-ref="24UsedPhysRegs" data-ref-filename="24UsedPhysRegs">UsedPhysRegs</dfn>) {</td></tr>
<tr><th id="119">119</th><td>  <em>unsigned</em> <dfn class="local col5 decl" id="25RegisterFileIndex" title='RegisterFileIndex' data-type='unsigned int' data-ref="25RegisterFileIndex" data-ref-filename="25RegisterFileIndex">RegisterFileIndex</dfn> = <a class="local col3 ref" href="#23Entry" title='Entry' data-ref="23Entry" data-ref-filename="23Entry">Entry</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" title='llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..IndexPlusCost">IndexPlusCost</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>;</td></tr>
<tr><th id="120">120</th><td>  <em>unsigned</em> <dfn class="local col6 decl" id="26Cost" title='Cost' data-type='unsigned int' data-ref="26Cost" data-ref-filename="26Cost">Cost</dfn> = <a class="local col3 ref" href="#23Entry" title='Entry' data-ref="23Entry" data-ref-filename="23Entry">Entry</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" title='llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..IndexPlusCost">IndexPlusCost</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>;</td></tr>
<tr><th id="121">121</th><td>  <b>if</b> (<a class="local col5 ref" href="#25RegisterFileIndex" title='RegisterFileIndex' data-ref="25RegisterFileIndex" data-ref-filename="25RegisterFileIndex">RegisterFileIndex</a>) {</td></tr>
<tr><th id="122">122</th><td>    <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker" title='llvm::mca::RegisterFile::RegisterMappingTracker' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker">RegisterMappingTracker</a> &amp;<dfn class="local col7 decl" id="27RMT" title='RMT' data-type='llvm::mca::RegisterFile::RegisterMappingTracker &amp;' data-ref="27RMT" data-ref-filename="27RMT">RMT</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterFiles" title='llvm::mca::RegisterFile::RegisterFiles' data-ref="llvm::mca::RegisterFile::RegisterFiles" data-ref-filename="llvm..mca..RegisterFile..RegisterFiles">RegisterFiles</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col5 ref" href="#25RegisterFileIndex" title='RegisterFileIndex' data-ref="25RegisterFileIndex" data-ref-filename="25RegisterFileIndex">RegisterFileIndex</a>]</a>;</td></tr>
<tr><th id="123">123</th><td>    <a class="local col7 ref" href="#27RMT" title='RMT' data-ref="27RMT" data-ref-filename="27RMT">RMT</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs" title='llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..NumUsedPhysRegs">NumUsedPhysRegs</a> += <a class="local col6 ref" href="#26Cost" title='Cost' data-ref="26Cost" data-ref-filename="26Cost">Cost</a>;</td></tr>
<tr><th id="124">124</th><td>    <a class="local col4 ref" href="#24UsedPhysRegs" title='UsedPhysRegs' data-ref="24UsedPhysRegs" data-ref-filename="24UsedPhysRegs">UsedPhysRegs</a><a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm15MutableArrayRefixEm" title='llvm::MutableArrayRef::operator[]' data-ref="_ZNK4llvm15MutableArrayRefixEm" data-ref-filename="_ZNK4llvm15MutableArrayRefixEm">[<a class="local col5 ref" href="#25RegisterFileIndex" title='RegisterFileIndex' data-ref="25RegisterFileIndex" data-ref-filename="25RegisterFileIndex">RegisterFileIndex</a>]</a> += <a class="local col6 ref" href="#26Cost" title='Cost' data-ref="26Cost" data-ref-filename="26Cost">Cost</a>;</td></tr>
<tr><th id="125">125</th><td>  }</td></tr>
<tr><th id="126">126</th><td></td></tr>
<tr><th id="127">127</th><td>  <i>// Now update the default register mapping tracker.</i></td></tr>
<tr><th id="128">128</th><td>  <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterFiles" title='llvm::mca::RegisterFile::RegisterFiles' data-ref="llvm::mca::RegisterFile::RegisterFiles" data-ref-filename="llvm..mca..RegisterFile..RegisterFiles">RegisterFiles</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<var>0</var>]</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs" title='llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..NumUsedPhysRegs">NumUsedPhysRegs</a> += <a class="local col6 ref" href="#26Cost" title='Cost' data-ref="26Cost" data-ref-filename="26Cost">Cost</a>;</td></tr>
<tr><th id="129">129</th><td>  <a class="local col4 ref" href="#24UsedPhysRegs" title='UsedPhysRegs' data-ref="24UsedPhysRegs" data-ref-filename="24UsedPhysRegs">UsedPhysRegs</a><a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm15MutableArrayRefixEm" title='llvm::MutableArrayRef::operator[]' data-ref="_ZNK4llvm15MutableArrayRefixEm" data-ref-filename="_ZNK4llvm15MutableArrayRefixEm">[<var>0</var>]</a> += <a class="local col6 ref" href="#26Cost" title='Cost' data-ref="26Cost" data-ref-filename="26Cost">Cost</a>;</td></tr>
<tr><th id="130">130</th><td>}</td></tr>
<tr><th id="131">131</th><td></td></tr>
<tr><th id="132">132</th><td><em>void</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile" title='llvm::mca::RegisterFile' data-ref="llvm::mca::RegisterFile" data-ref-filename="llvm..mca..RegisterFile">RegisterFile</a>::<dfn class="decl def fn" id="_ZN4llvm3mca12RegisterFile12freePhysRegsERKNS1_20RegisterRenamingInfoENS_15MutableArrayRefIjEE" title='llvm::mca::RegisterFile::freePhysRegs' data-ref="_ZN4llvm3mca12RegisterFile12freePhysRegsERKNS1_20RegisterRenamingInfoENS_15MutableArrayRefIjEE" data-ref-filename="_ZN4llvm3mca12RegisterFile12freePhysRegsERKNS1_20RegisterRenamingInfoENS_15MutableArrayRefIjEE">freePhysRegs</dfn>(<em>const</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo" title='llvm::mca::RegisterFile::RegisterRenamingInfo' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo">RegisterRenamingInfo</a> &amp;<dfn class="local col8 decl" id="28Entry" title='Entry' data-type='const llvm::mca::RegisterFile::RegisterRenamingInfo &amp;' data-ref="28Entry" data-ref-filename="28Entry">Entry</dfn>,</td></tr>
<tr><th id="133">133</th><td>                                <a class="type" href="../../../include/llvm/ADT/ArrayRef.h.html#llvm::MutableArrayRef" title='llvm::MutableArrayRef' data-ref="llvm::MutableArrayRef" data-ref-filename="llvm..MutableArrayRef">MutableArrayRef</a>&lt;<em>unsigned</em>&gt; <dfn class="local col9 decl" id="29FreedPhysRegs" title='FreedPhysRegs' data-type='MutableArrayRef&lt;unsigned int&gt;' data-ref="29FreedPhysRegs" data-ref-filename="29FreedPhysRegs">FreedPhysRegs</dfn>) {</td></tr>
<tr><th id="134">134</th><td>  <em>unsigned</em> <dfn class="local col0 decl" id="30RegisterFileIndex" title='RegisterFileIndex' data-type='unsigned int' data-ref="30RegisterFileIndex" data-ref-filename="30RegisterFileIndex">RegisterFileIndex</dfn> = <a class="local col8 ref" href="#28Entry" title='Entry' data-ref="28Entry" data-ref-filename="28Entry">Entry</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" title='llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..IndexPlusCost">IndexPlusCost</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>;</td></tr>
<tr><th id="135">135</th><td>  <em>unsigned</em> <dfn class="local col1 decl" id="31Cost" title='Cost' data-type='unsigned int' data-ref="31Cost" data-ref-filename="31Cost">Cost</dfn> = <a class="local col8 ref" href="#28Entry" title='Entry' data-ref="28Entry" data-ref-filename="28Entry">Entry</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" title='llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..IndexPlusCost">IndexPlusCost</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>;</td></tr>
<tr><th id="136">136</th><td>  <b>if</b> (<a class="local col0 ref" href="#30RegisterFileIndex" title='RegisterFileIndex' data-ref="30RegisterFileIndex" data-ref-filename="30RegisterFileIndex">RegisterFileIndex</a>) {</td></tr>
<tr><th id="137">137</th><td>    <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker" title='llvm::mca::RegisterFile::RegisterMappingTracker' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker">RegisterMappingTracker</a> &amp;<dfn class="local col2 decl" id="32RMT" title='RMT' data-type='llvm::mca::RegisterFile::RegisterMappingTracker &amp;' data-ref="32RMT" data-ref-filename="32RMT">RMT</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterFiles" title='llvm::mca::RegisterFile::RegisterFiles' data-ref="llvm::mca::RegisterFile::RegisterFiles" data-ref-filename="llvm..mca..RegisterFile..RegisterFiles">RegisterFiles</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col0 ref" href="#30RegisterFileIndex" title='RegisterFileIndex' data-ref="30RegisterFileIndex" data-ref-filename="30RegisterFileIndex">RegisterFileIndex</a>]</a>;</td></tr>
<tr><th id="138">138</th><td>    <a class="local col2 ref" href="#32RMT" title='RMT' data-ref="32RMT" data-ref-filename="32RMT">RMT</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs" title='llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..NumUsedPhysRegs">NumUsedPhysRegs</a> -= <a class="local col1 ref" href="#31Cost" title='Cost' data-ref="31Cost" data-ref-filename="31Cost">Cost</a>;</td></tr>
<tr><th id="139">139</th><td>    <a class="local col9 ref" href="#29FreedPhysRegs" title='FreedPhysRegs' data-ref="29FreedPhysRegs" data-ref-filename="29FreedPhysRegs">FreedPhysRegs</a><a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm15MutableArrayRefixEm" title='llvm::MutableArrayRef::operator[]' data-ref="_ZNK4llvm15MutableArrayRefixEm" data-ref-filename="_ZNK4llvm15MutableArrayRefixEm">[<a class="local col0 ref" href="#30RegisterFileIndex" title='RegisterFileIndex' data-ref="30RegisterFileIndex" data-ref-filename="30RegisterFileIndex">RegisterFileIndex</a>]</a> += <a class="local col1 ref" href="#31Cost" title='Cost' data-ref="31Cost" data-ref-filename="31Cost">Cost</a>;</td></tr>
<tr><th id="140">140</th><td>  }</td></tr>
<tr><th id="141">141</th><td></td></tr>
<tr><th id="142">142</th><td>  <i>// Now update the default register mapping tracker.</i></td></tr>
<tr><th id="143">143</th><td>  <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterFiles" title='llvm::mca::RegisterFile::RegisterFiles' data-ref="llvm::mca::RegisterFile::RegisterFiles" data-ref-filename="llvm..mca..RegisterFile..RegisterFiles">RegisterFiles</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<var>0</var>]</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs" title='llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..NumUsedPhysRegs">NumUsedPhysRegs</a> -= <a class="local col1 ref" href="#31Cost" title='Cost' data-ref="31Cost" data-ref-filename="31Cost">Cost</a>;</td></tr>
<tr><th id="144">144</th><td>  <a class="local col9 ref" href="#29FreedPhysRegs" title='FreedPhysRegs' data-ref="29FreedPhysRegs" data-ref-filename="29FreedPhysRegs">FreedPhysRegs</a><a class="ref fn" href="../../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm15MutableArrayRefixEm" title='llvm::MutableArrayRef::operator[]' data-ref="_ZNK4llvm15MutableArrayRefixEm" data-ref-filename="_ZNK4llvm15MutableArrayRefixEm">[<var>0</var>]</a> += <a class="local col1 ref" href="#31Cost" title='Cost' data-ref="31Cost" data-ref-filename="31Cost">Cost</a>;</td></tr>
<tr><th id="145">145</th><td>}</td></tr>
<tr><th id="146">146</th><td></td></tr>
<tr><th id="147">147</th><td><em>void</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile" title='llvm::mca::RegisterFile' data-ref="llvm::mca::RegisterFile" data-ref-filename="llvm..mca..RegisterFile">RegisterFile</a>::<dfn class="decl def fn" id="_ZN4llvm3mca12RegisterFile16addRegisterWriteENS0_8WriteRefENS_15MutableArrayRefIjEE" title='llvm::mca::RegisterFile::addRegisterWrite' data-ref="_ZN4llvm3mca12RegisterFile16addRegisterWriteENS0_8WriteRefENS_15MutableArrayRefIjEE" data-ref-filename="_ZN4llvm3mca12RegisterFile16addRegisterWriteENS0_8WriteRefENS_15MutableArrayRefIjEE">addRegisterWrite</dfn>(<a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteRef" title='llvm::mca::WriteRef' data-ref="llvm::mca::WriteRef" data-ref-filename="llvm..mca..WriteRef">WriteRef</a> <dfn class="local col3 decl" id="33Write" title='Write' data-type='llvm::mca::WriteRef' data-ref="33Write" data-ref-filename="33Write">Write</dfn>,</td></tr>
<tr><th id="148">148</th><td>                                    <a class="type" href="../../../include/llvm/ADT/ArrayRef.h.html#llvm::MutableArrayRef" title='llvm::MutableArrayRef' data-ref="llvm::MutableArrayRef" data-ref-filename="llvm..MutableArrayRef">MutableArrayRef</a>&lt;<em>unsigned</em>&gt; <dfn class="local col4 decl" id="34UsedPhysRegs" title='UsedPhysRegs' data-type='MutableArrayRef&lt;unsigned int&gt;' data-ref="34UsedPhysRegs" data-ref-filename="34UsedPhysRegs">UsedPhysRegs</dfn>) {</td></tr>
<tr><th id="149">149</th><td>  <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteState" title='llvm::mca::WriteState' data-ref="llvm::mca::WriteState" data-ref-filename="llvm..mca..WriteState">WriteState</a> &amp;<dfn class="local col5 decl" id="35WS" title='WS' data-type='llvm::mca::WriteState &amp;' data-ref="35WS" data-ref-filename="35WS">WS</dfn> = *<a class="local col3 ref" href="#33Write" title='Write' data-ref="33Write" data-ref-filename="33Write">Write</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca8WriteRef13getWriteStateEv" title='llvm::mca::WriteRef::getWriteState' data-ref="_ZN4llvm3mca8WriteRef13getWriteStateEv" data-ref-filename="_ZN4llvm3mca8WriteRef13getWriteStateEv">getWriteState</a>();</td></tr>
<tr><th id="150">150</th><td>  <a class="typedef" href="../../../include/llvm/MC/MCRegister.h.html#llvm::MCPhysReg" title='llvm::MCPhysReg' data-type='uint16_t' data-ref="llvm::MCPhysReg" data-ref-filename="llvm..MCPhysReg">MCPhysReg</a> <dfn class="local col6 decl" id="36RegID" title='RegID' data-type='llvm::MCPhysReg' data-ref="36RegID" data-ref-filename="36RegID">RegID</dfn> = <a class="local col5 ref" href="#35WS" title='WS' data-ref="35WS" data-ref-filename="35WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState13getRegisterIDEv" title='llvm::mca::WriteState::getRegisterID' data-ref="_ZNK4llvm3mca10WriteState13getRegisterIDEv" data-ref-filename="_ZNK4llvm3mca10WriteState13getRegisterIDEv">getRegisterID</a>();</td></tr>
<tr><th id="151">151</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(RegID &amp;&amp; <q>"Adding an invalid register definition?"</q>);</td></tr>
<tr><th id="152">152</th><td></td></tr>
<tr><th id="153">153</th><td>  <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>({</td></tr>
<tr><th id="154">154</th><td>    dbgs() &lt;&lt; <q>"RegisterFile: addRegisterWrite [ "</q> &lt;&lt; Write.getSourceIndex()</td></tr>
<tr><th id="155">155</th><td>           &lt;&lt; <q>", "</q> &lt;&lt; MRI.getName(RegID) &lt;&lt; <q>"]\n"</q>;</td></tr>
<tr><th id="156">156</th><td>  });</td></tr>
<tr><th id="157">157</th><td></td></tr>
<tr><th id="158">158</th><td>  <i>// If RenameAs is equal to RegID, then RegID is subject to register renaming</i></td></tr>
<tr><th id="159">159</th><td><i>  // and false dependencies on RegID are all eliminated.</i></td></tr>
<tr><th id="160">160</th><td><i></i></td></tr>
<tr><th id="161">161</th><td><i>  // If RenameAs references the invalid register, then we optimistically assume</i></td></tr>
<tr><th id="162">162</th><td><i>  // that it can be renamed. In the absence of tablegen descriptors for register</i></td></tr>
<tr><th id="163">163</th><td><i>  // files, RenameAs is always set to the invalid register ID.  In all other</i></td></tr>
<tr><th id="164">164</th><td><i>  // cases, RenameAs must be either equal to RegID, or it must reference a</i></td></tr>
<tr><th id="165">165</th><td><i>  // super-register of RegID.</i></td></tr>
<tr><th id="166">166</th><td><i></i></td></tr>
<tr><th id="167">167</th><td><i>  // If RenameAs is a super-register of RegID, then a write to RegID has always</i></td></tr>
<tr><th id="168">168</th><td><i>  // a false dependency on RenameAs. The only exception is for when the write</i></td></tr>
<tr><th id="169">169</th><td><i>  // implicitly clears the upper portion of the underlying register.</i></td></tr>
<tr><th id="170">170</th><td><i>  // If a write clears its super-registers, then it is renamed as `RenameAs`.</i></td></tr>
<tr><th id="171">171</th><td>  <em>bool</em> <dfn class="local col7 decl" id="37IsWriteZero" title='IsWriteZero' data-type='bool' data-ref="37IsWriteZero" data-ref-filename="37IsWriteZero">IsWriteZero</dfn> = <a class="local col5 ref" href="#35WS" title='WS' data-ref="35WS" data-ref-filename="35WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState11isWriteZeroEv" title='llvm::mca::WriteState::isWriteZero' data-ref="_ZNK4llvm3mca10WriteState11isWriteZeroEv" data-ref-filename="_ZNK4llvm3mca10WriteState11isWriteZeroEv">isWriteZero</a>();</td></tr>
<tr><th id="172">172</th><td>  <em>bool</em> <dfn class="local col8 decl" id="38IsEliminated" title='IsEliminated' data-type='bool' data-ref="38IsEliminated" data-ref-filename="38IsEliminated">IsEliminated</dfn> = <a class="local col5 ref" href="#35WS" title='WS' data-ref="35WS" data-ref-filename="35WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState12isEliminatedEv" title='llvm::mca::WriteState::isEliminated' data-ref="_ZNK4llvm3mca10WriteState12isEliminatedEv" data-ref-filename="_ZNK4llvm3mca10WriteState12isEliminatedEv">isEliminated</a>();</td></tr>
<tr><th id="173">173</th><td>  <em>bool</em> <dfn class="local col9 decl" id="39ShouldAllocatePhysRegs" title='ShouldAllocatePhysRegs' data-type='bool' data-ref="39ShouldAllocatePhysRegs" data-ref-filename="39ShouldAllocatePhysRegs">ShouldAllocatePhysRegs</dfn> = !<a class="local col7 ref" href="#37IsWriteZero" title='IsWriteZero' data-ref="37IsWriteZero" data-ref-filename="37IsWriteZero">IsWriteZero</a> &amp;&amp; !<a class="local col8 ref" href="#38IsEliminated" title='IsEliminated' data-ref="38IsEliminated" data-ref-filename="38IsEliminated">IsEliminated</a>;</td></tr>
<tr><th id="174">174</th><td>  <em>const</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo" title='llvm::mca::RegisterFile::RegisterRenamingInfo' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo">RegisterRenamingInfo</a> &amp;<dfn class="local col0 decl" id="40RRI" title='RRI' data-type='const llvm::mca::RegisterFile::RegisterRenamingInfo &amp;' data-ref="40RRI" data-ref-filename="40RRI">RRI</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="local col6 ref" href="#36RegID" title='RegID' data-ref="36RegID" data-ref-filename="36RegID">RegID</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>;</td></tr>
<tr><th id="175">175</th><td>  <a class="local col5 ref" href="#35WS" title='WS' data-ref="35WS" data-ref-filename="35WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca10WriteState6setPRFEj" title='llvm::mca::WriteState::setPRF' data-ref="_ZN4llvm3mca10WriteState6setPRFEj" data-ref-filename="_ZN4llvm3mca10WriteState6setPRFEj">setPRF</a>(<a class="local col0 ref" href="#40RRI" title='RRI' data-ref="40RRI" data-ref-filename="40RRI">RRI</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" title='llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..IndexPlusCost">IndexPlusCost</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>);</td></tr>
<tr><th id="176">176</th><td></td></tr>
<tr><th id="177">177</th><td>  <b>if</b> (<a class="local col0 ref" href="#40RRI" title='RRI' data-ref="40RRI" data-ref-filename="40RRI">RRI</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a> &amp;&amp; <a class="local col0 ref" href="#40RRI" title='RRI' data-ref="40RRI" data-ref-filename="40RRI">RRI</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a> != <a class="local col6 ref" href="#36RegID" title='RegID' data-ref="36RegID" data-ref-filename="36RegID">RegID</a>) {</td></tr>
<tr><th id="178">178</th><td>    <a class="local col6 ref" href="#36RegID" title='RegID' data-ref="36RegID" data-ref-filename="36RegID">RegID</a> = <a class="local col0 ref" href="#40RRI" title='RRI' data-ref="40RRI" data-ref-filename="40RRI">RRI</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a>;</td></tr>
<tr><th id="179">179</th><td>    <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteRef" title='llvm::mca::WriteRef' data-ref="llvm::mca::WriteRef" data-ref-filename="llvm..mca..WriteRef">WriteRef</a> &amp;<dfn class="local col1 decl" id="41OtherWrite" title='OtherWrite' data-type='llvm::mca::WriteRef &amp;' data-ref="41OtherWrite" data-ref-filename="41OtherWrite">OtherWrite</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="local col6 ref" href="#36RegID" title='RegID' data-ref="36RegID" data-ref-filename="36RegID">RegID</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>;</td></tr>
<tr><th id="180">180</th><td></td></tr>
<tr><th id="181">181</th><td>    <b>if</b> (!<a class="local col5 ref" href="#35WS" title='WS' data-ref="35WS" data-ref-filename="35WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv" title='llvm::mca::WriteState::clearsSuperRegisters' data-ref="_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv" data-ref-filename="_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv">clearsSuperRegisters</a>()) {</td></tr>
<tr><th id="182">182</th><td>      <i>// The processor keeps the definition of `RegID` together with register</i></td></tr>
<tr><th id="183">183</th><td><i>      // `RenameAs`. Since this partial write is not renamed, no physical</i></td></tr>
<tr><th id="184">184</th><td><i>      // register is allocated.</i></td></tr>
<tr><th id="185">185</th><td>      <a class="local col9 ref" href="#39ShouldAllocatePhysRegs" title='ShouldAllocatePhysRegs' data-ref="39ShouldAllocatePhysRegs" data-ref-filename="39ShouldAllocatePhysRegs">ShouldAllocatePhysRegs</a> = <b>false</b>;</td></tr>
<tr><th id="186">186</th><td></td></tr>
<tr><th id="187">187</th><td>      <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteState" title='llvm::mca::WriteState' data-ref="llvm::mca::WriteState" data-ref-filename="llvm..mca..WriteState">WriteState</a> *<dfn class="local col2 decl" id="42OtherWS" title='OtherWS' data-type='llvm::mca::WriteState *' data-ref="42OtherWS" data-ref-filename="42OtherWS">OtherWS</dfn> = <a class="local col1 ref" href="#41OtherWrite" title='OtherWrite' data-ref="41OtherWrite" data-ref-filename="41OtherWrite">OtherWrite</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca8WriteRef13getWriteStateEv" title='llvm::mca::WriteRef::getWriteState' data-ref="_ZN4llvm3mca8WriteRef13getWriteStateEv" data-ref-filename="_ZN4llvm3mca8WriteRef13getWriteStateEv">getWriteState</a>();</td></tr>
<tr><th id="188">188</th><td>      <b>if</b> (<a class="local col2 ref" href="#42OtherWS" title='OtherWS' data-ref="42OtherWS" data-ref-filename="42OtherWS">OtherWS</a> &amp;&amp; (<a class="local col1 ref" href="#41OtherWrite" title='OtherWrite' data-ref="41OtherWrite" data-ref-filename="41OtherWrite">OtherWrite</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca8WriteRef14getSourceIndexEv" title='llvm::mca::WriteRef::getSourceIndex' data-ref="_ZNK4llvm3mca8WriteRef14getSourceIndexEv" data-ref-filename="_ZNK4llvm3mca8WriteRef14getSourceIndexEv">getSourceIndex</a>() != <a class="local col3 ref" href="#33Write" title='Write' data-ref="33Write" data-ref-filename="33Write">Write</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca8WriteRef14getSourceIndexEv" title='llvm::mca::WriteRef::getSourceIndex' data-ref="_ZNK4llvm3mca8WriteRef14getSourceIndexEv" data-ref-filename="_ZNK4llvm3mca8WriteRef14getSourceIndexEv">getSourceIndex</a>())) {</td></tr>
<tr><th id="189">189</th><td>        <i>// This partial write has a false dependency on RenameAs.</i></td></tr>
<tr><th id="190">190</th><td>        <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(!IsEliminated &amp;&amp; <q>"Unexpected partial update!"</q>);</td></tr>
<tr><th id="191">191</th><td>        <a class="local col2 ref" href="#42OtherWS" title='OtherWS' data-ref="42OtherWS" data-ref-filename="42OtherWS">OtherWS</a>-&gt;<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca10WriteState7addUserEjPS1_" title='llvm::mca::WriteState::addUser' data-ref="_ZN4llvm3mca10WriteState7addUserEjPS1_" data-ref-filename="_ZN4llvm3mca10WriteState7addUserEjPS1_">addUser</a>(<a class="local col1 ref" href="#41OtherWrite" title='OtherWrite' data-ref="41OtherWrite" data-ref-filename="41OtherWrite">OtherWrite</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca8WriteRef14getSourceIndexEv" title='llvm::mca::WriteRef::getSourceIndex' data-ref="_ZNK4llvm3mca8WriteRef14getSourceIndexEv" data-ref-filename="_ZNK4llvm3mca8WriteRef14getSourceIndexEv">getSourceIndex</a>(), &amp;<a class="local col5 ref" href="#35WS" title='WS' data-ref="35WS" data-ref-filename="35WS">WS</a>);</td></tr>
<tr><th id="192">192</th><td>      }</td></tr>
<tr><th id="193">193</th><td>    }</td></tr>
<tr><th id="194">194</th><td>  }</td></tr>
<tr><th id="195">195</th><td></td></tr>
<tr><th id="196">196</th><td>  <i>// Update zero registers.</i></td></tr>
<tr><th id="197">197</th><td>  <a class="typedef" href="../../../include/llvm/MC/MCRegister.h.html#llvm::MCPhysReg" title='llvm::MCPhysReg' data-type='uint16_t' data-ref="llvm::MCPhysReg" data-ref-filename="llvm..MCPhysReg">MCPhysReg</a> <dfn class="local col3 decl" id="43ZeroRegisterID" title='ZeroRegisterID' data-type='llvm::MCPhysReg' data-ref="43ZeroRegisterID" data-ref-filename="43ZeroRegisterID">ZeroRegisterID</dfn> =</td></tr>
<tr><th id="198">198</th><td>      <a class="local col5 ref" href="#35WS" title='WS' data-ref="35WS" data-ref-filename="35WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv" title='llvm::mca::WriteState::clearsSuperRegisters' data-ref="_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv" data-ref-filename="_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv">clearsSuperRegisters</a>() ? <a class="local col6 ref" href="#36RegID" title='RegID' data-ref="36RegID" data-ref-filename="36RegID">RegID</a> : <a class="local col5 ref" href="#35WS" title='WS' data-ref="35WS" data-ref-filename="35WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState13getRegisterIDEv" title='llvm::mca::WriteState::getRegisterID' data-ref="_ZNK4llvm3mca10WriteState13getRegisterIDEv" data-ref-filename="_ZNK4llvm3mca10WriteState13getRegisterIDEv">getRegisterID</a>();</td></tr>
<tr><th id="199">199</th><td>  <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::ZeroRegisters" title='llvm::mca::RegisterFile::ZeroRegisters' data-ref="llvm::mca::RegisterFile::ZeroRegisters" data-ref-filename="llvm..mca..RegisterFile..ZeroRegisters">ZeroRegisters</a>.<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APInt9setBitValEjb" title='llvm::APInt::setBitVal' data-ref="_ZN4llvm5APInt9setBitValEjb" data-ref-filename="_ZN4llvm5APInt9setBitValEjb">setBitVal</a>(<a class="local col3 ref" href="#43ZeroRegisterID" title='ZeroRegisterID' data-ref="43ZeroRegisterID" data-ref-filename="43ZeroRegisterID">ZeroRegisterID</a>, <a class="local col7 ref" href="#37IsWriteZero" title='IsWriteZero' data-ref="37IsWriteZero" data-ref-filename="37IsWriteZero">IsWriteZero</a>);</td></tr>
<tr><th id="200">200</th><td>  <b>for</b> (<a class="type" href="../../../include/llvm/MC/MCRegisterInfo.h.html#llvm::MCSubRegIterator" title='llvm::MCSubRegIterator' data-ref="llvm::MCSubRegIterator" data-ref-filename="llvm..MCSubRegIterator">MCSubRegIterator</a> <dfn class="local col4 decl" id="44I" title='I' data-type='llvm::MCSubRegIterator' data-ref="44I" data-ref-filename="44I">I</dfn><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" title='llvm::MCSubRegIterator::MCSubRegIterator' data-ref="_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" data-ref-filename="_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb">(</a><a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZN4llvm10MCRegisterC1Ej" title='llvm::MCRegister::MCRegister' data-ref="_ZN4llvm10MCRegisterC1Ej" data-ref-filename="_ZN4llvm10MCRegisterC1Ej"></a><a class="local col3 ref" href="#43ZeroRegisterID" title='ZeroRegisterID' data-ref="43ZeroRegisterID" data-ref-filename="43ZeroRegisterID">ZeroRegisterID</a>, &amp;<a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::MRI" title='llvm::mca::RegisterFile::MRI' data-ref="llvm::mca::RegisterFile::MRI" data-ref-filename="llvm..mca..RegisterFile..MRI">MRI</a>); <a class="local col4 ref" href="#44I" title='I' data-ref="44I" data-ref-filename="44I">I</a>.<a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" title='llvm::MCRegisterInfo::DiffListIterator::isValid' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv">isValid</a>(); <a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" title='llvm::MCRegisterInfo::DiffListIterator::operator++' data-ref="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" data-ref-filename="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv">++</a><a class="local col4 ref" href="#44I" title='I' data-ref="44I" data-ref-filename="44I">I</a>)</td></tr>
<tr><th id="201">201</th><td>    <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::ZeroRegisters" title='llvm::mca::RegisterFile::ZeroRegisters' data-ref="llvm::mca::RegisterFile::ZeroRegisters" data-ref-filename="llvm..mca..RegisterFile..ZeroRegisters">ZeroRegisters</a>.<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APInt9setBitValEjb" title='llvm::APInt::setBitVal' data-ref="_ZN4llvm5APInt9setBitValEjb" data-ref-filename="_ZN4llvm5APInt9setBitValEjb">setBitVal</a>(<a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZNK4llvm10MCRegistercvjEv" title='llvm::MCRegister::operator unsigned int' data-ref="_ZNK4llvm10MCRegistercvjEv" data-ref-filename="_ZNK4llvm10MCRegistercvjEv"></a><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" title='llvm::MCRegisterInfo::DiffListIterator::operator*' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv">*</a><a class="local col4 ref" href="#44I" title='I' data-ref="44I" data-ref-filename="44I">I</a>, <a class="local col7 ref" href="#37IsWriteZero" title='IsWriteZero' data-ref="37IsWriteZero" data-ref-filename="37IsWriteZero">IsWriteZero</a>);</td></tr>
<tr><th id="202">202</th><td></td></tr>
<tr><th id="203">203</th><td>  <i>// If this is move has been eliminated, then the call to tryEliminateMove</i></td></tr>
<tr><th id="204">204</th><td><i>  // should have already updated all the register mappings.</i></td></tr>
<tr><th id="205">205</th><td>  <b>if</b> (!<a class="local col8 ref" href="#38IsEliminated" title='IsEliminated' data-ref="38IsEliminated" data-ref-filename="38IsEliminated">IsEliminated</a>) {</td></tr>
<tr><th id="206">206</th><td>    <i>// Update the mapping for register RegID including its sub-registers.</i></td></tr>
<tr><th id="207">207</th><td>    <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="local col6 ref" href="#36RegID" title='RegID' data-ref="36RegID" data-ref-filename="36RegID">RegID</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span> <a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#602" title='llvm::mca::WriteRef::operator=' data-ref="_ZN4llvm3mca8WriteRefaSERKS1_" data-ref-filename="_ZN4llvm3mca8WriteRefaSERKS1_">=</a> <a class="local col3 ref" href="#33Write" title='Write' data-ref="33Write" data-ref-filename="33Write">Write</a>;</td></tr>
<tr><th id="208">208</th><td>    <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="local col6 ref" href="#36RegID" title='RegID' data-ref="36RegID" data-ref-filename="36RegID">RegID</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" title='llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..AliasRegID">AliasRegID</a> = <var>0U</var>;</td></tr>
<tr><th id="209">209</th><td>    <b>for</b> (<a class="type" href="../../../include/llvm/MC/MCRegisterInfo.h.html#llvm::MCSubRegIterator" title='llvm::MCSubRegIterator' data-ref="llvm::MCSubRegIterator" data-ref-filename="llvm..MCSubRegIterator">MCSubRegIterator</a> <dfn class="local col5 decl" id="45I" title='I' data-type='llvm::MCSubRegIterator' data-ref="45I" data-ref-filename="45I">I</dfn><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" title='llvm::MCSubRegIterator::MCSubRegIterator' data-ref="_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" data-ref-filename="_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb">(</a><a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZN4llvm10MCRegisterC1Ej" title='llvm::MCRegister::MCRegister' data-ref="_ZN4llvm10MCRegisterC1Ej" data-ref-filename="_ZN4llvm10MCRegisterC1Ej"></a><a class="local col6 ref" href="#36RegID" title='RegID' data-ref="36RegID" data-ref-filename="36RegID">RegID</a>, &amp;<a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::MRI" title='llvm::mca::RegisterFile::MRI' data-ref="llvm::mca::RegisterFile::MRI" data-ref-filename="llvm..mca..RegisterFile..MRI">MRI</a>); <a class="local col5 ref" href="#45I" title='I' data-ref="45I" data-ref-filename="45I">I</a>.<a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" title='llvm::MCRegisterInfo::DiffListIterator::isValid' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv">isValid</a>(); <a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" title='llvm::MCRegisterInfo::DiffListIterator::operator++' data-ref="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" data-ref-filename="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv">++</a><a class="local col5 ref" href="#45I" title='I' data-ref="45I" data-ref-filename="45I">I</a>) {</td></tr>
<tr><th id="210">210</th><td>      <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZNK4llvm10MCRegistercvjEv" title='llvm::MCRegister::operator unsigned int' data-ref="_ZNK4llvm10MCRegistercvjEv" data-ref-filename="_ZNK4llvm10MCRegistercvjEv"></a><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" title='llvm::MCRegisterInfo::DiffListIterator::operator*' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv">*</a><a class="local col5 ref" href="#45I" title='I' data-ref="45I" data-ref-filename="45I">I</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span> <a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#602" title='llvm::mca::WriteRef::operator=' data-ref="_ZN4llvm3mca8WriteRefaSERKS1_" data-ref-filename="_ZN4llvm3mca8WriteRefaSERKS1_">=</a> <a class="local col3 ref" href="#33Write" title='Write' data-ref="33Write" data-ref-filename="33Write">Write</a>;</td></tr>
<tr><th id="211">211</th><td>      <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZNK4llvm10MCRegistercvjEv" title='llvm::MCRegister::operator unsigned int' data-ref="_ZNK4llvm10MCRegistercvjEv" data-ref-filename="_ZNK4llvm10MCRegistercvjEv"></a><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" title='llvm::MCRegisterInfo::DiffListIterator::operator*' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv">*</a><a class="local col5 ref" href="#45I" title='I' data-ref="45I" data-ref-filename="45I">I</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" title='llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..AliasRegID">AliasRegID</a> = <var>0U</var>;</td></tr>
<tr><th id="212">212</th><td>    }</td></tr>
<tr><th id="213">213</th><td></td></tr>
<tr><th id="214">214</th><td>    <i>// No physical registers are allocated for instructions that are optimized</i></td></tr>
<tr><th id="215">215</th><td><i>    // in hardware. For example, zero-latency data-dependency breaking</i></td></tr>
<tr><th id="216">216</th><td><i>    // instructions don't consume physical registers.</i></td></tr>
<tr><th id="217">217</th><td>    <b>if</b> (<a class="local col9 ref" href="#39ShouldAllocatePhysRegs" title='ShouldAllocatePhysRegs' data-ref="39ShouldAllocatePhysRegs" data-ref-filename="39ShouldAllocatePhysRegs">ShouldAllocatePhysRegs</a>)</td></tr>
<tr><th id="218">218</th><td>      <a class="member fn" href="#_ZN4llvm3mca12RegisterFile16allocatePhysRegsERKNS1_20RegisterRenamingInfoENS_15MutableArrayRefIjEE" title='llvm::mca::RegisterFile::allocatePhysRegs' data-ref="_ZN4llvm3mca12RegisterFile16allocatePhysRegsERKNS1_20RegisterRenamingInfoENS_15MutableArrayRefIjEE" data-ref-filename="_ZN4llvm3mca12RegisterFile16allocatePhysRegsERKNS1_20RegisterRenamingInfoENS_15MutableArrayRefIjEE">allocatePhysRegs</a>(<a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="local col6 ref" href="#36RegID" title='RegID' data-ref="36RegID" data-ref-filename="36RegID">RegID</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#298" title='llvm::MutableArrayRef&lt;unsigned int&gt;::MutableArrayRef' data-ref="_ZN4llvm15MutableArrayRefIjEC1ERKS1_" data-ref-filename="_ZN4llvm15MutableArrayRefIjEC1ERKS1_"></a><a class="local col4 ref" href="#34UsedPhysRegs" title='UsedPhysRegs' data-ref="34UsedPhysRegs" data-ref-filename="34UsedPhysRegs">UsedPhysRegs</a>);</td></tr>
<tr><th id="219">219</th><td>  }</td></tr>
<tr><th id="220">220</th><td></td></tr>
<tr><th id="221">221</th><td>  <b>if</b> (!<a class="local col5 ref" href="#35WS" title='WS' data-ref="35WS" data-ref-filename="35WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv" title='llvm::mca::WriteState::clearsSuperRegisters' data-ref="_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv" data-ref-filename="_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv">clearsSuperRegisters</a>())</td></tr>
<tr><th id="222">222</th><td>    <b>return</b>;</td></tr>
<tr><th id="223">223</th><td></td></tr>
<tr><th id="224">224</th><td>  <b>for</b> (<a class="type" href="../../../include/llvm/MC/MCRegisterInfo.h.html#llvm::MCSuperRegIterator" title='llvm::MCSuperRegIterator' data-ref="llvm::MCSuperRegIterator" data-ref-filename="llvm..MCSuperRegIterator">MCSuperRegIterator</a> <dfn class="local col6 decl" id="46I" title='I' data-type='llvm::MCSuperRegIterator' data-ref="46I" data-ref-filename="46I">I</dfn><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm18MCSuperRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" title='llvm::MCSuperRegIterator::MCSuperRegIterator' data-ref="_ZN4llvm18MCSuperRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" data-ref-filename="_ZN4llvm18MCSuperRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb">(</a><a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZN4llvm10MCRegisterC1Ej" title='llvm::MCRegister::MCRegister' data-ref="_ZN4llvm10MCRegisterC1Ej" data-ref-filename="_ZN4llvm10MCRegisterC1Ej"></a><a class="local col6 ref" href="#36RegID" title='RegID' data-ref="36RegID" data-ref-filename="36RegID">RegID</a>, &amp;<a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::MRI" title='llvm::mca::RegisterFile::MRI' data-ref="llvm::mca::RegisterFile::MRI" data-ref-filename="llvm..mca..RegisterFile..MRI">MRI</a>); <a class="local col6 ref" href="#46I" title='I' data-ref="46I" data-ref-filename="46I">I</a>.<a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" title='llvm::MCRegisterInfo::DiffListIterator::isValid' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv">isValid</a>(); <a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" title='llvm::MCRegisterInfo::DiffListIterator::operator++' data-ref="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" data-ref-filename="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv">++</a><a class="local col6 ref" href="#46I" title='I' data-ref="46I" data-ref-filename="46I">I</a>) {</td></tr>
<tr><th id="225">225</th><td>    <b>if</b> (!<a class="local col8 ref" href="#38IsEliminated" title='IsEliminated' data-ref="38IsEliminated" data-ref-filename="38IsEliminated">IsEliminated</a>) {</td></tr>
<tr><th id="226">226</th><td>      <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZNK4llvm10MCRegistercvjEv" title='llvm::MCRegister::operator unsigned int' data-ref="_ZNK4llvm10MCRegistercvjEv" data-ref-filename="_ZNK4llvm10MCRegistercvjEv"></a><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" title='llvm::MCRegisterInfo::DiffListIterator::operator*' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv">*</a><a class="local col6 ref" href="#46I" title='I' data-ref="46I" data-ref-filename="46I">I</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span> <a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#602" title='llvm::mca::WriteRef::operator=' data-ref="_ZN4llvm3mca8WriteRefaSERKS1_" data-ref-filename="_ZN4llvm3mca8WriteRefaSERKS1_">=</a> <a class="local col3 ref" href="#33Write" title='Write' data-ref="33Write" data-ref-filename="33Write">Write</a>;</td></tr>
<tr><th id="227">227</th><td>      <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZNK4llvm10MCRegistercvjEv" title='llvm::MCRegister::operator unsigned int' data-ref="_ZNK4llvm10MCRegistercvjEv" data-ref-filename="_ZNK4llvm10MCRegistercvjEv"></a><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" title='llvm::MCRegisterInfo::DiffListIterator::operator*' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv">*</a><a class="local col6 ref" href="#46I" title='I' data-ref="46I" data-ref-filename="46I">I</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" title='llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..AliasRegID">AliasRegID</a> = <var>0U</var>;</td></tr>
<tr><th id="228">228</th><td>    }</td></tr>
<tr><th id="229">229</th><td></td></tr>
<tr><th id="230">230</th><td>    <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::ZeroRegisters" title='llvm::mca::RegisterFile::ZeroRegisters' data-ref="llvm::mca::RegisterFile::ZeroRegisters" data-ref-filename="llvm..mca..RegisterFile..ZeroRegisters">ZeroRegisters</a>.<a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZN4llvm5APInt9setBitValEjb" title='llvm::APInt::setBitVal' data-ref="_ZN4llvm5APInt9setBitValEjb" data-ref-filename="_ZN4llvm5APInt9setBitValEjb">setBitVal</a>(<a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZNK4llvm10MCRegistercvjEv" title='llvm::MCRegister::operator unsigned int' data-ref="_ZNK4llvm10MCRegistercvjEv" data-ref-filename="_ZNK4llvm10MCRegistercvjEv"></a><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" title='llvm::MCRegisterInfo::DiffListIterator::operator*' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv">*</a><a class="local col6 ref" href="#46I" title='I' data-ref="46I" data-ref-filename="46I">I</a>, <a class="local col7 ref" href="#37IsWriteZero" title='IsWriteZero' data-ref="37IsWriteZero" data-ref-filename="37IsWriteZero">IsWriteZero</a>);</td></tr>
<tr><th id="231">231</th><td>  }</td></tr>
<tr><th id="232">232</th><td>}</td></tr>
<tr><th id="233">233</th><td></td></tr>
<tr><th id="234">234</th><td><em>void</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile" title='llvm::mca::RegisterFile' data-ref="llvm::mca::RegisterFile" data-ref-filename="llvm..mca..RegisterFile">RegisterFile</a>::<dfn class="decl def fn" id="_ZN4llvm3mca12RegisterFile19removeRegisterWriteERKNS0_10WriteStateENS_15MutableArrayRefIjEE" title='llvm::mca::RegisterFile::removeRegisterWrite' data-ref="_ZN4llvm3mca12RegisterFile19removeRegisterWriteERKNS0_10WriteStateENS_15MutableArrayRefIjEE" data-ref-filename="_ZN4llvm3mca12RegisterFile19removeRegisterWriteERKNS0_10WriteStateENS_15MutableArrayRefIjEE">removeRegisterWrite</dfn>(</td></tr>
<tr><th id="235">235</th><td>    <em>const</em> <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteState" title='llvm::mca::WriteState' data-ref="llvm::mca::WriteState" data-ref-filename="llvm..mca..WriteState">WriteState</a> &amp;<dfn class="local col7 decl" id="47WS" title='WS' data-type='const llvm::mca::WriteState &amp;' data-ref="47WS" data-ref-filename="47WS">WS</dfn>, <a class="type" href="../../../include/llvm/ADT/ArrayRef.h.html#llvm::MutableArrayRef" title='llvm::MutableArrayRef' data-ref="llvm::MutableArrayRef" data-ref-filename="llvm..MutableArrayRef">MutableArrayRef</a>&lt;<em>unsigned</em>&gt; <dfn class="local col8 decl" id="48FreedPhysRegs" title='FreedPhysRegs' data-type='MutableArrayRef&lt;unsigned int&gt;' data-ref="48FreedPhysRegs" data-ref-filename="48FreedPhysRegs">FreedPhysRegs</dfn>) {</td></tr>
<tr><th id="236">236</th><td>  <i>// Early exit if this write was eliminated. A write eliminated at register</i></td></tr>
<tr><th id="237">237</th><td><i>  // renaming stage generates an alias, and it is not added to the PRF.</i></td></tr>
<tr><th id="238">238</th><td>  <b>if</b> (<a class="local col7 ref" href="#47WS" title='WS' data-ref="47WS" data-ref-filename="47WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState12isEliminatedEv" title='llvm::mca::WriteState::isEliminated' data-ref="_ZNK4llvm3mca10WriteState12isEliminatedEv" data-ref-filename="_ZNK4llvm3mca10WriteState12isEliminatedEv">isEliminated</a>())</td></tr>
<tr><th id="239">239</th><td>    <b>return</b>;</td></tr>
<tr><th id="240">240</th><td></td></tr>
<tr><th id="241">241</th><td>  <a class="typedef" href="../../../include/llvm/MC/MCRegister.h.html#llvm::MCPhysReg" title='llvm::MCPhysReg' data-type='uint16_t' data-ref="llvm::MCPhysReg" data-ref-filename="llvm..MCPhysReg">MCPhysReg</a> <dfn class="local col9 decl" id="49RegID" title='RegID' data-type='llvm::MCPhysReg' data-ref="49RegID" data-ref-filename="49RegID">RegID</dfn> = <a class="local col7 ref" href="#47WS" title='WS' data-ref="47WS" data-ref-filename="47WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState13getRegisterIDEv" title='llvm::mca::WriteState::getRegisterID' data-ref="_ZNK4llvm3mca10WriteState13getRegisterIDEv" data-ref-filename="_ZNK4llvm3mca10WriteState13getRegisterIDEv">getRegisterID</a>();</td></tr>
<tr><th id="242">242</th><td></td></tr>
<tr><th id="243">243</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(RegID != <var>0</var> &amp;&amp; <q>"Invalidating an already invalid register?"</q>);</td></tr>
<tr><th id="244">244</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(WS.getCyclesLeft() != UNKNOWN_CYCLES &amp;&amp;</td></tr>
<tr><th id="245">245</th><td>         <q>"Invalidating a write of unknown cycles!"</q>);</td></tr>
<tr><th id="246">246</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(WS.getCyclesLeft() &lt;= <var>0</var> &amp;&amp; <q>"Invalid cycles left for this write!"</q>);</td></tr>
<tr><th id="247">247</th><td></td></tr>
<tr><th id="248">248</th><td>  <em>bool</em> <dfn class="local col0 decl" id="50ShouldFreePhysRegs" title='ShouldFreePhysRegs' data-type='bool' data-ref="50ShouldFreePhysRegs" data-ref-filename="50ShouldFreePhysRegs">ShouldFreePhysRegs</dfn> = !<a class="local col7 ref" href="#47WS" title='WS' data-ref="47WS" data-ref-filename="47WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState11isWriteZeroEv" title='llvm::mca::WriteState::isWriteZero' data-ref="_ZNK4llvm3mca10WriteState11isWriteZeroEv" data-ref-filename="_ZNK4llvm3mca10WriteState11isWriteZeroEv">isWriteZero</a>();</td></tr>
<tr><th id="249">249</th><td>  <a class="typedef" href="../../../include/llvm/MC/MCRegister.h.html#llvm::MCPhysReg" title='llvm::MCPhysReg' data-type='uint16_t' data-ref="llvm::MCPhysReg" data-ref-filename="llvm..MCPhysReg">MCPhysReg</a> <dfn class="local col1 decl" id="51RenameAs" title='RenameAs' data-type='llvm::MCPhysReg' data-ref="51RenameAs" data-ref-filename="51RenameAs">RenameAs</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="local col9 ref" href="#49RegID" title='RegID' data-ref="49RegID" data-ref-filename="49RegID">RegID</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a>;</td></tr>
<tr><th id="250">250</th><td>  <b>if</b> (<a class="local col1 ref" href="#51RenameAs" title='RenameAs' data-ref="51RenameAs" data-ref-filename="51RenameAs">RenameAs</a> &amp;&amp; <a class="local col1 ref" href="#51RenameAs" title='RenameAs' data-ref="51RenameAs" data-ref-filename="51RenameAs">RenameAs</a> != <a class="local col9 ref" href="#49RegID" title='RegID' data-ref="49RegID" data-ref-filename="49RegID">RegID</a>) {</td></tr>
<tr><th id="251">251</th><td>    <a class="local col9 ref" href="#49RegID" title='RegID' data-ref="49RegID" data-ref-filename="49RegID">RegID</a> = <a class="local col1 ref" href="#51RenameAs" title='RenameAs' data-ref="51RenameAs" data-ref-filename="51RenameAs">RenameAs</a>;</td></tr>
<tr><th id="252">252</th><td></td></tr>
<tr><th id="253">253</th><td>    <b>if</b> (!<a class="local col7 ref" href="#47WS" title='WS' data-ref="47WS" data-ref-filename="47WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv" title='llvm::mca::WriteState::clearsSuperRegisters' data-ref="_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv" data-ref-filename="_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv">clearsSuperRegisters</a>()) {</td></tr>
<tr><th id="254">254</th><td>      <i>// Keep the definition of `RegID` together with register `RenameAs`.</i></td></tr>
<tr><th id="255">255</th><td>      <a class="local col0 ref" href="#50ShouldFreePhysRegs" title='ShouldFreePhysRegs' data-ref="50ShouldFreePhysRegs" data-ref-filename="50ShouldFreePhysRegs">ShouldFreePhysRegs</a> = <b>false</b>;</td></tr>
<tr><th id="256">256</th><td>    }</td></tr>
<tr><th id="257">257</th><td>  }</td></tr>
<tr><th id="258">258</th><td></td></tr>
<tr><th id="259">259</th><td>  <b>if</b> (<a class="local col0 ref" href="#50ShouldFreePhysRegs" title='ShouldFreePhysRegs' data-ref="50ShouldFreePhysRegs" data-ref-filename="50ShouldFreePhysRegs">ShouldFreePhysRegs</a>)</td></tr>
<tr><th id="260">260</th><td>    <a class="member fn" href="#_ZN4llvm3mca12RegisterFile12freePhysRegsERKNS1_20RegisterRenamingInfoENS_15MutableArrayRefIjEE" title='llvm::mca::RegisterFile::freePhysRegs' data-ref="_ZN4llvm3mca12RegisterFile12freePhysRegsERKNS1_20RegisterRenamingInfoENS_15MutableArrayRefIjEE" data-ref-filename="_ZN4llvm3mca12RegisterFile12freePhysRegsERKNS1_20RegisterRenamingInfoENS_15MutableArrayRefIjEE">freePhysRegs</a>(<a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="local col9 ref" href="#49RegID" title='RegID' data-ref="49RegID" data-ref-filename="49RegID">RegID</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>, <a class="ref fn fake" href="../../../include/llvm/ADT/ArrayRef.h.html#298" title='llvm::MutableArrayRef&lt;unsigned int&gt;::MutableArrayRef' data-ref="_ZN4llvm15MutableArrayRefIjEC1ERKS1_" data-ref-filename="_ZN4llvm15MutableArrayRefIjEC1ERKS1_"></a><a class="local col8 ref" href="#48FreedPhysRegs" title='FreedPhysRegs' data-ref="48FreedPhysRegs" data-ref-filename="48FreedPhysRegs">FreedPhysRegs</a>);</td></tr>
<tr><th id="261">261</th><td></td></tr>
<tr><th id="262">262</th><td>  <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteRef" title='llvm::mca::WriteRef' data-ref="llvm::mca::WriteRef" data-ref-filename="llvm..mca..WriteRef">WriteRef</a> &amp;<dfn class="local col2 decl" id="52WR" title='WR' data-type='llvm::mca::WriteRef &amp;' data-ref="52WR" data-ref-filename="52WR">WR</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="local col9 ref" href="#49RegID" title='RegID' data-ref="49RegID" data-ref-filename="49RegID">RegID</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>;</td></tr>
<tr><th id="263">263</th><td>  <b>if</b> (<a class="local col2 ref" href="#52WR" title='WR' data-ref="52WR" data-ref-filename="52WR">WR</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca8WriteRef13getWriteStateEv" title='llvm::mca::WriteRef::getWriteState' data-ref="_ZN4llvm3mca8WriteRef13getWriteStateEv" data-ref-filename="_ZN4llvm3mca8WriteRef13getWriteStateEv">getWriteState</a>() == &amp;<a class="local col7 ref" href="#47WS" title='WS' data-ref="47WS" data-ref-filename="47WS">WS</a>)</td></tr>
<tr><th id="264">264</th><td>    <a class="local col2 ref" href="#52WR" title='WR' data-ref="52WR" data-ref-filename="52WR">WR</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca8WriteRef10invalidateEv" title='llvm::mca::WriteRef::invalidate' data-ref="_ZN4llvm3mca8WriteRef10invalidateEv" data-ref-filename="_ZN4llvm3mca8WriteRef10invalidateEv">invalidate</a>();</td></tr>
<tr><th id="265">265</th><td></td></tr>
<tr><th id="266">266</th><td>  <b>for</b> (<a class="type" href="../../../include/llvm/MC/MCRegisterInfo.h.html#llvm::MCSubRegIterator" title='llvm::MCSubRegIterator' data-ref="llvm::MCSubRegIterator" data-ref-filename="llvm..MCSubRegIterator">MCSubRegIterator</a> <dfn class="local col3 decl" id="53I" title='I' data-type='llvm::MCSubRegIterator' data-ref="53I" data-ref-filename="53I">I</dfn><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" title='llvm::MCSubRegIterator::MCSubRegIterator' data-ref="_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" data-ref-filename="_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb">(</a><a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZN4llvm10MCRegisterC1Ej" title='llvm::MCRegister::MCRegister' data-ref="_ZN4llvm10MCRegisterC1Ej" data-ref-filename="_ZN4llvm10MCRegisterC1Ej"></a><a class="local col9 ref" href="#49RegID" title='RegID' data-ref="49RegID" data-ref-filename="49RegID">RegID</a>, &amp;<a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::MRI" title='llvm::mca::RegisterFile::MRI' data-ref="llvm::mca::RegisterFile::MRI" data-ref-filename="llvm..mca..RegisterFile..MRI">MRI</a>); <a class="local col3 ref" href="#53I" title='I' data-ref="53I" data-ref-filename="53I">I</a>.<a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" title='llvm::MCRegisterInfo::DiffListIterator::isValid' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv">isValid</a>(); <a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" title='llvm::MCRegisterInfo::DiffListIterator::operator++' data-ref="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" data-ref-filename="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv">++</a><a class="local col3 ref" href="#53I" title='I' data-ref="53I" data-ref-filename="53I">I</a>) {</td></tr>
<tr><th id="267">267</th><td>    <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteRef" title='llvm::mca::WriteRef' data-ref="llvm::mca::WriteRef" data-ref-filename="llvm..mca..WriteRef">WriteRef</a> &amp;<dfn class="local col4 decl" id="54OtherWR" title='OtherWR' data-type='llvm::mca::WriteRef &amp;' data-ref="54OtherWR" data-ref-filename="54OtherWR">OtherWR</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZNK4llvm10MCRegistercvjEv" title='llvm::MCRegister::operator unsigned int' data-ref="_ZNK4llvm10MCRegistercvjEv" data-ref-filename="_ZNK4llvm10MCRegistercvjEv"></a><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" title='llvm::MCRegisterInfo::DiffListIterator::operator*' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv">*</a><a class="local col3 ref" href="#53I" title='I' data-ref="53I" data-ref-filename="53I">I</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>;</td></tr>
<tr><th id="268">268</th><td>    <b>if</b> (<a class="local col4 ref" href="#54OtherWR" title='OtherWR' data-ref="54OtherWR" data-ref-filename="54OtherWR">OtherWR</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca8WriteRef13getWriteStateEv" title='llvm::mca::WriteRef::getWriteState' data-ref="_ZN4llvm3mca8WriteRef13getWriteStateEv" data-ref-filename="_ZN4llvm3mca8WriteRef13getWriteStateEv">getWriteState</a>() == &amp;<a class="local col7 ref" href="#47WS" title='WS' data-ref="47WS" data-ref-filename="47WS">WS</a>)</td></tr>
<tr><th id="269">269</th><td>      <a class="local col4 ref" href="#54OtherWR" title='OtherWR' data-ref="54OtherWR" data-ref-filename="54OtherWR">OtherWR</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca8WriteRef10invalidateEv" title='llvm::mca::WriteRef::invalidate' data-ref="_ZN4llvm3mca8WriteRef10invalidateEv" data-ref-filename="_ZN4llvm3mca8WriteRef10invalidateEv">invalidate</a>();</td></tr>
<tr><th id="270">270</th><td>  }</td></tr>
<tr><th id="271">271</th><td></td></tr>
<tr><th id="272">272</th><td>  <b>if</b> (!<a class="local col7 ref" href="#47WS" title='WS' data-ref="47WS" data-ref-filename="47WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv" title='llvm::mca::WriteState::clearsSuperRegisters' data-ref="_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv" data-ref-filename="_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv">clearsSuperRegisters</a>())</td></tr>
<tr><th id="273">273</th><td>    <b>return</b>;</td></tr>
<tr><th id="274">274</th><td></td></tr>
<tr><th id="275">275</th><td>  <b>for</b> (<a class="type" href="../../../include/llvm/MC/MCRegisterInfo.h.html#llvm::MCSuperRegIterator" title='llvm::MCSuperRegIterator' data-ref="llvm::MCSuperRegIterator" data-ref-filename="llvm..MCSuperRegIterator">MCSuperRegIterator</a> <dfn class="local col5 decl" id="55I" title='I' data-type='llvm::MCSuperRegIterator' data-ref="55I" data-ref-filename="55I">I</dfn><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm18MCSuperRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" title='llvm::MCSuperRegIterator::MCSuperRegIterator' data-ref="_ZN4llvm18MCSuperRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" data-ref-filename="_ZN4llvm18MCSuperRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb">(</a><a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZN4llvm10MCRegisterC1Ej" title='llvm::MCRegister::MCRegister' data-ref="_ZN4llvm10MCRegisterC1Ej" data-ref-filename="_ZN4llvm10MCRegisterC1Ej"></a><a class="local col9 ref" href="#49RegID" title='RegID' data-ref="49RegID" data-ref-filename="49RegID">RegID</a>, &amp;<a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::MRI" title='llvm::mca::RegisterFile::MRI' data-ref="llvm::mca::RegisterFile::MRI" data-ref-filename="llvm..mca..RegisterFile..MRI">MRI</a>); <a class="local col5 ref" href="#55I" title='I' data-ref="55I" data-ref-filename="55I">I</a>.<a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" title='llvm::MCRegisterInfo::DiffListIterator::isValid' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv">isValid</a>(); <a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" title='llvm::MCRegisterInfo::DiffListIterator::operator++' data-ref="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" data-ref-filename="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv">++</a><a class="local col5 ref" href="#55I" title='I' data-ref="55I" data-ref-filename="55I">I</a>) {</td></tr>
<tr><th id="276">276</th><td>    <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteRef" title='llvm::mca::WriteRef' data-ref="llvm::mca::WriteRef" data-ref-filename="llvm..mca..WriteRef">WriteRef</a> &amp;<dfn class="local col6 decl" id="56OtherWR" title='OtherWR' data-type='llvm::mca::WriteRef &amp;' data-ref="56OtherWR" data-ref-filename="56OtherWR">OtherWR</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZNK4llvm10MCRegistercvjEv" title='llvm::MCRegister::operator unsigned int' data-ref="_ZNK4llvm10MCRegistercvjEv" data-ref-filename="_ZNK4llvm10MCRegistercvjEv"></a><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" title='llvm::MCRegisterInfo::DiffListIterator::operator*' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv">*</a><a class="local col5 ref" href="#55I" title='I' data-ref="55I" data-ref-filename="55I">I</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>;</td></tr>
<tr><th id="277">277</th><td>    <b>if</b> (<a class="local col6 ref" href="#56OtherWR" title='OtherWR' data-ref="56OtherWR" data-ref-filename="56OtherWR">OtherWR</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca8WriteRef13getWriteStateEv" title='llvm::mca::WriteRef::getWriteState' data-ref="_ZN4llvm3mca8WriteRef13getWriteStateEv" data-ref-filename="_ZN4llvm3mca8WriteRef13getWriteStateEv">getWriteState</a>() == &amp;<a class="local col7 ref" href="#47WS" title='WS' data-ref="47WS" data-ref-filename="47WS">WS</a>)</td></tr>
<tr><th id="278">278</th><td>      <a class="local col6 ref" href="#56OtherWR" title='OtherWR' data-ref="56OtherWR" data-ref-filename="56OtherWR">OtherWR</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca8WriteRef10invalidateEv" title='llvm::mca::WriteRef::invalidate' data-ref="_ZN4llvm3mca8WriteRef10invalidateEv" data-ref-filename="_ZN4llvm3mca8WriteRef10invalidateEv">invalidate</a>();</td></tr>
<tr><th id="279">279</th><td>  }</td></tr>
<tr><th id="280">280</th><td>}</td></tr>
<tr><th id="281">281</th><td></td></tr>
<tr><th id="282">282</th><td><em>bool</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile" title='llvm::mca::RegisterFile' data-ref="llvm::mca::RegisterFile" data-ref-filename="llvm..mca..RegisterFile">RegisterFile</a>::<dfn class="decl def fn" id="_ZN4llvm3mca12RegisterFile16tryEliminateMoveERNS0_10WriteStateERNS0_9ReadStateE" title='llvm::mca::RegisterFile::tryEliminateMove' data-ref="_ZN4llvm3mca12RegisterFile16tryEliminateMoveERNS0_10WriteStateERNS0_9ReadStateE" data-ref-filename="_ZN4llvm3mca12RegisterFile16tryEliminateMoveERNS0_10WriteStateERNS0_9ReadStateE">tryEliminateMove</dfn>(<a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteState" title='llvm::mca::WriteState' data-ref="llvm::mca::WriteState" data-ref-filename="llvm..mca..WriteState">WriteState</a> &amp;<dfn class="local col7 decl" id="57WS" title='WS' data-type='llvm::mca::WriteState &amp;' data-ref="57WS" data-ref-filename="57WS">WS</dfn>, <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::ReadState" title='llvm::mca::ReadState' data-ref="llvm::mca::ReadState" data-ref-filename="llvm..mca..ReadState">ReadState</a> &amp;<dfn class="local col8 decl" id="58RS" title='RS' data-type='llvm::mca::ReadState &amp;' data-ref="58RS" data-ref-filename="58RS">RS</dfn>) {</td></tr>
<tr><th id="283">283</th><td>  <em>const</em> <a class="typedef" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMapping" title='llvm::mca::RegisterFile::RegisterMapping' data-type='std::pair&lt;WriteRef, RegisterRenamingInfo&gt;' data-ref="llvm::mca::RegisterFile::RegisterMapping" data-ref-filename="llvm..mca..RegisterFile..RegisterMapping">RegisterMapping</a> &amp;<dfn class="local col9 decl" id="59RMFrom" title='RMFrom' data-type='const llvm::mca::RegisterFile::RegisterMapping &amp;' data-ref="59RMFrom" data-ref-filename="59RMFrom">RMFrom</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="local col8 ref" href="#58RS" title='RS' data-ref="58RS" data-ref-filename="58RS">RS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca9ReadState13getRegisterIDEv" title='llvm::mca::ReadState::getRegisterID' data-ref="_ZNK4llvm3mca9ReadState13getRegisterIDEv" data-ref-filename="_ZNK4llvm3mca9ReadState13getRegisterIDEv">getRegisterID</a>()]</span>;</td></tr>
<tr><th id="284">284</th><td>  <em>const</em> <a class="typedef" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMapping" title='llvm::mca::RegisterFile::RegisterMapping' data-type='std::pair&lt;WriteRef, RegisterRenamingInfo&gt;' data-ref="llvm::mca::RegisterFile::RegisterMapping" data-ref-filename="llvm..mca..RegisterFile..RegisterMapping">RegisterMapping</a> &amp;<dfn class="local col0 decl" id="60RMTo" title='RMTo' data-type='const llvm::mca::RegisterFile::RegisterMapping &amp;' data-ref="60RMTo" data-ref-filename="60RMTo">RMTo</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="local col7 ref" href="#57WS" title='WS' data-ref="57WS" data-ref-filename="57WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState13getRegisterIDEv" title='llvm::mca::WriteState::getRegisterID' data-ref="_ZNK4llvm3mca10WriteState13getRegisterIDEv" data-ref-filename="_ZNK4llvm3mca10WriteState13getRegisterIDEv">getRegisterID</a>()]</span>;</td></tr>
<tr><th id="285">285</th><td></td></tr>
<tr><th id="286">286</th><td>  <i>// From and To must be owned by the same PRF.</i></td></tr>
<tr><th id="287">287</th><td>  <em>const</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo" title='llvm::mca::RegisterFile::RegisterRenamingInfo' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo">RegisterRenamingInfo</a> &amp;<dfn class="local col1 decl" id="61RRIFrom" title='RRIFrom' data-type='const llvm::mca::RegisterFile::RegisterRenamingInfo &amp;' data-ref="61RRIFrom" data-ref-filename="61RRIFrom">RRIFrom</dfn> = <a class="local col9 ref" href="#59RMFrom" title='RMFrom' data-ref="59RMFrom" data-ref-filename="59RMFrom">RMFrom</a>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>;</td></tr>
<tr><th id="288">288</th><td>  <em>const</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo" title='llvm::mca::RegisterFile::RegisterRenamingInfo' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo">RegisterRenamingInfo</a> &amp;<dfn class="local col2 decl" id="62RRITo" title='RRITo' data-type='const llvm::mca::RegisterFile::RegisterRenamingInfo &amp;' data-ref="62RRITo" data-ref-filename="62RRITo">RRITo</dfn> = <a class="local col0 ref" href="#60RMTo" title='RMTo' data-ref="60RMTo" data-ref-filename="60RMTo">RMTo</a>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>;</td></tr>
<tr><th id="289">289</th><td>  <em>unsigned</em> <dfn class="local col3 decl" id="63RegisterFileIndex" title='RegisterFileIndex' data-type='unsigned int' data-ref="63RegisterFileIndex" data-ref-filename="63RegisterFileIndex">RegisterFileIndex</dfn> = <a class="local col1 ref" href="#61RRIFrom" title='RRIFrom' data-ref="61RRIFrom" data-ref-filename="61RRIFrom">RRIFrom</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" title='llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..IndexPlusCost">IndexPlusCost</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>;</td></tr>
<tr><th id="290">290</th><td>  <b>if</b> (<a class="local col3 ref" href="#63RegisterFileIndex" title='RegisterFileIndex' data-ref="63RegisterFileIndex" data-ref-filename="63RegisterFileIndex">RegisterFileIndex</a> != <a class="local col2 ref" href="#62RRITo" title='RRITo' data-ref="62RRITo" data-ref-filename="62RRITo">RRITo</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" title='llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..IndexPlusCost">IndexPlusCost</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>)</td></tr>
<tr><th id="291">291</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="292">292</th><td></td></tr>
<tr><th id="293">293</th><td>  <i>// We only allow move elimination for writes that update a full physical</i></td></tr>
<tr><th id="294">294</th><td><i>  // register. On X86, move elimination is possible with 32-bit general purpose</i></td></tr>
<tr><th id="295">295</th><td><i>  // registers because writes to those registers are not partial writes.  If a</i></td></tr>
<tr><th id="296">296</th><td><i>  // register move is a partial write, then we conservatively assume that move</i></td></tr>
<tr><th id="297">297</th><td><i>  // elimination fails, since it would either trigger a partial update, or the</i></td></tr>
<tr><th id="298">298</th><td><i>  // issue of a merge opcode.</i></td></tr>
<tr><th id="299">299</th><td><i>  //</i></td></tr>
<tr><th id="300">300</th><td><i>  // Note that this constraint may be lifted in future.  For example, we could</i></td></tr>
<tr><th id="301">301</th><td><i>  // make this model more flexible, and let users customize the set of registers</i></td></tr>
<tr><th id="302">302</th><td><i>  // (i.e. register classes) that allow move elimination.</i></td></tr>
<tr><th id="303">303</th><td><i>  //</i></td></tr>
<tr><th id="304">304</th><td><i>  // For now, we assume that there is a strong correlation between registers</i></td></tr>
<tr><th id="305">305</th><td><i>  // that allow move elimination, and how those same registers are renamed in</i></td></tr>
<tr><th id="306">306</th><td><i>  // hardware.</i></td></tr>
<tr><th id="307">307</th><td>  <b>if</b> (<a class="local col2 ref" href="#62RRITo" title='RRITo' data-ref="62RRITo" data-ref-filename="62RRITo">RRITo</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a> &amp;&amp; <a class="local col2 ref" href="#62RRITo" title='RRITo' data-ref="62RRITo" data-ref-filename="62RRITo">RRITo</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a> != <a class="local col7 ref" href="#57WS" title='WS' data-ref="57WS" data-ref-filename="57WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState13getRegisterIDEv" title='llvm::mca::WriteState::getRegisterID' data-ref="_ZNK4llvm3mca10WriteState13getRegisterIDEv" data-ref-filename="_ZNK4llvm3mca10WriteState13getRegisterIDEv">getRegisterID</a>()) {</td></tr>
<tr><th id="308">308</th><td>    <i>// Early exit if the PRF doesn't support move elimination for this register.</i></td></tr>
<tr><th id="309">309</th><td>    <b>if</b> (!<a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="local col2 ref" href="#62RRITo" title='RRITo' data-ref="62RRITo" data-ref-filename="62RRITo">RRITo</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::AllowMoveElimination" title='llvm::mca::RegisterFile::RegisterRenamingInfo::AllowMoveElimination' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::AllowMoveElimination" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..AllowMoveElimination">AllowMoveElimination</a>)</td></tr>
<tr><th id="310">310</th><td>      <b>return</b> <b>false</b>;</td></tr>
<tr><th id="311">311</th><td>    <b>if</b> (!<a class="local col7 ref" href="#57WS" title='WS' data-ref="57WS" data-ref-filename="57WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv" title='llvm::mca::WriteState::clearsSuperRegisters' data-ref="_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv" data-ref-filename="_ZNK4llvm3mca10WriteState20clearsSuperRegistersEv">clearsSuperRegisters</a>())</td></tr>
<tr><th id="312">312</th><td>      <b>return</b> <b>false</b>;</td></tr>
<tr><th id="313">313</th><td>  }</td></tr>
<tr><th id="314">314</th><td></td></tr>
<tr><th id="315">315</th><td>  <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker" title='llvm::mca::RegisterFile::RegisterMappingTracker' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker">RegisterMappingTracker</a> &amp;<dfn class="local col4 decl" id="64RMT" title='RMT' data-type='llvm::mca::RegisterFile::RegisterMappingTracker &amp;' data-ref="64RMT" data-ref-filename="64RMT">RMT</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterFiles" title='llvm::mca::RegisterFile::RegisterFiles' data-ref="llvm::mca::RegisterFile::RegisterFiles" data-ref-filename="llvm..mca..RegisterFile..RegisterFiles">RegisterFiles</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col3 ref" href="#63RegisterFileIndex" title='RegisterFileIndex' data-ref="63RegisterFileIndex" data-ref-filename="63RegisterFileIndex">RegisterFileIndex</a>]</a>;</td></tr>
<tr><th id="316">316</th><td>  <b>if</b> (<a class="local col4 ref" href="#64RMT" title='RMT' data-ref="64RMT" data-ref-filename="64RMT">RMT</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::MaxMoveEliminatedPerCycle" title='llvm::mca::RegisterFile::RegisterMappingTracker::MaxMoveEliminatedPerCycle' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::MaxMoveEliminatedPerCycle" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..MaxMoveEliminatedPerCycle">MaxMoveEliminatedPerCycle</a> &amp;&amp;</td></tr>
<tr><th id="317">317</th><td>      <a class="local col4 ref" href="#64RMT" title='RMT' data-ref="64RMT" data-ref-filename="64RMT">RMT</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::NumMoveEliminated" title='llvm::mca::RegisterFile::RegisterMappingTracker::NumMoveEliminated' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::NumMoveEliminated" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..NumMoveEliminated">NumMoveEliminated</a> == <a class="local col4 ref" href="#64RMT" title='RMT' data-ref="64RMT" data-ref-filename="64RMT">RMT</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::MaxMoveEliminatedPerCycle" title='llvm::mca::RegisterFile::RegisterMappingTracker::MaxMoveEliminatedPerCycle' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::MaxMoveEliminatedPerCycle" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..MaxMoveEliminatedPerCycle">MaxMoveEliminatedPerCycle</a>)</td></tr>
<tr><th id="318">318</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="319">319</th><td></td></tr>
<tr><th id="320">320</th><td>  <em>bool</em> <dfn class="local col5 decl" id="65IsZeroMove" title='IsZeroMove' data-type='bool' data-ref="65IsZeroMove" data-ref-filename="65IsZeroMove">IsZeroMove</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::ZeroRegisters" title='llvm::mca::RegisterFile::ZeroRegisters' data-ref="llvm::mca::RegisterFile::ZeroRegisters" data-ref-filename="llvm..mca..RegisterFile..ZeroRegisters">ZeroRegisters</a><a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APIntixEj" title='llvm::APInt::operator[]' data-ref="_ZNK4llvm5APIntixEj" data-ref-filename="_ZNK4llvm5APIntixEj">[<a class="local col8 ref" href="#58RS" title='RS' data-ref="58RS" data-ref-filename="58RS">RS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca9ReadState13getRegisterIDEv" title='llvm::mca::ReadState::getRegisterID' data-ref="_ZNK4llvm3mca9ReadState13getRegisterIDEv" data-ref-filename="_ZNK4llvm3mca9ReadState13getRegisterIDEv">getRegisterID</a>()]</a>;</td></tr>
<tr><th id="321">321</th><td>  <b>if</b> (<a class="local col4 ref" href="#64RMT" title='RMT' data-ref="64RMT" data-ref-filename="64RMT">RMT</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::AllowZeroMoveEliminationOnly" title='llvm::mca::RegisterFile::RegisterMappingTracker::AllowZeroMoveEliminationOnly' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::AllowZeroMoveEliminationOnly" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..AllowZeroMoveEliminationOnly">AllowZeroMoveEliminationOnly</a> &amp;&amp; !<a class="local col5 ref" href="#65IsZeroMove" title='IsZeroMove' data-ref="65IsZeroMove" data-ref-filename="65IsZeroMove">IsZeroMove</a>)</td></tr>
<tr><th id="322">322</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="323">323</th><td></td></tr>
<tr><th id="324">324</th><td>  <i>// Construct an alias.</i></td></tr>
<tr><th id="325">325</th><td>  <a class="typedef" href="../../../include/llvm/MC/MCRegister.h.html#llvm::MCPhysReg" title='llvm::MCPhysReg' data-type='uint16_t' data-ref="llvm::MCPhysReg" data-ref-filename="llvm..MCPhysReg">MCPhysReg</a> <dfn class="local col6 decl" id="66AliasedReg" title='AliasedReg' data-type='llvm::MCPhysReg' data-ref="66AliasedReg" data-ref-filename="66AliasedReg">AliasedReg</dfn> =</td></tr>
<tr><th id="326">326</th><td>      <a class="local col1 ref" href="#61RRIFrom" title='RRIFrom' data-ref="61RRIFrom" data-ref-filename="61RRIFrom">RRIFrom</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a> ? <a class="local col1 ref" href="#61RRIFrom" title='RRIFrom' data-ref="61RRIFrom" data-ref-filename="61RRIFrom">RRIFrom</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a> : <a class="local col8 ref" href="#58RS" title='RS' data-ref="58RS" data-ref-filename="58RS">RS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca9ReadState13getRegisterIDEv" title='llvm::mca::ReadState::getRegisterID' data-ref="_ZNK4llvm3mca9ReadState13getRegisterIDEv" data-ref-filename="_ZNK4llvm3mca9ReadState13getRegisterIDEv">getRegisterID</a>();</td></tr>
<tr><th id="327">327</th><td>  <a class="typedef" href="../../../include/llvm/MC/MCRegister.h.html#llvm::MCPhysReg" title='llvm::MCPhysReg' data-type='uint16_t' data-ref="llvm::MCPhysReg" data-ref-filename="llvm..MCPhysReg">MCPhysReg</a> <dfn class="local col7 decl" id="67AliasReg" title='AliasReg' data-type='llvm::MCPhysReg' data-ref="67AliasReg" data-ref-filename="67AliasReg">AliasReg</dfn> = <a class="local col2 ref" href="#62RRITo" title='RRITo' data-ref="62RRITo" data-ref-filename="62RRITo">RRITo</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a> ? <a class="local col2 ref" href="#62RRITo" title='RRITo' data-ref="62RRITo" data-ref-filename="62RRITo">RRITo</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" title='llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::RenameAs" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..RenameAs">RenameAs</a> : <a class="local col7 ref" href="#57WS" title='WS' data-ref="57WS" data-ref-filename="57WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState13getRegisterIDEv" title='llvm::mca::WriteState::getRegisterID' data-ref="_ZNK4llvm3mca10WriteState13getRegisterIDEv" data-ref-filename="_ZNK4llvm3mca10WriteState13getRegisterIDEv">getRegisterID</a>();</td></tr>
<tr><th id="328">328</th><td></td></tr>
<tr><th id="329">329</th><td>  <em>const</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo" title='llvm::mca::RegisterFile::RegisterRenamingInfo' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo">RegisterRenamingInfo</a> &amp;<dfn class="local col8 decl" id="68RMAlias" title='RMAlias' data-type='const llvm::mca::RegisterFile::RegisterRenamingInfo &amp;' data-ref="68RMAlias" data-ref-filename="68RMAlias">RMAlias</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="local col6 ref" href="#66AliasedReg" title='AliasedReg' data-ref="66AliasedReg" data-ref-filename="66AliasedReg">AliasedReg</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>;</td></tr>
<tr><th id="330">330</th><td>  <b>if</b> (<a class="local col8 ref" href="#68RMAlias" title='RMAlias' data-ref="68RMAlias" data-ref-filename="68RMAlias">RMAlias</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" title='llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..AliasRegID">AliasRegID</a>)</td></tr>
<tr><th id="331">331</th><td>    <a class="local col6 ref" href="#66AliasedReg" title='AliasedReg' data-ref="66AliasedReg" data-ref-filename="66AliasedReg">AliasedReg</a> = <a class="local col8 ref" href="#68RMAlias" title='RMAlias' data-ref="68RMAlias" data-ref-filename="68RMAlias">RMAlias</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" title='llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..AliasRegID">AliasRegID</a>;</td></tr>
<tr><th id="332">332</th><td></td></tr>
<tr><th id="333">333</th><td>  <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="local col7 ref" href="#67AliasReg" title='AliasReg' data-ref="67AliasReg" data-ref-filename="67AliasReg">AliasReg</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" title='llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..AliasRegID">AliasRegID</a> = <a class="local col6 ref" href="#66AliasedReg" title='AliasedReg' data-ref="66AliasedReg" data-ref-filename="66AliasedReg">AliasedReg</a>;</td></tr>
<tr><th id="334">334</th><td>  <b>for</b> (<a class="type" href="../../../include/llvm/MC/MCRegisterInfo.h.html#llvm::MCSubRegIterator" title='llvm::MCSubRegIterator' data-ref="llvm::MCSubRegIterator" data-ref-filename="llvm..MCSubRegIterator">MCSubRegIterator</a> <dfn class="local col9 decl" id="69I" title='I' data-type='llvm::MCSubRegIterator' data-ref="69I" data-ref-filename="69I">I</dfn><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" title='llvm::MCSubRegIterator::MCSubRegIterator' data-ref="_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" data-ref-filename="_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb">(</a><a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZN4llvm10MCRegisterC1Ej" title='llvm::MCRegister::MCRegister' data-ref="_ZN4llvm10MCRegisterC1Ej" data-ref-filename="_ZN4llvm10MCRegisterC1Ej"></a><a class="local col7 ref" href="#67AliasReg" title='AliasReg' data-ref="67AliasReg" data-ref-filename="67AliasReg">AliasReg</a>, &amp;<a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::MRI" title='llvm::mca::RegisterFile::MRI' data-ref="llvm::mca::RegisterFile::MRI" data-ref-filename="llvm..mca..RegisterFile..MRI">MRI</a>); <a class="local col9 ref" href="#69I" title='I' data-ref="69I" data-ref-filename="69I">I</a>.<a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" title='llvm::MCRegisterInfo::DiffListIterator::isValid' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv">isValid</a>(); <a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" title='llvm::MCRegisterInfo::DiffListIterator::operator++' data-ref="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" data-ref-filename="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv">++</a><a class="local col9 ref" href="#69I" title='I' data-ref="69I" data-ref-filename="69I">I</a>)</td></tr>
<tr><th id="335">335</th><td>    <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZNK4llvm10MCRegistercvjEv" title='llvm::MCRegister::operator unsigned int' data-ref="_ZNK4llvm10MCRegistercvjEv" data-ref-filename="_ZNK4llvm10MCRegistercvjEv"></a><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" title='llvm::MCRegisterInfo::DiffListIterator::operator*' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv">*</a><a class="local col9 ref" href="#69I" title='I' data-ref="69I" data-ref-filename="69I">I</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" title='llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..AliasRegID">AliasRegID</a> = <a class="local col6 ref" href="#66AliasedReg" title='AliasedReg' data-ref="66AliasedReg" data-ref-filename="66AliasedReg">AliasedReg</a>;</td></tr>
<tr><th id="336">336</th><td></td></tr>
<tr><th id="337">337</th><td>  <b>if</b> (<a class="local col5 ref" href="#65IsZeroMove" title='IsZeroMove' data-ref="65IsZeroMove" data-ref-filename="65IsZeroMove">IsZeroMove</a>) {</td></tr>
<tr><th id="338">338</th><td>    <a class="local col7 ref" href="#57WS" title='WS' data-ref="57WS" data-ref-filename="57WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca10WriteState12setWriteZeroEv" title='llvm::mca::WriteState::setWriteZero' data-ref="_ZN4llvm3mca10WriteState12setWriteZeroEv" data-ref-filename="_ZN4llvm3mca10WriteState12setWriteZeroEv">setWriteZero</a>();</td></tr>
<tr><th id="339">339</th><td>    <a class="local col8 ref" href="#58RS" title='RS' data-ref="58RS" data-ref-filename="58RS">RS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca9ReadState11setReadZeroEv" title='llvm::mca::ReadState::setReadZero' data-ref="_ZN4llvm3mca9ReadState11setReadZeroEv" data-ref-filename="_ZN4llvm3mca9ReadState11setReadZeroEv">setReadZero</a>();</td></tr>
<tr><th id="340">340</th><td>  }</td></tr>
<tr><th id="341">341</th><td>  <a class="local col7 ref" href="#57WS" title='WS' data-ref="57WS" data-ref-filename="57WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca10WriteState13setEliminatedEv" title='llvm::mca::WriteState::setEliminated' data-ref="_ZN4llvm3mca10WriteState13setEliminatedEv" data-ref-filename="_ZN4llvm3mca10WriteState13setEliminatedEv">setEliminated</a>();</td></tr>
<tr><th id="342">342</th><td>  <a class="local col4 ref" href="#64RMT" title='RMT' data-ref="64RMT" data-ref-filename="64RMT">RMT</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::NumMoveEliminated" title='llvm::mca::RegisterFile::RegisterMappingTracker::NumMoveEliminated' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::NumMoveEliminated" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..NumMoveEliminated">NumMoveEliminated</a>++;</td></tr>
<tr><th id="343">343</th><td></td></tr>
<tr><th id="344">344</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="345">345</th><td>}</td></tr>
<tr><th id="346">346</th><td></td></tr>
<tr><th id="347">347</th><td><em>void</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile" title='llvm::mca::RegisterFile' data-ref="llvm::mca::RegisterFile" data-ref-filename="llvm..mca..RegisterFile">RegisterFile</a>::<dfn class="decl def fn" id="_ZNK4llvm3mca12RegisterFile13collectWritesERKNS0_9ReadStateERNS_15SmallVectorImplINS0_8WriteRefEEE" title='llvm::mca::RegisterFile::collectWrites' data-ref="_ZNK4llvm3mca12RegisterFile13collectWritesERKNS0_9ReadStateERNS_15SmallVectorImplINS0_8WriteRefEEE" data-ref-filename="_ZNK4llvm3mca12RegisterFile13collectWritesERKNS0_9ReadStateERNS_15SmallVectorImplINS0_8WriteRefEEE">collectWrites</dfn>(<em>const</em> <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::ReadState" title='llvm::mca::ReadState' data-ref="llvm::mca::ReadState" data-ref-filename="llvm..mca..ReadState">ReadState</a> &amp;<dfn class="local col0 decl" id="70RS" title='RS' data-type='const llvm::mca::ReadState &amp;' data-ref="70RS" data-ref-filename="70RS">RS</dfn>,</td></tr>
<tr><th id="348">348</th><td>                                 <a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::SmallVectorImpl" title='llvm::SmallVectorImpl' data-ref="llvm::SmallVectorImpl" data-ref-filename="llvm..SmallVectorImpl">SmallVectorImpl</a>&lt;<a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteRef" title='llvm::mca::WriteRef' data-ref="llvm::mca::WriteRef" data-ref-filename="llvm..mca..WriteRef">WriteRef</a>&gt; &amp;<dfn class="local col1 decl" id="71Writes" title='Writes' data-type='SmallVectorImpl&lt;llvm::mca::WriteRef&gt; &amp;' data-ref="71Writes" data-ref-filename="71Writes">Writes</dfn>) <em>const</em> {</td></tr>
<tr><th id="349">349</th><td>  <a class="typedef" href="../../../include/llvm/MC/MCRegister.h.html#llvm::MCPhysReg" title='llvm::MCPhysReg' data-type='uint16_t' data-ref="llvm::MCPhysReg" data-ref-filename="llvm..MCPhysReg">MCPhysReg</a> <dfn class="local col2 decl" id="72RegID" title='RegID' data-type='llvm::MCPhysReg' data-ref="72RegID" data-ref-filename="72RegID">RegID</dfn> = <a class="local col0 ref" href="#70RS" title='RS' data-ref="70RS" data-ref-filename="70RS">RS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca9ReadState13getRegisterIDEv" title='llvm::mca::ReadState::getRegisterID' data-ref="_ZNK4llvm3mca9ReadState13getRegisterIDEv" data-ref-filename="_ZNK4llvm3mca9ReadState13getRegisterIDEv">getRegisterID</a>();</td></tr>
<tr><th id="350">350</th><td>  <a class="macro" href="../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(RegID &amp;&amp; RegID &lt; RegisterMappings.size());</td></tr>
<tr><th id="351">351</th><td>  <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"RegisterFile: collecting writes for register "</q></td></tr>
<tr><th id="352">352</th><td>                    &lt;&lt; MRI.getName(RegID) &lt;&lt; <kbd>'\n'</kbd>);</td></tr>
<tr><th id="353">353</th><td></td></tr>
<tr><th id="354">354</th><td>  <i>// Check if this is an alias.</i></td></tr>
<tr><th id="355">355</th><td>  <em>const</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo" title='llvm::mca::RegisterFile::RegisterRenamingInfo' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo">RegisterRenamingInfo</a> &amp;<dfn class="local col3 decl" id="73RRI" title='RRI' data-type='const llvm::mca::RegisterFile::RegisterRenamingInfo &amp;' data-ref="73RRI" data-ref-filename="73RRI">RRI</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNKSt6vectorixEm" data-ref-filename="_ZNKSt6vectorixEm">[<a class="local col2 ref" href="#72RegID" title='RegID' data-ref="72RegID" data-ref-filename="72RegID">RegID</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>;</td></tr>
<tr><th id="356">356</th><td>  <b>if</b> (<a class="local col3 ref" href="#73RRI" title='RRI' data-ref="73RRI" data-ref-filename="73RRI">RRI</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" title='llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..AliasRegID">AliasRegID</a>)</td></tr>
<tr><th id="357">357</th><td>    <a class="local col2 ref" href="#72RegID" title='RegID' data-ref="72RegID" data-ref-filename="72RegID">RegID</a> = <a class="local col3 ref" href="#73RRI" title='RRI' data-ref="73RRI" data-ref-filename="73RRI">RRI</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" title='llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::AliasRegID" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..AliasRegID">AliasRegID</a>;</td></tr>
<tr><th id="358">358</th><td></td></tr>
<tr><th id="359">359</th><td>  <em>const</em> <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteRef" title='llvm::mca::WriteRef' data-ref="llvm::mca::WriteRef" data-ref-filename="llvm..mca..WriteRef">WriteRef</a> &amp;<dfn class="local col4 decl" id="74WR" title='WR' data-type='const llvm::mca::WriteRef &amp;' data-ref="74WR" data-ref-filename="74WR">WR</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNKSt6vectorixEm" data-ref-filename="_ZNKSt6vectorixEm">[<a class="local col2 ref" href="#72RegID" title='RegID' data-ref="72RegID" data-ref-filename="72RegID">RegID</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>;</td></tr>
<tr><th id="360">360</th><td>  <b>if</b> (<a class="local col4 ref" href="#74WR" title='WR' data-ref="74WR" data-ref-filename="74WR">WR</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca8WriteRef7isValidEv" title='llvm::mca::WriteRef::isValid' data-ref="_ZNK4llvm3mca8WriteRef7isValidEv" data-ref-filename="_ZNK4llvm3mca8WriteRef7isValidEv">isValid</a>())</td></tr>
<tr><th id="361">361</th><td>    <a class="local col1 ref" href="#71Writes" title='Writes' data-ref="71Writes" data-ref-filename="71Writes">Writes</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="ref fn fake" href="../../../include/llvm/MCA/Instruction.h.html#602" title='llvm::mca::WriteRef::WriteRef' data-ref="_ZN4llvm3mca8WriteRefC1ERKS1_" data-ref-filename="_ZN4llvm3mca8WriteRefC1ERKS1_"></a><a class="local col4 ref" href="#74WR" title='WR' data-ref="74WR" data-ref-filename="74WR">WR</a>);</td></tr>
<tr><th id="362">362</th><td></td></tr>
<tr><th id="363">363</th><td>  <i>// Handle potential partial register updates.</i></td></tr>
<tr><th id="364">364</th><td>  <b>for</b> (<a class="type" href="../../../include/llvm/MC/MCRegisterInfo.h.html#llvm::MCSubRegIterator" title='llvm::MCSubRegIterator' data-ref="llvm::MCSubRegIterator" data-ref-filename="llvm..MCSubRegIterator">MCSubRegIterator</a> <dfn class="local col5 decl" id="75I" title='I' data-type='llvm::MCSubRegIterator' data-ref="75I" data-ref-filename="75I">I</dfn><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" title='llvm::MCSubRegIterator::MCSubRegIterator' data-ref="_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb" data-ref-filename="_ZN4llvm16MCSubRegIteratorC1ENS_10MCRegisterEPKNS_14MCRegisterInfoEb">(</a><a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZN4llvm10MCRegisterC1Ej" title='llvm::MCRegister::MCRegister' data-ref="_ZN4llvm10MCRegisterC1Ej" data-ref-filename="_ZN4llvm10MCRegisterC1Ej"></a><a class="local col2 ref" href="#72RegID" title='RegID' data-ref="72RegID" data-ref-filename="72RegID">RegID</a>, &amp;<a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::MRI" title='llvm::mca::RegisterFile::MRI' data-ref="llvm::mca::RegisterFile::MRI" data-ref-filename="llvm..mca..RegisterFile..MRI">MRI</a>); <a class="local col5 ref" href="#75I" title='I' data-ref="75I" data-ref-filename="75I">I</a>.<a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" title='llvm::MCRegisterInfo::DiffListIterator::isValid' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIterator7isValidEv">isValid</a>(); <a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" title='llvm::MCRegisterInfo::DiffListIterator::operator++' data-ref="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv" data-ref-filename="_ZN4llvm14MCRegisterInfo16DiffListIteratorppEv">++</a><a class="local col5 ref" href="#75I" title='I' data-ref="75I" data-ref-filename="75I">I</a>) {</td></tr>
<tr><th id="365">365</th><td>    <em>const</em> <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteRef" title='llvm::mca::WriteRef' data-ref="llvm::mca::WriteRef" data-ref-filename="llvm..mca..WriteRef">WriteRef</a> &amp;<dfn class="local col6 decl" id="76WR" title='WR' data-type='const llvm::mca::WriteRef &amp;' data-ref="76WR" data-ref-filename="76WR">WR</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNKSt6vectorixEm" data-ref-filename="_ZNKSt6vectorixEm">[<a class="ref fn fake" href="../../../include/llvm/MC/MCRegister.h.html#_ZNK4llvm10MCRegistercvjEv" title='llvm::MCRegister::operator unsigned int' data-ref="_ZNK4llvm10MCRegistercvjEv" data-ref-filename="_ZNK4llvm10MCRegistercvjEv"></a><a class="ref fn" href="../../../include/llvm/MC/MCRegisterInfo.h.html#_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" title='llvm::MCRegisterInfo::DiffListIterator::operator*' data-ref="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv" data-ref-filename="_ZNK4llvm14MCRegisterInfo16DiffListIteratordeEv">*</a><a class="local col5 ref" href="#75I" title='I' data-ref="75I" data-ref-filename="75I">I</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>;</td></tr>
<tr><th id="366">366</th><td>    <b>if</b> (<a class="local col6 ref" href="#76WR" title='WR' data-ref="76WR" data-ref-filename="76WR">WR</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca8WriteRef7isValidEv" title='llvm::mca::WriteRef::isValid' data-ref="_ZNK4llvm3mca8WriteRef7isValidEv" data-ref-filename="_ZNK4llvm3mca8WriteRef7isValidEv">isValid</a>())</td></tr>
<tr><th id="367">367</th><td>      <a class="local col1 ref" href="#71Writes" title='Writes' data-ref="71Writes" data-ref-filename="71Writes">Writes</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="ref fn fake" href="../../../include/llvm/MCA/Instruction.h.html#602" title='llvm::mca::WriteRef::WriteRef' data-ref="_ZN4llvm3mca8WriteRefC1ERKS1_" data-ref-filename="_ZN4llvm3mca8WriteRefC1ERKS1_"></a><a class="local col6 ref" href="#76WR" title='WR' data-ref="76WR" data-ref-filename="76WR">WR</a>);</td></tr>
<tr><th id="368">368</th><td>  }</td></tr>
<tr><th id="369">369</th><td></td></tr>
<tr><th id="370">370</th><td>  <i>// Remove duplicate entries and resize the input vector.</i></td></tr>
<tr><th id="371">371</th><td>  <b>if</b> (<a class="local col1 ref" href="#71Writes" title='Writes' data-ref="71Writes" data-ref-filename="71Writes">Writes</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase4sizeEv" title='llvm::SmallVectorBase::size' data-ref="_ZNK4llvm15SmallVectorBase4sizeEv" data-ref-filename="_ZNK4llvm15SmallVectorBase4sizeEv">size</a>() &gt; <var>1</var>) {</td></tr>
<tr><th id="372">372</th><td>    <a class="tu ref fn" href="../../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm4sortEOT_T0_" title='llvm::sort' data-use='c' data-ref="_ZN4llvm4sortEOT_T0_" data-ref-filename="_ZN4llvm4sortEOT_T0_">sort</a>(<span class='refarg'><a class="local col1 ref" href="#71Writes" title='Writes' data-ref="71Writes" data-ref-filename="71Writes">Writes</a></span>, [](<em>const</em> <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteRef" title='llvm::mca::WriteRef' data-ref="llvm::mca::WriteRef" data-ref-filename="llvm..mca..WriteRef">WriteRef</a> &amp;<dfn class="local col7 decl" id="77Lhs" title='Lhs' data-type='const llvm::mca::WriteRef &amp;' data-ref="77Lhs" data-ref-filename="77Lhs">Lhs</dfn>, <em>const</em> <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteRef" title='llvm::mca::WriteRef' data-ref="llvm::mca::WriteRef" data-ref-filename="llvm..mca..WriteRef">WriteRef</a> &amp;<dfn class="local col8 decl" id="78Rhs" title='Rhs' data-type='const llvm::mca::WriteRef &amp;' data-ref="78Rhs" data-ref-filename="78Rhs">Rhs</dfn>) {</td></tr>
<tr><th id="373">373</th><td>      <b>return</b> <a class="local col7 ref" href="#77Lhs" title='Lhs' data-ref="77Lhs" data-ref-filename="77Lhs">Lhs</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca8WriteRef13getWriteStateEv" title='llvm::mca::WriteRef::getWriteState' data-ref="_ZNK4llvm3mca8WriteRef13getWriteStateEv" data-ref-filename="_ZNK4llvm3mca8WriteRef13getWriteStateEv">getWriteState</a>() &lt; <a class="local col8 ref" href="#78Rhs" title='Rhs' data-ref="78Rhs" data-ref-filename="78Rhs">Rhs</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca8WriteRef13getWriteStateEv" title='llvm::mca::WriteRef::getWriteState' data-ref="_ZNK4llvm3mca8WriteRef13getWriteStateEv" data-ref-filename="_ZNK4llvm3mca8WriteRef13getWriteStateEv">getWriteState</a>();</td></tr>
<tr><th id="374">374</th><td>    });</td></tr>
<tr><th id="375">375</th><td>    <em>auto</em> <dfn class="local col9 decl" id="79It" title='It' data-type='llvm::mca::WriteRef *' data-ref="79It" data-ref-filename="79It">It</dfn> = <span class="namespace">std::</span><span class='ref fn' title='std::unique' data-ref="_ZSt6uniqueT_S_" data-ref-filename="_ZSt6uniqueT_S_">unique</span>(<a class="local col1 ref" href="#71Writes" title='Writes' data-ref="71Writes" data-ref-filename="71Writes">Writes</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommon5beginEv" title='llvm::SmallVectorTemplateCommon::begin' data-ref="_ZN4llvm25SmallVectorTemplateCommon5beginEv" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommon5beginEv">begin</a>(), <a class="local col1 ref" href="#71Writes" title='Writes' data-ref="71Writes" data-ref-filename="71Writes">Writes</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommon3endEv" title='llvm::SmallVectorTemplateCommon::end' data-ref="_ZN4llvm25SmallVectorTemplateCommon3endEv" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommon3endEv">end</a>());</td></tr>
<tr><th id="376">376</th><td>    <a class="local col1 ref" href="#71Writes" title='Writes' data-ref="71Writes" data-ref-filename="71Writes">Writes</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm15SmallVectorImpl6resizeENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructibl2685113" title='llvm::SmallVectorImpl::resize' data-ref="_ZN4llvm15SmallVectorImpl6resizeENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructibl2685113" data-ref-filename="_ZN4llvm15SmallVectorImpl6resizeENS_23SmallVectorTemplateBaseIT_Xaaaasr31is_trivially_copy_constructibleIS2_EE5valuesr31is_trivially_move_constructibl2685113">resize</a>(<span class="namespace">std::</span><span class='ref fn' title='std::distance' data-ref="_ZSt8distanceT_S_" data-ref-filename="_ZSt8distanceT_S_">distance</span>(<a class="local col1 ref" href="#71Writes" title='Writes' data-ref="71Writes" data-ref-filename="71Writes">Writes</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommon5beginEv" title='llvm::SmallVectorTemplateCommon::begin' data-ref="_ZN4llvm25SmallVectorTemplateCommon5beginEv" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommon5beginEv">begin</a>(), <a class="local col9 ref" href="#79It" title='It' data-ref="79It" data-ref-filename="79It">It</a>));</td></tr>
<tr><th id="377">377</th><td>  }</td></tr>
<tr><th id="378">378</th><td></td></tr>
<tr><th id="379">379</th><td>  <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>({</td></tr>
<tr><th id="380">380</th><td>    <b>for</b> (<em>const</em> WriteRef &amp;WR : Writes) {</td></tr>
<tr><th id="381">381</th><td>      <em>const</em> WriteState &amp;WS = *WR.getWriteState();</td></tr>
<tr><th id="382">382</th><td>      dbgs() &lt;&lt; <q>"[PRF] Found a dependent use of Register "</q></td></tr>
<tr><th id="383">383</th><td>             &lt;&lt; MRI.getName(WS.getRegisterID()) &lt;&lt; <q>" (defined by instruction #"</q></td></tr>
<tr><th id="384">384</th><td>             &lt;&lt; WR.getSourceIndex() &lt;&lt; <q>")\n"</q>;</td></tr>
<tr><th id="385">385</th><td>    }</td></tr>
<tr><th id="386">386</th><td>  });</td></tr>
<tr><th id="387">387</th><td>}</td></tr>
<tr><th id="388">388</th><td></td></tr>
<tr><th id="389">389</th><td><em>void</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile" title='llvm::mca::RegisterFile' data-ref="llvm::mca::RegisterFile" data-ref-filename="llvm..mca..RegisterFile">RegisterFile</a>::<dfn class="decl def fn" id="_ZNK4llvm3mca12RegisterFile15addRegisterReadERNS0_9ReadStateERKNS_15MCSubtargetInfoE" title='llvm::mca::RegisterFile::addRegisterRead' data-ref="_ZNK4llvm3mca12RegisterFile15addRegisterReadERNS0_9ReadStateERKNS_15MCSubtargetInfoE" data-ref-filename="_ZNK4llvm3mca12RegisterFile15addRegisterReadERNS0_9ReadStateERKNS_15MCSubtargetInfoE">addRegisterRead</dfn>(<a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::ReadState" title='llvm::mca::ReadState' data-ref="llvm::mca::ReadState" data-ref-filename="llvm..mca..ReadState">ReadState</a> &amp;<dfn class="local col0 decl" id="80RS" title='RS' data-type='llvm::mca::ReadState &amp;' data-ref="80RS" data-ref-filename="80RS">RS</dfn>,</td></tr>
<tr><th id="390">390</th><td>                                   <em>const</em> <a class="type" href="../../../include/llvm/MC/MCSubtargetInfo.h.html#llvm::MCSubtargetInfo" title='llvm::MCSubtargetInfo' data-ref="llvm::MCSubtargetInfo" data-ref-filename="llvm..MCSubtargetInfo">MCSubtargetInfo</a> &amp;<dfn class="local col1 decl" id="81STI" title='STI' data-type='const llvm::MCSubtargetInfo &amp;' data-ref="81STI" data-ref-filename="81STI">STI</dfn>) <em>const</em> {</td></tr>
<tr><th id="391">391</th><td>  <a class="typedef" href="../../../include/llvm/MC/MCRegister.h.html#llvm::MCPhysReg" title='llvm::MCPhysReg' data-type='uint16_t' data-ref="llvm::MCPhysReg" data-ref-filename="llvm..MCPhysReg">MCPhysReg</a> <dfn class="local col2 decl" id="82RegID" title='RegID' data-type='llvm::MCPhysReg' data-ref="82RegID" data-ref-filename="82RegID">RegID</dfn> = <a class="local col0 ref" href="#80RS" title='RS' data-ref="80RS" data-ref-filename="80RS">RS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca9ReadState13getRegisterIDEv" title='llvm::mca::ReadState::getRegisterID' data-ref="_ZNK4llvm3mca9ReadState13getRegisterIDEv" data-ref-filename="_ZNK4llvm3mca9ReadState13getRegisterIDEv">getRegisterID</a>();</td></tr>
<tr><th id="392">392</th><td>  <em>const</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo" title='llvm::mca::RegisterFile::RegisterRenamingInfo' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo">RegisterRenamingInfo</a> &amp;<dfn class="local col3 decl" id="83RRI" title='RRI' data-type='const llvm::mca::RegisterFile::RegisterRenamingInfo &amp;' data-ref="83RRI" data-ref-filename="83RRI">RRI</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNKSt6vectorixEm" data-ref-filename="_ZNKSt6vectorixEm">[<a class="local col2 ref" href="#82RegID" title='RegID' data-ref="82RegID" data-ref-filename="82RegID">RegID</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>;</td></tr>
<tr><th id="393">393</th><td>  <a class="local col0 ref" href="#80RS" title='RS' data-ref="80RS" data-ref-filename="80RS">RS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca9ReadState6setPRFEj" title='llvm::mca::ReadState::setPRF' data-ref="_ZN4llvm3mca9ReadState6setPRFEj" data-ref-filename="_ZN4llvm3mca9ReadState6setPRFEj">setPRF</a>(<a class="local col3 ref" href="#83RRI" title='RRI' data-ref="83RRI" data-ref-filename="83RRI">RRI</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" title='llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..IndexPlusCost">IndexPlusCost</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>);</td></tr>
<tr><th id="394">394</th><td>  <b>if</b> (<a class="local col0 ref" href="#80RS" title='RS' data-ref="80RS" data-ref-filename="80RS">RS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca9ReadState20isIndependentFromDefEv" title='llvm::mca::ReadState::isIndependentFromDef' data-ref="_ZNK4llvm3mca9ReadState20isIndependentFromDefEv" data-ref-filename="_ZNK4llvm3mca9ReadState20isIndependentFromDefEv">isIndependentFromDef</a>())</td></tr>
<tr><th id="395">395</th><td>    <b>return</b>;</td></tr>
<tr><th id="396">396</th><td></td></tr>
<tr><th id="397">397</th><td>  <b>if</b> (<a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::ZeroRegisters" title='llvm::mca::RegisterFile::ZeroRegisters' data-ref="llvm::mca::RegisterFile::ZeroRegisters" data-ref-filename="llvm..mca..RegisterFile..ZeroRegisters">ZeroRegisters</a><a class="ref fn" href="../../../include/llvm/ADT/APInt.h.html#_ZNK4llvm5APIntixEj" title='llvm::APInt::operator[]' data-ref="_ZNK4llvm5APIntixEj" data-ref-filename="_ZNK4llvm5APIntixEj">[<a class="local col0 ref" href="#80RS" title='RS' data-ref="80RS" data-ref-filename="80RS">RS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca9ReadState13getRegisterIDEv" title='llvm::mca::ReadState::getRegisterID' data-ref="_ZNK4llvm3mca9ReadState13getRegisterIDEv" data-ref-filename="_ZNK4llvm3mca9ReadState13getRegisterIDEv">getRegisterID</a>()]</a>)</td></tr>
<tr><th id="398">398</th><td>    <a class="local col0 ref" href="#80RS" title='RS' data-ref="80RS" data-ref-filename="80RS">RS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca9ReadState11setReadZeroEv" title='llvm::mca::ReadState::setReadZero' data-ref="_ZN4llvm3mca9ReadState11setReadZeroEv" data-ref-filename="_ZN4llvm3mca9ReadState11setReadZeroEv">setReadZero</a>();</td></tr>
<tr><th id="399">399</th><td></td></tr>
<tr><th id="400">400</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteRef" title='llvm::mca::WriteRef' data-ref="llvm::mca::WriteRef" data-ref-filename="llvm..mca..WriteRef">WriteRef</a>, <var>4</var>&gt; <a class="ref fn fake" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col4 decl" id="84DependentWrites" title='DependentWrites' data-type='SmallVector&lt;llvm::mca::WriteRef, 4&gt;' data-ref="84DependentWrites" data-ref-filename="84DependentWrites">DependentWrites</dfn>;</td></tr>
<tr><th id="401">401</th><td>  <a class="member fn" href="#_ZNK4llvm3mca12RegisterFile13collectWritesERKNS0_9ReadStateERNS_15SmallVectorImplINS0_8WriteRefEEE" title='llvm::mca::RegisterFile::collectWrites' data-ref="_ZNK4llvm3mca12RegisterFile13collectWritesERKNS0_9ReadStateERNS_15SmallVectorImplINS0_8WriteRefEEE" data-ref-filename="_ZNK4llvm3mca12RegisterFile13collectWritesERKNS0_9ReadStateERNS_15SmallVectorImplINS0_8WriteRefEEE">collectWrites</a>(<a class="local col0 ref" href="#80RS" title='RS' data-ref="80RS" data-ref-filename="80RS">RS</a>, <span class='refarg'><a class="local col4 ref" href="#84DependentWrites" title='DependentWrites' data-ref="84DependentWrites" data-ref-filename="84DependentWrites">DependentWrites</a></span>);</td></tr>
<tr><th id="402">402</th><td>  <a class="local col0 ref" href="#80RS" title='RS' data-ref="80RS" data-ref-filename="80RS">RS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca9ReadState18setDependentWritesEj" title='llvm::mca::ReadState::setDependentWrites' data-ref="_ZN4llvm3mca9ReadState18setDependentWritesEj" data-ref-filename="_ZN4llvm3mca9ReadState18setDependentWritesEj">setDependentWrites</a>(<a class="local col4 ref" href="#84DependentWrites" title='DependentWrites' data-ref="84DependentWrites" data-ref-filename="84DependentWrites">DependentWrites</a>.<a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm15SmallVectorBase4sizeEv" title='llvm::SmallVectorBase::size' data-ref="_ZNK4llvm15SmallVectorBase4sizeEv" data-ref-filename="_ZNK4llvm15SmallVectorBase4sizeEv">size</a>());</td></tr>
<tr><th id="403">403</th><td></td></tr>
<tr><th id="404">404</th><td>  <i>// We know that this read depends on all the writes in DependentWrites.</i></td></tr>
<tr><th id="405">405</th><td><i>  // For each write, check if we have ReadAdvance information, and use it</i></td></tr>
<tr><th id="406">406</th><td><i>  // to figure out in how many cycles this read becomes available.</i></td></tr>
<tr><th id="407">407</th><td>  <em>const</em> <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::ReadDescriptor" title='llvm::mca::ReadDescriptor' data-ref="llvm::mca::ReadDescriptor" data-ref-filename="llvm..mca..ReadDescriptor">ReadDescriptor</a> &amp;<dfn class="local col5 decl" id="85RD" title='RD' data-type='const llvm::mca::ReadDescriptor &amp;' data-ref="85RD" data-ref-filename="85RD">RD</dfn> = <a class="local col0 ref" href="#80RS" title='RS' data-ref="80RS" data-ref-filename="80RS">RS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca9ReadState13getDescriptorEv" title='llvm::mca::ReadState::getDescriptor' data-ref="_ZNK4llvm3mca9ReadState13getDescriptorEv" data-ref-filename="_ZNK4llvm3mca9ReadState13getDescriptorEv">getDescriptor</a>();</td></tr>
<tr><th id="408">408</th><td>  <em>const</em> <a class="type" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCSchedModel" title='llvm::MCSchedModel' data-ref="llvm::MCSchedModel" data-ref-filename="llvm..MCSchedModel">MCSchedModel</a> &amp;<dfn class="local col6 decl" id="86SM" title='SM' data-type='const llvm::MCSchedModel &amp;' data-ref="86SM" data-ref-filename="86SM">SM</dfn> = <a class="local col1 ref" href="#81STI" title='STI' data-ref="81STI" data-ref-filename="81STI">STI</a>.<a class="ref fn" href="../../../include/llvm/MC/MCSubtargetInfo.h.html#_ZNK4llvm15MCSubtargetInfo13getSchedModelEv" title='llvm::MCSubtargetInfo::getSchedModel' data-ref="_ZNK4llvm15MCSubtargetInfo13getSchedModelEv" data-ref-filename="_ZNK4llvm15MCSubtargetInfo13getSchedModelEv">getSchedModel</a>();</td></tr>
<tr><th id="409">409</th><td>  <em>const</em> <a class="type" href="../../../include/llvm/MC/MCSchedule.h.html#llvm::MCSchedClassDesc" title='llvm::MCSchedClassDesc' data-ref="llvm::MCSchedClassDesc" data-ref-filename="llvm..MCSchedClassDesc">MCSchedClassDesc</a> *<dfn class="local col7 decl" id="87SC" title='SC' data-type='const llvm::MCSchedClassDesc *' data-ref="87SC" data-ref-filename="87SC">SC</dfn> = <a class="local col6 ref" href="#86SM" title='SM' data-ref="86SM" data-ref-filename="86SM">SM</a>.<a class="ref fn" href="../../../include/llvm/MC/MCSchedule.h.html#_ZNK4llvm12MCSchedModel17getSchedClassDescEj" title='llvm::MCSchedModel::getSchedClassDesc' data-ref="_ZNK4llvm12MCSchedModel17getSchedClassDescEj" data-ref-filename="_ZNK4llvm12MCSchedModel17getSchedClassDescEj">getSchedClassDesc</a>(<a class="local col5 ref" href="#85RD" title='RD' data-ref="85RD" data-ref-filename="85RD">RD</a>.<a class="ref field" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::ReadDescriptor::SchedClassID" title='llvm::mca::ReadDescriptor::SchedClassID' data-ref="llvm::mca::ReadDescriptor::SchedClassID" data-ref-filename="llvm..mca..ReadDescriptor..SchedClassID">SchedClassID</a>);</td></tr>
<tr><th id="410">410</th><td>  <b>for</b> (<a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteRef" title='llvm::mca::WriteRef' data-ref="llvm::mca::WriteRef" data-ref-filename="llvm..mca..WriteRef">WriteRef</a> &amp;<dfn class="local col8 decl" id="88WR" title='WR' data-type='llvm::mca::WriteRef &amp;' data-ref="88WR" data-ref-filename="88WR">WR</dfn> : <a class="local col4 ref" href="#84DependentWrites" title='DependentWrites' data-ref="84DependentWrites" data-ref-filename="84DependentWrites">DependentWrites</a>) {</td></tr>
<tr><th id="411">411</th><td>    <a class="type" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::WriteState" title='llvm::mca::WriteState' data-ref="llvm::mca::WriteState" data-ref-filename="llvm..mca..WriteState">WriteState</a> &amp;<dfn class="local col9 decl" id="89WS" title='WS' data-type='llvm::mca::WriteState &amp;' data-ref="89WS" data-ref-filename="89WS">WS</dfn> = *<a class="local col8 ref" href="#88WR" title='WR' data-ref="88WR" data-ref-filename="88WR">WR</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca8WriteRef13getWriteStateEv" title='llvm::mca::WriteRef::getWriteState' data-ref="_ZN4llvm3mca8WriteRef13getWriteStateEv" data-ref-filename="_ZN4llvm3mca8WriteRef13getWriteStateEv">getWriteState</a>();</td></tr>
<tr><th id="412">412</th><td>    <em>unsigned</em> <dfn class="local col0 decl" id="90WriteResID" title='WriteResID' data-type='unsigned int' data-ref="90WriteResID" data-ref-filename="90WriteResID">WriteResID</dfn> = <a class="local col9 ref" href="#89WS" title='WS' data-ref="89WS" data-ref-filename="89WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca10WriteState18getWriteResourceIDEv" title='llvm::mca::WriteState::getWriteResourceID' data-ref="_ZNK4llvm3mca10WriteState18getWriteResourceIDEv" data-ref-filename="_ZNK4llvm3mca10WriteState18getWriteResourceIDEv">getWriteResourceID</a>();</td></tr>
<tr><th id="413">413</th><td>    <em>int</em> <dfn class="local col1 decl" id="91ReadAdvance" title='ReadAdvance' data-type='int' data-ref="91ReadAdvance" data-ref-filename="91ReadAdvance">ReadAdvance</dfn> = <a class="local col1 ref" href="#81STI" title='STI' data-ref="81STI" data-ref-filename="81STI">STI</a>.<a class="ref fn" href="../../../include/llvm/MC/MCSubtargetInfo.h.html#_ZNK4llvm15MCSubtargetInfo20getReadAdvanceCyclesEPKNS_16MCSchedClassDescEjj" title='llvm::MCSubtargetInfo::getReadAdvanceCycles' data-ref="_ZNK4llvm15MCSubtargetInfo20getReadAdvanceCyclesEPKNS_16MCSchedClassDescEjj" data-ref-filename="_ZNK4llvm15MCSubtargetInfo20getReadAdvanceCyclesEPKNS_16MCSchedClassDescEjj">getReadAdvanceCycles</a>(<a class="local col7 ref" href="#87SC" title='SC' data-ref="87SC" data-ref-filename="87SC">SC</a>, <a class="local col5 ref" href="#85RD" title='RD' data-ref="85RD" data-ref-filename="85RD">RD</a>.<a class="ref field" href="../../../include/llvm/MCA/Instruction.h.html#llvm::mca::ReadDescriptor::UseIndex" title='llvm::mca::ReadDescriptor::UseIndex' data-ref="llvm::mca::ReadDescriptor::UseIndex" data-ref-filename="llvm..mca..ReadDescriptor..UseIndex">UseIndex</a>, <a class="local col0 ref" href="#90WriteResID" title='WriteResID' data-ref="90WriteResID" data-ref-filename="90WriteResID">WriteResID</a>);</td></tr>
<tr><th id="414">414</th><td>    <a class="local col9 ref" href="#89WS" title='WS' data-ref="89WS" data-ref-filename="89WS">WS</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZN4llvm3mca10WriteState7addUserEjPNS0_9ReadStateEi" title='llvm::mca::WriteState::addUser' data-ref="_ZN4llvm3mca10WriteState7addUserEjPNS0_9ReadStateEi" data-ref-filename="_ZN4llvm3mca10WriteState7addUserEjPNS0_9ReadStateEi">addUser</a>(<a class="local col8 ref" href="#88WR" title='WR' data-ref="88WR" data-ref-filename="88WR">WR</a>.<a class="ref fn" href="../../../include/llvm/MCA/Instruction.h.html#_ZNK4llvm3mca8WriteRef14getSourceIndexEv" title='llvm::mca::WriteRef::getSourceIndex' data-ref="_ZNK4llvm3mca8WriteRef14getSourceIndexEv" data-ref-filename="_ZNK4llvm3mca8WriteRef14getSourceIndexEv">getSourceIndex</a>(), &amp;<a class="local col0 ref" href="#80RS" title='RS' data-ref="80RS" data-ref-filename="80RS">RS</a>, <a class="local col1 ref" href="#91ReadAdvance" title='ReadAdvance' data-ref="91ReadAdvance" data-ref-filename="91ReadAdvance">ReadAdvance</a>);</td></tr>
<tr><th id="415">415</th><td>  }</td></tr>
<tr><th id="416">416</th><td>}</td></tr>
<tr><th id="417">417</th><td></td></tr>
<tr><th id="418">418</th><td><em>unsigned</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile" title='llvm::mca::RegisterFile' data-ref="llvm::mca::RegisterFile" data-ref-filename="llvm..mca..RegisterFile">RegisterFile</a>::<dfn class="decl def fn" id="_ZNK4llvm3mca12RegisterFile11isAvailableENS_8ArrayRefItEE" title='llvm::mca::RegisterFile::isAvailable' data-ref="_ZNK4llvm3mca12RegisterFile11isAvailableENS_8ArrayRefItEE" data-ref-filename="_ZNK4llvm3mca12RegisterFile11isAvailableENS_8ArrayRefItEE">isAvailable</dfn>(<a class="type" href="../../../include/llvm/ADT/APInt.h.html#llvm::ArrayRef" title='llvm::ArrayRef' data-ref="llvm::ArrayRef" data-ref-filename="llvm..ArrayRef">ArrayRef</a>&lt;<a class="typedef" href="../../../include/llvm/MC/MCRegister.h.html#llvm::MCPhysReg" title='llvm::MCPhysReg' data-type='uint16_t' data-ref="llvm::MCPhysReg" data-ref-filename="llvm..MCPhysReg">MCPhysReg</a>&gt; <dfn class="local col2 decl" id="92Regs" title='Regs' data-type='ArrayRef&lt;llvm::MCPhysReg&gt;' data-ref="92Regs" data-ref-filename="92Regs">Regs</dfn>) <em>const</em> {</td></tr>
<tr><th id="419">419</th><td>  <a class="type" href="../../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<em>unsigned</em>, <var>4</var>&gt; <dfn class="local col3 decl" id="93NumPhysRegs" title='NumPhysRegs' data-type='SmallVector&lt;unsigned int, 4&gt;' data-ref="93NumPhysRegs" data-ref-filename="93NumPhysRegs">NumPhysRegs</dfn><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1EmRKT_" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1EmRKT_" data-ref-filename="_ZN4llvm11SmallVectorC1EmRKT_">(</a><a class="member fn" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#_ZNK4llvm3mca12RegisterFile19getNumRegisterFilesEv" title='llvm::mca::RegisterFile::getNumRegisterFiles' data-ref="_ZNK4llvm3mca12RegisterFile19getNumRegisterFilesEv" data-ref-filename="_ZNK4llvm3mca12RegisterFile19getNumRegisterFilesEv">getNumRegisterFiles</a>());</td></tr>
<tr><th id="420">420</th><td></td></tr>
<tr><th id="421">421</th><td>  <i>// Find how many new mappings must be created for each register file.</i></td></tr>
<tr><th id="422">422</th><td>  <b>for</b> (<em>const</em> <a class="typedef" href="../../../include/llvm/MC/MCRegister.h.html#llvm::MCPhysReg" title='llvm::MCPhysReg' data-type='uint16_t' data-ref="llvm::MCPhysReg" data-ref-filename="llvm..MCPhysReg">MCPhysReg</a> <dfn class="local col4 decl" id="94RegID" title='RegID' data-type='const llvm::MCPhysReg' data-ref="94RegID" data-ref-filename="94RegID">RegID</dfn> : <a class="local col2 ref" href="#92Regs" title='Regs' data-ref="92Regs" data-ref-filename="92Regs">Regs</a>) {</td></tr>
<tr><th id="423">423</th><td>    <em>const</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo" title='llvm::mca::RegisterFile::RegisterRenamingInfo' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo">RegisterRenamingInfo</a> &amp;<dfn class="local col5 decl" id="95RRI" title='RRI' data-type='const llvm::mca::RegisterFile::RegisterRenamingInfo &amp;' data-ref="95RRI" data-ref-filename="95RRI">RRI</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappings" title='llvm::mca::RegisterFile::RegisterMappings' data-ref="llvm::mca::RegisterFile::RegisterMappings" data-ref-filename="llvm..mca..RegisterFile..RegisterMappings">RegisterMappings</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNKSt6vectorixEm" data-ref-filename="_ZNKSt6vectorixEm">[<a class="local col4 ref" href="#94RegID" title='RegID' data-ref="94RegID" data-ref-filename="94RegID">RegID</a>]</span>.<span class='ref field' title='std::pair&lt;llvm::mca::WriteRef, llvm::mca::RegisterFile::RegisterRenamingInfo&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>;</td></tr>
<tr><th id="424">424</th><td>    <em>const</em> <a class="typedef" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::IndexPlusCostPairTy" title='llvm::mca::RegisterFile::IndexPlusCostPairTy' data-type='std::pair&lt;unsigned int, unsigned int&gt;' data-ref="llvm::mca::RegisterFile::IndexPlusCostPairTy" data-ref-filename="llvm..mca..RegisterFile..IndexPlusCostPairTy">IndexPlusCostPairTy</a> &amp;<dfn class="local col6 decl" id="96Entry" title='Entry' data-type='const llvm::mca::RegisterFile::IndexPlusCostPairTy &amp;' data-ref="96Entry" data-ref-filename="96Entry">Entry</dfn> = <a class="local col5 ref" href="#95RRI" title='RRI' data-ref="95RRI" data-ref-filename="95RRI">RRI</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" title='llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost' data-ref="llvm::mca::RegisterFile::RegisterRenamingInfo::IndexPlusCost" data-ref-filename="llvm..mca..RegisterFile..RegisterRenamingInfo..IndexPlusCost">IndexPlusCost</a>;</td></tr>
<tr><th id="425">425</th><td>    <b>if</b> (<a class="local col6 ref" href="#96Entry" title='Entry' data-ref="96Entry" data-ref-filename="96Entry">Entry</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>)</td></tr>
<tr><th id="426">426</th><td>      <a class="local col3 ref" href="#93NumPhysRegs" title='NumPhysRegs' data-ref="93NumPhysRegs" data-ref-filename="93NumPhysRegs">NumPhysRegs</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col6 ref" href="#96Entry" title='Entry' data-ref="96Entry" data-ref-filename="96Entry">Entry</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>]</a> += <a class="local col6 ref" href="#96Entry" title='Entry' data-ref="96Entry" data-ref-filename="96Entry">Entry</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>;</td></tr>
<tr><th id="427">427</th><td>    <a class="local col3 ref" href="#93NumPhysRegs" title='NumPhysRegs' data-ref="93NumPhysRegs" data-ref-filename="93NumPhysRegs">NumPhysRegs</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<var>0</var>]</a> += <a class="local col6 ref" href="#96Entry" title='Entry' data-ref="96Entry" data-ref-filename="96Entry">Entry</a>.<span class='ref field' title='std::pair&lt;unsigned int, unsigned int&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>;</td></tr>
<tr><th id="428">428</th><td>  }</td></tr>
<tr><th id="429">429</th><td></td></tr>
<tr><th id="430">430</th><td>  <em>unsigned</em> <dfn class="local col7 decl" id="97Response" title='Response' data-type='unsigned int' data-ref="97Response" data-ref-filename="97Response">Response</dfn> = <var>0</var>;</td></tr>
<tr><th id="431">431</th><td>  <b>for</b> (<em>unsigned</em> <dfn class="local col8 decl" id="98I" title='I' data-type='unsigned int' data-ref="98I" data-ref-filename="98I">I</dfn> = <var>0</var>, <dfn class="local col9 decl" id="99E" title='E' data-type='unsigned int' data-ref="99E" data-ref-filename="99E">E</dfn> = <a class="member fn" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#_ZNK4llvm3mca12RegisterFile19getNumRegisterFilesEv" title='llvm::mca::RegisterFile::getNumRegisterFiles' data-ref="_ZNK4llvm3mca12RegisterFile19getNumRegisterFilesEv" data-ref-filename="_ZNK4llvm3mca12RegisterFile19getNumRegisterFilesEv">getNumRegisterFiles</a>(); <a class="local col8 ref" href="#98I" title='I' data-ref="98I" data-ref-filename="98I">I</a> &lt; <a class="local col9 ref" href="#99E" title='E' data-ref="99E" data-ref-filename="99E">E</a>; ++<a class="local col8 ref" href="#98I" title='I' data-ref="98I" data-ref-filename="98I">I</a>) {</td></tr>
<tr><th id="432">432</th><td>    <em>unsigned</em> <dfn class="local col0 decl" id="100NumRegs" title='NumRegs' data-type='unsigned int' data-ref="100NumRegs" data-ref-filename="100NumRegs">NumRegs</dfn> = <a class="local col3 ref" href="#93NumPhysRegs" title='NumPhysRegs' data-ref="93NumPhysRegs" data-ref-filename="93NumPhysRegs">NumPhysRegs</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZN4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZN4llvm25SmallVectorTemplateCommonixEm">[<a class="local col8 ref" href="#98I" title='I' data-ref="98I" data-ref-filename="98I">I</a>]</a>;</td></tr>
<tr><th id="433">433</th><td>    <b>if</b> (!<a class="local col0 ref" href="#100NumRegs" title='NumRegs' data-ref="100NumRegs" data-ref-filename="100NumRegs">NumRegs</a>)</td></tr>
<tr><th id="434">434</th><td>      <b>continue</b>;</td></tr>
<tr><th id="435">435</th><td></td></tr>
<tr><th id="436">436</th><td>    <em>const</em> <a class="type" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker" title='llvm::mca::RegisterFile::RegisterMappingTracker' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker">RegisterMappingTracker</a> &amp;<dfn class="local col1 decl" id="101RMT" title='RMT' data-type='const llvm::mca::RegisterFile::RegisterMappingTracker &amp;' data-ref="101RMT" data-ref-filename="101RMT">RMT</dfn> = <a class="member field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterFiles" title='llvm::mca::RegisterFile::RegisterFiles' data-ref="llvm::mca::RegisterFile::RegisterFiles" data-ref-filename="llvm..mca..RegisterFile..RegisterFiles">RegisterFiles</a><a class="ref fn" href="../../../include/llvm/ADT/SmallVector.h.html#_ZNK4llvm25SmallVectorTemplateCommonixEm" title='llvm::SmallVectorTemplateCommon::operator[]' data-ref="_ZNK4llvm25SmallVectorTemplateCommonixEm" data-ref-filename="_ZNK4llvm25SmallVectorTemplateCommonixEm">[<a class="local col8 ref" href="#98I" title='I' data-ref="98I" data-ref-filename="98I">I</a>]</a>;</td></tr>
<tr><th id="437">437</th><td>    <b>if</b> (!<a class="local col1 ref" href="#101RMT" title='RMT' data-ref="101RMT" data-ref-filename="101RMT">RMT</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::NumPhysRegs" title='llvm::mca::RegisterFile::RegisterMappingTracker::NumPhysRegs' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::NumPhysRegs" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..NumPhysRegs">NumPhysRegs</a>) {</td></tr>
<tr><th id="438">438</th><td>      <i>// The register file has an unbounded number of microarchitectural</i></td></tr>
<tr><th id="439">439</th><td><i>      // registers.</i></td></tr>
<tr><th id="440">440</th><td>      <b>continue</b>;</td></tr>
<tr><th id="441">441</th><td>    }</td></tr>
<tr><th id="442">442</th><td></td></tr>
<tr><th id="443">443</th><td>    <b>if</b> (<a class="local col1 ref" href="#101RMT" title='RMT' data-ref="101RMT" data-ref-filename="101RMT">RMT</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::NumPhysRegs" title='llvm::mca::RegisterFile::RegisterMappingTracker::NumPhysRegs' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::NumPhysRegs" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..NumPhysRegs">NumPhysRegs</a> &lt; <a class="local col0 ref" href="#100NumRegs" title='NumRegs' data-ref="100NumRegs" data-ref-filename="100NumRegs">NumRegs</a>) {</td></tr>
<tr><th id="444">444</th><td>      <i>// The current register file is too small. This may occur if the number of</i></td></tr>
<tr><th id="445">445</th><td><i>      // microarchitectural registers in register file #0 was changed by the</i></td></tr>
<tr><th id="446">446</th><td><i>      // users via flag -reg-file-size. Alternatively, the scheduling model</i></td></tr>
<tr><th id="447">447</th><td><i>      // specified a too small number of registers for this register file.</i></td></tr>
<tr><th id="448">448</th><td>      <a class="macro" href="../../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"Not enough registers in the register file.\n"</q>);</td></tr>
<tr><th id="449">449</th><td></td></tr>
<tr><th id="450">450</th><td>      <i>// FIXME: Normalize the instruction register count to match the</i></td></tr>
<tr><th id="451">451</th><td><i>      // NumPhysRegs value.  This is a highly unusual case, and is not expected</i></td></tr>
<tr><th id="452">452</th><td><i>      // to occur.  This normalization is hiding an inconsistency in either the</i></td></tr>
<tr><th id="453">453</th><td><i>      // scheduling model or in the value that the user might have specified</i></td></tr>
<tr><th id="454">454</th><td><i>      // for NumPhysRegs.</i></td></tr>
<tr><th id="455">455</th><td>      <a class="local col0 ref" href="#100NumRegs" title='NumRegs' data-ref="100NumRegs" data-ref-filename="100NumRegs">NumRegs</a> = <a class="local col1 ref" href="#101RMT" title='RMT' data-ref="101RMT" data-ref-filename="101RMT">RMT</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::NumPhysRegs" title='llvm::mca::RegisterFile::RegisterMappingTracker::NumPhysRegs' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::NumPhysRegs" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..NumPhysRegs">NumPhysRegs</a>;</td></tr>
<tr><th id="456">456</th><td>    }</td></tr>
<tr><th id="457">457</th><td></td></tr>
<tr><th id="458">458</th><td>    <b>if</b> (<a class="local col1 ref" href="#101RMT" title='RMT' data-ref="101RMT" data-ref-filename="101RMT">RMT</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::NumPhysRegs" title='llvm::mca::RegisterFile::RegisterMappingTracker::NumPhysRegs' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::NumPhysRegs" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..NumPhysRegs">NumPhysRegs</a> &lt; (<a class="local col1 ref" href="#101RMT" title='RMT' data-ref="101RMT" data-ref-filename="101RMT">RMT</a>.<a class="ref field" href="../../../include/llvm/MCA/HardwareUnits/RegisterFile.h.html#llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs" title='llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs' data-ref="llvm::mca::RegisterFile::RegisterMappingTracker::NumUsedPhysRegs" data-ref-filename="llvm..mca..RegisterFile..RegisterMappingTracker..NumUsedPhysRegs">NumUsedPhysRegs</a> + <a class="local col0 ref" href="#100NumRegs" title='NumRegs' data-ref="100NumRegs" data-ref-filename="100NumRegs">NumRegs</a>))</td></tr>
<tr><th id="459">459</th><td>      <a class="local col7 ref" href="#97Response" title='Response' data-ref="97Response" data-ref-filename="97Response">Response</a> |= (<var>1U</var> &lt;&lt; <a class="local col8 ref" href="#98I" title='I' data-ref="98I" data-ref-filename="98I">I</a>);</td></tr>
<tr><th id="460">460</th><td>  }</td></tr>
<tr><th id="461">461</th><td></td></tr>
<tr><th id="462">462</th><td>  <b>return</b> <a class="local col7 ref" href="#97Response" title='Response' data-ref="97Response" data-ref-filename="97Response">Response</a>;</td></tr>
<tr><th id="463">463</th><td>}</td></tr>
<tr><th id="464">464</th><td></td></tr>
<tr><th id="465">465</th><td><u>#<span data-ppcond="465">ifndef</span> <span class="macro" data-ref="_M/NDEBUG">NDEBUG</span></u></td></tr>
<tr><th id="466">466</th><td><em>void</em> RegisterFile::dump() <em>const</em> {</td></tr>
<tr><th id="467">467</th><td>  <b>for</b> (<em>unsigned</em> I = <var>0</var>, E = MRI.getNumRegs(); I &lt; E; ++I) {</td></tr>
<tr><th id="468">468</th><td>    <em>const</em> RegisterMapping &amp;RM = RegisterMappings[I];</td></tr>
<tr><th id="469">469</th><td>    <em>const</em> RegisterRenamingInfo &amp;RRI = RM.second;</td></tr>
<tr><th id="470">470</th><td>    <b>if</b> (ZeroRegisters[I]) {</td></tr>
<tr><th id="471">471</th><td>      dbgs() &lt;&lt; MRI.getName(I) &lt;&lt; <q>", "</q> &lt;&lt; I</td></tr>
<tr><th id="472">472</th><td>             &lt;&lt; <q>", PRF="</q> &lt;&lt; RRI.IndexPlusCost.first</td></tr>
<tr><th id="473">473</th><td>             &lt;&lt; <q>", Cost="</q> &lt;&lt; RRI.IndexPlusCost.second</td></tr>
<tr><th id="474">474</th><td>             &lt;&lt; <q>", RenameAs="</q> &lt;&lt; RRI.RenameAs &lt;&lt; <q>", IsZero="</q> &lt;&lt; ZeroRegisters[I]</td></tr>
<tr><th id="475">475</th><td>             &lt;&lt; <q>","</q>;</td></tr>
<tr><th id="476">476</th><td>      RM.first.dump();</td></tr>
<tr><th id="477">477</th><td>      dbgs() &lt;&lt; <kbd>'\n'</kbd>;</td></tr>
<tr><th id="478">478</th><td>    }</td></tr>
<tr><th id="479">479</th><td>  }</td></tr>
<tr><th id="480">480</th><td></td></tr>
<tr><th id="481">481</th><td>  <b>for</b> (<em>unsigned</em> I = <var>0</var>, E = getNumRegisterFiles(); I &lt; E; ++I) {</td></tr>
<tr><th id="482">482</th><td>    dbgs() &lt;&lt; <q>"Register File #"</q> &lt;&lt; I;</td></tr>
<tr><th id="483">483</th><td>    <em>const</em> RegisterMappingTracker &amp;RMT = RegisterFiles[I];</td></tr>
<tr><th id="484">484</th><td>    dbgs() &lt;&lt; <q>"\n  TotalMappings:        "</q> &lt;&lt; RMT.NumPhysRegs</td></tr>
<tr><th id="485">485</th><td>           &lt;&lt; <q>"\n  NumUsedMappings:      "</q> &lt;&lt; RMT.NumUsedPhysRegs &lt;&lt; <kbd>'\n'</kbd>;</td></tr>
<tr><th id="486">486</th><td>  }</td></tr>
<tr><th id="487">487</th><td>}</td></tr>
<tr><th id="488">488</th><td><u>#<span data-ppcond="465">endif</span></u></td></tr>
<tr><th id="489">489</th><td></td></tr>
<tr><th id="490">490</th><td>} <i>// namespace mca</i></td></tr>
<tr><th id="491">491</th><td>} <i>// namespace llvm</i></td></tr>
<tr><th id="492">492</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2021-Jul-01</em> from project llvm revision <em>12</em>