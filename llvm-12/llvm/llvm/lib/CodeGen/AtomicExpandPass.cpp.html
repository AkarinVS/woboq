<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>AtomicExpandPass.cpp source code [llvm/llvm/lib/CodeGen/AtomicExpandPass.cpp] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'llvm/llvm/lib/CodeGen/AtomicExpandPass.cpp'; var root_path = '../../../..'; var data_path = '../../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>llvm</a>/<a href='../..'>llvm</a>/<a href='..'>lib</a>/<a href='./'>CodeGen</a>/<a href='AtomicExpandPass.cpp.html'>AtomicExpandPass.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>//===- AtomicExpandPass.cpp - Expand atomic instructions ------------------===//</i></td></tr>
<tr><th id="2">2</th><td><i>//</i></td></tr>
<tr><th id="3">3</th><td><i>// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</i></td></tr>
<tr><th id="4">4</th><td><i>// See <a href="https://llvm.org/LICENSE.txt">https://llvm.org/LICENSE.txt</a> for license information.</i></td></tr>
<tr><th id="5">5</th><td><i>// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</i></td></tr>
<tr><th id="6">6</th><td><i>//</i></td></tr>
<tr><th id="7">7</th><td><i>//===----------------------------------------------------------------------===//</i></td></tr>
<tr><th id="8">8</th><td><i>//</i></td></tr>
<tr><th id="9">9</th><td><i>// This file contains a pass (at IR level) to replace atomic instructions with</i></td></tr>
<tr><th id="10">10</th><td><i>// __atomic_* library calls, or target specific instruction which implement the</i></td></tr>
<tr><th id="11">11</th><td><i>// same semantics in a way which better fits the target backend.  This can</i></td></tr>
<tr><th id="12">12</th><td><i>// include the use of (intrinsic-based) load-linked/store-conditional loops,</i></td></tr>
<tr><th id="13">13</th><td><i>// AtomicCmpXchg, or type coercions.</i></td></tr>
<tr><th id="14">14</th><td><i>//</i></td></tr>
<tr><th id="15">15</th><td><i>//===----------------------------------------------------------------------===//</i></td></tr>
<tr><th id="16">16</th><td></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="../../include/llvm/ADT/ArrayRef.h.html">"llvm/ADT/ArrayRef.h"</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="../../include/llvm/ADT/STLExtras.h.html">"llvm/ADT/STLExtras.h"</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="../../include/llvm/ADT/SmallVector.h.html">"llvm/ADT/SmallVector.h"</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="../../include/llvm/CodeGen/AtomicExpandUtils.h.html">"llvm/CodeGen/AtomicExpandUtils.h"</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html">"llvm/CodeGen/RuntimeLibcalls.h"</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="../../include/llvm/CodeGen/TargetLowering.h.html">"llvm/CodeGen/TargetLowering.h"</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="../../include/llvm/CodeGen/TargetPassConfig.h.html">"llvm/CodeGen/TargetPassConfig.h"</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="../../include/llvm/CodeGen/TargetSubtargetInfo.h.html">"llvm/CodeGen/TargetSubtargetInfo.h"</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="../../include/llvm/CodeGen/ValueTypes.h.html">"llvm/CodeGen/ValueTypes.h"</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="../../include/llvm/IR/Attributes.h.html">"llvm/IR/Attributes.h"</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="../../include/llvm/IR/BasicBlock.h.html">"llvm/IR/BasicBlock.h"</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="../../include/llvm/IR/Constant.h.html">"llvm/IR/Constant.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="../../include/llvm/IR/Constants.h.html">"llvm/IR/Constants.h"</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="../../include/llvm/IR/DataLayout.h.html">"llvm/IR/DataLayout.h"</a></u></td></tr>
<tr><th id="31">31</th><td><u>#include <a href="../../include/llvm/IR/DerivedTypes.h.html">"llvm/IR/DerivedTypes.h"</a></u></td></tr>
<tr><th id="32">32</th><td><u>#include <a href="../../include/llvm/IR/Function.h.html">"llvm/IR/Function.h"</a></u></td></tr>
<tr><th id="33">33</th><td><u>#include <a href="../../include/llvm/IR/IRBuilder.h.html">"llvm/IR/IRBuilder.h"</a></u></td></tr>
<tr><th id="34">34</th><td><u>#include <a href="../../include/llvm/IR/InstIterator.h.html">"llvm/IR/InstIterator.h"</a></u></td></tr>
<tr><th id="35">35</th><td><u>#include <a href="../../include/llvm/IR/Instruction.h.html">"llvm/IR/Instruction.h"</a></u></td></tr>
<tr><th id="36">36</th><td><u>#include <a href="../../include/llvm/IR/Instructions.h.html">"llvm/IR/Instructions.h"</a></u></td></tr>
<tr><th id="37">37</th><td><u>#include <a href="../../include/llvm/IR/Module.h.html">"llvm/IR/Module.h"</a></u></td></tr>
<tr><th id="38">38</th><td><u>#include <a href="../../include/llvm/IR/Type.h.html">"llvm/IR/Type.h"</a></u></td></tr>
<tr><th id="39">39</th><td><u>#include <a href="../../include/llvm/IR/User.h.html">"llvm/IR/User.h"</a></u></td></tr>
<tr><th id="40">40</th><td><u>#include <a href="../../include/llvm/IR/Value.h.html">"llvm/IR/Value.h"</a></u></td></tr>
<tr><th id="41">41</th><td><u>#include <a href="../../include/llvm/InitializePasses.h.html">"llvm/InitializePasses.h"</a></u></td></tr>
<tr><th id="42">42</th><td><u>#include <a href="../../include/llvm/Pass.h.html">"llvm/Pass.h"</a></u></td></tr>
<tr><th id="43">43</th><td><u>#include <a href="../../include/llvm/Support/AtomicOrdering.h.html">"llvm/Support/AtomicOrdering.h"</a></u></td></tr>
<tr><th id="44">44</th><td><u>#include <a href="../../include/llvm/Support/Casting.h.html">"llvm/Support/Casting.h"</a></u></td></tr>
<tr><th id="45">45</th><td><u>#include <a href="../../include/llvm/Support/Debug.h.html">"llvm/Support/Debug.h"</a></u></td></tr>
<tr><th id="46">46</th><td><u>#include <a href="../../include/llvm/Support/ErrorHandling.h.html">"llvm/Support/ErrorHandling.h"</a></u></td></tr>
<tr><th id="47">47</th><td><u>#include <a href="../../include/llvm/Support/raw_ostream.h.html">"llvm/Support/raw_ostream.h"</a></u></td></tr>
<tr><th id="48">48</th><td><u>#include <a href="../../include/llvm/Target/TargetMachine.h.html">"llvm/Target/TargetMachine.h"</a></u></td></tr>
<tr><th id="49">49</th><td><u>#include &lt;cassert&gt;</u></td></tr>
<tr><th id="50">50</th><td><u>#include &lt;cstdint&gt;</u></td></tr>
<tr><th id="51">51</th><td><u>#include &lt;iterator&gt;</u></td></tr>
<tr><th id="52">52</th><td></td></tr>
<tr><th id="53">53</th><td><b>using</b> <b>namespace</b> <span class="namespace">llvm</span>;</td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td><u>#define <dfn class="macro" id="_M/DEBUG_TYPE" data-ref="_M/DEBUG_TYPE">DEBUG_TYPE</dfn> <a class="ref fn fake" href="../../include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a>"atomic-expand"</u></td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td><b>namespace</b> {</td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td>  <b>class</b> <dfn class="tu type def" id="(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</dfn>: <b>public</b> <a class="type" href="../../include/llvm/Pass.h.html#llvm::FunctionPass" title='llvm::FunctionPass' data-ref="llvm::FunctionPass" data-ref-filename="llvm..FunctionPass">FunctionPass</a> {</td></tr>
<tr><th id="60">60</th><td>    <em>const</em> <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLowering" title='llvm::TargetLowering' data-ref="llvm::TargetLowering" data-ref-filename="llvm..TargetLowering">TargetLowering</a> *<dfn class="tu decl field" id="(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-type='const llvm::TargetLowering *' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="61">61</th><td></td></tr>
<tr><th id="62">62</th><td>  <b>public</b>:</td></tr>
<tr><th id="63">63</th><td>    <em>static</em> <em>char</em> <dfn class="tu decl" id="(anonymousnamespace)::AtomicExpand::ID" title='(anonymous namespace)::AtomicExpand::ID' data-type='char' data-ref="(anonymousnamespace)::AtomicExpand::ID" data-ref-filename="(anonymousnamespace)..AtomicExpand..ID">ID</dfn>; <i  data-doc="(anonymousnamespace)::AtomicExpand::ID">// Pass identification, replacement for typeid</i></td></tr>
<tr><th id="64">64</th><td></td></tr>
<tr><th id="65">65</th><td>    <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpandC1Ev" title='(anonymous namespace)::AtomicExpand::AtomicExpand' data-type='void (anonymous namespace)::AtomicExpand::AtomicExpand()' data-ref="_ZN12_GLOBAL__N_112AtomicExpandC1Ev" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpandC1Ev">AtomicExpand</dfn>() : <a class="type" href="../../include/llvm/Pass.h.html#llvm::FunctionPass" title='llvm::FunctionPass' data-ref="llvm::FunctionPass" data-ref-filename="llvm..FunctionPass">FunctionPass</a><a class="ref fn" href="../../include/llvm/Pass.h.html#_ZN4llvm12FunctionPassC1ERc" title='llvm::FunctionPass::FunctionPass' data-ref="_ZN4llvm12FunctionPassC1ERc" data-ref-filename="_ZN4llvm12FunctionPassC1ERc">(</a><a class="tu member" href="#(anonymousnamespace)::AtomicExpand::ID" title='(anonymous namespace)::AtomicExpand::ID' data-use='a' data-ref="(anonymousnamespace)::AtomicExpand::ID" data-ref-filename="(anonymousnamespace)..AtomicExpand..ID">ID</a>) {</td></tr>
<tr><th id="66">66</th><td>      <a class="ref fn" href="#129" title='llvm::initializeAtomicExpandPass' data-ref="_ZN4llvm26initializeAtomicExpandPassERNS_12PassRegistryE" data-ref-filename="_ZN4llvm26initializeAtomicExpandPassERNS_12PassRegistryE">initializeAtomicExpandPass</a>(<span class='refarg'>*<a class="type" href="../../include/llvm/PassRegistry.h.html#llvm::PassRegistry" title='llvm::PassRegistry' data-ref="llvm::PassRegistry" data-ref-filename="llvm..PassRegistry">PassRegistry</a>::<a class="ref fn" href="../../include/llvm/PassRegistry.h.html#_ZN4llvm12PassRegistry15getPassRegistryEv" title='llvm::PassRegistry::getPassRegistry' data-ref="_ZN4llvm12PassRegistry15getPassRegistryEv" data-ref-filename="_ZN4llvm12PassRegistry15getPassRegistryEv">getPassRegistry</a>()</span>);</td></tr>
<tr><th id="67">67</th><td>    }</td></tr>
<tr><th id="68">68</th><td></td></tr>
<tr><th id="69">69</th><td>    <em>bool</em> <a class="virtual tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand13runOnFunctionERN4llvm8FunctionE" title='(anonymous namespace)::AtomicExpand::runOnFunction' data-type='bool (anonymous namespace)::AtomicExpand::runOnFunction(llvm::Function &amp; F)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand13runOnFunctionERN4llvm8FunctionE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand13runOnFunctionERN4llvm8FunctionE">runOnFunction</a>(<a class="type" href="../../include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> &amp;<dfn class="local col3 decl" id="3F" title='F' data-type='llvm::Function &amp;' data-ref="3F" data-ref-filename="3F">F</dfn>) override;</td></tr>
<tr><th id="70">70</th><td></td></tr>
<tr><th id="71">71</th><td>  <b>private</b>:</td></tr>
<tr><th id="72">72</th><td>    <em>bool</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand21bracketInstWithFencesEPN4llvm11InstructionENS1_14AtomicOrderingE" title='(anonymous namespace)::AtomicExpand::bracketInstWithFences' data-type='bool (anonymous namespace)::AtomicExpand::bracketInstWithFences(llvm::Instruction * I, llvm::AtomicOrdering Order)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand21bracketInstWithFencesEPN4llvm11InstructionENS1_14AtomicOrderingE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand21bracketInstWithFencesEPN4llvm11InstructionENS1_14AtomicOrderingE">bracketInstWithFences</a>(<a class="type" href="../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col4 decl" id="4I" title='I' data-type='llvm::Instruction *' data-ref="4I" data-ref-filename="4I">I</dfn>, <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col5 decl" id="5Order" title='Order' data-type='llvm::AtomicOrdering' data-ref="5Order" data-ref-filename="5Order">Order</dfn>);</td></tr>
<tr><th id="73">73</th><td>    <a class="type" href="../../include/llvm/IR/DerivedTypes.h.html#llvm::IntegerType" title='llvm::IntegerType' data-ref="llvm::IntegerType" data-ref-filename="llvm..IntegerType">IntegerType</a> *<a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE" title='(anonymous namespace)::AtomicExpand::getCorrespondingIntegerType' data-type='llvm::IntegerType * (anonymous namespace)::AtomicExpand::getCorrespondingIntegerType(llvm::Type * T, const llvm::DataLayout &amp; DL)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE">getCorrespondingIntegerType</a>(<a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col6 decl" id="6T" title='T' data-type='llvm::Type *' data-ref="6T" data-ref-filename="6T">T</dfn>, <em>const</em> <a class="type" href="../../include/llvm/IR/DataLayout.h.html#llvm::DataLayout" title='llvm::DataLayout' data-ref="llvm::DataLayout" data-ref-filename="llvm..DataLayout">DataLayout</a> &amp;<dfn class="local col7 decl" id="7DL" title='DL' data-type='const llvm::DataLayout &amp;' data-ref="7DL" data-ref-filename="7DL">DL</dfn>);</td></tr>
<tr><th id="74">74</th><td>    <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand30convertAtomicLoadToIntegerTypeEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::convertAtomicLoadToIntegerType' data-type='llvm::LoadInst * (anonymous namespace)::AtomicExpand::convertAtomicLoadToIntegerType(llvm::LoadInst * LI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand30convertAtomicLoadToIntegerTypeEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand30convertAtomicLoadToIntegerTypeEPN4llvm8LoadInstE">convertAtomicLoadToIntegerType</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<dfn class="local col8 decl" id="8LI" title='LI' data-type='llvm::LoadInst *' data-ref="8LI" data-ref-filename="8LI">LI</dfn>);</td></tr>
<tr><th id="75">75</th><td>    <em>bool</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand19tryExpandAtomicLoadEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::tryExpandAtomicLoad' data-type='bool (anonymous namespace)::AtomicExpand::tryExpandAtomicLoad(llvm::LoadInst * LI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand19tryExpandAtomicLoadEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand19tryExpandAtomicLoadEPN4llvm8LoadInstE">tryExpandAtomicLoad</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<dfn class="local col9 decl" id="9LI" title='LI' data-type='llvm::LoadInst *' data-ref="9LI" data-ref-filename="9LI">LI</dfn>);</td></tr>
<tr><th id="76">76</th><td>    <em>bool</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicLoadToLLEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicLoadToLL' data-type='bool (anonymous namespace)::AtomicExpand::expandAtomicLoadToLL(llvm::LoadInst * LI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicLoadToLLEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicLoadToLLEPN4llvm8LoadInstE">expandAtomicLoadToLL</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<dfn class="local col0 decl" id="10LI" title='LI' data-type='llvm::LoadInst *' data-ref="10LI" data-ref-filename="10LI">LI</dfn>);</td></tr>
<tr><th id="77">77</th><td>    <em>bool</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToCmpXchgEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicLoadToCmpXchg' data-type='bool (anonymous namespace)::AtomicExpand::expandAtomicLoadToCmpXchg(llvm::LoadInst * LI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToCmpXchgEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToCmpXchgEPN4llvm8LoadInstE">expandAtomicLoadToCmpXchg</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<dfn class="local col1 decl" id="11LI" title='LI' data-type='llvm::LoadInst *' data-ref="11LI" data-ref-filename="11LI">LI</dfn>);</td></tr>
<tr><th id="78">78</th><td>    <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a> *<a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE" title='(anonymous namespace)::AtomicExpand::convertAtomicStoreToIntegerType' data-type='llvm::StoreInst * (anonymous namespace)::AtomicExpand::convertAtomicStoreToIntegerType(llvm::StoreInst * SI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE">convertAtomicStoreToIntegerType</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a> *<dfn class="local col2 decl" id="12SI" title='SI' data-type='llvm::StoreInst *' data-ref="12SI" data-ref-filename="12SI">SI</dfn>);</td></tr>
<tr><th id="79">79</th><td>    <em>bool</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand17expandAtomicStoreEPN4llvm9StoreInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicStore' data-type='bool (anonymous namespace)::AtomicExpand::expandAtomicStore(llvm::StoreInst * SI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand17expandAtomicStoreEPN4llvm9StoreInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand17expandAtomicStoreEPN4llvm9StoreInstE">expandAtomicStore</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a> *<dfn class="local col3 decl" id="13SI" title='SI' data-type='llvm::StoreInst *' data-ref="13SI" data-ref-filename="13SI">SI</dfn>);</td></tr>
<tr><th id="80">80</th><td>    <em>bool</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand18tryExpandAtomicRMWEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::tryExpandAtomicRMW' data-type='bool (anonymous namespace)::AtomicExpand::tryExpandAtomicRMW(llvm::AtomicRMWInst * AI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand18tryExpandAtomicRMWEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand18tryExpandAtomicRMWEPN4llvm13AtomicRMWInstE">tryExpandAtomicRMW</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col4 decl" id="14AI" title='AI' data-type='llvm::AtomicRMWInst *' data-ref="14AI" data-ref-filename="14AI">AI</dfn>);</td></tr>
<tr><th id="81">81</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *</td></tr>
<tr><th id="82">82</th><td>    <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand17insertRMWLLSCLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueENS1_7857536" title='(anonymous namespace)::AtomicExpand::insertRMWLLSCLoop' data-type='llvm::Value * (anonymous namespace)::AtomicExpand::insertRMWLLSCLoop(IRBuilder&lt;&gt; &amp; Builder, llvm::Type * ResultTy, llvm::Value * Addr, llvm::AtomicOrdering MemOpOrder, function_ref&lt;llvm::Value *(IRBuilder&lt;&gt; &amp;, llvm::Value *)&gt; PerformOp)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand17insertRMWLLSCLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueENS1_7857536" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand17insertRMWLLSCLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueENS1_7857536">insertRMWLLSCLoop</a>(<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col5 decl" id="15Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="15Builder" data-ref-filename="15Builder">Builder</dfn>, <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col6 decl" id="16ResultTy" title='ResultTy' data-type='llvm::Type *' data-ref="16ResultTy" data-ref-filename="16ResultTy">ResultTy</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="17Addr" title='Addr' data-type='llvm::Value *' data-ref="17Addr" data-ref-filename="17Addr">Addr</dfn>,</td></tr>
<tr><th id="83">83</th><td>                      <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col8 decl" id="18MemOpOrder" title='MemOpOrder' data-type='llvm::AtomicOrdering' data-ref="18MemOpOrder" data-ref-filename="18MemOpOrder">MemOpOrder</dfn>,</td></tr>
<tr><th id="84">84</th><td>                      <a class="type" href="../../include/llvm/ADT/STLExtras.h.html#llvm::function_ref" title='llvm::function_ref' data-ref="llvm::function_ref" data-ref-filename="llvm..function_ref">function_ref</a>&lt;<a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *(<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *)&gt; <dfn class="local col9 decl" id="19PerformOp" title='PerformOp' data-type='function_ref&lt;llvm::Value *(IRBuilder&lt;&gt; &amp;, llvm::Value *)&gt;' data-ref="19PerformOp" data-ref-filename="19PerformOp">PerformOp</dfn>);</td></tr>
<tr><th id="85">85</th><td>    <em>void</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicOpToLLSCEPN4llvm11InstructionEPNS1_4TypeEPNS1_5ValueENS1_14AtomicOrderingENS1_12function_refIFS7_RNS1_9IR13568581" title='(anonymous namespace)::AtomicExpand::expandAtomicOpToLLSC' data-type='void (anonymous namespace)::AtomicExpand::expandAtomicOpToLLSC(llvm::Instruction * I, llvm::Type * ResultTy, llvm::Value * Addr, llvm::AtomicOrdering MemOpOrder, function_ref&lt;llvm::Value *(IRBuilder&lt;&gt; &amp;, llvm::Value *)&gt; PerformOp)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicOpToLLSCEPN4llvm11InstructionEPNS1_4TypeEPNS1_5ValueENS1_14AtomicOrderingENS1_12function_refIFS7_RNS1_9IR13568581" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicOpToLLSCEPN4llvm11InstructionEPNS1_4TypeEPNS1_5ValueENS1_14AtomicOrderingENS1_12function_refIFS7_RNS1_9IR13568581">expandAtomicOpToLLSC</a>(</td></tr>
<tr><th id="86">86</th><td>        <a class="type" href="../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col0 decl" id="20I" title='I' data-type='llvm::Instruction *' data-ref="20I" data-ref-filename="20I">I</dfn>, <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col1 decl" id="21ResultTy" title='ResultTy' data-type='llvm::Type *' data-ref="21ResultTy" data-ref-filename="21ResultTy">ResultTy</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="22Addr" title='Addr' data-type='llvm::Value *' data-ref="22Addr" data-ref-filename="22Addr">Addr</dfn>, <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col3 decl" id="23MemOpOrder" title='MemOpOrder' data-type='llvm::AtomicOrdering' data-ref="23MemOpOrder" data-ref-filename="23MemOpOrder">MemOpOrder</dfn>,</td></tr>
<tr><th id="87">87</th><td>        <a class="type" href="../../include/llvm/ADT/STLExtras.h.html#llvm::function_ref" title='llvm::function_ref' data-ref="llvm::function_ref" data-ref-filename="llvm..function_ref">function_ref</a>&lt;<a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *(<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *)&gt; <dfn class="local col4 decl" id="24PerformOp" title='PerformOp' data-type='function_ref&lt;llvm::Value *(IRBuilder&lt;&gt; &amp;, llvm::Value *)&gt;' data-ref="24PerformOp" data-ref-filename="24PerformOp">PerformOp</dfn>);</td></tr>
<tr><th id="88">88</th><td>    <em>void</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE" title='(anonymous namespace)::AtomicExpand::expandPartwordAtomicRMW' data-type='void (anonymous namespace)::AtomicExpand::expandPartwordAtomicRMW(llvm::AtomicRMWInst * I, TargetLoweringBase::AtomicExpansionKind ExpansionKind)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE">expandPartwordAtomicRMW</a>(</td></tr>
<tr><th id="89">89</th><td>        <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col5 decl" id="25I" title='I' data-type='llvm::AtomicRMWInst *' data-ref="25I" data-ref-filename="25I">I</dfn>,</td></tr>
<tr><th id="90">90</th><td>        <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a> <dfn class="local col6 decl" id="26ExpansionKind" title='ExpansionKind' data-type='TargetLoweringBase::AtomicExpansionKind' data-ref="26ExpansionKind" data-ref-filename="26ExpansionKind">ExpansionKind</dfn>);</td></tr>
<tr><th id="91">91</th><td>    <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand22widenPartwordAtomicRMWEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::widenPartwordAtomicRMW' data-type='llvm::AtomicRMWInst * (anonymous namespace)::AtomicExpand::widenPartwordAtomicRMW(llvm::AtomicRMWInst * AI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand22widenPartwordAtomicRMWEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand22widenPartwordAtomicRMWEPN4llvm13AtomicRMWInstE">widenPartwordAtomicRMW</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col7 decl" id="27AI" title='AI' data-type='llvm::AtomicRMWInst *' data-ref="27AI" data-ref-filename="27AI">AI</dfn>);</td></tr>
<tr><th id="92">92</th><td>    <em>bool</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand21expandPartwordCmpXchgEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::expandPartwordCmpXchg' data-type='bool (anonymous namespace)::AtomicExpand::expandPartwordCmpXchg(llvm::AtomicCmpXchgInst * I)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand21expandPartwordCmpXchgEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand21expandPartwordCmpXchgEPN4llvm17AtomicCmpXchgInstE">expandPartwordCmpXchg</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col8 decl" id="28I" title='I' data-type='llvm::AtomicCmpXchgInst *' data-ref="28I" data-ref-filename="28I">I</dfn>);</td></tr>
<tr><th id="93">93</th><td>    <em>void</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand32expandAtomicRMWToMaskedIntrinsicEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicRMWToMaskedIntrinsic' data-type='void (anonymous namespace)::AtomicExpand::expandAtomicRMWToMaskedIntrinsic(llvm::AtomicRMWInst * AI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand32expandAtomicRMWToMaskedIntrinsicEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand32expandAtomicRMWToMaskedIntrinsicEPN4llvm13AtomicRMWInstE">expandAtomicRMWToMaskedIntrinsic</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col9 decl" id="29AI" title='AI' data-type='llvm::AtomicRMWInst *' data-ref="29AI" data-ref-filename="29AI">AI</dfn>);</td></tr>
<tr><th id="94">94</th><td>    <em>void</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand36expandAtomicCmpXchgToMaskedIntrinsicEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicCmpXchgToMaskedIntrinsic' data-type='void (anonymous namespace)::AtomicExpand::expandAtomicCmpXchgToMaskedIntrinsic(llvm::AtomicCmpXchgInst * CI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand36expandAtomicCmpXchgToMaskedIntrinsicEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand36expandAtomicCmpXchgToMaskedIntrinsicEPN4llvm17AtomicCmpXchgInstE">expandAtomicCmpXchgToMaskedIntrinsic</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col0 decl" id="30CI" title='CI' data-type='llvm::AtomicCmpXchgInst *' data-ref="30CI" data-ref-filename="30CI">CI</dfn>);</td></tr>
<tr><th id="95">95</th><td></td></tr>
<tr><th id="96">96</th><td>    <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand27convertCmpXchgToIntegerTypeEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::convertCmpXchgToIntegerType' data-type='llvm::AtomicCmpXchgInst * (anonymous namespace)::AtomicExpand::convertCmpXchgToIntegerType(llvm::AtomicCmpXchgInst * CI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand27convertCmpXchgToIntegerTypeEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand27convertCmpXchgToIntegerTypeEPN4llvm17AtomicCmpXchgInstE">convertCmpXchgToIntegerType</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col1 decl" id="31CI" title='CI' data-type='llvm::AtomicCmpXchgInst *' data-ref="31CI" data-ref-filename="31CI">CI</dfn>);</td></tr>
<tr><th id="97">97</th><td>    <em>static</em> <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand20insertRMWCmpXchgLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueEN6117739" title='(anonymous namespace)::AtomicExpand::insertRMWCmpXchgLoop' data-type='static llvm::Value * (anonymous namespace)::AtomicExpand::insertRMWCmpXchgLoop(IRBuilder&lt;&gt; &amp; Builder, llvm::Type * ResultType, llvm::Value * Addr, llvm::AtomicOrdering MemOpOrder, function_ref&lt;llvm::Value *(IRBuilder&lt;&gt; &amp;, llvm::Value *)&gt; PerformOp, llvm::CreateCmpXchgInstFun CreateCmpXchg)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand20insertRMWCmpXchgLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueEN6117739" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand20insertRMWCmpXchgLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueEN6117739">insertRMWCmpXchgLoop</a>(</td></tr>
<tr><th id="98">98</th><td>        <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col2 decl" id="32Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="32Builder" data-ref-filename="32Builder">Builder</dfn>, <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col3 decl" id="33ResultType" title='ResultType' data-type='llvm::Type *' data-ref="33ResultType" data-ref-filename="33ResultType">ResultType</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="34Addr" title='Addr' data-type='llvm::Value *' data-ref="34Addr" data-ref-filename="34Addr">Addr</dfn>,</td></tr>
<tr><th id="99">99</th><td>        <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col5 decl" id="35MemOpOrder" title='MemOpOrder' data-type='llvm::AtomicOrdering' data-ref="35MemOpOrder" data-ref-filename="35MemOpOrder">MemOpOrder</dfn>,</td></tr>
<tr><th id="100">100</th><td>        <a class="type" href="../../include/llvm/ADT/STLExtras.h.html#llvm::function_ref" title='llvm::function_ref' data-ref="llvm::function_ref" data-ref-filename="llvm..function_ref">function_ref</a>&lt;<a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *(<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *)&gt; <dfn class="local col6 decl" id="36PerformOp" title='PerformOp' data-type='function_ref&lt;llvm::Value *(IRBuilder&lt;&gt; &amp;, llvm::Value *)&gt;' data-ref="36PerformOp" data-ref-filename="36PerformOp">PerformOp</dfn>,</td></tr>
<tr><th id="101">101</th><td>        <a class="typedef" href="../../include/llvm/CodeGen/AtomicExpandUtils.h.html#llvm::CreateCmpXchgInstFun" title='llvm::CreateCmpXchgInstFun' data-type='function_ref&lt;void (IRBuilder&lt;&gt; &amp;, llvm::Value *, llvm::Value *, llvm::Value *, llvm::AtomicOrdering, llvm::Value *&amp;, llvm::Value *&amp;)&gt;' data-ref="llvm::CreateCmpXchgInstFun" data-ref-filename="llvm..CreateCmpXchgInstFun">CreateCmpXchgInstFun</a> <dfn class="local col7 decl" id="37CreateCmpXchg" title='CreateCmpXchg' data-type='llvm::CreateCmpXchgInstFun' data-ref="37CreateCmpXchg" data-ref-filename="37CreateCmpXchg">CreateCmpXchg</dfn>);</td></tr>
<tr><th id="102">102</th><td>    <em>bool</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand22tryExpandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::tryExpandAtomicCmpXchg' data-type='bool (anonymous namespace)::AtomicExpand::tryExpandAtomicCmpXchg(llvm::AtomicCmpXchgInst * CI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand22tryExpandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand22tryExpandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE">tryExpandAtomicCmpXchg</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col8 decl" id="38CI" title='CI' data-type='llvm::AtomicCmpXchgInst *' data-ref="38CI" data-ref-filename="38CI">CI</dfn>);</td></tr>
<tr><th id="103">103</th><td></td></tr>
<tr><th id="104">104</th><td>    <em>bool</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand19expandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicCmpXchg' data-type='bool (anonymous namespace)::AtomicExpand::expandAtomicCmpXchg(llvm::AtomicCmpXchgInst * CI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand19expandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand19expandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE">expandAtomicCmpXchg</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col9 decl" id="39CI" title='CI' data-type='llvm::AtomicCmpXchgInst *' data-ref="39CI" data-ref-filename="39CI">CI</dfn>);</td></tr>
<tr><th id="105">105</th><td>    <em>bool</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand15isIdempotentRMWEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::isIdempotentRMW' data-type='bool (anonymous namespace)::AtomicExpand::isIdempotentRMW(llvm::AtomicRMWInst * RMWI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand15isIdempotentRMWEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand15isIdempotentRMWEPN4llvm13AtomicRMWInstE">isIdempotentRMW</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col0 decl" id="40RMWI" title='RMWI' data-type='llvm::AtomicRMWInst *' data-ref="40RMWI" data-ref-filename="40RMWI">RMWI</dfn>);</td></tr>
<tr><th id="106">106</th><td>    <em>bool</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand21simplifyIdempotentRMWEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::simplifyIdempotentRMW' data-type='bool (anonymous namespace)::AtomicExpand::simplifyIdempotentRMW(llvm::AtomicRMWInst * RMWI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand21simplifyIdempotentRMWEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand21simplifyIdempotentRMWEPN4llvm13AtomicRMWInstE">simplifyIdempotentRMW</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col1 decl" id="41RMWI" title='RMWI' data-type='llvm::AtomicRMWInst *' data-ref="41RMWI" data-ref-filename="41RMWI">RMWI</dfn>);</td></tr>
<tr><th id="107">107</th><td></td></tr>
<tr><th id="108">108</th><td>    <em>bool</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE" title='(anonymous namespace)::AtomicExpand::expandAtomicOpToLibcall' data-type='bool (anonymous namespace)::AtomicExpand::expandAtomicOpToLibcall(llvm::Instruction * I, unsigned int Size, llvm::Align Alignment, llvm::Value * PointerOperand, llvm::Value * ValueOperand, llvm::Value * CASExpected, llvm::AtomicOrdering Ordering, llvm::AtomicOrdering Ordering2, ArrayRef&lt;RTLIB::Libcall&gt; Libcalls)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE">expandAtomicOpToLibcall</a>(<a class="type" href="../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col2 decl" id="42I" title='I' data-type='llvm::Instruction *' data-ref="42I" data-ref-filename="42I">I</dfn>, <em>unsigned</em> <dfn class="local col3 decl" id="43Size" title='Size' data-type='unsigned int' data-ref="43Size" data-ref-filename="43Size">Size</dfn>, <a class="type" href="../../include/llvm/Support/Alignment.h.html#llvm::Align" title='llvm::Align' data-ref="llvm::Align" data-ref-filename="llvm..Align">Align</a> <dfn class="local col4 decl" id="44Alignment" title='Alignment' data-type='llvm::Align' data-ref="44Alignment" data-ref-filename="44Alignment">Alignment</dfn>,</td></tr>
<tr><th id="109">109</th><td>                                 <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="45PointerOperand" title='PointerOperand' data-type='llvm::Value *' data-ref="45PointerOperand" data-ref-filename="45PointerOperand">PointerOperand</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="46ValueOperand" title='ValueOperand' data-type='llvm::Value *' data-ref="46ValueOperand" data-ref-filename="46ValueOperand">ValueOperand</dfn>,</td></tr>
<tr><th id="110">110</th><td>                                 <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="47CASExpected" title='CASExpected' data-type='llvm::Value *' data-ref="47CASExpected" data-ref-filename="47CASExpected">CASExpected</dfn>, <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col8 decl" id="48Ordering" title='Ordering' data-type='llvm::AtomicOrdering' data-ref="48Ordering" data-ref-filename="48Ordering">Ordering</dfn>,</td></tr>
<tr><th id="111">111</th><td>                                 <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col9 decl" id="49Ordering2" title='Ordering2' data-type='llvm::AtomicOrdering' data-ref="49Ordering2" data-ref-filename="49Ordering2">Ordering2</dfn>,</td></tr>
<tr><th id="112">112</th><td>                                 <a class="type" href="../../include/llvm/ADT/ArrayRef.h.html#llvm::ArrayRef" title='llvm::ArrayRef' data-ref="llvm::ArrayRef" data-ref-filename="llvm..ArrayRef">ArrayRef</a>&lt;<span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a>&gt; <dfn class="local col0 decl" id="50Libcalls" title='Libcalls' data-type='ArrayRef&lt;RTLIB::Libcall&gt;' data-ref="50Libcalls" data-ref-filename="50Libcalls">Libcalls</dfn>);</td></tr>
<tr><th id="113">113</th><td>    <em>void</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToLibcallEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicLoadToLibcall' data-type='void (anonymous namespace)::AtomicExpand::expandAtomicLoadToLibcall(llvm::LoadInst * LI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToLibcallEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToLibcallEPN4llvm8LoadInstE">expandAtomicLoadToLibcall</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<dfn class="local col1 decl" id="51LI" title='LI' data-type='llvm::LoadInst *' data-ref="51LI" data-ref-filename="51LI">LI</dfn>);</td></tr>
<tr><th id="114">114</th><td>    <em>void</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand26expandAtomicStoreToLibcallEPN4llvm9StoreInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicStoreToLibcall' data-type='void (anonymous namespace)::AtomicExpand::expandAtomicStoreToLibcall(llvm::StoreInst * LI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand26expandAtomicStoreToLibcallEPN4llvm9StoreInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand26expandAtomicStoreToLibcallEPN4llvm9StoreInstE">expandAtomicStoreToLibcall</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a> *<dfn class="local col2 decl" id="52LI" title='LI' data-type='llvm::StoreInst *' data-ref="52LI" data-ref-filename="52LI">LI</dfn>);</td></tr>
<tr><th id="115">115</th><td>    <em>void</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicRMWToLibcallEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicRMWToLibcall' data-type='void (anonymous namespace)::AtomicExpand::expandAtomicRMWToLibcall(llvm::AtomicRMWInst * I)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicRMWToLibcallEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicRMWToLibcallEPN4llvm13AtomicRMWInstE">expandAtomicRMWToLibcall</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col3 decl" id="53I" title='I' data-type='llvm::AtomicRMWInst *' data-ref="53I" data-ref-filename="53I">I</dfn>);</td></tr>
<tr><th id="116">116</th><td>    <em>void</em> <a class="tu decl fn" href="#_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicCASToLibcallEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicCASToLibcall' data-type='void (anonymous namespace)::AtomicExpand::expandAtomicCASToLibcall(llvm::AtomicCmpXchgInst * I)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicCASToLibcallEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicCASToLibcallEPN4llvm17AtomicCmpXchgInstE">expandAtomicCASToLibcall</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col4 decl" id="54I" title='I' data-type='llvm::AtomicCmpXchgInst *' data-ref="54I" data-ref-filename="54I">I</dfn>);</td></tr>
<tr><th id="117">117</th><td></td></tr>
<tr><th id="118">118</th><td>    <b>friend</b> <em>bool</em></td></tr>
<tr><th id="119">119</th><td>    <span class="namespace">llvm::</span><a class="decl fn" href="#_ZN4llvm24expandAtomicRMWToCmpXchgEPNS_13AtomicRMWInstENS_12function_refIFvRNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5Val2205004" title='llvm::expandAtomicRMWToCmpXchg' data-ref="_ZN4llvm24expandAtomicRMWToCmpXchgEPNS_13AtomicRMWInstENS_12function_refIFvRNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5Val2205004" data-ref-filename="_ZN4llvm24expandAtomicRMWToCmpXchgEPNS_13AtomicRMWInstENS_12function_refIFvRNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5Val2205004">expandAtomicRMWToCmpXchg</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col5 decl" id="55AI" title='AI' data-type='llvm::AtomicRMWInst *' data-ref="55AI" data-ref-filename="55AI">AI</dfn>,</td></tr>
<tr><th id="120">120</th><td>                                   <a class="typedef" href="../../include/llvm/CodeGen/AtomicExpandUtils.h.html#llvm::CreateCmpXchgInstFun" title='llvm::CreateCmpXchgInstFun' data-type='function_ref&lt;void (IRBuilder&lt;&gt; &amp;, llvm::Value *, llvm::Value *, llvm::Value *, llvm::AtomicOrdering, llvm::Value *&amp;, llvm::Value *&amp;)&gt;' data-ref="llvm::CreateCmpXchgInstFun" data-ref-filename="llvm..CreateCmpXchgInstFun">CreateCmpXchgInstFun</a> <dfn class="local col6 decl" id="56CreateCmpXchg" title='CreateCmpXchg' data-type='llvm::CreateCmpXchgInstFun' data-ref="56CreateCmpXchg" data-ref-filename="56CreateCmpXchg">CreateCmpXchg</dfn>);</td></tr>
<tr><th id="121">121</th><td>  };</td></tr>
<tr><th id="122">122</th><td></td></tr>
<tr><th id="123">123</th><td>} <i>// end anonymous namespace</i></td></tr>
<tr><th id="124">124</th><td></td></tr>
<tr><th id="125">125</th><td><em>char</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def" id="(anonymousnamespace)::AtomicExpand::ID" title='(anonymous namespace)::AtomicExpand::ID' data-type='char' data-ref="(anonymousnamespace)::AtomicExpand::ID" data-ref-filename="(anonymousnamespace)..AtomicExpand..ID">ID</dfn> = <var>0</var>;</td></tr>
<tr><th id="126">126</th><td></td></tr>
<tr><th id="127">127</th><td><em>char</em> &amp;<span class="namespace">llvm::</span><dfn class="decl def" id="llvm::AtomicExpandID" title='llvm::AtomicExpandID' data-ref="llvm::AtomicExpandID" data-ref-filename="llvm..AtomicExpandID">AtomicExpandID</dfn> = <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<a class="tu ref" href="#(anonymousnamespace)::AtomicExpand::ID" title='(anonymous namespace)::AtomicExpand::ID' data-ref="(anonymousnamespace)::AtomicExpand::ID" data-ref-filename="(anonymousnamespace)..AtomicExpand..ID">ID</a>;</td></tr>
<tr><th id="128">128</th><td></td></tr>
<tr><th id="129">129</th><td><a class="macro" href="../../include/llvm/PassSupport.h.html#37" title="static void *initializeAtomicExpandPassOnce(PassRegistry &amp;Registry) { PassInfo *PI = new PassInfo( &quot;Expand Atomic instructions&quot;, &quot;atomic-expand&quot;, &amp;AtomicExpand::ID, PassInfo::NormalCtor_t(callDefaultCtor&lt;AtomicExpand&gt;), false, false); Registry.registerPass(*PI, true); return PI; } static llvm::once_flag InitializeAtomicExpandPassFlag; void llvm::initializeAtomicExpandPass(PassRegistry &amp;Registry) { llvm::call_once(InitializeAtomicExpandPassFlag, initializeAtomicExpandPassOnce, std::ref(Registry)); }" data-ref="_M/INITIALIZE_PASS">INITIALIZE_PASS</a>(<a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>, <a class="macro" href="#55" title="&quot;atomic-expand&quot;" data-ref="_M/DEBUG_TYPE">DEBUG_TYPE</a>, <a class="ref fn fake" href="../../include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>"Expand Atomic instructions"</q>,</td></tr>
<tr><th id="130">130</th><td>                <b>false</b>, <b>false</b>)</td></tr>
<tr><th id="131">131</th><td></td></tr>
<tr><th id="132">132</th><td><a class="type" href="../../include/llvm/Pass.h.html#llvm::FunctionPass" title='llvm::FunctionPass' data-ref="llvm::FunctionPass" data-ref-filename="llvm..FunctionPass">FunctionPass</a> *<span class="namespace">llvm::</span><dfn class="decl def fn" id="_ZN4llvm22createAtomicExpandPassEv" title='llvm::createAtomicExpandPass' data-ref="_ZN4llvm22createAtomicExpandPassEv" data-ref-filename="_ZN4llvm22createAtomicExpandPassEv">createAtomicExpandPass</dfn>() { <b>return</b> <b>new</b> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a><a class="tu ref fn" href="#_ZN12_GLOBAL__N_112AtomicExpandC1Ev" title='(anonymous namespace)::AtomicExpand::AtomicExpand' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpandC1Ev" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpandC1Ev">(</a>); }</td></tr>
<tr><th id="133">133</th><td></td></tr>
<tr><th id="134">134</th><td><i  data-doc="_ZL15getAtomicOpSizePN4llvm8LoadInstE">// Helper functions to retrieve the size of atomic instructions.</i></td></tr>
<tr><th id="135">135</th><td><em>static</em> <em>unsigned</em> <dfn class="tu decl def fn" id="_ZL15getAtomicOpSizePN4llvm8LoadInstE" title='getAtomicOpSize' data-type='unsigned int getAtomicOpSize(llvm::LoadInst * LI)' data-ref="_ZL15getAtomicOpSizePN4llvm8LoadInstE" data-ref-filename="_ZL15getAtomicOpSizePN4llvm8LoadInstE">getAtomicOpSize</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<dfn class="local col7 decl" id="57LI" title='LI' data-type='llvm::LoadInst *' data-ref="57LI" data-ref-filename="57LI">LI</dfn>) {</td></tr>
<tr><th id="136">136</th><td>  <em>const</em> <a class="type" href="../../include/llvm/IR/DataLayout.h.html#llvm::DataLayout" title='llvm::DataLayout' data-ref="llvm::DataLayout" data-ref-filename="llvm..DataLayout">DataLayout</a> &amp;<dfn class="local col8 decl" id="58DL" title='DL' data-type='const llvm::DataLayout &amp;' data-ref="58DL" data-ref-filename="58DL">DL</dfn> = <a class="local col7 ref" href="#57LI" title='LI' data-ref="57LI" data-ref-filename="57LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getModuleEv" title='llvm::Instruction::getModule' data-ref="_ZN4llvm11Instruction9getModuleEv" data-ref-filename="_ZN4llvm11Instruction9getModuleEv">getModule</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Module.h.html#_ZNK4llvm6Module13getDataLayoutEv" title='llvm::Module::getDataLayout' data-ref="_ZNK4llvm6Module13getDataLayoutEv" data-ref-filename="_ZNK4llvm6Module13getDataLayoutEv">getDataLayout</a>();</td></tr>
<tr><th id="137">137</th><td>  <b>return</b> <a class="ref fn fake" href="../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col8 ref" href="#58DL" title='DL' data-ref="58DL" data-ref-filename="58DL">DL</a>.<a class="ref fn" href="../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeStoreSize' data-ref="_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE">getTypeStoreSize</a>(<a class="local col7 ref" href="#57LI" title='LI' data-ref="57LI" data-ref-filename="57LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="138">138</th><td>}</td></tr>
<tr><th id="139">139</th><td></td></tr>
<tr><th id="140">140</th><td><em>static</em> <em>unsigned</em> <dfn class="tu decl def fn" id="_ZL15getAtomicOpSizePN4llvm9StoreInstE" title='getAtomicOpSize' data-type='unsigned int getAtomicOpSize(llvm::StoreInst * SI)' data-ref="_ZL15getAtomicOpSizePN4llvm9StoreInstE" data-ref-filename="_ZL15getAtomicOpSizePN4llvm9StoreInstE">getAtomicOpSize</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a> *<dfn class="local col9 decl" id="59SI" title='SI' data-type='llvm::StoreInst *' data-ref="59SI" data-ref-filename="59SI">SI</dfn>) {</td></tr>
<tr><th id="141">141</th><td>  <em>const</em> <a class="type" href="../../include/llvm/IR/DataLayout.h.html#llvm::DataLayout" title='llvm::DataLayout' data-ref="llvm::DataLayout" data-ref-filename="llvm..DataLayout">DataLayout</a> &amp;<dfn class="local col0 decl" id="60DL" title='DL' data-type='const llvm::DataLayout &amp;' data-ref="60DL" data-ref-filename="60DL">DL</dfn> = <a class="local col9 ref" href="#59SI" title='SI' data-ref="59SI" data-ref-filename="59SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getModuleEv" title='llvm::Instruction::getModule' data-ref="_ZN4llvm11Instruction9getModuleEv" data-ref-filename="_ZN4llvm11Instruction9getModuleEv">getModule</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Module.h.html#_ZNK4llvm6Module13getDataLayoutEv" title='llvm::Module::getDataLayout' data-ref="_ZNK4llvm6Module13getDataLayoutEv" data-ref-filename="_ZNK4llvm6Module13getDataLayoutEv">getDataLayout</a>();</td></tr>
<tr><th id="142">142</th><td>  <b>return</b> <a class="ref fn fake" href="../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col0 ref" href="#60DL" title='DL' data-ref="60DL" data-ref-filename="60DL">DL</a>.<a class="ref fn" href="../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeStoreSize' data-ref="_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE">getTypeStoreSize</a>(<a class="local col9 ref" href="#59SI" title='SI' data-ref="59SI" data-ref-filename="59SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm9StoreInst15getValueOperandEv" title='llvm::StoreInst::getValueOperand' data-ref="_ZN4llvm9StoreInst15getValueOperandEv" data-ref-filename="_ZN4llvm9StoreInst15getValueOperandEv">getValueOperand</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="143">143</th><td>}</td></tr>
<tr><th id="144">144</th><td></td></tr>
<tr><th id="145">145</th><td><em>static</em> <em>unsigned</em> <dfn class="tu decl def fn" id="_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE" title='getAtomicOpSize' data-type='unsigned int getAtomicOpSize(llvm::AtomicRMWInst * RMWI)' data-ref="_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE" data-ref-filename="_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE">getAtomicOpSize</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col1 decl" id="61RMWI" title='RMWI' data-type='llvm::AtomicRMWInst *' data-ref="61RMWI" data-ref-filename="61RMWI">RMWI</dfn>) {</td></tr>
<tr><th id="146">146</th><td>  <em>const</em> <a class="type" href="../../include/llvm/IR/DataLayout.h.html#llvm::DataLayout" title='llvm::DataLayout' data-ref="llvm::DataLayout" data-ref-filename="llvm..DataLayout">DataLayout</a> &amp;<dfn class="local col2 decl" id="62DL" title='DL' data-type='const llvm::DataLayout &amp;' data-ref="62DL" data-ref-filename="62DL">DL</dfn> = <a class="local col1 ref" href="#61RMWI" title='RMWI' data-ref="61RMWI" data-ref-filename="61RMWI">RMWI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getModuleEv" title='llvm::Instruction::getModule' data-ref="_ZN4llvm11Instruction9getModuleEv" data-ref-filename="_ZN4llvm11Instruction9getModuleEv">getModule</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Module.h.html#_ZNK4llvm6Module13getDataLayoutEv" title='llvm::Module::getDataLayout' data-ref="_ZNK4llvm6Module13getDataLayoutEv" data-ref-filename="_ZNK4llvm6Module13getDataLayoutEv">getDataLayout</a>();</td></tr>
<tr><th id="147">147</th><td>  <b>return</b> <a class="ref fn fake" href="../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col2 ref" href="#62DL" title='DL' data-ref="62DL" data-ref-filename="62DL">DL</a>.<a class="ref fn" href="../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeStoreSize' data-ref="_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE">getTypeStoreSize</a>(<a class="local col1 ref" href="#61RMWI" title='RMWI' data-ref="61RMWI" data-ref-filename="61RMWI">RMWI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst13getValOperandEv" title='llvm::AtomicRMWInst::getValOperand' data-ref="_ZN4llvm13AtomicRMWInst13getValOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst13getValOperandEv">getValOperand</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="148">148</th><td>}</td></tr>
<tr><th id="149">149</th><td></td></tr>
<tr><th id="150">150</th><td><em>static</em> <em>unsigned</em> <dfn class="tu decl def fn" id="_ZL15getAtomicOpSizePN4llvm17AtomicCmpXchgInstE" title='getAtomicOpSize' data-type='unsigned int getAtomicOpSize(llvm::AtomicCmpXchgInst * CASI)' data-ref="_ZL15getAtomicOpSizePN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZL15getAtomicOpSizePN4llvm17AtomicCmpXchgInstE">getAtomicOpSize</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col3 decl" id="63CASI" title='CASI' data-type='llvm::AtomicCmpXchgInst *' data-ref="63CASI" data-ref-filename="63CASI">CASI</dfn>) {</td></tr>
<tr><th id="151">151</th><td>  <em>const</em> <a class="type" href="../../include/llvm/IR/DataLayout.h.html#llvm::DataLayout" title='llvm::DataLayout' data-ref="llvm::DataLayout" data-ref-filename="llvm..DataLayout">DataLayout</a> &amp;<dfn class="local col4 decl" id="64DL" title='DL' data-type='const llvm::DataLayout &amp;' data-ref="64DL" data-ref-filename="64DL">DL</dfn> = <a class="local col3 ref" href="#63CASI" title='CASI' data-ref="63CASI" data-ref-filename="63CASI">CASI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getModuleEv" title='llvm::Instruction::getModule' data-ref="_ZN4llvm11Instruction9getModuleEv" data-ref-filename="_ZN4llvm11Instruction9getModuleEv">getModule</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Module.h.html#_ZNK4llvm6Module13getDataLayoutEv" title='llvm::Module::getDataLayout' data-ref="_ZNK4llvm6Module13getDataLayoutEv" data-ref-filename="_ZNK4llvm6Module13getDataLayoutEv">getDataLayout</a>();</td></tr>
<tr><th id="152">152</th><td>  <b>return</b> <a class="ref fn fake" href="../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col4 ref" href="#64DL" title='DL' data-ref="64DL" data-ref-filename="64DL">DL</a>.<a class="ref fn" href="../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeStoreSize' data-ref="_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE">getTypeStoreSize</a>(<a class="local col3 ref" href="#63CASI" title='CASI' data-ref="63CASI" data-ref-filename="63CASI">CASI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" title='llvm::AtomicCmpXchgInst::getCompareOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv">getCompareOperand</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="153">153</th><td>}</td></tr>
<tr><th id="154">154</th><td></td></tr>
<tr><th id="155">155</th><td><i>// Determine if a particular atomic operation has a supported size,</i></td></tr>
<tr><th id="156">156</th><td><i>// and is of appropriate alignment, to be passed through for target</i></td></tr>
<tr><th id="157">157</th><td><i>// lowering. (Versus turning into a __atomic libcall)</i></td></tr>
<tr><th id="158">158</th><td><b>template</b> &lt;<b>typename</b> Inst&gt;</td></tr>
<tr><th id="159">159</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_" title='atomicSizeSupported' data-type='bool atomicSizeSupported(const llvm::TargetLowering * TLI, Inst * I)' data-ref="_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_" data-ref-filename="_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_">atomicSizeSupported</dfn>(<em>const</em> <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLowering" title='llvm::TargetLowering' data-ref="llvm::TargetLowering" data-ref-filename="llvm..TargetLowering">TargetLowering</a> *<dfn class="local col5 decl" id="65TLI" title='TLI' data-type='const llvm::TargetLowering *' data-ref="65TLI" data-ref-filename="65TLI">TLI</dfn>, Inst *<dfn class="local col6 decl" id="66I" title='I' data-type='Inst *' data-ref="66I" data-ref-filename="66I">I</dfn>) {</td></tr>
<tr><th id="160">160</th><td>  <em>unsigned</em> <dfn class="local col7 decl" id="67Size" title='Size' data-type='unsigned int' data-ref="67Size" data-ref-filename="67Size">Size</dfn> = getAtomicOpSize(<a class="local col6 ref" href="#66I" title='I' data-ref="66I" data-ref-filename="66I">I</a>);</td></tr>
<tr><th id="161">161</th><td>  <a class="type" href="../../include/llvm/Support/Alignment.h.html#llvm::Align" title='llvm::Align' data-ref="llvm::Align" data-ref-filename="llvm..Align">Align</a> <dfn class="local col8 decl" id="68Alignment" title='Alignment' data-type='llvm::Align' data-ref="68Alignment" data-ref-filename="68Alignment">Alignment</dfn> = <a class="local col6 ref" href="#66I" title='I' data-ref="66I" data-ref-filename="66I">I</a>-&gt;getAlign();</td></tr>
<tr><th id="162">162</th><td>  <b>return</b> <a class="ref fn fake" href="../../include/llvm/Support/Alignment.h.html#_ZN4llvm5AlignC1ERKS0_" title='llvm::Align::Align' data-ref="_ZN4llvm5AlignC1ERKS0_" data-ref-filename="_ZN4llvm5AlignC1ERKS0_"></a><a class="local col8 ref" href="#68Alignment" title='Alignment' data-ref="68Alignment" data-ref-filename="68Alignment">Alignment</a> <a class="ref fn" href="../../include/llvm/Support/Alignment.h.html#_ZN4llvmgeENS_5AlignEm" title='llvm::operator&gt;=' data-ref="_ZN4llvmgeENS_5AlignEm" data-ref-filename="_ZN4llvmgeENS_5AlignEm">&gt;=</a> <a class="local col7 ref" href="#67Size" title='Size' data-ref="67Size" data-ref-filename="67Size">Size</a> &amp;&amp;</td></tr>
<tr><th id="163">163</th><td>         <a class="local col7 ref" href="#67Size" title='Size' data-ref="67Size" data-ref-filename="67Size">Size</a> &lt;= <a class="local col5 ref" href="#65TLI" title='TLI' data-ref="65TLI" data-ref-filename="65TLI">TLI</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase31getMaxAtomicSizeInBitsSupportedEv" title='llvm::TargetLoweringBase::getMaxAtomicSizeInBitsSupported' data-ref="_ZNK4llvm18TargetLoweringBase31getMaxAtomicSizeInBitsSupportedEv" data-ref-filename="_ZNK4llvm18TargetLoweringBase31getMaxAtomicSizeInBitsSupportedEv">getMaxAtomicSizeInBitsSupported</a>() / <var>8</var>;</td></tr>
<tr><th id="164">164</th><td>}</td></tr>
<tr><th id="165">165</th><td></td></tr>
<tr><th id="166">166</th><td><em>bool</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="virtual tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand13runOnFunctionERN4llvm8FunctionE" title='(anonymous namespace)::AtomicExpand::runOnFunction' data-type='bool (anonymous namespace)::AtomicExpand::runOnFunction(llvm::Function &amp; F)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand13runOnFunctionERN4llvm8FunctionE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand13runOnFunctionERN4llvm8FunctionE">runOnFunction</dfn>(<a class="type" href="../../include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> &amp;<dfn class="local col9 decl" id="69F" title='F' data-type='llvm::Function &amp;' data-ref="69F" data-ref-filename="69F">F</dfn>) {</td></tr>
<tr><th id="167">167</th><td>  <em>auto</em> *<dfn class="local col0 decl" id="70TPC" title='TPC' data-type='llvm::TargetPassConfig *' data-ref="70TPC" data-ref-filename="70TPC">TPC</dfn> = <a class="member fn" href="../../include/llvm/PassAnalysisSupport.h.html#_ZNK4llvm4Pass22getAnalysisIfAvailableEv" title='llvm::Pass::getAnalysisIfAvailable' data-ref="_ZNK4llvm4Pass22getAnalysisIfAvailableEv" data-ref-filename="_ZNK4llvm4Pass22getAnalysisIfAvailableEv">getAnalysisIfAvailable</a>&lt;<a class="type" href="../../include/llvm/CodeGen/TargetPassConfig.h.html#llvm::TargetPassConfig" title='llvm::TargetPassConfig' data-ref="llvm::TargetPassConfig" data-ref-filename="llvm..TargetPassConfig">TargetPassConfig</a>&gt;();</td></tr>
<tr><th id="168">168</th><td>  <b>if</b> (!<a class="local col0 ref" href="#70TPC" title='TPC' data-ref="70TPC" data-ref-filename="70TPC">TPC</a>)</td></tr>
<tr><th id="169">169</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="170">170</th><td></td></tr>
<tr><th id="171">171</th><td>  <em>auto</em> &amp;<dfn class="local col1 decl" id="71TM" title='TM' data-type='llvm::TargetMachine &amp;' data-ref="71TM" data-ref-filename="71TM">TM</dfn> = <a class="local col0 ref" href="#70TPC" title='TPC' data-ref="70TPC" data-ref-filename="70TPC">TPC</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetPassConfig.h.html#_ZNK4llvm16TargetPassConfig5getTMEv" title='llvm::TargetPassConfig::getTM' data-ref="_ZNK4llvm16TargetPassConfig5getTMEv" data-ref-filename="_ZNK4llvm16TargetPassConfig5getTMEv">getTM</a>&lt;<a class="type" href="../../include/llvm/Target/TargetMachine.h.html#llvm::TargetMachine" title='llvm::TargetMachine' data-ref="llvm::TargetMachine" data-ref-filename="llvm..TargetMachine">TargetMachine</a>&gt;();</td></tr>
<tr><th id="172">172</th><td>  <b>if</b> (!<a class="local col1 ref" href="#71TM" title='TM' data-ref="71TM" data-ref-filename="71TM">TM</a>.<a class="virtual ref fn" href="../../include/llvm/Target/TargetMachine.h.html#_ZNK4llvm13TargetMachine16getSubtargetImplERKNS_8FunctionE" title='llvm::TargetMachine::getSubtargetImpl' data-ref="_ZNK4llvm13TargetMachine16getSubtargetImplERKNS_8FunctionE" data-ref-filename="_ZNK4llvm13TargetMachine16getSubtargetImplERKNS_8FunctionE">getSubtargetImpl</a>(<a class="local col9 ref" href="#69F" title='F' data-ref="69F" data-ref-filename="69F">F</a>)-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetSubtargetInfo.h.html#_ZNK4llvm19TargetSubtargetInfo18enableAtomicExpandEv" title='llvm::TargetSubtargetInfo::enableAtomicExpand' data-ref="_ZNK4llvm19TargetSubtargetInfo18enableAtomicExpandEv" data-ref-filename="_ZNK4llvm19TargetSubtargetInfo18enableAtomicExpandEv">enableAtomicExpand</a>())</td></tr>
<tr><th id="173">173</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="174">174</th><td>  <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='w' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a> = <a class="local col1 ref" href="#71TM" title='TM' data-ref="71TM" data-ref-filename="71TM">TM</a>.<a class="virtual ref fn" href="../../include/llvm/Target/TargetMachine.h.html#_ZNK4llvm13TargetMachine16getSubtargetImplERKNS_8FunctionE" title='llvm::TargetMachine::getSubtargetImpl' data-ref="_ZNK4llvm13TargetMachine16getSubtargetImplERKNS_8FunctionE" data-ref-filename="_ZNK4llvm13TargetMachine16getSubtargetImplERKNS_8FunctionE">getSubtargetImpl</a>(<a class="local col9 ref" href="#69F" title='F' data-ref="69F" data-ref-filename="69F">F</a>)-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetSubtargetInfo.h.html#_ZNK4llvm19TargetSubtargetInfo17getTargetLoweringEv" title='llvm::TargetSubtargetInfo::getTargetLowering' data-ref="_ZNK4llvm19TargetSubtargetInfo17getTargetLoweringEv" data-ref-filename="_ZNK4llvm19TargetSubtargetInfo17getTargetLoweringEv">getTargetLowering</a>();</td></tr>
<tr><th id="175">175</th><td></td></tr>
<tr><th id="176">176</th><td>  <a class="type" href="../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *, <var>1</var>&gt; <a class="ref fn fake" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col2 decl" id="72AtomicInsts" title='AtomicInsts' data-type='SmallVector&lt;llvm::Instruction *, 1&gt;' data-ref="72AtomicInsts" data-ref-filename="72AtomicInsts">AtomicInsts</dfn>;</td></tr>
<tr><th id="177">177</th><td></td></tr>
<tr><th id="178">178</th><td>  <i>// Changing control-flow while iterating through it is a bad idea, so gather a</i></td></tr>
<tr><th id="179">179</th><td><i>  // list of all atomic instructions before we start.</i></td></tr>
<tr><th id="180">180</th><td>  <b>for</b> (<a class="typedef" href="../../include/llvm/IR/InstIterator.h.html#llvm::inst_iterator" title='llvm::inst_iterator' data-type='InstIterator&lt;SymbolTableList&lt;llvm::BasicBlock&gt;, Function::iterator, BasicBlock::iterator, llvm::Instruction&gt;' data-ref="llvm::inst_iterator" data-ref-filename="llvm..inst_iterator">inst_iterator</a> <dfn class="local col3 decl" id="73II" title='II' data-type='llvm::inst_iterator' data-ref="73II" data-ref-filename="73II">II</dfn> = <a class="ref fn" href="../../include/llvm/IR/InstIterator.h.html#_ZN4llvm10inst_beginERNS_8FunctionE" title='llvm::inst_begin' data-ref="_ZN4llvm10inst_beginERNS_8FunctionE" data-ref-filename="_ZN4llvm10inst_beginERNS_8FunctionE">inst_begin</a>(<span class='refarg'><a class="local col9 ref" href="#69F" title='F' data-ref="69F" data-ref-filename="69F">F</a></span>), <dfn class="local col4 decl" id="74E" title='E' data-type='llvm::inst_iterator' data-ref="74E" data-ref-filename="74E">E</dfn> = <a class="ref fn" href="../../include/llvm/IR/InstIterator.h.html#_ZN4llvm8inst_endERNS_8FunctionE" title='llvm::inst_end' data-ref="_ZN4llvm8inst_endERNS_8FunctionE" data-ref-filename="_ZN4llvm8inst_endERNS_8FunctionE">inst_end</a>(<span class='refarg'><a class="local col9 ref" href="#69F" title='F' data-ref="69F" data-ref-filename="69F">F</a></span>); <a class="local col3 ref" href="#73II" title='II' data-ref="73II" data-ref-filename="73II">II</a> <a class="ref fn" href="../../include/llvm/IR/InstIterator.h.html#_ZNK4llvm12InstIteratorneERKNS_12InstIteratorIT_T0_T1_T2_EE" title='llvm::InstIterator::operator!=' data-ref="_ZNK4llvm12InstIteratorneERKNS_12InstIteratorIT_T0_T1_T2_EE" data-ref-filename="_ZNK4llvm12InstIteratorneERKNS_12InstIteratorIT_T0_T1_T2_EE">!=</a> <a class="local col4 ref" href="#74E" title='E' data-ref="74E" data-ref-filename="74E">E</a>; <a class="ref fn" href="../../include/llvm/IR/InstIterator.h.html#_ZN4llvm12InstIteratorppEv" title='llvm::InstIterator::operator++' data-ref="_ZN4llvm12InstIteratorppEv" data-ref-filename="_ZN4llvm12InstIteratorppEv">++</a><a class="local col3 ref" href="#73II" title='II' data-ref="73II" data-ref-filename="73II">II</a>) {</td></tr>
<tr><th id="181">181</th><td>    <a class="type" href="../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col5 decl" id="75I" title='I' data-type='llvm::Instruction *' data-ref="75I" data-ref-filename="75I">I</dfn> = &amp;<a class="ref fn" href="../../include/llvm/IR/InstIterator.h.html#_ZNK4llvm12InstIteratordeEv" title='llvm::InstIterator::operator*' data-ref="_ZNK4llvm12InstIteratordeEv" data-ref-filename="_ZNK4llvm12InstIteratordeEv">*</a><a class="local col3 ref" href="#73II" title='II' data-ref="73II" data-ref-filename="73II">II</a>;</td></tr>
<tr><th id="182">182</th><td>    <b>if</b> (<a class="local col5 ref" href="#75I" title='I' data-ref="75I" data-ref-filename="75I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZNK4llvm11Instruction8isAtomicEv" title='llvm::Instruction::isAtomic' data-ref="_ZNK4llvm11Instruction8isAtomicEv" data-ref-filename="_ZNK4llvm11Instruction8isAtomicEv">isAtomic</a>() &amp;&amp; !<a class="ref fn" href="../../include/llvm/Support/Casting.h.html#_ZN4llvm3isaERKT0_" title='llvm::isa' data-ref="_ZN4llvm3isaERKT0_" data-ref-filename="_ZN4llvm3isaERKT0_">isa</a>&lt;<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::FenceInst" title='llvm::FenceInst' data-ref="llvm::FenceInst" data-ref-filename="llvm..FenceInst">FenceInst</a>&gt;(<a class="local col5 ref" href="#75I" title='I' data-ref="75I" data-ref-filename="75I">I</a>))</td></tr>
<tr><th id="183">183</th><td>      <a class="local col2 ref" href="#72AtomicInsts" title='AtomicInsts' data-ref="72AtomicInsts" data-ref-filename="72AtomicInsts">AtomicInsts</a>.<a class="ref fn" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col5 ref" href="#75I" title='I' data-ref="75I" data-ref-filename="75I">I</a>);</td></tr>
<tr><th id="184">184</th><td>  }</td></tr>
<tr><th id="185">185</th><td></td></tr>
<tr><th id="186">186</th><td>  <em>bool</em> <dfn class="local col6 decl" id="76MadeChange" title='MadeChange' data-type='bool' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</dfn> = <b>false</b>;</td></tr>
<tr><th id="187">187</th><td>  <b>for</b> (<em>auto</em> <dfn class="local col7 decl" id="77I" title='I' data-type='llvm::Instruction *' data-ref="77I" data-ref-filename="77I">I</dfn> : <a class="local col2 ref" href="#72AtomicInsts" title='AtomicInsts' data-ref="72AtomicInsts" data-ref-filename="72AtomicInsts">AtomicInsts</a>) {</td></tr>
<tr><th id="188">188</th><td>    <em>auto</em> <dfn class="local col8 decl" id="78LI" title='LI' data-type='llvm::LoadInst *' data-ref="78LI" data-ref-filename="78LI">LI</dfn> = <a class="ref fn" href="../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a>&gt;(<a class="local col7 ref" href="#77I" title='I' data-ref="77I" data-ref-filename="77I">I</a>);</td></tr>
<tr><th id="189">189</th><td>    <em>auto</em> <dfn class="local col9 decl" id="79SI" title='SI' data-type='llvm::StoreInst *' data-ref="79SI" data-ref-filename="79SI">SI</dfn> = <a class="ref fn" href="../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a>&gt;(<a class="local col7 ref" href="#77I" title='I' data-ref="77I" data-ref-filename="77I">I</a>);</td></tr>
<tr><th id="190">190</th><td>    <em>auto</em> <dfn class="local col0 decl" id="80RMWI" title='RMWI' data-type='llvm::AtomicRMWInst *' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</dfn> = <a class="ref fn" href="../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>&gt;(<a class="local col7 ref" href="#77I" title='I' data-ref="77I" data-ref-filename="77I">I</a>);</td></tr>
<tr><th id="191">191</th><td>    <em>auto</em> <dfn class="local col1 decl" id="81CASI" title='CASI' data-type='llvm::AtomicCmpXchgInst *' data-ref="81CASI" data-ref-filename="81CASI">CASI</dfn> = <a class="ref fn" href="../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a>&gt;(<a class="local col7 ref" href="#77I" title='I' data-ref="77I" data-ref-filename="77I">I</a>);</td></tr>
<tr><th id="192">192</th><td>    <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>((LI || SI || RMWI || CASI) &amp;&amp; <q>"Unknown atomic instruction"</q>);</td></tr>
<tr><th id="193">193</th><td></td></tr>
<tr><th id="194">194</th><td>    <i>// If the Size/Alignment is not supported, replace with a libcall.</i></td></tr>
<tr><th id="195">195</th><td>    <b>if</b> (<a class="local col8 ref" href="#78LI" title='LI' data-ref="78LI" data-ref-filename="78LI">LI</a>) {</td></tr>
<tr><th id="196">196</th><td>      <b>if</b> (!<a class="tu ref fn" href="#_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_" title='atomicSizeSupported' data-use='c' data-ref="_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_" data-ref-filename="_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_">atomicSizeSupported</a>(<a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>, <a class="local col8 ref" href="#78LI" title='LI' data-ref="78LI" data-ref-filename="78LI">LI</a>)) {</td></tr>
<tr><th id="197">197</th><td>        <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToLibcallEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicLoadToLibcall' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToLibcallEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToLibcallEPN4llvm8LoadInstE">expandAtomicLoadToLibcall</a>(<a class="local col8 ref" href="#78LI" title='LI' data-ref="78LI" data-ref-filename="78LI">LI</a>);</td></tr>
<tr><th id="198">198</th><td>        <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a> = <b>true</b>;</td></tr>
<tr><th id="199">199</th><td>        <b>continue</b>;</td></tr>
<tr><th id="200">200</th><td>      }</td></tr>
<tr><th id="201">201</th><td>    } <b>else</b> <b>if</b> (<a class="local col9 ref" href="#79SI" title='SI' data-ref="79SI" data-ref-filename="79SI">SI</a>) {</td></tr>
<tr><th id="202">202</th><td>      <b>if</b> (!<a class="tu ref fn" href="#_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_" title='atomicSizeSupported' data-use='c' data-ref="_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_" data-ref-filename="_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_">atomicSizeSupported</a>(<a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>, <a class="local col9 ref" href="#79SI" title='SI' data-ref="79SI" data-ref-filename="79SI">SI</a>)) {</td></tr>
<tr><th id="203">203</th><td>        <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand26expandAtomicStoreToLibcallEPN4llvm9StoreInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicStoreToLibcall' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand26expandAtomicStoreToLibcallEPN4llvm9StoreInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand26expandAtomicStoreToLibcallEPN4llvm9StoreInstE">expandAtomicStoreToLibcall</a>(<a class="local col9 ref" href="#79SI" title='SI' data-ref="79SI" data-ref-filename="79SI">SI</a>);</td></tr>
<tr><th id="204">204</th><td>        <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a> = <b>true</b>;</td></tr>
<tr><th id="205">205</th><td>        <b>continue</b>;</td></tr>
<tr><th id="206">206</th><td>      }</td></tr>
<tr><th id="207">207</th><td>    } <b>else</b> <b>if</b> (<a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a>) {</td></tr>
<tr><th id="208">208</th><td>      <b>if</b> (!<a class="tu ref fn" href="#_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_" title='atomicSizeSupported' data-use='c' data-ref="_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_" data-ref-filename="_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_">atomicSizeSupported</a>(<a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>, <a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a>)) {</td></tr>
<tr><th id="209">209</th><td>        <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicRMWToLibcallEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicRMWToLibcall' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicRMWToLibcallEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicRMWToLibcallEPN4llvm13AtomicRMWInstE">expandAtomicRMWToLibcall</a>(<a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a>);</td></tr>
<tr><th id="210">210</th><td>        <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a> = <b>true</b>;</td></tr>
<tr><th id="211">211</th><td>        <b>continue</b>;</td></tr>
<tr><th id="212">212</th><td>      }</td></tr>
<tr><th id="213">213</th><td>    } <b>else</b> <b>if</b> (<a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a>) {</td></tr>
<tr><th id="214">214</th><td>      <b>if</b> (!<a class="tu ref fn" href="#_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_" title='atomicSizeSupported' data-use='c' data-ref="_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_" data-ref-filename="_ZL19atomicSizeSupportedPKN4llvm14TargetLoweringEPT_">atomicSizeSupported</a>(<a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>, <a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a>)) {</td></tr>
<tr><th id="215">215</th><td>        <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicCASToLibcallEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicCASToLibcall' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicCASToLibcallEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicCASToLibcallEPN4llvm17AtomicCmpXchgInstE">expandAtomicCASToLibcall</a>(<a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a>);</td></tr>
<tr><th id="216">216</th><td>        <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a> = <b>true</b>;</td></tr>
<tr><th id="217">217</th><td>        <b>continue</b>;</td></tr>
<tr><th id="218">218</th><td>      }</td></tr>
<tr><th id="219">219</th><td>    }</td></tr>
<tr><th id="220">220</th><td></td></tr>
<tr><th id="221">221</th><td>    <b>if</b> (<a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase27shouldInsertFencesForAtomicEPKNS_11InstructionE" title='llvm::TargetLoweringBase::shouldInsertFencesForAtomic' data-ref="_ZNK4llvm18TargetLoweringBase27shouldInsertFencesForAtomicEPKNS_11InstructionE" data-ref-filename="_ZNK4llvm18TargetLoweringBase27shouldInsertFencesForAtomicEPKNS_11InstructionE">shouldInsertFencesForAtomic</a>(<a class="local col7 ref" href="#77I" title='I' data-ref="77I" data-ref-filename="77I">I</a>)) {</td></tr>
<tr><th id="222">222</th><td>      <em>auto</em> <dfn class="local col2 decl" id="82FenceOrdering" title='FenceOrdering' data-type='llvm::AtomicOrdering' data-ref="82FenceOrdering" data-ref-filename="82FenceOrdering">FenceOrdering</dfn> = <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::Monotonic" title='llvm::AtomicOrdering::Monotonic' data-ref="llvm::AtomicOrdering::Monotonic" data-ref-filename="llvm..AtomicOrdering..Monotonic">Monotonic</a>;</td></tr>
<tr><th id="223">223</th><td>      <b>if</b> (<a class="local col8 ref" href="#78LI" title='LI' data-ref="78LI" data-ref-filename="78LI">LI</a> &amp;&amp; <a class="ref fn" href="../../include/llvm/Support/AtomicOrdering.h.html#_ZN4llvm19isAcquireOrStrongerENS_14AtomicOrderingE" title='llvm::isAcquireOrStronger' data-ref="_ZN4llvm19isAcquireOrStrongerENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm19isAcquireOrStrongerENS_14AtomicOrderingE">isAcquireOrStronger</a>(<a class="local col8 ref" href="#78LI" title='LI' data-ref="78LI" data-ref-filename="78LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm8LoadInst11getOrderingEv" title='llvm::LoadInst::getOrdering' data-ref="_ZNK4llvm8LoadInst11getOrderingEv" data-ref-filename="_ZNK4llvm8LoadInst11getOrderingEv">getOrdering</a>())) {</td></tr>
<tr><th id="224">224</th><td>        <a class="local col2 ref" href="#82FenceOrdering" title='FenceOrdering' data-ref="82FenceOrdering" data-ref-filename="82FenceOrdering">FenceOrdering</a> = <a class="local col8 ref" href="#78LI" title='LI' data-ref="78LI" data-ref-filename="78LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm8LoadInst11getOrderingEv" title='llvm::LoadInst::getOrdering' data-ref="_ZNK4llvm8LoadInst11getOrderingEv" data-ref-filename="_ZNK4llvm8LoadInst11getOrderingEv">getOrdering</a>();</td></tr>
<tr><th id="225">225</th><td>        <a class="local col8 ref" href="#78LI" title='LI' data-ref="78LI" data-ref-filename="78LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm8LoadInst11setOrderingENS_14AtomicOrderingE" title='llvm::LoadInst::setOrdering' data-ref="_ZN4llvm8LoadInst11setOrderingENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm8LoadInst11setOrderingENS_14AtomicOrderingE">setOrdering</a>(<a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::Monotonic" title='llvm::AtomicOrdering::Monotonic' data-ref="llvm::AtomicOrdering::Monotonic" data-ref-filename="llvm..AtomicOrdering..Monotonic">Monotonic</a>);</td></tr>
<tr><th id="226">226</th><td>      } <b>else</b> <b>if</b> (<a class="local col9 ref" href="#79SI" title='SI' data-ref="79SI" data-ref-filename="79SI">SI</a> &amp;&amp; <a class="ref fn" href="../../include/llvm/Support/AtomicOrdering.h.html#_ZN4llvm19isReleaseOrStrongerENS_14AtomicOrderingE" title='llvm::isReleaseOrStronger' data-ref="_ZN4llvm19isReleaseOrStrongerENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm19isReleaseOrStrongerENS_14AtomicOrderingE">isReleaseOrStronger</a>(<a class="local col9 ref" href="#79SI" title='SI' data-ref="79SI" data-ref-filename="79SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm9StoreInst11getOrderingEv" title='llvm::StoreInst::getOrdering' data-ref="_ZNK4llvm9StoreInst11getOrderingEv" data-ref-filename="_ZNK4llvm9StoreInst11getOrderingEv">getOrdering</a>())) {</td></tr>
<tr><th id="227">227</th><td>        <a class="local col2 ref" href="#82FenceOrdering" title='FenceOrdering' data-ref="82FenceOrdering" data-ref-filename="82FenceOrdering">FenceOrdering</a> = <a class="local col9 ref" href="#79SI" title='SI' data-ref="79SI" data-ref-filename="79SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm9StoreInst11getOrderingEv" title='llvm::StoreInst::getOrdering' data-ref="_ZNK4llvm9StoreInst11getOrderingEv" data-ref-filename="_ZNK4llvm9StoreInst11getOrderingEv">getOrdering</a>();</td></tr>
<tr><th id="228">228</th><td>        <a class="local col9 ref" href="#79SI" title='SI' data-ref="79SI" data-ref-filename="79SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm9StoreInst11setOrderingENS_14AtomicOrderingE" title='llvm::StoreInst::setOrdering' data-ref="_ZN4llvm9StoreInst11setOrderingENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm9StoreInst11setOrderingENS_14AtomicOrderingE">setOrdering</a>(<a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::Monotonic" title='llvm::AtomicOrdering::Monotonic' data-ref="llvm::AtomicOrdering::Monotonic" data-ref-filename="llvm..AtomicOrdering..Monotonic">Monotonic</a>);</td></tr>
<tr><th id="229">229</th><td>      } <b>else</b> <b>if</b> (<a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a> &amp;&amp; (<a class="ref fn" href="../../include/llvm/Support/AtomicOrdering.h.html#_ZN4llvm19isReleaseOrStrongerENS_14AtomicOrderingE" title='llvm::isReleaseOrStronger' data-ref="_ZN4llvm19isReleaseOrStrongerENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm19isReleaseOrStrongerENS_14AtomicOrderingE">isReleaseOrStronger</a>(<a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst11getOrderingEv" title='llvm::AtomicRMWInst::getOrdering' data-ref="_ZNK4llvm13AtomicRMWInst11getOrderingEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst11getOrderingEv">getOrdering</a>()) ||</td></tr>
<tr><th id="230">230</th><td>                          <a class="ref fn" href="../../include/llvm/Support/AtomicOrdering.h.html#_ZN4llvm19isAcquireOrStrongerENS_14AtomicOrderingE" title='llvm::isAcquireOrStronger' data-ref="_ZN4llvm19isAcquireOrStrongerENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm19isAcquireOrStrongerENS_14AtomicOrderingE">isAcquireOrStronger</a>(<a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst11getOrderingEv" title='llvm::AtomicRMWInst::getOrdering' data-ref="_ZNK4llvm13AtomicRMWInst11getOrderingEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst11getOrderingEv">getOrdering</a>()))) {</td></tr>
<tr><th id="231">231</th><td>        <a class="local col2 ref" href="#82FenceOrdering" title='FenceOrdering' data-ref="82FenceOrdering" data-ref-filename="82FenceOrdering">FenceOrdering</a> = <a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst11getOrderingEv" title='llvm::AtomicRMWInst::getOrdering' data-ref="_ZNK4llvm13AtomicRMWInst11getOrderingEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst11getOrderingEv">getOrdering</a>();</td></tr>
<tr><th id="232">232</th><td>        <a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst11setOrderingENS_14AtomicOrderingE" title='llvm::AtomicRMWInst::setOrdering' data-ref="_ZN4llvm13AtomicRMWInst11setOrderingENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm13AtomicRMWInst11setOrderingENS_14AtomicOrderingE">setOrdering</a>(<a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::Monotonic" title='llvm::AtomicOrdering::Monotonic' data-ref="llvm::AtomicOrdering::Monotonic" data-ref-filename="llvm..AtomicOrdering..Monotonic">Monotonic</a>);</td></tr>
<tr><th id="233">233</th><td>      } <b>else</b> <b>if</b> (<a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a> &amp;&amp;</td></tr>
<tr><th id="234">234</th><td>                 <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase29shouldExpandAtomicCmpXchgInIREPNS_17AtomicCmpXchgInstE" title='llvm::TargetLoweringBase::shouldExpandAtomicCmpXchgInIR' data-ref="_ZNK4llvm18TargetLoweringBase29shouldExpandAtomicCmpXchgInIREPNS_17AtomicCmpXchgInstE" data-ref-filename="_ZNK4llvm18TargetLoweringBase29shouldExpandAtomicCmpXchgInIREPNS_17AtomicCmpXchgInstE">shouldExpandAtomicCmpXchgInIR</a>(<a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a>) ==</td></tr>
<tr><th id="235">235</th><td>                     <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::None" title='llvm::TargetLoweringBase::AtomicExpansionKind::None' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::None" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..None">None</a> &amp;&amp;</td></tr>
<tr><th id="236">236</th><td>                 (<a class="ref fn" href="../../include/llvm/Support/AtomicOrdering.h.html#_ZN4llvm19isReleaseOrStrongerENS_14AtomicOrderingE" title='llvm::isReleaseOrStronger' data-ref="_ZN4llvm19isReleaseOrStrongerENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm19isReleaseOrStrongerENS_14AtomicOrderingE">isReleaseOrStronger</a>(<a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" title='llvm::AtomicCmpXchgInst::getSuccessOrdering' data-ref="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv">getSuccessOrdering</a>()) ||</td></tr>
<tr><th id="237">237</th><td>                  <a class="ref fn" href="../../include/llvm/Support/AtomicOrdering.h.html#_ZN4llvm19isAcquireOrStrongerENS_14AtomicOrderingE" title='llvm::isAcquireOrStronger' data-ref="_ZN4llvm19isAcquireOrStrongerENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm19isAcquireOrStrongerENS_14AtomicOrderingE">isAcquireOrStronger</a>(<a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" title='llvm::AtomicCmpXchgInst::getSuccessOrdering' data-ref="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv">getSuccessOrdering</a>()))) {</td></tr>
<tr><th id="238">238</th><td>        <i>// If a compare and swap is lowered to LL/SC, we can do smarter fence</i></td></tr>
<tr><th id="239">239</th><td><i>        // insertion, with a stronger one on the success path than on the</i></td></tr>
<tr><th id="240">240</th><td><i>        // failure path. As a result, fence insertion is directly done by</i></td></tr>
<tr><th id="241">241</th><td><i>        // expandAtomicCmpXchg in that case.</i></td></tr>
<tr><th id="242">242</th><td>        <a class="local col2 ref" href="#82FenceOrdering" title='FenceOrdering' data-ref="82FenceOrdering" data-ref-filename="82FenceOrdering">FenceOrdering</a> = <a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" title='llvm::AtomicCmpXchgInst::getSuccessOrdering' data-ref="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv">getSuccessOrdering</a>();</td></tr>
<tr><th id="243">243</th><td>        <a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst18setSuccessOrderingENS_14AtomicOrderingE" title='llvm::AtomicCmpXchgInst::setSuccessOrdering' data-ref="_ZN4llvm17AtomicCmpXchgInst18setSuccessOrderingENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst18setSuccessOrderingENS_14AtomicOrderingE">setSuccessOrdering</a>(<a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::Monotonic" title='llvm::AtomicOrdering::Monotonic' data-ref="llvm::AtomicOrdering::Monotonic" data-ref-filename="llvm..AtomicOrdering..Monotonic">Monotonic</a>);</td></tr>
<tr><th id="244">244</th><td>        <a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst18setFailureOrderingENS_14AtomicOrderingE" title='llvm::AtomicCmpXchgInst::setFailureOrdering' data-ref="_ZN4llvm17AtomicCmpXchgInst18setFailureOrderingENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst18setFailureOrderingENS_14AtomicOrderingE">setFailureOrdering</a>(<a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::Monotonic" title='llvm::AtomicOrdering::Monotonic' data-ref="llvm::AtomicOrdering::Monotonic" data-ref-filename="llvm..AtomicOrdering..Monotonic">Monotonic</a>);</td></tr>
<tr><th id="245">245</th><td>      }</td></tr>
<tr><th id="246">246</th><td></td></tr>
<tr><th id="247">247</th><td>      <b>if</b> (<a class="local col2 ref" href="#82FenceOrdering" title='FenceOrdering' data-ref="82FenceOrdering" data-ref-filename="82FenceOrdering">FenceOrdering</a> != <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::Monotonic" title='llvm::AtomicOrdering::Monotonic' data-ref="llvm::AtomicOrdering::Monotonic" data-ref-filename="llvm..AtomicOrdering..Monotonic">Monotonic</a>) {</td></tr>
<tr><th id="248">248</th><td>        <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a> |= <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand21bracketInstWithFencesEPN4llvm11InstructionENS1_14AtomicOrderingE" title='(anonymous namespace)::AtomicExpand::bracketInstWithFences' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand21bracketInstWithFencesEPN4llvm11InstructionENS1_14AtomicOrderingE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand21bracketInstWithFencesEPN4llvm11InstructionENS1_14AtomicOrderingE">bracketInstWithFences</a>(<a class="local col7 ref" href="#77I" title='I' data-ref="77I" data-ref-filename="77I">I</a>, <a class="local col2 ref" href="#82FenceOrdering" title='FenceOrdering' data-ref="82FenceOrdering" data-ref-filename="82FenceOrdering">FenceOrdering</a>);</td></tr>
<tr><th id="249">249</th><td>      }</td></tr>
<tr><th id="250">250</th><td>    }</td></tr>
<tr><th id="251">251</th><td></td></tr>
<tr><th id="252">252</th><td>    <b>if</b> (<a class="local col8 ref" href="#78LI" title='LI' data-ref="78LI" data-ref-filename="78LI">LI</a>) {</td></tr>
<tr><th id="253">253</th><td>      <b>if</b> (<a class="local col8 ref" href="#78LI" title='LI' data-ref="78LI" data-ref-filename="78LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type17isFloatingPointTyEv" title='llvm::Type::isFloatingPointTy' data-ref="_ZNK4llvm4Type17isFloatingPointTyEv" data-ref-filename="_ZNK4llvm4Type17isFloatingPointTyEv">isFloatingPointTy</a>()) {</td></tr>
<tr><th id="254">254</th><td>        <i>// TODO: add a TLI hook to control this so that each target can</i></td></tr>
<tr><th id="255">255</th><td><i>        // convert to lowering the original type one at a time.</i></td></tr>
<tr><th id="256">256</th><td>        <a class="local col8 ref" href="#78LI" title='LI' data-ref="78LI" data-ref-filename="78LI">LI</a> = <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand30convertAtomicLoadToIntegerTypeEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::convertAtomicLoadToIntegerType' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand30convertAtomicLoadToIntegerTypeEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand30convertAtomicLoadToIntegerTypeEPN4llvm8LoadInstE">convertAtomicLoadToIntegerType</a>(<a class="local col8 ref" href="#78LI" title='LI' data-ref="78LI" data-ref-filename="78LI">LI</a>);</td></tr>
<tr><th id="257">257</th><td>        <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(LI-&gt;getType()-&gt;isIntegerTy() &amp;&amp; <q>"invariant broken"</q>);</td></tr>
<tr><th id="258">258</th><td>        <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a> = <b>true</b>;</td></tr>
<tr><th id="259">259</th><td>      }</td></tr>
<tr><th id="260">260</th><td></td></tr>
<tr><th id="261">261</th><td>      <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a> |= <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand19tryExpandAtomicLoadEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::tryExpandAtomicLoad' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand19tryExpandAtomicLoadEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand19tryExpandAtomicLoadEPN4llvm8LoadInstE">tryExpandAtomicLoad</a>(<a class="local col8 ref" href="#78LI" title='LI' data-ref="78LI" data-ref-filename="78LI">LI</a>);</td></tr>
<tr><th id="262">262</th><td>    } <b>else</b> <b>if</b> (<a class="local col9 ref" href="#79SI" title='SI' data-ref="79SI" data-ref-filename="79SI">SI</a>) {</td></tr>
<tr><th id="263">263</th><td>      <b>if</b> (<a class="local col9 ref" href="#79SI" title='SI' data-ref="79SI" data-ref-filename="79SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm9StoreInst15getValueOperandEv" title='llvm::StoreInst::getValueOperand' data-ref="_ZN4llvm9StoreInst15getValueOperandEv" data-ref-filename="_ZN4llvm9StoreInst15getValueOperandEv">getValueOperand</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type17isFloatingPointTyEv" title='llvm::Type::isFloatingPointTy' data-ref="_ZNK4llvm4Type17isFloatingPointTyEv" data-ref-filename="_ZNK4llvm4Type17isFloatingPointTyEv">isFloatingPointTy</a>()) {</td></tr>
<tr><th id="264">264</th><td>        <i>// TODO: add a TLI hook to control this so that each target can</i></td></tr>
<tr><th id="265">265</th><td><i>        // convert to lowering the original type one at a time.</i></td></tr>
<tr><th id="266">266</th><td>        <a class="local col9 ref" href="#79SI" title='SI' data-ref="79SI" data-ref-filename="79SI">SI</a> = <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE" title='(anonymous namespace)::AtomicExpand::convertAtomicStoreToIntegerType' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE">convertAtomicStoreToIntegerType</a>(<a class="local col9 ref" href="#79SI" title='SI' data-ref="79SI" data-ref-filename="79SI">SI</a>);</td></tr>
<tr><th id="267">267</th><td>        <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(SI-&gt;getValueOperand()-&gt;getType()-&gt;isIntegerTy() &amp;&amp;</td></tr>
<tr><th id="268">268</th><td>               <q>"invariant broken"</q>);</td></tr>
<tr><th id="269">269</th><td>        <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a> = <b>true</b>;</td></tr>
<tr><th id="270">270</th><td>      }</td></tr>
<tr><th id="271">271</th><td></td></tr>
<tr><th id="272">272</th><td>      <b>if</b> (<a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase27shouldExpandAtomicStoreInIREPNS_9StoreInstE" title='llvm::TargetLoweringBase::shouldExpandAtomicStoreInIR' data-ref="_ZNK4llvm18TargetLoweringBase27shouldExpandAtomicStoreInIREPNS_9StoreInstE" data-ref-filename="_ZNK4llvm18TargetLoweringBase27shouldExpandAtomicStoreInIREPNS_9StoreInstE">shouldExpandAtomicStoreInIR</a>(<a class="local col9 ref" href="#79SI" title='SI' data-ref="79SI" data-ref-filename="79SI">SI</a>))</td></tr>
<tr><th id="273">273</th><td>        <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a> |= <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand17expandAtomicStoreEPN4llvm9StoreInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicStore' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand17expandAtomicStoreEPN4llvm9StoreInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand17expandAtomicStoreEPN4llvm9StoreInstE">expandAtomicStore</a>(<a class="local col9 ref" href="#79SI" title='SI' data-ref="79SI" data-ref-filename="79SI">SI</a>);</td></tr>
<tr><th id="274">274</th><td>    } <b>else</b> <b>if</b> (<a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a>) {</td></tr>
<tr><th id="275">275</th><td>      <i>// There are two different ways of expanding RMW instructions:</i></td></tr>
<tr><th id="276">276</th><td><i>      // - into a load if it is idempotent</i></td></tr>
<tr><th id="277">277</th><td><i>      // - into a Cmpxchg/LL-SC loop otherwise</i></td></tr>
<tr><th id="278">278</th><td><i>      // we try them in that order.</i></td></tr>
<tr><th id="279">279</th><td></td></tr>
<tr><th id="280">280</th><td>      <b>if</b> (<a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand15isIdempotentRMWEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::isIdempotentRMW' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand15isIdempotentRMWEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand15isIdempotentRMWEPN4llvm13AtomicRMWInstE">isIdempotentRMW</a>(<a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a>) &amp;&amp; <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand21simplifyIdempotentRMWEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::simplifyIdempotentRMW' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand21simplifyIdempotentRMWEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand21simplifyIdempotentRMWEPN4llvm13AtomicRMWInstE">simplifyIdempotentRMW</a>(<a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a>)) {</td></tr>
<tr><th id="281">281</th><td>        <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a> = <b>true</b>;</td></tr>
<tr><th id="282">282</th><td>      } <b>else</b> {</td></tr>
<tr><th id="283">283</th><td>        <em>unsigned</em> <dfn class="local col3 decl" id="83MinCASSize" title='MinCASSize' data-type='unsigned int' data-ref="83MinCASSize" data-ref-filename="83MinCASSize">MinCASSize</dfn> = <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" title='llvm::TargetLoweringBase::getMinCmpXchgSizeInBits' data-ref="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" data-ref-filename="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv">getMinCmpXchgSizeInBits</a>() / <var>8</var>;</td></tr>
<tr><th id="284">284</th><td>        <em>unsigned</em> <dfn class="local col4 decl" id="84ValueSize" title='ValueSize' data-type='unsigned int' data-ref="84ValueSize" data-ref-filename="84ValueSize">ValueSize</dfn> = <a class="tu ref fn" href="#_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE" title='getAtomicOpSize' data-use='c' data-ref="_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE" data-ref-filename="_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE">getAtomicOpSize</a>(<a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a>);</td></tr>
<tr><th id="285">285</th><td>        <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::BinOp" title='llvm::AtomicRMWInst::BinOp' data-ref="llvm::AtomicRMWInst::BinOp" data-ref-filename="llvm..AtomicRMWInst..BinOp">BinOp</a> <dfn class="local col5 decl" id="85Op" title='Op' data-type='AtomicRMWInst::BinOp' data-ref="85Op" data-ref-filename="85Op">Op</dfn> = <a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst12getOperationEv" title='llvm::AtomicRMWInst::getOperation' data-ref="_ZNK4llvm13AtomicRMWInst12getOperationEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst12getOperationEv">getOperation</a>();</td></tr>
<tr><th id="286">286</th><td>        <b>if</b> (<a class="local col4 ref" href="#84ValueSize" title='ValueSize' data-ref="84ValueSize" data-ref-filename="84ValueSize">ValueSize</a> &lt; <a class="local col3 ref" href="#83MinCASSize" title='MinCASSize' data-ref="83MinCASSize" data-ref-filename="83MinCASSize">MinCASSize</a> &amp;&amp;</td></tr>
<tr><th id="287">287</th><td>            (<a class="local col5 ref" href="#85Op" title='Op' data-ref="85Op" data-ref-filename="85Op">Op</a> == <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Or" title='llvm::AtomicRMWInst::Or' data-ref="llvm::AtomicRMWInst::Or" data-ref-filename="llvm..AtomicRMWInst..Or">Or</a> || <a class="local col5 ref" href="#85Op" title='Op' data-ref="85Op" data-ref-filename="85Op">Op</a> == <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Xor" title='llvm::AtomicRMWInst::Xor' data-ref="llvm::AtomicRMWInst::Xor" data-ref-filename="llvm..AtomicRMWInst..Xor">Xor</a> ||</td></tr>
<tr><th id="288">288</th><td>             <a class="local col5 ref" href="#85Op" title='Op' data-ref="85Op" data-ref-filename="85Op">Op</a> == <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::And" title='llvm::AtomicRMWInst::And' data-ref="llvm::AtomicRMWInst::And" data-ref-filename="llvm..AtomicRMWInst..And">And</a>)) {</td></tr>
<tr><th id="289">289</th><td>          <a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a> = <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand22widenPartwordAtomicRMWEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::widenPartwordAtomicRMW' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand22widenPartwordAtomicRMWEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand22widenPartwordAtomicRMWEPN4llvm13AtomicRMWInstE">widenPartwordAtomicRMW</a>(<a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a>);</td></tr>
<tr><th id="290">290</th><td>          <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a> = <b>true</b>;</td></tr>
<tr><th id="291">291</th><td>        }</td></tr>
<tr><th id="292">292</th><td></td></tr>
<tr><th id="293">293</th><td>        <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a> |= <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand18tryExpandAtomicRMWEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::tryExpandAtomicRMW' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand18tryExpandAtomicRMWEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand18tryExpandAtomicRMWEPN4llvm13AtomicRMWInstE">tryExpandAtomicRMW</a>(<a class="local col0 ref" href="#80RMWI" title='RMWI' data-ref="80RMWI" data-ref-filename="80RMWI">RMWI</a>);</td></tr>
<tr><th id="294">294</th><td>      }</td></tr>
<tr><th id="295">295</th><td>    } <b>else</b> <b>if</b> (<a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a>) {</td></tr>
<tr><th id="296">296</th><td>      <i>// TODO: when we're ready to make the change at the IR level, we can</i></td></tr>
<tr><th id="297">297</th><td><i>      // extend convertCmpXchgToInteger for floating point too.</i></td></tr>
<tr><th id="298">298</th><td>      <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(!CASI-&gt;getCompareOperand()-&gt;getType()-&gt;isFloatingPointTy() &amp;&amp;</td></tr>
<tr><th id="299">299</th><td>             <q>"unimplemented - floating point not legal at IR level"</q>);</td></tr>
<tr><th id="300">300</th><td>      <b>if</b> (<a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" title='llvm::AtomicCmpXchgInst::getCompareOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv">getCompareOperand</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type11isPointerTyEv" title='llvm::Type::isPointerTy' data-ref="_ZNK4llvm4Type11isPointerTyEv" data-ref-filename="_ZNK4llvm4Type11isPointerTyEv">isPointerTy</a>() ) {</td></tr>
<tr><th id="301">301</th><td>        <i>// TODO: add a TLI hook to control this so that each target can</i></td></tr>
<tr><th id="302">302</th><td><i>        // convert to lowering the original type one at a time.</i></td></tr>
<tr><th id="303">303</th><td>        <a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a> = <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand27convertCmpXchgToIntegerTypeEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::convertCmpXchgToIntegerType' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand27convertCmpXchgToIntegerTypeEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand27convertCmpXchgToIntegerTypeEPN4llvm17AtomicCmpXchgInstE">convertCmpXchgToIntegerType</a>(<a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a>);</td></tr>
<tr><th id="304">304</th><td>        <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(CASI-&gt;getCompareOperand()-&gt;getType()-&gt;isIntegerTy() &amp;&amp;</td></tr>
<tr><th id="305">305</th><td>               <q>"invariant broken"</q>);</td></tr>
<tr><th id="306">306</th><td>        <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a> = <b>true</b>;</td></tr>
<tr><th id="307">307</th><td>      }</td></tr>
<tr><th id="308">308</th><td></td></tr>
<tr><th id="309">309</th><td>      <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a> |= <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand22tryExpandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::tryExpandAtomicCmpXchg' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand22tryExpandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand22tryExpandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE">tryExpandAtomicCmpXchg</a>(<a class="local col1 ref" href="#81CASI" title='CASI' data-ref="81CASI" data-ref-filename="81CASI">CASI</a>);</td></tr>
<tr><th id="310">310</th><td>    }</td></tr>
<tr><th id="311">311</th><td>  }</td></tr>
<tr><th id="312">312</th><td>  <b>return</b> <a class="local col6 ref" href="#76MadeChange" title='MadeChange' data-ref="76MadeChange" data-ref-filename="76MadeChange">MadeChange</a>;</td></tr>
<tr><th id="313">313</th><td>}</td></tr>
<tr><th id="314">314</th><td></td></tr>
<tr><th id="315">315</th><td><em>bool</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand21bracketInstWithFencesEPN4llvm11InstructionENS1_14AtomicOrderingE" title='(anonymous namespace)::AtomicExpand::bracketInstWithFences' data-type='bool (anonymous namespace)::AtomicExpand::bracketInstWithFences(llvm::Instruction * I, llvm::AtomicOrdering Order)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand21bracketInstWithFencesEPN4llvm11InstructionENS1_14AtomicOrderingE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand21bracketInstWithFencesEPN4llvm11InstructionENS1_14AtomicOrderingE">bracketInstWithFences</dfn>(<a class="type" href="../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col6 decl" id="86I" title='I' data-type='llvm::Instruction *' data-ref="86I" data-ref-filename="86I">I</dfn>, <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col7 decl" id="87Order" title='Order' data-type='llvm::AtomicOrdering' data-ref="87Order" data-ref-filename="87Order">Order</dfn>) {</td></tr>
<tr><th id="316">316</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col8 decl" id="88Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="88Builder" data-ref-filename="88Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col6 ref" href="#86I" title='I' data-ref="86I" data-ref-filename="86I">I</a>);</td></tr>
<tr><th id="317">317</th><td></td></tr>
<tr><th id="318">318</th><td>  <em>auto</em> <dfn class="local col9 decl" id="89LeadingFence" title='LeadingFence' data-type='llvm::Instruction *' data-ref="89LeadingFence" data-ref-filename="89LeadingFence">LeadingFence</dfn> = <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase16emitLeadingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE" title='llvm::TargetLoweringBase::emitLeadingFence' data-ref="_ZNK4llvm18TargetLoweringBase16emitLeadingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE" data-ref-filename="_ZNK4llvm18TargetLoweringBase16emitLeadingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE">emitLeadingFence</a>(<span class='refarg'><a class="local col8 ref" href="#88Builder" title='Builder' data-ref="88Builder" data-ref-filename="88Builder">Builder</a></span>, <a class="local col6 ref" href="#86I" title='I' data-ref="86I" data-ref-filename="86I">I</a>, <a class="local col7 ref" href="#87Order" title='Order' data-ref="87Order" data-ref-filename="87Order">Order</a>);</td></tr>
<tr><th id="319">319</th><td></td></tr>
<tr><th id="320">320</th><td>  <em>auto</em> <dfn class="local col0 decl" id="90TrailingFence" title='TrailingFence' data-type='llvm::Instruction *' data-ref="90TrailingFence" data-ref-filename="90TrailingFence">TrailingFence</dfn> = <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase17emitTrailingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE" title='llvm::TargetLoweringBase::emitTrailingFence' data-ref="_ZNK4llvm18TargetLoweringBase17emitTrailingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE" data-ref-filename="_ZNK4llvm18TargetLoweringBase17emitTrailingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE">emitTrailingFence</a>(<span class='refarg'><a class="local col8 ref" href="#88Builder" title='Builder' data-ref="88Builder" data-ref-filename="88Builder">Builder</a></span>, <a class="local col6 ref" href="#86I" title='I' data-ref="86I" data-ref-filename="86I">I</a>, <a class="local col7 ref" href="#87Order" title='Order' data-ref="87Order" data-ref-filename="87Order">Order</a>);</td></tr>
<tr><th id="321">321</th><td>  <i>// We have a guard here because not every atomic operation generates a</i></td></tr>
<tr><th id="322">322</th><td><i>  // trailing fence.</i></td></tr>
<tr><th id="323">323</th><td>  <b>if</b> (<a class="local col0 ref" href="#90TrailingFence" title='TrailingFence' data-ref="90TrailingFence" data-ref-filename="90TrailingFence">TrailingFence</a>)</td></tr>
<tr><th id="324">324</th><td>    <a class="local col0 ref" href="#90TrailingFence" title='TrailingFence' data-ref="90TrailingFence" data-ref-filename="90TrailingFence">TrailingFence</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9moveAfterEPS0_" title='llvm::Instruction::moveAfter' data-ref="_ZN4llvm11Instruction9moveAfterEPS0_" data-ref-filename="_ZN4llvm11Instruction9moveAfterEPS0_">moveAfter</a>(<a class="local col6 ref" href="#86I" title='I' data-ref="86I" data-ref-filename="86I">I</a>);</td></tr>
<tr><th id="325">325</th><td></td></tr>
<tr><th id="326">326</th><td>  <b>return</b> (<a class="local col9 ref" href="#89LeadingFence" title='LeadingFence' data-ref="89LeadingFence" data-ref-filename="89LeadingFence">LeadingFence</a> || <a class="local col0 ref" href="#90TrailingFence" title='TrailingFence' data-ref="90TrailingFence" data-ref-filename="90TrailingFence">TrailingFence</a>);</td></tr>
<tr><th id="327">327</th><td>}</td></tr>
<tr><th id="328">328</th><td></td></tr>
<tr><th id="329">329</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE">/// Get the iX type with the same bitwidth as T.</i></td></tr>
<tr><th id="330">330</th><td><a class="type" href="../../include/llvm/IR/DerivedTypes.h.html#llvm::IntegerType" title='llvm::IntegerType' data-ref="llvm::IntegerType" data-ref-filename="llvm..IntegerType">IntegerType</a> *<a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE" title='(anonymous namespace)::AtomicExpand::getCorrespondingIntegerType' data-type='llvm::IntegerType * (anonymous namespace)::AtomicExpand::getCorrespondingIntegerType(llvm::Type * T, const llvm::DataLayout &amp; DL)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE">getCorrespondingIntegerType</dfn>(<a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col1 decl" id="91T" title='T' data-type='llvm::Type *' data-ref="91T" data-ref-filename="91T">T</dfn>,</td></tr>
<tr><th id="331">331</th><td>                                                       <em>const</em> <a class="type" href="../../include/llvm/IR/DataLayout.h.html#llvm::DataLayout" title='llvm::DataLayout' data-ref="llvm::DataLayout" data-ref-filename="llvm..DataLayout">DataLayout</a> &amp;<dfn class="local col2 decl" id="92DL" title='DL' data-type='const llvm::DataLayout &amp;' data-ref="92DL" data-ref-filename="92DL">DL</dfn>) {</td></tr>
<tr><th id="332">332</th><td>  <a class="type" href="../../include/llvm/CodeGen/ValueTypes.h.html#llvm::EVT" title='llvm::EVT' data-ref="llvm::EVT" data-ref-filename="llvm..EVT">EVT</a> <dfn class="local col3 decl" id="93VT" title='VT' data-type='llvm::EVT' data-ref="93VT" data-ref-filename="93VT">VT</dfn> = <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase15getMemValueTypeERKNS_10DataLayoutEPNS_4TypeEb" title='llvm::TargetLoweringBase::getMemValueType' data-ref="_ZNK4llvm18TargetLoweringBase15getMemValueTypeERKNS_10DataLayoutEPNS_4TypeEb" data-ref-filename="_ZNK4llvm18TargetLoweringBase15getMemValueTypeERKNS_10DataLayoutEPNS_4TypeEb">getMemValueType</a>(<a class="local col2 ref" href="#92DL" title='DL' data-ref="92DL" data-ref-filename="92DL">DL</a>, <a class="local col1 ref" href="#91T" title='T' data-ref="91T" data-ref-filename="91T">T</a>);</td></tr>
<tr><th id="333">333</th><td>  <em>unsigned</em> <dfn class="local col4 decl" id="94BitWidth" title='BitWidth' data-type='unsigned int' data-ref="94BitWidth" data-ref-filename="94BitWidth">BitWidth</dfn> = <a class="ref fn fake" href="../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col3 ref" href="#93VT" title='VT' data-ref="93VT" data-ref-filename="93VT">VT</a>.<a class="ref fn" href="../../include/llvm/CodeGen/ValueTypes.h.html#_ZNK4llvm3EVT18getStoreSizeInBitsEv" title='llvm::EVT::getStoreSizeInBits' data-ref="_ZNK4llvm3EVT18getStoreSizeInBitsEv" data-ref-filename="_ZNK4llvm3EVT18getStoreSizeInBitsEv">getStoreSizeInBits</a>();</td></tr>
<tr><th id="334">334</th><td>  <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(BitWidth == VT.getSizeInBits() &amp;&amp; <q>"must be a power of two"</q>);</td></tr>
<tr><th id="335">335</th><td>  <b>return</b> <a class="type" href="../../include/llvm/IR/DerivedTypes.h.html#llvm::IntegerType" title='llvm::IntegerType' data-ref="llvm::IntegerType" data-ref-filename="llvm..IntegerType">IntegerType</a>::<a class="ref fn" href="../../include/llvm/IR/DerivedTypes.h.html#_ZN4llvm11IntegerType3getERNS_11LLVMContextEj" title='llvm::IntegerType::get' data-ref="_ZN4llvm11IntegerType3getERNS_11LLVMContextEj" data-ref-filename="_ZN4llvm11IntegerType3getERNS_11LLVMContextEj">get</a>(<span class='refarg'><a class="local col1 ref" href="#91T" title='T' data-ref="91T" data-ref-filename="91T">T</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type10getContextEv" title='llvm::Type::getContext' data-ref="_ZNK4llvm4Type10getContextEv" data-ref-filename="_ZNK4llvm4Type10getContextEv">getContext</a>()</span>, <a class="local col4 ref" href="#94BitWidth" title='BitWidth' data-ref="94BitWidth" data-ref-filename="94BitWidth">BitWidth</a>);</td></tr>
<tr><th id="336">336</th><td>}</td></tr>
<tr><th id="337">337</th><td></td></tr>
<tr><th id="338">338</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand30convertAtomicLoadToIntegerTypeEPN4llvm8LoadInstE">/// Convert an atomic load of a non-integral type to an integer load of the</i></td></tr>
<tr><th id="339">339</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand30convertAtomicLoadToIntegerTypeEPN4llvm8LoadInstE">/// equivalent bitwidth.  See the function comment on</i></td></tr>
<tr><th id="340">340</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand30convertAtomicLoadToIntegerTypeEPN4llvm8LoadInstE">/// convertAtomicStoreToIntegerType for background.</i></td></tr>
<tr><th id="341">341</th><td><a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand30convertAtomicLoadToIntegerTypeEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::convertAtomicLoadToIntegerType' data-type='llvm::LoadInst * (anonymous namespace)::AtomicExpand::convertAtomicLoadToIntegerType(llvm::LoadInst * LI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand30convertAtomicLoadToIntegerTypeEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand30convertAtomicLoadToIntegerTypeEPN4llvm8LoadInstE">convertAtomicLoadToIntegerType</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<dfn class="local col5 decl" id="95LI" title='LI' data-type='llvm::LoadInst *' data-ref="95LI" data-ref-filename="95LI">LI</dfn>) {</td></tr>
<tr><th id="342">342</th><td>  <em>auto</em> *<dfn class="local col6 decl" id="96M" title='M' data-type='llvm::Module *' data-ref="96M" data-ref-filename="96M">M</dfn> = <a class="local col5 ref" href="#95LI" title='LI' data-ref="95LI" data-ref-filename="95LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getModuleEv" title='llvm::Instruction::getModule' data-ref="_ZN4llvm11Instruction9getModuleEv" data-ref-filename="_ZN4llvm11Instruction9getModuleEv">getModule</a>();</td></tr>
<tr><th id="343">343</th><td>  <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col7 decl" id="97NewTy" title='NewTy' data-type='llvm::Type *' data-ref="97NewTy" data-ref-filename="97NewTy">NewTy</dfn> = <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE" title='(anonymous namespace)::AtomicExpand::getCorrespondingIntegerType' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE">getCorrespondingIntegerType</a>(<a class="local col5 ref" href="#95LI" title='LI' data-ref="95LI" data-ref-filename="95LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(),</td></tr>
<tr><th id="344">344</th><td>                                            <a class="local col6 ref" href="#96M" title='M' data-ref="96M" data-ref-filename="96M">M</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Module.h.html#_ZNK4llvm6Module13getDataLayoutEv" title='llvm::Module::getDataLayout' data-ref="_ZNK4llvm6Module13getDataLayoutEv" data-ref-filename="_ZNK4llvm6Module13getDataLayoutEv">getDataLayout</a>());</td></tr>
<tr><th id="345">345</th><td></td></tr>
<tr><th id="346">346</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col8 decl" id="98Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="98Builder" data-ref-filename="98Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col5 ref" href="#95LI" title='LI' data-ref="95LI" data-ref-filename="95LI">LI</a>);</td></tr>
<tr><th id="347">347</th><td></td></tr>
<tr><th id="348">348</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="99Addr" title='Addr' data-type='llvm::Value *' data-ref="99Addr" data-ref-filename="99Addr">Addr</dfn> = <a class="local col5 ref" href="#95LI" title='LI' data-ref="95LI" data-ref-filename="95LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm8LoadInst17getPointerOperandEv" title='llvm::LoadInst::getPointerOperand' data-ref="_ZN4llvm8LoadInst17getPointerOperandEv" data-ref-filename="_ZN4llvm8LoadInst17getPointerOperandEv">getPointerOperand</a>();</td></tr>
<tr><th id="349">349</th><td>  <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col0 decl" id="100PT" title='PT' data-type='llvm::Type *' data-ref="100PT" data-ref-filename="100PT">PT</dfn> = <a class="type" href="../../include/llvm/IR/DerivedTypes.h.html#llvm::PointerType" title='llvm::PointerType' data-ref="llvm::PointerType" data-ref-filename="llvm..PointerType">PointerType</a>::<a class="ref fn" href="../../include/llvm/IR/DerivedTypes.h.html#_ZN4llvm11PointerType3getEPNS_4TypeEj" title='llvm::PointerType::get' data-ref="_ZN4llvm11PointerType3getEPNS_4TypeEj" data-ref-filename="_ZN4llvm11PointerType3getEPNS_4TypeEj">get</a>(<a class="local col7 ref" href="#97NewTy" title='NewTy' data-ref="97NewTy" data-ref-filename="97NewTy">NewTy</a>,</td></tr>
<tr><th id="350">350</th><td>                              <a class="local col9 ref" href="#99Addr" title='Addr' data-ref="99Addr" data-ref-filename="99Addr">Addr</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPointerAddressSpaceEv" title='llvm::Type::getPointerAddressSpace' data-ref="_ZNK4llvm4Type22getPointerAddressSpaceEv" data-ref-filename="_ZNK4llvm4Type22getPointerAddressSpaceEv">getPointerAddressSpace</a>());</td></tr>
<tr><th id="351">351</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="101NewAddr" title='NewAddr' data-type='llvm::Value *' data-ref="101NewAddr" data-ref-filename="101NewAddr">NewAddr</dfn> = <a class="local col8 ref" href="#98Builder" title='Builder' data-ref="98Builder" data-ref-filename="98Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitCast' data-ref="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitCast</a>(<a class="local col9 ref" href="#99Addr" title='Addr' data-ref="99Addr" data-ref-filename="99Addr">Addr</a>, <a class="local col0 ref" href="#100PT" title='PT' data-ref="100PT" data-ref-filename="100PT">PT</a>);</td></tr>
<tr><th id="352">352</th><td></td></tr>
<tr><th id="353">353</th><td>  <em>auto</em> *<dfn class="local col2 decl" id="102NewLI" title='NewLI' data-type='llvm::LoadInst *' data-ref="102NewLI" data-ref-filename="102NewLI">NewLI</dfn> = <a class="local col8 ref" href="#98Builder" title='Builder' data-ref="98Builder" data-ref-filename="98Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateLoadEPNS_4TypeEPNS_5ValueERKNS_5TwineE" title='llvm::IRBuilderBase::CreateLoad' data-ref="_ZN4llvm13IRBuilderBase10CreateLoadEPNS_4TypeEPNS_5ValueERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateLoadEPNS_4TypeEPNS_5ValueERKNS_5TwineE">CreateLoad</a>(<a class="local col7 ref" href="#97NewTy" title='NewTy' data-ref="97NewTy" data-ref-filename="97NewTy">NewTy</a>, <a class="local col1 ref" href="#101NewAddr" title='NewAddr' data-ref="101NewAddr" data-ref-filename="101NewAddr">NewAddr</a>);</td></tr>
<tr><th id="354">354</th><td>  <a class="local col2 ref" href="#102NewLI" title='NewLI' data-ref="102NewLI" data-ref-filename="102NewLI">NewLI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm8LoadInst12setAlignmentENS_5AlignE" title='llvm::LoadInst::setAlignment' data-ref="_ZN4llvm8LoadInst12setAlignmentENS_5AlignE" data-ref-filename="_ZN4llvm8LoadInst12setAlignmentENS_5AlignE">setAlignment</a>(<a class="local col5 ref" href="#95LI" title='LI' data-ref="95LI" data-ref-filename="95LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm8LoadInst8getAlignEv" title='llvm::LoadInst::getAlign' data-ref="_ZNK4llvm8LoadInst8getAlignEv" data-ref-filename="_ZNK4llvm8LoadInst8getAlignEv">getAlign</a>());</td></tr>
<tr><th id="355">355</th><td>  <a class="local col2 ref" href="#102NewLI" title='NewLI' data-ref="102NewLI" data-ref-filename="102NewLI">NewLI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm8LoadInst11setVolatileEb" title='llvm::LoadInst::setVolatile' data-ref="_ZN4llvm8LoadInst11setVolatileEb" data-ref-filename="_ZN4llvm8LoadInst11setVolatileEb">setVolatile</a>(<a class="local col5 ref" href="#95LI" title='LI' data-ref="95LI" data-ref-filename="95LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm8LoadInst10isVolatileEv" title='llvm::LoadInst::isVolatile' data-ref="_ZNK4llvm8LoadInst10isVolatileEv" data-ref-filename="_ZNK4llvm8LoadInst10isVolatileEv">isVolatile</a>());</td></tr>
<tr><th id="356">356</th><td>  <a class="local col2 ref" href="#102NewLI" title='NewLI' data-ref="102NewLI" data-ref-filename="102NewLI">NewLI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm8LoadInst9setAtomicENS_14AtomicOrderingEh" title='llvm::LoadInst::setAtomic' data-ref="_ZN4llvm8LoadInst9setAtomicENS_14AtomicOrderingEh" data-ref-filename="_ZN4llvm8LoadInst9setAtomicENS_14AtomicOrderingEh">setAtomic</a>(<a class="local col5 ref" href="#95LI" title='LI' data-ref="95LI" data-ref-filename="95LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm8LoadInst11getOrderingEv" title='llvm::LoadInst::getOrdering' data-ref="_ZNK4llvm8LoadInst11getOrderingEv" data-ref-filename="_ZNK4llvm8LoadInst11getOrderingEv">getOrdering</a>(), <a class="local col5 ref" href="#95LI" title='LI' data-ref="95LI" data-ref-filename="95LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm8LoadInst14getSyncScopeIDEv" title='llvm::LoadInst::getSyncScopeID' data-ref="_ZNK4llvm8LoadInst14getSyncScopeIDEv" data-ref-filename="_ZNK4llvm8LoadInst14getSyncScopeIDEv">getSyncScopeID</a>());</td></tr>
<tr><th id="357">357</th><td>  <a class="macro" href="../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"Replaced "</q> &lt;&lt; *LI &lt;&lt; <q>" with "</q> &lt;&lt; *NewLI &lt;&lt; <q>"\n"</q>);</td></tr>
<tr><th id="358">358</th><td></td></tr>
<tr><th id="359">359</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="103NewVal" title='NewVal' data-type='llvm::Value *' data-ref="103NewVal" data-ref-filename="103NewVal">NewVal</dfn> = <a class="local col8 ref" href="#98Builder" title='Builder' data-ref="98Builder" data-ref-filename="98Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitCast' data-ref="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitCast</a>(<a class="local col2 ref" href="#102NewLI" title='NewLI' data-ref="102NewLI" data-ref-filename="102NewLI">NewLI</a>, <a class="local col5 ref" href="#95LI" title='LI' data-ref="95LI" data-ref-filename="95LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="360">360</th><td>  <a class="local col5 ref" href="#95LI" title='LI' data-ref="95LI" data-ref-filename="95LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col3 ref" href="#103NewVal" title='NewVal' data-ref="103NewVal" data-ref-filename="103NewVal">NewVal</a>);</td></tr>
<tr><th id="361">361</th><td>  <a class="local col5 ref" href="#95LI" title='LI' data-ref="95LI" data-ref-filename="95LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="362">362</th><td>  <b>return</b> <a class="local col2 ref" href="#102NewLI" title='NewLI' data-ref="102NewLI" data-ref-filename="102NewLI">NewLI</a>;</td></tr>
<tr><th id="363">363</th><td>}</td></tr>
<tr><th id="364">364</th><td></td></tr>
<tr><th id="365">365</th><td><em>bool</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand19tryExpandAtomicLoadEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::tryExpandAtomicLoad' data-type='bool (anonymous namespace)::AtomicExpand::tryExpandAtomicLoad(llvm::LoadInst * LI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand19tryExpandAtomicLoadEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand19tryExpandAtomicLoadEPN4llvm8LoadInstE">tryExpandAtomicLoad</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<dfn class="local col4 decl" id="104LI" title='LI' data-type='llvm::LoadInst *' data-ref="104LI" data-ref-filename="104LI">LI</dfn>) {</td></tr>
<tr><th id="366">366</th><td>  <b>switch</b> (<a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase26shouldExpandAtomicLoadInIREPNS_8LoadInstE" title='llvm::TargetLoweringBase::shouldExpandAtomicLoadInIR' data-ref="_ZNK4llvm18TargetLoweringBase26shouldExpandAtomicLoadInIREPNS_8LoadInstE" data-ref-filename="_ZNK4llvm18TargetLoweringBase26shouldExpandAtomicLoadInIREPNS_8LoadInstE">shouldExpandAtomicLoadInIR</a>(<a class="local col4 ref" href="#104LI" title='LI' data-ref="104LI" data-ref-filename="104LI">LI</a>)) {</td></tr>
<tr><th id="367">367</th><td>  <b>case</b> <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::None" title='llvm::TargetLoweringBase::AtomicExpansionKind::None' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::None" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..None">None</a>:</td></tr>
<tr><th id="368">368</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="369">369</th><td>  <b>case</b> <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::LLSC" title='llvm::TargetLoweringBase::AtomicExpansionKind::LLSC' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::LLSC" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..LLSC">LLSC</a>:</td></tr>
<tr><th id="370">370</th><td>    <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicOpToLLSCEPN4llvm11InstructionEPNS1_4TypeEPNS1_5ValueENS1_14AtomicOrderingENS1_12function_refIFS7_RNS1_9IR13568581" title='(anonymous namespace)::AtomicExpand::expandAtomicOpToLLSC' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicOpToLLSCEPN4llvm11InstructionEPNS1_4TypeEPNS1_5ValueENS1_14AtomicOrderingENS1_12function_refIFS7_RNS1_9IR13568581" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicOpToLLSCEPN4llvm11InstructionEPNS1_4TypeEPNS1_5ValueENS1_14AtomicOrderingENS1_12function_refIFS7_RNS1_9IR13568581">expandAtomicOpToLLSC</a>(</td></tr>
<tr><th id="371">371</th><td>        <a class="local col4 ref" href="#104LI" title='LI' data-ref="104LI" data-ref-filename="104LI">LI</a>, <a class="local col4 ref" href="#104LI" title='LI' data-ref="104LI" data-ref-filename="104LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col4 ref" href="#104LI" title='LI' data-ref="104LI" data-ref-filename="104LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm8LoadInst17getPointerOperandEv" title='llvm::LoadInst::getPointerOperand' data-ref="_ZN4llvm8LoadInst17getPointerOperandEv" data-ref-filename="_ZN4llvm8LoadInst17getPointerOperandEv">getPointerOperand</a>(), <a class="local col4 ref" href="#104LI" title='LI' data-ref="104LI" data-ref-filename="104LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm8LoadInst11getOrderingEv" title='llvm::LoadInst::getOrdering' data-ref="_ZNK4llvm8LoadInst11getOrderingEv" data-ref-filename="_ZNK4llvm8LoadInst11getOrderingEv">getOrdering</a>(),</td></tr>
<tr><th id="372">372</th><td>        <a class="tu ref fn fake" href="../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-use='c' data-ref="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" data-ref-filename="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931"></a>[](<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col5 decl" id="105Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="105Builder" data-ref-filename="105Builder">Builder</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="106Loaded" title='Loaded' data-type='llvm::Value *' data-ref="106Loaded" data-ref-filename="106Loaded">Loaded</dfn>) { <b>return</b> <a class="local col6 ref" href="#106Loaded" title='Loaded' data-ref="106Loaded" data-ref-filename="106Loaded">Loaded</a>; });</td></tr>
<tr><th id="373">373</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="374">374</th><td>  <b>case</b> <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::LLOnly" title='llvm::TargetLoweringBase::AtomicExpansionKind::LLOnly' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::LLOnly" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..LLOnly">LLOnly</a>:</td></tr>
<tr><th id="375">375</th><td>    <b>return</b> <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicLoadToLLEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicLoadToLL' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicLoadToLLEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicLoadToLLEPN4llvm8LoadInstE">expandAtomicLoadToLL</a>(<a class="local col4 ref" href="#104LI" title='LI' data-ref="104LI" data-ref-filename="104LI">LI</a>);</td></tr>
<tr><th id="376">376</th><td>  <b>case</b> <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::CmpXChg" title='llvm::TargetLoweringBase::AtomicExpansionKind::CmpXChg' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::CmpXChg" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..CmpXChg">CmpXChg</a>:</td></tr>
<tr><th id="377">377</th><td>    <b>return</b> <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToCmpXchgEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicLoadToCmpXchg' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToCmpXchgEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToCmpXchgEPN4llvm8LoadInstE">expandAtomicLoadToCmpXchg</a>(<a class="local col4 ref" href="#104LI" title='LI' data-ref="104LI" data-ref-filename="104LI">LI</a>);</td></tr>
<tr><th id="378">378</th><td>  <b>default</b>:</td></tr>
<tr><th id="379">379</th><td>    <a class="macro" href="../../include/llvm/Support/ErrorHandling.h.html#139" title="__builtin_unreachable()" data-ref="_M/llvm_unreachable">llvm_unreachable</a>(<q>"Unhandled case in tryExpandAtomicLoad"</q>);</td></tr>
<tr><th id="380">380</th><td>  }</td></tr>
<tr><th id="381">381</th><td>}</td></tr>
<tr><th id="382">382</th><td></td></tr>
<tr><th id="383">383</th><td><em>bool</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicLoadToLLEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicLoadToLL' data-type='bool (anonymous namespace)::AtomicExpand::expandAtomicLoadToLL(llvm::LoadInst * LI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicLoadToLLEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicLoadToLLEPN4llvm8LoadInstE">expandAtomicLoadToLL</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<dfn class="local col7 decl" id="107LI" title='LI' data-type='llvm::LoadInst *' data-ref="107LI" data-ref-filename="107LI">LI</dfn>) {</td></tr>
<tr><th id="384">384</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col8 decl" id="108Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="108Builder" data-ref-filename="108Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col7 ref" href="#107LI" title='LI' data-ref="107LI" data-ref-filename="107LI">LI</a>);</td></tr>
<tr><th id="385">385</th><td></td></tr>
<tr><th id="386">386</th><td>  <i>// On some architectures, load-linked instructions are atomic for larger</i></td></tr>
<tr><th id="387">387</th><td><i>  // sizes than normal loads. For example, the only 64-bit load guaranteed</i></td></tr>
<tr><th id="388">388</th><td><i>  // to be single-copy atomic by ARM is an ldrexd (A3.5.3).</i></td></tr>
<tr><th id="389">389</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="109Val" title='Val' data-type='llvm::Value *' data-ref="109Val" data-ref-filename="109Val">Val</dfn> =</td></tr>
<tr><th id="390">390</th><td>      <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase14emitLoadLinkedERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueENS_14AtomicOrderingE" title='llvm::TargetLoweringBase::emitLoadLinked' data-ref="_ZNK4llvm18TargetLoweringBase14emitLoadLinkedERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueENS_14AtomicOrderingE" data-ref-filename="_ZNK4llvm18TargetLoweringBase14emitLoadLinkedERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueENS_14AtomicOrderingE">emitLoadLinked</a>(<span class='refarg'><a class="local col8 ref" href="#108Builder" title='Builder' data-ref="108Builder" data-ref-filename="108Builder">Builder</a></span>, <a class="local col7 ref" href="#107LI" title='LI' data-ref="107LI" data-ref-filename="107LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm8LoadInst17getPointerOperandEv" title='llvm::LoadInst::getPointerOperand' data-ref="_ZN4llvm8LoadInst17getPointerOperandEv" data-ref-filename="_ZN4llvm8LoadInst17getPointerOperandEv">getPointerOperand</a>(), <a class="local col7 ref" href="#107LI" title='LI' data-ref="107LI" data-ref-filename="107LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm8LoadInst11getOrderingEv" title='llvm::LoadInst::getOrdering' data-ref="_ZNK4llvm8LoadInst11getOrderingEv" data-ref-filename="_ZNK4llvm8LoadInst11getOrderingEv">getOrdering</a>());</td></tr>
<tr><th id="391">391</th><td>  <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase33emitAtomicCmpXchgNoStoreLLBalanceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEE" title='llvm::TargetLoweringBase::emitAtomicCmpXchgNoStoreLLBalance' data-ref="_ZNK4llvm18TargetLoweringBase33emitAtomicCmpXchgNoStoreLLBalanceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEE" data-ref-filename="_ZNK4llvm18TargetLoweringBase33emitAtomicCmpXchgNoStoreLLBalanceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEE">emitAtomicCmpXchgNoStoreLLBalance</a>(<span class='refarg'><a class="local col8 ref" href="#108Builder" title='Builder' data-ref="108Builder" data-ref-filename="108Builder">Builder</a></span>);</td></tr>
<tr><th id="392">392</th><td></td></tr>
<tr><th id="393">393</th><td>  <a class="local col7 ref" href="#107LI" title='LI' data-ref="107LI" data-ref-filename="107LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col9 ref" href="#109Val" title='Val' data-ref="109Val" data-ref-filename="109Val">Val</a>);</td></tr>
<tr><th id="394">394</th><td>  <a class="local col7 ref" href="#107LI" title='LI' data-ref="107LI" data-ref-filename="107LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="395">395</th><td></td></tr>
<tr><th id="396">396</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="397">397</th><td>}</td></tr>
<tr><th id="398">398</th><td></td></tr>
<tr><th id="399">399</th><td><em>bool</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToCmpXchgEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicLoadToCmpXchg' data-type='bool (anonymous namespace)::AtomicExpand::expandAtomicLoadToCmpXchg(llvm::LoadInst * LI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToCmpXchgEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToCmpXchgEPN4llvm8LoadInstE">expandAtomicLoadToCmpXchg</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<dfn class="local col0 decl" id="110LI" title='LI' data-type='llvm::LoadInst *' data-ref="110LI" data-ref-filename="110LI">LI</dfn>) {</td></tr>
<tr><th id="400">400</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col1 decl" id="111Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="111Builder" data-ref-filename="111Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col0 ref" href="#110LI" title='LI' data-ref="110LI" data-ref-filename="110LI">LI</a>);</td></tr>
<tr><th id="401">401</th><td>  <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col2 decl" id="112Order" title='Order' data-type='llvm::AtomicOrdering' data-ref="112Order" data-ref-filename="112Order">Order</dfn> = <a class="local col0 ref" href="#110LI" title='LI' data-ref="110LI" data-ref-filename="110LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm8LoadInst11getOrderingEv" title='llvm::LoadInst::getOrdering' data-ref="_ZNK4llvm8LoadInst11getOrderingEv" data-ref-filename="_ZNK4llvm8LoadInst11getOrderingEv">getOrdering</a>();</td></tr>
<tr><th id="402">402</th><td>  <b>if</b> (<a class="local col2 ref" href="#112Order" title='Order' data-ref="112Order" data-ref-filename="112Order">Order</a> == <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::Unordered" title='llvm::AtomicOrdering::Unordered' data-ref="llvm::AtomicOrdering::Unordered" data-ref-filename="llvm..AtomicOrdering..Unordered">Unordered</a>)</td></tr>
<tr><th id="403">403</th><td>    <a class="local col2 ref" href="#112Order" title='Order' data-ref="112Order" data-ref-filename="112Order">Order</a> = <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::Monotonic" title='llvm::AtomicOrdering::Monotonic' data-ref="llvm::AtomicOrdering::Monotonic" data-ref-filename="llvm..AtomicOrdering..Monotonic">Monotonic</a>;</td></tr>
<tr><th id="404">404</th><td></td></tr>
<tr><th id="405">405</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="113Addr" title='Addr' data-type='llvm::Value *' data-ref="113Addr" data-ref-filename="113Addr">Addr</dfn> = <a class="local col0 ref" href="#110LI" title='LI' data-ref="110LI" data-ref-filename="110LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm8LoadInst17getPointerOperandEv" title='llvm::LoadInst::getPointerOperand' data-ref="_ZN4llvm8LoadInst17getPointerOperandEv" data-ref-filename="_ZN4llvm8LoadInst17getPointerOperandEv">getPointerOperand</a>();</td></tr>
<tr><th id="406">406</th><td>  <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col4 decl" id="114Ty" title='Ty' data-type='llvm::Type *' data-ref="114Ty" data-ref-filename="114Ty">Ty</dfn> = <a class="ref fn" href="../../include/llvm/Support/Casting.h.html#_ZN4llvm4castEPT0_" title='llvm::cast' data-ref="_ZN4llvm4castEPT0_" data-ref-filename="_ZN4llvm4castEPT0_">cast</a>&lt;<a class="type" href="../../include/llvm/IR/DerivedTypes.h.html#llvm::PointerType" title='llvm::PointerType' data-ref="llvm::PointerType" data-ref-filename="llvm..PointerType">PointerType</a>&gt;(<a class="local col3 ref" href="#113Addr" title='Addr' data-ref="113Addr" data-ref-filename="113Addr">Addr</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>())-&gt;<a class="ref fn" href="../../include/llvm/IR/DerivedTypes.h.html#_ZNK4llvm11PointerType14getElementTypeEv" title='llvm::PointerType::getElementType' data-ref="_ZNK4llvm11PointerType14getElementTypeEv" data-ref-filename="_ZNK4llvm11PointerType14getElementTypeEv">getElementType</a>();</td></tr>
<tr><th id="407">407</th><td>  <a class="type" href="../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col5 decl" id="115DummyVal" title='DummyVal' data-type='llvm::Constant *' data-ref="115DummyVal" data-ref-filename="115DummyVal">DummyVal</dfn> = <a class="type" href="../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a>::<a class="ref fn" href="../../include/llvm/IR/Constant.h.html#_ZN4llvm8Constant12getNullValueEPNS_4TypeE" title='llvm::Constant::getNullValue' data-ref="_ZN4llvm8Constant12getNullValueEPNS_4TypeE" data-ref-filename="_ZN4llvm8Constant12getNullValueEPNS_4TypeE">getNullValue</a>(<a class="local col4 ref" href="#114Ty" title='Ty' data-ref="114Ty" data-ref-filename="114Ty">Ty</a>);</td></tr>
<tr><th id="408">408</th><td></td></tr>
<tr><th id="409">409</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="116Pair" title='Pair' data-type='llvm::Value *' data-ref="116Pair" data-ref-filename="116Pair">Pair</dfn> = <a class="local col1 ref" href="#111Builder" title='Builder' data-ref="111Builder" data-ref-filename="111Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h" title='llvm::IRBuilderBase::CreateAtomicCmpXchg' data-ref="_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h" data-ref-filename="_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h">CreateAtomicCmpXchg</a>(</td></tr>
<tr><th id="410">410</th><td>      <a class="local col3 ref" href="#113Addr" title='Addr' data-ref="113Addr" data-ref-filename="113Addr">Addr</a>, <a class="local col5 ref" href="#115DummyVal" title='DummyVal' data-ref="115DummyVal" data-ref-filename="115DummyVal">DummyVal</a>, <a class="local col5 ref" href="#115DummyVal" title='DummyVal' data-ref="115DummyVal" data-ref-filename="115DummyVal">DummyVal</a>, <a class="local col2 ref" href="#112Order" title='Order' data-ref="112Order" data-ref-filename="112Order">Order</a>,</td></tr>
<tr><th id="411">411</th><td>      <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a>::<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst27getStrongestFailureOrderingENS_14AtomicOrderingE" title='llvm::AtomicCmpXchgInst::getStrongestFailureOrdering' data-ref="_ZN4llvm17AtomicCmpXchgInst27getStrongestFailureOrderingENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst27getStrongestFailureOrderingENS_14AtomicOrderingE">getStrongestFailureOrdering</a>(<a class="local col2 ref" href="#112Order" title='Order' data-ref="112Order" data-ref-filename="112Order">Order</a>));</td></tr>
<tr><th id="412">412</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="117Loaded" title='Loaded' data-type='llvm::Value *' data-ref="117Loaded" data-ref-filename="117Loaded">Loaded</dfn> = <a class="local col1 ref" href="#111Builder" title='Builder' data-ref="111Builder" data-ref-filename="111Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateExtractValue' data-ref="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE">CreateExtractValue</a>(<a class="local col6 ref" href="#116Pair" title='Pair' data-ref="116Pair" data-ref-filename="116Pair">Pair</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>0</var>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"loaded"</q>);</td></tr>
<tr><th id="413">413</th><td></td></tr>
<tr><th id="414">414</th><td>  <a class="local col0 ref" href="#110LI" title='LI' data-ref="110LI" data-ref-filename="110LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col7 ref" href="#117Loaded" title='Loaded' data-ref="117Loaded" data-ref-filename="117Loaded">Loaded</a>);</td></tr>
<tr><th id="415">415</th><td>  <a class="local col0 ref" href="#110LI" title='LI' data-ref="110LI" data-ref-filename="110LI">LI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="416">416</th><td></td></tr>
<tr><th id="417">417</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="418">418</th><td>}</td></tr>
<tr><th id="419">419</th><td></td></tr>
<tr><th id="420">420</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE">/// Convert an atomic store of a non-integral type to an integer store of the</i></td></tr>
<tr><th id="421">421</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE">/// equivalent bitwidth.  We used to not support floating point or vector</i></td></tr>
<tr><th id="422">422</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE">/// atomics in the IR at all.  The backends learned to deal with the bitcast</i></td></tr>
<tr><th id="423">423</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE">/// idiom because that was the only way of expressing the notion of a atomic</i></td></tr>
<tr><th id="424">424</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE">/// float or vector store.  The long term plan is to teach each backend to</i></td></tr>
<tr><th id="425">425</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE">/// instruction select from the original atomic store, but as a migration</i></td></tr>
<tr><th id="426">426</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE">/// mechanism, we convert back to the old format which the backends understand.</i></td></tr>
<tr><th id="427">427</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE">/// Each backend will need individual work to recognize the new format.</i></td></tr>
<tr><th id="428">428</th><td><a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a> *<a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE" title='(anonymous namespace)::AtomicExpand::convertAtomicStoreToIntegerType' data-type='llvm::StoreInst * (anonymous namespace)::AtomicExpand::convertAtomicStoreToIntegerType(llvm::StoreInst * SI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand31convertAtomicStoreToIntegerTypeEPN4llvm9StoreInstE">convertAtomicStoreToIntegerType</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a> *<dfn class="local col8 decl" id="118SI" title='SI' data-type='llvm::StoreInst *' data-ref="118SI" data-ref-filename="118SI">SI</dfn>) {</td></tr>
<tr><th id="429">429</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col9 decl" id="119Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="119Builder" data-ref-filename="119Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col8 ref" href="#118SI" title='SI' data-ref="118SI" data-ref-filename="118SI">SI</a>);</td></tr>
<tr><th id="430">430</th><td>  <em>auto</em> *<dfn class="local col0 decl" id="120M" title='M' data-type='llvm::Module *' data-ref="120M" data-ref-filename="120M">M</dfn> = <a class="local col8 ref" href="#118SI" title='SI' data-ref="118SI" data-ref-filename="118SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getModuleEv" title='llvm::Instruction::getModule' data-ref="_ZN4llvm11Instruction9getModuleEv" data-ref-filename="_ZN4llvm11Instruction9getModuleEv">getModule</a>();</td></tr>
<tr><th id="431">431</th><td>  <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col1 decl" id="121NewTy" title='NewTy' data-type='llvm::Type *' data-ref="121NewTy" data-ref-filename="121NewTy">NewTy</dfn> = <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE" title='(anonymous namespace)::AtomicExpand::getCorrespondingIntegerType' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE">getCorrespondingIntegerType</a>(<a class="local col8 ref" href="#118SI" title='SI' data-ref="118SI" data-ref-filename="118SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm9StoreInst15getValueOperandEv" title='llvm::StoreInst::getValueOperand' data-ref="_ZN4llvm9StoreInst15getValueOperandEv" data-ref-filename="_ZN4llvm9StoreInst15getValueOperandEv">getValueOperand</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(),</td></tr>
<tr><th id="432">432</th><td>                                            <a class="local col0 ref" href="#120M" title='M' data-ref="120M" data-ref-filename="120M">M</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Module.h.html#_ZNK4llvm6Module13getDataLayoutEv" title='llvm::Module::getDataLayout' data-ref="_ZNK4llvm6Module13getDataLayoutEv" data-ref-filename="_ZNK4llvm6Module13getDataLayoutEv">getDataLayout</a>());</td></tr>
<tr><th id="433">433</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="122NewVal" title='NewVal' data-type='llvm::Value *' data-ref="122NewVal" data-ref-filename="122NewVal">NewVal</dfn> = <a class="local col9 ref" href="#119Builder" title='Builder' data-ref="119Builder" data-ref-filename="119Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitCast' data-ref="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitCast</a>(<a class="local col8 ref" href="#118SI" title='SI' data-ref="118SI" data-ref-filename="118SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm9StoreInst15getValueOperandEv" title='llvm::StoreInst::getValueOperand' data-ref="_ZN4llvm9StoreInst15getValueOperandEv" data-ref-filename="_ZN4llvm9StoreInst15getValueOperandEv">getValueOperand</a>(), <a class="local col1 ref" href="#121NewTy" title='NewTy' data-ref="121NewTy" data-ref-filename="121NewTy">NewTy</a>);</td></tr>
<tr><th id="434">434</th><td></td></tr>
<tr><th id="435">435</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="123Addr" title='Addr' data-type='llvm::Value *' data-ref="123Addr" data-ref-filename="123Addr">Addr</dfn> = <a class="local col8 ref" href="#118SI" title='SI' data-ref="118SI" data-ref-filename="118SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm9StoreInst17getPointerOperandEv" title='llvm::StoreInst::getPointerOperand' data-ref="_ZN4llvm9StoreInst17getPointerOperandEv" data-ref-filename="_ZN4llvm9StoreInst17getPointerOperandEv">getPointerOperand</a>();</td></tr>
<tr><th id="436">436</th><td>  <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col4 decl" id="124PT" title='PT' data-type='llvm::Type *' data-ref="124PT" data-ref-filename="124PT">PT</dfn> = <a class="type" href="../../include/llvm/IR/DerivedTypes.h.html#llvm::PointerType" title='llvm::PointerType' data-ref="llvm::PointerType" data-ref-filename="llvm..PointerType">PointerType</a>::<a class="ref fn" href="../../include/llvm/IR/DerivedTypes.h.html#_ZN4llvm11PointerType3getEPNS_4TypeEj" title='llvm::PointerType::get' data-ref="_ZN4llvm11PointerType3getEPNS_4TypeEj" data-ref-filename="_ZN4llvm11PointerType3getEPNS_4TypeEj">get</a>(<a class="local col1 ref" href="#121NewTy" title='NewTy' data-ref="121NewTy" data-ref-filename="121NewTy">NewTy</a>,</td></tr>
<tr><th id="437">437</th><td>                              <a class="local col3 ref" href="#123Addr" title='Addr' data-ref="123Addr" data-ref-filename="123Addr">Addr</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPointerAddressSpaceEv" title='llvm::Type::getPointerAddressSpace' data-ref="_ZNK4llvm4Type22getPointerAddressSpaceEv" data-ref-filename="_ZNK4llvm4Type22getPointerAddressSpaceEv">getPointerAddressSpace</a>());</td></tr>
<tr><th id="438">438</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="125NewAddr" title='NewAddr' data-type='llvm::Value *' data-ref="125NewAddr" data-ref-filename="125NewAddr">NewAddr</dfn> = <a class="local col9 ref" href="#119Builder" title='Builder' data-ref="119Builder" data-ref-filename="119Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitCast' data-ref="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitCast</a>(<a class="local col3 ref" href="#123Addr" title='Addr' data-ref="123Addr" data-ref-filename="123Addr">Addr</a>, <a class="local col4 ref" href="#124PT" title='PT' data-ref="124PT" data-ref-filename="124PT">PT</a>);</td></tr>
<tr><th id="439">439</th><td></td></tr>
<tr><th id="440">440</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a> *<dfn class="local col6 decl" id="126NewSI" title='NewSI' data-type='llvm::StoreInst *' data-ref="126NewSI" data-ref-filename="126NewSI">NewSI</dfn> = <a class="local col9 ref" href="#119Builder" title='Builder' data-ref="119Builder" data-ref-filename="119Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateStoreEPNS_5ValueES2_b" title='llvm::IRBuilderBase::CreateStore' data-ref="_ZN4llvm13IRBuilderBase11CreateStoreEPNS_5ValueES2_b" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateStoreEPNS_5ValueES2_b">CreateStore</a>(<a class="local col2 ref" href="#122NewVal" title='NewVal' data-ref="122NewVal" data-ref-filename="122NewVal">NewVal</a>, <a class="local col5 ref" href="#125NewAddr" title='NewAddr' data-ref="125NewAddr" data-ref-filename="125NewAddr">NewAddr</a>);</td></tr>
<tr><th id="441">441</th><td>  <a class="local col6 ref" href="#126NewSI" title='NewSI' data-ref="126NewSI" data-ref-filename="126NewSI">NewSI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm9StoreInst12setAlignmentENS_5AlignE" title='llvm::StoreInst::setAlignment' data-ref="_ZN4llvm9StoreInst12setAlignmentENS_5AlignE" data-ref-filename="_ZN4llvm9StoreInst12setAlignmentENS_5AlignE">setAlignment</a>(<a class="local col8 ref" href="#118SI" title='SI' data-ref="118SI" data-ref-filename="118SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm9StoreInst8getAlignEv" title='llvm::StoreInst::getAlign' data-ref="_ZNK4llvm9StoreInst8getAlignEv" data-ref-filename="_ZNK4llvm9StoreInst8getAlignEv">getAlign</a>());</td></tr>
<tr><th id="442">442</th><td>  <a class="local col6 ref" href="#126NewSI" title='NewSI' data-ref="126NewSI" data-ref-filename="126NewSI">NewSI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm9StoreInst11setVolatileEb" title='llvm::StoreInst::setVolatile' data-ref="_ZN4llvm9StoreInst11setVolatileEb" data-ref-filename="_ZN4llvm9StoreInst11setVolatileEb">setVolatile</a>(<a class="local col8 ref" href="#118SI" title='SI' data-ref="118SI" data-ref-filename="118SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm9StoreInst10isVolatileEv" title='llvm::StoreInst::isVolatile' data-ref="_ZNK4llvm9StoreInst10isVolatileEv" data-ref-filename="_ZNK4llvm9StoreInst10isVolatileEv">isVolatile</a>());</td></tr>
<tr><th id="443">443</th><td>  <a class="local col6 ref" href="#126NewSI" title='NewSI' data-ref="126NewSI" data-ref-filename="126NewSI">NewSI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm9StoreInst9setAtomicENS_14AtomicOrderingEh" title='llvm::StoreInst::setAtomic' data-ref="_ZN4llvm9StoreInst9setAtomicENS_14AtomicOrderingEh" data-ref-filename="_ZN4llvm9StoreInst9setAtomicENS_14AtomicOrderingEh">setAtomic</a>(<a class="local col8 ref" href="#118SI" title='SI' data-ref="118SI" data-ref-filename="118SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm9StoreInst11getOrderingEv" title='llvm::StoreInst::getOrdering' data-ref="_ZNK4llvm9StoreInst11getOrderingEv" data-ref-filename="_ZNK4llvm9StoreInst11getOrderingEv">getOrdering</a>(), <a class="local col8 ref" href="#118SI" title='SI' data-ref="118SI" data-ref-filename="118SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm9StoreInst14getSyncScopeIDEv" title='llvm::StoreInst::getSyncScopeID' data-ref="_ZNK4llvm9StoreInst14getSyncScopeIDEv" data-ref-filename="_ZNK4llvm9StoreInst14getSyncScopeIDEv">getSyncScopeID</a>());</td></tr>
<tr><th id="444">444</th><td>  <a class="macro" href="../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"Replaced "</q> &lt;&lt; *SI &lt;&lt; <q>" with "</q> &lt;&lt; *NewSI &lt;&lt; <q>"\n"</q>);</td></tr>
<tr><th id="445">445</th><td>  <a class="local col8 ref" href="#118SI" title='SI' data-ref="118SI" data-ref-filename="118SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="446">446</th><td>  <b>return</b> <a class="local col6 ref" href="#126NewSI" title='NewSI' data-ref="126NewSI" data-ref-filename="126NewSI">NewSI</a>;</td></tr>
<tr><th id="447">447</th><td>}</td></tr>
<tr><th id="448">448</th><td></td></tr>
<tr><th id="449">449</th><td><em>bool</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand17expandAtomicStoreEPN4llvm9StoreInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicStore' data-type='bool (anonymous namespace)::AtomicExpand::expandAtomicStore(llvm::StoreInst * SI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand17expandAtomicStoreEPN4llvm9StoreInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand17expandAtomicStoreEPN4llvm9StoreInstE">expandAtomicStore</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a> *<dfn class="local col7 decl" id="127SI" title='SI' data-type='llvm::StoreInst *' data-ref="127SI" data-ref-filename="127SI">SI</dfn>) {</td></tr>
<tr><th id="450">450</th><td>  <i>// This function is only called on atomic stores that are too large to be</i></td></tr>
<tr><th id="451">451</th><td><i>  // atomic if implemented as a native store. So we replace them by an</i></td></tr>
<tr><th id="452">452</th><td><i>  // atomic swap, that can be implemented for example as a ldrex/strex on ARM</i></td></tr>
<tr><th id="453">453</th><td><i>  // or lock cmpxchg8/16b on X86, as these are atomic for larger sizes.</i></td></tr>
<tr><th id="454">454</th><td><i>  // It is the responsibility of the target to only signal expansion via</i></td></tr>
<tr><th id="455">455</th><td><i>  // shouldExpandAtomicRMW in cases where this is required and possible.</i></td></tr>
<tr><th id="456">456</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col8 decl" id="128Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="128Builder" data-ref-filename="128Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col7 ref" href="#127SI" title='SI' data-ref="127SI" data-ref-filename="127SI">SI</a>);</td></tr>
<tr><th id="457">457</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col9 decl" id="129AI" title='AI' data-type='llvm::AtomicRMWInst *' data-ref="129AI" data-ref-filename="129AI">AI</dfn> =</td></tr>
<tr><th id="458">458</th><td>      <a class="local col8 ref" href="#128Builder" title='Builder' data-ref="128Builder" data-ref-filename="128Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase15CreateAtomicRMWENS_13AtomicRMWInst5BinOpEPNS_5ValueES4_NS_14AtomicOrderingEh" title='llvm::IRBuilderBase::CreateAtomicRMW' data-ref="_ZN4llvm13IRBuilderBase15CreateAtomicRMWENS_13AtomicRMWInst5BinOpEPNS_5ValueES4_NS_14AtomicOrderingEh" data-ref-filename="_ZN4llvm13IRBuilderBase15CreateAtomicRMWENS_13AtomicRMWInst5BinOpEPNS_5ValueES4_NS_14AtomicOrderingEh">CreateAtomicRMW</a>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Xchg" title='llvm::AtomicRMWInst::Xchg' data-ref="llvm::AtomicRMWInst::Xchg" data-ref-filename="llvm..AtomicRMWInst..Xchg">Xchg</a>, <a class="local col7 ref" href="#127SI" title='SI' data-ref="127SI" data-ref-filename="127SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm9StoreInst17getPointerOperandEv" title='llvm::StoreInst::getPointerOperand' data-ref="_ZN4llvm9StoreInst17getPointerOperandEv" data-ref-filename="_ZN4llvm9StoreInst17getPointerOperandEv">getPointerOperand</a>(),</td></tr>
<tr><th id="459">459</th><td>                              <a class="local col7 ref" href="#127SI" title='SI' data-ref="127SI" data-ref-filename="127SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm9StoreInst15getValueOperandEv" title='llvm::StoreInst::getValueOperand' data-ref="_ZN4llvm9StoreInst15getValueOperandEv" data-ref-filename="_ZN4llvm9StoreInst15getValueOperandEv">getValueOperand</a>(), <a class="local col7 ref" href="#127SI" title='SI' data-ref="127SI" data-ref-filename="127SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm9StoreInst11getOrderingEv" title='llvm::StoreInst::getOrdering' data-ref="_ZNK4llvm9StoreInst11getOrderingEv" data-ref-filename="_ZNK4llvm9StoreInst11getOrderingEv">getOrdering</a>());</td></tr>
<tr><th id="460">460</th><td>  <a class="local col7 ref" href="#127SI" title='SI' data-ref="127SI" data-ref-filename="127SI">SI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="461">461</th><td></td></tr>
<tr><th id="462">462</th><td>  <i>// Now we have an appropriate swap instruction, lower it as usual.</i></td></tr>
<tr><th id="463">463</th><td>  <b>return</b> <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand18tryExpandAtomicRMWEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::tryExpandAtomicRMW' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand18tryExpandAtomicRMWEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand18tryExpandAtomicRMWEPN4llvm13AtomicRMWInstE">tryExpandAtomicRMW</a>(<a class="local col9 ref" href="#129AI" title='AI' data-ref="129AI" data-ref-filename="129AI">AI</a>);</td></tr>
<tr><th id="464">464</th><td>}</td></tr>
<tr><th id="465">465</th><td></td></tr>
<tr><th id="466">466</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="_ZL20createCmpXchgInstFunRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_S6_NS_14AtomicOrderingERS6_S8_" title='createCmpXchgInstFun' data-type='void createCmpXchgInstFun(IRBuilder&lt;&gt; &amp; Builder, llvm::Value * Addr, llvm::Value * Loaded, llvm::Value * NewVal, llvm::AtomicOrdering MemOpOrder, llvm::Value *&amp; Success, llvm::Value *&amp; NewLoaded)' data-ref="_ZL20createCmpXchgInstFunRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_S6_NS_14AtomicOrderingERS6_S8_" data-ref-filename="_ZL20createCmpXchgInstFunRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_S6_NS_14AtomicOrderingERS6_S8_">createCmpXchgInstFun</dfn>(<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col0 decl" id="130Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="130Builder" data-ref-filename="130Builder">Builder</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="131Addr" title='Addr' data-type='llvm::Value *' data-ref="131Addr" data-ref-filename="131Addr">Addr</dfn>,</td></tr>
<tr><th id="467">467</th><td>                                 <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="132Loaded" title='Loaded' data-type='llvm::Value *' data-ref="132Loaded" data-ref-filename="132Loaded">Loaded</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="133NewVal" title='NewVal' data-type='llvm::Value *' data-ref="133NewVal" data-ref-filename="133NewVal">NewVal</dfn>,</td></tr>
<tr><th id="468">468</th><td>                                 <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col4 decl" id="134MemOpOrder" title='MemOpOrder' data-type='llvm::AtomicOrdering' data-ref="134MemOpOrder" data-ref-filename="134MemOpOrder">MemOpOrder</dfn>,</td></tr>
<tr><th id="469">469</th><td>                                 <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *&amp;<dfn class="local col5 decl" id="135Success" title='Success' data-type='llvm::Value *&amp;' data-ref="135Success" data-ref-filename="135Success">Success</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *&amp;<dfn class="local col6 decl" id="136NewLoaded" title='NewLoaded' data-type='llvm::Value *&amp;' data-ref="136NewLoaded" data-ref-filename="136NewLoaded">NewLoaded</dfn>) {</td></tr>
<tr><th id="470">470</th><td>  <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col7 decl" id="137OrigTy" title='OrigTy' data-type='llvm::Type *' data-ref="137OrigTy" data-ref-filename="137OrigTy">OrigTy</dfn> = <a class="local col3 ref" href="#133NewVal" title='NewVal' data-ref="133NewVal" data-ref-filename="133NewVal">NewVal</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>();</td></tr>
<tr><th id="471">471</th><td></td></tr>
<tr><th id="472">472</th><td>  <i>// This code can go away when cmpxchg supports FP types.</i></td></tr>
<tr><th id="473">473</th><td>  <em>bool</em> <dfn class="local col8 decl" id="138NeedBitcast" title='NeedBitcast' data-type='bool' data-ref="138NeedBitcast" data-ref-filename="138NeedBitcast">NeedBitcast</dfn> = <a class="local col7 ref" href="#137OrigTy" title='OrigTy' data-ref="137OrigTy" data-ref-filename="137OrigTy">OrigTy</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type17isFloatingPointTyEv" title='llvm::Type::isFloatingPointTy' data-ref="_ZNK4llvm4Type17isFloatingPointTyEv" data-ref-filename="_ZNK4llvm4Type17isFloatingPointTyEv">isFloatingPointTy</a>();</td></tr>
<tr><th id="474">474</th><td>  <b>if</b> (<a class="local col8 ref" href="#138NeedBitcast" title='NeedBitcast' data-ref="138NeedBitcast" data-ref-filename="138NeedBitcast">NeedBitcast</a>) {</td></tr>
<tr><th id="475">475</th><td>    <a class="type" href="../../include/llvm/IR/DerivedTypes.h.html#llvm::IntegerType" title='llvm::IntegerType' data-ref="llvm::IntegerType" data-ref-filename="llvm..IntegerType">IntegerType</a> *<dfn class="local col9 decl" id="139IntTy" title='IntTy' data-type='llvm::IntegerType *' data-ref="139IntTy" data-ref-filename="139IntTy">IntTy</dfn> = <a class="local col0 ref" href="#130Builder" title='Builder' data-ref="130Builder" data-ref-filename="130Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9getIntNTyEj" title='llvm::IRBuilderBase::getIntNTy' data-ref="_ZN4llvm13IRBuilderBase9getIntNTyEj" data-ref-filename="_ZN4llvm13IRBuilderBase9getIntNTyEj">getIntNTy</a>(<a class="ref fn fake" href="../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col7 ref" href="#137OrigTy" title='OrigTy' data-ref="137OrigTy" data-ref-filename="137OrigTy">OrigTy</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" title='llvm::Type::getPrimitiveSizeInBits' data-ref="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" data-ref-filename="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv">getPrimitiveSizeInBits</a>());</td></tr>
<tr><th id="476">476</th><td>    <em>unsigned</em> <dfn class="local col0 decl" id="140AS" title='AS' data-type='unsigned int' data-ref="140AS" data-ref-filename="140AS">AS</dfn> = <a class="local col1 ref" href="#131Addr" title='Addr' data-ref="131Addr" data-ref-filename="131Addr">Addr</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPointerAddressSpaceEv" title='llvm::Type::getPointerAddressSpace' data-ref="_ZNK4llvm4Type22getPointerAddressSpaceEv" data-ref-filename="_ZNK4llvm4Type22getPointerAddressSpaceEv">getPointerAddressSpace</a>();</td></tr>
<tr><th id="477">477</th><td>    <a class="local col1 ref" href="#131Addr" title='Addr' data-ref="131Addr" data-ref-filename="131Addr">Addr</a> = <a class="local col0 ref" href="#130Builder" title='Builder' data-ref="130Builder" data-ref-filename="130Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitCast' data-ref="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitCast</a>(<a class="local col1 ref" href="#131Addr" title='Addr' data-ref="131Addr" data-ref-filename="131Addr">Addr</a>, <a class="local col9 ref" href="#139IntTy" title='IntTy' data-ref="139IntTy" data-ref-filename="139IntTy">IntTy</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type12getPointerToEj" title='llvm::Type::getPointerTo' data-ref="_ZNK4llvm4Type12getPointerToEj" data-ref-filename="_ZNK4llvm4Type12getPointerToEj">getPointerTo</a>(<a class="local col0 ref" href="#140AS" title='AS' data-ref="140AS" data-ref-filename="140AS">AS</a>));</td></tr>
<tr><th id="478">478</th><td>    <a class="local col3 ref" href="#133NewVal" title='NewVal' data-ref="133NewVal" data-ref-filename="133NewVal">NewVal</a> = <a class="local col0 ref" href="#130Builder" title='Builder' data-ref="130Builder" data-ref-filename="130Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitCast' data-ref="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitCast</a>(<a class="local col3 ref" href="#133NewVal" title='NewVal' data-ref="133NewVal" data-ref-filename="133NewVal">NewVal</a>, <a class="local col9 ref" href="#139IntTy" title='IntTy' data-ref="139IntTy" data-ref-filename="139IntTy">IntTy</a>);</td></tr>
<tr><th id="479">479</th><td>    <a class="local col2 ref" href="#132Loaded" title='Loaded' data-ref="132Loaded" data-ref-filename="132Loaded">Loaded</a> = <a class="local col0 ref" href="#130Builder" title='Builder' data-ref="130Builder" data-ref-filename="130Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitCast' data-ref="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitCast</a>(<a class="local col2 ref" href="#132Loaded" title='Loaded' data-ref="132Loaded" data-ref-filename="132Loaded">Loaded</a>, <a class="local col9 ref" href="#139IntTy" title='IntTy' data-ref="139IntTy" data-ref-filename="139IntTy">IntTy</a>);</td></tr>
<tr><th id="480">480</th><td>  }</td></tr>
<tr><th id="481">481</th><td></td></tr>
<tr><th id="482">482</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a>* <dfn class="local col1 decl" id="141Pair" title='Pair' data-type='llvm::Value *' data-ref="141Pair" data-ref-filename="141Pair">Pair</dfn> = <a class="local col0 ref" href="#130Builder" title='Builder' data-ref="130Builder" data-ref-filename="130Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h" title='llvm::IRBuilderBase::CreateAtomicCmpXchg' data-ref="_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h" data-ref-filename="_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h">CreateAtomicCmpXchg</a>(</td></tr>
<tr><th id="483">483</th><td>      <a class="local col1 ref" href="#131Addr" title='Addr' data-ref="131Addr" data-ref-filename="131Addr">Addr</a>, <a class="local col2 ref" href="#132Loaded" title='Loaded' data-ref="132Loaded" data-ref-filename="132Loaded">Loaded</a>, <a class="local col3 ref" href="#133NewVal" title='NewVal' data-ref="133NewVal" data-ref-filename="133NewVal">NewVal</a>, <a class="local col4 ref" href="#134MemOpOrder" title='MemOpOrder' data-ref="134MemOpOrder" data-ref-filename="134MemOpOrder">MemOpOrder</a>,</td></tr>
<tr><th id="484">484</th><td>      <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a>::<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst27getStrongestFailureOrderingENS_14AtomicOrderingE" title='llvm::AtomicCmpXchgInst::getStrongestFailureOrdering' data-ref="_ZN4llvm17AtomicCmpXchgInst27getStrongestFailureOrderingENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst27getStrongestFailureOrderingENS_14AtomicOrderingE">getStrongestFailureOrdering</a>(<a class="local col4 ref" href="#134MemOpOrder" title='MemOpOrder' data-ref="134MemOpOrder" data-ref-filename="134MemOpOrder">MemOpOrder</a>));</td></tr>
<tr><th id="485">485</th><td>  <a class="local col5 ref" href="#135Success" title='Success' data-ref="135Success" data-ref-filename="135Success">Success</a> = <a class="local col0 ref" href="#130Builder" title='Builder' data-ref="130Builder" data-ref-filename="130Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateExtractValue' data-ref="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE">CreateExtractValue</a>(<a class="local col1 ref" href="#141Pair" title='Pair' data-ref="141Pair" data-ref-filename="141Pair">Pair</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>1</var>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"success"</q>);</td></tr>
<tr><th id="486">486</th><td>  <a class="local col6 ref" href="#136NewLoaded" title='NewLoaded' data-ref="136NewLoaded" data-ref-filename="136NewLoaded">NewLoaded</a> = <a class="local col0 ref" href="#130Builder" title='Builder' data-ref="130Builder" data-ref-filename="130Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateExtractValue' data-ref="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE">CreateExtractValue</a>(<a class="local col1 ref" href="#141Pair" title='Pair' data-ref="141Pair" data-ref-filename="141Pair">Pair</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>0</var>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"newloaded"</q>);</td></tr>
<tr><th id="487">487</th><td></td></tr>
<tr><th id="488">488</th><td>  <b>if</b> (<a class="local col8 ref" href="#138NeedBitcast" title='NeedBitcast' data-ref="138NeedBitcast" data-ref-filename="138NeedBitcast">NeedBitcast</a>)</td></tr>
<tr><th id="489">489</th><td>    <a class="local col6 ref" href="#136NewLoaded" title='NewLoaded' data-ref="136NewLoaded" data-ref-filename="136NewLoaded">NewLoaded</a> = <a class="local col0 ref" href="#130Builder" title='Builder' data-ref="130Builder" data-ref-filename="130Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitCast' data-ref="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitCast</a>(<a class="local col6 ref" href="#136NewLoaded" title='NewLoaded' data-ref="136NewLoaded" data-ref-filename="136NewLoaded">NewLoaded</a>, <a class="local col7 ref" href="#137OrigTy" title='OrigTy' data-ref="137OrigTy" data-ref-filename="137OrigTy">OrigTy</a>);</td></tr>
<tr><th id="490">490</th><td>}</td></tr>
<tr><th id="491">491</th><td></td></tr>
<tr><th id="492">492</th><td><i class="doc" data-doc="_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_">/// Emit IR to implement the given atomicrmw operation on values in registers,</i></td></tr>
<tr><th id="493">493</th><td><i class="doc" data-doc="_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_">/// returning the new value.</i></td></tr>
<tr><th id="494">494</th><td><em>static</em> <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="tu decl def fn" id="_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_" title='performAtomicOp' data-type='llvm::Value * performAtomicOp(AtomicRMWInst::BinOp Op, IRBuilder&lt;&gt; &amp; Builder, llvm::Value * Loaded, llvm::Value * Inc)' data-ref="_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_" data-ref-filename="_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_">performAtomicOp</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::BinOp" title='llvm::AtomicRMWInst::BinOp' data-ref="llvm::AtomicRMWInst::BinOp" data-ref-filename="llvm..AtomicRMWInst..BinOp">BinOp</a> <dfn class="local col2 decl" id="142Op" title='Op' data-type='AtomicRMWInst::BinOp' data-ref="142Op" data-ref-filename="142Op">Op</dfn>, <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col3 decl" id="143Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="143Builder" data-ref-filename="143Builder">Builder</dfn>,</td></tr>
<tr><th id="495">495</th><td>                              <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="144Loaded" title='Loaded' data-type='llvm::Value *' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="145Inc" title='Inc' data-type='llvm::Value *' data-ref="145Inc" data-ref-filename="145Inc">Inc</dfn>) {</td></tr>
<tr><th id="496">496</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="146NewVal" title='NewVal' data-type='llvm::Value *' data-ref="146NewVal" data-ref-filename="146NewVal">NewVal</dfn>;</td></tr>
<tr><th id="497">497</th><td>  <b>switch</b> (<a class="local col2 ref" href="#142Op" title='Op' data-ref="142Op" data-ref-filename="142Op">Op</a>) {</td></tr>
<tr><th id="498">498</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Xchg" title='llvm::AtomicRMWInst::Xchg' data-ref="llvm::AtomicRMWInst::Xchg" data-ref-filename="llvm..AtomicRMWInst..Xchg">Xchg</a>:</td></tr>
<tr><th id="499">499</th><td>    <b>return</b> <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>;</td></tr>
<tr><th id="500">500</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Add" title='llvm::AtomicRMWInst::Add' data-ref="llvm::AtomicRMWInst::Add" data-ref-filename="llvm..AtomicRMWInst..Add">Add</a>:</td></tr>
<tr><th id="501">501</th><td>    <b>return</b> <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateAddEPNS_5ValueES2_RKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateAdd' data-ref="_ZN4llvm13IRBuilderBase9CreateAddEPNS_5ValueES2_RKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateAddEPNS_5ValueES2_RKNS_5TwineEbb">CreateAdd</a>(<a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"new"</q>);</td></tr>
<tr><th id="502">502</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Sub" title='llvm::AtomicRMWInst::Sub' data-ref="llvm::AtomicRMWInst::Sub" data-ref-filename="llvm..AtomicRMWInst..Sub">Sub</a>:</td></tr>
<tr><th id="503">503</th><td>    <b>return</b> <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateSubEPNS_5ValueES2_RKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateSub' data-ref="_ZN4llvm13IRBuilderBase9CreateSubEPNS_5ValueES2_RKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateSubEPNS_5ValueES2_RKNS_5TwineEbb">CreateSub</a>(<a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"new"</q>);</td></tr>
<tr><th id="504">504</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::And" title='llvm::AtomicRMWInst::And' data-ref="llvm::AtomicRMWInst::And" data-ref-filename="llvm..AtomicRMWInst..And">And</a>:</td></tr>
<tr><th id="505">505</th><td>    <b>return</b> <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateAnd' data-ref="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE">CreateAnd</a>(<a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"new"</q>);</td></tr>
<tr><th id="506">506</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Nand" title='llvm::AtomicRMWInst::Nand' data-ref="llvm::AtomicRMWInst::Nand" data-ref-filename="llvm..AtomicRMWInst..Nand">Nand</a>:</td></tr>
<tr><th id="507">507</th><td>    <b>return</b> <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateNotEPNS_5ValueERKNS_5TwineE" title='llvm::IRBuilderBase::CreateNot' data-ref="_ZN4llvm13IRBuilderBase9CreateNotEPNS_5ValueERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateNotEPNS_5ValueERKNS_5TwineE">CreateNot</a>(<a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateAnd' data-ref="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE">CreateAnd</a>(<a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>), <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"new"</q>);</td></tr>
<tr><th id="508">508</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Or" title='llvm::AtomicRMWInst::Or' data-ref="llvm::AtomicRMWInst::Or" data-ref-filename="llvm..AtomicRMWInst..Or">Or</a>:</td></tr>
<tr><th id="509">509</th><td>    <b>return</b> <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateOr' data-ref="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE">CreateOr</a>(<a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"new"</q>);</td></tr>
<tr><th id="510">510</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Xor" title='llvm::AtomicRMWInst::Xor' data-ref="llvm::AtomicRMWInst::Xor" data-ref-filename="llvm..AtomicRMWInst..Xor">Xor</a>:</td></tr>
<tr><th id="511">511</th><td>    <b>return</b> <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateXorEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateXor' data-ref="_ZN4llvm13IRBuilderBase9CreateXorEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateXorEPNS_5ValueES2_RKNS_5TwineE">CreateXor</a>(<a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"new"</q>);</td></tr>
<tr><th id="512">512</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Max" title='llvm::AtomicRMWInst::Max' data-ref="llvm::AtomicRMWInst::Max" data-ref-filename="llvm..AtomicRMWInst..Max">Max</a>:</td></tr>
<tr><th id="513">513</th><td>    <a class="local col6 ref" href="#146NewVal" title='NewVal' data-ref="146NewVal" data-ref-filename="146NewVal">NewVal</a> = <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateICmpSGTEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateICmpSGT' data-ref="_ZN4llvm13IRBuilderBase13CreateICmpSGTEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateICmpSGTEPNS_5ValueES2_RKNS_5TwineE">CreateICmpSGT</a>(<a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>);</td></tr>
<tr><th id="514">514</th><td>    <b>return</b> <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE" title='llvm::IRBuilderBase::CreateSelect' data-ref="_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE">CreateSelect</a>(<a class="local col6 ref" href="#146NewVal" title='NewVal' data-ref="146NewVal" data-ref-filename="146NewVal">NewVal</a>, <a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"new"</q>);</td></tr>
<tr><th id="515">515</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Min" title='llvm::AtomicRMWInst::Min' data-ref="llvm::AtomicRMWInst::Min" data-ref-filename="llvm..AtomicRMWInst..Min">Min</a>:</td></tr>
<tr><th id="516">516</th><td>    <a class="local col6 ref" href="#146NewVal" title='NewVal' data-ref="146NewVal" data-ref-filename="146NewVal">NewVal</a> = <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateICmpSLEEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateICmpSLE' data-ref="_ZN4llvm13IRBuilderBase13CreateICmpSLEEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateICmpSLEEPNS_5ValueES2_RKNS_5TwineE">CreateICmpSLE</a>(<a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>);</td></tr>
<tr><th id="517">517</th><td>    <b>return</b> <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE" title='llvm::IRBuilderBase::CreateSelect' data-ref="_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE">CreateSelect</a>(<a class="local col6 ref" href="#146NewVal" title='NewVal' data-ref="146NewVal" data-ref-filename="146NewVal">NewVal</a>, <a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"new"</q>);</td></tr>
<tr><th id="518">518</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::UMax" title='llvm::AtomicRMWInst::UMax' data-ref="llvm::AtomicRMWInst::UMax" data-ref-filename="llvm..AtomicRMWInst..UMax">UMax</a>:</td></tr>
<tr><th id="519">519</th><td>    <a class="local col6 ref" href="#146NewVal" title='NewVal' data-ref="146NewVal" data-ref-filename="146NewVal">NewVal</a> = <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateICmpUGTEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateICmpUGT' data-ref="_ZN4llvm13IRBuilderBase13CreateICmpUGTEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateICmpUGTEPNS_5ValueES2_RKNS_5TwineE">CreateICmpUGT</a>(<a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>);</td></tr>
<tr><th id="520">520</th><td>    <b>return</b> <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE" title='llvm::IRBuilderBase::CreateSelect' data-ref="_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE">CreateSelect</a>(<a class="local col6 ref" href="#146NewVal" title='NewVal' data-ref="146NewVal" data-ref-filename="146NewVal">NewVal</a>, <a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"new"</q>);</td></tr>
<tr><th id="521">521</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::UMin" title='llvm::AtomicRMWInst::UMin' data-ref="llvm::AtomicRMWInst::UMin" data-ref-filename="llvm..AtomicRMWInst..UMin">UMin</a>:</td></tr>
<tr><th id="522">522</th><td>    <a class="local col6 ref" href="#146NewVal" title='NewVal' data-ref="146NewVal" data-ref-filename="146NewVal">NewVal</a> = <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateICmpULEEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateICmpULE' data-ref="_ZN4llvm13IRBuilderBase13CreateICmpULEEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateICmpULEEPNS_5ValueES2_RKNS_5TwineE">CreateICmpULE</a>(<a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>);</td></tr>
<tr><th id="523">523</th><td>    <b>return</b> <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE" title='llvm::IRBuilderBase::CreateSelect' data-ref="_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE">CreateSelect</a>(<a class="local col6 ref" href="#146NewVal" title='NewVal' data-ref="146NewVal" data-ref-filename="146NewVal">NewVal</a>, <a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"new"</q>);</td></tr>
<tr><th id="524">524</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::FAdd" title='llvm::AtomicRMWInst::FAdd' data-ref="llvm::AtomicRMWInst::FAdd" data-ref-filename="llvm..AtomicRMWInst..FAdd">FAdd</a>:</td></tr>
<tr><th id="525">525</th><td>    <b>return</b> <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateFAddEPNS_5ValueES2_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateFAdd' data-ref="_ZN4llvm13IRBuilderBase10CreateFAddEPNS_5ValueES2_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateFAddEPNS_5ValueES2_RKNS_5TwineEPNS_6MDNodeE">CreateFAdd</a>(<a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"new"</q>);</td></tr>
<tr><th id="526">526</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::FSub" title='llvm::AtomicRMWInst::FSub' data-ref="llvm::AtomicRMWInst::FSub" data-ref-filename="llvm..AtomicRMWInst..FSub">FSub</a>:</td></tr>
<tr><th id="527">527</th><td>    <b>return</b> <a class="local col3 ref" href="#143Builder" title='Builder' data-ref="143Builder" data-ref-filename="143Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateFSubEPNS_5ValueES2_RKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateFSub' data-ref="_ZN4llvm13IRBuilderBase10CreateFSubEPNS_5ValueES2_RKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateFSubEPNS_5ValueES2_RKNS_5TwineEPNS_6MDNodeE">CreateFSub</a>(<a class="local col4 ref" href="#144Loaded" title='Loaded' data-ref="144Loaded" data-ref-filename="144Loaded">Loaded</a>, <a class="local col5 ref" href="#145Inc" title='Inc' data-ref="145Inc" data-ref-filename="145Inc">Inc</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"new"</q>);</td></tr>
<tr><th id="528">528</th><td>  <b>default</b>:</td></tr>
<tr><th id="529">529</th><td>    <a class="macro" href="../../include/llvm/Support/ErrorHandling.h.html#139" title="__builtin_unreachable()" data-ref="_M/llvm_unreachable">llvm_unreachable</a>(<q>"Unknown atomic op"</q>);</td></tr>
<tr><th id="530">530</th><td>  }</td></tr>
<tr><th id="531">531</th><td>}</td></tr>
<tr><th id="532">532</th><td></td></tr>
<tr><th id="533">533</th><td><em>bool</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand18tryExpandAtomicRMWEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::tryExpandAtomicRMW' data-type='bool (anonymous namespace)::AtomicExpand::tryExpandAtomicRMW(llvm::AtomicRMWInst * AI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand18tryExpandAtomicRMWEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand18tryExpandAtomicRMWEPN4llvm13AtomicRMWInstE">tryExpandAtomicRMW</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col7 decl" id="147AI" title='AI' data-type='llvm::AtomicRMWInst *' data-ref="147AI" data-ref-filename="147AI">AI</dfn>) {</td></tr>
<tr><th id="534">534</th><td>  <b>switch</b> (<a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase25shouldExpandAtomicRMWInIREPNS_13AtomicRMWInstE" title='llvm::TargetLoweringBase::shouldExpandAtomicRMWInIR' data-ref="_ZNK4llvm18TargetLoweringBase25shouldExpandAtomicRMWInIREPNS_13AtomicRMWInstE" data-ref-filename="_ZNK4llvm18TargetLoweringBase25shouldExpandAtomicRMWInIREPNS_13AtomicRMWInstE">shouldExpandAtomicRMWInIR</a>(<a class="local col7 ref" href="#147AI" title='AI' data-ref="147AI" data-ref-filename="147AI">AI</a>)) {</td></tr>
<tr><th id="535">535</th><td>  <b>case</b> <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::None" title='llvm::TargetLoweringBase::AtomicExpansionKind::None' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::None" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..None">None</a>:</td></tr>
<tr><th id="536">536</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="537">537</th><td>  <b>case</b> <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::LLSC" title='llvm::TargetLoweringBase::AtomicExpansionKind::LLSC' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::LLSC" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..LLSC">LLSC</a>: {</td></tr>
<tr><th id="538">538</th><td>    <em>unsigned</em> <dfn class="local col8 decl" id="148MinCASSize" title='MinCASSize' data-type='unsigned int' data-ref="148MinCASSize" data-ref-filename="148MinCASSize">MinCASSize</dfn> = <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" title='llvm::TargetLoweringBase::getMinCmpXchgSizeInBits' data-ref="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" data-ref-filename="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv">getMinCmpXchgSizeInBits</a>() / <var>8</var>;</td></tr>
<tr><th id="539">539</th><td>    <em>unsigned</em> <dfn class="local col9 decl" id="149ValueSize" title='ValueSize' data-type='unsigned int' data-ref="149ValueSize" data-ref-filename="149ValueSize">ValueSize</dfn> = <a class="tu ref fn" href="#_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE" title='getAtomicOpSize' data-use='c' data-ref="_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE" data-ref-filename="_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE">getAtomicOpSize</a>(<a class="local col7 ref" href="#147AI" title='AI' data-ref="147AI" data-ref-filename="147AI">AI</a>);</td></tr>
<tr><th id="540">540</th><td>    <b>if</b> (<a class="local col9 ref" href="#149ValueSize" title='ValueSize' data-ref="149ValueSize" data-ref-filename="149ValueSize">ValueSize</a> &lt; <a class="local col8 ref" href="#148MinCASSize" title='MinCASSize' data-ref="148MinCASSize" data-ref-filename="148MinCASSize">MinCASSize</a>) {</td></tr>
<tr><th id="541">541</th><td>      <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE" title='(anonymous namespace)::AtomicExpand::expandPartwordAtomicRMW' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE">expandPartwordAtomicRMW</a>(<a class="local col7 ref" href="#147AI" title='AI' data-ref="147AI" data-ref-filename="147AI">AI</a>,</td></tr>
<tr><th id="542">542</th><td>                              <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::LLSC" title='llvm::TargetLoweringBase::AtomicExpansionKind::LLSC' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::LLSC" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..LLSC">LLSC</a>);</td></tr>
<tr><th id="543">543</th><td>    } <b>else</b> {</td></tr>
<tr><th id="544">544</th><td>      <em>auto</em> <dfn class="local col0 decl" id="150PerformOp" title='PerformOp' data-type='(lambda at /fast/tmp/llvm-proj-12/llvm/lib/CodeGen/AtomicExpandPass.cpp:544:24)' data-ref="150PerformOp" data-ref-filename="150PerformOp">PerformOp</dfn> = [&amp;](<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col1 decl" id="151Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="151Builder" data-ref-filename="151Builder">Builder</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="152Loaded" title='Loaded' data-type='llvm::Value *' data-ref="152Loaded" data-ref-filename="152Loaded">Loaded</dfn>) {</td></tr>
<tr><th id="545">545</th><td>        <b>return</b> <a class="tu ref fn" href="#_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_" title='performAtomicOp' data-use='c' data-ref="_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_" data-ref-filename="_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_">performAtomicOp</a>(<a class="local col7 ref" href="#147AI" title='AI' data-ref="147AI" data-ref-filename="147AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst12getOperationEv" title='llvm::AtomicRMWInst::getOperation' data-ref="_ZNK4llvm13AtomicRMWInst12getOperationEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst12getOperationEv">getOperation</a>(), <span class='refarg'><a class="local col1 ref" href="#151Builder" title='Builder' data-ref="151Builder" data-ref-filename="151Builder">Builder</a></span>, <a class="local col2 ref" href="#152Loaded" title='Loaded' data-ref="152Loaded" data-ref-filename="152Loaded">Loaded</a>,</td></tr>
<tr><th id="546">546</th><td>                               <a class="local col7 ref" href="#147AI" title='AI' data-ref="147AI" data-ref-filename="147AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst13getValOperandEv" title='llvm::AtomicRMWInst::getValOperand' data-ref="_ZN4llvm13AtomicRMWInst13getValOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst13getValOperandEv">getValOperand</a>());</td></tr>
<tr><th id="547">547</th><td>      };</td></tr>
<tr><th id="548">548</th><td>      <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicOpToLLSCEPN4llvm11InstructionEPNS1_4TypeEPNS1_5ValueENS1_14AtomicOrderingENS1_12function_refIFS7_RNS1_9IR13568581" title='(anonymous namespace)::AtomicExpand::expandAtomicOpToLLSC' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicOpToLLSCEPN4llvm11InstructionEPNS1_4TypeEPNS1_5ValueENS1_14AtomicOrderingENS1_12function_refIFS7_RNS1_9IR13568581" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicOpToLLSCEPN4llvm11InstructionEPNS1_4TypeEPNS1_5ValueENS1_14AtomicOrderingENS1_12function_refIFS7_RNS1_9IR13568581">expandAtomicOpToLLSC</a>(<a class="local col7 ref" href="#147AI" title='AI' data-ref="147AI" data-ref-filename="147AI">AI</a>, <a class="local col7 ref" href="#147AI" title='AI' data-ref="147AI" data-ref-filename="147AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col7 ref" href="#147AI" title='AI' data-ref="147AI" data-ref-filename="147AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst17getPointerOperandEv" title='llvm::AtomicRMWInst::getPointerOperand' data-ref="_ZN4llvm13AtomicRMWInst17getPointerOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst17getPointerOperandEv">getPointerOperand</a>(),</td></tr>
<tr><th id="549">549</th><td>                           <a class="local col7 ref" href="#147AI" title='AI' data-ref="147AI" data-ref-filename="147AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst11getOrderingEv" title='llvm::AtomicRMWInst::getOrdering' data-ref="_ZNK4llvm13AtomicRMWInst11getOrderingEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst11getOrderingEv">getOrdering</a>(), <a class="tu ref fn fake" href="../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-use='c' data-ref="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" data-ref-filename="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931"></a><a class="local col0 ref" href="#150PerformOp" title='PerformOp' data-ref="150PerformOp" data-ref-filename="150PerformOp">PerformOp</a>);</td></tr>
<tr><th id="550">550</th><td>    }</td></tr>
<tr><th id="551">551</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="552">552</th><td>  }</td></tr>
<tr><th id="553">553</th><td>  <b>case</b> <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::CmpXChg" title='llvm::TargetLoweringBase::AtomicExpansionKind::CmpXChg' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::CmpXChg" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..CmpXChg">CmpXChg</a>: {</td></tr>
<tr><th id="554">554</th><td>    <em>unsigned</em> <dfn class="local col3 decl" id="153MinCASSize" title='MinCASSize' data-type='unsigned int' data-ref="153MinCASSize" data-ref-filename="153MinCASSize">MinCASSize</dfn> = <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" title='llvm::TargetLoweringBase::getMinCmpXchgSizeInBits' data-ref="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" data-ref-filename="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv">getMinCmpXchgSizeInBits</a>() / <var>8</var>;</td></tr>
<tr><th id="555">555</th><td>    <em>unsigned</em> <dfn class="local col4 decl" id="154ValueSize" title='ValueSize' data-type='unsigned int' data-ref="154ValueSize" data-ref-filename="154ValueSize">ValueSize</dfn> = <a class="tu ref fn" href="#_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE" title='getAtomicOpSize' data-use='c' data-ref="_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE" data-ref-filename="_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE">getAtomicOpSize</a>(<a class="local col7 ref" href="#147AI" title='AI' data-ref="147AI" data-ref-filename="147AI">AI</a>);</td></tr>
<tr><th id="556">556</th><td>    <b>if</b> (<a class="local col4 ref" href="#154ValueSize" title='ValueSize' data-ref="154ValueSize" data-ref-filename="154ValueSize">ValueSize</a> &lt; <a class="local col3 ref" href="#153MinCASSize" title='MinCASSize' data-ref="153MinCASSize" data-ref-filename="153MinCASSize">MinCASSize</a>) {</td></tr>
<tr><th id="557">557</th><td>      <i>// TODO: Handle atomicrmw fadd/fsub</i></td></tr>
<tr><th id="558">558</th><td>      <b>if</b> (<a class="local col7 ref" href="#147AI" title='AI' data-ref="147AI" data-ref-filename="147AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type17isFloatingPointTyEv" title='llvm::Type::isFloatingPointTy' data-ref="_ZNK4llvm4Type17isFloatingPointTyEv" data-ref-filename="_ZNK4llvm4Type17isFloatingPointTyEv">isFloatingPointTy</a>())</td></tr>
<tr><th id="559">559</th><td>        <b>return</b> <b>false</b>;</td></tr>
<tr><th id="560">560</th><td></td></tr>
<tr><th id="561">561</th><td>      <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE" title='(anonymous namespace)::AtomicExpand::expandPartwordAtomicRMW' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE">expandPartwordAtomicRMW</a>(<a class="local col7 ref" href="#147AI" title='AI' data-ref="147AI" data-ref-filename="147AI">AI</a>,</td></tr>
<tr><th id="562">562</th><td>                              <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::CmpXChg" title='llvm::TargetLoweringBase::AtomicExpansionKind::CmpXChg' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::CmpXChg" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..CmpXChg">CmpXChg</a>);</td></tr>
<tr><th id="563">563</th><td>    } <b>else</b> {</td></tr>
<tr><th id="564">564</th><td>      <a class="ref fn" href="#_ZN4llvm24expandAtomicRMWToCmpXchgEPNS_13AtomicRMWInstENS_12function_refIFvRNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5Val2205004" title='llvm::expandAtomicRMWToCmpXchg' data-ref="_ZN4llvm24expandAtomicRMWToCmpXchgEPNS_13AtomicRMWInstENS_12function_refIFvRNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5Val2205004" data-ref-filename="_ZN4llvm24expandAtomicRMWToCmpXchgEPNS_13AtomicRMWInstENS_12function_refIFvRNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5Val2205004">expandAtomicRMWToCmpXchg</a>(<a class="local col7 ref" href="#147AI" title='AI' data-ref="147AI" data-ref-filename="147AI">AI</a>, <a class="ref fn fake" href="../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-ref="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" data-ref-filename="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931"></a><a class="tu ref fn" href="#_ZL20createCmpXchgInstFunRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_S6_NS_14AtomicOrderingERS6_S8_" title='createCmpXchgInstFun' data-use='a' data-ref="_ZL20createCmpXchgInstFunRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_S6_NS_14AtomicOrderingERS6_S8_" data-ref-filename="_ZL20createCmpXchgInstFunRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_S6_NS_14AtomicOrderingERS6_S8_">createCmpXchgInstFun</a>);</td></tr>
<tr><th id="565">565</th><td>    }</td></tr>
<tr><th id="566">566</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="567">567</th><td>  }</td></tr>
<tr><th id="568">568</th><td>  <b>case</b> <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::MaskedIntrinsic" title='llvm::TargetLoweringBase::AtomicExpansionKind::MaskedIntrinsic' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::MaskedIntrinsic" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..MaskedIntrinsic">MaskedIntrinsic</a>: {</td></tr>
<tr><th id="569">569</th><td>    <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand32expandAtomicRMWToMaskedIntrinsicEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicRMWToMaskedIntrinsic' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand32expandAtomicRMWToMaskedIntrinsicEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand32expandAtomicRMWToMaskedIntrinsicEPN4llvm13AtomicRMWInstE">expandAtomicRMWToMaskedIntrinsic</a>(<a class="local col7 ref" href="#147AI" title='AI' data-ref="147AI" data-ref-filename="147AI">AI</a>);</td></tr>
<tr><th id="570">570</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="571">571</th><td>  }</td></tr>
<tr><th id="572">572</th><td>  <b>default</b>:</td></tr>
<tr><th id="573">573</th><td>    <a class="macro" href="../../include/llvm/Support/ErrorHandling.h.html#139" title="__builtin_unreachable()" data-ref="_M/llvm_unreachable">llvm_unreachable</a>(<q>"Unhandled case in tryExpandAtomicRMW"</q>);</td></tr>
<tr><th id="574">574</th><td>  }</td></tr>
<tr><th id="575">575</th><td>}</td></tr>
<tr><th id="576">576</th><td></td></tr>
<tr><th id="577">577</th><td><b>namespace</b> {</td></tr>
<tr><th id="578">578</th><td></td></tr>
<tr><th id="579">579</th><td><b>struct</b> <dfn class="tu type def" id="(anonymousnamespace)::PartwordMaskValues" title='(anonymous namespace)::PartwordMaskValues' data-ref="(anonymousnamespace)::PartwordMaskValues" data-ref-filename="(anonymousnamespace)..PartwordMaskValues">PartwordMaskValues</dfn> {</td></tr>
<tr><th id="580">580</th><td>  <i  data-doc="(anonymousnamespace)::PartwordMaskValues::WordType">// These three fields are guaranteed to be set by createMaskInstrs.</i></td></tr>
<tr><th id="581">581</th><td>  <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="tu decl field" id="(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-type='llvm::Type *' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="582">582</th><td>  <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="tu decl field" id="(anonymousnamespace)::PartwordMaskValues::ValueType" title='(anonymous namespace)::PartwordMaskValues::ValueType' data-type='llvm::Type *' data-ref="(anonymousnamespace)::PartwordMaskValues::ValueType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ValueType">ValueType</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="583">583</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="tu decl field" id="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" title='(anonymous namespace)::PartwordMaskValues::AlignedAddr' data-type='llvm::Value *' data-ref="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..AlignedAddr">AlignedAddr</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="584">584</th><td>  <i  data-doc="(anonymousnamespace)::PartwordMaskValues::ShiftAmt">// The remaining fields can be null.</i></td></tr>
<tr><th id="585">585</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="tu decl field" id="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-type='llvm::Value *' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="586">586</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="tu decl field" id="(anonymousnamespace)::PartwordMaskValues::Mask" title='(anonymous namespace)::PartwordMaskValues::Mask' data-type='llvm::Value *' data-ref="(anonymousnamespace)::PartwordMaskValues::Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Mask">Mask</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="587">587</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="tu decl field" id="(anonymousnamespace)::PartwordMaskValues::Inv_Mask" title='(anonymous namespace)::PartwordMaskValues::Inv_Mask' data-type='llvm::Value *' data-ref="(anonymousnamespace)::PartwordMaskValues::Inv_Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Inv_Mask">Inv_Mask</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="588">588</th><td>};</td></tr>
<tr><th id="589">589</th><td></td></tr>
<tr><th id="590">590</th><td><a class="macro" href="../../include/llvm/Support/Compiler.h.html#185" title="__attribute__((__unused__))" data-ref="_M/LLVM_ATTRIBUTE_UNUSED">LLVM_ATTRIBUTE_UNUSED</a></td></tr>
<tr><th id="591">591</th><td><a class="type" href="../../include/llvm/Support/raw_ostream.h.html#llvm::raw_ostream" title='llvm::raw_ostream' data-ref="llvm::raw_ostream" data-ref-filename="llvm..raw_ostream">raw_ostream</a> &amp;<dfn class="decl def fn" id="_ZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesE" title='(anonymous namespace)::operator&lt;&lt;' data-ref="_ZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesE" data-ref-filename="_ZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesE"><b>operator</b>&lt;&lt;</dfn>(<a class="type" href="../../include/llvm/Support/raw_ostream.h.html#llvm::raw_ostream" title='llvm::raw_ostream' data-ref="llvm::raw_ostream" data-ref-filename="llvm..raw_ostream">raw_ostream</a> &amp;<dfn class="local col5 decl" id="155O" title='O' data-type='llvm::raw_ostream &amp;' data-ref="155O" data-ref-filename="155O">O</dfn>, <em>const</em> <a class="tu type" href="#(anonymousnamespace)::PartwordMaskValues" title='(anonymous namespace)::PartwordMaskValues' data-ref="(anonymousnamespace)::PartwordMaskValues" data-ref-filename="(anonymousnamespace)..PartwordMaskValues">PartwordMaskValues</a> &amp;<dfn class="local col6 decl" id="156PMV" title='PMV' data-type='const (anonymous namespace)::PartwordMaskValues &amp;' data-ref="156PMV" data-ref-filename="156PMV">PMV</dfn>) {</td></tr>
<tr><th id="592">592</th><td>  <em>auto</em> <dfn class="local col7 decl" id="157PrintObj" title='PrintObj' data-type='(lambda at /fast/tmp/llvm-proj-12/llvm/lib/CodeGen/AtomicExpandPass.cpp:592:19)' data-ref="157PrintObj" data-ref-filename="157PrintObj">PrintObj</dfn> = [&amp;<a class="local col5 ref" href="#155O" title='O' data-ref="155O" data-ref-filename="155O">O</a>](<em>auto</em> *<dfn class="local col8 decl" id="158V" title='V' data-type='auto *' data-ref="158V" data-ref-filename="158V">V</dfn>) {</td></tr>
<tr><th id="593">593</th><td>    <b>if</b> (<a class="local col8 ref" href="#158V" title='V' data-ref="158V" data-ref-filename="158V">V</a>)</td></tr>
<tr><th id="594">594</th><td>      <a class="local col5 ref" href="#155O" title='O' data-ref="155O" data-ref-filename="155O">O</a> &lt;&lt; *<a class="local col8 ref" href="#158V" title='V' data-ref="158V" data-ref-filename="158V">V</a>;</td></tr>
<tr><th id="595">595</th><td>    <b>else</b></td></tr>
<tr><th id="596">596</th><td>      <a class="local col5 ref" href="#155O" title='O' data-ref="155O" data-ref-filename="155O">O</a> <a class="ref fn" href="../../include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEPKc" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEPKc" data-ref-filename="_ZN4llvm11raw_ostreamlsEPKc">&lt;&lt;</a> <q>"nullptr"</q>;</td></tr>
<tr><th id="597">597</th><td>    <a class="local col5 ref" href="#155O" title='O' data-ref="155O" data-ref-filename="155O">O</a> <a class="ref fn" href="../../include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEc" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEc" data-ref-filename="_ZN4llvm11raw_ostreamlsEc">&lt;&lt;</a> <kbd>'\n'</kbd>;</td></tr>
<tr><th id="598">598</th><td>  };</td></tr>
<tr><th id="599">599</th><td>  <a class="local col5 ref" href="#155O" title='O' data-ref="155O" data-ref-filename="155O">O</a> <a class="ref fn" href="../../include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEPKc" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEPKc" data-ref-filename="_ZN4llvm11raw_ostreamlsEPKc">&lt;&lt;</a> <q>"PartwordMaskValues {\n"</q>;</td></tr>
<tr><th id="600">600</th><td>  <a class="local col5 ref" href="#155O" title='O' data-ref="155O" data-ref-filename="155O">O</a> <a class="ref fn" href="../../include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEPKc" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEPKc" data-ref-filename="_ZN4llvm11raw_ostreamlsEPKc">&lt;&lt;</a> <q>"  WordType: "</q>;</td></tr>
<tr><th id="601">601</th><td>  <a class="local col7 ref" href="#157PrintObj" title='PrintObj' data-ref="157PrintObj" data-ref-filename="157PrintObj">PrintObj</a><a class="tu ref fn" href="#_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_" title='(anonymous namespace)::operator&lt;&lt;(llvm::raw_ostream &amp;, const (anonymous namespace)::PartwordMaskValues &amp;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_" data-ref-filename="_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_">(<a class="local col6 ref" href="#156PMV" title='PMV' data-ref="156PMV" data-ref-filename="156PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>)</a>;</td></tr>
<tr><th id="602">602</th><td>  <a class="local col5 ref" href="#155O" title='O' data-ref="155O" data-ref-filename="155O">O</a> <a class="ref fn" href="../../include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEPKc" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEPKc" data-ref-filename="_ZN4llvm11raw_ostreamlsEPKc">&lt;&lt;</a> <q>"  ValueType: "</q>;</td></tr>
<tr><th id="603">603</th><td>  <a class="local col7 ref" href="#157PrintObj" title='PrintObj' data-ref="157PrintObj" data-ref-filename="157PrintObj">PrintObj</a><a class="tu ref fn" href="#_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_" title='(anonymous namespace)::operator&lt;&lt;(llvm::raw_ostream &amp;, const (anonymous namespace)::PartwordMaskValues &amp;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_" data-ref-filename="_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_">(<a class="local col6 ref" href="#156PMV" title='PMV' data-ref="156PMV" data-ref-filename="156PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ValueType" title='(anonymous namespace)::PartwordMaskValues::ValueType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ValueType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ValueType">ValueType</a>)</a>;</td></tr>
<tr><th id="604">604</th><td>  <a class="local col5 ref" href="#155O" title='O' data-ref="155O" data-ref-filename="155O">O</a> <a class="ref fn" href="../../include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEPKc" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEPKc" data-ref-filename="_ZN4llvm11raw_ostreamlsEPKc">&lt;&lt;</a> <q>"  AlignedAddr: "</q>;</td></tr>
<tr><th id="605">605</th><td>  <a class="local col7 ref" href="#157PrintObj" title='PrintObj' data-ref="157PrintObj" data-ref-filename="157PrintObj">PrintObj</a><a class="tu ref fn" href="#_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_" title='(anonymous namespace)::operator&lt;&lt;(llvm::raw_ostream &amp;, const (anonymous namespace)::PartwordMaskValues &amp;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_" data-ref-filename="_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_">(<a class="local col6 ref" href="#156PMV" title='PMV' data-ref="156PMV" data-ref-filename="156PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::AlignedAddr" title='(anonymous namespace)::PartwordMaskValues::AlignedAddr' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..AlignedAddr">AlignedAddr</a>)</a>;</td></tr>
<tr><th id="606">606</th><td>  <a class="local col5 ref" href="#155O" title='O' data-ref="155O" data-ref-filename="155O">O</a> <a class="ref fn" href="../../include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEPKc" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEPKc" data-ref-filename="_ZN4llvm11raw_ostreamlsEPKc">&lt;&lt;</a> <q>"  ShiftAmt: "</q>;</td></tr>
<tr><th id="607">607</th><td>  <a class="local col7 ref" href="#157PrintObj" title='PrintObj' data-ref="157PrintObj" data-ref-filename="157PrintObj">PrintObj</a><a class="tu ref fn" href="#_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_" title='(anonymous namespace)::operator&lt;&lt;(llvm::raw_ostream &amp;, const (anonymous namespace)::PartwordMaskValues &amp;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_" data-ref-filename="_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_">(<a class="local col6 ref" href="#156PMV" title='PMV' data-ref="156PMV" data-ref-filename="156PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a>)</a>;</td></tr>
<tr><th id="608">608</th><td>  <a class="local col5 ref" href="#155O" title='O' data-ref="155O" data-ref-filename="155O">O</a> <a class="ref fn" href="../../include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEPKc" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEPKc" data-ref-filename="_ZN4llvm11raw_ostreamlsEPKc">&lt;&lt;</a> <q>"  Mask: "</q>;</td></tr>
<tr><th id="609">609</th><td>  <a class="local col7 ref" href="#157PrintObj" title='PrintObj' data-ref="157PrintObj" data-ref-filename="157PrintObj">PrintObj</a><a class="tu ref fn" href="#_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_" title='(anonymous namespace)::operator&lt;&lt;(llvm::raw_ostream &amp;, const (anonymous namespace)::PartwordMaskValues &amp;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_" data-ref-filename="_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_">(<a class="local col6 ref" href="#156PMV" title='PMV' data-ref="156PMV" data-ref-filename="156PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Mask" title='(anonymous namespace)::PartwordMaskValues::Mask' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Mask">Mask</a>)</a>;</td></tr>
<tr><th id="610">610</th><td>  <a class="local col5 ref" href="#155O" title='O' data-ref="155O" data-ref-filename="155O">O</a> <a class="ref fn" href="../../include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEPKc" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEPKc" data-ref-filename="_ZN4llvm11raw_ostreamlsEPKc">&lt;&lt;</a> <q>"  Inv_Mask: "</q>;</td></tr>
<tr><th id="611">611</th><td>  <a class="local col7 ref" href="#157PrintObj" title='PrintObj' data-ref="157PrintObj" data-ref-filename="157PrintObj">PrintObj</a><a class="tu ref fn" href="#_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_" title='(anonymous namespace)::operator&lt;&lt;(llvm::raw_ostream &amp;, const (anonymous namespace)::PartwordMaskValues &amp;)::(anonymous class)::operator()' data-use='c' data-ref="_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_" data-ref-filename="_ZZN12_GLOBAL__N_1lsERN4llvm11raw_ostreamERKNS_18PartwordMaskValuesEENK3$_0clEPT_">(<a class="local col6 ref" href="#156PMV" title='PMV' data-ref="156PMV" data-ref-filename="156PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Inv_Mask" title='(anonymous namespace)::PartwordMaskValues::Inv_Mask' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::Inv_Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Inv_Mask">Inv_Mask</a>)</a>;</td></tr>
<tr><th id="612">612</th><td>  <a class="local col5 ref" href="#155O" title='O' data-ref="155O" data-ref-filename="155O">O</a> <a class="ref fn" href="../../include/llvm/Support/raw_ostream.h.html#_ZN4llvm11raw_ostreamlsEPKc" title='llvm::raw_ostream::operator&lt;&lt;' data-ref="_ZN4llvm11raw_ostreamlsEPKc" data-ref-filename="_ZN4llvm11raw_ostreamlsEPKc">&lt;&lt;</a> <q>"}\n"</q>;</td></tr>
<tr><th id="613">613</th><td>  <b>return</b> <a class="local col5 ref" href="#155O" title='O' data-ref="155O" data-ref-filename="155O">O</a>;</td></tr>
<tr><th id="614">614</th><td>}</td></tr>
<tr><th id="615">615</th><td></td></tr>
<tr><th id="616">616</th><td>} <i>// end anonymous namespace</i></td></tr>
<tr><th id="617">617</th><td></td></tr>
<tr><th id="618">618</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">/// This is a helper function which builds instructions to provide</i></td></tr>
<tr><th id="619">619</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">/// values necessary for partword atomic operations. It takes an</i></td></tr>
<tr><th id="620">620</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">/// incoming address, Addr, and ValueType, and constructs the address,</i></td></tr>
<tr><th id="621">621</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">/// shift-amounts and masks needed to work with a larger value of size</i></td></tr>
<tr><th id="622">622</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">/// WordSize.</i></td></tr>
<tr><th id="623">623</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">///</i></td></tr>
<tr><th id="624">624</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">/// AlignedAddr: Addr rounded down to a multiple of WordSize</i></td></tr>
<tr><th id="625">625</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">///</i></td></tr>
<tr><th id="626">626</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">/// ShiftAmt: Number of bits to right-shift a WordSize value loaded</i></td></tr>
<tr><th id="627">627</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">///           from AlignAddr for it to have the same value as if</i></td></tr>
<tr><th id="628">628</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">///           ValueType was loaded from Addr.</i></td></tr>
<tr><th id="629">629</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">///</i></td></tr>
<tr><th id="630">630</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">/// Mask: Value to mask with the value loaded from AlignAddr to</i></td></tr>
<tr><th id="631">631</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">///       include only the part that would've been loaded from Addr.</i></td></tr>
<tr><th id="632">632</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">///</i></td></tr>
<tr><th id="633">633</th><td><i class="doc" data-doc="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">/// Inv_Mask: The inverse of Mask.</i></td></tr>
<tr><th id="634">634</th><td><em>static</em> <a class="tu type" href="#(anonymousnamespace)::PartwordMaskValues" title='(anonymous namespace)::PartwordMaskValues' data-ref="(anonymousnamespace)::PartwordMaskValues" data-ref-filename="(anonymousnamespace)..PartwordMaskValues">PartwordMaskValues</a> <dfn class="tu decl def fn" id="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj" title='createMaskInstrs' data-type='(anonymous namespace)::PartwordMaskValues createMaskInstrs(IRBuilder&lt;&gt; &amp; Builder, llvm::Instruction * I, llvm::Type * ValueType, llvm::Value * Addr, unsigned int MinWordSize)' data-ref="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj" data-ref-filename="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">createMaskInstrs</dfn>(<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col9 decl" id="159Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="159Builder" data-ref-filename="159Builder">Builder</dfn>, <a class="type" href="../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col0 decl" id="160I" title='I' data-type='llvm::Instruction *' data-ref="160I" data-ref-filename="160I">I</dfn>,</td></tr>
<tr><th id="635">635</th><td>                                           <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col1 decl" id="161ValueType" title='ValueType' data-type='llvm::Type *' data-ref="161ValueType" data-ref-filename="161ValueType">ValueType</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="162Addr" title='Addr' data-type='llvm::Value *' data-ref="162Addr" data-ref-filename="162Addr">Addr</dfn>,</td></tr>
<tr><th id="636">636</th><td>                                           <em>unsigned</em> <dfn class="local col3 decl" id="163MinWordSize" title='MinWordSize' data-type='unsigned int' data-ref="163MinWordSize" data-ref-filename="163MinWordSize">MinWordSize</dfn>) {</td></tr>
<tr><th id="637">637</th><td>  <a class="tu type" href="#(anonymousnamespace)::PartwordMaskValues" title='(anonymous namespace)::PartwordMaskValues' data-ref="(anonymousnamespace)::PartwordMaskValues" data-ref-filename="(anonymousnamespace)..PartwordMaskValues">PartwordMaskValues</a> <a class="tu ref fn fake" href="#579" title='(anonymous namespace)::PartwordMaskValues::PartwordMaskValues' data-use='c' data-ref="_ZN12_GLOBAL__N_118PartwordMaskValuesC1Ev" data-ref-filename="_ZN12_GLOBAL__N_118PartwordMaskValuesC1Ev"></a><dfn class="local col4 decl" id="164PMV" title='PMV' data-type='(anonymous namespace)::PartwordMaskValues' data-ref="164PMV" data-ref-filename="164PMV">PMV</dfn>;</td></tr>
<tr><th id="638">638</th><td></td></tr>
<tr><th id="639">639</th><td>  <a class="type" href="../../include/llvm/IR/Module.h.html#llvm::Module" title='llvm::Module' data-ref="llvm::Module" data-ref-filename="llvm..Module">Module</a> *<dfn class="local col5 decl" id="165M" title='M' data-type='llvm::Module *' data-ref="165M" data-ref-filename="165M">M</dfn> = <a class="local col0 ref" href="#160I" title='I' data-ref="160I" data-ref-filename="160I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getModuleEv" title='llvm::Instruction::getModule' data-ref="_ZN4llvm11Instruction9getModuleEv" data-ref-filename="_ZN4llvm11Instruction9getModuleEv">getModule</a>();</td></tr>
<tr><th id="640">640</th><td>  <a class="type" href="../../include/llvm/IR/LLVMContext.h.html#llvm::LLVMContext" title='llvm::LLVMContext' data-ref="llvm::LLVMContext" data-ref-filename="llvm..LLVMContext">LLVMContext</a> &amp;<dfn class="local col6 decl" id="166Ctx" title='Ctx' data-type='llvm::LLVMContext &amp;' data-ref="166Ctx" data-ref-filename="166Ctx">Ctx</dfn> = <a class="local col5 ref" href="#165M" title='M' data-ref="165M" data-ref-filename="165M">M</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Module.h.html#_ZNK4llvm6Module10getContextEv" title='llvm::Module::getContext' data-ref="_ZNK4llvm6Module10getContextEv" data-ref-filename="_ZNK4llvm6Module10getContextEv">getContext</a>();</td></tr>
<tr><th id="641">641</th><td>  <em>const</em> <a class="type" href="../../include/llvm/IR/DataLayout.h.html#llvm::DataLayout" title='llvm::DataLayout' data-ref="llvm::DataLayout" data-ref-filename="llvm..DataLayout">DataLayout</a> &amp;<dfn class="local col7 decl" id="167DL" title='DL' data-type='const llvm::DataLayout &amp;' data-ref="167DL" data-ref-filename="167DL">DL</dfn> = <a class="local col5 ref" href="#165M" title='M' data-ref="165M" data-ref-filename="165M">M</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Module.h.html#_ZNK4llvm6Module13getDataLayoutEv" title='llvm::Module::getDataLayout' data-ref="_ZNK4llvm6Module13getDataLayoutEv" data-ref-filename="_ZNK4llvm6Module13getDataLayoutEv">getDataLayout</a>();</td></tr>
<tr><th id="642">642</th><td>  <em>unsigned</em> <dfn class="local col8 decl" id="168ValueSize" title='ValueSize' data-type='unsigned int' data-ref="168ValueSize" data-ref-filename="168ValueSize">ValueSize</dfn> = <a class="ref fn fake" href="../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col7 ref" href="#167DL" title='DL' data-ref="167DL" data-ref-filename="167DL">DL</a>.<a class="ref fn" href="../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE" title='llvm::DataLayout::getTypeStoreSize' data-ref="_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getTypeStoreSizeEPNS_4TypeE">getTypeStoreSize</a>(<a class="local col1 ref" href="#161ValueType" title='ValueType' data-ref="161ValueType" data-ref-filename="161ValueType">ValueType</a>);</td></tr>
<tr><th id="643">643</th><td></td></tr>
<tr><th id="644">644</th><td>  <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ValueType" title='(anonymous namespace)::PartwordMaskValues::ValueType' data-use='w' data-ref="(anonymousnamespace)::PartwordMaskValues::ValueType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ValueType">ValueType</a> = <a class="local col1 ref" href="#161ValueType" title='ValueType' data-ref="161ValueType" data-ref-filename="161ValueType">ValueType</a>;</td></tr>
<tr><th id="645">645</th><td>  <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='w' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a> = <a class="local col3 ref" href="#163MinWordSize" title='MinWordSize' data-ref="163MinWordSize" data-ref-filename="163MinWordSize">MinWordSize</a> &gt; <a class="local col8 ref" href="#168ValueSize" title='ValueSize' data-ref="168ValueSize" data-ref-filename="168ValueSize">ValueSize</a> ? <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type9getIntNTyERNS_11LLVMContextEj" title='llvm::Type::getIntNTy' data-ref="_ZN4llvm4Type9getIntNTyERNS_11LLVMContextEj" data-ref-filename="_ZN4llvm4Type9getIntNTyERNS_11LLVMContextEj">getIntNTy</a>(<span class='refarg'><a class="local col6 ref" href="#166Ctx" title='Ctx' data-ref="166Ctx" data-ref-filename="166Ctx">Ctx</a></span>, <a class="local col3 ref" href="#163MinWordSize" title='MinWordSize' data-ref="163MinWordSize" data-ref-filename="163MinWordSize">MinWordSize</a> * <var>8</var>)</td></tr>
<tr><th id="646">646</th><td>                                         : <a class="local col1 ref" href="#161ValueType" title='ValueType' data-ref="161ValueType" data-ref-filename="161ValueType">ValueType</a>;</td></tr>
<tr><th id="647">647</th><td>  <b>if</b> (<a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ValueType" title='(anonymous namespace)::PartwordMaskValues::ValueType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ValueType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ValueType">ValueType</a> == <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>) {</td></tr>
<tr><th id="648">648</th><td>    <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::AlignedAddr" title='(anonymous namespace)::PartwordMaskValues::AlignedAddr' data-use='w' data-ref="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..AlignedAddr">AlignedAddr</a> = <a class="local col2 ref" href="#162Addr" title='Addr' data-ref="162Addr" data-ref-filename="162Addr">Addr</a>;</td></tr>
<tr><th id="649">649</th><td>    <b>return</b> <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>;</td></tr>
<tr><th id="650">650</th><td>  }</td></tr>
<tr><th id="651">651</th><td></td></tr>
<tr><th id="652">652</th><td>  <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(ValueSize &lt; MinWordSize);</td></tr>
<tr><th id="653">653</th><td></td></tr>
<tr><th id="654">654</th><td>  <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col9 decl" id="169WordPtrType" title='WordPtrType' data-type='llvm::Type *' data-ref="169WordPtrType" data-ref-filename="169WordPtrType">WordPtrType</dfn> =</td></tr>
<tr><th id="655">655</th><td>      <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type12getPointerToEj" title='llvm::Type::getPointerTo' data-ref="_ZNK4llvm4Type12getPointerToEj" data-ref-filename="_ZNK4llvm4Type12getPointerToEj">getPointerTo</a>(<a class="local col2 ref" href="#162Addr" title='Addr' data-ref="162Addr" data-ref-filename="162Addr">Addr</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPointerAddressSpaceEv" title='llvm::Type::getPointerAddressSpace' data-ref="_ZNK4llvm4Type22getPointerAddressSpaceEv" data-ref-filename="_ZNK4llvm4Type22getPointerAddressSpaceEv">getPointerAddressSpace</a>());</td></tr>
<tr><th id="656">656</th><td></td></tr>
<tr><th id="657">657</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="170AddrInt" title='AddrInt' data-type='llvm::Value *' data-ref="170AddrInt" data-ref-filename="170AddrInt">AddrInt</dfn> = <a class="local col9 ref" href="#159Builder" title='Builder' data-ref="159Builder" data-ref-filename="159Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14CreatePtrToIntEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreatePtrToInt' data-ref="_ZN4llvm13IRBuilderBase14CreatePtrToIntEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase14CreatePtrToIntEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreatePtrToInt</a>(<a class="local col2 ref" href="#162Addr" title='Addr' data-ref="162Addr" data-ref-filename="162Addr">Addr</a>, <a class="local col7 ref" href="#167DL" title='DL' data-ref="167DL" data-ref-filename="167DL">DL</a>.<a class="ref fn" href="../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout13getIntPtrTypeERNS_11LLVMContextEj" title='llvm::DataLayout::getIntPtrType' data-ref="_ZNK4llvm10DataLayout13getIntPtrTypeERNS_11LLVMContextEj" data-ref-filename="_ZNK4llvm10DataLayout13getIntPtrTypeERNS_11LLVMContextEj">getIntPtrType</a>(<span class='refarg'><a class="local col6 ref" href="#166Ctx" title='Ctx' data-ref="166Ctx" data-ref-filename="166Ctx">Ctx</a></span>));</td></tr>
<tr><th id="658">658</th><td>  <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::AlignedAddr" title='(anonymous namespace)::PartwordMaskValues::AlignedAddr' data-use='w' data-ref="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..AlignedAddr">AlignedAddr</a> = <a class="local col9 ref" href="#159Builder" title='Builder' data-ref="159Builder" data-ref-filename="159Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14CreateIntToPtrEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateIntToPtr' data-ref="_ZN4llvm13IRBuilderBase14CreateIntToPtrEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase14CreateIntToPtrEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateIntToPtr</a>(</td></tr>
<tr><th id="659">659</th><td>      <a class="local col9 ref" href="#159Builder" title='Builder' data-ref="159Builder" data-ref-filename="159Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueEmRKNS_5TwineE" title='llvm::IRBuilderBase::CreateAnd' data-ref="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueEmRKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueEmRKNS_5TwineE">CreateAnd</a>(<a class="local col0 ref" href="#170AddrInt" title='AddrInt' data-ref="170AddrInt" data-ref-filename="170AddrInt">AddrInt</a>, ~(<a class="typedef" href="../../../../include/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>)(<a class="local col3 ref" href="#163MinWordSize" title='MinWordSize' data-ref="163MinWordSize" data-ref-filename="163MinWordSize">MinWordSize</a> - <var>1</var>)), <a class="local col9 ref" href="#169WordPtrType" title='WordPtrType' data-ref="169WordPtrType" data-ref-filename="169WordPtrType">WordPtrType</a>,</td></tr>
<tr><th id="660">660</th><td>      <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"AlignedAddr"</q>);</td></tr>
<tr><th id="661">661</th><td></td></tr>
<tr><th id="662">662</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="171PtrLSB" title='PtrLSB' data-type='llvm::Value *' data-ref="171PtrLSB" data-ref-filename="171PtrLSB">PtrLSB</dfn> = <a class="local col9 ref" href="#159Builder" title='Builder' data-ref="159Builder" data-ref-filename="159Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueEmRKNS_5TwineE" title='llvm::IRBuilderBase::CreateAnd' data-ref="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueEmRKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueEmRKNS_5TwineE">CreateAnd</a>(<a class="local col0 ref" href="#170AddrInt" title='AddrInt' data-ref="170AddrInt" data-ref-filename="170AddrInt">AddrInt</a>, <a class="local col3 ref" href="#163MinWordSize" title='MinWordSize' data-ref="163MinWordSize" data-ref-filename="163MinWordSize">MinWordSize</a> - <var>1</var>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"PtrLSB"</q>);</td></tr>
<tr><th id="663">663</th><td>  <b>if</b> (<a class="local col7 ref" href="#167DL" title='DL' data-ref="167DL" data-ref-filename="167DL">DL</a>.<a class="ref fn" href="../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout14isLittleEndianEv" title='llvm::DataLayout::isLittleEndian' data-ref="_ZNK4llvm10DataLayout14isLittleEndianEv" data-ref-filename="_ZNK4llvm10DataLayout14isLittleEndianEv">isLittleEndian</a>()) {</td></tr>
<tr><th id="664">664</th><td>    <i>// turn bytes into bits</i></td></tr>
<tr><th id="665">665</th><td>    <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='w' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a> = <a class="local col9 ref" href="#159Builder" title='Builder' data-ref="159Builder" data-ref-filename="159Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueEmRKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateShl' data-ref="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueEmRKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueEmRKNS_5TwineEbb">CreateShl</a>(<a class="local col1 ref" href="#171PtrLSB" title='PtrLSB' data-ref="171PtrLSB" data-ref-filename="171PtrLSB">PtrLSB</a>, <var>3</var>);</td></tr>
<tr><th id="666">666</th><td>  } <b>else</b> {</td></tr>
<tr><th id="667">667</th><td>    <i>// turn bytes into bits, and count from the other side.</i></td></tr>
<tr><th id="668">668</th><td>    <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='w' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a> = <a class="local col9 ref" href="#159Builder" title='Builder' data-ref="159Builder" data-ref-filename="159Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueEmRKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateShl' data-ref="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueEmRKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueEmRKNS_5TwineEbb">CreateShl</a>(</td></tr>
<tr><th id="669">669</th><td>        <a class="local col9 ref" href="#159Builder" title='Builder' data-ref="159Builder" data-ref-filename="159Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateXorEPNS_5ValueEmRKNS_5TwineE" title='llvm::IRBuilderBase::CreateXor' data-ref="_ZN4llvm13IRBuilderBase9CreateXorEPNS_5ValueEmRKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateXorEPNS_5ValueEmRKNS_5TwineE">CreateXor</a>(<a class="local col1 ref" href="#171PtrLSB" title='PtrLSB' data-ref="171PtrLSB" data-ref-filename="171PtrLSB">PtrLSB</a>, <a class="local col3 ref" href="#163MinWordSize" title='MinWordSize' data-ref="163MinWordSize" data-ref-filename="163MinWordSize">MinWordSize</a> - <a class="local col8 ref" href="#168ValueSize" title='ValueSize' data-ref="168ValueSize" data-ref-filename="168ValueSize">ValueSize</a>), <var>3</var>);</td></tr>
<tr><th id="670">670</th><td>  }</td></tr>
<tr><th id="671">671</th><td></td></tr>
<tr><th id="672">672</th><td>  <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='w' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a> = <a class="local col9 ref" href="#159Builder" title='Builder' data-ref="159Builder" data-ref-filename="159Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateTruncEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateTrunc' data-ref="_ZN4llvm13IRBuilderBase11CreateTruncEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateTruncEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateTrunc</a>(<a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a>, <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"ShiftAmt"</q>);</td></tr>
<tr><th id="673">673</th><td>  <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Mask" title='(anonymous namespace)::PartwordMaskValues::Mask' data-use='w' data-ref="(anonymousnamespace)::PartwordMaskValues::Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Mask">Mask</a> = <a class="local col9 ref" href="#159Builder" title='Builder' data-ref="159Builder" data-ref-filename="159Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateShl' data-ref="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb">CreateShl</a>(</td></tr>
<tr><th id="674">674</th><td>      <a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_4TypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_4TypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_4TypeEmb">get</a>(<a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>, (<var>1</var> &lt;&lt; (<a class="local col8 ref" href="#168ValueSize" title='ValueSize' data-ref="168ValueSize" data-ref-filename="168ValueSize">ValueSize</a> * <var>8</var>)) - <var>1</var>), <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a>,</td></tr>
<tr><th id="675">675</th><td>      <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"Mask"</q>);</td></tr>
<tr><th id="676">676</th><td>  <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Inv_Mask" title='(anonymous namespace)::PartwordMaskValues::Inv_Mask' data-use='w' data-ref="(anonymousnamespace)::PartwordMaskValues::Inv_Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Inv_Mask">Inv_Mask</a> = <a class="local col9 ref" href="#159Builder" title='Builder' data-ref="159Builder" data-ref-filename="159Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateNotEPNS_5ValueERKNS_5TwineE" title='llvm::IRBuilderBase::CreateNot' data-ref="_ZN4llvm13IRBuilderBase9CreateNotEPNS_5ValueERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateNotEPNS_5ValueERKNS_5TwineE">CreateNot</a>(<a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Mask" title='(anonymous namespace)::PartwordMaskValues::Mask' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Mask">Mask</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"Inv_Mask"</q>);</td></tr>
<tr><th id="677">677</th><td>  <b>return</b> <a class="local col4 ref" href="#164PMV" title='PMV' data-ref="164PMV" data-ref-filename="164PMV">PMV</a>;</td></tr>
<tr><th id="678">678</th><td>}</td></tr>
<tr><th id="679">679</th><td></td></tr>
<tr><th id="680">680</th><td><em>static</em> <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="tu decl def fn" id="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" title='extractMaskedValue' data-type='llvm::Value * extractMaskedValue(IRBuilder&lt;&gt; &amp; Builder, llvm::Value * WideWord, const (anonymous namespace)::PartwordMaskValues &amp; PMV)' data-ref="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" data-ref-filename="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE">extractMaskedValue</dfn>(<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col2 decl" id="172Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="172Builder" data-ref-filename="172Builder">Builder</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="173WideWord" title='WideWord' data-type='llvm::Value *' data-ref="173WideWord" data-ref-filename="173WideWord">WideWord</dfn>,</td></tr>
<tr><th id="681">681</th><td>                                 <em>const</em> <a class="tu type" href="#(anonymousnamespace)::PartwordMaskValues" title='(anonymous namespace)::PartwordMaskValues' data-ref="(anonymousnamespace)::PartwordMaskValues" data-ref-filename="(anonymousnamespace)..PartwordMaskValues">PartwordMaskValues</a> &amp;<dfn class="local col4 decl" id="174PMV" title='PMV' data-type='const (anonymous namespace)::PartwordMaskValues &amp;' data-ref="174PMV" data-ref-filename="174PMV">PMV</dfn>) {</td></tr>
<tr><th id="682">682</th><td>  <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(WideWord-&gt;getType() == PMV.WordType &amp;&amp; <q>"Widened type mismatch"</q>);</td></tr>
<tr><th id="683">683</th><td>  <b>if</b> (<a class="local col4 ref" href="#174PMV" title='PMV' data-ref="174PMV" data-ref-filename="174PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a> == <a class="local col4 ref" href="#174PMV" title='PMV' data-ref="174PMV" data-ref-filename="174PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ValueType" title='(anonymous namespace)::PartwordMaskValues::ValueType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ValueType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ValueType">ValueType</a>)</td></tr>
<tr><th id="684">684</th><td>    <b>return</b> <a class="local col3 ref" href="#173WideWord" title='WideWord' data-ref="173WideWord" data-ref-filename="173WideWord">WideWord</a>;</td></tr>
<tr><th id="685">685</th><td></td></tr>
<tr><th id="686">686</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="175Shift" title='Shift' data-type='llvm::Value *' data-ref="175Shift" data-ref-filename="175Shift">Shift</dfn> = <a class="local col2 ref" href="#172Builder" title='Builder' data-ref="172Builder" data-ref-filename="172Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateLShrEPNS_5ValueES2_RKNS_5TwineEb" title='llvm::IRBuilderBase::CreateLShr' data-ref="_ZN4llvm13IRBuilderBase10CreateLShrEPNS_5ValueES2_RKNS_5TwineEb" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateLShrEPNS_5ValueES2_RKNS_5TwineEb">CreateLShr</a>(<a class="local col3 ref" href="#173WideWord" title='WideWord' data-ref="173WideWord" data-ref-filename="173WideWord">WideWord</a>, <a class="local col4 ref" href="#174PMV" title='PMV' data-ref="174PMV" data-ref-filename="174PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"shifted"</q>);</td></tr>
<tr><th id="687">687</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="176Trunc" title='Trunc' data-type='llvm::Value *' data-ref="176Trunc" data-ref-filename="176Trunc">Trunc</dfn> = <a class="local col2 ref" href="#172Builder" title='Builder' data-ref="172Builder" data-ref-filename="172Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateTruncEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateTrunc' data-ref="_ZN4llvm13IRBuilderBase11CreateTruncEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateTruncEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateTrunc</a>(<a class="local col5 ref" href="#175Shift" title='Shift' data-ref="175Shift" data-ref-filename="175Shift">Shift</a>, <a class="local col4 ref" href="#174PMV" title='PMV' data-ref="174PMV" data-ref-filename="174PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ValueType" title='(anonymous namespace)::PartwordMaskValues::ValueType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ValueType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ValueType">ValueType</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"extracted"</q>);</td></tr>
<tr><th id="688">688</th><td>  <b>return</b> <a class="local col6 ref" href="#176Trunc" title='Trunc' data-ref="176Trunc" data-ref-filename="176Trunc">Trunc</a>;</td></tr>
<tr><th id="689">689</th><td>}</td></tr>
<tr><th id="690">690</th><td></td></tr>
<tr><th id="691">691</th><td><em>static</em> <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="tu decl def fn" id="_ZL17insertMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_RKN12_GLOBAL__N_118PartwordMaskValuesE" title='insertMaskedValue' data-type='llvm::Value * insertMaskedValue(IRBuilder&lt;&gt; &amp; Builder, llvm::Value * WideWord, llvm::Value * Updated, const (anonymous namespace)::PartwordMaskValues &amp; PMV)' data-ref="_ZL17insertMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_RKN12_GLOBAL__N_118PartwordMaskValuesE" data-ref-filename="_ZL17insertMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_RKN12_GLOBAL__N_118PartwordMaskValuesE">insertMaskedValue</dfn>(<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col7 decl" id="177Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="177Builder" data-ref-filename="177Builder">Builder</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="178WideWord" title='WideWord' data-type='llvm::Value *' data-ref="178WideWord" data-ref-filename="178WideWord">WideWord</dfn>,</td></tr>
<tr><th id="692">692</th><td>                                <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="179Updated" title='Updated' data-type='llvm::Value *' data-ref="179Updated" data-ref-filename="179Updated">Updated</dfn>, <em>const</em> <a class="tu type" href="#(anonymousnamespace)::PartwordMaskValues" title='(anonymous namespace)::PartwordMaskValues' data-ref="(anonymousnamespace)::PartwordMaskValues" data-ref-filename="(anonymousnamespace)..PartwordMaskValues">PartwordMaskValues</a> &amp;<dfn class="local col0 decl" id="180PMV" title='PMV' data-type='const (anonymous namespace)::PartwordMaskValues &amp;' data-ref="180PMV" data-ref-filename="180PMV">PMV</dfn>) {</td></tr>
<tr><th id="693">693</th><td>  <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(WideWord-&gt;getType() == PMV.WordType &amp;&amp; <q>"Widened type mismatch"</q>);</td></tr>
<tr><th id="694">694</th><td>  <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Updated-&gt;getType() == PMV.ValueType &amp;&amp; <q>"Value type mismatch"</q>);</td></tr>
<tr><th id="695">695</th><td>  <b>if</b> (<a class="local col0 ref" href="#180PMV" title='PMV' data-ref="180PMV" data-ref-filename="180PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a> == <a class="local col0 ref" href="#180PMV" title='PMV' data-ref="180PMV" data-ref-filename="180PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ValueType" title='(anonymous namespace)::PartwordMaskValues::ValueType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ValueType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ValueType">ValueType</a>)</td></tr>
<tr><th id="696">696</th><td>    <b>return</b> <a class="local col9 ref" href="#179Updated" title='Updated' data-ref="179Updated" data-ref-filename="179Updated">Updated</a>;</td></tr>
<tr><th id="697">697</th><td></td></tr>
<tr><th id="698">698</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="181ZExt" title='ZExt' data-type='llvm::Value *' data-ref="181ZExt" data-ref-filename="181ZExt">ZExt</dfn> = <a class="local col7 ref" href="#177Builder" title='Builder' data-ref="177Builder" data-ref-filename="177Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateZExt' data-ref="_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateZExt</a>(<a class="local col9 ref" href="#179Updated" title='Updated' data-ref="179Updated" data-ref-filename="179Updated">Updated</a>, <a class="local col0 ref" href="#180PMV" title='PMV' data-ref="180PMV" data-ref-filename="180PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"extended"</q>);</td></tr>
<tr><th id="699">699</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="182Shift" title='Shift' data-type='llvm::Value *' data-ref="182Shift" data-ref-filename="182Shift">Shift</dfn> =</td></tr>
<tr><th id="700">700</th><td>      <a class="local col7 ref" href="#177Builder" title='Builder' data-ref="177Builder" data-ref-filename="177Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateShl' data-ref="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb">CreateShl</a>(<a class="local col1 ref" href="#181ZExt" title='ZExt' data-ref="181ZExt" data-ref-filename="181ZExt">ZExt</a>, <a class="local col0 ref" href="#180PMV" title='PMV' data-ref="180PMV" data-ref-filename="180PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"shifted"</q>, <i>/*HasNUW*/</i> <b>true</b>);</td></tr>
<tr><th id="701">701</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="183And" title='And' data-type='llvm::Value *' data-ref="183And" data-ref-filename="183And">And</dfn> = <a class="local col7 ref" href="#177Builder" title='Builder' data-ref="177Builder" data-ref-filename="177Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateAnd' data-ref="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE">CreateAnd</a>(<a class="local col8 ref" href="#178WideWord" title='WideWord' data-ref="178WideWord" data-ref-filename="178WideWord">WideWord</a>, <a class="local col0 ref" href="#180PMV" title='PMV' data-ref="180PMV" data-ref-filename="180PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Inv_Mask" title='(anonymous namespace)::PartwordMaskValues::Inv_Mask' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::Inv_Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Inv_Mask">Inv_Mask</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"unmasked"</q>);</td></tr>
<tr><th id="702">702</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="184Or" title='Or' data-type='llvm::Value *' data-ref="184Or" data-ref-filename="184Or">Or</dfn> = <a class="local col7 ref" href="#177Builder" title='Builder' data-ref="177Builder" data-ref-filename="177Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateOr' data-ref="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE">CreateOr</a>(<a class="local col3 ref" href="#183And" title='And' data-ref="183And" data-ref-filename="183And">And</a>, <a class="local col2 ref" href="#182Shift" title='Shift' data-ref="182Shift" data-ref-filename="182Shift">Shift</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"inserted"</q>);</td></tr>
<tr><th id="703">703</th><td>  <b>return</b> <a class="local col4 ref" href="#184Or" title='Or' data-ref="184Or" data-ref-filename="184Or">Or</a>;</td></tr>
<tr><th id="704">704</th><td>}</td></tr>
<tr><th id="705">705</th><td></td></tr>
<tr><th id="706">706</th><td><i class="doc" data-doc="_ZL21performMaskedAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_S8_RKN12_GLOBAL2516351">/// Emit IR to implement a masked version of a given atomicrmw</i></td></tr>
<tr><th id="707">707</th><td><i class="doc" data-doc="_ZL21performMaskedAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_S8_RKN12_GLOBAL2516351">/// operation. (That is, only the bits under the Mask should be</i></td></tr>
<tr><th id="708">708</th><td><i class="doc" data-doc="_ZL21performMaskedAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_S8_RKN12_GLOBAL2516351">/// affected by the operation)</i></td></tr>
<tr><th id="709">709</th><td><em>static</em> <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="tu decl def fn" id="_ZL21performMaskedAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_S8_RKN12_GLOBAL2516351" title='performMaskedAtomicOp' data-type='llvm::Value * performMaskedAtomicOp(AtomicRMWInst::BinOp Op, IRBuilder&lt;&gt; &amp; Builder, llvm::Value * Loaded, llvm::Value * Shifted_Inc, llvm::Value * Inc, const (anonymous namespace)::PartwordMaskValues &amp; PMV)' data-ref="_ZL21performMaskedAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_S8_RKN12_GLOBAL2516351" data-ref-filename="_ZL21performMaskedAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_S8_RKN12_GLOBAL2516351">performMaskedAtomicOp</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::BinOp" title='llvm::AtomicRMWInst::BinOp' data-ref="llvm::AtomicRMWInst::BinOp" data-ref-filename="llvm..AtomicRMWInst..BinOp">BinOp</a> <dfn class="local col5 decl" id="185Op" title='Op' data-type='AtomicRMWInst::BinOp' data-ref="185Op" data-ref-filename="185Op">Op</dfn>,</td></tr>
<tr><th id="710">710</th><td>                                    <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col6 decl" id="186Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="186Builder" data-ref-filename="186Builder">Builder</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="187Loaded" title='Loaded' data-type='llvm::Value *' data-ref="187Loaded" data-ref-filename="187Loaded">Loaded</dfn>,</td></tr>
<tr><th id="711">711</th><td>                                    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="188Shifted_Inc" title='Shifted_Inc' data-type='llvm::Value *' data-ref="188Shifted_Inc" data-ref-filename="188Shifted_Inc">Shifted_Inc</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="189Inc" title='Inc' data-type='llvm::Value *' data-ref="189Inc" data-ref-filename="189Inc">Inc</dfn>,</td></tr>
<tr><th id="712">712</th><td>                                    <em>const</em> <a class="tu type" href="#(anonymousnamespace)::PartwordMaskValues" title='(anonymous namespace)::PartwordMaskValues' data-ref="(anonymousnamespace)::PartwordMaskValues" data-ref-filename="(anonymousnamespace)..PartwordMaskValues">PartwordMaskValues</a> &amp;<dfn class="local col0 decl" id="190PMV" title='PMV' data-type='const (anonymous namespace)::PartwordMaskValues &amp;' data-ref="190PMV" data-ref-filename="190PMV">PMV</dfn>) {</td></tr>
<tr><th id="713">713</th><td>  <i>// TODO: update to use</i></td></tr>
<tr><th id="714">714</th><td><i>  // <a href="https://graphics.stanford.edu/~seander/bithacks.html#MaskedMerge">https://graphics.stanford.edu/~seander/bithacks.html#MaskedMerge</a> in order</i></td></tr>
<tr><th id="715">715</th><td><i>  // to merge bits from two values without requiring PMV.Inv_Mask.</i></td></tr>
<tr><th id="716">716</th><td>  <b>switch</b> (<a class="local col5 ref" href="#185Op" title='Op' data-ref="185Op" data-ref-filename="185Op">Op</a>) {</td></tr>
<tr><th id="717">717</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Xchg" title='llvm::AtomicRMWInst::Xchg' data-ref="llvm::AtomicRMWInst::Xchg" data-ref-filename="llvm..AtomicRMWInst..Xchg">Xchg</a>: {</td></tr>
<tr><th id="718">718</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="191Loaded_MaskOut" title='Loaded_MaskOut' data-type='llvm::Value *' data-ref="191Loaded_MaskOut" data-ref-filename="191Loaded_MaskOut">Loaded_MaskOut</dfn> = <a class="local col6 ref" href="#186Builder" title='Builder' data-ref="186Builder" data-ref-filename="186Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateAnd' data-ref="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE">CreateAnd</a>(<a class="local col7 ref" href="#187Loaded" title='Loaded' data-ref="187Loaded" data-ref-filename="187Loaded">Loaded</a>, <a class="local col0 ref" href="#190PMV" title='PMV' data-ref="190PMV" data-ref-filename="190PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Inv_Mask" title='(anonymous namespace)::PartwordMaskValues::Inv_Mask' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::Inv_Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Inv_Mask">Inv_Mask</a>);</td></tr>
<tr><th id="719">719</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="192FinalVal" title='FinalVal' data-type='llvm::Value *' data-ref="192FinalVal" data-ref-filename="192FinalVal">FinalVal</dfn> = <a class="local col6 ref" href="#186Builder" title='Builder' data-ref="186Builder" data-ref-filename="186Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateOr' data-ref="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE">CreateOr</a>(<a class="local col1 ref" href="#191Loaded_MaskOut" title='Loaded_MaskOut' data-ref="191Loaded_MaskOut" data-ref-filename="191Loaded_MaskOut">Loaded_MaskOut</a>, <a class="local col8 ref" href="#188Shifted_Inc" title='Shifted_Inc' data-ref="188Shifted_Inc" data-ref-filename="188Shifted_Inc">Shifted_Inc</a>);</td></tr>
<tr><th id="720">720</th><td>    <b>return</b> <a class="local col2 ref" href="#192FinalVal" title='FinalVal' data-ref="192FinalVal" data-ref-filename="192FinalVal">FinalVal</a>;</td></tr>
<tr><th id="721">721</th><td>  }</td></tr>
<tr><th id="722">722</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Or" title='llvm::AtomicRMWInst::Or' data-ref="llvm::AtomicRMWInst::Or" data-ref-filename="llvm..AtomicRMWInst..Or">Or</a>:</td></tr>
<tr><th id="723">723</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Xor" title='llvm::AtomicRMWInst::Xor' data-ref="llvm::AtomicRMWInst::Xor" data-ref-filename="llvm..AtomicRMWInst..Xor">Xor</a>:</td></tr>
<tr><th id="724">724</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::And" title='llvm::AtomicRMWInst::And' data-ref="llvm::AtomicRMWInst::And" data-ref-filename="llvm..AtomicRMWInst..And">And</a>:</td></tr>
<tr><th id="725">725</th><td>    <a class="macro" href="../../include/llvm/Support/ErrorHandling.h.html#139" title="__builtin_unreachable()" data-ref="_M/llvm_unreachable">llvm_unreachable</a>(<q>"Or/Xor/And handled by widenPartwordAtomicRMW"</q>);</td></tr>
<tr><th id="726">726</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Add" title='llvm::AtomicRMWInst::Add' data-ref="llvm::AtomicRMWInst::Add" data-ref-filename="llvm..AtomicRMWInst..Add">Add</a>:</td></tr>
<tr><th id="727">727</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Sub" title='llvm::AtomicRMWInst::Sub' data-ref="llvm::AtomicRMWInst::Sub" data-ref-filename="llvm..AtomicRMWInst..Sub">Sub</a>:</td></tr>
<tr><th id="728">728</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Nand" title='llvm::AtomicRMWInst::Nand' data-ref="llvm::AtomicRMWInst::Nand" data-ref-filename="llvm..AtomicRMWInst..Nand">Nand</a>: {</td></tr>
<tr><th id="729">729</th><td>    <i>// The other arithmetic ops need to be masked into place.</i></td></tr>
<tr><th id="730">730</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="193NewVal" title='NewVal' data-type='llvm::Value *' data-ref="193NewVal" data-ref-filename="193NewVal">NewVal</dfn> = <a class="tu ref fn" href="#_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_" title='performAtomicOp' data-use='c' data-ref="_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_" data-ref-filename="_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_">performAtomicOp</a>(<a class="local col5 ref" href="#185Op" title='Op' data-ref="185Op" data-ref-filename="185Op">Op</a>, <span class='refarg'><a class="local col6 ref" href="#186Builder" title='Builder' data-ref="186Builder" data-ref-filename="186Builder">Builder</a></span>, <a class="local col7 ref" href="#187Loaded" title='Loaded' data-ref="187Loaded" data-ref-filename="187Loaded">Loaded</a>, <a class="local col8 ref" href="#188Shifted_Inc" title='Shifted_Inc' data-ref="188Shifted_Inc" data-ref-filename="188Shifted_Inc">Shifted_Inc</a>);</td></tr>
<tr><th id="731">731</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="194NewVal_Masked" title='NewVal_Masked' data-type='llvm::Value *' data-ref="194NewVal_Masked" data-ref-filename="194NewVal_Masked">NewVal_Masked</dfn> = <a class="local col6 ref" href="#186Builder" title='Builder' data-ref="186Builder" data-ref-filename="186Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateAnd' data-ref="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE">CreateAnd</a>(<a class="local col3 ref" href="#193NewVal" title='NewVal' data-ref="193NewVal" data-ref-filename="193NewVal">NewVal</a>, <a class="local col0 ref" href="#190PMV" title='PMV' data-ref="190PMV" data-ref-filename="190PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Mask" title='(anonymous namespace)::PartwordMaskValues::Mask' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Mask">Mask</a>);</td></tr>
<tr><th id="732">732</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="195Loaded_MaskOut" title='Loaded_MaskOut' data-type='llvm::Value *' data-ref="195Loaded_MaskOut" data-ref-filename="195Loaded_MaskOut">Loaded_MaskOut</dfn> = <a class="local col6 ref" href="#186Builder" title='Builder' data-ref="186Builder" data-ref-filename="186Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateAnd' data-ref="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE">CreateAnd</a>(<a class="local col7 ref" href="#187Loaded" title='Loaded' data-ref="187Loaded" data-ref-filename="187Loaded">Loaded</a>, <a class="local col0 ref" href="#190PMV" title='PMV' data-ref="190PMV" data-ref-filename="190PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Inv_Mask" title='(anonymous namespace)::PartwordMaskValues::Inv_Mask' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::Inv_Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Inv_Mask">Inv_Mask</a>);</td></tr>
<tr><th id="733">733</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="196FinalVal" title='FinalVal' data-type='llvm::Value *' data-ref="196FinalVal" data-ref-filename="196FinalVal">FinalVal</dfn> = <a class="local col6 ref" href="#186Builder" title='Builder' data-ref="186Builder" data-ref-filename="186Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateOr' data-ref="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE">CreateOr</a>(<a class="local col5 ref" href="#195Loaded_MaskOut" title='Loaded_MaskOut' data-ref="195Loaded_MaskOut" data-ref-filename="195Loaded_MaskOut">Loaded_MaskOut</a>, <a class="local col4 ref" href="#194NewVal_Masked" title='NewVal_Masked' data-ref="194NewVal_Masked" data-ref-filename="194NewVal_Masked">NewVal_Masked</a>);</td></tr>
<tr><th id="734">734</th><td>    <b>return</b> <a class="local col6 ref" href="#196FinalVal" title='FinalVal' data-ref="196FinalVal" data-ref-filename="196FinalVal">FinalVal</a>;</td></tr>
<tr><th id="735">735</th><td>  }</td></tr>
<tr><th id="736">736</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Max" title='llvm::AtomicRMWInst::Max' data-ref="llvm::AtomicRMWInst::Max" data-ref-filename="llvm..AtomicRMWInst..Max">Max</a>:</td></tr>
<tr><th id="737">737</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Min" title='llvm::AtomicRMWInst::Min' data-ref="llvm::AtomicRMWInst::Min" data-ref-filename="llvm..AtomicRMWInst..Min">Min</a>:</td></tr>
<tr><th id="738">738</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::UMax" title='llvm::AtomicRMWInst::UMax' data-ref="llvm::AtomicRMWInst::UMax" data-ref-filename="llvm..AtomicRMWInst..UMax">UMax</a>:</td></tr>
<tr><th id="739">739</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::UMin" title='llvm::AtomicRMWInst::UMin' data-ref="llvm::AtomicRMWInst::UMin" data-ref-filename="llvm..AtomicRMWInst..UMin">UMin</a>: {</td></tr>
<tr><th id="740">740</th><td>    <i>// Finally, comparison ops will operate on the full value, so</i></td></tr>
<tr><th id="741">741</th><td><i>    // truncate down to the original size, and expand out again after</i></td></tr>
<tr><th id="742">742</th><td><i>    // doing the operation.</i></td></tr>
<tr><th id="743">743</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="197Loaded_Extract" title='Loaded_Extract' data-type='llvm::Value *' data-ref="197Loaded_Extract" data-ref-filename="197Loaded_Extract">Loaded_Extract</dfn> = <a class="tu ref fn" href="#_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" title='extractMaskedValue' data-use='c' data-ref="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" data-ref-filename="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE">extractMaskedValue</a>(<span class='refarg'><a class="local col6 ref" href="#186Builder" title='Builder' data-ref="186Builder" data-ref-filename="186Builder">Builder</a></span>, <a class="local col7 ref" href="#187Loaded" title='Loaded' data-ref="187Loaded" data-ref-filename="187Loaded">Loaded</a>, <a class="local col0 ref" href="#190PMV" title='PMV' data-ref="190PMV" data-ref-filename="190PMV">PMV</a>);</td></tr>
<tr><th id="744">744</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="198NewVal" title='NewVal' data-type='llvm::Value *' data-ref="198NewVal" data-ref-filename="198NewVal">NewVal</dfn> = <a class="tu ref fn" href="#_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_" title='performAtomicOp' data-use='c' data-ref="_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_" data-ref-filename="_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_">performAtomicOp</a>(<a class="local col5 ref" href="#185Op" title='Op' data-ref="185Op" data-ref-filename="185Op">Op</a>, <span class='refarg'><a class="local col6 ref" href="#186Builder" title='Builder' data-ref="186Builder" data-ref-filename="186Builder">Builder</a></span>, <a class="local col7 ref" href="#197Loaded_Extract" title='Loaded_Extract' data-ref="197Loaded_Extract" data-ref-filename="197Loaded_Extract">Loaded_Extract</a>, <a class="local col9 ref" href="#189Inc" title='Inc' data-ref="189Inc" data-ref-filename="189Inc">Inc</a>);</td></tr>
<tr><th id="745">745</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="199FinalVal" title='FinalVal' data-type='llvm::Value *' data-ref="199FinalVal" data-ref-filename="199FinalVal">FinalVal</dfn> = <a class="tu ref fn" href="#_ZL17insertMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_RKN12_GLOBAL__N_118PartwordMaskValuesE" title='insertMaskedValue' data-use='c' data-ref="_ZL17insertMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_RKN12_GLOBAL__N_118PartwordMaskValuesE" data-ref-filename="_ZL17insertMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_RKN12_GLOBAL__N_118PartwordMaskValuesE">insertMaskedValue</a>(<span class='refarg'><a class="local col6 ref" href="#186Builder" title='Builder' data-ref="186Builder" data-ref-filename="186Builder">Builder</a></span>, <a class="local col7 ref" href="#187Loaded" title='Loaded' data-ref="187Loaded" data-ref-filename="187Loaded">Loaded</a>, <a class="local col8 ref" href="#198NewVal" title='NewVal' data-ref="198NewVal" data-ref-filename="198NewVal">NewVal</a>, <a class="local col0 ref" href="#190PMV" title='PMV' data-ref="190PMV" data-ref-filename="190PMV">PMV</a>);</td></tr>
<tr><th id="746">746</th><td>    <b>return</b> <a class="local col9 ref" href="#199FinalVal" title='FinalVal' data-ref="199FinalVal" data-ref-filename="199FinalVal">FinalVal</a>;</td></tr>
<tr><th id="747">747</th><td>  }</td></tr>
<tr><th id="748">748</th><td>  <b>default</b>:</td></tr>
<tr><th id="749">749</th><td>    <a class="macro" href="../../include/llvm/Support/ErrorHandling.h.html#139" title="__builtin_unreachable()" data-ref="_M/llvm_unreachable">llvm_unreachable</a>(<q>"Unknown atomic op"</q>);</td></tr>
<tr><th id="750">750</th><td>  }</td></tr>
<tr><th id="751">751</th><td>}</td></tr>
<tr><th id="752">752</th><td></td></tr>
<tr><th id="753">753</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE">/// Expand a sub-word atomicrmw operation into an appropriate</i></td></tr>
<tr><th id="754">754</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE">/// word-sized operation.</i></td></tr>
<tr><th id="755">755</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE">///</i></td></tr>
<tr><th id="756">756</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE">/// It will create an LL/SC or cmpxchg loop, as appropriate, the same</i></td></tr>
<tr><th id="757">757</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE">/// way as a typical atomicrmw expansion. The only difference here is</i></td></tr>
<tr><th id="758">758</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE">/// that the operation inside of the loop may operate upon only a</i></td></tr>
<tr><th id="759">759</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE">/// part of the value.</i></td></tr>
<tr><th id="760">760</th><td><em>void</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE" title='(anonymous namespace)::AtomicExpand::expandPartwordAtomicRMW' data-type='void (anonymous namespace)::AtomicExpand::expandPartwordAtomicRMW(llvm::AtomicRMWInst * AI, TargetLoweringBase::AtomicExpansionKind ExpansionKind)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand23expandPartwordAtomicRMWEPN4llvm13AtomicRMWInstENS1_18TargetLoweringBase19AtomicExpansionKindE">expandPartwordAtomicRMW</dfn>(</td></tr>
<tr><th id="761">761</th><td>    <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col0 decl" id="200AI" title='AI' data-type='llvm::AtomicRMWInst *' data-ref="200AI" data-ref-filename="200AI">AI</dfn>, <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a> <dfn class="local col1 decl" id="201ExpansionKind" title='ExpansionKind' data-type='TargetLoweringBase::AtomicExpansionKind' data-ref="201ExpansionKind" data-ref-filename="201ExpansionKind">ExpansionKind</dfn>) {</td></tr>
<tr><th id="762">762</th><td>  <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col2 decl" id="202MemOpOrder" title='MemOpOrder' data-type='llvm::AtomicOrdering' data-ref="202MemOpOrder" data-ref-filename="202MemOpOrder">MemOpOrder</dfn> = <a class="local col0 ref" href="#200AI" title='AI' data-ref="200AI" data-ref-filename="200AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst11getOrderingEv" title='llvm::AtomicRMWInst::getOrdering' data-ref="_ZNK4llvm13AtomicRMWInst11getOrderingEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst11getOrderingEv">getOrdering</a>();</td></tr>
<tr><th id="763">763</th><td></td></tr>
<tr><th id="764">764</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col3 decl" id="203Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="203Builder" data-ref-filename="203Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col0 ref" href="#200AI" title='AI' data-ref="200AI" data-ref-filename="200AI">AI</a>);</td></tr>
<tr><th id="765">765</th><td></td></tr>
<tr><th id="766">766</th><td>  <a class="tu type" href="#(anonymousnamespace)::PartwordMaskValues" title='(anonymous namespace)::PartwordMaskValues' data-ref="(anonymousnamespace)::PartwordMaskValues" data-ref-filename="(anonymousnamespace)..PartwordMaskValues">PartwordMaskValues</a> <dfn class="local col4 decl" id="204PMV" title='PMV' data-type='(anonymous namespace)::PartwordMaskValues' data-ref="204PMV" data-ref-filename="204PMV">PMV</dfn> =</td></tr>
<tr><th id="767">767</th><td>      <a class="tu ref fn" href="#_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj" title='createMaskInstrs' data-use='c' data-ref="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj" data-ref-filename="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">createMaskInstrs</a>(<span class='refarg'><a class="local col3 ref" href="#203Builder" title='Builder' data-ref="203Builder" data-ref-filename="203Builder">Builder</a></span>, <a class="local col0 ref" href="#200AI" title='AI' data-ref="200AI" data-ref-filename="200AI">AI</a>, <a class="local col0 ref" href="#200AI" title='AI' data-ref="200AI" data-ref-filename="200AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col0 ref" href="#200AI" title='AI' data-ref="200AI" data-ref-filename="200AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst17getPointerOperandEv" title='llvm::AtomicRMWInst::getPointerOperand' data-ref="_ZN4llvm13AtomicRMWInst17getPointerOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst17getPointerOperandEv">getPointerOperand</a>(),</td></tr>
<tr><th id="768">768</th><td>                       <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" title='llvm::TargetLoweringBase::getMinCmpXchgSizeInBits' data-ref="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" data-ref-filename="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv">getMinCmpXchgSizeInBits</a>() / <var>8</var>);</td></tr>
<tr><th id="769">769</th><td></td></tr>
<tr><th id="770">770</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="205ValOperand_Shifted" title='ValOperand_Shifted' data-type='llvm::Value *' data-ref="205ValOperand_Shifted" data-ref-filename="205ValOperand_Shifted">ValOperand_Shifted</dfn> =</td></tr>
<tr><th id="771">771</th><td>      <a class="local col3 ref" href="#203Builder" title='Builder' data-ref="203Builder" data-ref-filename="203Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateShl' data-ref="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb">CreateShl</a>(<a class="local col3 ref" href="#203Builder" title='Builder' data-ref="203Builder" data-ref-filename="203Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateZExt' data-ref="_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateZExt</a>(<a class="local col0 ref" href="#200AI" title='AI' data-ref="200AI" data-ref-filename="200AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst13getValOperandEv" title='llvm::AtomicRMWInst::getValOperand' data-ref="_ZN4llvm13AtomicRMWInst13getValOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst13getValOperandEv">getValOperand</a>(), <a class="local col4 ref" href="#204PMV" title='PMV' data-ref="204PMV" data-ref-filename="204PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>),</td></tr>
<tr><th id="772">772</th><td>                        <a class="local col4 ref" href="#204PMV" title='PMV' data-ref="204PMV" data-ref-filename="204PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"ValOperand_Shifted"</q>);</td></tr>
<tr><th id="773">773</th><td></td></tr>
<tr><th id="774">774</th><td>  <em>auto</em> <dfn class="local col6 decl" id="206PerformPartwordOp" title='PerformPartwordOp' data-type='(lambda at /fast/tmp/llvm-proj-12/llvm/lib/CodeGen/AtomicExpandPass.cpp:774:28)' data-ref="206PerformPartwordOp" data-ref-filename="206PerformPartwordOp">PerformPartwordOp</dfn> = [&amp;](<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col7 decl" id="207Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="207Builder" data-ref-filename="207Builder">Builder</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="208Loaded" title='Loaded' data-type='llvm::Value *' data-ref="208Loaded" data-ref-filename="208Loaded">Loaded</dfn>) {</td></tr>
<tr><th id="775">775</th><td>    <b>return</b> <a class="tu ref fn" href="#_ZL21performMaskedAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_S8_RKN12_GLOBAL2516351" title='performMaskedAtomicOp' data-use='c' data-ref="_ZL21performMaskedAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_S8_RKN12_GLOBAL2516351" data-ref-filename="_ZL21performMaskedAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_S8_RKN12_GLOBAL2516351">performMaskedAtomicOp</a>(<a class="local col0 ref" href="#200AI" title='AI' data-ref="200AI" data-ref-filename="200AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst12getOperationEv" title='llvm::AtomicRMWInst::getOperation' data-ref="_ZNK4llvm13AtomicRMWInst12getOperationEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst12getOperationEv">getOperation</a>(), <span class='refarg'><a class="local col7 ref" href="#207Builder" title='Builder' data-ref="207Builder" data-ref-filename="207Builder">Builder</a></span>, <a class="local col8 ref" href="#208Loaded" title='Loaded' data-ref="208Loaded" data-ref-filename="208Loaded">Loaded</a>,</td></tr>
<tr><th id="776">776</th><td>                                 <a class="local col5 ref" href="#205ValOperand_Shifted" title='ValOperand_Shifted' data-ref="205ValOperand_Shifted" data-ref-filename="205ValOperand_Shifted">ValOperand_Shifted</a>, <a class="local col0 ref" href="#200AI" title='AI' data-ref="200AI" data-ref-filename="200AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst13getValOperandEv" title='llvm::AtomicRMWInst::getValOperand' data-ref="_ZN4llvm13AtomicRMWInst13getValOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst13getValOperandEv">getValOperand</a>(), <a class="local col4 ref" href="#204PMV" title='PMV' data-ref="204PMV" data-ref-filename="204PMV">PMV</a>);</td></tr>
<tr><th id="777">777</th><td>  };</td></tr>
<tr><th id="778">778</th><td></td></tr>
<tr><th id="779">779</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="209OldResult" title='OldResult' data-type='llvm::Value *' data-ref="209OldResult" data-ref-filename="209OldResult">OldResult</dfn>;</td></tr>
<tr><th id="780">780</th><td>  <b>if</b> (<a class="local col1 ref" href="#201ExpansionKind" title='ExpansionKind' data-ref="201ExpansionKind" data-ref-filename="201ExpansionKind">ExpansionKind</a> == <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::CmpXChg" title='llvm::TargetLoweringBase::AtomicExpansionKind::CmpXChg' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::CmpXChg" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..CmpXChg">CmpXChg</a>) {</td></tr>
<tr><th id="781">781</th><td>    <a class="local col9 ref" href="#209OldResult" title='OldResult' data-ref="209OldResult" data-ref-filename="209OldResult">OldResult</a> =</td></tr>
<tr><th id="782">782</th><td>        <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand20insertRMWCmpXchgLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueEN6117739" title='(anonymous namespace)::AtomicExpand::insertRMWCmpXchgLoop' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand20insertRMWCmpXchgLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueEN6117739" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand20insertRMWCmpXchgLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueEN6117739">insertRMWCmpXchgLoop</a>(<span class='refarg'><a class="local col3 ref" href="#203Builder" title='Builder' data-ref="203Builder" data-ref-filename="203Builder">Builder</a></span>, <a class="local col4 ref" href="#204PMV" title='PMV' data-ref="204PMV" data-ref-filename="204PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>, <a class="local col4 ref" href="#204PMV" title='PMV' data-ref="204PMV" data-ref-filename="204PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::AlignedAddr" title='(anonymous namespace)::PartwordMaskValues::AlignedAddr' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..AlignedAddr">AlignedAddr</a>, <a class="local col2 ref" href="#202MemOpOrder" title='MemOpOrder' data-ref="202MemOpOrder" data-ref-filename="202MemOpOrder">MemOpOrder</a>,</td></tr>
<tr><th id="783">783</th><td>                             <a class="tu ref fn fake" href="../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-use='c' data-ref="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" data-ref-filename="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931"></a><a class="local col6 ref" href="#206PerformPartwordOp" title='PerformPartwordOp' data-ref="206PerformPartwordOp" data-ref-filename="206PerformPartwordOp">PerformPartwordOp</a>, <a class="ref fn fake" href="../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-ref="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" data-ref-filename="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931"></a><a class="tu ref fn" href="#_ZL20createCmpXchgInstFunRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_S6_NS_14AtomicOrderingERS6_S8_" title='createCmpXchgInstFun' data-use='a' data-ref="_ZL20createCmpXchgInstFunRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_S6_NS_14AtomicOrderingERS6_S8_" data-ref-filename="_ZL20createCmpXchgInstFunRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_S6_NS_14AtomicOrderingERS6_S8_">createCmpXchgInstFun</a>);</td></tr>
<tr><th id="784">784</th><td>  } <b>else</b> {</td></tr>
<tr><th id="785">785</th><td>    <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(ExpansionKind == TargetLoweringBase::AtomicExpansionKind::LLSC);</td></tr>
<tr><th id="786">786</th><td>    <a class="local col9 ref" href="#209OldResult" title='OldResult' data-ref="209OldResult" data-ref-filename="209OldResult">OldResult</a> = <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand17insertRMWLLSCLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueENS1_7857536" title='(anonymous namespace)::AtomicExpand::insertRMWLLSCLoop' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand17insertRMWLLSCLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueENS1_7857536" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand17insertRMWLLSCLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueENS1_7857536">insertRMWLLSCLoop</a>(<span class='refarg'><a class="local col3 ref" href="#203Builder" title='Builder' data-ref="203Builder" data-ref-filename="203Builder">Builder</a></span>, <a class="local col4 ref" href="#204PMV" title='PMV' data-ref="204PMV" data-ref-filename="204PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>, <a class="local col4 ref" href="#204PMV" title='PMV' data-ref="204PMV" data-ref-filename="204PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::AlignedAddr" title='(anonymous namespace)::PartwordMaskValues::AlignedAddr' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..AlignedAddr">AlignedAddr</a>,</td></tr>
<tr><th id="787">787</th><td>                                  <a class="local col2 ref" href="#202MemOpOrder" title='MemOpOrder' data-ref="202MemOpOrder" data-ref-filename="202MemOpOrder">MemOpOrder</a>, <a class="tu ref fn fake" href="../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-use='c' data-ref="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" data-ref-filename="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931"></a><a class="local col6 ref" href="#206PerformPartwordOp" title='PerformPartwordOp' data-ref="206PerformPartwordOp" data-ref-filename="206PerformPartwordOp">PerformPartwordOp</a>);</td></tr>
<tr><th id="788">788</th><td>  }</td></tr>
<tr><th id="789">789</th><td></td></tr>
<tr><th id="790">790</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="210FinalOldResult" title='FinalOldResult' data-type='llvm::Value *' data-ref="210FinalOldResult" data-ref-filename="210FinalOldResult">FinalOldResult</dfn> = <a class="tu ref fn" href="#_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" title='extractMaskedValue' data-use='c' data-ref="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" data-ref-filename="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE">extractMaskedValue</a>(<span class='refarg'><a class="local col3 ref" href="#203Builder" title='Builder' data-ref="203Builder" data-ref-filename="203Builder">Builder</a></span>, <a class="local col9 ref" href="#209OldResult" title='OldResult' data-ref="209OldResult" data-ref-filename="209OldResult">OldResult</a>, <a class="local col4 ref" href="#204PMV" title='PMV' data-ref="204PMV" data-ref-filename="204PMV">PMV</a>);</td></tr>
<tr><th id="791">791</th><td>  <a class="local col0 ref" href="#200AI" title='AI' data-ref="200AI" data-ref-filename="200AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col0 ref" href="#210FinalOldResult" title='FinalOldResult' data-ref="210FinalOldResult" data-ref-filename="210FinalOldResult">FinalOldResult</a>);</td></tr>
<tr><th id="792">792</th><td>  <a class="local col0 ref" href="#200AI" title='AI' data-ref="200AI" data-ref-filename="200AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="793">793</th><td>}</td></tr>
<tr><th id="794">794</th><td></td></tr>
<tr><th id="795">795</th><td><i  data-doc="_ZN12_GLOBAL__N_112AtomicExpand22widenPartwordAtomicRMWEPN4llvm13AtomicRMWInstE">// Widen the bitwise atomicrmw (or/xor/and) to the minimum supported width.</i></td></tr>
<tr><th id="796">796</th><td><a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand22widenPartwordAtomicRMWEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::widenPartwordAtomicRMW' data-type='llvm::AtomicRMWInst * (anonymous namespace)::AtomicExpand::widenPartwordAtomicRMW(llvm::AtomicRMWInst * AI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand22widenPartwordAtomicRMWEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand22widenPartwordAtomicRMWEPN4llvm13AtomicRMWInstE">widenPartwordAtomicRMW</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col1 decl" id="211AI" title='AI' data-type='llvm::AtomicRMWInst *' data-ref="211AI" data-ref-filename="211AI">AI</dfn>) {</td></tr>
<tr><th id="797">797</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col2 decl" id="212Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="212Builder" data-ref-filename="212Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col1 ref" href="#211AI" title='AI' data-ref="211AI" data-ref-filename="211AI">AI</a>);</td></tr>
<tr><th id="798">798</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::BinOp" title='llvm::AtomicRMWInst::BinOp' data-ref="llvm::AtomicRMWInst::BinOp" data-ref-filename="llvm..AtomicRMWInst..BinOp">BinOp</a> <dfn class="local col3 decl" id="213Op" title='Op' data-type='AtomicRMWInst::BinOp' data-ref="213Op" data-ref-filename="213Op">Op</dfn> = <a class="local col1 ref" href="#211AI" title='AI' data-ref="211AI" data-ref-filename="211AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst12getOperationEv" title='llvm::AtomicRMWInst::getOperation' data-ref="_ZNK4llvm13AtomicRMWInst12getOperationEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst12getOperationEv">getOperation</a>();</td></tr>
<tr><th id="799">799</th><td></td></tr>
<tr><th id="800">800</th><td>  <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>((Op == AtomicRMWInst::Or || Op == AtomicRMWInst::Xor ||</td></tr>
<tr><th id="801">801</th><td>          Op == AtomicRMWInst::And) &amp;&amp;</td></tr>
<tr><th id="802">802</th><td>         <q>"Unable to widen operation"</q>);</td></tr>
<tr><th id="803">803</th><td></td></tr>
<tr><th id="804">804</th><td>  <a class="tu type" href="#(anonymousnamespace)::PartwordMaskValues" title='(anonymous namespace)::PartwordMaskValues' data-ref="(anonymousnamespace)::PartwordMaskValues" data-ref-filename="(anonymousnamespace)..PartwordMaskValues">PartwordMaskValues</a> <dfn class="local col4 decl" id="214PMV" title='PMV' data-type='(anonymous namespace)::PartwordMaskValues' data-ref="214PMV" data-ref-filename="214PMV">PMV</dfn> =</td></tr>
<tr><th id="805">805</th><td>      <a class="tu ref fn" href="#_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj" title='createMaskInstrs' data-use='c' data-ref="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj" data-ref-filename="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">createMaskInstrs</a>(<span class='refarg'><a class="local col2 ref" href="#212Builder" title='Builder' data-ref="212Builder" data-ref-filename="212Builder">Builder</a></span>, <a class="local col1 ref" href="#211AI" title='AI' data-ref="211AI" data-ref-filename="211AI">AI</a>, <a class="local col1 ref" href="#211AI" title='AI' data-ref="211AI" data-ref-filename="211AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col1 ref" href="#211AI" title='AI' data-ref="211AI" data-ref-filename="211AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst17getPointerOperandEv" title='llvm::AtomicRMWInst::getPointerOperand' data-ref="_ZN4llvm13AtomicRMWInst17getPointerOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst17getPointerOperandEv">getPointerOperand</a>(),</td></tr>
<tr><th id="806">806</th><td>                       <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" title='llvm::TargetLoweringBase::getMinCmpXchgSizeInBits' data-ref="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" data-ref-filename="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv">getMinCmpXchgSizeInBits</a>() / <var>8</var>);</td></tr>
<tr><th id="807">807</th><td></td></tr>
<tr><th id="808">808</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="215ValOperand_Shifted" title='ValOperand_Shifted' data-type='llvm::Value *' data-ref="215ValOperand_Shifted" data-ref-filename="215ValOperand_Shifted">ValOperand_Shifted</dfn> =</td></tr>
<tr><th id="809">809</th><td>      <a class="local col2 ref" href="#212Builder" title='Builder' data-ref="212Builder" data-ref-filename="212Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateShl' data-ref="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb">CreateShl</a>(<a class="local col2 ref" href="#212Builder" title='Builder' data-ref="212Builder" data-ref-filename="212Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateZExt' data-ref="_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateZExt</a>(<a class="local col1 ref" href="#211AI" title='AI' data-ref="211AI" data-ref-filename="211AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst13getValOperandEv" title='llvm::AtomicRMWInst::getValOperand' data-ref="_ZN4llvm13AtomicRMWInst13getValOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst13getValOperandEv">getValOperand</a>(), <a class="local col4 ref" href="#214PMV" title='PMV' data-ref="214PMV" data-ref-filename="214PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>),</td></tr>
<tr><th id="810">810</th><td>                        <a class="local col4 ref" href="#214PMV" title='PMV' data-ref="214PMV" data-ref-filename="214PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"ValOperand_Shifted"</q>);</td></tr>
<tr><th id="811">811</th><td></td></tr>
<tr><th id="812">812</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="216NewOperand" title='NewOperand' data-type='llvm::Value *' data-ref="216NewOperand" data-ref-filename="216NewOperand">NewOperand</dfn>;</td></tr>
<tr><th id="813">813</th><td></td></tr>
<tr><th id="814">814</th><td>  <b>if</b> (<a class="local col3 ref" href="#213Op" title='Op' data-ref="213Op" data-ref-filename="213Op">Op</a> == <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::And" title='llvm::AtomicRMWInst::And' data-ref="llvm::AtomicRMWInst::And" data-ref-filename="llvm..AtomicRMWInst..And">And</a>)</td></tr>
<tr><th id="815">815</th><td>    <a class="local col6 ref" href="#216NewOperand" title='NewOperand' data-ref="216NewOperand" data-ref-filename="216NewOperand">NewOperand</a> =</td></tr>
<tr><th id="816">816</th><td>        <a class="local col2 ref" href="#212Builder" title='Builder' data-ref="212Builder" data-ref-filename="212Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateOr' data-ref="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE">CreateOr</a>(<a class="local col4 ref" href="#214PMV" title='PMV' data-ref="214PMV" data-ref-filename="214PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Inv_Mask" title='(anonymous namespace)::PartwordMaskValues::Inv_Mask' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::Inv_Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Inv_Mask">Inv_Mask</a>, <a class="local col5 ref" href="#215ValOperand_Shifted" title='ValOperand_Shifted' data-ref="215ValOperand_Shifted" data-ref-filename="215ValOperand_Shifted">ValOperand_Shifted</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"AndOperand"</q>);</td></tr>
<tr><th id="817">817</th><td>  <b>else</b></td></tr>
<tr><th id="818">818</th><td>    <a class="local col6 ref" href="#216NewOperand" title='NewOperand' data-ref="216NewOperand" data-ref-filename="216NewOperand">NewOperand</a> = <a class="local col5 ref" href="#215ValOperand_Shifted" title='ValOperand_Shifted' data-ref="215ValOperand_Shifted" data-ref-filename="215ValOperand_Shifted">ValOperand_Shifted</a>;</td></tr>
<tr><th id="819">819</th><td></td></tr>
<tr><th id="820">820</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col7 decl" id="217NewAI" title='NewAI' data-type='llvm::AtomicRMWInst *' data-ref="217NewAI" data-ref-filename="217NewAI">NewAI</dfn> = <a class="local col2 ref" href="#212Builder" title='Builder' data-ref="212Builder" data-ref-filename="212Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase15CreateAtomicRMWENS_13AtomicRMWInst5BinOpEPNS_5ValueES4_NS_14AtomicOrderingEh" title='llvm::IRBuilderBase::CreateAtomicRMW' data-ref="_ZN4llvm13IRBuilderBase15CreateAtomicRMWENS_13AtomicRMWInst5BinOpEPNS_5ValueES4_NS_14AtomicOrderingEh" data-ref-filename="_ZN4llvm13IRBuilderBase15CreateAtomicRMWENS_13AtomicRMWInst5BinOpEPNS_5ValueES4_NS_14AtomicOrderingEh">CreateAtomicRMW</a>(<a class="local col3 ref" href="#213Op" title='Op' data-ref="213Op" data-ref-filename="213Op">Op</a>, <a class="local col4 ref" href="#214PMV" title='PMV' data-ref="214PMV" data-ref-filename="214PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::AlignedAddr" title='(anonymous namespace)::PartwordMaskValues::AlignedAddr' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..AlignedAddr">AlignedAddr</a>,</td></tr>
<tr><th id="821">821</th><td>                                                 <a class="local col6 ref" href="#216NewOperand" title='NewOperand' data-ref="216NewOperand" data-ref-filename="216NewOperand">NewOperand</a>, <a class="local col1 ref" href="#211AI" title='AI' data-ref="211AI" data-ref-filename="211AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst11getOrderingEv" title='llvm::AtomicRMWInst::getOrdering' data-ref="_ZNK4llvm13AtomicRMWInst11getOrderingEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst11getOrderingEv">getOrdering</a>());</td></tr>
<tr><th id="822">822</th><td></td></tr>
<tr><th id="823">823</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="218FinalOldResult" title='FinalOldResult' data-type='llvm::Value *' data-ref="218FinalOldResult" data-ref-filename="218FinalOldResult">FinalOldResult</dfn> = <a class="tu ref fn" href="#_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" title='extractMaskedValue' data-use='c' data-ref="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" data-ref-filename="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE">extractMaskedValue</a>(<span class='refarg'><a class="local col2 ref" href="#212Builder" title='Builder' data-ref="212Builder" data-ref-filename="212Builder">Builder</a></span>, <a class="local col7 ref" href="#217NewAI" title='NewAI' data-ref="217NewAI" data-ref-filename="217NewAI">NewAI</a>, <a class="local col4 ref" href="#214PMV" title='PMV' data-ref="214PMV" data-ref-filename="214PMV">PMV</a>);</td></tr>
<tr><th id="824">824</th><td>  <a class="local col1 ref" href="#211AI" title='AI' data-ref="211AI" data-ref-filename="211AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col8 ref" href="#218FinalOldResult" title='FinalOldResult' data-ref="218FinalOldResult" data-ref-filename="218FinalOldResult">FinalOldResult</a>);</td></tr>
<tr><th id="825">825</th><td>  <a class="local col1 ref" href="#211AI" title='AI' data-ref="211AI" data-ref-filename="211AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="826">826</th><td>  <b>return</b> <a class="local col7 ref" href="#217NewAI" title='NewAI' data-ref="217NewAI" data-ref-filename="217NewAI">NewAI</a>;</td></tr>
<tr><th id="827">827</th><td>}</td></tr>
<tr><th id="828">828</th><td></td></tr>
<tr><th id="829">829</th><td><em>bool</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand21expandPartwordCmpXchgEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::expandPartwordCmpXchg' data-type='bool (anonymous namespace)::AtomicExpand::expandPartwordCmpXchg(llvm::AtomicCmpXchgInst * CI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand21expandPartwordCmpXchgEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand21expandPartwordCmpXchgEPN4llvm17AtomicCmpXchgInstE">expandPartwordCmpXchg</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col9 decl" id="219CI" title='CI' data-type='llvm::AtomicCmpXchgInst *' data-ref="219CI" data-ref-filename="219CI">CI</dfn>) {</td></tr>
<tr><th id="830">830</th><td>  <i>// The basic idea here is that we're expanding a cmpxchg of a</i></td></tr>
<tr><th id="831">831</th><td><i>  // smaller memory size up to a word-sized cmpxchg. To do this, we</i></td></tr>
<tr><th id="832">832</th><td><i>  // need to add a retry-loop for strong cmpxchg, so that</i></td></tr>
<tr><th id="833">833</th><td><i>  // modifications to other parts of the word don't cause a spurious</i></td></tr>
<tr><th id="834">834</th><td><i>  // failure.</i></td></tr>
<tr><th id="835">835</th><td><i></i></td></tr>
<tr><th id="836">836</th><td><i>  // This generates code like the following:</i></td></tr>
<tr><th id="837">837</th><td><i>  //     [[Setup mask values PMV.*]]</i></td></tr>
<tr><th id="838">838</th><td><i>  //     %NewVal_Shifted = shl i32 %NewVal, %PMV.ShiftAmt</i></td></tr>
<tr><th id="839">839</th><td><i>  //     %Cmp_Shifted = shl i32 %Cmp, %PMV.ShiftAmt</i></td></tr>
<tr><th id="840">840</th><td><i>  //     %InitLoaded = load i32* %addr</i></td></tr>
<tr><th id="841">841</th><td><i>  //     %InitLoaded_MaskOut = and i32 %InitLoaded, %PMV.Inv_Mask</i></td></tr>
<tr><th id="842">842</th><td><i>  //     br partword.cmpxchg.loop</i></td></tr>
<tr><th id="843">843</th><td><i>  // partword.cmpxchg.loop:</i></td></tr>
<tr><th id="844">844</th><td><i>  //     %Loaded_MaskOut = phi i32 [ %InitLoaded_MaskOut, %entry ],</i></td></tr>
<tr><th id="845">845</th><td><i>  //        [ %OldVal_MaskOut, %partword.cmpxchg.failure ]</i></td></tr>
<tr><th id="846">846</th><td><i>  //     %FullWord_NewVal = or i32 %Loaded_MaskOut, %NewVal_Shifted</i></td></tr>
<tr><th id="847">847</th><td><i>  //     %FullWord_Cmp = or i32 %Loaded_MaskOut, %Cmp_Shifted</i></td></tr>
<tr><th id="848">848</th><td><i>  //     %NewCI = cmpxchg i32* %PMV.AlignedAddr, i32 %FullWord_Cmp,</i></td></tr>
<tr><th id="849">849</th><td><i>  //        i32 %FullWord_NewVal success_ordering failure_ordering</i></td></tr>
<tr><th id="850">850</th><td><i>  //     %OldVal = extractvalue { i32, i1 } %NewCI, 0</i></td></tr>
<tr><th id="851">851</th><td><i>  //     %Success = extractvalue { i32, i1 } %NewCI, 1</i></td></tr>
<tr><th id="852">852</th><td><i>  //     br i1 %Success, label %partword.cmpxchg.end,</i></td></tr>
<tr><th id="853">853</th><td><i>  //        label %partword.cmpxchg.failure</i></td></tr>
<tr><th id="854">854</th><td><i>  // partword.cmpxchg.failure:</i></td></tr>
<tr><th id="855">855</th><td><i>  //     %OldVal_MaskOut = and i32 %OldVal, %PMV.Inv_Mask</i></td></tr>
<tr><th id="856">856</th><td><i>  //     %ShouldContinue = icmp ne i32 %Loaded_MaskOut, %OldVal_MaskOut</i></td></tr>
<tr><th id="857">857</th><td><i>  //     br i1 %ShouldContinue, label %partword.cmpxchg.loop,</i></td></tr>
<tr><th id="858">858</th><td><i>  //         label %partword.cmpxchg.end</i></td></tr>
<tr><th id="859">859</th><td><i>  // partword.cmpxchg.end:</i></td></tr>
<tr><th id="860">860</th><td><i>  //    %tmp1 = lshr i32 %OldVal, %PMV.ShiftAmt</i></td></tr>
<tr><th id="861">861</th><td><i>  //    %FinalOldVal = trunc i32 %tmp1 to i8</i></td></tr>
<tr><th id="862">862</th><td><i>  //    %tmp2 = insertvalue { i8, i1 } undef, i8 %FinalOldVal, 0</i></td></tr>
<tr><th id="863">863</th><td><i>  //    %Res = insertvalue { i8, i1 } %25, i1 %Success, 1</i></td></tr>
<tr><th id="864">864</th><td></td></tr>
<tr><th id="865">865</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="220Addr" title='Addr' data-type='llvm::Value *' data-ref="220Addr" data-ref-filename="220Addr">Addr</dfn> = <a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv" title='llvm::AtomicCmpXchgInst::getPointerOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv">getPointerOperand</a>();</td></tr>
<tr><th id="866">866</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="221Cmp" title='Cmp' data-type='llvm::Value *' data-ref="221Cmp" data-ref-filename="221Cmp">Cmp</dfn> = <a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" title='llvm::AtomicCmpXchgInst::getCompareOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv">getCompareOperand</a>();</td></tr>
<tr><th id="867">867</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="222NewVal" title='NewVal' data-type='llvm::Value *' data-ref="222NewVal" data-ref-filename="222NewVal">NewVal</dfn> = <a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv" title='llvm::AtomicCmpXchgInst::getNewValOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv">getNewValOperand</a>();</td></tr>
<tr><th id="868">868</th><td></td></tr>
<tr><th id="869">869</th><td>  <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col3 decl" id="223BB" title='BB' data-type='llvm::BasicBlock *' data-ref="223BB" data-ref-filename="223BB">BB</dfn> = <a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>();</td></tr>
<tr><th id="870">870</th><td>  <a class="type" href="../../include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> *<dfn class="local col4 decl" id="224F" title='F' data-type='llvm::Function *' data-ref="224F" data-ref-filename="224F">F</dfn> = <a class="local col3 ref" href="#223BB" title='BB' data-ref="223BB" data-ref-filename="223BB">BB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock9getParentEv" title='llvm::BasicBlock::getParent' data-ref="_ZN4llvm10BasicBlock9getParentEv" data-ref-filename="_ZN4llvm10BasicBlock9getParentEv">getParent</a>();</td></tr>
<tr><th id="871">871</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col5 decl" id="225Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="225Builder" data-ref-filename="225Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>);</td></tr>
<tr><th id="872">872</th><td>  <a class="type" href="../../include/llvm/IR/LLVMContext.h.html#llvm::LLVMContext" title='llvm::LLVMContext' data-ref="llvm::LLVMContext" data-ref-filename="llvm..LLVMContext">LLVMContext</a> &amp;<dfn class="local col6 decl" id="226Ctx" title='Ctx' data-type='llvm::LLVMContext &amp;' data-ref="226Ctx" data-ref-filename="226Ctx">Ctx</dfn> = <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZNK4llvm13IRBuilderBase10getContextEv" title='llvm::IRBuilderBase::getContext' data-ref="_ZNK4llvm13IRBuilderBase10getContextEv" data-ref-filename="_ZNK4llvm13IRBuilderBase10getContextEv">getContext</a>();</td></tr>
<tr><th id="873">873</th><td></td></tr>
<tr><th id="874">874</th><td>  <em>const</em> <em>int</em> <dfn class="local col7 decl" id="227WordSize" title='WordSize' data-type='const int' data-ref="227WordSize" data-ref-filename="227WordSize">WordSize</dfn> = <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" title='llvm::TargetLoweringBase::getMinCmpXchgSizeInBits' data-ref="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" data-ref-filename="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv">getMinCmpXchgSizeInBits</a>() / <var>8</var>;</td></tr>
<tr><th id="875">875</th><td></td></tr>
<tr><th id="876">876</th><td>  <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col8 decl" id="228EndBB" title='EndBB' data-type='llvm::BasicBlock *' data-ref="228EndBB" data-ref-filename="228EndBB">EndBB</dfn> =</td></tr>
<tr><th id="877">877</th><td>      <a class="local col3 ref" href="#223BB" title='BB' data-ref="223BB" data-ref-filename="223BB">BB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock15splitBasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEERKNS_5TwineEb" title='llvm::BasicBlock::splitBasicBlock' data-ref="_ZN4llvm10BasicBlock15splitBasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEERKNS_5TwineEb" data-ref-filename="_ZN4llvm10BasicBlock15splitBasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEERKNS_5TwineEb">splitBasicBlock</a>(<a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/ADT/ilist_node.h.html#_ZN4llvm15ilist_node_impl11getIteratorEv" title='llvm::ilist_node_impl::getIterator' data-ref="_ZN4llvm15ilist_node_impl11getIteratorEv" data-ref-filename="_ZN4llvm15ilist_node_impl11getIteratorEv">getIterator</a>(), <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"partword.cmpxchg.end"</q>);</td></tr>
<tr><th id="878">878</th><td>  <em>auto</em> <dfn class="local col9 decl" id="229FailureBB" title='FailureBB' data-type='llvm::BasicBlock *' data-ref="229FailureBB" data-ref-filename="229FailureBB">FailureBB</dfn> =</td></tr>
<tr><th id="879">879</th><td>      <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" title='llvm::BasicBlock::Create' data-ref="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" data-ref-filename="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_">Create</a>(<span class='refarg'><a class="local col6 ref" href="#226Ctx" title='Ctx' data-ref="226Ctx" data-ref-filename="226Ctx">Ctx</a></span>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"partword.cmpxchg.failure"</q>, <a class="local col4 ref" href="#224F" title='F' data-ref="224F" data-ref-filename="224F">F</a>, <a class="local col8 ref" href="#228EndBB" title='EndBB' data-ref="228EndBB" data-ref-filename="228EndBB">EndBB</a>);</td></tr>
<tr><th id="880">880</th><td>  <em>auto</em> <dfn class="local col0 decl" id="230LoopBB" title='LoopBB' data-type='llvm::BasicBlock *' data-ref="230LoopBB" data-ref-filename="230LoopBB">LoopBB</dfn> = <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" title='llvm::BasicBlock::Create' data-ref="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" data-ref-filename="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_">Create</a>(<span class='refarg'><a class="local col6 ref" href="#226Ctx" title='Ctx' data-ref="226Ctx" data-ref-filename="226Ctx">Ctx</a></span>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"partword.cmpxchg.loop"</q>, <a class="local col4 ref" href="#224F" title='F' data-ref="224F" data-ref-filename="224F">F</a>, <a class="local col9 ref" href="#229FailureBB" title='FailureBB' data-ref="229FailureBB" data-ref-filename="229FailureBB">FailureBB</a>);</td></tr>
<tr><th id="881">881</th><td></td></tr>
<tr><th id="882">882</th><td>  <i>// The split call above "helpfully" added a branch at the end of BB</i></td></tr>
<tr><th id="883">883</th><td><i>  // (to the wrong place).</i></td></tr>
<tr><th id="884">884</th><td>  <span class="namespace">std::</span><span class='ref fn' title='std::prev' data-ref="_ZSt4prevT_NSt15iterator_traitsIS_E15difference_typeE" data-ref-filename="_ZSt4prevT_NSt15iterator_traitsIS_E15difference_typeE">prev</span>(<a class="local col3 ref" href="#223BB" title='BB' data-ref="223BB" data-ref-filename="223BB">BB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock3endEv" title='llvm::BasicBlock::end' data-ref="_ZN4llvm10BasicBlock3endEv" data-ref-filename="_ZN4llvm10BasicBlock3endEv">end</a>())<a class="ref fn" href="../../include/llvm/ADT/ilist_iterator.h.html#_ZNK4llvm14ilist_iteratorptEv" title='llvm::ilist_iterator::operator-&gt;' data-ref="_ZNK4llvm14ilist_iteratorptEv" data-ref-filename="_ZNK4llvm14ilist_iteratorptEv">-&gt;</a><a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="885">885</th><td>  <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col3 ref" href="#223BB" title='BB' data-ref="223BB" data-ref-filename="223BB">BB</a>);</td></tr>
<tr><th id="886">886</th><td></td></tr>
<tr><th id="887">887</th><td>  <a class="tu type" href="#(anonymousnamespace)::PartwordMaskValues" title='(anonymous namespace)::PartwordMaskValues' data-ref="(anonymousnamespace)::PartwordMaskValues" data-ref-filename="(anonymousnamespace)..PartwordMaskValues">PartwordMaskValues</a> <dfn class="local col1 decl" id="231PMV" title='PMV' data-type='(anonymous namespace)::PartwordMaskValues' data-ref="231PMV" data-ref-filename="231PMV">PMV</dfn> = <a class="tu ref fn" href="#_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj" title='createMaskInstrs' data-use='c' data-ref="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj" data-ref-filename="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">createMaskInstrs</a>(</td></tr>
<tr><th id="888">888</th><td>      <span class='refarg'><a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a></span>, <a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>, <a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" title='llvm::AtomicCmpXchgInst::getCompareOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv">getCompareOperand</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col0 ref" href="#220Addr" title='Addr' data-ref="220Addr" data-ref-filename="220Addr">Addr</a>, <a class="local col7 ref" href="#227WordSize" title='WordSize' data-ref="227WordSize" data-ref-filename="227WordSize">WordSize</a>);</td></tr>
<tr><th id="889">889</th><td></td></tr>
<tr><th id="890">890</th><td>  <i>// Shift the incoming values over, into the right location in the word.</i></td></tr>
<tr><th id="891">891</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="232NewVal_Shifted" title='NewVal_Shifted' data-type='llvm::Value *' data-ref="232NewVal_Shifted" data-ref-filename="232NewVal_Shifted">NewVal_Shifted</dfn> =</td></tr>
<tr><th id="892">892</th><td>      <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateShl' data-ref="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb">CreateShl</a>(<a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateZExt' data-ref="_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateZExt</a>(<a class="local col2 ref" href="#222NewVal" title='NewVal' data-ref="222NewVal" data-ref-filename="222NewVal">NewVal</a>, <a class="local col1 ref" href="#231PMV" title='PMV' data-ref="231PMV" data-ref-filename="231PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>), <a class="local col1 ref" href="#231PMV" title='PMV' data-ref="231PMV" data-ref-filename="231PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a>);</td></tr>
<tr><th id="893">893</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="233Cmp_Shifted" title='Cmp_Shifted' data-type='llvm::Value *' data-ref="233Cmp_Shifted" data-ref-filename="233Cmp_Shifted">Cmp_Shifted</dfn> =</td></tr>
<tr><th id="894">894</th><td>      <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateShl' data-ref="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb">CreateShl</a>(<a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateZExt' data-ref="_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateZExt</a>(<a class="local col1 ref" href="#221Cmp" title='Cmp' data-ref="221Cmp" data-ref-filename="221Cmp">Cmp</a>, <a class="local col1 ref" href="#231PMV" title='PMV' data-ref="231PMV" data-ref-filename="231PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>), <a class="local col1 ref" href="#231PMV" title='PMV' data-ref="231PMV" data-ref-filename="231PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a>);</td></tr>
<tr><th id="895">895</th><td></td></tr>
<tr><th id="896">896</th><td>  <i>// Load the entire current word, and mask into place the expected and new</i></td></tr>
<tr><th id="897">897</th><td><i>  // values</i></td></tr>
<tr><th id="898">898</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<dfn class="local col4 decl" id="234InitLoaded" title='InitLoaded' data-type='llvm::LoadInst *' data-ref="234InitLoaded" data-ref-filename="234InitLoaded">InitLoaded</dfn> = <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateLoadEPNS_4TypeEPNS_5ValueERKNS_5TwineE" title='llvm::IRBuilderBase::CreateLoad' data-ref="_ZN4llvm13IRBuilderBase10CreateLoadEPNS_4TypeEPNS_5ValueERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateLoadEPNS_4TypeEPNS_5ValueERKNS_5TwineE">CreateLoad</a>(<a class="local col1 ref" href="#231PMV" title='PMV' data-ref="231PMV" data-ref-filename="231PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>, <a class="local col1 ref" href="#231PMV" title='PMV' data-ref="231PMV" data-ref-filename="231PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::AlignedAddr" title='(anonymous namespace)::PartwordMaskValues::AlignedAddr' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..AlignedAddr">AlignedAddr</a>);</td></tr>
<tr><th id="899">899</th><td>  <a class="local col4 ref" href="#234InitLoaded" title='InitLoaded' data-ref="234InitLoaded" data-ref-filename="234InitLoaded">InitLoaded</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm8LoadInst11setVolatileEb" title='llvm::LoadInst::setVolatile' data-ref="_ZN4llvm8LoadInst11setVolatileEb" data-ref-filename="_ZN4llvm8LoadInst11setVolatileEb">setVolatile</a>(<a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst10isVolatileEv" title='llvm::AtomicCmpXchgInst::isVolatile' data-ref="_ZNK4llvm17AtomicCmpXchgInst10isVolatileEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst10isVolatileEv">isVolatile</a>());</td></tr>
<tr><th id="900">900</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="235InitLoaded_MaskOut" title='InitLoaded_MaskOut' data-type='llvm::Value *' data-ref="235InitLoaded_MaskOut" data-ref-filename="235InitLoaded_MaskOut">InitLoaded_MaskOut</dfn> = <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateAnd' data-ref="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE">CreateAnd</a>(<a class="local col4 ref" href="#234InitLoaded" title='InitLoaded' data-ref="234InitLoaded" data-ref-filename="234InitLoaded">InitLoaded</a>, <a class="local col1 ref" href="#231PMV" title='PMV' data-ref="231PMV" data-ref-filename="231PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Inv_Mask" title='(anonymous namespace)::PartwordMaskValues::Inv_Mask' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::Inv_Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Inv_Mask">Inv_Mask</a>);</td></tr>
<tr><th id="901">901</th><td>  <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" title='llvm::IRBuilderBase::CreateBr' data-ref="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE">CreateBr</a>(<a class="local col0 ref" href="#230LoopBB" title='LoopBB' data-ref="230LoopBB" data-ref-filename="230LoopBB">LoopBB</a>);</td></tr>
<tr><th id="902">902</th><td></td></tr>
<tr><th id="903">903</th><td>  <i>// partword.cmpxchg.loop:</i></td></tr>
<tr><th id="904">904</th><td>  <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col0 ref" href="#230LoopBB" title='LoopBB' data-ref="230LoopBB" data-ref-filename="230LoopBB">LoopBB</a>);</td></tr>
<tr><th id="905">905</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a> *<dfn class="local col6 decl" id="236Loaded_MaskOut" title='Loaded_MaskOut' data-type='llvm::PHINode *' data-ref="236Loaded_MaskOut" data-ref-filename="236Loaded_MaskOut">Loaded_MaskOut</dfn> = <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" title='llvm::IRBuilderBase::CreatePHI' data-ref="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE">CreatePHI</a>(<a class="local col1 ref" href="#231PMV" title='PMV' data-ref="231PMV" data-ref-filename="231PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>, <var>2</var>);</td></tr>
<tr><th id="906">906</th><td>  <a class="local col6 ref" href="#236Loaded_MaskOut" title='Loaded_MaskOut' data-ref="236Loaded_MaskOut" data-ref-filename="236Loaded_MaskOut">Loaded_MaskOut</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col5 ref" href="#235InitLoaded_MaskOut" title='InitLoaded_MaskOut' data-ref="235InitLoaded_MaskOut" data-ref-filename="235InitLoaded_MaskOut">InitLoaded_MaskOut</a>, <a class="local col3 ref" href="#223BB" title='BB' data-ref="223BB" data-ref-filename="223BB">BB</a>);</td></tr>
<tr><th id="907">907</th><td></td></tr>
<tr><th id="908">908</th><td>  <i>// Mask/Or the expected and new values into place in the loaded word.</i></td></tr>
<tr><th id="909">909</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="237FullWord_NewVal" title='FullWord_NewVal' data-type='llvm::Value *' data-ref="237FullWord_NewVal" data-ref-filename="237FullWord_NewVal">FullWord_NewVal</dfn> = <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateOr' data-ref="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE">CreateOr</a>(<a class="local col6 ref" href="#236Loaded_MaskOut" title='Loaded_MaskOut' data-ref="236Loaded_MaskOut" data-ref-filename="236Loaded_MaskOut">Loaded_MaskOut</a>, <a class="local col2 ref" href="#232NewVal_Shifted" title='NewVal_Shifted' data-ref="232NewVal_Shifted" data-ref-filename="232NewVal_Shifted">NewVal_Shifted</a>);</td></tr>
<tr><th id="910">910</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="238FullWord_Cmp" title='FullWord_Cmp' data-type='llvm::Value *' data-ref="238FullWord_Cmp" data-ref-filename="238FullWord_Cmp">FullWord_Cmp</dfn> = <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateOr' data-ref="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE">CreateOr</a>(<a class="local col6 ref" href="#236Loaded_MaskOut" title='Loaded_MaskOut' data-ref="236Loaded_MaskOut" data-ref-filename="236Loaded_MaskOut">Loaded_MaskOut</a>, <a class="local col3 ref" href="#233Cmp_Shifted" title='Cmp_Shifted' data-ref="233Cmp_Shifted" data-ref-filename="233Cmp_Shifted">Cmp_Shifted</a>);</td></tr>
<tr><th id="911">911</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col9 decl" id="239NewCI" title='NewCI' data-type='llvm::AtomicCmpXchgInst *' data-ref="239NewCI" data-ref-filename="239NewCI">NewCI</dfn> = <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h" title='llvm::IRBuilderBase::CreateAtomicCmpXchg' data-ref="_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h" data-ref-filename="_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h">CreateAtomicCmpXchg</a>(</td></tr>
<tr><th id="912">912</th><td>      <a class="local col1 ref" href="#231PMV" title='PMV' data-ref="231PMV" data-ref-filename="231PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::AlignedAddr" title='(anonymous namespace)::PartwordMaskValues::AlignedAddr' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..AlignedAddr">AlignedAddr</a>, <a class="local col8 ref" href="#238FullWord_Cmp" title='FullWord_Cmp' data-ref="238FullWord_Cmp" data-ref-filename="238FullWord_Cmp">FullWord_Cmp</a>, <a class="local col7 ref" href="#237FullWord_NewVal" title='FullWord_NewVal' data-ref="237FullWord_NewVal" data-ref-filename="237FullWord_NewVal">FullWord_NewVal</a>, <a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" title='llvm::AtomicCmpXchgInst::getSuccessOrdering' data-ref="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv">getSuccessOrdering</a>(),</td></tr>
<tr><th id="913">913</th><td>      <a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst18getFailureOrderingEv" title='llvm::AtomicCmpXchgInst::getFailureOrdering' data-ref="_ZNK4llvm17AtomicCmpXchgInst18getFailureOrderingEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst18getFailureOrderingEv">getFailureOrdering</a>(), <a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst14getSyncScopeIDEv" title='llvm::AtomicCmpXchgInst::getSyncScopeID' data-ref="_ZNK4llvm17AtomicCmpXchgInst14getSyncScopeIDEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst14getSyncScopeIDEv">getSyncScopeID</a>());</td></tr>
<tr><th id="914">914</th><td>  <a class="local col9 ref" href="#239NewCI" title='NewCI' data-ref="239NewCI" data-ref-filename="239NewCI">NewCI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst11setVolatileEb" title='llvm::AtomicCmpXchgInst::setVolatile' data-ref="_ZN4llvm17AtomicCmpXchgInst11setVolatileEb" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst11setVolatileEb">setVolatile</a>(<a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst10isVolatileEv" title='llvm::AtomicCmpXchgInst::isVolatile' data-ref="_ZNK4llvm17AtomicCmpXchgInst10isVolatileEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst10isVolatileEv">isVolatile</a>());</td></tr>
<tr><th id="915">915</th><td>  <i>// When we're building a strong cmpxchg, we need a loop, so you</i></td></tr>
<tr><th id="916">916</th><td><i>  // might think we could use a weak cmpxchg inside. But, using strong</i></td></tr>
<tr><th id="917">917</th><td><i>  // allows the below comparison for ShouldContinue, and we're</i></td></tr>
<tr><th id="918">918</th><td><i>  // expecting the underlying cmpxchg to be a machine instruction,</i></td></tr>
<tr><th id="919">919</th><td><i>  // which is strong anyways.</i></td></tr>
<tr><th id="920">920</th><td>  <a class="local col9 ref" href="#239NewCI" title='NewCI' data-ref="239NewCI" data-ref-filename="239NewCI">NewCI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst7setWeakEb" title='llvm::AtomicCmpXchgInst::setWeak' data-ref="_ZN4llvm17AtomicCmpXchgInst7setWeakEb" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst7setWeakEb">setWeak</a>(<a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst6isWeakEv" title='llvm::AtomicCmpXchgInst::isWeak' data-ref="_ZNK4llvm17AtomicCmpXchgInst6isWeakEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst6isWeakEv">isWeak</a>());</td></tr>
<tr><th id="921">921</th><td></td></tr>
<tr><th id="922">922</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="240OldVal" title='OldVal' data-type='llvm::Value *' data-ref="240OldVal" data-ref-filename="240OldVal">OldVal</dfn> = <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateExtractValue' data-ref="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE">CreateExtractValue</a>(<a class="local col9 ref" href="#239NewCI" title='NewCI' data-ref="239NewCI" data-ref-filename="239NewCI">NewCI</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>0</var>);</td></tr>
<tr><th id="923">923</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="241Success" title='Success' data-type='llvm::Value *' data-ref="241Success" data-ref-filename="241Success">Success</dfn> = <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateExtractValue' data-ref="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE">CreateExtractValue</a>(<a class="local col9 ref" href="#239NewCI" title='NewCI' data-ref="239NewCI" data-ref-filename="239NewCI">NewCI</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>1</var>);</td></tr>
<tr><th id="924">924</th><td></td></tr>
<tr><th id="925">925</th><td>  <b>if</b> (<a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst6isWeakEv" title='llvm::AtomicCmpXchgInst::isWeak' data-ref="_ZNK4llvm17AtomicCmpXchgInst6isWeakEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst6isWeakEv">isWeak</a>())</td></tr>
<tr><th id="926">926</th><td>    <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" title='llvm::IRBuilderBase::CreateBr' data-ref="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE">CreateBr</a>(<a class="local col8 ref" href="#228EndBB" title='EndBB' data-ref="228EndBB" data-ref-filename="228EndBB">EndBB</a>);</td></tr>
<tr><th id="927">927</th><td>  <b>else</b></td></tr>
<tr><th id="928">928</th><td>    <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_" title='llvm::IRBuilderBase::CreateCondBr' data-ref="_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_">CreateCondBr</a>(<a class="local col1 ref" href="#241Success" title='Success' data-ref="241Success" data-ref-filename="241Success">Success</a>, <a class="local col8 ref" href="#228EndBB" title='EndBB' data-ref="228EndBB" data-ref-filename="228EndBB">EndBB</a>, <a class="local col9 ref" href="#229FailureBB" title='FailureBB' data-ref="229FailureBB" data-ref-filename="229FailureBB">FailureBB</a>);</td></tr>
<tr><th id="929">929</th><td></td></tr>
<tr><th id="930">930</th><td>  <i>// partword.cmpxchg.failure:</i></td></tr>
<tr><th id="931">931</th><td>  <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col9 ref" href="#229FailureBB" title='FailureBB' data-ref="229FailureBB" data-ref-filename="229FailureBB">FailureBB</a>);</td></tr>
<tr><th id="932">932</th><td>  <i>// Upon failure, verify that the masked-out part of the loaded value</i></td></tr>
<tr><th id="933">933</th><td><i>  // has been modified.  If it didn't, abort the cmpxchg, since the</i></td></tr>
<tr><th id="934">934</th><td><i>  // masked-in part must've.</i></td></tr>
<tr><th id="935">935</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="242OldVal_MaskOut" title='OldVal_MaskOut' data-type='llvm::Value *' data-ref="242OldVal_MaskOut" data-ref-filename="242OldVal_MaskOut">OldVal_MaskOut</dfn> = <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateAnd' data-ref="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE">CreateAnd</a>(<a class="local col0 ref" href="#240OldVal" title='OldVal' data-ref="240OldVal" data-ref-filename="240OldVal">OldVal</a>, <a class="local col1 ref" href="#231PMV" title='PMV' data-ref="231PMV" data-ref-filename="231PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Inv_Mask" title='(anonymous namespace)::PartwordMaskValues::Inv_Mask' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::Inv_Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Inv_Mask">Inv_Mask</a>);</td></tr>
<tr><th id="936">936</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="243ShouldContinue" title='ShouldContinue' data-type='llvm::Value *' data-ref="243ShouldContinue" data-ref-filename="243ShouldContinue">ShouldContinue</dfn> = <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateICmpNEEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateICmpNE' data-ref="_ZN4llvm13IRBuilderBase12CreateICmpNEEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateICmpNEEPNS_5ValueES2_RKNS_5TwineE">CreateICmpNE</a>(<a class="local col6 ref" href="#236Loaded_MaskOut" title='Loaded_MaskOut' data-ref="236Loaded_MaskOut" data-ref-filename="236Loaded_MaskOut">Loaded_MaskOut</a>, <a class="local col2 ref" href="#242OldVal_MaskOut" title='OldVal_MaskOut' data-ref="242OldVal_MaskOut" data-ref-filename="242OldVal_MaskOut">OldVal_MaskOut</a>);</td></tr>
<tr><th id="937">937</th><td>  <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_" title='llvm::IRBuilderBase::CreateCondBr' data-ref="_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_">CreateCondBr</a>(<a class="local col3 ref" href="#243ShouldContinue" title='ShouldContinue' data-ref="243ShouldContinue" data-ref-filename="243ShouldContinue">ShouldContinue</a>, <a class="local col0 ref" href="#230LoopBB" title='LoopBB' data-ref="230LoopBB" data-ref-filename="230LoopBB">LoopBB</a>, <a class="local col8 ref" href="#228EndBB" title='EndBB' data-ref="228EndBB" data-ref-filename="228EndBB">EndBB</a>);</td></tr>
<tr><th id="938">938</th><td></td></tr>
<tr><th id="939">939</th><td>  <i>// Add the second value to the phi from above</i></td></tr>
<tr><th id="940">940</th><td>  <a class="local col6 ref" href="#236Loaded_MaskOut" title='Loaded_MaskOut' data-ref="236Loaded_MaskOut" data-ref-filename="236Loaded_MaskOut">Loaded_MaskOut</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col2 ref" href="#242OldVal_MaskOut" title='OldVal_MaskOut' data-ref="242OldVal_MaskOut" data-ref-filename="242OldVal_MaskOut">OldVal_MaskOut</a>, <a class="local col9 ref" href="#229FailureBB" title='FailureBB' data-ref="229FailureBB" data-ref-filename="229FailureBB">FailureBB</a>);</td></tr>
<tr><th id="941">941</th><td></td></tr>
<tr><th id="942">942</th><td>  <i>// partword.cmpxchg.end:</i></td></tr>
<tr><th id="943">943</th><td>  <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_11InstructionE">SetInsertPoint</a>(<a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>);</td></tr>
<tr><th id="944">944</th><td></td></tr>
<tr><th id="945">945</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="244FinalOldVal" title='FinalOldVal' data-type='llvm::Value *' data-ref="244FinalOldVal" data-ref-filename="244FinalOldVal">FinalOldVal</dfn> = <a class="tu ref fn" href="#_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" title='extractMaskedValue' data-use='c' data-ref="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" data-ref-filename="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE">extractMaskedValue</a>(<span class='refarg'><a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a></span>, <a class="local col0 ref" href="#240OldVal" title='OldVal' data-ref="240OldVal" data-ref-filename="240OldVal">OldVal</a>, <a class="local col1 ref" href="#231PMV" title='PMV' data-ref="231PMV" data-ref-filename="231PMV">PMV</a>);</td></tr>
<tr><th id="946">946</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="245Res" title='Res' data-type='llvm::Value *' data-ref="245Res" data-ref-filename="245Res">Res</dfn> = <a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a>::<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZN4llvm10UndefValue3getEPNS_4TypeE" title='llvm::UndefValue::get' data-ref="_ZN4llvm10UndefValue3getEPNS_4TypeE" data-ref-filename="_ZN4llvm10UndefValue3getEPNS_4TypeE">get</a>(<a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="947">947</th><td>  <a class="local col5 ref" href="#245Res" title='Res' data-ref="245Res" data-ref-filename="245Res">Res</a> = <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInsertValue' data-ref="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE">CreateInsertValue</a>(<a class="local col5 ref" href="#245Res" title='Res' data-ref="245Res" data-ref-filename="245Res">Res</a>, <a class="local col4 ref" href="#244FinalOldVal" title='FinalOldVal' data-ref="244FinalOldVal" data-ref-filename="244FinalOldVal">FinalOldVal</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>0</var>);</td></tr>
<tr><th id="948">948</th><td>  <a class="local col5 ref" href="#245Res" title='Res' data-ref="245Res" data-ref-filename="245Res">Res</a> = <a class="local col5 ref" href="#225Builder" title='Builder' data-ref="225Builder" data-ref-filename="225Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInsertValue' data-ref="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE">CreateInsertValue</a>(<a class="local col5 ref" href="#245Res" title='Res' data-ref="245Res" data-ref-filename="245Res">Res</a>, <a class="local col1 ref" href="#241Success" title='Success' data-ref="241Success" data-ref-filename="241Success">Success</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>1</var>);</td></tr>
<tr><th id="949">949</th><td></td></tr>
<tr><th id="950">950</th><td>  <a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col5 ref" href="#245Res" title='Res' data-ref="245Res" data-ref-filename="245Res">Res</a>);</td></tr>
<tr><th id="951">951</th><td>  <a class="local col9 ref" href="#219CI" title='CI' data-ref="219CI" data-ref-filename="219CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="952">952</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="953">953</th><td>}</td></tr>
<tr><th id="954">954</th><td></td></tr>
<tr><th id="955">955</th><td><em>void</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicOpToLLSCEPN4llvm11InstructionEPNS1_4TypeEPNS1_5ValueENS1_14AtomicOrderingENS1_12function_refIFS7_RNS1_9IR13568581" title='(anonymous namespace)::AtomicExpand::expandAtomicOpToLLSC' data-type='void (anonymous namespace)::AtomicExpand::expandAtomicOpToLLSC(llvm::Instruction * I, llvm::Type * ResultType, llvm::Value * Addr, llvm::AtomicOrdering MemOpOrder, function_ref&lt;llvm::Value *(IRBuilder&lt;&gt; &amp;, llvm::Value *)&gt; PerformOp)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicOpToLLSCEPN4llvm11InstructionEPNS1_4TypeEPNS1_5ValueENS1_14AtomicOrderingENS1_12function_refIFS7_RNS1_9IR13568581" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand20expandAtomicOpToLLSCEPN4llvm11InstructionEPNS1_4TypeEPNS1_5ValueENS1_14AtomicOrderingENS1_12function_refIFS7_RNS1_9IR13568581">expandAtomicOpToLLSC</dfn>(</td></tr>
<tr><th id="956">956</th><td>    <a class="type" href="../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col6 decl" id="246I" title='I' data-type='llvm::Instruction *' data-ref="246I" data-ref-filename="246I">I</dfn>, <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col7 decl" id="247ResultType" title='ResultType' data-type='llvm::Type *' data-ref="247ResultType" data-ref-filename="247ResultType">ResultType</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="248Addr" title='Addr' data-type='llvm::Value *' data-ref="248Addr" data-ref-filename="248Addr">Addr</dfn>, <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col9 decl" id="249MemOpOrder" title='MemOpOrder' data-type='llvm::AtomicOrdering' data-ref="249MemOpOrder" data-ref-filename="249MemOpOrder">MemOpOrder</dfn>,</td></tr>
<tr><th id="957">957</th><td>    <a class="type" href="../../include/llvm/ADT/STLExtras.h.html#llvm::function_ref" title='llvm::function_ref' data-ref="llvm::function_ref" data-ref-filename="llvm..function_ref">function_ref</a>&lt;<a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *(<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *)&gt; <dfn class="local col0 decl" id="250PerformOp" title='PerformOp' data-type='function_ref&lt;llvm::Value *(IRBuilder&lt;&gt; &amp;, llvm::Value *)&gt;' data-ref="250PerformOp" data-ref-filename="250PerformOp">PerformOp</dfn>) {</td></tr>
<tr><th id="958">958</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col1 decl" id="251Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="251Builder" data-ref-filename="251Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col6 ref" href="#246I" title='I' data-ref="246I" data-ref-filename="246I">I</a>);</td></tr>
<tr><th id="959">959</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="252Loaded" title='Loaded' data-type='llvm::Value *' data-ref="252Loaded" data-ref-filename="252Loaded">Loaded</dfn> =</td></tr>
<tr><th id="960">960</th><td>      <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand17insertRMWLLSCLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueENS1_7857536" title='(anonymous namespace)::AtomicExpand::insertRMWLLSCLoop' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand17insertRMWLLSCLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueENS1_7857536" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand17insertRMWLLSCLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueENS1_7857536">insertRMWLLSCLoop</a>(<span class='refarg'><a class="local col1 ref" href="#251Builder" title='Builder' data-ref="251Builder" data-ref-filename="251Builder">Builder</a></span>, <a class="local col7 ref" href="#247ResultType" title='ResultType' data-ref="247ResultType" data-ref-filename="247ResultType">ResultType</a>, <a class="local col8 ref" href="#248Addr" title='Addr' data-ref="248Addr" data-ref-filename="248Addr">Addr</a>, <a class="local col9 ref" href="#249MemOpOrder" title='MemOpOrder' data-ref="249MemOpOrder" data-ref-filename="249MemOpOrder">MemOpOrder</a>, <a class="ref fn fake" href="../../include/llvm/ADT/STLExtras.h.html#179" title='llvm::function_ref&lt;llvm::Value *(llvm::IRBuilder&lt;llvm::ConstantFolder, llvm::IRBuilderDefaultInserter&gt; &amp;, llvm::Value *)&gt;::function_ref' data-ref="_ZN4llvm12function_refIFPNS_5ValueERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEES2_EEC1ERKS9_" data-ref-filename="_ZN4llvm12function_refIFPNS_5ValueERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEES2_EEC1ERKS9_"></a><a class="local col0 ref" href="#250PerformOp" title='PerformOp' data-ref="250PerformOp" data-ref-filename="250PerformOp">PerformOp</a>);</td></tr>
<tr><th id="961">961</th><td></td></tr>
<tr><th id="962">962</th><td>  <a class="local col6 ref" href="#246I" title='I' data-ref="246I" data-ref-filename="246I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col2 ref" href="#252Loaded" title='Loaded' data-ref="252Loaded" data-ref-filename="252Loaded">Loaded</a>);</td></tr>
<tr><th id="963">963</th><td>  <a class="local col6 ref" href="#246I" title='I' data-ref="246I" data-ref-filename="246I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="964">964</th><td>}</td></tr>
<tr><th id="965">965</th><td></td></tr>
<tr><th id="966">966</th><td><em>void</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand32expandAtomicRMWToMaskedIntrinsicEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicRMWToMaskedIntrinsic' data-type='void (anonymous namespace)::AtomicExpand::expandAtomicRMWToMaskedIntrinsic(llvm::AtomicRMWInst * AI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand32expandAtomicRMWToMaskedIntrinsicEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand32expandAtomicRMWToMaskedIntrinsicEPN4llvm13AtomicRMWInstE">expandAtomicRMWToMaskedIntrinsic</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col3 decl" id="253AI" title='AI' data-type='llvm::AtomicRMWInst *' data-ref="253AI" data-ref-filename="253AI">AI</dfn>) {</td></tr>
<tr><th id="967">967</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col4 decl" id="254Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="254Builder" data-ref-filename="254Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col3 ref" href="#253AI" title='AI' data-ref="253AI" data-ref-filename="253AI">AI</a>);</td></tr>
<tr><th id="968">968</th><td></td></tr>
<tr><th id="969">969</th><td>  <a class="tu type" href="#(anonymousnamespace)::PartwordMaskValues" title='(anonymous namespace)::PartwordMaskValues' data-ref="(anonymousnamespace)::PartwordMaskValues" data-ref-filename="(anonymousnamespace)..PartwordMaskValues">PartwordMaskValues</a> <dfn class="local col5 decl" id="255PMV" title='PMV' data-type='(anonymous namespace)::PartwordMaskValues' data-ref="255PMV" data-ref-filename="255PMV">PMV</dfn> =</td></tr>
<tr><th id="970">970</th><td>      <a class="tu ref fn" href="#_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj" title='createMaskInstrs' data-use='c' data-ref="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj" data-ref-filename="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">createMaskInstrs</a>(<span class='refarg'><a class="local col4 ref" href="#254Builder" title='Builder' data-ref="254Builder" data-ref-filename="254Builder">Builder</a></span>, <a class="local col3 ref" href="#253AI" title='AI' data-ref="253AI" data-ref-filename="253AI">AI</a>, <a class="local col3 ref" href="#253AI" title='AI' data-ref="253AI" data-ref-filename="253AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col3 ref" href="#253AI" title='AI' data-ref="253AI" data-ref-filename="253AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst17getPointerOperandEv" title='llvm::AtomicRMWInst::getPointerOperand' data-ref="_ZN4llvm13AtomicRMWInst17getPointerOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst17getPointerOperandEv">getPointerOperand</a>(),</td></tr>
<tr><th id="971">971</th><td>                       <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" title='llvm::TargetLoweringBase::getMinCmpXchgSizeInBits' data-ref="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" data-ref-filename="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv">getMinCmpXchgSizeInBits</a>() / <var>8</var>);</td></tr>
<tr><th id="972">972</th><td></td></tr>
<tr><th id="973">973</th><td>  <i>// The value operand must be sign-extended for signed min/max so that the</i></td></tr>
<tr><th id="974">974</th><td><i>  // target's signed comparison instructions can be used. Otherwise, just</i></td></tr>
<tr><th id="975">975</th><td><i>  // zero-ext.</i></td></tr>
<tr><th id="976">976</th><td>  <a class="type" href="../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="type" href="../../include/llvm/IR/Instruction.h.html#llvm::Instruction::CastOps" title='llvm::Instruction::CastOps' data-ref="llvm::Instruction::CastOps" data-ref-filename="llvm..Instruction..CastOps">CastOps</a> <dfn class="local col6 decl" id="256CastOp" title='CastOp' data-type='Instruction::CastOps' data-ref="256CastOp" data-ref-filename="256CastOp">CastOp</dfn> = <a class="type" href="../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../include/llvm/IR/Instruction.def.html#185" title='llvm::Instruction::ZExt' data-ref="llvm::Instruction::ZExt" data-ref-filename="llvm..Instruction..ZExt">ZExt</a>;</td></tr>
<tr><th id="977">977</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::BinOp" title='llvm::AtomicRMWInst::BinOp' data-ref="llvm::AtomicRMWInst::BinOp" data-ref-filename="llvm..AtomicRMWInst..BinOp">BinOp</a> <dfn class="local col7 decl" id="257RMWOp" title='RMWOp' data-type='AtomicRMWInst::BinOp' data-ref="257RMWOp" data-ref-filename="257RMWOp">RMWOp</dfn> = <a class="local col3 ref" href="#253AI" title='AI' data-ref="253AI" data-ref-filename="253AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst12getOperationEv" title='llvm::AtomicRMWInst::getOperation' data-ref="_ZNK4llvm13AtomicRMWInst12getOperationEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst12getOperationEv">getOperation</a>();</td></tr>
<tr><th id="978">978</th><td>  <b>if</b> (<a class="local col7 ref" href="#257RMWOp" title='RMWOp' data-ref="257RMWOp" data-ref-filename="257RMWOp">RMWOp</a> == <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Max" title='llvm::AtomicRMWInst::Max' data-ref="llvm::AtomicRMWInst::Max" data-ref-filename="llvm..AtomicRMWInst..Max">Max</a> || <a class="local col7 ref" href="#257RMWOp" title='RMWOp' data-ref="257RMWOp" data-ref-filename="257RMWOp">RMWOp</a> == <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Min" title='llvm::AtomicRMWInst::Min' data-ref="llvm::AtomicRMWInst::Min" data-ref-filename="llvm..AtomicRMWInst..Min">Min</a>)</td></tr>
<tr><th id="979">979</th><td>    <a class="local col6 ref" href="#256CastOp" title='CastOp' data-ref="256CastOp" data-ref-filename="256CastOp">CastOp</a> = <a class="type" href="../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a>::<a class="enum" href="../../include/llvm/IR/Instruction.def.html#186" title='llvm::Instruction::SExt' data-ref="llvm::Instruction::SExt" data-ref-filename="llvm..Instruction..SExt">SExt</a>;</td></tr>
<tr><th id="980">980</th><td></td></tr>
<tr><th id="981">981</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="258ValOperand_Shifted" title='ValOperand_Shifted' data-type='llvm::Value *' data-ref="258ValOperand_Shifted" data-ref-filename="258ValOperand_Shifted">ValOperand_Shifted</dfn> = <a class="local col4 ref" href="#254Builder" title='Builder' data-ref="254Builder" data-ref-filename="254Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateShl' data-ref="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb">CreateShl</a>(</td></tr>
<tr><th id="982">982</th><td>      <a class="local col4 ref" href="#254Builder" title='Builder' data-ref="254Builder" data-ref-filename="254Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateCastENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateCast' data-ref="_ZN4llvm13IRBuilderBase10CreateCastENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateCastENS_11Instruction7CastOpsEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateCast</a>(<a class="local col6 ref" href="#256CastOp" title='CastOp' data-ref="256CastOp" data-ref-filename="256CastOp">CastOp</a>, <a class="local col3 ref" href="#253AI" title='AI' data-ref="253AI" data-ref-filename="253AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst13getValOperandEv" title='llvm::AtomicRMWInst::getValOperand' data-ref="_ZN4llvm13AtomicRMWInst13getValOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst13getValOperandEv">getValOperand</a>(), <a class="local col5 ref" href="#255PMV" title='PMV' data-ref="255PMV" data-ref-filename="255PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>),</td></tr>
<tr><th id="983">983</th><td>      <a class="local col5 ref" href="#255PMV" title='PMV' data-ref="255PMV" data-ref-filename="255PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"ValOperand_Shifted"</q>);</td></tr>
<tr><th id="984">984</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="259OldResult" title='OldResult' data-type='llvm::Value *' data-ref="259OldResult" data-ref-filename="259OldResult">OldResult</dfn> = <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase28emitMaskedAtomicRMWIntrinsicERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_13AtomicRMWInstEPNS6593602" title='llvm::TargetLoweringBase::emitMaskedAtomicRMWIntrinsic' data-ref="_ZNK4llvm18TargetLoweringBase28emitMaskedAtomicRMWIntrinsicERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_13AtomicRMWInstEPNS6593602" data-ref-filename="_ZNK4llvm18TargetLoweringBase28emitMaskedAtomicRMWIntrinsicERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_13AtomicRMWInstEPNS6593602">emitMaskedAtomicRMWIntrinsic</a>(</td></tr>
<tr><th id="985">985</th><td>      <span class='refarg'><a class="local col4 ref" href="#254Builder" title='Builder' data-ref="254Builder" data-ref-filename="254Builder">Builder</a></span>, <a class="local col3 ref" href="#253AI" title='AI' data-ref="253AI" data-ref-filename="253AI">AI</a>, <a class="local col5 ref" href="#255PMV" title='PMV' data-ref="255PMV" data-ref-filename="255PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::AlignedAddr" title='(anonymous namespace)::PartwordMaskValues::AlignedAddr' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..AlignedAddr">AlignedAddr</a>, <a class="local col8 ref" href="#258ValOperand_Shifted" title='ValOperand_Shifted' data-ref="258ValOperand_Shifted" data-ref-filename="258ValOperand_Shifted">ValOperand_Shifted</a>, <a class="local col5 ref" href="#255PMV" title='PMV' data-ref="255PMV" data-ref-filename="255PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Mask" title='(anonymous namespace)::PartwordMaskValues::Mask' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Mask">Mask</a>, <a class="local col5 ref" href="#255PMV" title='PMV' data-ref="255PMV" data-ref-filename="255PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a>,</td></tr>
<tr><th id="986">986</th><td>      <a class="local col3 ref" href="#253AI" title='AI' data-ref="253AI" data-ref-filename="253AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst11getOrderingEv" title='llvm::AtomicRMWInst::getOrdering' data-ref="_ZNK4llvm13AtomicRMWInst11getOrderingEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst11getOrderingEv">getOrdering</a>());</td></tr>
<tr><th id="987">987</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="260FinalOldResult" title='FinalOldResult' data-type='llvm::Value *' data-ref="260FinalOldResult" data-ref-filename="260FinalOldResult">FinalOldResult</dfn> = <a class="tu ref fn" href="#_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" title='extractMaskedValue' data-use='c' data-ref="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" data-ref-filename="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE">extractMaskedValue</a>(<span class='refarg'><a class="local col4 ref" href="#254Builder" title='Builder' data-ref="254Builder" data-ref-filename="254Builder">Builder</a></span>, <a class="local col9 ref" href="#259OldResult" title='OldResult' data-ref="259OldResult" data-ref-filename="259OldResult">OldResult</a>, <a class="local col5 ref" href="#255PMV" title='PMV' data-ref="255PMV" data-ref-filename="255PMV">PMV</a>);</td></tr>
<tr><th id="988">988</th><td>  <a class="local col3 ref" href="#253AI" title='AI' data-ref="253AI" data-ref-filename="253AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col0 ref" href="#260FinalOldResult" title='FinalOldResult' data-ref="260FinalOldResult" data-ref-filename="260FinalOldResult">FinalOldResult</a>);</td></tr>
<tr><th id="989">989</th><td>  <a class="local col3 ref" href="#253AI" title='AI' data-ref="253AI" data-ref-filename="253AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="990">990</th><td>}</td></tr>
<tr><th id="991">991</th><td></td></tr>
<tr><th id="992">992</th><td><em>void</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand36expandAtomicCmpXchgToMaskedIntrinsicEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicCmpXchgToMaskedIntrinsic' data-type='void (anonymous namespace)::AtomicExpand::expandAtomicCmpXchgToMaskedIntrinsic(llvm::AtomicCmpXchgInst * CI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand36expandAtomicCmpXchgToMaskedIntrinsicEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand36expandAtomicCmpXchgToMaskedIntrinsicEPN4llvm17AtomicCmpXchgInstE">expandAtomicCmpXchgToMaskedIntrinsic</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col1 decl" id="261CI" title='CI' data-type='llvm::AtomicCmpXchgInst *' data-ref="261CI" data-ref-filename="261CI">CI</dfn>) {</td></tr>
<tr><th id="993">993</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col2 decl" id="262Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="262Builder" data-ref-filename="262Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col1 ref" href="#261CI" title='CI' data-ref="261CI" data-ref-filename="261CI">CI</a>);</td></tr>
<tr><th id="994">994</th><td></td></tr>
<tr><th id="995">995</th><td>  <a class="tu type" href="#(anonymousnamespace)::PartwordMaskValues" title='(anonymous namespace)::PartwordMaskValues' data-ref="(anonymousnamespace)::PartwordMaskValues" data-ref-filename="(anonymousnamespace)..PartwordMaskValues">PartwordMaskValues</a> <dfn class="local col3 decl" id="263PMV" title='PMV' data-type='(anonymous namespace)::PartwordMaskValues' data-ref="263PMV" data-ref-filename="263PMV">PMV</dfn> = <a class="tu ref fn" href="#_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj" title='createMaskInstrs' data-use='c' data-ref="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj" data-ref-filename="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">createMaskInstrs</a>(</td></tr>
<tr><th id="996">996</th><td>      <span class='refarg'><a class="local col2 ref" href="#262Builder" title='Builder' data-ref="262Builder" data-ref-filename="262Builder">Builder</a></span>, <a class="local col1 ref" href="#261CI" title='CI' data-ref="261CI" data-ref-filename="261CI">CI</a>, <a class="local col1 ref" href="#261CI" title='CI' data-ref="261CI" data-ref-filename="261CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" title='llvm::AtomicCmpXchgInst::getCompareOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv">getCompareOperand</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col1 ref" href="#261CI" title='CI' data-ref="261CI" data-ref-filename="261CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv" title='llvm::AtomicCmpXchgInst::getPointerOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv">getPointerOperand</a>(),</td></tr>
<tr><th id="997">997</th><td>      <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" title='llvm::TargetLoweringBase::getMinCmpXchgSizeInBits' data-ref="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" data-ref-filename="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv">getMinCmpXchgSizeInBits</a>() / <var>8</var>);</td></tr>
<tr><th id="998">998</th><td></td></tr>
<tr><th id="999">999</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="264CmpVal_Shifted" title='CmpVal_Shifted' data-type='llvm::Value *' data-ref="264CmpVal_Shifted" data-ref-filename="264CmpVal_Shifted">CmpVal_Shifted</dfn> = <a class="local col2 ref" href="#262Builder" title='Builder' data-ref="262Builder" data-ref-filename="262Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateShl' data-ref="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb">CreateShl</a>(</td></tr>
<tr><th id="1000">1000</th><td>      <a class="local col2 ref" href="#262Builder" title='Builder' data-ref="262Builder" data-ref-filename="262Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateZExt' data-ref="_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateZExt</a>(<a class="local col1 ref" href="#261CI" title='CI' data-ref="261CI" data-ref-filename="261CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" title='llvm::AtomicCmpXchgInst::getCompareOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv">getCompareOperand</a>(), <a class="local col3 ref" href="#263PMV" title='PMV' data-ref="263PMV" data-ref-filename="263PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>), <a class="local col3 ref" href="#263PMV" title='PMV' data-ref="263PMV" data-ref-filename="263PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a>,</td></tr>
<tr><th id="1001">1001</th><td>      <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"CmpVal_Shifted"</q>);</td></tr>
<tr><th id="1002">1002</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="265NewVal_Shifted" title='NewVal_Shifted' data-type='llvm::Value *' data-ref="265NewVal_Shifted" data-ref-filename="265NewVal_Shifted">NewVal_Shifted</dfn> = <a class="local col2 ref" href="#262Builder" title='Builder' data-ref="262Builder" data-ref-filename="262Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateShl' data-ref="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateShlEPNS_5ValueES2_RKNS_5TwineEbb">CreateShl</a>(</td></tr>
<tr><th id="1003">1003</th><td>      <a class="local col2 ref" href="#262Builder" title='Builder' data-ref="262Builder" data-ref-filename="262Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateZExt' data-ref="_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateZExtEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateZExt</a>(<a class="local col1 ref" href="#261CI" title='CI' data-ref="261CI" data-ref-filename="261CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv" title='llvm::AtomicCmpXchgInst::getNewValOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv">getNewValOperand</a>(), <a class="local col3 ref" href="#263PMV" title='PMV' data-ref="263PMV" data-ref-filename="263PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>), <a class="local col3 ref" href="#263PMV" title='PMV' data-ref="263PMV" data-ref-filename="263PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::ShiftAmt" title='(anonymous namespace)::PartwordMaskValues::ShiftAmt' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::ShiftAmt" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..ShiftAmt">ShiftAmt</a>,</td></tr>
<tr><th id="1004">1004</th><td>      <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"NewVal_Shifted"</q>);</td></tr>
<tr><th id="1005">1005</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="266OldVal" title='OldVal' data-type='llvm::Value *' data-ref="266OldVal" data-ref-filename="266OldVal">OldVal</dfn> = <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase32emitMaskedAtomicCmpXchgIntrinsicERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_17AtomicCmpXchg14180356" title='llvm::TargetLoweringBase::emitMaskedAtomicCmpXchgIntrinsic' data-ref="_ZNK4llvm18TargetLoweringBase32emitMaskedAtomicCmpXchgIntrinsicERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_17AtomicCmpXchg14180356" data-ref-filename="_ZNK4llvm18TargetLoweringBase32emitMaskedAtomicCmpXchgIntrinsicERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_17AtomicCmpXchg14180356">emitMaskedAtomicCmpXchgIntrinsic</a>(</td></tr>
<tr><th id="1006">1006</th><td>      <span class='refarg'><a class="local col2 ref" href="#262Builder" title='Builder' data-ref="262Builder" data-ref-filename="262Builder">Builder</a></span>, <a class="local col1 ref" href="#261CI" title='CI' data-ref="261CI" data-ref-filename="261CI">CI</a>, <a class="local col3 ref" href="#263PMV" title='PMV' data-ref="263PMV" data-ref-filename="263PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::AlignedAddr" title='(anonymous namespace)::PartwordMaskValues::AlignedAddr' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..AlignedAddr">AlignedAddr</a>, <a class="local col4 ref" href="#264CmpVal_Shifted" title='CmpVal_Shifted' data-ref="264CmpVal_Shifted" data-ref-filename="264CmpVal_Shifted">CmpVal_Shifted</a>, <a class="local col5 ref" href="#265NewVal_Shifted" title='NewVal_Shifted' data-ref="265NewVal_Shifted" data-ref-filename="265NewVal_Shifted">NewVal_Shifted</a>, <a class="local col3 ref" href="#263PMV" title='PMV' data-ref="263PMV" data-ref-filename="263PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Mask" title='(anonymous namespace)::PartwordMaskValues::Mask' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Mask">Mask</a>,</td></tr>
<tr><th id="1007">1007</th><td>      <a class="local col1 ref" href="#261CI" title='CI' data-ref="261CI" data-ref-filename="261CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" title='llvm::AtomicCmpXchgInst::getSuccessOrdering' data-ref="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv">getSuccessOrdering</a>());</td></tr>
<tr><th id="1008">1008</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="267FinalOldVal" title='FinalOldVal' data-type='llvm::Value *' data-ref="267FinalOldVal" data-ref-filename="267FinalOldVal">FinalOldVal</dfn> = <a class="tu ref fn" href="#_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" title='extractMaskedValue' data-use='c' data-ref="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" data-ref-filename="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE">extractMaskedValue</a>(<span class='refarg'><a class="local col2 ref" href="#262Builder" title='Builder' data-ref="262Builder" data-ref-filename="262Builder">Builder</a></span>, <a class="local col6 ref" href="#266OldVal" title='OldVal' data-ref="266OldVal" data-ref-filename="266OldVal">OldVal</a>, <a class="local col3 ref" href="#263PMV" title='PMV' data-ref="263PMV" data-ref-filename="263PMV">PMV</a>);</td></tr>
<tr><th id="1009">1009</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="268Res" title='Res' data-type='llvm::Value *' data-ref="268Res" data-ref-filename="268Res">Res</dfn> = <a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a>::<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZN4llvm10UndefValue3getEPNS_4TypeE" title='llvm::UndefValue::get' data-ref="_ZN4llvm10UndefValue3getEPNS_4TypeE" data-ref-filename="_ZN4llvm10UndefValue3getEPNS_4TypeE">get</a>(<a class="local col1 ref" href="#261CI" title='CI' data-ref="261CI" data-ref-filename="261CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="1010">1010</th><td>  <a class="local col8 ref" href="#268Res" title='Res' data-ref="268Res" data-ref-filename="268Res">Res</a> = <a class="local col2 ref" href="#262Builder" title='Builder' data-ref="262Builder" data-ref-filename="262Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInsertValue' data-ref="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE">CreateInsertValue</a>(<a class="local col8 ref" href="#268Res" title='Res' data-ref="268Res" data-ref-filename="268Res">Res</a>, <a class="local col7 ref" href="#267FinalOldVal" title='FinalOldVal' data-ref="267FinalOldVal" data-ref-filename="267FinalOldVal">FinalOldVal</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>0</var>);</td></tr>
<tr><th id="1011">1011</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="269Success" title='Success' data-type='llvm::Value *' data-ref="269Success" data-ref-filename="269Success">Success</dfn> = <a class="local col2 ref" href="#262Builder" title='Builder' data-ref="262Builder" data-ref-filename="262Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateICmpEQEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateICmpEQ' data-ref="_ZN4llvm13IRBuilderBase12CreateICmpEQEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateICmpEQEPNS_5ValueES2_RKNS_5TwineE">CreateICmpEQ</a>(</td></tr>
<tr><th id="1012">1012</th><td>      <a class="local col4 ref" href="#264CmpVal_Shifted" title='CmpVal_Shifted' data-ref="264CmpVal_Shifted" data-ref-filename="264CmpVal_Shifted">CmpVal_Shifted</a>, <a class="local col2 ref" href="#262Builder" title='Builder' data-ref="262Builder" data-ref-filename="262Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateAnd' data-ref="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateAndEPNS_5ValueES2_RKNS_5TwineE">CreateAnd</a>(<a class="local col6 ref" href="#266OldVal" title='OldVal' data-ref="266OldVal" data-ref-filename="266OldVal">OldVal</a>, <a class="local col3 ref" href="#263PMV" title='PMV' data-ref="263PMV" data-ref-filename="263PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::Mask" title='(anonymous namespace)::PartwordMaskValues::Mask' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::Mask" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..Mask">Mask</a>), <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"Success"</q>);</td></tr>
<tr><th id="1013">1013</th><td>  <a class="local col8 ref" href="#268Res" title='Res' data-ref="268Res" data-ref-filename="268Res">Res</a> = <a class="local col2 ref" href="#262Builder" title='Builder' data-ref="262Builder" data-ref-filename="262Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInsertValue' data-ref="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE">CreateInsertValue</a>(<a class="local col8 ref" href="#268Res" title='Res' data-ref="268Res" data-ref-filename="268Res">Res</a>, <a class="local col9 ref" href="#269Success" title='Success' data-ref="269Success" data-ref-filename="269Success">Success</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>1</var>);</td></tr>
<tr><th id="1014">1014</th><td></td></tr>
<tr><th id="1015">1015</th><td>  <a class="local col1 ref" href="#261CI" title='CI' data-ref="261CI" data-ref-filename="261CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col8 ref" href="#268Res" title='Res' data-ref="268Res" data-ref-filename="268Res">Res</a>);</td></tr>
<tr><th id="1016">1016</th><td>  <a class="local col1 ref" href="#261CI" title='CI' data-ref="261CI" data-ref-filename="261CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="1017">1017</th><td>}</td></tr>
<tr><th id="1018">1018</th><td></td></tr>
<tr><th id="1019">1019</th><td><a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand17insertRMWLLSCLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueENS1_7857536" title='(anonymous namespace)::AtomicExpand::insertRMWLLSCLoop' data-type='llvm::Value * (anonymous namespace)::AtomicExpand::insertRMWLLSCLoop(IRBuilder&lt;&gt; &amp; Builder, llvm::Type * ResultTy, llvm::Value * Addr, llvm::AtomicOrdering MemOpOrder, function_ref&lt;llvm::Value *(IRBuilder&lt;&gt; &amp;, llvm::Value *)&gt; PerformOp)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand17insertRMWLLSCLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueENS1_7857536" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand17insertRMWLLSCLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueENS1_7857536">insertRMWLLSCLoop</dfn>(</td></tr>
<tr><th id="1020">1020</th><td>    <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col0 decl" id="270Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="270Builder" data-ref-filename="270Builder">Builder</dfn>, <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col1 decl" id="271ResultTy" title='ResultTy' data-type='llvm::Type *' data-ref="271ResultTy" data-ref-filename="271ResultTy">ResultTy</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="272Addr" title='Addr' data-type='llvm::Value *' data-ref="272Addr" data-ref-filename="272Addr">Addr</dfn>,</td></tr>
<tr><th id="1021">1021</th><td>    <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col3 decl" id="273MemOpOrder" title='MemOpOrder' data-type='llvm::AtomicOrdering' data-ref="273MemOpOrder" data-ref-filename="273MemOpOrder">MemOpOrder</dfn>,</td></tr>
<tr><th id="1022">1022</th><td>    <a class="type" href="../../include/llvm/ADT/STLExtras.h.html#llvm::function_ref" title='llvm::function_ref' data-ref="llvm::function_ref" data-ref-filename="llvm..function_ref">function_ref</a>&lt;<a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *(<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *)&gt; <dfn class="local col4 decl" id="274PerformOp" title='PerformOp' data-type='function_ref&lt;llvm::Value *(IRBuilder&lt;&gt; &amp;, llvm::Value *)&gt;' data-ref="274PerformOp" data-ref-filename="274PerformOp">PerformOp</dfn>) {</td></tr>
<tr><th id="1023">1023</th><td>  <a class="type" href="../../include/llvm/IR/LLVMContext.h.html#llvm::LLVMContext" title='llvm::LLVMContext' data-ref="llvm::LLVMContext" data-ref-filename="llvm..LLVMContext">LLVMContext</a> &amp;<dfn class="local col5 decl" id="275Ctx" title='Ctx' data-type='llvm::LLVMContext &amp;' data-ref="275Ctx" data-ref-filename="275Ctx">Ctx</dfn> = <a class="local col0 ref" href="#270Builder" title='Builder' data-ref="270Builder" data-ref-filename="270Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZNK4llvm13IRBuilderBase10getContextEv" title='llvm::IRBuilderBase::getContext' data-ref="_ZNK4llvm13IRBuilderBase10getContextEv" data-ref-filename="_ZNK4llvm13IRBuilderBase10getContextEv">getContext</a>();</td></tr>
<tr><th id="1024">1024</th><td>  <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col6 decl" id="276BB" title='BB' data-type='llvm::BasicBlock *' data-ref="276BB" data-ref-filename="276BB">BB</dfn> = <a class="local col0 ref" href="#270Builder" title='Builder' data-ref="270Builder" data-ref-filename="270Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZNK4llvm13IRBuilderBase14GetInsertBlockEv" title='llvm::IRBuilderBase::GetInsertBlock' data-ref="_ZNK4llvm13IRBuilderBase14GetInsertBlockEv" data-ref-filename="_ZNK4llvm13IRBuilderBase14GetInsertBlockEv">GetInsertBlock</a>();</td></tr>
<tr><th id="1025">1025</th><td>  <a class="type" href="../../include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> *<dfn class="local col7 decl" id="277F" title='F' data-type='llvm::Function *' data-ref="277F" data-ref-filename="277F">F</dfn> = <a class="local col6 ref" href="#276BB" title='BB' data-ref="276BB" data-ref-filename="276BB">BB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock9getParentEv" title='llvm::BasicBlock::getParent' data-ref="_ZN4llvm10BasicBlock9getParentEv" data-ref-filename="_ZN4llvm10BasicBlock9getParentEv">getParent</a>();</td></tr>
<tr><th id="1026">1026</th><td></td></tr>
<tr><th id="1027">1027</th><td>  <i>// Given: atomicrmw some_op iN* %addr, iN %incr ordering</i></td></tr>
<tr><th id="1028">1028</th><td><i>  //</i></td></tr>
<tr><th id="1029">1029</th><td><i>  // The standard expansion we produce is:</i></td></tr>
<tr><th id="1030">1030</th><td><i>  //     [...]</i></td></tr>
<tr><th id="1031">1031</th><td><i>  // atomicrmw.start:</i></td></tr>
<tr><th id="1032">1032</th><td><i>  //     %loaded = @load.linked(%addr)</i></td></tr>
<tr><th id="1033">1033</th><td><i>  //     %new = some_op iN %loaded, %incr</i></td></tr>
<tr><th id="1034">1034</th><td><i>  //     %stored = @store_conditional(%new, %addr)</i></td></tr>
<tr><th id="1035">1035</th><td><i>  //     %try_again = icmp i32 ne %stored, 0</i></td></tr>
<tr><th id="1036">1036</th><td><i>  //     br i1 %try_again, label %loop, label %atomicrmw.end</i></td></tr>
<tr><th id="1037">1037</th><td><i>  // atomicrmw.end:</i></td></tr>
<tr><th id="1038">1038</th><td><i>  //     [...]</i></td></tr>
<tr><th id="1039">1039</th><td>  <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col8 decl" id="278ExitBB" title='ExitBB' data-type='llvm::BasicBlock *' data-ref="278ExitBB" data-ref-filename="278ExitBB">ExitBB</dfn> =</td></tr>
<tr><th id="1040">1040</th><td>      <a class="local col6 ref" href="#276BB" title='BB' data-ref="276BB" data-ref-filename="276BB">BB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock15splitBasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEERKNS_5TwineEb" title='llvm::BasicBlock::splitBasicBlock' data-ref="_ZN4llvm10BasicBlock15splitBasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEERKNS_5TwineEb" data-ref-filename="_ZN4llvm10BasicBlock15splitBasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEERKNS_5TwineEb">splitBasicBlock</a>(<a class="local col0 ref" href="#270Builder" title='Builder' data-ref="270Builder" data-ref-filename="270Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZNK4llvm13IRBuilderBase14GetInsertPointEv" title='llvm::IRBuilderBase::GetInsertPoint' data-ref="_ZNK4llvm13IRBuilderBase14GetInsertPointEv" data-ref-filename="_ZNK4llvm13IRBuilderBase14GetInsertPointEv">GetInsertPoint</a>(), <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"atomicrmw.end"</q>);</td></tr>
<tr><th id="1041">1041</th><td>  <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col9 decl" id="279LoopBB" title='LoopBB' data-type='llvm::BasicBlock *' data-ref="279LoopBB" data-ref-filename="279LoopBB">LoopBB</dfn> =  <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" title='llvm::BasicBlock::Create' data-ref="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" data-ref-filename="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_">Create</a>(<span class='refarg'><a class="local col5 ref" href="#275Ctx" title='Ctx' data-ref="275Ctx" data-ref-filename="275Ctx">Ctx</a></span>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"atomicrmw.start"</q>, <a class="local col7 ref" href="#277F" title='F' data-ref="277F" data-ref-filename="277F">F</a>, <a class="local col8 ref" href="#278ExitBB" title='ExitBB' data-ref="278ExitBB" data-ref-filename="278ExitBB">ExitBB</a>);</td></tr>
<tr><th id="1042">1042</th><td></td></tr>
<tr><th id="1043">1043</th><td>  <i>// The split call above "helpfully" added a branch at the end of BB (to the</i></td></tr>
<tr><th id="1044">1044</th><td><i>  // wrong place).</i></td></tr>
<tr><th id="1045">1045</th><td>  <span class="namespace">std::</span><span class='ref fn' title='std::prev' data-ref="_ZSt4prevT_NSt15iterator_traitsIS_E15difference_typeE" data-ref-filename="_ZSt4prevT_NSt15iterator_traitsIS_E15difference_typeE">prev</span>(<a class="local col6 ref" href="#276BB" title='BB' data-ref="276BB" data-ref-filename="276BB">BB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock3endEv" title='llvm::BasicBlock::end' data-ref="_ZN4llvm10BasicBlock3endEv" data-ref-filename="_ZN4llvm10BasicBlock3endEv">end</a>())<a class="ref fn" href="../../include/llvm/ADT/ilist_iterator.h.html#_ZNK4llvm14ilist_iteratorptEv" title='llvm::ilist_iterator::operator-&gt;' data-ref="_ZNK4llvm14ilist_iteratorptEv" data-ref-filename="_ZNK4llvm14ilist_iteratorptEv">-&gt;</a><a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="1046">1046</th><td>  <a class="local col0 ref" href="#270Builder" title='Builder' data-ref="270Builder" data-ref-filename="270Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col6 ref" href="#276BB" title='BB' data-ref="276BB" data-ref-filename="276BB">BB</a>);</td></tr>
<tr><th id="1047">1047</th><td>  <a class="local col0 ref" href="#270Builder" title='Builder' data-ref="270Builder" data-ref-filename="270Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" title='llvm::IRBuilderBase::CreateBr' data-ref="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE">CreateBr</a>(<a class="local col9 ref" href="#279LoopBB" title='LoopBB' data-ref="279LoopBB" data-ref-filename="279LoopBB">LoopBB</a>);</td></tr>
<tr><th id="1048">1048</th><td></td></tr>
<tr><th id="1049">1049</th><td>  <i>// Start the main loop block now that we've taken care of the preliminaries.</i></td></tr>
<tr><th id="1050">1050</th><td>  <a class="local col0 ref" href="#270Builder" title='Builder' data-ref="270Builder" data-ref-filename="270Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col9 ref" href="#279LoopBB" title='LoopBB' data-ref="279LoopBB" data-ref-filename="279LoopBB">LoopBB</a>);</td></tr>
<tr><th id="1051">1051</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="280Loaded" title='Loaded' data-type='llvm::Value *' data-ref="280Loaded" data-ref-filename="280Loaded">Loaded</dfn> = <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase14emitLoadLinkedERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueENS_14AtomicOrderingE" title='llvm::TargetLoweringBase::emitLoadLinked' data-ref="_ZNK4llvm18TargetLoweringBase14emitLoadLinkedERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueENS_14AtomicOrderingE" data-ref-filename="_ZNK4llvm18TargetLoweringBase14emitLoadLinkedERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueENS_14AtomicOrderingE">emitLoadLinked</a>(<span class='refarg'><a class="local col0 ref" href="#270Builder" title='Builder' data-ref="270Builder" data-ref-filename="270Builder">Builder</a></span>, <a class="local col2 ref" href="#272Addr" title='Addr' data-ref="272Addr" data-ref-filename="272Addr">Addr</a>, <a class="local col3 ref" href="#273MemOpOrder" title='MemOpOrder' data-ref="273MemOpOrder" data-ref-filename="273MemOpOrder">MemOpOrder</a>);</td></tr>
<tr><th id="1052">1052</th><td></td></tr>
<tr><th id="1053">1053</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="281NewVal" title='NewVal' data-type='llvm::Value *' data-ref="281NewVal" data-ref-filename="281NewVal">NewVal</dfn> = <a class="local col4 ref" href="#274PerformOp" title='PerformOp' data-ref="274PerformOp" data-ref-filename="274PerformOp">PerformOp</a><a class="ref fn" href="../../include/llvm/ADT/STLExtras.h.html#_ZNK4llvm12function_refIFT_DpT0_EEclES3_" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::operator()' data-ref="_ZNK4llvm12function_refIFT_DpT0_EEclES3_" data-ref-filename="_ZNK4llvm12function_refIFT_DpT0_EEclES3_">(<a class="local col0 ref" href="#270Builder" title='Builder' data-ref="270Builder" data-ref-filename="270Builder">Builder</a>, <a class="local col0 ref" href="#280Loaded" title='Loaded' data-ref="280Loaded" data-ref-filename="280Loaded">Loaded</a>)</a>;</td></tr>
<tr><th id="1054">1054</th><td></td></tr>
<tr><th id="1055">1055</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="282StoreSuccess" title='StoreSuccess' data-type='llvm::Value *' data-ref="282StoreSuccess" data-ref-filename="282StoreSuccess">StoreSuccess</dfn> =</td></tr>
<tr><th id="1056">1056</th><td>      <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase20emitStoreConditionalERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES7_NS_14AtomicOrderingE" title='llvm::TargetLoweringBase::emitStoreConditional' data-ref="_ZNK4llvm18TargetLoweringBase20emitStoreConditionalERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES7_NS_14AtomicOrderingE" data-ref-filename="_ZNK4llvm18TargetLoweringBase20emitStoreConditionalERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES7_NS_14AtomicOrderingE">emitStoreConditional</a>(<span class='refarg'><a class="local col0 ref" href="#270Builder" title='Builder' data-ref="270Builder" data-ref-filename="270Builder">Builder</a></span>, <a class="local col1 ref" href="#281NewVal" title='NewVal' data-ref="281NewVal" data-ref-filename="281NewVal">NewVal</a>, <a class="local col2 ref" href="#272Addr" title='Addr' data-ref="272Addr" data-ref-filename="272Addr">Addr</a>, <a class="local col3 ref" href="#273MemOpOrder" title='MemOpOrder' data-ref="273MemOpOrder" data-ref-filename="273MemOpOrder">MemOpOrder</a>);</td></tr>
<tr><th id="1057">1057</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="283TryAgain" title='TryAgain' data-type='llvm::Value *' data-ref="283TryAgain" data-ref-filename="283TryAgain">TryAgain</dfn> = <a class="local col0 ref" href="#270Builder" title='Builder' data-ref="270Builder" data-ref-filename="270Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateICmpNEEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateICmpNE' data-ref="_ZN4llvm13IRBuilderBase12CreateICmpNEEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateICmpNEEPNS_5ValueES2_RKNS_5TwineE">CreateICmpNE</a>(</td></tr>
<tr><th id="1058">1058</th><td>      <a class="local col2 ref" href="#282StoreSuccess" title='StoreSuccess' data-ref="282StoreSuccess" data-ref-filename="282StoreSuccess">StoreSuccess</a>, <a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb">get</a>(<a class="type" href="../../include/llvm/IR/DerivedTypes.h.html#llvm::IntegerType" title='llvm::IntegerType' data-ref="llvm::IntegerType" data-ref-filename="llvm..IntegerType">IntegerType</a>::<a class="ref fn" href="../../include/llvm/IR/DerivedTypes.h.html#_ZN4llvm11IntegerType3getERNS_11LLVMContextEj" title='llvm::IntegerType::get' data-ref="_ZN4llvm11IntegerType3getERNS_11LLVMContextEj" data-ref-filename="_ZN4llvm11IntegerType3getERNS_11LLVMContextEj">get</a>(<span class='refarg'><a class="local col5 ref" href="#275Ctx" title='Ctx' data-ref="275Ctx" data-ref-filename="275Ctx">Ctx</a></span>, <var>32</var>), <var>0</var>), <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"tryagain"</q>);</td></tr>
<tr><th id="1059">1059</th><td>  <a class="local col0 ref" href="#270Builder" title='Builder' data-ref="270Builder" data-ref-filename="270Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_" title='llvm::IRBuilderBase::CreateCondBr' data-ref="_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_">CreateCondBr</a>(<a class="local col3 ref" href="#283TryAgain" title='TryAgain' data-ref="283TryAgain" data-ref-filename="283TryAgain">TryAgain</a>, <a class="local col9 ref" href="#279LoopBB" title='LoopBB' data-ref="279LoopBB" data-ref-filename="279LoopBB">LoopBB</a>, <a class="local col8 ref" href="#278ExitBB" title='ExitBB' data-ref="278ExitBB" data-ref-filename="278ExitBB">ExitBB</a>);</td></tr>
<tr><th id="1060">1060</th><td></td></tr>
<tr><th id="1061">1061</th><td>  <a class="local col0 ref" href="#270Builder" title='Builder' data-ref="270Builder" data-ref-filename="270Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEE">SetInsertPoint</a>(<a class="local col8 ref" href="#278ExitBB" title='ExitBB' data-ref="278ExitBB" data-ref-filename="278ExitBB">ExitBB</a>, <a class="local col8 ref" href="#278ExitBB" title='ExitBB' data-ref="278ExitBB" data-ref-filename="278ExitBB">ExitBB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock5beginEv" title='llvm::BasicBlock::begin' data-ref="_ZN4llvm10BasicBlock5beginEv" data-ref-filename="_ZN4llvm10BasicBlock5beginEv">begin</a>());</td></tr>
<tr><th id="1062">1062</th><td>  <b>return</b> <a class="local col0 ref" href="#280Loaded" title='Loaded' data-ref="280Loaded" data-ref-filename="280Loaded">Loaded</a>;</td></tr>
<tr><th id="1063">1063</th><td>}</td></tr>
<tr><th id="1064">1064</th><td></td></tr>
<tr><th id="1065">1065</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand27convertCmpXchgToIntegerTypeEPN4llvm17AtomicCmpXchgInstE">/// Convert an atomic cmpxchg of a non-integral type to an integer cmpxchg of</i></td></tr>
<tr><th id="1066">1066</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand27convertCmpXchgToIntegerTypeEPN4llvm17AtomicCmpXchgInstE">/// the equivalent bitwidth.  We used to not support pointer cmpxchg in the</i></td></tr>
<tr><th id="1067">1067</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand27convertCmpXchgToIntegerTypeEPN4llvm17AtomicCmpXchgInstE">/// IR.  As a migration step, we convert back to what use to be the standard</i></td></tr>
<tr><th id="1068">1068</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand27convertCmpXchgToIntegerTypeEPN4llvm17AtomicCmpXchgInstE">/// way to represent a pointer cmpxchg so that we can update backends one by</i></td></tr>
<tr><th id="1069">1069</th><td><i class="doc" data-doc="_ZN12_GLOBAL__N_112AtomicExpand27convertCmpXchgToIntegerTypeEPN4llvm17AtomicCmpXchgInstE">/// one.</i></td></tr>
<tr><th id="1070">1070</th><td><a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand27convertCmpXchgToIntegerTypeEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::convertCmpXchgToIntegerType' data-type='llvm::AtomicCmpXchgInst * (anonymous namespace)::AtomicExpand::convertCmpXchgToIntegerType(llvm::AtomicCmpXchgInst * CI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand27convertCmpXchgToIntegerTypeEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand27convertCmpXchgToIntegerTypeEPN4llvm17AtomicCmpXchgInstE">convertCmpXchgToIntegerType</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col4 decl" id="284CI" title='CI' data-type='llvm::AtomicCmpXchgInst *' data-ref="284CI" data-ref-filename="284CI">CI</dfn>) {</td></tr>
<tr><th id="1071">1071</th><td>  <em>auto</em> *<dfn class="local col5 decl" id="285M" title='M' data-type='llvm::Module *' data-ref="285M" data-ref-filename="285M">M</dfn> = <a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getModuleEv" title='llvm::Instruction::getModule' data-ref="_ZN4llvm11Instruction9getModuleEv" data-ref-filename="_ZN4llvm11Instruction9getModuleEv">getModule</a>();</td></tr>
<tr><th id="1072">1072</th><td>  <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col6 decl" id="286NewTy" title='NewTy' data-type='llvm::Type *' data-ref="286NewTy" data-ref-filename="286NewTy">NewTy</dfn> = <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE" title='(anonymous namespace)::AtomicExpand::getCorrespondingIntegerType' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand27getCorrespondingIntegerTypeEPN4llvm4TypeERKNS1_10DataLayoutE">getCorrespondingIntegerType</a>(<a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" title='llvm::AtomicCmpXchgInst::getCompareOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv">getCompareOperand</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(),</td></tr>
<tr><th id="1073">1073</th><td>                                            <a class="local col5 ref" href="#285M" title='M' data-ref="285M" data-ref-filename="285M">M</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Module.h.html#_ZNK4llvm6Module13getDataLayoutEv" title='llvm::Module::getDataLayout' data-ref="_ZNK4llvm6Module13getDataLayoutEv" data-ref-filename="_ZNK4llvm6Module13getDataLayoutEv">getDataLayout</a>());</td></tr>
<tr><th id="1074">1074</th><td></td></tr>
<tr><th id="1075">1075</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col7 decl" id="287Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="287Builder" data-ref-filename="287Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>);</td></tr>
<tr><th id="1076">1076</th><td></td></tr>
<tr><th id="1077">1077</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="288Addr" title='Addr' data-type='llvm::Value *' data-ref="288Addr" data-ref-filename="288Addr">Addr</dfn> = <a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv" title='llvm::AtomicCmpXchgInst::getPointerOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv">getPointerOperand</a>();</td></tr>
<tr><th id="1078">1078</th><td>  <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col9 decl" id="289PT" title='PT' data-type='llvm::Type *' data-ref="289PT" data-ref-filename="289PT">PT</dfn> = <a class="type" href="../../include/llvm/IR/DerivedTypes.h.html#llvm::PointerType" title='llvm::PointerType' data-ref="llvm::PointerType" data-ref-filename="llvm..PointerType">PointerType</a>::<a class="ref fn" href="../../include/llvm/IR/DerivedTypes.h.html#_ZN4llvm11PointerType3getEPNS_4TypeEj" title='llvm::PointerType::get' data-ref="_ZN4llvm11PointerType3getEPNS_4TypeEj" data-ref-filename="_ZN4llvm11PointerType3getEPNS_4TypeEj">get</a>(<a class="local col6 ref" href="#286NewTy" title='NewTy' data-ref="286NewTy" data-ref-filename="286NewTy">NewTy</a>,</td></tr>
<tr><th id="1079">1079</th><td>                              <a class="local col8 ref" href="#288Addr" title='Addr' data-ref="288Addr" data-ref-filename="288Addr">Addr</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPointerAddressSpaceEv" title='llvm::Type::getPointerAddressSpace' data-ref="_ZNK4llvm4Type22getPointerAddressSpaceEv" data-ref-filename="_ZNK4llvm4Type22getPointerAddressSpaceEv">getPointerAddressSpace</a>());</td></tr>
<tr><th id="1080">1080</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="290NewAddr" title='NewAddr' data-type='llvm::Value *' data-ref="290NewAddr" data-ref-filename="290NewAddr">NewAddr</dfn> = <a class="local col7 ref" href="#287Builder" title='Builder' data-ref="287Builder" data-ref-filename="287Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitCast' data-ref="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitCast</a>(<a class="local col8 ref" href="#288Addr" title='Addr' data-ref="288Addr" data-ref-filename="288Addr">Addr</a>, <a class="local col9 ref" href="#289PT" title='PT' data-ref="289PT" data-ref-filename="289PT">PT</a>);</td></tr>
<tr><th id="1081">1081</th><td></td></tr>
<tr><th id="1082">1082</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="291NewCmp" title='NewCmp' data-type='llvm::Value *' data-ref="291NewCmp" data-ref-filename="291NewCmp">NewCmp</dfn> = <a class="local col7 ref" href="#287Builder" title='Builder' data-ref="287Builder" data-ref-filename="287Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14CreatePtrToIntEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreatePtrToInt' data-ref="_ZN4llvm13IRBuilderBase14CreatePtrToIntEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase14CreatePtrToIntEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreatePtrToInt</a>(<a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" title='llvm::AtomicCmpXchgInst::getCompareOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv">getCompareOperand</a>(), <a class="local col6 ref" href="#286NewTy" title='NewTy' data-ref="286NewTy" data-ref-filename="286NewTy">NewTy</a>);</td></tr>
<tr><th id="1083">1083</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="292NewNewVal" title='NewNewVal' data-type='llvm::Value *' data-ref="292NewNewVal" data-ref-filename="292NewNewVal">NewNewVal</dfn> = <a class="local col7 ref" href="#287Builder" title='Builder' data-ref="287Builder" data-ref-filename="287Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14CreatePtrToIntEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreatePtrToInt' data-ref="_ZN4llvm13IRBuilderBase14CreatePtrToIntEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase14CreatePtrToIntEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreatePtrToInt</a>(<a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv" title='llvm::AtomicCmpXchgInst::getNewValOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv">getNewValOperand</a>(), <a class="local col6 ref" href="#286NewTy" title='NewTy' data-ref="286NewTy" data-ref-filename="286NewTy">NewTy</a>);</td></tr>
<tr><th id="1084">1084</th><td></td></tr>
<tr><th id="1085">1085</th><td></td></tr>
<tr><th id="1086">1086</th><td>  <em>auto</em> *<dfn class="local col3 decl" id="293NewCI" title='NewCI' data-type='llvm::AtomicCmpXchgInst *' data-ref="293NewCI" data-ref-filename="293NewCI">NewCI</dfn> = <a class="local col7 ref" href="#287Builder" title='Builder' data-ref="287Builder" data-ref-filename="287Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h" title='llvm::IRBuilderBase::CreateAtomicCmpXchg' data-ref="_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h" data-ref-filename="_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h">CreateAtomicCmpXchg</a>(<a class="local col0 ref" href="#290NewAddr" title='NewAddr' data-ref="290NewAddr" data-ref-filename="290NewAddr">NewAddr</a>, <a class="local col1 ref" href="#291NewCmp" title='NewCmp' data-ref="291NewCmp" data-ref-filename="291NewCmp">NewCmp</a>, <a class="local col2 ref" href="#292NewNewVal" title='NewNewVal' data-ref="292NewNewVal" data-ref-filename="292NewNewVal">NewNewVal</a>,</td></tr>
<tr><th id="1087">1087</th><td>                                            <a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" title='llvm::AtomicCmpXchgInst::getSuccessOrdering' data-ref="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv">getSuccessOrdering</a>(),</td></tr>
<tr><th id="1088">1088</th><td>                                            <a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst18getFailureOrderingEv" title='llvm::AtomicCmpXchgInst::getFailureOrdering' data-ref="_ZNK4llvm17AtomicCmpXchgInst18getFailureOrderingEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst18getFailureOrderingEv">getFailureOrdering</a>(),</td></tr>
<tr><th id="1089">1089</th><td>                                            <a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst14getSyncScopeIDEv" title='llvm::AtomicCmpXchgInst::getSyncScopeID' data-ref="_ZNK4llvm17AtomicCmpXchgInst14getSyncScopeIDEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst14getSyncScopeIDEv">getSyncScopeID</a>());</td></tr>
<tr><th id="1090">1090</th><td>  <a class="local col3 ref" href="#293NewCI" title='NewCI' data-ref="293NewCI" data-ref-filename="293NewCI">NewCI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst11setVolatileEb" title='llvm::AtomicCmpXchgInst::setVolatile' data-ref="_ZN4llvm17AtomicCmpXchgInst11setVolatileEb" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst11setVolatileEb">setVolatile</a>(<a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst10isVolatileEv" title='llvm::AtomicCmpXchgInst::isVolatile' data-ref="_ZNK4llvm17AtomicCmpXchgInst10isVolatileEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst10isVolatileEv">isVolatile</a>());</td></tr>
<tr><th id="1091">1091</th><td>  <a class="local col3 ref" href="#293NewCI" title='NewCI' data-ref="293NewCI" data-ref-filename="293NewCI">NewCI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst7setWeakEb" title='llvm::AtomicCmpXchgInst::setWeak' data-ref="_ZN4llvm17AtomicCmpXchgInst7setWeakEb" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst7setWeakEb">setWeak</a>(<a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst6isWeakEv" title='llvm::AtomicCmpXchgInst::isWeak' data-ref="_ZNK4llvm17AtomicCmpXchgInst6isWeakEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst6isWeakEv">isWeak</a>());</td></tr>
<tr><th id="1092">1092</th><td>  <a class="macro" href="../../include/llvm/Support/Debug.h.html#122" title="do { } while (false)" data-ref="_M/LLVM_DEBUG">LLVM_DEBUG</a>(dbgs() &lt;&lt; <q>"Replaced "</q> &lt;&lt; *CI &lt;&lt; <q>" with "</q> &lt;&lt; *NewCI &lt;&lt; <q>"\n"</q>);</td></tr>
<tr><th id="1093">1093</th><td></td></tr>
<tr><th id="1094">1094</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="294OldVal" title='OldVal' data-type='llvm::Value *' data-ref="294OldVal" data-ref-filename="294OldVal">OldVal</dfn> = <a class="local col7 ref" href="#287Builder" title='Builder' data-ref="287Builder" data-ref-filename="287Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateExtractValue' data-ref="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE">CreateExtractValue</a>(<a class="local col3 ref" href="#293NewCI" title='NewCI' data-ref="293NewCI" data-ref-filename="293NewCI">NewCI</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>0</var>);</td></tr>
<tr><th id="1095">1095</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="295Succ" title='Succ' data-type='llvm::Value *' data-ref="295Succ" data-ref-filename="295Succ">Succ</dfn> = <a class="local col7 ref" href="#287Builder" title='Builder' data-ref="287Builder" data-ref-filename="287Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateExtractValue' data-ref="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE">CreateExtractValue</a>(<a class="local col3 ref" href="#293NewCI" title='NewCI' data-ref="293NewCI" data-ref-filename="293NewCI">NewCI</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>1</var>);</td></tr>
<tr><th id="1096">1096</th><td></td></tr>
<tr><th id="1097">1097</th><td>  <a class="local col4 ref" href="#294OldVal" title='OldVal' data-ref="294OldVal" data-ref-filename="294OldVal">OldVal</a> = <a class="local col7 ref" href="#287Builder" title='Builder' data-ref="287Builder" data-ref-filename="287Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14CreateIntToPtrEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateIntToPtr' data-ref="_ZN4llvm13IRBuilderBase14CreateIntToPtrEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase14CreateIntToPtrEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateIntToPtr</a>(<a class="local col4 ref" href="#294OldVal" title='OldVal' data-ref="294OldVal" data-ref-filename="294OldVal">OldVal</a>, <a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" title='llvm::AtomicCmpXchgInst::getCompareOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv">getCompareOperand</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="1098">1098</th><td></td></tr>
<tr><th id="1099">1099</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="296Res" title='Res' data-type='llvm::Value *' data-ref="296Res" data-ref-filename="296Res">Res</dfn> = <a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a>::<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZN4llvm10UndefValue3getEPNS_4TypeE" title='llvm::UndefValue::get' data-ref="_ZN4llvm10UndefValue3getEPNS_4TypeE" data-ref-filename="_ZN4llvm10UndefValue3getEPNS_4TypeE">get</a>(<a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="1100">1100</th><td>  <a class="local col6 ref" href="#296Res" title='Res' data-ref="296Res" data-ref-filename="296Res">Res</a> = <a class="local col7 ref" href="#287Builder" title='Builder' data-ref="287Builder" data-ref-filename="287Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInsertValue' data-ref="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE">CreateInsertValue</a>(<a class="local col6 ref" href="#296Res" title='Res' data-ref="296Res" data-ref-filename="296Res">Res</a>, <a class="local col4 ref" href="#294OldVal" title='OldVal' data-ref="294OldVal" data-ref-filename="294OldVal">OldVal</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>0</var>);</td></tr>
<tr><th id="1101">1101</th><td>  <a class="local col6 ref" href="#296Res" title='Res' data-ref="296Res" data-ref-filename="296Res">Res</a> = <a class="local col7 ref" href="#287Builder" title='Builder' data-ref="287Builder" data-ref-filename="287Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInsertValue' data-ref="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE">CreateInsertValue</a>(<a class="local col6 ref" href="#296Res" title='Res' data-ref="296Res" data-ref-filename="296Res">Res</a>, <a class="local col5 ref" href="#295Succ" title='Succ' data-ref="295Succ" data-ref-filename="295Succ">Succ</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>1</var>);</td></tr>
<tr><th id="1102">1102</th><td></td></tr>
<tr><th id="1103">1103</th><td>  <a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col6 ref" href="#296Res" title='Res' data-ref="296Res" data-ref-filename="296Res">Res</a>);</td></tr>
<tr><th id="1104">1104</th><td>  <a class="local col4 ref" href="#284CI" title='CI' data-ref="284CI" data-ref-filename="284CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="1105">1105</th><td>  <b>return</b> <a class="local col3 ref" href="#293NewCI" title='NewCI' data-ref="293NewCI" data-ref-filename="293NewCI">NewCI</a>;</td></tr>
<tr><th id="1106">1106</th><td>}</td></tr>
<tr><th id="1107">1107</th><td></td></tr>
<tr><th id="1108">1108</th><td><em>bool</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand19expandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicCmpXchg' data-type='bool (anonymous namespace)::AtomicExpand::expandAtomicCmpXchg(llvm::AtomicCmpXchgInst * CI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand19expandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand19expandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE">expandAtomicCmpXchg</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col7 decl" id="297CI" title='CI' data-type='llvm::AtomicCmpXchgInst *' data-ref="297CI" data-ref-filename="297CI">CI</dfn>) {</td></tr>
<tr><th id="1109">1109</th><td>  <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col8 decl" id="298SuccessOrder" title='SuccessOrder' data-type='llvm::AtomicOrdering' data-ref="298SuccessOrder" data-ref-filename="298SuccessOrder">SuccessOrder</dfn> = <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" title='llvm::AtomicCmpXchgInst::getSuccessOrdering' data-ref="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv">getSuccessOrdering</a>();</td></tr>
<tr><th id="1110">1110</th><td>  <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col9 decl" id="299FailureOrder" title='FailureOrder' data-type='llvm::AtomicOrdering' data-ref="299FailureOrder" data-ref-filename="299FailureOrder">FailureOrder</dfn> = <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst18getFailureOrderingEv" title='llvm::AtomicCmpXchgInst::getFailureOrdering' data-ref="_ZNK4llvm17AtomicCmpXchgInst18getFailureOrderingEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst18getFailureOrderingEv">getFailureOrdering</a>();</td></tr>
<tr><th id="1111">1111</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="300Addr" title='Addr' data-type='llvm::Value *' data-ref="300Addr" data-ref-filename="300Addr">Addr</dfn> = <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv" title='llvm::AtomicCmpXchgInst::getPointerOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv">getPointerOperand</a>();</td></tr>
<tr><th id="1112">1112</th><td>  <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col1 decl" id="301BB" title='BB' data-type='llvm::BasicBlock *' data-ref="301BB" data-ref-filename="301BB">BB</dfn> = <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>();</td></tr>
<tr><th id="1113">1113</th><td>  <a class="type" href="../../include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> *<dfn class="local col2 decl" id="302F" title='F' data-type='llvm::Function *' data-ref="302F" data-ref-filename="302F">F</dfn> = <a class="local col1 ref" href="#301BB" title='BB' data-ref="301BB" data-ref-filename="301BB">BB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock9getParentEv" title='llvm::BasicBlock::getParent' data-ref="_ZN4llvm10BasicBlock9getParentEv" data-ref-filename="_ZN4llvm10BasicBlock9getParentEv">getParent</a>();</td></tr>
<tr><th id="1114">1114</th><td>  <a class="type" href="../../include/llvm/IR/LLVMContext.h.html#llvm::LLVMContext" title='llvm::LLVMContext' data-ref="llvm::LLVMContext" data-ref-filename="llvm..LLVMContext">LLVMContext</a> &amp;<dfn class="local col3 decl" id="303Ctx" title='Ctx' data-type='llvm::LLVMContext &amp;' data-ref="303Ctx" data-ref-filename="303Ctx">Ctx</dfn> = <a class="local col2 ref" href="#302F" title='F' data-ref="302F" data-ref-filename="302F">F</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Function.h.html#_ZNK4llvm8Function10getContextEv" title='llvm::Function::getContext' data-ref="_ZNK4llvm8Function10getContextEv" data-ref-filename="_ZNK4llvm8Function10getContextEv">getContext</a>();</td></tr>
<tr><th id="1115">1115</th><td>  <i>// If shouldInsertFencesForAtomic() returns true, then the target does not</i></td></tr>
<tr><th id="1116">1116</th><td><i>  // want to deal with memory orders, and emitLeading/TrailingFence should take</i></td></tr>
<tr><th id="1117">1117</th><td><i>  // care of everything. Otherwise, emitLeading/TrailingFence are no-op and we</i></td></tr>
<tr><th id="1118">1118</th><td><i>  // should preserve the ordering.</i></td></tr>
<tr><th id="1119">1119</th><td>  <em>bool</em> <dfn class="local col4 decl" id="304ShouldInsertFencesForAtomic" title='ShouldInsertFencesForAtomic' data-type='bool' data-ref="304ShouldInsertFencesForAtomic" data-ref-filename="304ShouldInsertFencesForAtomic">ShouldInsertFencesForAtomic</dfn> = <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase27shouldInsertFencesForAtomicEPKNS_11InstructionE" title='llvm::TargetLoweringBase::shouldInsertFencesForAtomic' data-ref="_ZNK4llvm18TargetLoweringBase27shouldInsertFencesForAtomicEPKNS_11InstructionE" data-ref-filename="_ZNK4llvm18TargetLoweringBase27shouldInsertFencesForAtomicEPKNS_11InstructionE">shouldInsertFencesForAtomic</a>(<a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>);</td></tr>
<tr><th id="1120">1120</th><td>  <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col5 decl" id="305MemOpOrder" title='MemOpOrder' data-type='llvm::AtomicOrdering' data-ref="305MemOpOrder" data-ref-filename="305MemOpOrder">MemOpOrder</dfn> =</td></tr>
<tr><th id="1121">1121</th><td>      <a class="local col4 ref" href="#304ShouldInsertFencesForAtomic" title='ShouldInsertFencesForAtomic' data-ref="304ShouldInsertFencesForAtomic" data-ref-filename="304ShouldInsertFencesForAtomic">ShouldInsertFencesForAtomic</a> ? <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::Monotonic" title='llvm::AtomicOrdering::Monotonic' data-ref="llvm::AtomicOrdering::Monotonic" data-ref-filename="llvm..AtomicOrdering..Monotonic">Monotonic</a> : <a class="local col8 ref" href="#298SuccessOrder" title='SuccessOrder' data-ref="298SuccessOrder" data-ref-filename="298SuccessOrder">SuccessOrder</a>;</td></tr>
<tr><th id="1122">1122</th><td></td></tr>
<tr><th id="1123">1123</th><td>  <i>// In implementations which use a barrier to achieve release semantics, we can</i></td></tr>
<tr><th id="1124">1124</th><td><i>  // delay emitting this barrier until we know a store is actually going to be</i></td></tr>
<tr><th id="1125">1125</th><td><i>  // attempted. The cost of this delay is that we need 2 copies of the block</i></td></tr>
<tr><th id="1126">1126</th><td><i>  // emitting the load-linked, affecting code size.</i></td></tr>
<tr><th id="1127">1127</th><td><i>  //</i></td></tr>
<tr><th id="1128">1128</th><td><i>  // Ideally, this logic would be unconditional except for the minsize check</i></td></tr>
<tr><th id="1129">1129</th><td><i>  // since in other cases the extra blocks naturally collapse down to the</i></td></tr>
<tr><th id="1130">1130</th><td><i>  // minimal loop. Unfortunately, this puts too much stress on later</i></td></tr>
<tr><th id="1131">1131</th><td><i>  // optimisations so we avoid emitting the extra logic in those cases too.</i></td></tr>
<tr><th id="1132">1132</th><td>  <em>bool</em> <dfn class="local col6 decl" id="306HasReleasedLoadBB" title='HasReleasedLoadBB' data-type='bool' data-ref="306HasReleasedLoadBB" data-ref-filename="306HasReleasedLoadBB">HasReleasedLoadBB</dfn> = !<a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst6isWeakEv" title='llvm::AtomicCmpXchgInst::isWeak' data-ref="_ZNK4llvm17AtomicCmpXchgInst6isWeakEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst6isWeakEv">isWeak</a>() &amp;&amp; <a class="local col4 ref" href="#304ShouldInsertFencesForAtomic" title='ShouldInsertFencesForAtomic' data-ref="304ShouldInsertFencesForAtomic" data-ref-filename="304ShouldInsertFencesForAtomic">ShouldInsertFencesForAtomic</a> &amp;&amp;</td></tr>
<tr><th id="1133">1133</th><td>                           <a class="local col8 ref" href="#298SuccessOrder" title='SuccessOrder' data-ref="298SuccessOrder" data-ref-filename="298SuccessOrder">SuccessOrder</a> != <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::Monotonic" title='llvm::AtomicOrdering::Monotonic' data-ref="llvm::AtomicOrdering::Monotonic" data-ref-filename="llvm..AtomicOrdering..Monotonic">Monotonic</a> &amp;&amp;</td></tr>
<tr><th id="1134">1134</th><td>                           <a class="local col8 ref" href="#298SuccessOrder" title='SuccessOrder' data-ref="298SuccessOrder" data-ref-filename="298SuccessOrder">SuccessOrder</a> != <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::Acquire" title='llvm::AtomicOrdering::Acquire' data-ref="llvm::AtomicOrdering::Acquire" data-ref-filename="llvm..AtomicOrdering..Acquire">Acquire</a> &amp;&amp;</td></tr>
<tr><th id="1135">1135</th><td>                           !<a class="local col2 ref" href="#302F" title='F' data-ref="302F" data-ref-filename="302F">F</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Function.h.html#_ZNK4llvm8Function10hasMinSizeEv" title='llvm::Function::hasMinSize' data-ref="_ZNK4llvm8Function10hasMinSizeEv" data-ref-filename="_ZNK4llvm8Function10hasMinSizeEv">hasMinSize</a>();</td></tr>
<tr><th id="1136">1136</th><td></td></tr>
<tr><th id="1137">1137</th><td>  <i>// There's no overhead for sinking the release barrier in a weak cmpxchg, so</i></td></tr>
<tr><th id="1138">1138</th><td><i>  // do it even on minsize.</i></td></tr>
<tr><th id="1139">1139</th><td>  <em>bool</em> <dfn class="local col7 decl" id="307UseUnconditionalReleaseBarrier" title='UseUnconditionalReleaseBarrier' data-type='bool' data-ref="307UseUnconditionalReleaseBarrier" data-ref-filename="307UseUnconditionalReleaseBarrier">UseUnconditionalReleaseBarrier</dfn> = <a class="local col2 ref" href="#302F" title='F' data-ref="302F" data-ref-filename="302F">F</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Function.h.html#_ZNK4llvm8Function10hasMinSizeEv" title='llvm::Function::hasMinSize' data-ref="_ZNK4llvm8Function10hasMinSizeEv" data-ref-filename="_ZNK4llvm8Function10hasMinSizeEv">hasMinSize</a>() &amp;&amp; !<a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst6isWeakEv" title='llvm::AtomicCmpXchgInst::isWeak' data-ref="_ZNK4llvm17AtomicCmpXchgInst6isWeakEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst6isWeakEv">isWeak</a>();</td></tr>
<tr><th id="1140">1140</th><td></td></tr>
<tr><th id="1141">1141</th><td>  <i>// Given: cmpxchg some_op iN* %addr, iN %desired, iN %new success_ord fail_ord</i></td></tr>
<tr><th id="1142">1142</th><td><i>  //</i></td></tr>
<tr><th id="1143">1143</th><td><i>  // The full expansion we produce is:</i></td></tr>
<tr><th id="1144">1144</th><td><i>  //     [...]</i></td></tr>
<tr><th id="1145">1145</th><td><i>  // %aligned.addr = ...</i></td></tr>
<tr><th id="1146">1146</th><td><i>  // cmpxchg.start:</i></td></tr>
<tr><th id="1147">1147</th><td><i>  //     %unreleasedload = @load.linked(%aligned.addr)</i></td></tr>
<tr><th id="1148">1148</th><td><i>  //     %unreleasedload.extract = extract value from %unreleasedload</i></td></tr>
<tr><th id="1149">1149</th><td><i>  //     %should_store = icmp eq %unreleasedload.extract, %desired</i></td></tr>
<tr><th id="1150">1150</th><td><i>  //     br i1 %should_store, label %cmpxchg.releasingstore,</i></td></tr>
<tr><th id="1151">1151</th><td><i>  //                          label %cmpxchg.nostore</i></td></tr>
<tr><th id="1152">1152</th><td><i>  // cmpxchg.releasingstore:</i></td></tr>
<tr><th id="1153">1153</th><td><i>  //     fence?</i></td></tr>
<tr><th id="1154">1154</th><td><i>  //     br label cmpxchg.trystore</i></td></tr>
<tr><th id="1155">1155</th><td><i>  // cmpxchg.trystore:</i></td></tr>
<tr><th id="1156">1156</th><td><i>  //     %loaded.trystore = phi [%unreleasedload, %cmpxchg.releasingstore],</i></td></tr>
<tr><th id="1157">1157</th><td><i>  //                            [%releasedload, %cmpxchg.releasedload]</i></td></tr>
<tr><th id="1158">1158</th><td><i>  //     %updated.new = insert %new into %loaded.trystore</i></td></tr>
<tr><th id="1159">1159</th><td><i>  //     %stored = @store_conditional(%updated.new, %aligned.addr)</i></td></tr>
<tr><th id="1160">1160</th><td><i>  //     %success = icmp eq i32 %stored, 0</i></td></tr>
<tr><th id="1161">1161</th><td><i>  //     br i1 %success, label %cmpxchg.success,</i></td></tr>
<tr><th id="1162">1162</th><td><i>  //                     label %cmpxchg.releasedload/%cmpxchg.failure</i></td></tr>
<tr><th id="1163">1163</th><td><i>  // cmpxchg.releasedload:</i></td></tr>
<tr><th id="1164">1164</th><td><i>  //     %releasedload = @load.linked(%aligned.addr)</i></td></tr>
<tr><th id="1165">1165</th><td><i>  //     %releasedload.extract = extract value from %releasedload</i></td></tr>
<tr><th id="1166">1166</th><td><i>  //     %should_store = icmp eq %releasedload.extract, %desired</i></td></tr>
<tr><th id="1167">1167</th><td><i>  //     br i1 %should_store, label %cmpxchg.trystore,</i></td></tr>
<tr><th id="1168">1168</th><td><i>  //                          label %cmpxchg.failure</i></td></tr>
<tr><th id="1169">1169</th><td><i>  // cmpxchg.success:</i></td></tr>
<tr><th id="1170">1170</th><td><i>  //     fence?</i></td></tr>
<tr><th id="1171">1171</th><td><i>  //     br label %cmpxchg.end</i></td></tr>
<tr><th id="1172">1172</th><td><i>  // cmpxchg.nostore:</i></td></tr>
<tr><th id="1173">1173</th><td><i>  //     %loaded.nostore = phi [%unreleasedload, %cmpxchg.start],</i></td></tr>
<tr><th id="1174">1174</th><td><i>  //                           [%releasedload,</i></td></tr>
<tr><th id="1175">1175</th><td><i>  //                               %cmpxchg.releasedload/%cmpxchg.trystore]</i></td></tr>
<tr><th id="1176">1176</th><td><i>  //     @load_linked_fail_balance()?</i></td></tr>
<tr><th id="1177">1177</th><td><i>  //     br label %cmpxchg.failure</i></td></tr>
<tr><th id="1178">1178</th><td><i>  // cmpxchg.failure:</i></td></tr>
<tr><th id="1179">1179</th><td><i>  //     fence?</i></td></tr>
<tr><th id="1180">1180</th><td><i>  //     br label %cmpxchg.end</i></td></tr>
<tr><th id="1181">1181</th><td><i>  // cmpxchg.end:</i></td></tr>
<tr><th id="1182">1182</th><td><i>  //     %loaded.exit = phi [%loaded.nostore, %cmpxchg.failure],</i></td></tr>
<tr><th id="1183">1183</th><td><i>  //                        [%loaded.trystore, %cmpxchg.trystore]</i></td></tr>
<tr><th id="1184">1184</th><td><i>  //     %success = phi i1 [true, %cmpxchg.success], [false, %cmpxchg.failure]</i></td></tr>
<tr><th id="1185">1185</th><td><i>  //     %loaded = extract value from %loaded.exit</i></td></tr>
<tr><th id="1186">1186</th><td><i>  //     %restmp = insertvalue { iN, i1 } undef, iN %loaded, 0</i></td></tr>
<tr><th id="1187">1187</th><td><i>  //     %res = insertvalue { iN, i1 } %restmp, i1 %success, 1</i></td></tr>
<tr><th id="1188">1188</th><td><i>  //     [...]</i></td></tr>
<tr><th id="1189">1189</th><td>  <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col8 decl" id="308ExitBB" title='ExitBB' data-type='llvm::BasicBlock *' data-ref="308ExitBB" data-ref-filename="308ExitBB">ExitBB</dfn> = <a class="local col1 ref" href="#301BB" title='BB' data-ref="301BB" data-ref-filename="301BB">BB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock15splitBasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEERKNS_5TwineEb" title='llvm::BasicBlock::splitBasicBlock' data-ref="_ZN4llvm10BasicBlock15splitBasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEERKNS_5TwineEb" data-ref-filename="_ZN4llvm10BasicBlock15splitBasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEERKNS_5TwineEb">splitBasicBlock</a>(<a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/ADT/ilist_node.h.html#_ZN4llvm15ilist_node_impl11getIteratorEv" title='llvm::ilist_node_impl::getIterator' data-ref="_ZN4llvm15ilist_node_impl11getIteratorEv" data-ref-filename="_ZN4llvm15ilist_node_impl11getIteratorEv">getIterator</a>(), <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"cmpxchg.end"</q>);</td></tr>
<tr><th id="1190">1190</th><td>  <em>auto</em> <dfn class="local col9 decl" id="309FailureBB" title='FailureBB' data-type='llvm::BasicBlock *' data-ref="309FailureBB" data-ref-filename="309FailureBB">FailureBB</dfn> = <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" title='llvm::BasicBlock::Create' data-ref="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" data-ref-filename="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_">Create</a>(<span class='refarg'><a class="local col3 ref" href="#303Ctx" title='Ctx' data-ref="303Ctx" data-ref-filename="303Ctx">Ctx</a></span>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"cmpxchg.failure"</q>, <a class="local col2 ref" href="#302F" title='F' data-ref="302F" data-ref-filename="302F">F</a>, <a class="local col8 ref" href="#308ExitBB" title='ExitBB' data-ref="308ExitBB" data-ref-filename="308ExitBB">ExitBB</a>);</td></tr>
<tr><th id="1191">1191</th><td>  <em>auto</em> <dfn class="local col0 decl" id="310NoStoreBB" title='NoStoreBB' data-type='llvm::BasicBlock *' data-ref="310NoStoreBB" data-ref-filename="310NoStoreBB">NoStoreBB</dfn> = <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" title='llvm::BasicBlock::Create' data-ref="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" data-ref-filename="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_">Create</a>(<span class='refarg'><a class="local col3 ref" href="#303Ctx" title='Ctx' data-ref="303Ctx" data-ref-filename="303Ctx">Ctx</a></span>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"cmpxchg.nostore"</q>, <a class="local col2 ref" href="#302F" title='F' data-ref="302F" data-ref-filename="302F">F</a>, <a class="local col9 ref" href="#309FailureBB" title='FailureBB' data-ref="309FailureBB" data-ref-filename="309FailureBB">FailureBB</a>);</td></tr>
<tr><th id="1192">1192</th><td>  <em>auto</em> <dfn class="local col1 decl" id="311SuccessBB" title='SuccessBB' data-type='llvm::BasicBlock *' data-ref="311SuccessBB" data-ref-filename="311SuccessBB">SuccessBB</dfn> = <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" title='llvm::BasicBlock::Create' data-ref="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" data-ref-filename="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_">Create</a>(<span class='refarg'><a class="local col3 ref" href="#303Ctx" title='Ctx' data-ref="303Ctx" data-ref-filename="303Ctx">Ctx</a></span>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"cmpxchg.success"</q>, <a class="local col2 ref" href="#302F" title='F' data-ref="302F" data-ref-filename="302F">F</a>, <a class="local col0 ref" href="#310NoStoreBB" title='NoStoreBB' data-ref="310NoStoreBB" data-ref-filename="310NoStoreBB">NoStoreBB</a>);</td></tr>
<tr><th id="1193">1193</th><td>  <em>auto</em> <dfn class="local col2 decl" id="312ReleasedLoadBB" title='ReleasedLoadBB' data-type='llvm::BasicBlock *' data-ref="312ReleasedLoadBB" data-ref-filename="312ReleasedLoadBB">ReleasedLoadBB</dfn> =</td></tr>
<tr><th id="1194">1194</th><td>      <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" title='llvm::BasicBlock::Create' data-ref="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" data-ref-filename="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_">Create</a>(<span class='refarg'><a class="local col3 ref" href="#303Ctx" title='Ctx' data-ref="303Ctx" data-ref-filename="303Ctx">Ctx</a></span>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"cmpxchg.releasedload"</q>, <a class="local col2 ref" href="#302F" title='F' data-ref="302F" data-ref-filename="302F">F</a>, <a class="local col1 ref" href="#311SuccessBB" title='SuccessBB' data-ref="311SuccessBB" data-ref-filename="311SuccessBB">SuccessBB</a>);</td></tr>
<tr><th id="1195">1195</th><td>  <em>auto</em> <dfn class="local col3 decl" id="313TryStoreBB" title='TryStoreBB' data-type='llvm::BasicBlock *' data-ref="313TryStoreBB" data-ref-filename="313TryStoreBB">TryStoreBB</dfn> =</td></tr>
<tr><th id="1196">1196</th><td>      <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" title='llvm::BasicBlock::Create' data-ref="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" data-ref-filename="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_">Create</a>(<span class='refarg'><a class="local col3 ref" href="#303Ctx" title='Ctx' data-ref="303Ctx" data-ref-filename="303Ctx">Ctx</a></span>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"cmpxchg.trystore"</q>, <a class="local col2 ref" href="#302F" title='F' data-ref="302F" data-ref-filename="302F">F</a>, <a class="local col2 ref" href="#312ReleasedLoadBB" title='ReleasedLoadBB' data-ref="312ReleasedLoadBB" data-ref-filename="312ReleasedLoadBB">ReleasedLoadBB</a>);</td></tr>
<tr><th id="1197">1197</th><td>  <em>auto</em> <dfn class="local col4 decl" id="314ReleasingStoreBB" title='ReleasingStoreBB' data-type='llvm::BasicBlock *' data-ref="314ReleasingStoreBB" data-ref-filename="314ReleasingStoreBB">ReleasingStoreBB</dfn> =</td></tr>
<tr><th id="1198">1198</th><td>      <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" title='llvm::BasicBlock::Create' data-ref="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" data-ref-filename="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_">Create</a>(<span class='refarg'><a class="local col3 ref" href="#303Ctx" title='Ctx' data-ref="303Ctx" data-ref-filename="303Ctx">Ctx</a></span>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"cmpxchg.fencedstore"</q>, <a class="local col2 ref" href="#302F" title='F' data-ref="302F" data-ref-filename="302F">F</a>, <a class="local col3 ref" href="#313TryStoreBB" title='TryStoreBB' data-ref="313TryStoreBB" data-ref-filename="313TryStoreBB">TryStoreBB</a>);</td></tr>
<tr><th id="1199">1199</th><td>  <em>auto</em> <dfn class="local col5 decl" id="315StartBB" title='StartBB' data-type='llvm::BasicBlock *' data-ref="315StartBB" data-ref-filename="315StartBB">StartBB</dfn> = <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" title='llvm::BasicBlock::Create' data-ref="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" data-ref-filename="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_">Create</a>(<span class='refarg'><a class="local col3 ref" href="#303Ctx" title='Ctx' data-ref="303Ctx" data-ref-filename="303Ctx">Ctx</a></span>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"cmpxchg.start"</q>, <a class="local col2 ref" href="#302F" title='F' data-ref="302F" data-ref-filename="302F">F</a>, <a class="local col4 ref" href="#314ReleasingStoreBB" title='ReleasingStoreBB' data-ref="314ReleasingStoreBB" data-ref-filename="314ReleasingStoreBB">ReleasingStoreBB</a>);</td></tr>
<tr><th id="1200">1200</th><td></td></tr>
<tr><th id="1201">1201</th><td>  <i>// This grabs the DebugLoc from CI</i></td></tr>
<tr><th id="1202">1202</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col6 decl" id="316Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="316Builder" data-ref-filename="316Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>);</td></tr>
<tr><th id="1203">1203</th><td></td></tr>
<tr><th id="1204">1204</th><td>  <i>// The split call above "helpfully" added a branch at the end of BB (to the</i></td></tr>
<tr><th id="1205">1205</th><td><i>  // wrong place), but we might want a fence too. It's easiest to just remove</i></td></tr>
<tr><th id="1206">1206</th><td><i>  // the branch entirely.</i></td></tr>
<tr><th id="1207">1207</th><td>  <span class="namespace">std::</span><span class='ref fn' title='std::prev' data-ref="_ZSt4prevT_NSt15iterator_traitsIS_E15difference_typeE" data-ref-filename="_ZSt4prevT_NSt15iterator_traitsIS_E15difference_typeE">prev</span>(<a class="local col1 ref" href="#301BB" title='BB' data-ref="301BB" data-ref-filename="301BB">BB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock3endEv" title='llvm::BasicBlock::end' data-ref="_ZN4llvm10BasicBlock3endEv" data-ref-filename="_ZN4llvm10BasicBlock3endEv">end</a>())<a class="ref fn" href="../../include/llvm/ADT/ilist_iterator.h.html#_ZNK4llvm14ilist_iteratorptEv" title='llvm::ilist_iterator::operator-&gt;' data-ref="_ZNK4llvm14ilist_iteratorptEv" data-ref-filename="_ZNK4llvm14ilist_iteratorptEv">-&gt;</a><a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="1208">1208</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col1 ref" href="#301BB" title='BB' data-ref="301BB" data-ref-filename="301BB">BB</a>);</td></tr>
<tr><th id="1209">1209</th><td>  <b>if</b> (<a class="local col4 ref" href="#304ShouldInsertFencesForAtomic" title='ShouldInsertFencesForAtomic' data-ref="304ShouldInsertFencesForAtomic" data-ref-filename="304ShouldInsertFencesForAtomic">ShouldInsertFencesForAtomic</a> &amp;&amp; <a class="local col7 ref" href="#307UseUnconditionalReleaseBarrier" title='UseUnconditionalReleaseBarrier' data-ref="307UseUnconditionalReleaseBarrier" data-ref-filename="307UseUnconditionalReleaseBarrier">UseUnconditionalReleaseBarrier</a>)</td></tr>
<tr><th id="1210">1210</th><td>    <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase16emitLeadingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE" title='llvm::TargetLoweringBase::emitLeadingFence' data-ref="_ZNK4llvm18TargetLoweringBase16emitLeadingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE" data-ref-filename="_ZNK4llvm18TargetLoweringBase16emitLeadingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE">emitLeadingFence</a>(<span class='refarg'><a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a></span>, <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>, <a class="local col8 ref" href="#298SuccessOrder" title='SuccessOrder' data-ref="298SuccessOrder" data-ref-filename="298SuccessOrder">SuccessOrder</a>);</td></tr>
<tr><th id="1211">1211</th><td></td></tr>
<tr><th id="1212">1212</th><td>  <a class="tu type" href="#(anonymousnamespace)::PartwordMaskValues" title='(anonymous namespace)::PartwordMaskValues' data-ref="(anonymousnamespace)::PartwordMaskValues" data-ref-filename="(anonymousnamespace)..PartwordMaskValues">PartwordMaskValues</a> <dfn class="local col7 decl" id="317PMV" title='PMV' data-type='(anonymous namespace)::PartwordMaskValues' data-ref="317PMV" data-ref-filename="317PMV">PMV</dfn> =</td></tr>
<tr><th id="1213">1213</th><td>      <a class="tu ref fn" href="#_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj" title='createMaskInstrs' data-use='c' data-ref="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj" data-ref-filename="_ZL16createMaskInstrsRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionEPNS_4TypeEPNS_5ValueEj">createMaskInstrs</a>(<span class='refarg'><a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a></span>, <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>, <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" title='llvm::AtomicCmpXchgInst::getCompareOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv">getCompareOperand</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col0 ref" href="#300Addr" title='Addr' data-ref="300Addr" data-ref-filename="300Addr">Addr</a>,</td></tr>
<tr><th id="1214">1214</th><td>                       <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" title='llvm::TargetLoweringBase::getMinCmpXchgSizeInBits' data-ref="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" data-ref-filename="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv">getMinCmpXchgSizeInBits</a>() / <var>8</var>);</td></tr>
<tr><th id="1215">1215</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" title='llvm::IRBuilderBase::CreateBr' data-ref="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE">CreateBr</a>(<a class="local col5 ref" href="#315StartBB" title='StartBB' data-ref="315StartBB" data-ref-filename="315StartBB">StartBB</a>);</td></tr>
<tr><th id="1216">1216</th><td></td></tr>
<tr><th id="1217">1217</th><td>  <i>// Start the main loop block now that we've taken care of the preliminaries.</i></td></tr>
<tr><th id="1218">1218</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col5 ref" href="#315StartBB" title='StartBB' data-ref="315StartBB" data-ref-filename="315StartBB">StartBB</a>);</td></tr>
<tr><th id="1219">1219</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="318UnreleasedLoad" title='UnreleasedLoad' data-type='llvm::Value *' data-ref="318UnreleasedLoad" data-ref-filename="318UnreleasedLoad">UnreleasedLoad</dfn> =</td></tr>
<tr><th id="1220">1220</th><td>      <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase14emitLoadLinkedERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueENS_14AtomicOrderingE" title='llvm::TargetLoweringBase::emitLoadLinked' data-ref="_ZNK4llvm18TargetLoweringBase14emitLoadLinkedERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueENS_14AtomicOrderingE" data-ref-filename="_ZNK4llvm18TargetLoweringBase14emitLoadLinkedERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueENS_14AtomicOrderingE">emitLoadLinked</a>(<span class='refarg'><a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a></span>, <a class="local col7 ref" href="#317PMV" title='PMV' data-ref="317PMV" data-ref-filename="317PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::AlignedAddr" title='(anonymous namespace)::PartwordMaskValues::AlignedAddr' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..AlignedAddr">AlignedAddr</a>, <a class="local col5 ref" href="#305MemOpOrder" title='MemOpOrder' data-ref="305MemOpOrder" data-ref-filename="305MemOpOrder">MemOpOrder</a>);</td></tr>
<tr><th id="1221">1221</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="319UnreleasedLoadExtract" title='UnreleasedLoadExtract' data-type='llvm::Value *' data-ref="319UnreleasedLoadExtract" data-ref-filename="319UnreleasedLoadExtract">UnreleasedLoadExtract</dfn> =</td></tr>
<tr><th id="1222">1222</th><td>      <a class="tu ref fn" href="#_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" title='extractMaskedValue' data-use='c' data-ref="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" data-ref-filename="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE">extractMaskedValue</a>(<span class='refarg'><a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a></span>, <a class="local col8 ref" href="#318UnreleasedLoad" title='UnreleasedLoad' data-ref="318UnreleasedLoad" data-ref-filename="318UnreleasedLoad">UnreleasedLoad</a>, <a class="local col7 ref" href="#317PMV" title='PMV' data-ref="317PMV" data-ref-filename="317PMV">PMV</a>);</td></tr>
<tr><th id="1223">1223</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="320ShouldStore" title='ShouldStore' data-type='llvm::Value *' data-ref="320ShouldStore" data-ref-filename="320ShouldStore">ShouldStore</dfn> = <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateICmpEQEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateICmpEQ' data-ref="_ZN4llvm13IRBuilderBase12CreateICmpEQEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateICmpEQEPNS_5ValueES2_RKNS_5TwineE">CreateICmpEQ</a>(</td></tr>
<tr><th id="1224">1224</th><td>      <a class="local col9 ref" href="#319UnreleasedLoadExtract" title='UnreleasedLoadExtract' data-ref="319UnreleasedLoadExtract" data-ref-filename="319UnreleasedLoadExtract">UnreleasedLoadExtract</a>, <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" title='llvm::AtomicCmpXchgInst::getCompareOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv">getCompareOperand</a>(), <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"should_store"</q>);</td></tr>
<tr><th id="1225">1225</th><td></td></tr>
<tr><th id="1226">1226</th><td>  <i>// If the cmpxchg doesn't actually need any ordering when it fails, we can</i></td></tr>
<tr><th id="1227">1227</th><td><i>  // jump straight past that fence instruction (if it exists).</i></td></tr>
<tr><th id="1228">1228</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_" title='llvm::IRBuilderBase::CreateCondBr' data-ref="_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_">CreateCondBr</a>(<a class="local col0 ref" href="#320ShouldStore" title='ShouldStore' data-ref="320ShouldStore" data-ref-filename="320ShouldStore">ShouldStore</a>, <a class="local col4 ref" href="#314ReleasingStoreBB" title='ReleasingStoreBB' data-ref="314ReleasingStoreBB" data-ref-filename="314ReleasingStoreBB">ReleasingStoreBB</a>, <a class="local col0 ref" href="#310NoStoreBB" title='NoStoreBB' data-ref="310NoStoreBB" data-ref-filename="310NoStoreBB">NoStoreBB</a>);</td></tr>
<tr><th id="1229">1229</th><td></td></tr>
<tr><th id="1230">1230</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col4 ref" href="#314ReleasingStoreBB" title='ReleasingStoreBB' data-ref="314ReleasingStoreBB" data-ref-filename="314ReleasingStoreBB">ReleasingStoreBB</a>);</td></tr>
<tr><th id="1231">1231</th><td>  <b>if</b> (<a class="local col4 ref" href="#304ShouldInsertFencesForAtomic" title='ShouldInsertFencesForAtomic' data-ref="304ShouldInsertFencesForAtomic" data-ref-filename="304ShouldInsertFencesForAtomic">ShouldInsertFencesForAtomic</a> &amp;&amp; !<a class="local col7 ref" href="#307UseUnconditionalReleaseBarrier" title='UseUnconditionalReleaseBarrier' data-ref="307UseUnconditionalReleaseBarrier" data-ref-filename="307UseUnconditionalReleaseBarrier">UseUnconditionalReleaseBarrier</a>)</td></tr>
<tr><th id="1232">1232</th><td>    <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase16emitLeadingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE" title='llvm::TargetLoweringBase::emitLeadingFence' data-ref="_ZNK4llvm18TargetLoweringBase16emitLeadingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE" data-ref-filename="_ZNK4llvm18TargetLoweringBase16emitLeadingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE">emitLeadingFence</a>(<span class='refarg'><a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a></span>, <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>, <a class="local col8 ref" href="#298SuccessOrder" title='SuccessOrder' data-ref="298SuccessOrder" data-ref-filename="298SuccessOrder">SuccessOrder</a>);</td></tr>
<tr><th id="1233">1233</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" title='llvm::IRBuilderBase::CreateBr' data-ref="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE">CreateBr</a>(<a class="local col3 ref" href="#313TryStoreBB" title='TryStoreBB' data-ref="313TryStoreBB" data-ref-filename="313TryStoreBB">TryStoreBB</a>);</td></tr>
<tr><th id="1234">1234</th><td></td></tr>
<tr><th id="1235">1235</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col3 ref" href="#313TryStoreBB" title='TryStoreBB' data-ref="313TryStoreBB" data-ref-filename="313TryStoreBB">TryStoreBB</a>);</td></tr>
<tr><th id="1236">1236</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a> *<dfn class="local col1 decl" id="321LoadedTryStore" title='LoadedTryStore' data-type='llvm::PHINode *' data-ref="321LoadedTryStore" data-ref-filename="321LoadedTryStore">LoadedTryStore</dfn> =</td></tr>
<tr><th id="1237">1237</th><td>      <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" title='llvm::IRBuilderBase::CreatePHI' data-ref="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE">CreatePHI</a>(<a class="local col7 ref" href="#317PMV" title='PMV' data-ref="317PMV" data-ref-filename="317PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::WordType" title='(anonymous namespace)::PartwordMaskValues::WordType' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::WordType" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..WordType">WordType</a>, <var>2</var>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"loaded.trystore"</q>);</td></tr>
<tr><th id="1238">1238</th><td>  <a class="local col1 ref" href="#321LoadedTryStore" title='LoadedTryStore' data-ref="321LoadedTryStore" data-ref-filename="321LoadedTryStore">LoadedTryStore</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col8 ref" href="#318UnreleasedLoad" title='UnreleasedLoad' data-ref="318UnreleasedLoad" data-ref-filename="318UnreleasedLoad">UnreleasedLoad</a>, <a class="local col4 ref" href="#314ReleasingStoreBB" title='ReleasingStoreBB' data-ref="314ReleasingStoreBB" data-ref-filename="314ReleasingStoreBB">ReleasingStoreBB</a>);</td></tr>
<tr><th id="1239">1239</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="322NewValueInsert" title='NewValueInsert' data-type='llvm::Value *' data-ref="322NewValueInsert" data-ref-filename="322NewValueInsert">NewValueInsert</dfn> =</td></tr>
<tr><th id="1240">1240</th><td>      <a class="tu ref fn" href="#_ZL17insertMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_RKN12_GLOBAL__N_118PartwordMaskValuesE" title='insertMaskedValue' data-use='c' data-ref="_ZL17insertMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_RKN12_GLOBAL__N_118PartwordMaskValuesE" data-ref-filename="_ZL17insertMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES6_RKN12_GLOBAL__N_118PartwordMaskValuesE">insertMaskedValue</a>(<span class='refarg'><a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a></span>, <a class="local col1 ref" href="#321LoadedTryStore" title='LoadedTryStore' data-ref="321LoadedTryStore" data-ref-filename="321LoadedTryStore">LoadedTryStore</a>, <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv" title='llvm::AtomicCmpXchgInst::getNewValOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv">getNewValOperand</a>(), <a class="local col7 ref" href="#317PMV" title='PMV' data-ref="317PMV" data-ref-filename="317PMV">PMV</a>);</td></tr>
<tr><th id="1241">1241</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="323StoreSuccess" title='StoreSuccess' data-type='llvm::Value *' data-ref="323StoreSuccess" data-ref-filename="323StoreSuccess">StoreSuccess</dfn> =</td></tr>
<tr><th id="1242">1242</th><td>      <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase20emitStoreConditionalERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES7_NS_14AtomicOrderingE" title='llvm::TargetLoweringBase::emitStoreConditional' data-ref="_ZNK4llvm18TargetLoweringBase20emitStoreConditionalERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES7_NS_14AtomicOrderingE" data-ref-filename="_ZNK4llvm18TargetLoweringBase20emitStoreConditionalERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES7_NS_14AtomicOrderingE">emitStoreConditional</a>(<span class='refarg'><a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a></span>, <a class="local col2 ref" href="#322NewValueInsert" title='NewValueInsert' data-ref="322NewValueInsert" data-ref-filename="322NewValueInsert">NewValueInsert</a>, <a class="local col7 ref" href="#317PMV" title='PMV' data-ref="317PMV" data-ref-filename="317PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::AlignedAddr" title='(anonymous namespace)::PartwordMaskValues::AlignedAddr' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..AlignedAddr">AlignedAddr</a>,</td></tr>
<tr><th id="1243">1243</th><td>                                <a class="local col5 ref" href="#305MemOpOrder" title='MemOpOrder' data-ref="305MemOpOrder" data-ref-filename="305MemOpOrder">MemOpOrder</a>);</td></tr>
<tr><th id="1244">1244</th><td>  <a class="local col3 ref" href="#323StoreSuccess" title='StoreSuccess' data-ref="323StoreSuccess" data-ref-filename="323StoreSuccess">StoreSuccess</a> = <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateICmpEQEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateICmpEQ' data-ref="_ZN4llvm13IRBuilderBase12CreateICmpEQEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateICmpEQEPNS_5ValueES2_RKNS_5TwineE">CreateICmpEQ</a>(</td></tr>
<tr><th id="1245">1245</th><td>      <a class="local col3 ref" href="#323StoreSuccess" title='StoreSuccess' data-ref="323StoreSuccess" data-ref-filename="323StoreSuccess">StoreSuccess</a>, <a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb">get</a>(<a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type10getInt32TyERNS_11LLVMContextE" title='llvm::Type::getInt32Ty' data-ref="_ZN4llvm4Type10getInt32TyERNS_11LLVMContextE" data-ref-filename="_ZN4llvm4Type10getInt32TyERNS_11LLVMContextE">getInt32Ty</a>(<span class='refarg'><a class="local col3 ref" href="#303Ctx" title='Ctx' data-ref="303Ctx" data-ref-filename="303Ctx">Ctx</a></span>), <var>0</var>), <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"success"</q>);</td></tr>
<tr><th id="1246">1246</th><td>  <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col4 decl" id="324RetryBB" title='RetryBB' data-type='llvm::BasicBlock *' data-ref="324RetryBB" data-ref-filename="324RetryBB">RetryBB</dfn> = <a class="local col6 ref" href="#306HasReleasedLoadBB" title='HasReleasedLoadBB' data-ref="306HasReleasedLoadBB" data-ref-filename="306HasReleasedLoadBB">HasReleasedLoadBB</a> ? <a class="local col2 ref" href="#312ReleasedLoadBB" title='ReleasedLoadBB' data-ref="312ReleasedLoadBB" data-ref-filename="312ReleasedLoadBB">ReleasedLoadBB</a> : <a class="local col5 ref" href="#315StartBB" title='StartBB' data-ref="315StartBB" data-ref-filename="315StartBB">StartBB</a>;</td></tr>
<tr><th id="1247">1247</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_" title='llvm::IRBuilderBase::CreateCondBr' data-ref="_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_">CreateCondBr</a>(<a class="local col3 ref" href="#323StoreSuccess" title='StoreSuccess' data-ref="323StoreSuccess" data-ref-filename="323StoreSuccess">StoreSuccess</a>, <a class="local col1 ref" href="#311SuccessBB" title='SuccessBB' data-ref="311SuccessBB" data-ref-filename="311SuccessBB">SuccessBB</a>,</td></tr>
<tr><th id="1248">1248</th><td>                       <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst6isWeakEv" title='llvm::AtomicCmpXchgInst::isWeak' data-ref="_ZNK4llvm17AtomicCmpXchgInst6isWeakEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst6isWeakEv">isWeak</a>() ? <a class="local col9 ref" href="#309FailureBB" title='FailureBB' data-ref="309FailureBB" data-ref-filename="309FailureBB">FailureBB</a> : <a class="local col4 ref" href="#324RetryBB" title='RetryBB' data-ref="324RetryBB" data-ref-filename="324RetryBB">RetryBB</a>);</td></tr>
<tr><th id="1249">1249</th><td></td></tr>
<tr><th id="1250">1250</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col2 ref" href="#312ReleasedLoadBB" title='ReleasedLoadBB' data-ref="312ReleasedLoadBB" data-ref-filename="312ReleasedLoadBB">ReleasedLoadBB</a>);</td></tr>
<tr><th id="1251">1251</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="325SecondLoad" title='SecondLoad' data-type='llvm::Value *' data-ref="325SecondLoad" data-ref-filename="325SecondLoad">SecondLoad</dfn>;</td></tr>
<tr><th id="1252">1252</th><td>  <b>if</b> (<a class="local col6 ref" href="#306HasReleasedLoadBB" title='HasReleasedLoadBB' data-ref="306HasReleasedLoadBB" data-ref-filename="306HasReleasedLoadBB">HasReleasedLoadBB</a>) {</td></tr>
<tr><th id="1253">1253</th><td>    <a class="local col5 ref" href="#325SecondLoad" title='SecondLoad' data-ref="325SecondLoad" data-ref-filename="325SecondLoad">SecondLoad</a> = <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase14emitLoadLinkedERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueENS_14AtomicOrderingE" title='llvm::TargetLoweringBase::emitLoadLinked' data-ref="_ZNK4llvm18TargetLoweringBase14emitLoadLinkedERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueENS_14AtomicOrderingE" data-ref-filename="_ZNK4llvm18TargetLoweringBase14emitLoadLinkedERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueENS_14AtomicOrderingE">emitLoadLinked</a>(<span class='refarg'><a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a></span>, <a class="local col7 ref" href="#317PMV" title='PMV' data-ref="317PMV" data-ref-filename="317PMV">PMV</a>.<a class="tu ref field" href="#(anonymousnamespace)::PartwordMaskValues::AlignedAddr" title='(anonymous namespace)::PartwordMaskValues::AlignedAddr' data-use='r' data-ref="(anonymousnamespace)::PartwordMaskValues::AlignedAddr" data-ref-filename="(anonymousnamespace)..PartwordMaskValues..AlignedAddr">AlignedAddr</a>, <a class="local col5 ref" href="#305MemOpOrder" title='MemOpOrder' data-ref="305MemOpOrder" data-ref-filename="305MemOpOrder">MemOpOrder</a>);</td></tr>
<tr><th id="1254">1254</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="326SecondLoadExtract" title='SecondLoadExtract' data-type='llvm::Value *' data-ref="326SecondLoadExtract" data-ref-filename="326SecondLoadExtract">SecondLoadExtract</dfn> = <a class="tu ref fn" href="#_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" title='extractMaskedValue' data-use='c' data-ref="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" data-ref-filename="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE">extractMaskedValue</a>(<span class='refarg'><a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a></span>, <a class="local col5 ref" href="#325SecondLoad" title='SecondLoad' data-ref="325SecondLoad" data-ref-filename="325SecondLoad">SecondLoad</a>, <a class="local col7 ref" href="#317PMV" title='PMV' data-ref="317PMV" data-ref-filename="317PMV">PMV</a>);</td></tr>
<tr><th id="1255">1255</th><td>    <a class="local col0 ref" href="#320ShouldStore" title='ShouldStore' data-ref="320ShouldStore" data-ref-filename="320ShouldStore">ShouldStore</a> = <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateICmpEQEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateICmpEQ' data-ref="_ZN4llvm13IRBuilderBase12CreateICmpEQEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateICmpEQEPNS_5ValueES2_RKNS_5TwineE">CreateICmpEQ</a>(<a class="local col6 ref" href="#326SecondLoadExtract" title='SecondLoadExtract' data-ref="326SecondLoadExtract" data-ref-filename="326SecondLoadExtract">SecondLoadExtract</a>,</td></tr>
<tr><th id="1256">1256</th><td>                                       <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" title='llvm::AtomicCmpXchgInst::getCompareOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv">getCompareOperand</a>(), <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"should_store"</q>);</td></tr>
<tr><th id="1257">1257</th><td></td></tr>
<tr><th id="1258">1258</th><td>    <i>// If the cmpxchg doesn't actually need any ordering when it fails, we can</i></td></tr>
<tr><th id="1259">1259</th><td><i>    // jump straight past that fence instruction (if it exists).</i></td></tr>
<tr><th id="1260">1260</th><td>    <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_" title='llvm::IRBuilderBase::CreateCondBr' data-ref="_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_">CreateCondBr</a>(<a class="local col0 ref" href="#320ShouldStore" title='ShouldStore' data-ref="320ShouldStore" data-ref-filename="320ShouldStore">ShouldStore</a>, <a class="local col3 ref" href="#313TryStoreBB" title='TryStoreBB' data-ref="313TryStoreBB" data-ref-filename="313TryStoreBB">TryStoreBB</a>, <a class="local col0 ref" href="#310NoStoreBB" title='NoStoreBB' data-ref="310NoStoreBB" data-ref-filename="310NoStoreBB">NoStoreBB</a>);</td></tr>
<tr><th id="1261">1261</th><td>    <i>// Update PHI node in TryStoreBB.</i></td></tr>
<tr><th id="1262">1262</th><td>    <a class="local col1 ref" href="#321LoadedTryStore" title='LoadedTryStore' data-ref="321LoadedTryStore" data-ref-filename="321LoadedTryStore">LoadedTryStore</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col5 ref" href="#325SecondLoad" title='SecondLoad' data-ref="325SecondLoad" data-ref-filename="325SecondLoad">SecondLoad</a>, <a class="local col2 ref" href="#312ReleasedLoadBB" title='ReleasedLoadBB' data-ref="312ReleasedLoadBB" data-ref-filename="312ReleasedLoadBB">ReleasedLoadBB</a>);</td></tr>
<tr><th id="1263">1263</th><td>  } <b>else</b></td></tr>
<tr><th id="1264">1264</th><td>    <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateUnreachableEv" title='llvm::IRBuilderBase::CreateUnreachable' data-ref="_ZN4llvm13IRBuilderBase17CreateUnreachableEv" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateUnreachableEv">CreateUnreachable</a>();</td></tr>
<tr><th id="1265">1265</th><td></td></tr>
<tr><th id="1266">1266</th><td>  <i>// Make sure later instructions don't get reordered with a fence if</i></td></tr>
<tr><th id="1267">1267</th><td><i>  // necessary.</i></td></tr>
<tr><th id="1268">1268</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col1 ref" href="#311SuccessBB" title='SuccessBB' data-ref="311SuccessBB" data-ref-filename="311SuccessBB">SuccessBB</a>);</td></tr>
<tr><th id="1269">1269</th><td>  <b>if</b> (<a class="local col4 ref" href="#304ShouldInsertFencesForAtomic" title='ShouldInsertFencesForAtomic' data-ref="304ShouldInsertFencesForAtomic" data-ref-filename="304ShouldInsertFencesForAtomic">ShouldInsertFencesForAtomic</a>)</td></tr>
<tr><th id="1270">1270</th><td>    <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase17emitTrailingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE" title='llvm::TargetLoweringBase::emitTrailingFence' data-ref="_ZNK4llvm18TargetLoweringBase17emitTrailingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE" data-ref-filename="_ZNK4llvm18TargetLoweringBase17emitTrailingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE">emitTrailingFence</a>(<span class='refarg'><a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a></span>, <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>, <a class="local col8 ref" href="#298SuccessOrder" title='SuccessOrder' data-ref="298SuccessOrder" data-ref-filename="298SuccessOrder">SuccessOrder</a>);</td></tr>
<tr><th id="1271">1271</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" title='llvm::IRBuilderBase::CreateBr' data-ref="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE">CreateBr</a>(<a class="local col8 ref" href="#308ExitBB" title='ExitBB' data-ref="308ExitBB" data-ref-filename="308ExitBB">ExitBB</a>);</td></tr>
<tr><th id="1272">1272</th><td></td></tr>
<tr><th id="1273">1273</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col0 ref" href="#310NoStoreBB" title='NoStoreBB' data-ref="310NoStoreBB" data-ref-filename="310NoStoreBB">NoStoreBB</a>);</td></tr>
<tr><th id="1274">1274</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a> *<dfn class="local col7 decl" id="327LoadedNoStore" title='LoadedNoStore' data-type='llvm::PHINode *' data-ref="327LoadedNoStore" data-ref-filename="327LoadedNoStore">LoadedNoStore</dfn> =</td></tr>
<tr><th id="1275">1275</th><td>      <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" title='llvm::IRBuilderBase::CreatePHI' data-ref="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE">CreatePHI</a>(<a class="local col8 ref" href="#318UnreleasedLoad" title='UnreleasedLoad' data-ref="318UnreleasedLoad" data-ref-filename="318UnreleasedLoad">UnreleasedLoad</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <var>2</var>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"loaded.nostore"</q>);</td></tr>
<tr><th id="1276">1276</th><td>  <a class="local col7 ref" href="#327LoadedNoStore" title='LoadedNoStore' data-ref="327LoadedNoStore" data-ref-filename="327LoadedNoStore">LoadedNoStore</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col8 ref" href="#318UnreleasedLoad" title='UnreleasedLoad' data-ref="318UnreleasedLoad" data-ref-filename="318UnreleasedLoad">UnreleasedLoad</a>, <a class="local col5 ref" href="#315StartBB" title='StartBB' data-ref="315StartBB" data-ref-filename="315StartBB">StartBB</a>);</td></tr>
<tr><th id="1277">1277</th><td>  <b>if</b> (<a class="local col6 ref" href="#306HasReleasedLoadBB" title='HasReleasedLoadBB' data-ref="306HasReleasedLoadBB" data-ref-filename="306HasReleasedLoadBB">HasReleasedLoadBB</a>)</td></tr>
<tr><th id="1278">1278</th><td>    <a class="local col7 ref" href="#327LoadedNoStore" title='LoadedNoStore' data-ref="327LoadedNoStore" data-ref-filename="327LoadedNoStore">LoadedNoStore</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col5 ref" href="#325SecondLoad" title='SecondLoad' data-ref="325SecondLoad" data-ref-filename="325SecondLoad">SecondLoad</a>, <a class="local col2 ref" href="#312ReleasedLoadBB" title='ReleasedLoadBB' data-ref="312ReleasedLoadBB" data-ref-filename="312ReleasedLoadBB">ReleasedLoadBB</a>);</td></tr>
<tr><th id="1279">1279</th><td></td></tr>
<tr><th id="1280">1280</th><td>  <i>// In the failing case, where we don't execute the store-conditional, the</i></td></tr>
<tr><th id="1281">1281</th><td><i>  // target might want to balance out the load-linked with a dedicated</i></td></tr>
<tr><th id="1282">1282</th><td><i>  // instruction (e.g., on ARM, clearing the exclusive monitor).</i></td></tr>
<tr><th id="1283">1283</th><td>  <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase33emitAtomicCmpXchgNoStoreLLBalanceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEE" title='llvm::TargetLoweringBase::emitAtomicCmpXchgNoStoreLLBalance' data-ref="_ZNK4llvm18TargetLoweringBase33emitAtomicCmpXchgNoStoreLLBalanceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEE" data-ref-filename="_ZNK4llvm18TargetLoweringBase33emitAtomicCmpXchgNoStoreLLBalanceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEE">emitAtomicCmpXchgNoStoreLLBalance</a>(<span class='refarg'><a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a></span>);</td></tr>
<tr><th id="1284">1284</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" title='llvm::IRBuilderBase::CreateBr' data-ref="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE">CreateBr</a>(<a class="local col9 ref" href="#309FailureBB" title='FailureBB' data-ref="309FailureBB" data-ref-filename="309FailureBB">FailureBB</a>);</td></tr>
<tr><th id="1285">1285</th><td></td></tr>
<tr><th id="1286">1286</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col9 ref" href="#309FailureBB" title='FailureBB' data-ref="309FailureBB" data-ref-filename="309FailureBB">FailureBB</a>);</td></tr>
<tr><th id="1287">1287</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a> *<dfn class="local col8 decl" id="328LoadedFailure" title='LoadedFailure' data-type='llvm::PHINode *' data-ref="328LoadedFailure" data-ref-filename="328LoadedFailure">LoadedFailure</dfn> =</td></tr>
<tr><th id="1288">1288</th><td>      <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" title='llvm::IRBuilderBase::CreatePHI' data-ref="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE">CreatePHI</a>(<a class="local col8 ref" href="#318UnreleasedLoad" title='UnreleasedLoad' data-ref="318UnreleasedLoad" data-ref-filename="318UnreleasedLoad">UnreleasedLoad</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <var>2</var>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"loaded.failure"</q>);</td></tr>
<tr><th id="1289">1289</th><td>  <a class="local col8 ref" href="#328LoadedFailure" title='LoadedFailure' data-ref="328LoadedFailure" data-ref-filename="328LoadedFailure">LoadedFailure</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col7 ref" href="#327LoadedNoStore" title='LoadedNoStore' data-ref="327LoadedNoStore" data-ref-filename="327LoadedNoStore">LoadedNoStore</a>, <a class="local col0 ref" href="#310NoStoreBB" title='NoStoreBB' data-ref="310NoStoreBB" data-ref-filename="310NoStoreBB">NoStoreBB</a>);</td></tr>
<tr><th id="1290">1290</th><td>  <b>if</b> (<a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst6isWeakEv" title='llvm::AtomicCmpXchgInst::isWeak' data-ref="_ZNK4llvm17AtomicCmpXchgInst6isWeakEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst6isWeakEv">isWeak</a>())</td></tr>
<tr><th id="1291">1291</th><td>    <a class="local col8 ref" href="#328LoadedFailure" title='LoadedFailure' data-ref="328LoadedFailure" data-ref-filename="328LoadedFailure">LoadedFailure</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col1 ref" href="#321LoadedTryStore" title='LoadedTryStore' data-ref="321LoadedTryStore" data-ref-filename="321LoadedTryStore">LoadedTryStore</a>, <a class="local col3 ref" href="#313TryStoreBB" title='TryStoreBB' data-ref="313TryStoreBB" data-ref-filename="313TryStoreBB">TryStoreBB</a>);</td></tr>
<tr><th id="1292">1292</th><td>  <b>if</b> (<a class="local col4 ref" href="#304ShouldInsertFencesForAtomic" title='ShouldInsertFencesForAtomic' data-ref="304ShouldInsertFencesForAtomic" data-ref-filename="304ShouldInsertFencesForAtomic">ShouldInsertFencesForAtomic</a>)</td></tr>
<tr><th id="1293">1293</th><td>    <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase17emitTrailingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE" title='llvm::TargetLoweringBase::emitTrailingFence' data-ref="_ZNK4llvm18TargetLoweringBase17emitTrailingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE" data-ref-filename="_ZNK4llvm18TargetLoweringBase17emitTrailingFenceERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_11InstructionENS_14AtomicOrderingE">emitTrailingFence</a>(<span class='refarg'><a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a></span>, <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>, <a class="local col9 ref" href="#299FailureOrder" title='FailureOrder' data-ref="299FailureOrder" data-ref-filename="299FailureOrder">FailureOrder</a>);</td></tr>
<tr><th id="1294">1294</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" title='llvm::IRBuilderBase::CreateBr' data-ref="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE">CreateBr</a>(<a class="local col8 ref" href="#308ExitBB" title='ExitBB' data-ref="308ExitBB" data-ref-filename="308ExitBB">ExitBB</a>);</td></tr>
<tr><th id="1295">1295</th><td></td></tr>
<tr><th id="1296">1296</th><td>  <i>// Finally, we have control-flow based knowledge of whether the cmpxchg</i></td></tr>
<tr><th id="1297">1297</th><td><i>  // succeeded or not. We expose this to later passes by converting any</i></td></tr>
<tr><th id="1298">1298</th><td><i>  // subsequent "icmp eq/ne %loaded, %oldval" into a use of an appropriate</i></td></tr>
<tr><th id="1299">1299</th><td><i>  // PHI.</i></td></tr>
<tr><th id="1300">1300</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEE">SetInsertPoint</a>(<a class="local col8 ref" href="#308ExitBB" title='ExitBB' data-ref="308ExitBB" data-ref-filename="308ExitBB">ExitBB</a>, <a class="local col8 ref" href="#308ExitBB" title='ExitBB' data-ref="308ExitBB" data-ref-filename="308ExitBB">ExitBB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock5beginEv" title='llvm::BasicBlock::begin' data-ref="_ZN4llvm10BasicBlock5beginEv" data-ref-filename="_ZN4llvm10BasicBlock5beginEv">begin</a>());</td></tr>
<tr><th id="1301">1301</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a> *<dfn class="local col9 decl" id="329LoadedExit" title='LoadedExit' data-type='llvm::PHINode *' data-ref="329LoadedExit" data-ref-filename="329LoadedExit">LoadedExit</dfn> =</td></tr>
<tr><th id="1302">1302</th><td>      <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" title='llvm::IRBuilderBase::CreatePHI' data-ref="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE">CreatePHI</a>(<a class="local col8 ref" href="#318UnreleasedLoad" title='UnreleasedLoad' data-ref="318UnreleasedLoad" data-ref-filename="318UnreleasedLoad">UnreleasedLoad</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <var>2</var>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"loaded.exit"</q>);</td></tr>
<tr><th id="1303">1303</th><td>  <a class="local col9 ref" href="#329LoadedExit" title='LoadedExit' data-ref="329LoadedExit" data-ref-filename="329LoadedExit">LoadedExit</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col1 ref" href="#321LoadedTryStore" title='LoadedTryStore' data-ref="321LoadedTryStore" data-ref-filename="321LoadedTryStore">LoadedTryStore</a>, <a class="local col1 ref" href="#311SuccessBB" title='SuccessBB' data-ref="311SuccessBB" data-ref-filename="311SuccessBB">SuccessBB</a>);</td></tr>
<tr><th id="1304">1304</th><td>  <a class="local col9 ref" href="#329LoadedExit" title='LoadedExit' data-ref="329LoadedExit" data-ref-filename="329LoadedExit">LoadedExit</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col8 ref" href="#328LoadedFailure" title='LoadedFailure' data-ref="328LoadedFailure" data-ref-filename="328LoadedFailure">LoadedFailure</a>, <a class="local col9 ref" href="#309FailureBB" title='FailureBB' data-ref="309FailureBB" data-ref-filename="309FailureBB">FailureBB</a>);</td></tr>
<tr><th id="1305">1305</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a> *<dfn class="local col0 decl" id="330Success" title='Success' data-type='llvm::PHINode *' data-ref="330Success" data-ref-filename="330Success">Success</dfn> = <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" title='llvm::IRBuilderBase::CreatePHI' data-ref="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE">CreatePHI</a>(<a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type9getInt1TyERNS_11LLVMContextE" title='llvm::Type::getInt1Ty' data-ref="_ZN4llvm4Type9getInt1TyERNS_11LLVMContextE" data-ref-filename="_ZN4llvm4Type9getInt1TyERNS_11LLVMContextE">getInt1Ty</a>(<span class='refarg'><a class="local col3 ref" href="#303Ctx" title='Ctx' data-ref="303Ctx" data-ref-filename="303Ctx">Ctx</a></span>), <var>2</var>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"success"</q>);</td></tr>
<tr><th id="1306">1306</th><td>  <a class="local col0 ref" href="#330Success" title='Success' data-ref="330Success" data-ref-filename="330Success">Success</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt7getTrueERNS_11LLVMContextE" title='llvm::ConstantInt::getTrue' data-ref="_ZN4llvm11ConstantInt7getTrueERNS_11LLVMContextE" data-ref-filename="_ZN4llvm11ConstantInt7getTrueERNS_11LLVMContextE">getTrue</a>(<span class='refarg'><a class="local col3 ref" href="#303Ctx" title='Ctx' data-ref="303Ctx" data-ref-filename="303Ctx">Ctx</a></span>), <a class="local col1 ref" href="#311SuccessBB" title='SuccessBB' data-ref="311SuccessBB" data-ref-filename="311SuccessBB">SuccessBB</a>);</td></tr>
<tr><th id="1307">1307</th><td>  <a class="local col0 ref" href="#330Success" title='Success' data-ref="330Success" data-ref-filename="330Success">Success</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt8getFalseERNS_11LLVMContextE" title='llvm::ConstantInt::getFalse' data-ref="_ZN4llvm11ConstantInt8getFalseERNS_11LLVMContextE" data-ref-filename="_ZN4llvm11ConstantInt8getFalseERNS_11LLVMContextE">getFalse</a>(<span class='refarg'><a class="local col3 ref" href="#303Ctx" title='Ctx' data-ref="303Ctx" data-ref-filename="303Ctx">Ctx</a></span>), <a class="local col9 ref" href="#309FailureBB" title='FailureBB' data-ref="309FailureBB" data-ref-filename="309FailureBB">FailureBB</a>);</td></tr>
<tr><th id="1308">1308</th><td></td></tr>
<tr><th id="1309">1309</th><td>  <i>// This is the "exit value" from the cmpxchg expansion. It may be of</i></td></tr>
<tr><th id="1310">1310</th><td><i>  // a type wider than the one in the cmpxchg instruction.</i></td></tr>
<tr><th id="1311">1311</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="331LoadedFull" title='LoadedFull' data-type='llvm::Value *' data-ref="331LoadedFull" data-ref-filename="331LoadedFull">LoadedFull</dfn> = <a class="local col9 ref" href="#329LoadedExit" title='LoadedExit' data-ref="329LoadedExit" data-ref-filename="329LoadedExit">LoadedExit</a>;</td></tr>
<tr><th id="1312">1312</th><td></td></tr>
<tr><th id="1313">1313</th><td>  <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEE">SetInsertPoint</a>(<a class="local col8 ref" href="#308ExitBB" title='ExitBB' data-ref="308ExitBB" data-ref-filename="308ExitBB">ExitBB</a>, <span class="namespace">std::</span><span class='ref fn' title='std::next' data-ref="_ZSt4nextT_NSt15iterator_traitsIS_E15difference_typeE" data-ref-filename="_ZSt4nextT_NSt15iterator_traitsIS_E15difference_typeE">next</span>(<a class="local col0 ref" href="#330Success" title='Success' data-ref="330Success" data-ref-filename="330Success">Success</a>-&gt;<a class="ref fn" href="../../include/llvm/ADT/ilist_node.h.html#_ZN4llvm15ilist_node_impl11getIteratorEv" title='llvm::ilist_node_impl::getIterator' data-ref="_ZN4llvm15ilist_node_impl11getIteratorEv" data-ref-filename="_ZN4llvm15ilist_node_impl11getIteratorEv">getIterator</a>()));</td></tr>
<tr><th id="1314">1314</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="332Loaded" title='Loaded' data-type='llvm::Value *' data-ref="332Loaded" data-ref-filename="332Loaded">Loaded</dfn> = <a class="tu ref fn" href="#_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" title='extractMaskedValue' data-use='c' data-ref="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE" data-ref-filename="_ZL18extractMaskedValueRN4llvm9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueERKN12_GLOBAL__N_118PartwordMaskValuesE">extractMaskedValue</a>(<span class='refarg'><a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a></span>, <a class="local col1 ref" href="#331LoadedFull" title='LoadedFull' data-ref="331LoadedFull" data-ref-filename="331LoadedFull">LoadedFull</a>, <a class="local col7 ref" href="#317PMV" title='PMV' data-ref="317PMV" data-ref-filename="317PMV">PMV</a>);</td></tr>
<tr><th id="1315">1315</th><td></td></tr>
<tr><th id="1316">1316</th><td>  <i>// Look for any users of the cmpxchg that are just comparing the loaded value</i></td></tr>
<tr><th id="1317">1317</th><td><i>  // against the desired one, and replace them with the CFG-derived version.</i></td></tr>
<tr><th id="1318">1318</th><td>  <a class="type" href="../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::ExtractValueInst" title='llvm::ExtractValueInst' data-ref="llvm::ExtractValueInst" data-ref-filename="llvm..ExtractValueInst">ExtractValueInst</a> *, <var>2</var>&gt; <a class="ref fn fake" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col3 decl" id="333PrunedInsts" title='PrunedInsts' data-type='SmallVector&lt;llvm::ExtractValueInst *, 2&gt;' data-ref="333PrunedInsts" data-ref-filename="333PrunedInsts">PrunedInsts</dfn>;</td></tr>
<tr><th id="1319">1319</th><td>  <b>for</b> (<em>auto</em> <dfn class="local col4 decl" id="334User" title='User' data-type='llvm::User *' data-ref="334User" data-ref-filename="334User">User</dfn> : <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value5usersEv" title='llvm::Value::users' data-ref="_ZN4llvm5Value5usersEv" data-ref-filename="_ZN4llvm5Value5usersEv">users</a>()) {</td></tr>
<tr><th id="1320">1320</th><td>    <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::ExtractValueInst" title='llvm::ExtractValueInst' data-ref="llvm::ExtractValueInst" data-ref-filename="llvm..ExtractValueInst">ExtractValueInst</a> *<dfn class="local col5 decl" id="335EV" title='EV' data-type='llvm::ExtractValueInst *' data-ref="335EV" data-ref-filename="335EV">EV</dfn> = <a class="ref fn" href="../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::ExtractValueInst" title='llvm::ExtractValueInst' data-ref="llvm::ExtractValueInst" data-ref-filename="llvm..ExtractValueInst">ExtractValueInst</a>&gt;(<a class="local col4 ref" href="#334User" title='User' data-ref="334User" data-ref-filename="334User">User</a>);</td></tr>
<tr><th id="1321">1321</th><td>    <b>if</b> (!<a class="local col5 ref" href="#335EV" title='EV' data-ref="335EV" data-ref-filename="335EV">EV</a>)</td></tr>
<tr><th id="1322">1322</th><td>      <b>continue</b>;</td></tr>
<tr><th id="1323">1323</th><td></td></tr>
<tr><th id="1324">1324</th><td>    <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(EV-&gt;getNumIndices() == <var>1</var> &amp;&amp; EV-&gt;getIndices()[<var>0</var>] &lt;= <var>1</var> &amp;&amp;</td></tr>
<tr><th id="1325">1325</th><td>           <q>"weird extraction from { iN, i1 }"</q>);</td></tr>
<tr><th id="1326">1326</th><td></td></tr>
<tr><th id="1327">1327</th><td>    <b>if</b> (<a class="local col5 ref" href="#335EV" title='EV' data-ref="335EV" data-ref-filename="335EV">EV</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm16ExtractValueInst10getIndicesEv" title='llvm::ExtractValueInst::getIndices' data-ref="_ZNK4llvm16ExtractValueInst10getIndicesEv" data-ref-filename="_ZNK4llvm16ExtractValueInst10getIndicesEv">getIndices</a>()<a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRefixEm" title='llvm::ArrayRef::operator[]' data-ref="_ZNK4llvm8ArrayRefixEm" data-ref-filename="_ZNK4llvm8ArrayRefixEm">[<var>0</var>]</a> == <var>0</var>)</td></tr>
<tr><th id="1328">1328</th><td>      <a class="local col5 ref" href="#335EV" title='EV' data-ref="335EV" data-ref-filename="335EV">EV</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col2 ref" href="#332Loaded" title='Loaded' data-ref="332Loaded" data-ref-filename="332Loaded">Loaded</a>);</td></tr>
<tr><th id="1329">1329</th><td>    <b>else</b></td></tr>
<tr><th id="1330">1330</th><td>      <a class="local col5 ref" href="#335EV" title='EV' data-ref="335EV" data-ref-filename="335EV">EV</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col0 ref" href="#330Success" title='Success' data-ref="330Success" data-ref-filename="330Success">Success</a>);</td></tr>
<tr><th id="1331">1331</th><td></td></tr>
<tr><th id="1332">1332</th><td>    <a class="local col3 ref" href="#333PrunedInsts" title='PrunedInsts' data-ref="333PrunedInsts" data-ref-filename="333PrunedInsts">PrunedInsts</a>.<a class="ref fn" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col5 ref" href="#335EV" title='EV' data-ref="335EV" data-ref-filename="335EV">EV</a>);</td></tr>
<tr><th id="1333">1333</th><td>  }</td></tr>
<tr><th id="1334">1334</th><td></td></tr>
<tr><th id="1335">1335</th><td>  <i>// We can remove the instructions now we're no longer iterating through them.</i></td></tr>
<tr><th id="1336">1336</th><td>  <b>for</b> (<em>auto</em> <dfn class="local col6 decl" id="336EV" title='EV' data-type='llvm::ExtractValueInst *' data-ref="336EV" data-ref-filename="336EV">EV</dfn> : <a class="local col3 ref" href="#333PrunedInsts" title='PrunedInsts' data-ref="333PrunedInsts" data-ref-filename="333PrunedInsts">PrunedInsts</a>)</td></tr>
<tr><th id="1337">1337</th><td>    <a class="local col6 ref" href="#336EV" title='EV' data-ref="336EV" data-ref-filename="336EV">EV</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="1338">1338</th><td></td></tr>
<tr><th id="1339">1339</th><td>  <b>if</b> (!<a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value9use_emptyEv" title='llvm::Value::use_empty' data-ref="_ZNK4llvm5Value9use_emptyEv" data-ref-filename="_ZNK4llvm5Value9use_emptyEv">use_empty</a>()) {</td></tr>
<tr><th id="1340">1340</th><td>    <i>// Some use of the full struct return that we don't understand has happened,</i></td></tr>
<tr><th id="1341">1341</th><td><i>    // so we've got to reconstruct it properly.</i></td></tr>
<tr><th id="1342">1342</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="337Res" title='Res' data-type='llvm::Value *' data-ref="337Res" data-ref-filename="337Res">Res</dfn>;</td></tr>
<tr><th id="1343">1343</th><td>    <a class="local col7 ref" href="#337Res" title='Res' data-ref="337Res" data-ref-filename="337Res">Res</a> = <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInsertValue' data-ref="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE">CreateInsertValue</a>(<a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a>::<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZN4llvm10UndefValue3getEPNS_4TypeE" title='llvm::UndefValue::get' data-ref="_ZN4llvm10UndefValue3getEPNS_4TypeE" data-ref-filename="_ZN4llvm10UndefValue3getEPNS_4TypeE">get</a>(<a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()), <a class="local col2 ref" href="#332Loaded" title='Loaded' data-ref="332Loaded" data-ref-filename="332Loaded">Loaded</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>0</var>);</td></tr>
<tr><th id="1344">1344</th><td>    <a class="local col7 ref" href="#337Res" title='Res' data-ref="337Res" data-ref-filename="337Res">Res</a> = <a class="local col6 ref" href="#316Builder" title='Builder' data-ref="316Builder" data-ref-filename="316Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInsertValue' data-ref="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE">CreateInsertValue</a>(<a class="local col7 ref" href="#337Res" title='Res' data-ref="337Res" data-ref-filename="337Res">Res</a>, <a class="local col0 ref" href="#330Success" title='Success' data-ref="330Success" data-ref-filename="330Success">Success</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>1</var>);</td></tr>
<tr><th id="1345">1345</th><td></td></tr>
<tr><th id="1346">1346</th><td>    <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col7 ref" href="#337Res" title='Res' data-ref="337Res" data-ref-filename="337Res">Res</a>);</td></tr>
<tr><th id="1347">1347</th><td>  }</td></tr>
<tr><th id="1348">1348</th><td></td></tr>
<tr><th id="1349">1349</th><td>  <a class="local col7 ref" href="#297CI" title='CI' data-ref="297CI" data-ref-filename="297CI">CI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="1350">1350</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1351">1351</th><td>}</td></tr>
<tr><th id="1352">1352</th><td></td></tr>
<tr><th id="1353">1353</th><td><em>bool</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand15isIdempotentRMWEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::isIdempotentRMW' data-type='bool (anonymous namespace)::AtomicExpand::isIdempotentRMW(llvm::AtomicRMWInst * RMWI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand15isIdempotentRMWEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand15isIdempotentRMWEPN4llvm13AtomicRMWInstE">isIdempotentRMW</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>* <dfn class="local col8 decl" id="338RMWI" title='RMWI' data-type='llvm::AtomicRMWInst *' data-ref="338RMWI" data-ref-filename="338RMWI">RMWI</dfn>) {</td></tr>
<tr><th id="1354">1354</th><td>  <em>auto</em> <dfn class="local col9 decl" id="339C" title='C' data-type='llvm::ConstantInt *' data-ref="339C" data-ref-filename="339C">C</dfn> = <a class="ref fn" href="../../include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>&gt;(<a class="local col8 ref" href="#338RMWI" title='RMWI' data-ref="338RMWI" data-ref-filename="338RMWI">RMWI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst13getValOperandEv" title='llvm::AtomicRMWInst::getValOperand' data-ref="_ZN4llvm13AtomicRMWInst13getValOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst13getValOperandEv">getValOperand</a>());</td></tr>
<tr><th id="1355">1355</th><td>  <b>if</b>(!<a class="local col9 ref" href="#339C" title='C' data-ref="339C" data-ref-filename="339C">C</a>)</td></tr>
<tr><th id="1356">1356</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1357">1357</th><td></td></tr>
<tr><th id="1358">1358</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::BinOp" title='llvm::AtomicRMWInst::BinOp' data-ref="llvm::AtomicRMWInst::BinOp" data-ref-filename="llvm..AtomicRMWInst..BinOp">BinOp</a> <dfn class="local col0 decl" id="340Op" title='Op' data-type='AtomicRMWInst::BinOp' data-ref="340Op" data-ref-filename="340Op">Op</dfn> = <a class="local col8 ref" href="#338RMWI" title='RMWI' data-ref="338RMWI" data-ref-filename="338RMWI">RMWI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst12getOperationEv" title='llvm::AtomicRMWInst::getOperation' data-ref="_ZNK4llvm13AtomicRMWInst12getOperationEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst12getOperationEv">getOperation</a>();</td></tr>
<tr><th id="1359">1359</th><td>  <b>switch</b>(<a class="local col0 ref" href="#340Op" title='Op' data-ref="340Op" data-ref-filename="340Op">Op</a>) {</td></tr>
<tr><th id="1360">1360</th><td>    <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Add" title='llvm::AtomicRMWInst::Add' data-ref="llvm::AtomicRMWInst::Add" data-ref-filename="llvm..AtomicRMWInst..Add">Add</a>:</td></tr>
<tr><th id="1361">1361</th><td>    <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Sub" title='llvm::AtomicRMWInst::Sub' data-ref="llvm::AtomicRMWInst::Sub" data-ref-filename="llvm..AtomicRMWInst..Sub">Sub</a>:</td></tr>
<tr><th id="1362">1362</th><td>    <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Or" title='llvm::AtomicRMWInst::Or' data-ref="llvm::AtomicRMWInst::Or" data-ref-filename="llvm..AtomicRMWInst..Or">Or</a>:</td></tr>
<tr><th id="1363">1363</th><td>    <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Xor" title='llvm::AtomicRMWInst::Xor' data-ref="llvm::AtomicRMWInst::Xor" data-ref-filename="llvm..AtomicRMWInst..Xor">Xor</a>:</td></tr>
<tr><th id="1364">1364</th><td>      <b>return</b> <a class="local col9 ref" href="#339C" title='C' data-ref="339C" data-ref-filename="339C">C</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZNK4llvm11ConstantInt6isZeroEv" title='llvm::ConstantInt::isZero' data-ref="_ZNK4llvm11ConstantInt6isZeroEv" data-ref-filename="_ZNK4llvm11ConstantInt6isZeroEv">isZero</a>();</td></tr>
<tr><th id="1365">1365</th><td>    <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::And" title='llvm::AtomicRMWInst::And' data-ref="llvm::AtomicRMWInst::And" data-ref-filename="llvm..AtomicRMWInst..And">And</a>:</td></tr>
<tr><th id="1366">1366</th><td>      <b>return</b> <a class="local col9 ref" href="#339C" title='C' data-ref="339C" data-ref-filename="339C">C</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZNK4llvm11ConstantInt10isMinusOneEv" title='llvm::ConstantInt::isMinusOne' data-ref="_ZNK4llvm11ConstantInt10isMinusOneEv" data-ref-filename="_ZNK4llvm11ConstantInt10isMinusOneEv">isMinusOne</a>();</td></tr>
<tr><th id="1367">1367</th><td>    <i>// FIXME: we could also treat Min/Max/UMin/UMax by the INT_MIN/INT_MAX/...</i></td></tr>
<tr><th id="1368">1368</th><td>    <b>default</b>:</td></tr>
<tr><th id="1369">1369</th><td>      <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1370">1370</th><td>  }</td></tr>
<tr><th id="1371">1371</th><td>}</td></tr>
<tr><th id="1372">1372</th><td></td></tr>
<tr><th id="1373">1373</th><td><em>bool</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand21simplifyIdempotentRMWEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::simplifyIdempotentRMW' data-type='bool (anonymous namespace)::AtomicExpand::simplifyIdempotentRMW(llvm::AtomicRMWInst * RMWI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand21simplifyIdempotentRMWEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand21simplifyIdempotentRMWEPN4llvm13AtomicRMWInstE">simplifyIdempotentRMW</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>* <dfn class="local col1 decl" id="341RMWI" title='RMWI' data-type='llvm::AtomicRMWInst *' data-ref="341RMWI" data-ref-filename="341RMWI">RMWI</dfn>) {</td></tr>
<tr><th id="1374">1374</th><td>  <b>if</b> (<em>auto</em> <dfn class="local col2 decl" id="342ResultingLoad" title='ResultingLoad' data-type='llvm::LoadInst *' data-ref="342ResultingLoad" data-ref-filename="342ResultingLoad"><a class="local col2 ref" href="#342ResultingLoad" title='ResultingLoad' data-ref="342ResultingLoad" data-ref-filename="342ResultingLoad">ResultingLoad</a></dfn> = <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase32lowerIdempotentRMWIntoFencedLoadEPNS_13AtomicRMWInstE" title='llvm::TargetLoweringBase::lowerIdempotentRMWIntoFencedLoad' data-ref="_ZNK4llvm18TargetLoweringBase32lowerIdempotentRMWIntoFencedLoadEPNS_13AtomicRMWInstE" data-ref-filename="_ZNK4llvm18TargetLoweringBase32lowerIdempotentRMWIntoFencedLoadEPNS_13AtomicRMWInstE">lowerIdempotentRMWIntoFencedLoad</a>(<a class="local col1 ref" href="#341RMWI" title='RMWI' data-ref="341RMWI" data-ref-filename="341RMWI">RMWI</a>)) {</td></tr>
<tr><th id="1375">1375</th><td>    <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand19tryExpandAtomicLoadEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::tryExpandAtomicLoad' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand19tryExpandAtomicLoadEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand19tryExpandAtomicLoadEPN4llvm8LoadInstE">tryExpandAtomicLoad</a>(<a class="local col2 ref" href="#342ResultingLoad" title='ResultingLoad' data-ref="342ResultingLoad" data-ref-filename="342ResultingLoad">ResultingLoad</a>);</td></tr>
<tr><th id="1376">1376</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1377">1377</th><td>  }</td></tr>
<tr><th id="1378">1378</th><td>  <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1379">1379</th><td>}</td></tr>
<tr><th id="1380">1380</th><td></td></tr>
<tr><th id="1381">1381</th><td><a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand20insertRMWCmpXchgLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueEN6117739" title='(anonymous namespace)::AtomicExpand::insertRMWCmpXchgLoop' data-type='static llvm::Value * (anonymous namespace)::AtomicExpand::insertRMWCmpXchgLoop(IRBuilder&lt;&gt; &amp; Builder, llvm::Type * ResultTy, llvm::Value * Addr, llvm::AtomicOrdering MemOpOrder, function_ref&lt;llvm::Value *(IRBuilder&lt;&gt; &amp;, llvm::Value *)&gt; PerformOp, llvm::CreateCmpXchgInstFun CreateCmpXchg)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand20insertRMWCmpXchgLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueEN6117739" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand20insertRMWCmpXchgLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueEN6117739">insertRMWCmpXchgLoop</dfn>(</td></tr>
<tr><th id="1382">1382</th><td>    <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col3 decl" id="343Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="343Builder" data-ref-filename="343Builder">Builder</dfn>, <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col4 decl" id="344ResultTy" title='ResultTy' data-type='llvm::Type *' data-ref="344ResultTy" data-ref-filename="344ResultTy">ResultTy</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="345Addr" title='Addr' data-type='llvm::Value *' data-ref="345Addr" data-ref-filename="345Addr">Addr</dfn>,</td></tr>
<tr><th id="1383">1383</th><td>    <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col6 decl" id="346MemOpOrder" title='MemOpOrder' data-type='llvm::AtomicOrdering' data-ref="346MemOpOrder" data-ref-filename="346MemOpOrder">MemOpOrder</dfn>,</td></tr>
<tr><th id="1384">1384</th><td>    <a class="type" href="../../include/llvm/ADT/STLExtras.h.html#llvm::function_ref" title='llvm::function_ref' data-ref="llvm::function_ref" data-ref-filename="llvm..function_ref">function_ref</a>&lt;<a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *(<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *)&gt; <dfn class="local col7 decl" id="347PerformOp" title='PerformOp' data-type='function_ref&lt;llvm::Value *(IRBuilder&lt;&gt; &amp;, llvm::Value *)&gt;' data-ref="347PerformOp" data-ref-filename="347PerformOp">PerformOp</dfn>,</td></tr>
<tr><th id="1385">1385</th><td>    <a class="typedef" href="../../include/llvm/CodeGen/AtomicExpandUtils.h.html#llvm::CreateCmpXchgInstFun" title='llvm::CreateCmpXchgInstFun' data-type='function_ref&lt;void (IRBuilder&lt;&gt; &amp;, llvm::Value *, llvm::Value *, llvm::Value *, llvm::AtomicOrdering, llvm::Value *&amp;, llvm::Value *&amp;)&gt;' data-ref="llvm::CreateCmpXchgInstFun" data-ref-filename="llvm..CreateCmpXchgInstFun">CreateCmpXchgInstFun</a> <dfn class="local col8 decl" id="348CreateCmpXchg" title='CreateCmpXchg' data-type='llvm::CreateCmpXchgInstFun' data-ref="348CreateCmpXchg" data-ref-filename="348CreateCmpXchg">CreateCmpXchg</dfn>) {</td></tr>
<tr><th id="1386">1386</th><td>  <a class="type" href="../../include/llvm/IR/LLVMContext.h.html#llvm::LLVMContext" title='llvm::LLVMContext' data-ref="llvm::LLVMContext" data-ref-filename="llvm..LLVMContext">LLVMContext</a> &amp;<dfn class="local col9 decl" id="349Ctx" title='Ctx' data-type='llvm::LLVMContext &amp;' data-ref="349Ctx" data-ref-filename="349Ctx">Ctx</dfn> = <a class="local col3 ref" href="#343Builder" title='Builder' data-ref="343Builder" data-ref-filename="343Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZNK4llvm13IRBuilderBase10getContextEv" title='llvm::IRBuilderBase::getContext' data-ref="_ZNK4llvm13IRBuilderBase10getContextEv" data-ref-filename="_ZNK4llvm13IRBuilderBase10getContextEv">getContext</a>();</td></tr>
<tr><th id="1387">1387</th><td>  <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col0 decl" id="350BB" title='BB' data-type='llvm::BasicBlock *' data-ref="350BB" data-ref-filename="350BB">BB</dfn> = <a class="local col3 ref" href="#343Builder" title='Builder' data-ref="343Builder" data-ref-filename="343Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZNK4llvm13IRBuilderBase14GetInsertBlockEv" title='llvm::IRBuilderBase::GetInsertBlock' data-ref="_ZNK4llvm13IRBuilderBase14GetInsertBlockEv" data-ref-filename="_ZNK4llvm13IRBuilderBase14GetInsertBlockEv">GetInsertBlock</a>();</td></tr>
<tr><th id="1388">1388</th><td>  <a class="type" href="../../include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> *<dfn class="local col1 decl" id="351F" title='F' data-type='llvm::Function *' data-ref="351F" data-ref-filename="351F">F</dfn> = <a class="local col0 ref" href="#350BB" title='BB' data-ref="350BB" data-ref-filename="350BB">BB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock9getParentEv" title='llvm::BasicBlock::getParent' data-ref="_ZN4llvm10BasicBlock9getParentEv" data-ref-filename="_ZN4llvm10BasicBlock9getParentEv">getParent</a>();</td></tr>
<tr><th id="1389">1389</th><td></td></tr>
<tr><th id="1390">1390</th><td>  <i>// Given: atomicrmw some_op iN* %addr, iN %incr ordering</i></td></tr>
<tr><th id="1391">1391</th><td><i>  //</i></td></tr>
<tr><th id="1392">1392</th><td><i>  // The standard expansion we produce is:</i></td></tr>
<tr><th id="1393">1393</th><td><i>  //     [...]</i></td></tr>
<tr><th id="1394">1394</th><td><i>  //     %init_loaded = load atomic iN* %addr</i></td></tr>
<tr><th id="1395">1395</th><td><i>  //     br label %loop</i></td></tr>
<tr><th id="1396">1396</th><td><i>  // loop:</i></td></tr>
<tr><th id="1397">1397</th><td><i>  //     %loaded = phi iN [ %init_loaded, %entry ], [ %new_loaded, %loop ]</i></td></tr>
<tr><th id="1398">1398</th><td><i>  //     %new = some_op iN %loaded, %incr</i></td></tr>
<tr><th id="1399">1399</th><td><i>  //     %pair = cmpxchg iN* %addr, iN %loaded, iN %new</i></td></tr>
<tr><th id="1400">1400</th><td><i>  //     %new_loaded = extractvalue { iN, i1 } %pair, 0</i></td></tr>
<tr><th id="1401">1401</th><td><i>  //     %success = extractvalue { iN, i1 } %pair, 1</i></td></tr>
<tr><th id="1402">1402</th><td><i>  //     br i1 %success, label %atomicrmw.end, label %loop</i></td></tr>
<tr><th id="1403">1403</th><td><i>  // atomicrmw.end:</i></td></tr>
<tr><th id="1404">1404</th><td><i>  //     [...]</i></td></tr>
<tr><th id="1405">1405</th><td>  <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col2 decl" id="352ExitBB" title='ExitBB' data-type='llvm::BasicBlock *' data-ref="352ExitBB" data-ref-filename="352ExitBB">ExitBB</dfn> =</td></tr>
<tr><th id="1406">1406</th><td>      <a class="local col0 ref" href="#350BB" title='BB' data-ref="350BB" data-ref-filename="350BB">BB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock15splitBasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEERKNS_5TwineEb" title='llvm::BasicBlock::splitBasicBlock' data-ref="_ZN4llvm10BasicBlock15splitBasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEERKNS_5TwineEb" data-ref-filename="_ZN4llvm10BasicBlock15splitBasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEERKNS_5TwineEb">splitBasicBlock</a>(<a class="local col3 ref" href="#343Builder" title='Builder' data-ref="343Builder" data-ref-filename="343Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZNK4llvm13IRBuilderBase14GetInsertPointEv" title='llvm::IRBuilderBase::GetInsertPoint' data-ref="_ZNK4llvm13IRBuilderBase14GetInsertPointEv" data-ref-filename="_ZNK4llvm13IRBuilderBase14GetInsertPointEv">GetInsertPoint</a>(), <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"atomicrmw.end"</q>);</td></tr>
<tr><th id="1407">1407</th><td>  <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a> *<dfn class="local col3 decl" id="353LoopBB" title='LoopBB' data-type='llvm::BasicBlock *' data-ref="353LoopBB" data-ref-filename="353LoopBB">LoopBB</dfn> = <a class="type" href="../../include/llvm/IR/BasicBlock.h.html#llvm::BasicBlock" title='llvm::BasicBlock' data-ref="llvm::BasicBlock" data-ref-filename="llvm..BasicBlock">BasicBlock</a>::<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" title='llvm::BasicBlock::Create' data-ref="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_" data-ref-filename="_ZN4llvm10BasicBlock6CreateERNS_11LLVMContextERKNS_5TwineEPNS_8FunctionEPS0_">Create</a>(<span class='refarg'><a class="local col9 ref" href="#349Ctx" title='Ctx' data-ref="349Ctx" data-ref-filename="349Ctx">Ctx</a></span>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"atomicrmw.start"</q>, <a class="local col1 ref" href="#351F" title='F' data-ref="351F" data-ref-filename="351F">F</a>, <a class="local col2 ref" href="#352ExitBB" title='ExitBB' data-ref="352ExitBB" data-ref-filename="352ExitBB">ExitBB</a>);</td></tr>
<tr><th id="1408">1408</th><td></td></tr>
<tr><th id="1409">1409</th><td>  <i>// The split call above "helpfully" added a branch at the end of BB (to the</i></td></tr>
<tr><th id="1410">1410</th><td><i>  // wrong place), but we want a load. It's easiest to just remove</i></td></tr>
<tr><th id="1411">1411</th><td><i>  // the branch entirely.</i></td></tr>
<tr><th id="1412">1412</th><td>  <span class="namespace">std::</span><span class='ref fn' title='std::prev' data-ref="_ZSt4prevT_NSt15iterator_traitsIS_E15difference_typeE" data-ref-filename="_ZSt4prevT_NSt15iterator_traitsIS_E15difference_typeE">prev</span>(<a class="local col0 ref" href="#350BB" title='BB' data-ref="350BB" data-ref-filename="350BB">BB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock3endEv" title='llvm::BasicBlock::end' data-ref="_ZN4llvm10BasicBlock3endEv" data-ref-filename="_ZN4llvm10BasicBlock3endEv">end</a>())<a class="ref fn" href="../../include/llvm/ADT/ilist_iterator.h.html#_ZNK4llvm14ilist_iteratorptEv" title='llvm::ilist_iterator::operator-&gt;' data-ref="_ZNK4llvm14ilist_iteratorptEv" data-ref-filename="_ZNK4llvm14ilist_iteratorptEv">-&gt;</a><a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="1413">1413</th><td>  <a class="local col3 ref" href="#343Builder" title='Builder' data-ref="343Builder" data-ref-filename="343Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col0 ref" href="#350BB" title='BB' data-ref="350BB" data-ref-filename="350BB">BB</a>);</td></tr>
<tr><th id="1414">1414</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<dfn class="local col4 decl" id="354InitLoaded" title='InitLoaded' data-type='llvm::LoadInst *' data-ref="354InitLoaded" data-ref-filename="354InitLoaded">InitLoaded</dfn> = <a class="local col3 ref" href="#343Builder" title='Builder' data-ref="343Builder" data-ref-filename="343Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateLoadEPNS_4TypeEPNS_5ValueERKNS_5TwineE" title='llvm::IRBuilderBase::CreateLoad' data-ref="_ZN4llvm13IRBuilderBase10CreateLoadEPNS_4TypeEPNS_5ValueERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateLoadEPNS_4TypeEPNS_5ValueERKNS_5TwineE">CreateLoad</a>(<a class="local col4 ref" href="#344ResultTy" title='ResultTy' data-ref="344ResultTy" data-ref-filename="344ResultTy">ResultTy</a>, <a class="local col5 ref" href="#345Addr" title='Addr' data-ref="345Addr" data-ref-filename="345Addr">Addr</a>);</td></tr>
<tr><th id="1415">1415</th><td>  <i>// Atomics require at least natural alignment.</i></td></tr>
<tr><th id="1416">1416</th><td>  <a class="local col4 ref" href="#354InitLoaded" title='InitLoaded' data-ref="354InitLoaded" data-ref-filename="354InitLoaded">InitLoaded</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm8LoadInst12setAlignmentENS_5AlignE" title='llvm::LoadInst::setAlignment' data-ref="_ZN4llvm8LoadInst12setAlignmentENS_5AlignE" data-ref-filename="_ZN4llvm8LoadInst12setAlignmentENS_5AlignE">setAlignment</a>(<a class="type" href="../../include/llvm/Support/Alignment.h.html#llvm::Align" title='llvm::Align' data-ref="llvm::Align" data-ref-filename="llvm..Align">Align</a><a class="ref fn" href="../../include/llvm/Support/Alignment.h.html#_ZN4llvm5AlignC1Em" title='llvm::Align::Align' data-ref="_ZN4llvm5AlignC1Em" data-ref-filename="_ZN4llvm5AlignC1Em">(</a><a class="ref fn fake" href="../../include/llvm/Support/TypeSize.h.html#_ZNK4llvm8TypeSizecvmEv" title='llvm::TypeSize::operator unsigned long' data-ref="_ZNK4llvm8TypeSizecvmEv" data-ref-filename="_ZNK4llvm8TypeSizecvmEv"></a><a class="local col4 ref" href="#344ResultTy" title='ResultTy' data-ref="344ResultTy" data-ref-filename="344ResultTy">ResultTy</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" title='llvm::Type::getPrimitiveSizeInBits' data-ref="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv" data-ref-filename="_ZNK4llvm4Type22getPrimitiveSizeInBitsEv">getPrimitiveSizeInBits</a>() / <var>8</var>));</td></tr>
<tr><th id="1417">1417</th><td>  <a class="local col3 ref" href="#343Builder" title='Builder' data-ref="343Builder" data-ref-filename="343Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" title='llvm::IRBuilderBase::CreateBr' data-ref="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateBrEPNS_10BasicBlockE">CreateBr</a>(<a class="local col3 ref" href="#353LoopBB" title='LoopBB' data-ref="353LoopBB" data-ref-filename="353LoopBB">LoopBB</a>);</td></tr>
<tr><th id="1418">1418</th><td></td></tr>
<tr><th id="1419">1419</th><td>  <i>// Start the main loop block now that we've taken care of the preliminaries.</i></td></tr>
<tr><th id="1420">1420</th><td>  <a class="local col3 ref" href="#343Builder" title='Builder' data-ref="343Builder" data-ref-filename="343Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockE">SetInsertPoint</a>(<a class="local col3 ref" href="#353LoopBB" title='LoopBB' data-ref="353LoopBB" data-ref-filename="353LoopBB">LoopBB</a>);</td></tr>
<tr><th id="1421">1421</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::PHINode" title='llvm::PHINode' data-ref="llvm::PHINode" data-ref-filename="llvm..PHINode">PHINode</a> *<dfn class="local col5 decl" id="355Loaded" title='Loaded' data-type='llvm::PHINode *' data-ref="355Loaded" data-ref-filename="355Loaded">Loaded</dfn> = <a class="local col3 ref" href="#343Builder" title='Builder' data-ref="343Builder" data-ref-filename="343Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" title='llvm::IRBuilderBase::CreatePHI' data-ref="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase9CreatePHIEPNS_4TypeEjRKNS_5TwineE">CreatePHI</a>(<a class="local col4 ref" href="#344ResultTy" title='ResultTy' data-ref="344ResultTy" data-ref-filename="344ResultTy">ResultTy</a>, <var>2</var>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"loaded"</q>);</td></tr>
<tr><th id="1422">1422</th><td>  <a class="local col5 ref" href="#355Loaded" title='Loaded' data-ref="355Loaded" data-ref-filename="355Loaded">Loaded</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col4 ref" href="#354InitLoaded" title='InitLoaded' data-ref="354InitLoaded" data-ref-filename="354InitLoaded">InitLoaded</a>, <a class="local col0 ref" href="#350BB" title='BB' data-ref="350BB" data-ref-filename="350BB">BB</a>);</td></tr>
<tr><th id="1423">1423</th><td></td></tr>
<tr><th id="1424">1424</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="356NewVal" title='NewVal' data-type='llvm::Value *' data-ref="356NewVal" data-ref-filename="356NewVal">NewVal</dfn> = <a class="local col7 ref" href="#347PerformOp" title='PerformOp' data-ref="347PerformOp" data-ref-filename="347PerformOp">PerformOp</a><a class="ref fn" href="../../include/llvm/ADT/STLExtras.h.html#_ZNK4llvm12function_refIFT_DpT0_EEclES3_" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::operator()' data-ref="_ZNK4llvm12function_refIFT_DpT0_EEclES3_" data-ref-filename="_ZNK4llvm12function_refIFT_DpT0_EEclES3_">(<a class="local col3 ref" href="#343Builder" title='Builder' data-ref="343Builder" data-ref-filename="343Builder">Builder</a>, <a class="local col5 ref" href="#355Loaded" title='Loaded' data-ref="355Loaded" data-ref-filename="355Loaded">Loaded</a>)</a>;</td></tr>
<tr><th id="1425">1425</th><td></td></tr>
<tr><th id="1426">1426</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="357NewLoaded" title='NewLoaded' data-type='llvm::Value *' data-ref="357NewLoaded" data-ref-filename="357NewLoaded">NewLoaded</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="1427">1427</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="358Success" title='Success' data-type='llvm::Value *' data-ref="358Success" data-ref-filename="358Success">Success</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="1428">1428</th><td></td></tr>
<tr><th id="1429">1429</th><td>  <a class="local col8 ref" href="#348CreateCmpXchg" title='CreateCmpXchg' data-ref="348CreateCmpXchg" data-ref-filename="348CreateCmpXchg">CreateCmpXchg</a><a class="ref fn" href="../../include/llvm/ADT/STLExtras.h.html#_ZNK4llvm12function_refIFT_DpT0_EEclES3_" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::operator()' data-ref="_ZNK4llvm12function_refIFT_DpT0_EEclES3_" data-ref-filename="_ZNK4llvm12function_refIFT_DpT0_EEclES3_">(<a class="local col3 ref" href="#343Builder" title='Builder' data-ref="343Builder" data-ref-filename="343Builder">Builder</a>, <a class="local col5 ref" href="#345Addr" title='Addr' data-ref="345Addr" data-ref-filename="345Addr">Addr</a>, <a class="local col5 ref" href="#355Loaded" title='Loaded' data-ref="355Loaded" data-ref-filename="355Loaded">Loaded</a>, <a class="local col6 ref" href="#356NewVal" title='NewVal' data-ref="356NewVal" data-ref-filename="356NewVal">NewVal</a>,</a></td></tr>
<tr><th id="1430">1430</th><td><a class="ref fn" href="../../include/llvm/ADT/STLExtras.h.html#_ZNK4llvm12function_refIFT_DpT0_EEclES3_" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::operator()' data-ref="_ZNK4llvm12function_refIFT_DpT0_EEclES3_" data-ref-filename="_ZNK4llvm12function_refIFT_DpT0_EEclES3_">                <a class="local col6 ref" href="#346MemOpOrder" title='MemOpOrder' data-ref="346MemOpOrder" data-ref-filename="346MemOpOrder">MemOpOrder</a> == <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::Unordered" title='llvm::AtomicOrdering::Unordered' data-ref="llvm::AtomicOrdering::Unordered" data-ref-filename="llvm..AtomicOrdering..Unordered">Unordered</a></a></td></tr>
<tr><th id="1431">1431</th><td><a class="ref fn" href="../../include/llvm/ADT/STLExtras.h.html#_ZNK4llvm12function_refIFT_DpT0_EEclES3_" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::operator()' data-ref="_ZNK4llvm12function_refIFT_DpT0_EEclES3_" data-ref-filename="_ZNK4llvm12function_refIFT_DpT0_EEclES3_">                    ? <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::Monotonic" title='llvm::AtomicOrdering::Monotonic' data-ref="llvm::AtomicOrdering::Monotonic" data-ref-filename="llvm..AtomicOrdering..Monotonic">Monotonic</a></a></td></tr>
<tr><th id="1432">1432</th><td><a class="ref fn" href="../../include/llvm/ADT/STLExtras.h.html#_ZNK4llvm12function_refIFT_DpT0_EEclES3_" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::operator()' data-ref="_ZNK4llvm12function_refIFT_DpT0_EEclES3_" data-ref-filename="_ZNK4llvm12function_refIFT_DpT0_EEclES3_">                    : <a class="local col6 ref" href="#346MemOpOrder" title='MemOpOrder' data-ref="346MemOpOrder" data-ref-filename="346MemOpOrder">MemOpOrder</a>,</a></td></tr>
<tr><th id="1433">1433</th><td><a class="ref fn" href="../../include/llvm/ADT/STLExtras.h.html#_ZNK4llvm12function_refIFT_DpT0_EEclES3_" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::operator()' data-ref="_ZNK4llvm12function_refIFT_DpT0_EEclES3_" data-ref-filename="_ZNK4llvm12function_refIFT_DpT0_EEclES3_">                <a class="local col8 ref" href="#358Success" title='Success' data-ref="358Success" data-ref-filename="358Success">Success</a>, <a class="local col7 ref" href="#357NewLoaded" title='NewLoaded' data-ref="357NewLoaded" data-ref-filename="357NewLoaded">NewLoaded</a>)</a>;</td></tr>
<tr><th id="1434">1434</th><td>  <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Success &amp;&amp; NewLoaded);</td></tr>
<tr><th id="1435">1435</th><td></td></tr>
<tr><th id="1436">1436</th><td>  <a class="local col5 ref" href="#355Loaded" title='Loaded' data-ref="355Loaded" data-ref-filename="355Loaded">Loaded</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" title='llvm::PHINode::addIncoming' data-ref="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE" data-ref-filename="_ZN4llvm7PHINode11addIncomingEPNS_5ValueEPNS_10BasicBlockE">addIncoming</a>(<a class="local col7 ref" href="#357NewLoaded" title='NewLoaded' data-ref="357NewLoaded" data-ref-filename="357NewLoaded">NewLoaded</a>, <a class="local col3 ref" href="#353LoopBB" title='LoopBB' data-ref="353LoopBB" data-ref-filename="353LoopBB">LoopBB</a>);</td></tr>
<tr><th id="1437">1437</th><td></td></tr>
<tr><th id="1438">1438</th><td>  <a class="local col3 ref" href="#343Builder" title='Builder' data-ref="343Builder" data-ref-filename="343Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_" title='llvm::IRBuilderBase::CreateCondBr' data-ref="_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateCondBrEPNS_5ValueEPNS_10BasicBlockES4_PNS_6MDNodeES6_">CreateCondBr</a>(<a class="local col8 ref" href="#358Success" title='Success' data-ref="358Success" data-ref-filename="358Success">Success</a>, <a class="local col2 ref" href="#352ExitBB" title='ExitBB' data-ref="352ExitBB" data-ref-filename="352ExitBB">ExitBB</a>, <a class="local col3 ref" href="#353LoopBB" title='LoopBB' data-ref="353LoopBB" data-ref-filename="353LoopBB">LoopBB</a>);</td></tr>
<tr><th id="1439">1439</th><td></td></tr>
<tr><th id="1440">1440</th><td>  <a class="local col3 ref" href="#343Builder" title='Builder' data-ref="343Builder" data-ref-filename="343Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEE" title='llvm::IRBuilderBase::SetInsertPoint' data-ref="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEE" data-ref-filename="_ZN4llvm13IRBuilderBase14SetInsertPointEPNS_10BasicBlockENS_14ilist_iteratorINS_12ilist_detail12node_optionsINS_11InstructionELb0ELb0EvEELb0ELb0EEE">SetInsertPoint</a>(<a class="local col2 ref" href="#352ExitBB" title='ExitBB' data-ref="352ExitBB" data-ref-filename="352ExitBB">ExitBB</a>, <a class="local col2 ref" href="#352ExitBB" title='ExitBB' data-ref="352ExitBB" data-ref-filename="352ExitBB">ExitBB</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock5beginEv" title='llvm::BasicBlock::begin' data-ref="_ZN4llvm10BasicBlock5beginEv" data-ref-filename="_ZN4llvm10BasicBlock5beginEv">begin</a>());</td></tr>
<tr><th id="1441">1441</th><td>  <b>return</b> <a class="local col7 ref" href="#357NewLoaded" title='NewLoaded' data-ref="357NewLoaded" data-ref-filename="357NewLoaded">NewLoaded</a>;</td></tr>
<tr><th id="1442">1442</th><td>}</td></tr>
<tr><th id="1443">1443</th><td></td></tr>
<tr><th id="1444">1444</th><td><em>bool</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand22tryExpandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::tryExpandAtomicCmpXchg' data-type='bool (anonymous namespace)::AtomicExpand::tryExpandAtomicCmpXchg(llvm::AtomicCmpXchgInst * CI)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand22tryExpandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand22tryExpandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE">tryExpandAtomicCmpXchg</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col9 decl" id="359CI" title='CI' data-type='llvm::AtomicCmpXchgInst *' data-ref="359CI" data-ref-filename="359CI">CI</dfn>) {</td></tr>
<tr><th id="1445">1445</th><td>  <em>unsigned</em> <dfn class="local col0 decl" id="360MinCASSize" title='MinCASSize' data-type='unsigned int' data-ref="360MinCASSize" data-ref-filename="360MinCASSize">MinCASSize</dfn> = <a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" title='llvm::TargetLoweringBase::getMinCmpXchgSizeInBits' data-ref="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv" data-ref-filename="_ZNK4llvm18TargetLoweringBase23getMinCmpXchgSizeInBitsEv">getMinCmpXchgSizeInBits</a>() / <var>8</var>;</td></tr>
<tr><th id="1446">1446</th><td>  <em>unsigned</em> <dfn class="local col1 decl" id="361ValueSize" title='ValueSize' data-type='unsigned int' data-ref="361ValueSize" data-ref-filename="361ValueSize">ValueSize</dfn> = <a class="tu ref fn" href="#_ZL15getAtomicOpSizePN4llvm17AtomicCmpXchgInstE" title='getAtomicOpSize' data-use='c' data-ref="_ZL15getAtomicOpSizePN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZL15getAtomicOpSizePN4llvm17AtomicCmpXchgInstE">getAtomicOpSize</a>(<a class="local col9 ref" href="#359CI" title='CI' data-ref="359CI" data-ref-filename="359CI">CI</a>);</td></tr>
<tr><th id="1447">1447</th><td></td></tr>
<tr><th id="1448">1448</th><td>  <b>switch</b> (<a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="virtual ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase29shouldExpandAtomicCmpXchgInIREPNS_17AtomicCmpXchgInstE" title='llvm::TargetLoweringBase::shouldExpandAtomicCmpXchgInIR' data-ref="_ZNK4llvm18TargetLoweringBase29shouldExpandAtomicCmpXchgInIREPNS_17AtomicCmpXchgInstE" data-ref-filename="_ZNK4llvm18TargetLoweringBase29shouldExpandAtomicCmpXchgInIREPNS_17AtomicCmpXchgInstE">shouldExpandAtomicCmpXchgInIR</a>(<a class="local col9 ref" href="#359CI" title='CI' data-ref="359CI" data-ref-filename="359CI">CI</a>)) {</td></tr>
<tr><th id="1449">1449</th><td>  <b>default</b>:</td></tr>
<tr><th id="1450">1450</th><td>    <a class="macro" href="../../include/llvm/Support/ErrorHandling.h.html#139" title="__builtin_unreachable()" data-ref="_M/llvm_unreachable">llvm_unreachable</a>(<q>"Unhandled case in tryExpandAtomicCmpXchg"</q>);</td></tr>
<tr><th id="1451">1451</th><td>  <b>case</b> <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::None" title='llvm::TargetLoweringBase::AtomicExpansionKind::None' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::None" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..None">None</a>:</td></tr>
<tr><th id="1452">1452</th><td>    <b>if</b> (<a class="local col1 ref" href="#361ValueSize" title='ValueSize' data-ref="361ValueSize" data-ref-filename="361ValueSize">ValueSize</a> &lt; <a class="local col0 ref" href="#360MinCASSize" title='MinCASSize' data-ref="360MinCASSize" data-ref-filename="360MinCASSize">MinCASSize</a>)</td></tr>
<tr><th id="1453">1453</th><td>      <b>return</b> <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand21expandPartwordCmpXchgEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::expandPartwordCmpXchg' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand21expandPartwordCmpXchgEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand21expandPartwordCmpXchgEPN4llvm17AtomicCmpXchgInstE">expandPartwordCmpXchg</a>(<a class="local col9 ref" href="#359CI" title='CI' data-ref="359CI" data-ref-filename="359CI">CI</a>);</td></tr>
<tr><th id="1454">1454</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1455">1455</th><td>  <b>case</b> <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::LLSC" title='llvm::TargetLoweringBase::AtomicExpansionKind::LLSC' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::LLSC" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..LLSC">LLSC</a>: {</td></tr>
<tr><th id="1456">1456</th><td>    <b>return</b> <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand19expandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicCmpXchg' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand19expandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand19expandAtomicCmpXchgEPN4llvm17AtomicCmpXchgInstE">expandAtomicCmpXchg</a>(<a class="local col9 ref" href="#359CI" title='CI' data-ref="359CI" data-ref-filename="359CI">CI</a>);</td></tr>
<tr><th id="1457">1457</th><td>  }</td></tr>
<tr><th id="1458">1458</th><td>  <b>case</b> <a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase" title='llvm::TargetLoweringBase' data-ref="llvm::TargetLoweringBase" data-ref-filename="llvm..TargetLoweringBase">TargetLoweringBase</a>::<a class="type" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind" title='llvm::TargetLoweringBase::AtomicExpansionKind' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind">AtomicExpansionKind</a>::<a class="enum" href="../../include/llvm/CodeGen/TargetLowering.h.html#llvm::TargetLoweringBase::AtomicExpansionKind::MaskedIntrinsic" title='llvm::TargetLoweringBase::AtomicExpansionKind::MaskedIntrinsic' data-ref="llvm::TargetLoweringBase::AtomicExpansionKind::MaskedIntrinsic" data-ref-filename="llvm..TargetLoweringBase..AtomicExpansionKind..MaskedIntrinsic">MaskedIntrinsic</a>:</td></tr>
<tr><th id="1459">1459</th><td>    <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand36expandAtomicCmpXchgToMaskedIntrinsicEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicCmpXchgToMaskedIntrinsic' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand36expandAtomicCmpXchgToMaskedIntrinsicEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand36expandAtomicCmpXchgToMaskedIntrinsicEPN4llvm17AtomicCmpXchgInstE">expandAtomicCmpXchgToMaskedIntrinsic</a>(<a class="local col9 ref" href="#359CI" title='CI' data-ref="359CI" data-ref-filename="359CI">CI</a>);</td></tr>
<tr><th id="1460">1460</th><td>    <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1461">1461</th><td>  }</td></tr>
<tr><th id="1462">1462</th><td>}</td></tr>
<tr><th id="1463">1463</th><td></td></tr>
<tr><th id="1464">1464</th><td><i>// Note: This function is exposed externally by AtomicExpandUtils.h</i></td></tr>
<tr><th id="1465">1465</th><td><em>bool</em> <span class="namespace">llvm::</span><dfn class="decl def fn" id="_ZN4llvm24expandAtomicRMWToCmpXchgEPNS_13AtomicRMWInstENS_12function_refIFvRNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5Val2205004" title='llvm::expandAtomicRMWToCmpXchg' data-ref="_ZN4llvm24expandAtomicRMWToCmpXchgEPNS_13AtomicRMWInstENS_12function_refIFvRNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5Val2205004" data-ref-filename="_ZN4llvm24expandAtomicRMWToCmpXchgEPNS_13AtomicRMWInstENS_12function_refIFvRNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5Val2205004">expandAtomicRMWToCmpXchg</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col2 decl" id="362AI" title='AI' data-type='llvm::AtomicRMWInst *' data-ref="362AI" data-ref-filename="362AI">AI</dfn>,</td></tr>
<tr><th id="1466">1466</th><td>                                    <a class="typedef" href="../../include/llvm/CodeGen/AtomicExpandUtils.h.html#llvm::CreateCmpXchgInstFun" title='llvm::CreateCmpXchgInstFun' data-type='function_ref&lt;void (IRBuilder&lt;&gt; &amp;, llvm::Value *, llvm::Value *, llvm::Value *, llvm::AtomicOrdering, llvm::Value *&amp;, llvm::Value *&amp;)&gt;' data-ref="llvm::CreateCmpXchgInstFun" data-ref-filename="llvm..CreateCmpXchgInstFun">CreateCmpXchgInstFun</a> <dfn class="local col3 decl" id="363CreateCmpXchg" title='CreateCmpXchg' data-type='llvm::CreateCmpXchgInstFun' data-ref="363CreateCmpXchg" data-ref-filename="363CreateCmpXchg">CreateCmpXchg</dfn>) {</td></tr>
<tr><th id="1467">1467</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col4 decl" id="364Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="364Builder" data-ref-filename="364Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col2 ref" href="#362AI" title='AI' data-ref="362AI" data-ref-filename="362AI">AI</a>);</td></tr>
<tr><th id="1468">1468</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="365Loaded" title='Loaded' data-type='llvm::Value *' data-ref="365Loaded" data-ref-filename="365Loaded">Loaded</dfn> = <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<a class="tu ref fn" href="#_ZN12_GLOBAL__N_112AtomicExpand20insertRMWCmpXchgLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueEN6117739" title='(anonymous namespace)::AtomicExpand::insertRMWCmpXchgLoop' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand20insertRMWCmpXchgLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueEN6117739" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand20insertRMWCmpXchgLoopERN4llvm9IRBuilderINS1_14ConstantFolderENS1_24IRBuilderDefaultInserterEEEPNS1_4TypeEPNS1_5ValueEN6117739">insertRMWCmpXchgLoop</a>(</td></tr>
<tr><th id="1469">1469</th><td>      <span class='refarg'><a class="local col4 ref" href="#364Builder" title='Builder' data-ref="364Builder" data-ref-filename="364Builder">Builder</a></span>, <a class="local col2 ref" href="#362AI" title='AI' data-ref="362AI" data-ref-filename="362AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col2 ref" href="#362AI" title='AI' data-ref="362AI" data-ref-filename="362AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst17getPointerOperandEv" title='llvm::AtomicRMWInst::getPointerOperand' data-ref="_ZN4llvm13AtomicRMWInst17getPointerOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst17getPointerOperandEv">getPointerOperand</a>(), <a class="local col2 ref" href="#362AI" title='AI' data-ref="362AI" data-ref-filename="362AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst11getOrderingEv" title='llvm::AtomicRMWInst::getOrdering' data-ref="_ZNK4llvm13AtomicRMWInst11getOrderingEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst11getOrderingEv">getOrdering</a>(),</td></tr>
<tr><th id="1470">1470</th><td>      <a class="tu ref fn fake" href="../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-use='c' data-ref="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" data-ref-filename="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931"></a>[&amp;](<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col6 decl" id="366Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="366Builder" data-ref-filename="366Builder">Builder</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="367Loaded" title='Loaded' data-type='llvm::Value *' data-ref="367Loaded" data-ref-filename="367Loaded">Loaded</dfn>) {</td></tr>
<tr><th id="1471">1471</th><td>        <b>return</b> <a class="tu ref fn" href="#_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_" title='performAtomicOp' data-use='c' data-ref="_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_" data-ref-filename="_ZL15performAtomicOpN4llvm13AtomicRMWInst5BinOpERNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES8_">performAtomicOp</a>(<a class="local col2 ref" href="#362AI" title='AI' data-ref="362AI" data-ref-filename="362AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst12getOperationEv" title='llvm::AtomicRMWInst::getOperation' data-ref="_ZNK4llvm13AtomicRMWInst12getOperationEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst12getOperationEv">getOperation</a>(), <span class='refarg'><a class="local col6 ref" href="#366Builder" title='Builder' data-ref="366Builder" data-ref-filename="366Builder">Builder</a></span>, <a class="local col7 ref" href="#367Loaded" title='Loaded' data-ref="367Loaded" data-ref-filename="367Loaded">Loaded</a>,</td></tr>
<tr><th id="1472">1472</th><td>                               <a class="local col2 ref" href="#362AI" title='AI' data-ref="362AI" data-ref-filename="362AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst13getValOperandEv" title='llvm::AtomicRMWInst::getValOperand' data-ref="_ZN4llvm13AtomicRMWInst13getValOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst13getValOperandEv">getValOperand</a>());</td></tr>
<tr><th id="1473">1473</th><td>      },</td></tr>
<tr><th id="1474">1474</th><td>      <a class="ref fn fake" href="../../include/llvm/ADT/STLExtras.h.html#179" title='llvm::function_ref&lt;void (llvm::IRBuilder&lt;llvm::ConstantFolder, llvm::IRBuilderDefaultInserter&gt; &amp;, llvm::Value *, llvm::Value *, llvm::Value *, llvm::AtomicOrdering, llvm::Value *&amp;, llvm::Value *&amp;)&gt;::function_ref' data-ref="_ZN4llvm12function_refIFvRNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES7_S7_NS_14AtomicOrderingERS7_S9_EEC1ERKSB_" data-ref-filename="_ZN4llvm12function_refIFvRNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5ValueES7_S7_NS_14AtomicOrderingERS7_S9_EEC1ERKSB_"></a><a class="local col3 ref" href="#363CreateCmpXchg" title='CreateCmpXchg' data-ref="363CreateCmpXchg" data-ref-filename="363CreateCmpXchg">CreateCmpXchg</a>);</td></tr>
<tr><th id="1475">1475</th><td></td></tr>
<tr><th id="1476">1476</th><td>  <a class="local col2 ref" href="#362AI" title='AI' data-ref="362AI" data-ref-filename="362AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col5 ref" href="#365Loaded" title='Loaded' data-ref="365Loaded" data-ref-filename="365Loaded">Loaded</a>);</td></tr>
<tr><th id="1477">1477</th><td>  <a class="local col2 ref" href="#362AI" title='AI' data-ref="362AI" data-ref-filename="362AI">AI</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="1478">1478</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1479">1479</th><td>}</td></tr>
<tr><th id="1480">1480</th><td></td></tr>
<tr><th id="1481">1481</th><td><i  data-doc="_ZL21canUseSizedAtomicCalljN4llvm5AlignERKNS_10DataLayoutE">// In order to use one of the sized library calls such as</i></td></tr>
<tr><th id="1482">1482</th><td><i  data-doc="_ZL21canUseSizedAtomicCalljN4llvm5AlignERKNS_10DataLayoutE">// __atomic_fetch_add_4, the alignment must be sufficient, the size</i></td></tr>
<tr><th id="1483">1483</th><td><i  data-doc="_ZL21canUseSizedAtomicCalljN4llvm5AlignERKNS_10DataLayoutE">// must be one of the potentially-specialized sizes, and the value</i></td></tr>
<tr><th id="1484">1484</th><td><i  data-doc="_ZL21canUseSizedAtomicCalljN4llvm5AlignERKNS_10DataLayoutE">// type must actually exist in C on the target (otherwise, the</i></td></tr>
<tr><th id="1485">1485</th><td><i  data-doc="_ZL21canUseSizedAtomicCalljN4llvm5AlignERKNS_10DataLayoutE">// function wouldn't actually be defined.)</i></td></tr>
<tr><th id="1486">1486</th><td><em>static</em> <em>bool</em> <dfn class="tu decl def fn" id="_ZL21canUseSizedAtomicCalljN4llvm5AlignERKNS_10DataLayoutE" title='canUseSizedAtomicCall' data-type='bool canUseSizedAtomicCall(unsigned int Size, llvm::Align Alignment, const llvm::DataLayout &amp; DL)' data-ref="_ZL21canUseSizedAtomicCalljN4llvm5AlignERKNS_10DataLayoutE" data-ref-filename="_ZL21canUseSizedAtomicCalljN4llvm5AlignERKNS_10DataLayoutE">canUseSizedAtomicCall</dfn>(<em>unsigned</em> <dfn class="local col8 decl" id="368Size" title='Size' data-type='unsigned int' data-ref="368Size" data-ref-filename="368Size">Size</dfn>, <a class="type" href="../../include/llvm/Support/Alignment.h.html#llvm::Align" title='llvm::Align' data-ref="llvm::Align" data-ref-filename="llvm..Align">Align</a> <dfn class="local col9 decl" id="369Alignment" title='Alignment' data-type='llvm::Align' data-ref="369Alignment" data-ref-filename="369Alignment">Alignment</dfn>,</td></tr>
<tr><th id="1487">1487</th><td>                                  <em>const</em> <a class="type" href="../../include/llvm/IR/DataLayout.h.html#llvm::DataLayout" title='llvm::DataLayout' data-ref="llvm::DataLayout" data-ref-filename="llvm..DataLayout">DataLayout</a> &amp;<dfn class="local col0 decl" id="370DL" title='DL' data-type='const llvm::DataLayout &amp;' data-ref="370DL" data-ref-filename="370DL">DL</dfn>) {</td></tr>
<tr><th id="1488">1488</th><td>  <i>// TODO: "LargestSize" is an approximation for "largest type that</i></td></tr>
<tr><th id="1489">1489</th><td><i>  // you can express in C". It seems to be the case that int128 is</i></td></tr>
<tr><th id="1490">1490</th><td><i>  // supported on all 64-bit platforms, otherwise only up to 64-bit</i></td></tr>
<tr><th id="1491">1491</th><td><i>  // integers are supported. If we get this wrong, then we'll try to</i></td></tr>
<tr><th id="1492">1492</th><td><i>  // call a sized libcall that doesn't actually exist. There should</i></td></tr>
<tr><th id="1493">1493</th><td><i>  // really be some more reliable way in LLVM of determining integer</i></td></tr>
<tr><th id="1494">1494</th><td><i>  // sizes which are valid in the target's C ABI...</i></td></tr>
<tr><th id="1495">1495</th><td>  <em>unsigned</em> <dfn class="local col1 decl" id="371LargestSize" title='LargestSize' data-type='unsigned int' data-ref="371LargestSize" data-ref-filename="371LargestSize">LargestSize</dfn> = <a class="local col0 ref" href="#370DL" title='DL' data-ref="370DL" data-ref-filename="370DL">DL</a>.<a class="ref fn" href="../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout32getLargestLegalIntTypeSizeInBitsEv" title='llvm::DataLayout::getLargestLegalIntTypeSizeInBits' data-ref="_ZNK4llvm10DataLayout32getLargestLegalIntTypeSizeInBitsEv" data-ref-filename="_ZNK4llvm10DataLayout32getLargestLegalIntTypeSizeInBitsEv">getLargestLegalIntTypeSizeInBits</a>() &gt;= <var>64</var> ? <var>16</var> : <var>8</var>;</td></tr>
<tr><th id="1496">1496</th><td>  <b>return</b> <a class="ref fn fake" href="../../include/llvm/Support/Alignment.h.html#_ZN4llvm5AlignC1ERKS0_" title='llvm::Align::Align' data-ref="_ZN4llvm5AlignC1ERKS0_" data-ref-filename="_ZN4llvm5AlignC1ERKS0_"></a><a class="local col9 ref" href="#369Alignment" title='Alignment' data-ref="369Alignment" data-ref-filename="369Alignment">Alignment</a> <a class="ref fn" href="../../include/llvm/Support/Alignment.h.html#_ZN4llvmgeENS_5AlignEm" title='llvm::operator&gt;=' data-ref="_ZN4llvmgeENS_5AlignEm" data-ref-filename="_ZN4llvmgeENS_5AlignEm">&gt;=</a> <a class="local col8 ref" href="#368Size" title='Size' data-ref="368Size" data-ref-filename="368Size">Size</a> &amp;&amp;</td></tr>
<tr><th id="1497">1497</th><td>         (<a class="local col8 ref" href="#368Size" title='Size' data-ref="368Size" data-ref-filename="368Size">Size</a> == <var>1</var> || <a class="local col8 ref" href="#368Size" title='Size' data-ref="368Size" data-ref-filename="368Size">Size</a> == <var>2</var> || <a class="local col8 ref" href="#368Size" title='Size' data-ref="368Size" data-ref-filename="368Size">Size</a> == <var>4</var> || <a class="local col8 ref" href="#368Size" title='Size' data-ref="368Size" data-ref-filename="368Size">Size</a> == <var>8</var> || <a class="local col8 ref" href="#368Size" title='Size' data-ref="368Size" data-ref-filename="368Size">Size</a> == <var>16</var>) &amp;&amp;</td></tr>
<tr><th id="1498">1498</th><td>         <a class="local col8 ref" href="#368Size" title='Size' data-ref="368Size" data-ref-filename="368Size">Size</a> &lt;= <a class="local col1 ref" href="#371LargestSize" title='LargestSize' data-ref="371LargestSize" data-ref-filename="371LargestSize">LargestSize</a>;</td></tr>
<tr><th id="1499">1499</th><td>}</td></tr>
<tr><th id="1500">1500</th><td></td></tr>
<tr><th id="1501">1501</th><td><em>void</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToLibcallEPN4llvm8LoadInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicLoadToLibcall' data-type='void (anonymous namespace)::AtomicExpand::expandAtomicLoadToLibcall(llvm::LoadInst * I)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToLibcallEPN4llvm8LoadInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand25expandAtomicLoadToLibcallEPN4llvm8LoadInstE">expandAtomicLoadToLibcall</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::LoadInst" title='llvm::LoadInst' data-ref="llvm::LoadInst" data-ref-filename="llvm..LoadInst">LoadInst</a> *<dfn class="local col2 decl" id="372I" title='I' data-type='llvm::LoadInst *' data-ref="372I" data-ref-filename="372I">I</dfn>) {</td></tr>
<tr><th id="1502">1502</th><td>  <em>static</em> <em>const</em> <span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a> <dfn class="local col3 decl" id="373Libcalls" title='Libcalls' data-type='const RTLIB::Libcall [6]' data-ref="373Libcalls" data-ref-filename="373Libcalls">Libcalls</dfn>[<var>6</var>] = {</td></tr>
<tr><th id="1503">1503</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#502" title='llvm::RTLIB::ATOMIC_LOAD' data-ref="llvm::RTLIB::ATOMIC_LOAD" data-ref-filename="llvm..RTLIB..ATOMIC_LOAD">ATOMIC_LOAD</a>,   <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#503" title='llvm::RTLIB::ATOMIC_LOAD_1' data-ref="llvm::RTLIB::ATOMIC_LOAD_1" data-ref-filename="llvm..RTLIB..ATOMIC_LOAD_1">ATOMIC_LOAD_1</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#504" title='llvm::RTLIB::ATOMIC_LOAD_2' data-ref="llvm::RTLIB::ATOMIC_LOAD_2" data-ref-filename="llvm..RTLIB..ATOMIC_LOAD_2">ATOMIC_LOAD_2</a>,</td></tr>
<tr><th id="1504">1504</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#505" title='llvm::RTLIB::ATOMIC_LOAD_4' data-ref="llvm::RTLIB::ATOMIC_LOAD_4" data-ref-filename="llvm..RTLIB..ATOMIC_LOAD_4">ATOMIC_LOAD_4</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#506" title='llvm::RTLIB::ATOMIC_LOAD_8' data-ref="llvm::RTLIB::ATOMIC_LOAD_8" data-ref-filename="llvm..RTLIB..ATOMIC_LOAD_8">ATOMIC_LOAD_8</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#507" title='llvm::RTLIB::ATOMIC_LOAD_16' data-ref="llvm::RTLIB::ATOMIC_LOAD_16" data-ref-filename="llvm..RTLIB..ATOMIC_LOAD_16">ATOMIC_LOAD_16</a>};</td></tr>
<tr><th id="1505">1505</th><td>  <em>unsigned</em> <dfn class="local col4 decl" id="374Size" title='Size' data-type='unsigned int' data-ref="374Size" data-ref-filename="374Size">Size</dfn> = <a class="tu ref fn" href="#_ZL15getAtomicOpSizePN4llvm8LoadInstE" title='getAtomicOpSize' data-use='c' data-ref="_ZL15getAtomicOpSizePN4llvm8LoadInstE" data-ref-filename="_ZL15getAtomicOpSizePN4llvm8LoadInstE">getAtomicOpSize</a>(<a class="local col2 ref" href="#372I" title='I' data-ref="372I" data-ref-filename="372I">I</a>);</td></tr>
<tr><th id="1506">1506</th><td></td></tr>
<tr><th id="1507">1507</th><td>  <em>bool</em> <dfn class="local col5 decl" id="375expanded" title='expanded' data-type='bool' data-ref="375expanded" data-ref-filename="375expanded">expanded</dfn> = <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE" title='(anonymous namespace)::AtomicExpand::expandAtomicOpToLibcall' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE">expandAtomicOpToLibcall</a>(</td></tr>
<tr><th id="1508">1508</th><td>      <a class="local col2 ref" href="#372I" title='I' data-ref="372I" data-ref-filename="372I">I</a>, <a class="local col4 ref" href="#374Size" title='Size' data-ref="374Size" data-ref-filename="374Size">Size</a>, <a class="local col2 ref" href="#372I" title='I' data-ref="372I" data-ref-filename="372I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm8LoadInst8getAlignEv" title='llvm::LoadInst::getAlign' data-ref="_ZNK4llvm8LoadInst8getAlignEv" data-ref-filename="_ZNK4llvm8LoadInst8getAlignEv">getAlign</a>(), <a class="local col2 ref" href="#372I" title='I' data-ref="372I" data-ref-filename="372I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm8LoadInst17getPointerOperandEv" title='llvm::LoadInst::getPointerOperand' data-ref="_ZN4llvm8LoadInst17getPointerOperandEv" data-ref-filename="_ZN4llvm8LoadInst17getPointerOperandEv">getPointerOperand</a>(), <b>nullptr</b>, <b>nullptr</b>,</td></tr>
<tr><th id="1509">1509</th><td>      <a class="local col2 ref" href="#372I" title='I' data-ref="372I" data-ref-filename="372I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm8LoadInst11getOrderingEv" title='llvm::LoadInst::getOrdering' data-ref="_ZNK4llvm8LoadInst11getOrderingEv" data-ref-filename="_ZNK4llvm8LoadInst11getOrderingEv">getOrdering</a>(), <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::NotAtomic" title='llvm::AtomicOrdering::NotAtomic' data-ref="llvm::AtomicOrdering::NotAtomic" data-ref-filename="llvm..AtomicOrdering..NotAtomic">NotAtomic</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERATL0___KT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERATL0___KT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERATL0___KT_"></a><a class="local col3 ref" href="#373Libcalls" title='Libcalls' data-ref="373Libcalls" data-ref-filename="373Libcalls">Libcalls</a>);</td></tr>
<tr><th id="1510">1510</th><td>  <b>if</b> (!<a class="local col5 ref" href="#375expanded" title='expanded' data-ref="375expanded" data-ref-filename="375expanded">expanded</a>)</td></tr>
<tr><th id="1511">1511</th><td>    <a class="ref fn" href="../../include/llvm/Support/ErrorHandling.h.html#_ZN4llvm18report_fatal_errorEPKcb" title='llvm::report_fatal_error' data-ref="_ZN4llvm18report_fatal_errorEPKcb" data-ref-filename="_ZN4llvm18report_fatal_errorEPKcb">report_fatal_error</a>(<q>"expandAtomicOpToLibcall shouldn't fail for Load"</q>);</td></tr>
<tr><th id="1512">1512</th><td>}</td></tr>
<tr><th id="1513">1513</th><td></td></tr>
<tr><th id="1514">1514</th><td><em>void</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand26expandAtomicStoreToLibcallEPN4llvm9StoreInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicStoreToLibcall' data-type='void (anonymous namespace)::AtomicExpand::expandAtomicStoreToLibcall(llvm::StoreInst * I)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand26expandAtomicStoreToLibcallEPN4llvm9StoreInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand26expandAtomicStoreToLibcallEPN4llvm9StoreInstE">expandAtomicStoreToLibcall</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::StoreInst" title='llvm::StoreInst' data-ref="llvm::StoreInst" data-ref-filename="llvm..StoreInst">StoreInst</a> *<dfn class="local col6 decl" id="376I" title='I' data-type='llvm::StoreInst *' data-ref="376I" data-ref-filename="376I">I</dfn>) {</td></tr>
<tr><th id="1515">1515</th><td>  <em>static</em> <em>const</em> <span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a> <dfn class="local col7 decl" id="377Libcalls" title='Libcalls' data-type='const RTLIB::Libcall [6]' data-ref="377Libcalls" data-ref-filename="377Libcalls">Libcalls</dfn>[<var>6</var>] = {</td></tr>
<tr><th id="1516">1516</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#509" title='llvm::RTLIB::ATOMIC_STORE' data-ref="llvm::RTLIB::ATOMIC_STORE" data-ref-filename="llvm..RTLIB..ATOMIC_STORE">ATOMIC_STORE</a>,   <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#510" title='llvm::RTLIB::ATOMIC_STORE_1' data-ref="llvm::RTLIB::ATOMIC_STORE_1" data-ref-filename="llvm..RTLIB..ATOMIC_STORE_1">ATOMIC_STORE_1</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#511" title='llvm::RTLIB::ATOMIC_STORE_2' data-ref="llvm::RTLIB::ATOMIC_STORE_2" data-ref-filename="llvm..RTLIB..ATOMIC_STORE_2">ATOMIC_STORE_2</a>,</td></tr>
<tr><th id="1517">1517</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#512" title='llvm::RTLIB::ATOMIC_STORE_4' data-ref="llvm::RTLIB::ATOMIC_STORE_4" data-ref-filename="llvm..RTLIB..ATOMIC_STORE_4">ATOMIC_STORE_4</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#513" title='llvm::RTLIB::ATOMIC_STORE_8' data-ref="llvm::RTLIB::ATOMIC_STORE_8" data-ref-filename="llvm..RTLIB..ATOMIC_STORE_8">ATOMIC_STORE_8</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#514" title='llvm::RTLIB::ATOMIC_STORE_16' data-ref="llvm::RTLIB::ATOMIC_STORE_16" data-ref-filename="llvm..RTLIB..ATOMIC_STORE_16">ATOMIC_STORE_16</a>};</td></tr>
<tr><th id="1518">1518</th><td>  <em>unsigned</em> <dfn class="local col8 decl" id="378Size" title='Size' data-type='unsigned int' data-ref="378Size" data-ref-filename="378Size">Size</dfn> = <a class="tu ref fn" href="#_ZL15getAtomicOpSizePN4llvm9StoreInstE" title='getAtomicOpSize' data-use='c' data-ref="_ZL15getAtomicOpSizePN4llvm9StoreInstE" data-ref-filename="_ZL15getAtomicOpSizePN4llvm9StoreInstE">getAtomicOpSize</a>(<a class="local col6 ref" href="#376I" title='I' data-ref="376I" data-ref-filename="376I">I</a>);</td></tr>
<tr><th id="1519">1519</th><td></td></tr>
<tr><th id="1520">1520</th><td>  <em>bool</em> <dfn class="local col9 decl" id="379expanded" title='expanded' data-type='bool' data-ref="379expanded" data-ref-filename="379expanded">expanded</dfn> = <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE" title='(anonymous namespace)::AtomicExpand::expandAtomicOpToLibcall' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE">expandAtomicOpToLibcall</a>(</td></tr>
<tr><th id="1521">1521</th><td>      <a class="local col6 ref" href="#376I" title='I' data-ref="376I" data-ref-filename="376I">I</a>, <a class="local col8 ref" href="#378Size" title='Size' data-ref="378Size" data-ref-filename="378Size">Size</a>, <a class="local col6 ref" href="#376I" title='I' data-ref="376I" data-ref-filename="376I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm9StoreInst8getAlignEv" title='llvm::StoreInst::getAlign' data-ref="_ZNK4llvm9StoreInst8getAlignEv" data-ref-filename="_ZNK4llvm9StoreInst8getAlignEv">getAlign</a>(), <a class="local col6 ref" href="#376I" title='I' data-ref="376I" data-ref-filename="376I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm9StoreInst17getPointerOperandEv" title='llvm::StoreInst::getPointerOperand' data-ref="_ZN4llvm9StoreInst17getPointerOperandEv" data-ref-filename="_ZN4llvm9StoreInst17getPointerOperandEv">getPointerOperand</a>(), <a class="local col6 ref" href="#376I" title='I' data-ref="376I" data-ref-filename="376I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm9StoreInst15getValueOperandEv" title='llvm::StoreInst::getValueOperand' data-ref="_ZN4llvm9StoreInst15getValueOperandEv" data-ref-filename="_ZN4llvm9StoreInst15getValueOperandEv">getValueOperand</a>(),</td></tr>
<tr><th id="1522">1522</th><td>      <b>nullptr</b>, <a class="local col6 ref" href="#376I" title='I' data-ref="376I" data-ref-filename="376I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm9StoreInst11getOrderingEv" title='llvm::StoreInst::getOrdering' data-ref="_ZNK4llvm9StoreInst11getOrderingEv" data-ref-filename="_ZNK4llvm9StoreInst11getOrderingEv">getOrdering</a>(), <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::NotAtomic" title='llvm::AtomicOrdering::NotAtomic' data-ref="llvm::AtomicOrdering::NotAtomic" data-ref-filename="llvm..AtomicOrdering..NotAtomic">NotAtomic</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERATL0___KT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERATL0___KT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERATL0___KT_"></a><a class="local col7 ref" href="#377Libcalls" title='Libcalls' data-ref="377Libcalls" data-ref-filename="377Libcalls">Libcalls</a>);</td></tr>
<tr><th id="1523">1523</th><td>  <b>if</b> (!<a class="local col9 ref" href="#379expanded" title='expanded' data-ref="379expanded" data-ref-filename="379expanded">expanded</a>)</td></tr>
<tr><th id="1524">1524</th><td>    <a class="ref fn" href="../../include/llvm/Support/ErrorHandling.h.html#_ZN4llvm18report_fatal_errorEPKcb" title='llvm::report_fatal_error' data-ref="_ZN4llvm18report_fatal_errorEPKcb" data-ref-filename="_ZN4llvm18report_fatal_errorEPKcb">report_fatal_error</a>(<q>"expandAtomicOpToLibcall shouldn't fail for Store"</q>);</td></tr>
<tr><th id="1525">1525</th><td>}</td></tr>
<tr><th id="1526">1526</th><td></td></tr>
<tr><th id="1527">1527</th><td><em>void</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicCASToLibcallEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicCASToLibcall' data-type='void (anonymous namespace)::AtomicExpand::expandAtomicCASToLibcall(llvm::AtomicCmpXchgInst * I)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicCASToLibcallEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicCASToLibcallEPN4llvm17AtomicCmpXchgInstE">expandAtomicCASToLibcall</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col0 decl" id="380I" title='I' data-type='llvm::AtomicCmpXchgInst *' data-ref="380I" data-ref-filename="380I">I</dfn>) {</td></tr>
<tr><th id="1528">1528</th><td>  <em>static</em> <em>const</em> <span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a> <dfn class="local col1 decl" id="381Libcalls" title='Libcalls' data-type='const RTLIB::Libcall [6]' data-ref="381Libcalls" data-ref-filename="381Libcalls">Libcalls</dfn>[<var>6</var>] = {</td></tr>
<tr><th id="1529">1529</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#523" title='llvm::RTLIB::ATOMIC_COMPARE_EXCHANGE' data-ref="llvm::RTLIB::ATOMIC_COMPARE_EXCHANGE" data-ref-filename="llvm..RTLIB..ATOMIC_COMPARE_EXCHANGE">ATOMIC_COMPARE_EXCHANGE</a>,   <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#524" title='llvm::RTLIB::ATOMIC_COMPARE_EXCHANGE_1' data-ref="llvm::RTLIB::ATOMIC_COMPARE_EXCHANGE_1" data-ref-filename="llvm..RTLIB..ATOMIC_COMPARE_EXCHANGE_1">ATOMIC_COMPARE_EXCHANGE_1</a>,</td></tr>
<tr><th id="1530">1530</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#525" title='llvm::RTLIB::ATOMIC_COMPARE_EXCHANGE_2' data-ref="llvm::RTLIB::ATOMIC_COMPARE_EXCHANGE_2" data-ref-filename="llvm..RTLIB..ATOMIC_COMPARE_EXCHANGE_2">ATOMIC_COMPARE_EXCHANGE_2</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#526" title='llvm::RTLIB::ATOMIC_COMPARE_EXCHANGE_4' data-ref="llvm::RTLIB::ATOMIC_COMPARE_EXCHANGE_4" data-ref-filename="llvm..RTLIB..ATOMIC_COMPARE_EXCHANGE_4">ATOMIC_COMPARE_EXCHANGE_4</a>,</td></tr>
<tr><th id="1531">1531</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#527" title='llvm::RTLIB::ATOMIC_COMPARE_EXCHANGE_8' data-ref="llvm::RTLIB::ATOMIC_COMPARE_EXCHANGE_8" data-ref-filename="llvm..RTLIB..ATOMIC_COMPARE_EXCHANGE_8">ATOMIC_COMPARE_EXCHANGE_8</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#528" title='llvm::RTLIB::ATOMIC_COMPARE_EXCHANGE_16' data-ref="llvm::RTLIB::ATOMIC_COMPARE_EXCHANGE_16" data-ref-filename="llvm..RTLIB..ATOMIC_COMPARE_EXCHANGE_16">ATOMIC_COMPARE_EXCHANGE_16</a>};</td></tr>
<tr><th id="1532">1532</th><td>  <em>unsigned</em> <dfn class="local col2 decl" id="382Size" title='Size' data-type='unsigned int' data-ref="382Size" data-ref-filename="382Size">Size</dfn> = <a class="tu ref fn" href="#_ZL15getAtomicOpSizePN4llvm17AtomicCmpXchgInstE" title='getAtomicOpSize' data-use='c' data-ref="_ZL15getAtomicOpSizePN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZL15getAtomicOpSizePN4llvm17AtomicCmpXchgInstE">getAtomicOpSize</a>(<a class="local col0 ref" href="#380I" title='I' data-ref="380I" data-ref-filename="380I">I</a>);</td></tr>
<tr><th id="1533">1533</th><td></td></tr>
<tr><th id="1534">1534</th><td>  <em>bool</em> <dfn class="local col3 decl" id="383expanded" title='expanded' data-type='bool' data-ref="383expanded" data-ref-filename="383expanded">expanded</dfn> = <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE" title='(anonymous namespace)::AtomicExpand::expandAtomicOpToLibcall' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE">expandAtomicOpToLibcall</a>(</td></tr>
<tr><th id="1535">1535</th><td>      <a class="local col0 ref" href="#380I" title='I' data-ref="380I" data-ref-filename="380I">I</a>, <a class="local col2 ref" href="#382Size" title='Size' data-ref="382Size" data-ref-filename="382Size">Size</a>, <a class="local col0 ref" href="#380I" title='I' data-ref="380I" data-ref-filename="380I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst8getAlignEv" title='llvm::AtomicCmpXchgInst::getAlign' data-ref="_ZNK4llvm17AtomicCmpXchgInst8getAlignEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst8getAlignEv">getAlign</a>(), <a class="local col0 ref" href="#380I" title='I' data-ref="380I" data-ref-filename="380I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv" title='llvm::AtomicCmpXchgInst::getPointerOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getPointerOperandEv">getPointerOperand</a>(), <a class="local col0 ref" href="#380I" title='I' data-ref="380I" data-ref-filename="380I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv" title='llvm::AtomicCmpXchgInst::getNewValOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst16getNewValOperandEv">getNewValOperand</a>(),</td></tr>
<tr><th id="1536">1536</th><td>      <a class="local col0 ref" href="#380I" title='I' data-ref="380I" data-ref-filename="380I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" title='llvm::AtomicCmpXchgInst::getCompareOperand' data-ref="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst17getCompareOperandEv">getCompareOperand</a>(), <a class="local col0 ref" href="#380I" title='I' data-ref="380I" data-ref-filename="380I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" title='llvm::AtomicCmpXchgInst::getSuccessOrdering' data-ref="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst18getSuccessOrderingEv">getSuccessOrdering</a>(), <a class="local col0 ref" href="#380I" title='I' data-ref="380I" data-ref-filename="380I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm17AtomicCmpXchgInst18getFailureOrderingEv" title='llvm::AtomicCmpXchgInst::getFailureOrdering' data-ref="_ZNK4llvm17AtomicCmpXchgInst18getFailureOrderingEv" data-ref-filename="_ZNK4llvm17AtomicCmpXchgInst18getFailureOrderingEv">getFailureOrdering</a>(),</td></tr>
<tr><th id="1537">1537</th><td>      <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERATL0___KT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERATL0___KT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERATL0___KT_"></a><a class="local col1 ref" href="#381Libcalls" title='Libcalls' data-ref="381Libcalls" data-ref-filename="381Libcalls">Libcalls</a>);</td></tr>
<tr><th id="1538">1538</th><td>  <b>if</b> (!<a class="local col3 ref" href="#383expanded" title='expanded' data-ref="383expanded" data-ref-filename="383expanded">expanded</a>)</td></tr>
<tr><th id="1539">1539</th><td>    <a class="ref fn" href="../../include/llvm/Support/ErrorHandling.h.html#_ZN4llvm18report_fatal_errorEPKcb" title='llvm::report_fatal_error' data-ref="_ZN4llvm18report_fatal_errorEPKcb" data-ref-filename="_ZN4llvm18report_fatal_errorEPKcb">report_fatal_error</a>(<q>"expandAtomicOpToLibcall shouldn't fail for CAS"</q>);</td></tr>
<tr><th id="1540">1540</th><td>}</td></tr>
<tr><th id="1541">1541</th><td></td></tr>
<tr><th id="1542">1542</th><td><em>static</em> <a class="type" href="../../include/llvm/ADT/ArrayRef.h.html#llvm::ArrayRef" title='llvm::ArrayRef' data-ref="llvm::ArrayRef" data-ref-filename="llvm..ArrayRef">ArrayRef</a>&lt;<span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a>&gt; <dfn class="tu decl def fn" id="_ZL13GetRMWLibcallN4llvm13AtomicRMWInst5BinOpE" title='GetRMWLibcall' data-type='ArrayRef&lt;RTLIB::Libcall&gt; GetRMWLibcall(AtomicRMWInst::BinOp Op)' data-ref="_ZL13GetRMWLibcallN4llvm13AtomicRMWInst5BinOpE" data-ref-filename="_ZL13GetRMWLibcallN4llvm13AtomicRMWInst5BinOpE">GetRMWLibcall</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::BinOp" title='llvm::AtomicRMWInst::BinOp' data-ref="llvm::AtomicRMWInst::BinOp" data-ref-filename="llvm..AtomicRMWInst..BinOp">BinOp</a> <dfn class="local col4 decl" id="384Op" title='Op' data-type='AtomicRMWInst::BinOp' data-ref="384Op" data-ref-filename="384Op">Op</dfn>) {</td></tr>
<tr><th id="1543">1543</th><td>  <em>static</em> <em>const</em> <span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a> <dfn class="local col5 decl" id="385LibcallsXchg" title='LibcallsXchg' data-type='const RTLIB::Libcall [6]' data-ref="385LibcallsXchg" data-ref-filename="385LibcallsXchg">LibcallsXchg</dfn>[<var>6</var>] = {</td></tr>
<tr><th id="1544">1544</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#516" title='llvm::RTLIB::ATOMIC_EXCHANGE' data-ref="llvm::RTLIB::ATOMIC_EXCHANGE" data-ref-filename="llvm..RTLIB..ATOMIC_EXCHANGE">ATOMIC_EXCHANGE</a>,   <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#517" title='llvm::RTLIB::ATOMIC_EXCHANGE_1' data-ref="llvm::RTLIB::ATOMIC_EXCHANGE_1" data-ref-filename="llvm..RTLIB..ATOMIC_EXCHANGE_1">ATOMIC_EXCHANGE_1</a>,</td></tr>
<tr><th id="1545">1545</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#518" title='llvm::RTLIB::ATOMIC_EXCHANGE_2' data-ref="llvm::RTLIB::ATOMIC_EXCHANGE_2" data-ref-filename="llvm..RTLIB..ATOMIC_EXCHANGE_2">ATOMIC_EXCHANGE_2</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#519" title='llvm::RTLIB::ATOMIC_EXCHANGE_4' data-ref="llvm::RTLIB::ATOMIC_EXCHANGE_4" data-ref-filename="llvm..RTLIB..ATOMIC_EXCHANGE_4">ATOMIC_EXCHANGE_4</a>,</td></tr>
<tr><th id="1546">1546</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#520" title='llvm::RTLIB::ATOMIC_EXCHANGE_8' data-ref="llvm::RTLIB::ATOMIC_EXCHANGE_8" data-ref-filename="llvm..RTLIB..ATOMIC_EXCHANGE_8">ATOMIC_EXCHANGE_8</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#521" title='llvm::RTLIB::ATOMIC_EXCHANGE_16' data-ref="llvm::RTLIB::ATOMIC_EXCHANGE_16" data-ref-filename="llvm..RTLIB..ATOMIC_EXCHANGE_16">ATOMIC_EXCHANGE_16</a>};</td></tr>
<tr><th id="1547">1547</th><td>  <em>static</em> <em>const</em> <span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a> <dfn class="local col6 decl" id="386LibcallsAdd" title='LibcallsAdd' data-type='const RTLIB::Libcall [6]' data-ref="386LibcallsAdd" data-ref-filename="386LibcallsAdd">LibcallsAdd</dfn>[<var>6</var>] = {</td></tr>
<tr><th id="1548">1548</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#587" title='llvm::RTLIB::UNKNOWN_LIBCALL' data-ref="llvm::RTLIB::UNKNOWN_LIBCALL" data-ref-filename="llvm..RTLIB..UNKNOWN_LIBCALL">UNKNOWN_LIBCALL</a>,    <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#530" title='llvm::RTLIB::ATOMIC_FETCH_ADD_1' data-ref="llvm::RTLIB::ATOMIC_FETCH_ADD_1" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_ADD_1">ATOMIC_FETCH_ADD_1</a>,</td></tr>
<tr><th id="1549">1549</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#531" title='llvm::RTLIB::ATOMIC_FETCH_ADD_2' data-ref="llvm::RTLIB::ATOMIC_FETCH_ADD_2" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_ADD_2">ATOMIC_FETCH_ADD_2</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#532" title='llvm::RTLIB::ATOMIC_FETCH_ADD_4' data-ref="llvm::RTLIB::ATOMIC_FETCH_ADD_4" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_ADD_4">ATOMIC_FETCH_ADD_4</a>,</td></tr>
<tr><th id="1550">1550</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#533" title='llvm::RTLIB::ATOMIC_FETCH_ADD_8' data-ref="llvm::RTLIB::ATOMIC_FETCH_ADD_8" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_ADD_8">ATOMIC_FETCH_ADD_8</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#534" title='llvm::RTLIB::ATOMIC_FETCH_ADD_16' data-ref="llvm::RTLIB::ATOMIC_FETCH_ADD_16" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_ADD_16">ATOMIC_FETCH_ADD_16</a>};</td></tr>
<tr><th id="1551">1551</th><td>  <em>static</em> <em>const</em> <span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a> <dfn class="local col7 decl" id="387LibcallsSub" title='LibcallsSub' data-type='const RTLIB::Libcall [6]' data-ref="387LibcallsSub" data-ref-filename="387LibcallsSub">LibcallsSub</dfn>[<var>6</var>] = {</td></tr>
<tr><th id="1552">1552</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#587" title='llvm::RTLIB::UNKNOWN_LIBCALL' data-ref="llvm::RTLIB::UNKNOWN_LIBCALL" data-ref-filename="llvm..RTLIB..UNKNOWN_LIBCALL">UNKNOWN_LIBCALL</a>,    <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#535" title='llvm::RTLIB::ATOMIC_FETCH_SUB_1' data-ref="llvm::RTLIB::ATOMIC_FETCH_SUB_1" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_SUB_1">ATOMIC_FETCH_SUB_1</a>,</td></tr>
<tr><th id="1553">1553</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#536" title='llvm::RTLIB::ATOMIC_FETCH_SUB_2' data-ref="llvm::RTLIB::ATOMIC_FETCH_SUB_2" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_SUB_2">ATOMIC_FETCH_SUB_2</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#537" title='llvm::RTLIB::ATOMIC_FETCH_SUB_4' data-ref="llvm::RTLIB::ATOMIC_FETCH_SUB_4" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_SUB_4">ATOMIC_FETCH_SUB_4</a>,</td></tr>
<tr><th id="1554">1554</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#538" title='llvm::RTLIB::ATOMIC_FETCH_SUB_8' data-ref="llvm::RTLIB::ATOMIC_FETCH_SUB_8" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_SUB_8">ATOMIC_FETCH_SUB_8</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#539" title='llvm::RTLIB::ATOMIC_FETCH_SUB_16' data-ref="llvm::RTLIB::ATOMIC_FETCH_SUB_16" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_SUB_16">ATOMIC_FETCH_SUB_16</a>};</td></tr>
<tr><th id="1555">1555</th><td>  <em>static</em> <em>const</em> <span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a> <dfn class="local col8 decl" id="388LibcallsAnd" title='LibcallsAnd' data-type='const RTLIB::Libcall [6]' data-ref="388LibcallsAnd" data-ref-filename="388LibcallsAnd">LibcallsAnd</dfn>[<var>6</var>] = {</td></tr>
<tr><th id="1556">1556</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#587" title='llvm::RTLIB::UNKNOWN_LIBCALL' data-ref="llvm::RTLIB::UNKNOWN_LIBCALL" data-ref-filename="llvm..RTLIB..UNKNOWN_LIBCALL">UNKNOWN_LIBCALL</a>,    <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#540" title='llvm::RTLIB::ATOMIC_FETCH_AND_1' data-ref="llvm::RTLIB::ATOMIC_FETCH_AND_1" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_AND_1">ATOMIC_FETCH_AND_1</a>,</td></tr>
<tr><th id="1557">1557</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#541" title='llvm::RTLIB::ATOMIC_FETCH_AND_2' data-ref="llvm::RTLIB::ATOMIC_FETCH_AND_2" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_AND_2">ATOMIC_FETCH_AND_2</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#542" title='llvm::RTLIB::ATOMIC_FETCH_AND_4' data-ref="llvm::RTLIB::ATOMIC_FETCH_AND_4" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_AND_4">ATOMIC_FETCH_AND_4</a>,</td></tr>
<tr><th id="1558">1558</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#543" title='llvm::RTLIB::ATOMIC_FETCH_AND_8' data-ref="llvm::RTLIB::ATOMIC_FETCH_AND_8" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_AND_8">ATOMIC_FETCH_AND_8</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#544" title='llvm::RTLIB::ATOMIC_FETCH_AND_16' data-ref="llvm::RTLIB::ATOMIC_FETCH_AND_16" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_AND_16">ATOMIC_FETCH_AND_16</a>};</td></tr>
<tr><th id="1559">1559</th><td>  <em>static</em> <em>const</em> <span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a> <dfn class="local col9 decl" id="389LibcallsOr" title='LibcallsOr' data-type='const RTLIB::Libcall [6]' data-ref="389LibcallsOr" data-ref-filename="389LibcallsOr">LibcallsOr</dfn>[<var>6</var>] = {</td></tr>
<tr><th id="1560">1560</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#587" title='llvm::RTLIB::UNKNOWN_LIBCALL' data-ref="llvm::RTLIB::UNKNOWN_LIBCALL" data-ref-filename="llvm..RTLIB..UNKNOWN_LIBCALL">UNKNOWN_LIBCALL</a>,   <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#545" title='llvm::RTLIB::ATOMIC_FETCH_OR_1' data-ref="llvm::RTLIB::ATOMIC_FETCH_OR_1" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_OR_1">ATOMIC_FETCH_OR_1</a>,</td></tr>
<tr><th id="1561">1561</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#546" title='llvm::RTLIB::ATOMIC_FETCH_OR_2' data-ref="llvm::RTLIB::ATOMIC_FETCH_OR_2" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_OR_2">ATOMIC_FETCH_OR_2</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#547" title='llvm::RTLIB::ATOMIC_FETCH_OR_4' data-ref="llvm::RTLIB::ATOMIC_FETCH_OR_4" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_OR_4">ATOMIC_FETCH_OR_4</a>,</td></tr>
<tr><th id="1562">1562</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#548" title='llvm::RTLIB::ATOMIC_FETCH_OR_8' data-ref="llvm::RTLIB::ATOMIC_FETCH_OR_8" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_OR_8">ATOMIC_FETCH_OR_8</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#549" title='llvm::RTLIB::ATOMIC_FETCH_OR_16' data-ref="llvm::RTLIB::ATOMIC_FETCH_OR_16" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_OR_16">ATOMIC_FETCH_OR_16</a>};</td></tr>
<tr><th id="1563">1563</th><td>  <em>static</em> <em>const</em> <span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a> <dfn class="local col0 decl" id="390LibcallsXor" title='LibcallsXor' data-type='const RTLIB::Libcall [6]' data-ref="390LibcallsXor" data-ref-filename="390LibcallsXor">LibcallsXor</dfn>[<var>6</var>] = {</td></tr>
<tr><th id="1564">1564</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#587" title='llvm::RTLIB::UNKNOWN_LIBCALL' data-ref="llvm::RTLIB::UNKNOWN_LIBCALL" data-ref-filename="llvm..RTLIB..UNKNOWN_LIBCALL">UNKNOWN_LIBCALL</a>,    <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#550" title='llvm::RTLIB::ATOMIC_FETCH_XOR_1' data-ref="llvm::RTLIB::ATOMIC_FETCH_XOR_1" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_XOR_1">ATOMIC_FETCH_XOR_1</a>,</td></tr>
<tr><th id="1565">1565</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#551" title='llvm::RTLIB::ATOMIC_FETCH_XOR_2' data-ref="llvm::RTLIB::ATOMIC_FETCH_XOR_2" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_XOR_2">ATOMIC_FETCH_XOR_2</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#552" title='llvm::RTLIB::ATOMIC_FETCH_XOR_4' data-ref="llvm::RTLIB::ATOMIC_FETCH_XOR_4" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_XOR_4">ATOMIC_FETCH_XOR_4</a>,</td></tr>
<tr><th id="1566">1566</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#553" title='llvm::RTLIB::ATOMIC_FETCH_XOR_8' data-ref="llvm::RTLIB::ATOMIC_FETCH_XOR_8" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_XOR_8">ATOMIC_FETCH_XOR_8</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#554" title='llvm::RTLIB::ATOMIC_FETCH_XOR_16' data-ref="llvm::RTLIB::ATOMIC_FETCH_XOR_16" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_XOR_16">ATOMIC_FETCH_XOR_16</a>};</td></tr>
<tr><th id="1567">1567</th><td>  <em>static</em> <em>const</em> <span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a> <dfn class="local col1 decl" id="391LibcallsNand" title='LibcallsNand' data-type='const RTLIB::Libcall [6]' data-ref="391LibcallsNand" data-ref-filename="391LibcallsNand">LibcallsNand</dfn>[<var>6</var>] = {</td></tr>
<tr><th id="1568">1568</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#587" title='llvm::RTLIB::UNKNOWN_LIBCALL' data-ref="llvm::RTLIB::UNKNOWN_LIBCALL" data-ref-filename="llvm..RTLIB..UNKNOWN_LIBCALL">UNKNOWN_LIBCALL</a>,     <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#555" title='llvm::RTLIB::ATOMIC_FETCH_NAND_1' data-ref="llvm::RTLIB::ATOMIC_FETCH_NAND_1" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_NAND_1">ATOMIC_FETCH_NAND_1</a>,</td></tr>
<tr><th id="1569">1569</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#556" title='llvm::RTLIB::ATOMIC_FETCH_NAND_2' data-ref="llvm::RTLIB::ATOMIC_FETCH_NAND_2" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_NAND_2">ATOMIC_FETCH_NAND_2</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#557" title='llvm::RTLIB::ATOMIC_FETCH_NAND_4' data-ref="llvm::RTLIB::ATOMIC_FETCH_NAND_4" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_NAND_4">ATOMIC_FETCH_NAND_4</a>,</td></tr>
<tr><th id="1570">1570</th><td>      <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#558" title='llvm::RTLIB::ATOMIC_FETCH_NAND_8' data-ref="llvm::RTLIB::ATOMIC_FETCH_NAND_8" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_NAND_8">ATOMIC_FETCH_NAND_8</a>, <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#559" title='llvm::RTLIB::ATOMIC_FETCH_NAND_16' data-ref="llvm::RTLIB::ATOMIC_FETCH_NAND_16" data-ref-filename="llvm..RTLIB..ATOMIC_FETCH_NAND_16">ATOMIC_FETCH_NAND_16</a>};</td></tr>
<tr><th id="1571">1571</th><td></td></tr>
<tr><th id="1572">1572</th><td>  <b>switch</b> (<a class="local col4 ref" href="#384Op" title='Op' data-ref="384Op" data-ref-filename="384Op">Op</a>) {</td></tr>
<tr><th id="1573">1573</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::BAD_BINOP" title='llvm::AtomicRMWInst::BAD_BINOP' data-ref="llvm::AtomicRMWInst::BAD_BINOP" data-ref-filename="llvm..AtomicRMWInst..BAD_BINOP">BAD_BINOP</a>:</td></tr>
<tr><th id="1574">1574</th><td>    <a class="macro" href="../../include/llvm/Support/ErrorHandling.h.html#139" title="__builtin_unreachable()" data-ref="_M/llvm_unreachable">llvm_unreachable</a>(<q>"Should not have BAD_BINOP."</q>);</td></tr>
<tr><th id="1575">1575</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Xchg" title='llvm::AtomicRMWInst::Xchg' data-ref="llvm::AtomicRMWInst::Xchg" data-ref-filename="llvm..AtomicRMWInst..Xchg">Xchg</a>:</td></tr>
<tr><th id="1576">1576</th><td>    <b>return</b> <a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm12makeArrayRefERAT0__KT_" title='llvm::makeArrayRef' data-ref="_ZN4llvm12makeArrayRefERAT0__KT_" data-ref-filename="_ZN4llvm12makeArrayRefERAT0__KT_">makeArrayRef</a>(<a class="local col5 ref" href="#385LibcallsXchg" title='LibcallsXchg' data-ref="385LibcallsXchg" data-ref-filename="385LibcallsXchg">LibcallsXchg</a>);</td></tr>
<tr><th id="1577">1577</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Add" title='llvm::AtomicRMWInst::Add' data-ref="llvm::AtomicRMWInst::Add" data-ref-filename="llvm..AtomicRMWInst..Add">Add</a>:</td></tr>
<tr><th id="1578">1578</th><td>    <b>return</b> <a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm12makeArrayRefERAT0__KT_" title='llvm::makeArrayRef' data-ref="_ZN4llvm12makeArrayRefERAT0__KT_" data-ref-filename="_ZN4llvm12makeArrayRefERAT0__KT_">makeArrayRef</a>(<a class="local col6 ref" href="#386LibcallsAdd" title='LibcallsAdd' data-ref="386LibcallsAdd" data-ref-filename="386LibcallsAdd">LibcallsAdd</a>);</td></tr>
<tr><th id="1579">1579</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Sub" title='llvm::AtomicRMWInst::Sub' data-ref="llvm::AtomicRMWInst::Sub" data-ref-filename="llvm..AtomicRMWInst..Sub">Sub</a>:</td></tr>
<tr><th id="1580">1580</th><td>    <b>return</b> <a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm12makeArrayRefERAT0__KT_" title='llvm::makeArrayRef' data-ref="_ZN4llvm12makeArrayRefERAT0__KT_" data-ref-filename="_ZN4llvm12makeArrayRefERAT0__KT_">makeArrayRef</a>(<a class="local col7 ref" href="#387LibcallsSub" title='LibcallsSub' data-ref="387LibcallsSub" data-ref-filename="387LibcallsSub">LibcallsSub</a>);</td></tr>
<tr><th id="1581">1581</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::And" title='llvm::AtomicRMWInst::And' data-ref="llvm::AtomicRMWInst::And" data-ref-filename="llvm..AtomicRMWInst..And">And</a>:</td></tr>
<tr><th id="1582">1582</th><td>    <b>return</b> <a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm12makeArrayRefERAT0__KT_" title='llvm::makeArrayRef' data-ref="_ZN4llvm12makeArrayRefERAT0__KT_" data-ref-filename="_ZN4llvm12makeArrayRefERAT0__KT_">makeArrayRef</a>(<a class="local col8 ref" href="#388LibcallsAnd" title='LibcallsAnd' data-ref="388LibcallsAnd" data-ref-filename="388LibcallsAnd">LibcallsAnd</a>);</td></tr>
<tr><th id="1583">1583</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Or" title='llvm::AtomicRMWInst::Or' data-ref="llvm::AtomicRMWInst::Or" data-ref-filename="llvm..AtomicRMWInst..Or">Or</a>:</td></tr>
<tr><th id="1584">1584</th><td>    <b>return</b> <a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm12makeArrayRefERAT0__KT_" title='llvm::makeArrayRef' data-ref="_ZN4llvm12makeArrayRefERAT0__KT_" data-ref-filename="_ZN4llvm12makeArrayRefERAT0__KT_">makeArrayRef</a>(<a class="local col9 ref" href="#389LibcallsOr" title='LibcallsOr' data-ref="389LibcallsOr" data-ref-filename="389LibcallsOr">LibcallsOr</a>);</td></tr>
<tr><th id="1585">1585</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Xor" title='llvm::AtomicRMWInst::Xor' data-ref="llvm::AtomicRMWInst::Xor" data-ref-filename="llvm..AtomicRMWInst..Xor">Xor</a>:</td></tr>
<tr><th id="1586">1586</th><td>    <b>return</b> <a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm12makeArrayRefERAT0__KT_" title='llvm::makeArrayRef' data-ref="_ZN4llvm12makeArrayRefERAT0__KT_" data-ref-filename="_ZN4llvm12makeArrayRefERAT0__KT_">makeArrayRef</a>(<a class="local col0 ref" href="#390LibcallsXor" title='LibcallsXor' data-ref="390LibcallsXor" data-ref-filename="390LibcallsXor">LibcallsXor</a>);</td></tr>
<tr><th id="1587">1587</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Nand" title='llvm::AtomicRMWInst::Nand' data-ref="llvm::AtomicRMWInst::Nand" data-ref-filename="llvm..AtomicRMWInst..Nand">Nand</a>:</td></tr>
<tr><th id="1588">1588</th><td>    <b>return</b> <a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm12makeArrayRefERAT0__KT_" title='llvm::makeArrayRef' data-ref="_ZN4llvm12makeArrayRefERAT0__KT_" data-ref-filename="_ZN4llvm12makeArrayRefERAT0__KT_">makeArrayRef</a>(<a class="local col1 ref" href="#391LibcallsNand" title='LibcallsNand' data-ref="391LibcallsNand" data-ref-filename="391LibcallsNand">LibcallsNand</a>);</td></tr>
<tr><th id="1589">1589</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Max" title='llvm::AtomicRMWInst::Max' data-ref="llvm::AtomicRMWInst::Max" data-ref-filename="llvm..AtomicRMWInst..Max">Max</a>:</td></tr>
<tr><th id="1590">1590</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::Min" title='llvm::AtomicRMWInst::Min' data-ref="llvm::AtomicRMWInst::Min" data-ref-filename="llvm..AtomicRMWInst..Min">Min</a>:</td></tr>
<tr><th id="1591">1591</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::UMax" title='llvm::AtomicRMWInst::UMax' data-ref="llvm::AtomicRMWInst::UMax" data-ref-filename="llvm..AtomicRMWInst..UMax">UMax</a>:</td></tr>
<tr><th id="1592">1592</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::UMin" title='llvm::AtomicRMWInst::UMin' data-ref="llvm::AtomicRMWInst::UMin" data-ref-filename="llvm..AtomicRMWInst..UMin">UMin</a>:</td></tr>
<tr><th id="1593">1593</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::FAdd" title='llvm::AtomicRMWInst::FAdd' data-ref="llvm::AtomicRMWInst::FAdd" data-ref-filename="llvm..AtomicRMWInst..FAdd">FAdd</a>:</td></tr>
<tr><th id="1594">1594</th><td>  <b>case</b> <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a>::<a class="enum" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst::FSub" title='llvm::AtomicRMWInst::FSub' data-ref="llvm::AtomicRMWInst::FSub" data-ref-filename="llvm..AtomicRMWInst..FSub">FSub</a>:</td></tr>
<tr><th id="1595">1595</th><td>    <i>// No atomic libcalls are available for max/min/umax/umin.</i></td></tr>
<tr><th id="1596">1596</th><td>    <b>return</b> <a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1Ev" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1Ev" data-ref-filename="_ZN4llvm8ArrayRefC1Ev">{</a>};</td></tr>
<tr><th id="1597">1597</th><td>  }</td></tr>
<tr><th id="1598">1598</th><td>  <a class="macro" href="../../include/llvm/Support/ErrorHandling.h.html#139" title="__builtin_unreachable()" data-ref="_M/llvm_unreachable">llvm_unreachable</a>(<q>"Unexpected AtomicRMW operation."</q>);</td></tr>
<tr><th id="1599">1599</th><td>}</td></tr>
<tr><th id="1600">1600</th><td></td></tr>
<tr><th id="1601">1601</th><td><em>void</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicRMWToLibcallEPN4llvm13AtomicRMWInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicRMWToLibcall' data-type='void (anonymous namespace)::AtomicExpand::expandAtomicRMWToLibcall(llvm::AtomicRMWInst * I)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicRMWToLibcallEPN4llvm13AtomicRMWInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicRMWToLibcallEPN4llvm13AtomicRMWInstE">expandAtomicRMWToLibcall</dfn>(<a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicRMWInst" title='llvm::AtomicRMWInst' data-ref="llvm::AtomicRMWInst" data-ref-filename="llvm..AtomicRMWInst">AtomicRMWInst</a> *<dfn class="local col2 decl" id="392I" title='I' data-type='llvm::AtomicRMWInst *' data-ref="392I" data-ref-filename="392I">I</dfn>) {</td></tr>
<tr><th id="1602">1602</th><td>  <a class="type" href="../../include/llvm/ADT/ArrayRef.h.html#llvm::ArrayRef" title='llvm::ArrayRef' data-ref="llvm::ArrayRef" data-ref-filename="llvm..ArrayRef">ArrayRef</a>&lt;<span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a>&gt; <dfn class="local col3 decl" id="393Libcalls" title='Libcalls' data-type='ArrayRef&lt;RTLIB::Libcall&gt;' data-ref="393Libcalls" data-ref-filename="393Libcalls">Libcalls</dfn> = <a class="tu ref fn" href="#_ZL13GetRMWLibcallN4llvm13AtomicRMWInst5BinOpE" title='GetRMWLibcall' data-use='c' data-ref="_ZL13GetRMWLibcallN4llvm13AtomicRMWInst5BinOpE" data-ref-filename="_ZL13GetRMWLibcallN4llvm13AtomicRMWInst5BinOpE">GetRMWLibcall</a>(<a class="local col2 ref" href="#392I" title='I' data-ref="392I" data-ref-filename="392I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst12getOperationEv" title='llvm::AtomicRMWInst::getOperation' data-ref="_ZNK4llvm13AtomicRMWInst12getOperationEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst12getOperationEv">getOperation</a>());</td></tr>
<tr><th id="1603">1603</th><td></td></tr>
<tr><th id="1604">1604</th><td>  <em>unsigned</em> <dfn class="local col4 decl" id="394Size" title='Size' data-type='unsigned int' data-ref="394Size" data-ref-filename="394Size">Size</dfn> = <a class="tu ref fn" href="#_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE" title='getAtomicOpSize' data-use='c' data-ref="_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE" data-ref-filename="_ZL15getAtomicOpSizePN4llvm13AtomicRMWInstE">getAtomicOpSize</a>(<a class="local col2 ref" href="#392I" title='I' data-ref="392I" data-ref-filename="392I">I</a>);</td></tr>
<tr><th id="1605">1605</th><td></td></tr>
<tr><th id="1606">1606</th><td>  <em>bool</em> <dfn class="local col5 decl" id="395Success" title='Success' data-type='bool' data-ref="395Success" data-ref-filename="395Success">Success</dfn> = <b>false</b>;</td></tr>
<tr><th id="1607">1607</th><td>  <b>if</b> (!<a class="local col3 ref" href="#393Libcalls" title='Libcalls' data-ref="393Libcalls" data-ref-filename="393Libcalls">Libcalls</a>.<a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRef5emptyEv" title='llvm::ArrayRef::empty' data-ref="_ZNK4llvm8ArrayRef5emptyEv" data-ref-filename="_ZNK4llvm8ArrayRef5emptyEv">empty</a>())</td></tr>
<tr><th id="1608">1608</th><td>    <a class="local col5 ref" href="#395Success" title='Success' data-ref="395Success" data-ref-filename="395Success">Success</a> = <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE" title='(anonymous namespace)::AtomicExpand::expandAtomicOpToLibcall' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE">expandAtomicOpToLibcall</a>(</td></tr>
<tr><th id="1609">1609</th><td>        <a class="local col2 ref" href="#392I" title='I' data-ref="392I" data-ref-filename="392I">I</a>, <a class="local col4 ref" href="#394Size" title='Size' data-ref="394Size" data-ref-filename="394Size">Size</a>, <a class="local col2 ref" href="#392I" title='I' data-ref="392I" data-ref-filename="392I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst8getAlignEv" title='llvm::AtomicRMWInst::getAlign' data-ref="_ZNK4llvm13AtomicRMWInst8getAlignEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst8getAlignEv">getAlign</a>(), <a class="local col2 ref" href="#392I" title='I' data-ref="392I" data-ref-filename="392I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst17getPointerOperandEv" title='llvm::AtomicRMWInst::getPointerOperand' data-ref="_ZN4llvm13AtomicRMWInst17getPointerOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst17getPointerOperandEv">getPointerOperand</a>(), <a class="local col2 ref" href="#392I" title='I' data-ref="392I" data-ref-filename="392I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm13AtomicRMWInst13getValOperandEv" title='llvm::AtomicRMWInst::getValOperand' data-ref="_ZN4llvm13AtomicRMWInst13getValOperandEv" data-ref-filename="_ZN4llvm13AtomicRMWInst13getValOperandEv">getValOperand</a>(),</td></tr>
<tr><th id="1610">1610</th><td>        <b>nullptr</b>, <a class="local col2 ref" href="#392I" title='I' data-ref="392I" data-ref-filename="392I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm13AtomicRMWInst11getOrderingEv" title='llvm::AtomicRMWInst::getOrdering' data-ref="_ZNK4llvm13AtomicRMWInst11getOrderingEv" data-ref-filename="_ZNK4llvm13AtomicRMWInst11getOrderingEv">getOrdering</a>(), <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a>::<a class="enum" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering::NotAtomic" title='llvm::AtomicOrdering::NotAtomic' data-ref="llvm::AtomicOrdering::NotAtomic" data-ref-filename="llvm..AtomicOrdering..NotAtomic">NotAtomic</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#41" title='llvm::ArrayRef&lt;llvm::RTLIB::Libcall&gt;::ArrayRef' data-ref="_ZN4llvm8ArrayRefINS_5RTLIB7LibcallEEC1ERKS3_" data-ref-filename="_ZN4llvm8ArrayRefINS_5RTLIB7LibcallEEC1ERKS3_"></a><a class="local col3 ref" href="#393Libcalls" title='Libcalls' data-ref="393Libcalls" data-ref-filename="393Libcalls">Libcalls</a>);</td></tr>
<tr><th id="1611">1611</th><td></td></tr>
<tr><th id="1612">1612</th><td>  <i>// The expansion failed: either there were no libcalls at all for</i></td></tr>
<tr><th id="1613">1613</th><td><i>  // the operation (min/max), or there were only size-specialized</i></td></tr>
<tr><th id="1614">1614</th><td><i>  // libcalls (add/sub/etc) and we needed a generic. So, expand to a</i></td></tr>
<tr><th id="1615">1615</th><td><i>  // CAS libcall, via a CAS loop, instead.</i></td></tr>
<tr><th id="1616">1616</th><td>  <b>if</b> (!<a class="local col5 ref" href="#395Success" title='Success' data-ref="395Success" data-ref-filename="395Success">Success</a>) {</td></tr>
<tr><th id="1617">1617</th><td>    <a class="ref fn" href="#_ZN4llvm24expandAtomicRMWToCmpXchgEPNS_13AtomicRMWInstENS_12function_refIFvRNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5Val2205004" title='llvm::expandAtomicRMWToCmpXchg' data-ref="_ZN4llvm24expandAtomicRMWToCmpXchgEPNS_13AtomicRMWInstENS_12function_refIFvRNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5Val2205004" data-ref-filename="_ZN4llvm24expandAtomicRMWToCmpXchgEPNS_13AtomicRMWInstENS_12function_refIFvRNS_9IRBuilderINS_14ConstantFolderENS_24IRBuilderDefaultInserterEEEPNS_5Val2205004">expandAtomicRMWToCmpXchg</a>(<a class="local col2 ref" href="#392I" title='I' data-ref="392I" data-ref-filename="392I">I</a>, <a class="tu ref fn fake" href="../../include/llvm/ADT/STLExtras.h.html#_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" title='llvm::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;::function_ref&lt;type-parameter-0-0 (type-parameter-0-1...)&gt;' data-use='c' data-ref="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931" data-ref-filename="_ZN4llvm12function_refIFT_DpT0_EEC1EOTL0__PNSt9enable_ifIXntsr3std7is_sameINSt9remove_cvINSt16remove_referenceIS6_E4typeEE4typeENS0_IS4_EEEE5valueEvE45758931"></a>[<b>this</b>](<a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; &amp;<dfn class="local col6 decl" id="396Builder" title='Builder' data-type='IRBuilder&lt;&gt; &amp;' data-ref="396Builder" data-ref-filename="396Builder">Builder</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="397Addr" title='Addr' data-type='llvm::Value *' data-ref="397Addr" data-ref-filename="397Addr">Addr</dfn>,</td></tr>
<tr><th id="1618">1618</th><td>                                       <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="398Loaded" title='Loaded' data-type='llvm::Value *' data-ref="398Loaded" data-ref-filename="398Loaded">Loaded</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="399NewVal" title='NewVal' data-type='llvm::Value *' data-ref="399NewVal" data-ref-filename="399NewVal">NewVal</dfn>,</td></tr>
<tr><th id="1619">1619</th><td>                                       <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col0 decl" id="400MemOpOrder" title='MemOpOrder' data-type='llvm::AtomicOrdering' data-ref="400MemOpOrder" data-ref-filename="400MemOpOrder">MemOpOrder</dfn>,</td></tr>
<tr><th id="1620">1620</th><td>                                       <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *&amp;<dfn class="local col1 decl" id="401Success" title='Success' data-type='llvm::Value *&amp;' data-ref="401Success" data-ref-filename="401Success">Success</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *&amp;<dfn class="local col2 decl" id="402NewLoaded" title='NewLoaded' data-type='llvm::Value *&amp;' data-ref="402NewLoaded" data-ref-filename="402NewLoaded">NewLoaded</dfn>) {</td></tr>
<tr><th id="1621">1621</th><td>      <i>// Create the CAS instruction normally...</i></td></tr>
<tr><th id="1622">1622</th><td>      <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a> *<dfn class="local col3 decl" id="403Pair" title='Pair' data-type='llvm::AtomicCmpXchgInst *' data-ref="403Pair" data-ref-filename="403Pair">Pair</dfn> = <a class="local col6 ref" href="#396Builder" title='Builder' data-ref="396Builder" data-ref-filename="396Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h" title='llvm::IRBuilderBase::CreateAtomicCmpXchg' data-ref="_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h" data-ref-filename="_ZN4llvm13IRBuilderBase19CreateAtomicCmpXchgEPNS_5ValueES2_S2_NS_14AtomicOrderingES3_h">CreateAtomicCmpXchg</a>(</td></tr>
<tr><th id="1623">1623</th><td>          <a class="local col7 ref" href="#397Addr" title='Addr' data-ref="397Addr" data-ref-filename="397Addr">Addr</a>, <a class="local col8 ref" href="#398Loaded" title='Loaded' data-ref="398Loaded" data-ref-filename="398Loaded">Loaded</a>, <a class="local col9 ref" href="#399NewVal" title='NewVal' data-ref="399NewVal" data-ref-filename="399NewVal">NewVal</a>, <a class="local col0 ref" href="#400MemOpOrder" title='MemOpOrder' data-ref="400MemOpOrder" data-ref-filename="400MemOpOrder">MemOpOrder</a>,</td></tr>
<tr><th id="1624">1624</th><td>          <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AtomicCmpXchgInst" title='llvm::AtomicCmpXchgInst' data-ref="llvm::AtomicCmpXchgInst" data-ref-filename="llvm..AtomicCmpXchgInst">AtomicCmpXchgInst</a>::<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm17AtomicCmpXchgInst27getStrongestFailureOrderingENS_14AtomicOrderingE" title='llvm::AtomicCmpXchgInst::getStrongestFailureOrdering' data-ref="_ZN4llvm17AtomicCmpXchgInst27getStrongestFailureOrderingENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm17AtomicCmpXchgInst27getStrongestFailureOrderingENS_14AtomicOrderingE">getStrongestFailureOrdering</a>(<a class="local col0 ref" href="#400MemOpOrder" title='MemOpOrder' data-ref="400MemOpOrder" data-ref-filename="400MemOpOrder">MemOpOrder</a>));</td></tr>
<tr><th id="1625">1625</th><td>      <a class="local col1 ref" href="#401Success" title='Success' data-ref="401Success" data-ref-filename="401Success">Success</a> = <a class="local col6 ref" href="#396Builder" title='Builder' data-ref="396Builder" data-ref-filename="396Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateExtractValue' data-ref="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE">CreateExtractValue</a>(<a class="local col3 ref" href="#403Pair" title='Pair' data-ref="403Pair" data-ref-filename="403Pair">Pair</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>1</var>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"success"</q>);</td></tr>
<tr><th id="1626">1626</th><td>      <a class="local col2 ref" href="#402NewLoaded" title='NewLoaded' data-ref="402NewLoaded" data-ref-filename="402NewLoaded">NewLoaded</a> = <a class="local col6 ref" href="#396Builder" title='Builder' data-ref="396Builder" data-ref-filename="396Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateExtractValue' data-ref="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase18CreateExtractValueEPNS_5ValueENS_8ArrayRefIjEERKNS_5TwineE">CreateExtractValue</a>(<a class="local col3 ref" href="#403Pair" title='Pair' data-ref="403Pair" data-ref-filename="403Pair">Pair</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>0</var>, <a class="ref fn fake" href="../../include/llvm/ADT/Twine.h.html#_ZN4llvm5TwineC1EPKc" title='llvm::Twine::Twine' data-ref="_ZN4llvm5TwineC1EPKc" data-ref-filename="_ZN4llvm5TwineC1EPKc"></a><q>"newloaded"</q>);</td></tr>
<tr><th id="1627">1627</th><td></td></tr>
<tr><th id="1628">1628</th><td>      <i>// ...and then expand the CAS into a libcall.</i></td></tr>
<tr><th id="1629">1629</th><td>      <a class="tu member fn" href="#_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicCASToLibcallEPN4llvm17AtomicCmpXchgInstE" title='(anonymous namespace)::AtomicExpand::expandAtomicCASToLibcall' data-use='c' data-ref="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicCASToLibcallEPN4llvm17AtomicCmpXchgInstE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand24expandAtomicCASToLibcallEPN4llvm17AtomicCmpXchgInstE">expandAtomicCASToLibcall</a>(<a class="local col3 ref" href="#403Pair" title='Pair' data-ref="403Pair" data-ref-filename="403Pair">Pair</a>);</td></tr>
<tr><th id="1630">1630</th><td>    });</td></tr>
<tr><th id="1631">1631</th><td>  }</td></tr>
<tr><th id="1632">1632</th><td>}</td></tr>
<tr><th id="1633">1633</th><td></td></tr>
<tr><th id="1634">1634</th><td><i  data-doc="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE">// A helper routine for the above expandAtomic*ToLibcall functions.</i></td></tr>
<tr><th id="1635">1635</th><td><i  data-doc="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE">//</i></td></tr>
<tr><th id="1636">1636</th><td><i  data-doc="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE">// 'Libcalls' contains an array of enum values for the particular</i></td></tr>
<tr><th id="1637">1637</th><td><i  data-doc="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE">// ATOMIC libcalls to be emitted. All of the other arguments besides</i></td></tr>
<tr><th id="1638">1638</th><td><i  data-doc="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE">// 'I' are extracted from the Instruction subclass by the</i></td></tr>
<tr><th id="1639">1639</th><td><i  data-doc="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE">// caller. Depending on the particular call, some will be null.</i></td></tr>
<tr><th id="1640">1640</th><td><em>bool</em> <a class="tu type" href="#(anonymousnamespace)::AtomicExpand" title='(anonymous namespace)::AtomicExpand' data-ref="(anonymousnamespace)::AtomicExpand" data-ref-filename="(anonymousnamespace)..AtomicExpand">AtomicExpand</a>::<dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE" title='(anonymous namespace)::AtomicExpand::expandAtomicOpToLibcall' data-type='bool (anonymous namespace)::AtomicExpand::expandAtomicOpToLibcall(llvm::Instruction * I, unsigned int Size, llvm::Align Alignment, llvm::Value * PointerOperand, llvm::Value * ValueOperand, llvm::Value * CASExpected, llvm::AtomicOrdering Ordering, llvm::AtomicOrdering Ordering2, ArrayRef&lt;RTLIB::Libcall&gt; Libcalls)' data-ref="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE" data-ref-filename="_ZN12_GLOBAL__N_112AtomicExpand23expandAtomicOpToLibcallEPN4llvm11InstructionEjNS1_5AlignEPNS1_5ValueES6_S6_NS1_14AtomicOrderingES7_NS1_8ArrayRefINS1_5RTLIB7LibcallEEE">expandAtomicOpToLibcall</dfn>(</td></tr>
<tr><th id="1641">1641</th><td>    <a class="type" href="../../include/llvm/IR/Instruction.h.html#llvm::Instruction" title='llvm::Instruction' data-ref="llvm::Instruction" data-ref-filename="llvm..Instruction">Instruction</a> *<dfn class="local col4 decl" id="404I" title='I' data-type='llvm::Instruction *' data-ref="404I" data-ref-filename="404I">I</dfn>, <em>unsigned</em> <dfn class="local col5 decl" id="405Size" title='Size' data-type='unsigned int' data-ref="405Size" data-ref-filename="405Size">Size</dfn>, <a class="type" href="../../include/llvm/Support/Alignment.h.html#llvm::Align" title='llvm::Align' data-ref="llvm::Align" data-ref-filename="llvm..Align">Align</a> <dfn class="local col6 decl" id="406Alignment" title='Alignment' data-type='llvm::Align' data-ref="406Alignment" data-ref-filename="406Alignment">Alignment</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="407PointerOperand" title='PointerOperand' data-type='llvm::Value *' data-ref="407PointerOperand" data-ref-filename="407PointerOperand">PointerOperand</dfn>,</td></tr>
<tr><th id="1642">1642</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="408ValueOperand" title='ValueOperand' data-type='llvm::Value *' data-ref="408ValueOperand" data-ref-filename="408ValueOperand">ValueOperand</dfn>, <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="409CASExpected" title='CASExpected' data-type='llvm::Value *' data-ref="409CASExpected" data-ref-filename="409CASExpected">CASExpected</dfn>, <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col0 decl" id="410Ordering" title='Ordering' data-type='llvm::AtomicOrdering' data-ref="410Ordering" data-ref-filename="410Ordering">Ordering</dfn>,</td></tr>
<tr><th id="1643">1643</th><td>    <a class="type" href="../../include/llvm/Support/AtomicOrdering.h.html#llvm::AtomicOrdering" title='llvm::AtomicOrdering' data-ref="llvm::AtomicOrdering" data-ref-filename="llvm..AtomicOrdering">AtomicOrdering</a> <dfn class="local col1 decl" id="411Ordering2" title='Ordering2' data-type='llvm::AtomicOrdering' data-ref="411Ordering2" data-ref-filename="411Ordering2">Ordering2</dfn>, <a class="type" href="../../include/llvm/ADT/ArrayRef.h.html#llvm::ArrayRef" title='llvm::ArrayRef' data-ref="llvm::ArrayRef" data-ref-filename="llvm..ArrayRef">ArrayRef</a>&lt;<span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a>&gt; <dfn class="local col2 decl" id="412Libcalls" title='Libcalls' data-type='ArrayRef&lt;RTLIB::Libcall&gt;' data-ref="412Libcalls" data-ref-filename="412Libcalls">Libcalls</dfn>) {</td></tr>
<tr><th id="1644">1644</th><td>  <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Libcalls.size() == <var>6</var>);</td></tr>
<tr><th id="1645">1645</th><td></td></tr>
<tr><th id="1646">1646</th><td>  <a class="type" href="../../include/llvm/IR/LLVMContext.h.html#llvm::LLVMContext" title='llvm::LLVMContext' data-ref="llvm::LLVMContext" data-ref-filename="llvm..LLVMContext">LLVMContext</a> &amp;<dfn class="local col3 decl" id="413Ctx" title='Ctx' data-type='llvm::LLVMContext &amp;' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</dfn> = <a class="local col4 ref" href="#404I" title='I' data-ref="404I" data-ref-filename="404I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value10getContextEv" title='llvm::Value::getContext' data-ref="_ZNK4llvm5Value10getContextEv" data-ref-filename="_ZNK4llvm5Value10getContextEv">getContext</a>();</td></tr>
<tr><th id="1647">1647</th><td>  <a class="type" href="../../include/llvm/IR/Module.h.html#llvm::Module" title='llvm::Module' data-ref="llvm::Module" data-ref-filename="llvm..Module">Module</a> *<dfn class="local col4 decl" id="414M" title='M' data-type='llvm::Module *' data-ref="414M" data-ref-filename="414M">M</dfn> = <a class="local col4 ref" href="#404I" title='I' data-ref="404I" data-ref-filename="404I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getModuleEv" title='llvm::Instruction::getModule' data-ref="_ZN4llvm11Instruction9getModuleEv" data-ref-filename="_ZN4llvm11Instruction9getModuleEv">getModule</a>();</td></tr>
<tr><th id="1648">1648</th><td>  <em>const</em> <a class="type" href="../../include/llvm/IR/DataLayout.h.html#llvm::DataLayout" title='llvm::DataLayout' data-ref="llvm::DataLayout" data-ref-filename="llvm..DataLayout">DataLayout</a> &amp;<dfn class="local col5 decl" id="415DL" title='DL' data-type='const llvm::DataLayout &amp;' data-ref="415DL" data-ref-filename="415DL">DL</dfn> = <a class="local col4 ref" href="#414M" title='M' data-ref="414M" data-ref-filename="414M">M</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Module.h.html#_ZNK4llvm6Module13getDataLayoutEv" title='llvm::Module::getDataLayout' data-ref="_ZNK4llvm6Module13getDataLayoutEv" data-ref-filename="_ZNK4llvm6Module13getDataLayoutEv">getDataLayout</a>();</td></tr>
<tr><th id="1649">1649</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col6 decl" id="416Builder" title='Builder' data-type='IRBuilder&lt;&gt;' data-ref="416Builder" data-ref-filename="416Builder">Builder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a><a class="local col4 ref" href="#404I" title='I' data-ref="404I" data-ref-filename="404I">I</a>);</td></tr>
<tr><th id="1650">1650</th><td>  <a class="type" href="../../include/llvm/IR/IRBuilder.h.html#llvm::IRBuilder" title='llvm::IRBuilder' data-ref="llvm::IRBuilder" data-ref-filename="llvm..IRBuilder">IRBuilder</a>&lt;&gt; <dfn class="local col7 decl" id="417AllocaBuilder" title='AllocaBuilder' data-type='IRBuilder&lt;&gt;' data-ref="417AllocaBuilder" data-ref-filename="417AllocaBuilder">AllocaBuilder</dfn><a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" title='llvm::IRBuilder::IRBuilder&lt;FolderTy, InserterTy&gt;' data-ref="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE" data-ref-filename="_ZN4llvm9IRBuilderC1EPNS_11InstructionEPNS_6MDNodeENS_8ArrayRefINS_17OperandBundleDefTIPNS_5ValueEEEEE">(</a>&amp;<a class="local col4 ref" href="#404I" title='I' data-ref="404I" data-ref-filename="404I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction11getFunctionEv" title='llvm::Instruction::getFunction' data-ref="_ZN4llvm11Instruction11getFunctionEv" data-ref-filename="_ZN4llvm11Instruction11getFunctionEv">getFunction</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Function.h.html#_ZN4llvm8Function13getEntryBlockEv" title='llvm::Function::getEntryBlock' data-ref="_ZN4llvm8Function13getEntryBlockEv" data-ref-filename="_ZN4llvm8Function13getEntryBlockEv">getEntryBlock</a>().<a class="ref fn" href="../../include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock5frontEv" title='llvm::BasicBlock::front' data-ref="_ZN4llvm10BasicBlock5frontEv" data-ref-filename="_ZN4llvm10BasicBlock5frontEv">front</a>());</td></tr>
<tr><th id="1651">1651</th><td></td></tr>
<tr><th id="1652">1652</th><td>  <em>bool</em> <dfn class="local col8 decl" id="418UseSizedLibcall" title='UseSizedLibcall' data-type='bool' data-ref="418UseSizedLibcall" data-ref-filename="418UseSizedLibcall">UseSizedLibcall</dfn> = <a class="tu ref fn" href="#_ZL21canUseSizedAtomicCalljN4llvm5AlignERKNS_10DataLayoutE" title='canUseSizedAtomicCall' data-use='c' data-ref="_ZL21canUseSizedAtomicCalljN4llvm5AlignERKNS_10DataLayoutE" data-ref-filename="_ZL21canUseSizedAtomicCalljN4llvm5AlignERKNS_10DataLayoutE">canUseSizedAtomicCall</a>(<a class="local col5 ref" href="#405Size" title='Size' data-ref="405Size" data-ref-filename="405Size">Size</a>, <a class="ref fn fake" href="../../include/llvm/Support/Alignment.h.html#_ZN4llvm5AlignC1ERKS0_" title='llvm::Align::Align' data-ref="_ZN4llvm5AlignC1ERKS0_" data-ref-filename="_ZN4llvm5AlignC1ERKS0_"></a><a class="local col6 ref" href="#406Alignment" title='Alignment' data-ref="406Alignment" data-ref-filename="406Alignment">Alignment</a>, <a class="local col5 ref" href="#415DL" title='DL' data-ref="415DL" data-ref-filename="415DL">DL</a>);</td></tr>
<tr><th id="1653">1653</th><td>  <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col9 decl" id="419SizedIntTy" title='SizedIntTy' data-type='llvm::Type *' data-ref="419SizedIntTy" data-ref-filename="419SizedIntTy">SizedIntTy</dfn> = <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type9getIntNTyERNS_11LLVMContextEj" title='llvm::Type::getIntNTy' data-ref="_ZN4llvm4Type9getIntNTyERNS_11LLVMContextEj" data-ref-filename="_ZN4llvm4Type9getIntNTyERNS_11LLVMContextEj">getIntNTy</a>(<span class='refarg'><a class="local col3 ref" href="#413Ctx" title='Ctx' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</a></span>, <a class="local col5 ref" href="#405Size" title='Size' data-ref="405Size" data-ref-filename="405Size">Size</a> * <var>8</var>);</td></tr>
<tr><th id="1654">1654</th><td></td></tr>
<tr><th id="1655">1655</th><td>  <em>const</em> <a class="type" href="../../include/llvm/Support/Alignment.h.html#llvm::Align" title='llvm::Align' data-ref="llvm::Align" data-ref-filename="llvm..Align">Align</a> <dfn class="local col0 decl" id="420AllocaAlignment" title='AllocaAlignment' data-type='const llvm::Align' data-ref="420AllocaAlignment" data-ref-filename="420AllocaAlignment">AllocaAlignment</dfn> = <a class="local col5 ref" href="#415DL" title='DL' data-ref="415DL" data-ref-filename="415DL">DL</a>.<a class="ref fn" href="../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout16getPrefTypeAlignEPNS_4TypeE" title='llvm::DataLayout::getPrefTypeAlign' data-ref="_ZNK4llvm10DataLayout16getPrefTypeAlignEPNS_4TypeE" data-ref-filename="_ZNK4llvm10DataLayout16getPrefTypeAlignEPNS_4TypeE">getPrefTypeAlign</a>(<a class="local col9 ref" href="#419SizedIntTy" title='SizedIntTy' data-ref="419SizedIntTy" data-ref-filename="419SizedIntTy">SizedIntTy</a>);</td></tr>
<tr><th id="1656">1656</th><td></td></tr>
<tr><th id="1657">1657</th><td>  <i>// TODO: the "order" argument type is "int", not int32. So</i></td></tr>
<tr><th id="1658">1658</th><td><i>  // getInt32Ty may be wrong if the arch uses e.g. 16-bit ints.</i></td></tr>
<tr><th id="1659">1659</th><td>  <a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a> *<dfn class="local col1 decl" id="421SizeVal64" title='SizeVal64' data-type='llvm::ConstantInt *' data-ref="421SizeVal64" data-ref-filename="421SizeVal64">SizeVal64</dfn> = <a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb">get</a>(<a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type10getInt64TyERNS_11LLVMContextE" title='llvm::Type::getInt64Ty' data-ref="_ZN4llvm4Type10getInt64TyERNS_11LLVMContextE" data-ref-filename="_ZN4llvm4Type10getInt64TyERNS_11LLVMContextE">getInt64Ty</a>(<span class='refarg'><a class="local col3 ref" href="#413Ctx" title='Ctx' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</a></span>), <a class="local col5 ref" href="#405Size" title='Size' data-ref="405Size" data-ref-filename="405Size">Size</a>);</td></tr>
<tr><th id="1660">1660</th><td>  <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Ordering != AtomicOrdering::NotAtomic &amp;&amp; <q>"expect atomic MO"</q>);</td></tr>
<tr><th id="1661">1661</th><td>  <a class="type" href="../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col2 decl" id="422OrderingVal" title='OrderingVal' data-type='llvm::Constant *' data-ref="422OrderingVal" data-ref-filename="422OrderingVal">OrderingVal</dfn> =</td></tr>
<tr><th id="1662">1662</th><td>      <a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb">get</a>(<a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type10getInt32TyERNS_11LLVMContextE" title='llvm::Type::getInt32Ty' data-ref="_ZN4llvm4Type10getInt32TyERNS_11LLVMContextE" data-ref-filename="_ZN4llvm4Type10getInt32TyERNS_11LLVMContextE">getInt32Ty</a>(<span class='refarg'><a class="local col3 ref" href="#413Ctx" title='Ctx' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</a></span>), (<em>int</em>)<a class="ref fn" href="../../include/llvm/Support/AtomicOrdering.h.html#_ZN4llvm6toCABIENS_14AtomicOrderingE" title='llvm::toCABI' data-ref="_ZN4llvm6toCABIENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm6toCABIENS_14AtomicOrderingE">toCABI</a>(<a class="local col0 ref" href="#410Ordering" title='Ordering' data-ref="410Ordering" data-ref-filename="410Ordering">Ordering</a>));</td></tr>
<tr><th id="1663">1663</th><td>  <a class="type" href="../../include/llvm/IR/Constant.h.html#llvm::Constant" title='llvm::Constant' data-ref="llvm::Constant" data-ref-filename="llvm..Constant">Constant</a> *<dfn class="local col3 decl" id="423Ordering2Val" title='Ordering2Val' data-type='llvm::Constant *' data-ref="423Ordering2Val" data-ref-filename="423Ordering2Val">Ordering2Val</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="1664">1664</th><td>  <b>if</b> (<a class="local col9 ref" href="#409CASExpected" title='CASExpected' data-ref="409CASExpected" data-ref-filename="409CASExpected">CASExpected</a>) {</td></tr>
<tr><th id="1665">1665</th><td>    <a class="macro" href="../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(Ordering2 != AtomicOrdering::NotAtomic &amp;&amp; <q>"expect atomic MO"</q>);</td></tr>
<tr><th id="1666">1666</th><td>    <a class="local col3 ref" href="#423Ordering2Val" title='Ordering2Val' data-ref="423Ordering2Val" data-ref-filename="423Ordering2Val">Ordering2Val</a> =</td></tr>
<tr><th id="1667">1667</th><td>        <a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb">get</a>(<a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type10getInt32TyERNS_11LLVMContextE" title='llvm::Type::getInt32Ty' data-ref="_ZN4llvm4Type10getInt32TyERNS_11LLVMContextE" data-ref-filename="_ZN4llvm4Type10getInt32TyERNS_11LLVMContextE">getInt32Ty</a>(<span class='refarg'><a class="local col3 ref" href="#413Ctx" title='Ctx' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</a></span>), (<em>int</em>)<a class="ref fn" href="../../include/llvm/Support/AtomicOrdering.h.html#_ZN4llvm6toCABIENS_14AtomicOrderingE" title='llvm::toCABI' data-ref="_ZN4llvm6toCABIENS_14AtomicOrderingE" data-ref-filename="_ZN4llvm6toCABIENS_14AtomicOrderingE">toCABI</a>(<a class="local col1 ref" href="#411Ordering2" title='Ordering2' data-ref="411Ordering2" data-ref-filename="411Ordering2">Ordering2</a>));</td></tr>
<tr><th id="1668">1668</th><td>  }</td></tr>
<tr><th id="1669">1669</th><td>  <em>bool</em> <dfn class="local col4 decl" id="424HasResult" title='HasResult' data-type='bool' data-ref="424HasResult" data-ref-filename="424HasResult">HasResult</dfn> = <a class="local col4 ref" href="#404I" title='I' data-ref="404I" data-ref-filename="404I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>() != <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type9getVoidTyERNS_11LLVMContextE" title='llvm::Type::getVoidTy' data-ref="_ZN4llvm4Type9getVoidTyERNS_11LLVMContextE" data-ref-filename="_ZN4llvm4Type9getVoidTyERNS_11LLVMContextE">getVoidTy</a>(<span class='refarg'><a class="local col3 ref" href="#413Ctx" title='Ctx' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</a></span>);</td></tr>
<tr><th id="1670">1670</th><td></td></tr>
<tr><th id="1671">1671</th><td>  <span class="namespace">RTLIB::</span><a class="type" href="../../include/llvm/CodeGen/RuntimeLibcalls.h.html#llvm::RTLIB::Libcall" title='llvm::RTLIB::Libcall' data-ref="llvm::RTLIB::Libcall" data-ref-filename="llvm..RTLIB..Libcall">Libcall</a> <dfn class="local col5 decl" id="425RTLibType" title='RTLibType' data-type='RTLIB::Libcall' data-ref="425RTLibType" data-ref-filename="425RTLibType">RTLibType</dfn>;</td></tr>
<tr><th id="1672">1672</th><td>  <b>if</b> (<a class="local col8 ref" href="#418UseSizedLibcall" title='UseSizedLibcall' data-ref="418UseSizedLibcall" data-ref-filename="418UseSizedLibcall">UseSizedLibcall</a>) {</td></tr>
<tr><th id="1673">1673</th><td>    <b>switch</b> (<a class="local col5 ref" href="#405Size" title='Size' data-ref="405Size" data-ref-filename="405Size">Size</a>) {</td></tr>
<tr><th id="1674">1674</th><td>    <b>case</b> <var>1</var>: <a class="local col5 ref" href="#425RTLibType" title='RTLibType' data-ref="425RTLibType" data-ref-filename="425RTLibType">RTLibType</a> = <a class="local col2 ref" href="#412Libcalls" title='Libcalls' data-ref="412Libcalls" data-ref-filename="412Libcalls">Libcalls</a><a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRefixEm" title='llvm::ArrayRef::operator[]' data-ref="_ZNK4llvm8ArrayRefixEm" data-ref-filename="_ZNK4llvm8ArrayRefixEm">[<var>1</var>]</a>; <b>break</b>;</td></tr>
<tr><th id="1675">1675</th><td>    <b>case</b> <var>2</var>: <a class="local col5 ref" href="#425RTLibType" title='RTLibType' data-ref="425RTLibType" data-ref-filename="425RTLibType">RTLibType</a> = <a class="local col2 ref" href="#412Libcalls" title='Libcalls' data-ref="412Libcalls" data-ref-filename="412Libcalls">Libcalls</a><a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRefixEm" title='llvm::ArrayRef::operator[]' data-ref="_ZNK4llvm8ArrayRefixEm" data-ref-filename="_ZNK4llvm8ArrayRefixEm">[<var>2</var>]</a>; <b>break</b>;</td></tr>
<tr><th id="1676">1676</th><td>    <b>case</b> <var>4</var>: <a class="local col5 ref" href="#425RTLibType" title='RTLibType' data-ref="425RTLibType" data-ref-filename="425RTLibType">RTLibType</a> = <a class="local col2 ref" href="#412Libcalls" title='Libcalls' data-ref="412Libcalls" data-ref-filename="412Libcalls">Libcalls</a><a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRefixEm" title='llvm::ArrayRef::operator[]' data-ref="_ZNK4llvm8ArrayRefixEm" data-ref-filename="_ZNK4llvm8ArrayRefixEm">[<var>3</var>]</a>; <b>break</b>;</td></tr>
<tr><th id="1677">1677</th><td>    <b>case</b> <var>8</var>: <a class="local col5 ref" href="#425RTLibType" title='RTLibType' data-ref="425RTLibType" data-ref-filename="425RTLibType">RTLibType</a> = <a class="local col2 ref" href="#412Libcalls" title='Libcalls' data-ref="412Libcalls" data-ref-filename="412Libcalls">Libcalls</a><a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRefixEm" title='llvm::ArrayRef::operator[]' data-ref="_ZNK4llvm8ArrayRefixEm" data-ref-filename="_ZNK4llvm8ArrayRefixEm">[<var>4</var>]</a>; <b>break</b>;</td></tr>
<tr><th id="1678">1678</th><td>    <b>case</b> <var>16</var>: <a class="local col5 ref" href="#425RTLibType" title='RTLibType' data-ref="425RTLibType" data-ref-filename="425RTLibType">RTLibType</a> = <a class="local col2 ref" href="#412Libcalls" title='Libcalls' data-ref="412Libcalls" data-ref-filename="412Libcalls">Libcalls</a><a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRefixEm" title='llvm::ArrayRef::operator[]' data-ref="_ZNK4llvm8ArrayRefixEm" data-ref-filename="_ZNK4llvm8ArrayRefixEm">[<var>5</var>]</a>; <b>break</b>;</td></tr>
<tr><th id="1679">1679</th><td>    }</td></tr>
<tr><th id="1680">1680</th><td>  } <b>else</b> <b>if</b> (<a class="local col2 ref" href="#412Libcalls" title='Libcalls' data-ref="412Libcalls" data-ref-filename="412Libcalls">Libcalls</a><a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRefixEm" title='llvm::ArrayRef::operator[]' data-ref="_ZNK4llvm8ArrayRefixEm" data-ref-filename="_ZNK4llvm8ArrayRefixEm">[<var>0</var>]</a> != <span class="namespace">RTLIB::</span><a class="enum" href="../../include/llvm/IR/RuntimeLibcalls.def.html#587" title='llvm::RTLIB::UNKNOWN_LIBCALL' data-ref="llvm::RTLIB::UNKNOWN_LIBCALL" data-ref-filename="llvm..RTLIB..UNKNOWN_LIBCALL">UNKNOWN_LIBCALL</a>) {</td></tr>
<tr><th id="1681">1681</th><td>    <a class="local col5 ref" href="#425RTLibType" title='RTLibType' data-ref="425RTLibType" data-ref-filename="425RTLibType">RTLibType</a> = <a class="local col2 ref" href="#412Libcalls" title='Libcalls' data-ref="412Libcalls" data-ref-filename="412Libcalls">Libcalls</a><a class="ref fn" href="../../include/llvm/ADT/ArrayRef.h.html#_ZNK4llvm8ArrayRefixEm" title='llvm::ArrayRef::operator[]' data-ref="_ZNK4llvm8ArrayRefixEm" data-ref-filename="_ZNK4llvm8ArrayRefixEm">[<var>0</var>]</a>;</td></tr>
<tr><th id="1682">1682</th><td>  } <b>else</b> {</td></tr>
<tr><th id="1683">1683</th><td>    <i>// Can't use sized function, and there's no generic for this</i></td></tr>
<tr><th id="1684">1684</th><td><i>    // operation, so give up.</i></td></tr>
<tr><th id="1685">1685</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1686">1686</th><td>  }</td></tr>
<tr><th id="1687">1687</th><td></td></tr>
<tr><th id="1688">1688</th><td>  <b>if</b> (!<a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase14getLibcallNameENS_5RTLIB7LibcallE" title='llvm::TargetLoweringBase::getLibcallName' data-ref="_ZNK4llvm18TargetLoweringBase14getLibcallNameENS_5RTLIB7LibcallE" data-ref-filename="_ZNK4llvm18TargetLoweringBase14getLibcallNameENS_5RTLIB7LibcallE">getLibcallName</a>(<a class="local col5 ref" href="#425RTLibType" title='RTLibType' data-ref="425RTLibType" data-ref-filename="425RTLibType">RTLibType</a>)) {</td></tr>
<tr><th id="1689">1689</th><td>    <i>// This target does not implement the requested atomic libcall so give up.</i></td></tr>
<tr><th id="1690">1690</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="1691">1691</th><td>  }</td></tr>
<tr><th id="1692">1692</th><td></td></tr>
<tr><th id="1693">1693</th><td>  <i>// Build up the function call. There's two kinds. First, the sized</i></td></tr>
<tr><th id="1694">1694</th><td><i>  // variants.  These calls are going to be one of the following (with</i></td></tr>
<tr><th id="1695">1695</th><td><i>  // N=1,2,4,8,16):</i></td></tr>
<tr><th id="1696">1696</th><td><i>  //  iN    __atomic_load_N(iN *ptr, int ordering)</i></td></tr>
<tr><th id="1697">1697</th><td><i>  //  void  __atomic_store_N(iN *ptr, iN val, int ordering)</i></td></tr>
<tr><th id="1698">1698</th><td><i>  //  iN    __atomic_{exchange|fetch_*}_N(iN *ptr, iN val, int ordering)</i></td></tr>
<tr><th id="1699">1699</th><td><i>  //  bool  __atomic_compare_exchange_N(iN *ptr, iN *expected, iN desired,</i></td></tr>
<tr><th id="1700">1700</th><td><i>  //                                    int success_order, int failure_order)</i></td></tr>
<tr><th id="1701">1701</th><td><i>  //</i></td></tr>
<tr><th id="1702">1702</th><td><i>  // Note that these functions can be used for non-integer atomic</i></td></tr>
<tr><th id="1703">1703</th><td><i>  // operations, the values just need to be bitcast to integers on the</i></td></tr>
<tr><th id="1704">1704</th><td><i>  // way in and out.</i></td></tr>
<tr><th id="1705">1705</th><td><i>  //</i></td></tr>
<tr><th id="1706">1706</th><td><i>  // And, then, the generic variants. They look like the following:</i></td></tr>
<tr><th id="1707">1707</th><td><i>  //  void  __atomic_load(size_t size, void *ptr, void *ret, int ordering)</i></td></tr>
<tr><th id="1708">1708</th><td><i>  //  void  __atomic_store(size_t size, void *ptr, void *val, int ordering)</i></td></tr>
<tr><th id="1709">1709</th><td><i>  //  void  __atomic_exchange(size_t size, void *ptr, void *val, void *ret,</i></td></tr>
<tr><th id="1710">1710</th><td><i>  //                          int ordering)</i></td></tr>
<tr><th id="1711">1711</th><td><i>  //  bool  __atomic_compare_exchange(size_t size, void *ptr, void *expected,</i></td></tr>
<tr><th id="1712">1712</th><td><i>  //                                  void *desired, int success_order,</i></td></tr>
<tr><th id="1713">1713</th><td><i>  //                                  int failure_order)</i></td></tr>
<tr><th id="1714">1714</th><td><i>  //</i></td></tr>
<tr><th id="1715">1715</th><td><i>  // The different signatures are built up depending on the</i></td></tr>
<tr><th id="1716">1716</th><td><i>  // 'UseSizedLibcall', 'CASExpected', 'ValueOperand', and 'HasResult'</i></td></tr>
<tr><th id="1717">1717</th><td><i>  // variables.</i></td></tr>
<tr><th id="1718">1718</th><td></td></tr>
<tr><th id="1719">1719</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AllocaInst" title='llvm::AllocaInst' data-ref="llvm::AllocaInst" data-ref-filename="llvm..AllocaInst">AllocaInst</a> *<dfn class="local col6 decl" id="426AllocaCASExpected" title='AllocaCASExpected' data-type='llvm::AllocaInst *' data-ref="426AllocaCASExpected" data-ref-filename="426AllocaCASExpected">AllocaCASExpected</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="1720">1720</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="427AllocaCASExpected_i8" title='AllocaCASExpected_i8' data-type='llvm::Value *' data-ref="427AllocaCASExpected_i8" data-ref-filename="427AllocaCASExpected_i8">AllocaCASExpected_i8</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="1721">1721</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AllocaInst" title='llvm::AllocaInst' data-ref="llvm::AllocaInst" data-ref-filename="llvm..AllocaInst">AllocaInst</a> *<dfn class="local col8 decl" id="428AllocaValue" title='AllocaValue' data-type='llvm::AllocaInst *' data-ref="428AllocaValue" data-ref-filename="428AllocaValue">AllocaValue</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="1722">1722</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="429AllocaValue_i8" title='AllocaValue_i8' data-type='llvm::Value *' data-ref="429AllocaValue_i8" data-ref-filename="429AllocaValue_i8">AllocaValue_i8</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="1723">1723</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::AllocaInst" title='llvm::AllocaInst' data-ref="llvm::AllocaInst" data-ref-filename="llvm..AllocaInst">AllocaInst</a> *<dfn class="local col0 decl" id="430AllocaResult" title='AllocaResult' data-type='llvm::AllocaInst *' data-ref="430AllocaResult" data-ref-filename="430AllocaResult">AllocaResult</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="1724">1724</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="431AllocaResult_i8" title='AllocaResult_i8' data-type='llvm::Value *' data-ref="431AllocaResult_i8" data-ref-filename="431AllocaResult_i8">AllocaResult_i8</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="1725">1725</th><td></td></tr>
<tr><th id="1726">1726</th><td>  <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col2 decl" id="432ResultTy" title='ResultTy' data-type='llvm::Type *' data-ref="432ResultTy" data-ref-filename="432ResultTy">ResultTy</dfn>;</td></tr>
<tr><th id="1727">1727</th><td>  <a class="type" href="../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *, <var>6</var>&gt; <a class="ref fn fake" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col3 decl" id="433Args" title='Args' data-type='SmallVector&lt;llvm::Value *, 6&gt;' data-ref="433Args" data-ref-filename="433Args">Args</dfn>;</td></tr>
<tr><th id="1728">1728</th><td>  <a class="type" href="../../include/llvm/IR/Attributes.h.html#llvm::AttributeList" title='llvm::AttributeList' data-ref="llvm::AttributeList" data-ref-filename="llvm..AttributeList">AttributeList</a> <a class="ref fn fake" href="../../include/llvm/IR/Attributes.h.html#_ZN4llvm13AttributeListC1Ev" title='llvm::AttributeList::AttributeList' data-ref="_ZN4llvm13AttributeListC1Ev" data-ref-filename="_ZN4llvm13AttributeListC1Ev"></a><dfn class="local col4 decl" id="434Attr" title='Attr' data-type='llvm::AttributeList' data-ref="434Attr" data-ref-filename="434Attr">Attr</dfn>;</td></tr>
<tr><th id="1729">1729</th><td></td></tr>
<tr><th id="1730">1730</th><td>  <i>// 'size' argument.</i></td></tr>
<tr><th id="1731">1731</th><td>  <b>if</b> (!<a class="local col8 ref" href="#418UseSizedLibcall" title='UseSizedLibcall' data-ref="418UseSizedLibcall" data-ref-filename="418UseSizedLibcall">UseSizedLibcall</a>) {</td></tr>
<tr><th id="1732">1732</th><td>    <i>// Note, getIntPtrType is assumed equivalent to size_t.</i></td></tr>
<tr><th id="1733">1733</th><td>    <a class="local col3 ref" href="#433Args" title='Args' data-ref="433Args" data-ref-filename="433Args">Args</a>.<a class="ref fn" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_11IntegerTypeEmb">get</a>(<a class="local col5 ref" href="#415DL" title='DL' data-ref="415DL" data-ref-filename="415DL">DL</a>.<a class="ref fn" href="../../include/llvm/IR/DataLayout.h.html#_ZNK4llvm10DataLayout13getIntPtrTypeERNS_11LLVMContextEj" title='llvm::DataLayout::getIntPtrType' data-ref="_ZNK4llvm10DataLayout13getIntPtrTypeERNS_11LLVMContextEj" data-ref-filename="_ZNK4llvm10DataLayout13getIntPtrTypeERNS_11LLVMContextEj">getIntPtrType</a>(<span class='refarg'><a class="local col3 ref" href="#413Ctx" title='Ctx' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</a></span>), <a class="local col5 ref" href="#405Size" title='Size' data-ref="405Size" data-ref-filename="405Size">Size</a>));</td></tr>
<tr><th id="1734">1734</th><td>  }</td></tr>
<tr><th id="1735">1735</th><td></td></tr>
<tr><th id="1736">1736</th><td>  <i>// 'ptr' argument.</i></td></tr>
<tr><th id="1737">1737</th><td><i>  // note: This assumes all address spaces share a common libfunc</i></td></tr>
<tr><th id="1738">1738</th><td><i>  // implementation and that addresses are convertable.  For systems without</i></td></tr>
<tr><th id="1739">1739</th><td><i>  // that property, we'd need to extend this mechanism to support AS-specific</i></td></tr>
<tr><th id="1740">1740</th><td><i>  // families of atomic intrinsics.</i></td></tr>
<tr><th id="1741">1741</th><td>  <em>auto</em> <dfn class="local col5 decl" id="435PtrTypeAS" title='PtrTypeAS' data-type='unsigned int' data-ref="435PtrTypeAS" data-ref-filename="435PtrTypeAS">PtrTypeAS</dfn> = <a class="local col7 ref" href="#407PointerOperand" title='PointerOperand' data-ref="407PointerOperand" data-ref-filename="407PointerOperand">PointerOperand</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPointerAddressSpaceEv" title='llvm::Type::getPointerAddressSpace' data-ref="_ZNK4llvm4Type22getPointerAddressSpaceEv" data-ref-filename="_ZNK4llvm4Type22getPointerAddressSpaceEv">getPointerAddressSpace</a>();</td></tr>
<tr><th id="1742">1742</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="436PtrVal" title='PtrVal' data-type='llvm::Value *' data-ref="436PtrVal" data-ref-filename="436PtrVal">PtrVal</dfn> = <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitCast' data-ref="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitCast</a>(<a class="local col7 ref" href="#407PointerOperand" title='PointerOperand' data-ref="407PointerOperand" data-ref-filename="407PointerOperand">PointerOperand</a>,</td></tr>
<tr><th id="1743">1743</th><td>                                        <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj" title='llvm::Type::getInt8PtrTy' data-ref="_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj" data-ref-filename="_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj">getInt8PtrTy</a>(<span class='refarg'><a class="local col3 ref" href="#413Ctx" title='Ctx' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</a></span>, <a class="local col5 ref" href="#435PtrTypeAS" title='PtrTypeAS' data-ref="435PtrTypeAS" data-ref-filename="435PtrTypeAS">PtrTypeAS</a>));</td></tr>
<tr><th id="1744">1744</th><td>  <a class="local col6 ref" href="#436PtrVal" title='PtrVal' data-ref="436PtrVal" data-ref-filename="436PtrVal">PtrVal</a> = <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase19CreateAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateAddrSpaceCast' data-ref="_ZN4llvm13IRBuilderBase19CreateAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase19CreateAddrSpaceCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateAddrSpaceCast</a>(<a class="local col6 ref" href="#436PtrVal" title='PtrVal' data-ref="436PtrVal" data-ref-filename="436PtrVal">PtrVal</a>, <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj" title='llvm::Type::getInt8PtrTy' data-ref="_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj" data-ref-filename="_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj">getInt8PtrTy</a>(<span class='refarg'><a class="local col3 ref" href="#413Ctx" title='Ctx' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</a></span>));</td></tr>
<tr><th id="1745">1745</th><td>  <a class="local col3 ref" href="#433Args" title='Args' data-ref="433Args" data-ref-filename="433Args">Args</a>.<a class="ref fn" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col6 ref" href="#436PtrVal" title='PtrVal' data-ref="436PtrVal" data-ref-filename="436PtrVal">PtrVal</a>);</td></tr>
<tr><th id="1746">1746</th><td></td></tr>
<tr><th id="1747">1747</th><td>  <i>// 'expected' argument, if present.</i></td></tr>
<tr><th id="1748">1748</th><td>  <b>if</b> (<a class="local col9 ref" href="#409CASExpected" title='CASExpected' data-ref="409CASExpected" data-ref-filename="409CASExpected">CASExpected</a>) {</td></tr>
<tr><th id="1749">1749</th><td>    <a class="local col6 ref" href="#426AllocaCASExpected" title='AllocaCASExpected' data-ref="426AllocaCASExpected" data-ref-filename="426AllocaCASExpected">AllocaCASExpected</a> = <a class="local col7 ref" href="#417AllocaBuilder" title='AllocaBuilder' data-ref="417AllocaBuilder" data-ref-filename="417AllocaBuilder">AllocaBuilder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateAllocaEPNS_4TypeEPNS_5ValueERKNS_5TwineE" title='llvm::IRBuilderBase::CreateAlloca' data-ref="_ZN4llvm13IRBuilderBase12CreateAllocaEPNS_4TypeEPNS_5ValueERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateAllocaEPNS_4TypeEPNS_5ValueERKNS_5TwineE">CreateAlloca</a>(<a class="local col9 ref" href="#409CASExpected" title='CASExpected' data-ref="409CASExpected" data-ref-filename="409CASExpected">CASExpected</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="1750">1750</th><td>    <a class="local col6 ref" href="#426AllocaCASExpected" title='AllocaCASExpected' data-ref="426AllocaCASExpected" data-ref-filename="426AllocaCASExpected">AllocaCASExpected</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm10AllocaInst12setAlignmentENS_5AlignE" title='llvm::AllocaInst::setAlignment' data-ref="_ZN4llvm10AllocaInst12setAlignmentENS_5AlignE" data-ref-filename="_ZN4llvm10AllocaInst12setAlignmentENS_5AlignE">setAlignment</a>(<a class="ref fn fake" href="../../include/llvm/Support/Alignment.h.html#_ZN4llvm5AlignC1ERKS0_" title='llvm::Align::Align' data-ref="_ZN4llvm5AlignC1ERKS0_" data-ref-filename="_ZN4llvm5AlignC1ERKS0_"></a><a class="local col0 ref" href="#420AllocaAlignment" title='AllocaAlignment' data-ref="420AllocaAlignment" data-ref-filename="420AllocaAlignment">AllocaAlignment</a>);</td></tr>
<tr><th id="1751">1751</th><td>    <em>unsigned</em> <dfn class="local col7 decl" id="437AllocaAS" title='AllocaAS' data-type='unsigned int' data-ref="437AllocaAS" data-ref-filename="437AllocaAS">AllocaAS</dfn> =  <a class="local col6 ref" href="#426AllocaCASExpected" title='AllocaCASExpected' data-ref="426AllocaCASExpected" data-ref-filename="426AllocaCASExpected">AllocaCASExpected</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10AllocaInst7getTypeEv" title='llvm::AllocaInst::getType' data-ref="_ZNK4llvm10AllocaInst7getTypeEv" data-ref-filename="_ZNK4llvm10AllocaInst7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPointerAddressSpaceEv" title='llvm::Type::getPointerAddressSpace' data-ref="_ZNK4llvm4Type22getPointerAddressSpaceEv" data-ref-filename="_ZNK4llvm4Type22getPointerAddressSpaceEv">getPointerAddressSpace</a>();</td></tr>
<tr><th id="1752">1752</th><td></td></tr>
<tr><th id="1753">1753</th><td>    <a class="local col7 ref" href="#427AllocaCASExpected_i8" title='AllocaCASExpected_i8' data-ref="427AllocaCASExpected_i8" data-ref-filename="427AllocaCASExpected_i8">AllocaCASExpected_i8</a> =</td></tr>
<tr><th id="1754">1754</th><td>      <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitCast' data-ref="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitCast</a>(<a class="local col6 ref" href="#426AllocaCASExpected" title='AllocaCASExpected' data-ref="426AllocaCASExpected" data-ref-filename="426AllocaCASExpected">AllocaCASExpected</a>,</td></tr>
<tr><th id="1755">1755</th><td>                            <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj" title='llvm::Type::getInt8PtrTy' data-ref="_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj" data-ref-filename="_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj">getInt8PtrTy</a>(<span class='refarg'><a class="local col3 ref" href="#413Ctx" title='Ctx' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</a></span>, <a class="local col7 ref" href="#437AllocaAS" title='AllocaAS' data-ref="437AllocaAS" data-ref-filename="437AllocaAS">AllocaAS</a>));</td></tr>
<tr><th id="1756">1756</th><td>    <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase19CreateLifetimeStartEPNS_5ValueEPNS_11ConstantIntE" title='llvm::IRBuilderBase::CreateLifetimeStart' data-ref="_ZN4llvm13IRBuilderBase19CreateLifetimeStartEPNS_5ValueEPNS_11ConstantIntE" data-ref-filename="_ZN4llvm13IRBuilderBase19CreateLifetimeStartEPNS_5ValueEPNS_11ConstantIntE">CreateLifetimeStart</a>(<a class="local col7 ref" href="#427AllocaCASExpected_i8" title='AllocaCASExpected_i8' data-ref="427AllocaCASExpected_i8" data-ref-filename="427AllocaCASExpected_i8">AllocaCASExpected_i8</a>, <a class="local col1 ref" href="#421SizeVal64" title='SizeVal64' data-ref="421SizeVal64" data-ref-filename="421SizeVal64">SizeVal64</a>);</td></tr>
<tr><th id="1757">1757</th><td>    <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase18CreateAlignedStoreEPNS_5ValueES2_NS_10MaybeAlignEb" title='llvm::IRBuilderBase::CreateAlignedStore' data-ref="_ZN4llvm13IRBuilderBase18CreateAlignedStoreEPNS_5ValueES2_NS_10MaybeAlignEb" data-ref-filename="_ZN4llvm13IRBuilderBase18CreateAlignedStoreEPNS_5ValueES2_NS_10MaybeAlignEb">CreateAlignedStore</a>(<a class="local col9 ref" href="#409CASExpected" title='CASExpected' data-ref="409CASExpected" data-ref-filename="409CASExpected">CASExpected</a>, <a class="local col6 ref" href="#426AllocaCASExpected" title='AllocaCASExpected' data-ref="426AllocaCASExpected" data-ref-filename="426AllocaCASExpected">AllocaCASExpected</a>, <a class="ref fn fake" href="../../include/llvm/Support/Alignment.h.html#134" title='llvm::MaybeAlign::Optional' data-ref="_ZN4llvm10MaybeAlignCI1NS_8OptionalINS_5AlignEEEERKS2_" data-ref-filename="_ZN4llvm10MaybeAlignCI1NS_8OptionalINS_5AlignEEEERKS2_"></a><a class="local col0 ref" href="#420AllocaAlignment" title='AllocaAlignment' data-ref="420AllocaAlignment" data-ref-filename="420AllocaAlignment">AllocaAlignment</a>);</td></tr>
<tr><th id="1758">1758</th><td>    <a class="local col3 ref" href="#433Args" title='Args' data-ref="433Args" data-ref-filename="433Args">Args</a>.<a class="ref fn" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col7 ref" href="#427AllocaCASExpected_i8" title='AllocaCASExpected_i8' data-ref="427AllocaCASExpected_i8" data-ref-filename="427AllocaCASExpected_i8">AllocaCASExpected_i8</a>);</td></tr>
<tr><th id="1759">1759</th><td>  }</td></tr>
<tr><th id="1760">1760</th><td></td></tr>
<tr><th id="1761">1761</th><td>  <i>// 'val' argument ('desired' for cas), if present.</i></td></tr>
<tr><th id="1762">1762</th><td>  <b>if</b> (<a class="local col8 ref" href="#408ValueOperand" title='ValueOperand' data-ref="408ValueOperand" data-ref-filename="408ValueOperand">ValueOperand</a>) {</td></tr>
<tr><th id="1763">1763</th><td>    <b>if</b> (<a class="local col8 ref" href="#418UseSizedLibcall" title='UseSizedLibcall' data-ref="418UseSizedLibcall" data-ref-filename="418UseSizedLibcall">UseSizedLibcall</a>) {</td></tr>
<tr><th id="1764">1764</th><td>      <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="438IntValue" title='IntValue' data-type='llvm::Value *' data-ref="438IntValue" data-ref-filename="438IntValue">IntValue</dfn> =</td></tr>
<tr><th id="1765">1765</th><td>          <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase22CreateBitOrPointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitOrPointerCast' data-ref="_ZN4llvm13IRBuilderBase22CreateBitOrPointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase22CreateBitOrPointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitOrPointerCast</a>(<a class="local col8 ref" href="#408ValueOperand" title='ValueOperand' data-ref="408ValueOperand" data-ref-filename="408ValueOperand">ValueOperand</a>, <a class="local col9 ref" href="#419SizedIntTy" title='SizedIntTy' data-ref="419SizedIntTy" data-ref-filename="419SizedIntTy">SizedIntTy</a>);</td></tr>
<tr><th id="1766">1766</th><td>      <a class="local col3 ref" href="#433Args" title='Args' data-ref="433Args" data-ref-filename="433Args">Args</a>.<a class="ref fn" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col8 ref" href="#438IntValue" title='IntValue' data-ref="438IntValue" data-ref-filename="438IntValue">IntValue</a>);</td></tr>
<tr><th id="1767">1767</th><td>    } <b>else</b> {</td></tr>
<tr><th id="1768">1768</th><td>      <a class="local col8 ref" href="#428AllocaValue" title='AllocaValue' data-ref="428AllocaValue" data-ref-filename="428AllocaValue">AllocaValue</a> = <a class="local col7 ref" href="#417AllocaBuilder" title='AllocaBuilder' data-ref="417AllocaBuilder" data-ref-filename="417AllocaBuilder">AllocaBuilder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateAllocaEPNS_4TypeEPNS_5ValueERKNS_5TwineE" title='llvm::IRBuilderBase::CreateAlloca' data-ref="_ZN4llvm13IRBuilderBase12CreateAllocaEPNS_4TypeEPNS_5ValueERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateAllocaEPNS_4TypeEPNS_5ValueERKNS_5TwineE">CreateAlloca</a>(<a class="local col8 ref" href="#408ValueOperand" title='ValueOperand' data-ref="408ValueOperand" data-ref-filename="408ValueOperand">ValueOperand</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="1769">1769</th><td>      <a class="local col8 ref" href="#428AllocaValue" title='AllocaValue' data-ref="428AllocaValue" data-ref-filename="428AllocaValue">AllocaValue</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm10AllocaInst12setAlignmentENS_5AlignE" title='llvm::AllocaInst::setAlignment' data-ref="_ZN4llvm10AllocaInst12setAlignmentENS_5AlignE" data-ref-filename="_ZN4llvm10AllocaInst12setAlignmentENS_5AlignE">setAlignment</a>(<a class="ref fn fake" href="../../include/llvm/Support/Alignment.h.html#_ZN4llvm5AlignC1ERKS0_" title='llvm::Align::Align' data-ref="_ZN4llvm5AlignC1ERKS0_" data-ref-filename="_ZN4llvm5AlignC1ERKS0_"></a><a class="local col0 ref" href="#420AllocaAlignment" title='AllocaAlignment' data-ref="420AllocaAlignment" data-ref-filename="420AllocaAlignment">AllocaAlignment</a>);</td></tr>
<tr><th id="1770">1770</th><td>      <a class="local col9 ref" href="#429AllocaValue_i8" title='AllocaValue_i8' data-ref="429AllocaValue_i8" data-ref-filename="429AllocaValue_i8">AllocaValue_i8</a> =</td></tr>
<tr><th id="1771">1771</th><td>          <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitCast' data-ref="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitCast</a>(<a class="local col8 ref" href="#428AllocaValue" title='AllocaValue' data-ref="428AllocaValue" data-ref-filename="428AllocaValue">AllocaValue</a>, <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj" title='llvm::Type::getInt8PtrTy' data-ref="_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj" data-ref-filename="_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj">getInt8PtrTy</a>(<span class='refarg'><a class="local col3 ref" href="#413Ctx" title='Ctx' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</a></span>));</td></tr>
<tr><th id="1772">1772</th><td>      <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase19CreateLifetimeStartEPNS_5ValueEPNS_11ConstantIntE" title='llvm::IRBuilderBase::CreateLifetimeStart' data-ref="_ZN4llvm13IRBuilderBase19CreateLifetimeStartEPNS_5ValueEPNS_11ConstantIntE" data-ref-filename="_ZN4llvm13IRBuilderBase19CreateLifetimeStartEPNS_5ValueEPNS_11ConstantIntE">CreateLifetimeStart</a>(<a class="local col9 ref" href="#429AllocaValue_i8" title='AllocaValue_i8' data-ref="429AllocaValue_i8" data-ref-filename="429AllocaValue_i8">AllocaValue_i8</a>, <a class="local col1 ref" href="#421SizeVal64" title='SizeVal64' data-ref="421SizeVal64" data-ref-filename="421SizeVal64">SizeVal64</a>);</td></tr>
<tr><th id="1773">1773</th><td>      <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase18CreateAlignedStoreEPNS_5ValueES2_NS_10MaybeAlignEb" title='llvm::IRBuilderBase::CreateAlignedStore' data-ref="_ZN4llvm13IRBuilderBase18CreateAlignedStoreEPNS_5ValueES2_NS_10MaybeAlignEb" data-ref-filename="_ZN4llvm13IRBuilderBase18CreateAlignedStoreEPNS_5ValueES2_NS_10MaybeAlignEb">CreateAlignedStore</a>(<a class="local col8 ref" href="#408ValueOperand" title='ValueOperand' data-ref="408ValueOperand" data-ref-filename="408ValueOperand">ValueOperand</a>, <a class="local col8 ref" href="#428AllocaValue" title='AllocaValue' data-ref="428AllocaValue" data-ref-filename="428AllocaValue">AllocaValue</a>, <a class="ref fn fake" href="../../include/llvm/Support/Alignment.h.html#134" title='llvm::MaybeAlign::Optional' data-ref="_ZN4llvm10MaybeAlignCI1NS_8OptionalINS_5AlignEEEERKS2_" data-ref-filename="_ZN4llvm10MaybeAlignCI1NS_8OptionalINS_5AlignEEEERKS2_"></a><a class="local col0 ref" href="#420AllocaAlignment" title='AllocaAlignment' data-ref="420AllocaAlignment" data-ref-filename="420AllocaAlignment">AllocaAlignment</a>);</td></tr>
<tr><th id="1774">1774</th><td>      <a class="local col3 ref" href="#433Args" title='Args' data-ref="433Args" data-ref-filename="433Args">Args</a>.<a class="ref fn" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col9 ref" href="#429AllocaValue_i8" title='AllocaValue_i8' data-ref="429AllocaValue_i8" data-ref-filename="429AllocaValue_i8">AllocaValue_i8</a>);</td></tr>
<tr><th id="1775">1775</th><td>    }</td></tr>
<tr><th id="1776">1776</th><td>  }</td></tr>
<tr><th id="1777">1777</th><td></td></tr>
<tr><th id="1778">1778</th><td>  <i>// 'ret' argument.</i></td></tr>
<tr><th id="1779">1779</th><td>  <b>if</b> (!<a class="local col9 ref" href="#409CASExpected" title='CASExpected' data-ref="409CASExpected" data-ref-filename="409CASExpected">CASExpected</a> &amp;&amp; <a class="local col4 ref" href="#424HasResult" title='HasResult' data-ref="424HasResult" data-ref-filename="424HasResult">HasResult</a> &amp;&amp; !<a class="local col8 ref" href="#418UseSizedLibcall" title='UseSizedLibcall' data-ref="418UseSizedLibcall" data-ref-filename="418UseSizedLibcall">UseSizedLibcall</a>) {</td></tr>
<tr><th id="1780">1780</th><td>    <a class="local col0 ref" href="#430AllocaResult" title='AllocaResult' data-ref="430AllocaResult" data-ref-filename="430AllocaResult">AllocaResult</a> = <a class="local col7 ref" href="#417AllocaBuilder" title='AllocaBuilder' data-ref="417AllocaBuilder" data-ref-filename="417AllocaBuilder">AllocaBuilder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateAllocaEPNS_4TypeEPNS_5ValueERKNS_5TwineE" title='llvm::IRBuilderBase::CreateAlloca' data-ref="_ZN4llvm13IRBuilderBase12CreateAllocaEPNS_4TypeEPNS_5ValueERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateAllocaEPNS_4TypeEPNS_5ValueERKNS_5TwineE">CreateAlloca</a>(<a class="local col4 ref" href="#404I" title='I' data-ref="404I" data-ref-filename="404I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="1781">1781</th><td>    <a class="local col0 ref" href="#430AllocaResult" title='AllocaResult' data-ref="430AllocaResult" data-ref-filename="430AllocaResult">AllocaResult</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZN4llvm10AllocaInst12setAlignmentENS_5AlignE" title='llvm::AllocaInst::setAlignment' data-ref="_ZN4llvm10AllocaInst12setAlignmentENS_5AlignE" data-ref-filename="_ZN4llvm10AllocaInst12setAlignmentENS_5AlignE">setAlignment</a>(<a class="ref fn fake" href="../../include/llvm/Support/Alignment.h.html#_ZN4llvm5AlignC1ERKS0_" title='llvm::Align::Align' data-ref="_ZN4llvm5AlignC1ERKS0_" data-ref-filename="_ZN4llvm5AlignC1ERKS0_"></a><a class="local col0 ref" href="#420AllocaAlignment" title='AllocaAlignment' data-ref="420AllocaAlignment" data-ref-filename="420AllocaAlignment">AllocaAlignment</a>);</td></tr>
<tr><th id="1782">1782</th><td>    <em>unsigned</em> <dfn class="local col9 decl" id="439AllocaAS" title='AllocaAS' data-type='unsigned int' data-ref="439AllocaAS" data-ref-filename="439AllocaAS">AllocaAS</dfn> =  <a class="local col0 ref" href="#430AllocaResult" title='AllocaResult' data-ref="430AllocaResult" data-ref-filename="430AllocaResult">AllocaResult</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instructions.h.html#_ZNK4llvm10AllocaInst7getTypeEv" title='llvm::AllocaInst::getType' data-ref="_ZNK4llvm10AllocaInst7getTypeEv" data-ref-filename="_ZNK4llvm10AllocaInst7getTypeEv">getType</a>()-&gt;<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZNK4llvm4Type22getPointerAddressSpaceEv" title='llvm::Type::getPointerAddressSpace' data-ref="_ZNK4llvm4Type22getPointerAddressSpaceEv" data-ref-filename="_ZNK4llvm4Type22getPointerAddressSpaceEv">getPointerAddressSpace</a>();</td></tr>
<tr><th id="1783">1783</th><td>    <a class="local col1 ref" href="#431AllocaResult_i8" title='AllocaResult_i8' data-ref="431AllocaResult_i8" data-ref-filename="431AllocaResult_i8">AllocaResult_i8</a> =</td></tr>
<tr><th id="1784">1784</th><td>      <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitCast' data-ref="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateBitCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitCast</a>(<a class="local col0 ref" href="#430AllocaResult" title='AllocaResult' data-ref="430AllocaResult" data-ref-filename="430AllocaResult">AllocaResult</a>, <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj" title='llvm::Type::getInt8PtrTy' data-ref="_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj" data-ref-filename="_ZN4llvm4Type12getInt8PtrTyERNS_11LLVMContextEj">getInt8PtrTy</a>(<span class='refarg'><a class="local col3 ref" href="#413Ctx" title='Ctx' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</a></span>, <a class="local col9 ref" href="#439AllocaAS" title='AllocaAS' data-ref="439AllocaAS" data-ref-filename="439AllocaAS">AllocaAS</a>));</td></tr>
<tr><th id="1785">1785</th><td>    <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase19CreateLifetimeStartEPNS_5ValueEPNS_11ConstantIntE" title='llvm::IRBuilderBase::CreateLifetimeStart' data-ref="_ZN4llvm13IRBuilderBase19CreateLifetimeStartEPNS_5ValueEPNS_11ConstantIntE" data-ref-filename="_ZN4llvm13IRBuilderBase19CreateLifetimeStartEPNS_5ValueEPNS_11ConstantIntE">CreateLifetimeStart</a>(<a class="local col1 ref" href="#431AllocaResult_i8" title='AllocaResult_i8' data-ref="431AllocaResult_i8" data-ref-filename="431AllocaResult_i8">AllocaResult_i8</a>, <a class="local col1 ref" href="#421SizeVal64" title='SizeVal64' data-ref="421SizeVal64" data-ref-filename="421SizeVal64">SizeVal64</a>);</td></tr>
<tr><th id="1786">1786</th><td>    <a class="local col3 ref" href="#433Args" title='Args' data-ref="433Args" data-ref-filename="433Args">Args</a>.<a class="ref fn" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col1 ref" href="#431AllocaResult_i8" title='AllocaResult_i8' data-ref="431AllocaResult_i8" data-ref-filename="431AllocaResult_i8">AllocaResult_i8</a>);</td></tr>
<tr><th id="1787">1787</th><td>  }</td></tr>
<tr><th id="1788">1788</th><td></td></tr>
<tr><th id="1789">1789</th><td>  <i>// 'ordering' ('success_order' for cas) argument.</i></td></tr>
<tr><th id="1790">1790</th><td>  <a class="local col3 ref" href="#433Args" title='Args' data-ref="433Args" data-ref-filename="433Args">Args</a>.<a class="ref fn" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col2 ref" href="#422OrderingVal" title='OrderingVal' data-ref="422OrderingVal" data-ref-filename="422OrderingVal">OrderingVal</a>);</td></tr>
<tr><th id="1791">1791</th><td></td></tr>
<tr><th id="1792">1792</th><td>  <i>// 'failure_order' argument, if present.</i></td></tr>
<tr><th id="1793">1793</th><td>  <b>if</b> (<a class="local col3 ref" href="#423Ordering2Val" title='Ordering2Val' data-ref="423Ordering2Val" data-ref-filename="423Ordering2Val">Ordering2Val</a>)</td></tr>
<tr><th id="1794">1794</th><td>    <a class="local col3 ref" href="#433Args" title='Args' data-ref="433Args" data-ref-filename="433Args">Args</a>.<a class="ref fn" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col3 ref" href="#423Ordering2Val" title='Ordering2Val' data-ref="423Ordering2Val" data-ref-filename="423Ordering2Val">Ordering2Val</a>);</td></tr>
<tr><th id="1795">1795</th><td></td></tr>
<tr><th id="1796">1796</th><td>  <i>// Now, the return type.</i></td></tr>
<tr><th id="1797">1797</th><td>  <b>if</b> (<a class="local col9 ref" href="#409CASExpected" title='CASExpected' data-ref="409CASExpected" data-ref-filename="409CASExpected">CASExpected</a>) {</td></tr>
<tr><th id="1798">1798</th><td>    <a class="local col2 ref" href="#432ResultTy" title='ResultTy' data-ref="432ResultTy" data-ref-filename="432ResultTy">ResultTy</a> = <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type9getInt1TyERNS_11LLVMContextE" title='llvm::Type::getInt1Ty' data-ref="_ZN4llvm4Type9getInt1TyERNS_11LLVMContextE" data-ref-filename="_ZN4llvm4Type9getInt1TyERNS_11LLVMContextE">getInt1Ty</a>(<span class='refarg'><a class="local col3 ref" href="#413Ctx" title='Ctx' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</a></span>);</td></tr>
<tr><th id="1799">1799</th><td>    <a class="local col4 ref" href="#434Attr" title='Attr' data-ref="434Attr" data-ref-filename="434Attr">Attr</a> <a class="ref fn" href="../../include/llvm/IR/Attributes.h.html#365" title='llvm::AttributeList::operator=' data-ref="_ZN4llvm13AttributeListaSEOS0_" data-ref-filename="_ZN4llvm13AttributeListaSEOS0_">=</a> <a class="local col4 ref" href="#434Attr" title='Attr' data-ref="434Attr" data-ref-filename="434Attr">Attr</a>.<a class="ref fn" href="../../include/llvm/IR/Attributes.h.html#_ZNK4llvm13AttributeList12addAttributeERNS_11LLVMContextEjNS_9Attribute8AttrKindE" title='llvm::AttributeList::addAttribute' data-ref="_ZNK4llvm13AttributeList12addAttributeERNS_11LLVMContextEjNS_9Attribute8AttrKindE" data-ref-filename="_ZNK4llvm13AttributeList12addAttributeERNS_11LLVMContextEjNS_9Attribute8AttrKindE">addAttribute</a>(<span class='refarg'><a class="local col3 ref" href="#413Ctx" title='Ctx' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</a></span>, <a class="type" href="../../include/llvm/IR/Attributes.h.html#llvm::AttributeList" title='llvm::AttributeList' data-ref="llvm::AttributeList" data-ref-filename="llvm..AttributeList">AttributeList</a>::<a class="enum" href="../../include/llvm/IR/Attributes.h.html#llvm::AttributeList::ReturnIndex" title='llvm::AttributeList::ReturnIndex' data-ref="llvm::AttributeList::ReturnIndex" data-ref-filename="llvm..AttributeList..ReturnIndex">ReturnIndex</a>, <a class="type" href="../../include/llvm/IR/Attributes.h.html#llvm::Attribute" title='llvm::Attribute' data-ref="llvm::Attribute" data-ref-filename="llvm..Attribute">Attribute</a>::<a class="enum" href="../../../build/include/llvm/IR/Attributes.inc.html#73" title='llvm::Attribute::ZExt' data-ref="llvm::Attribute::ZExt" data-ref-filename="llvm..Attribute..ZExt">ZExt</a>);</td></tr>
<tr><th id="1800">1800</th><td>  } <b>else</b> <b>if</b> (<a class="local col4 ref" href="#424HasResult" title='HasResult' data-ref="424HasResult" data-ref-filename="424HasResult">HasResult</a> &amp;&amp; <a class="local col8 ref" href="#418UseSizedLibcall" title='UseSizedLibcall' data-ref="418UseSizedLibcall" data-ref-filename="418UseSizedLibcall">UseSizedLibcall</a>)</td></tr>
<tr><th id="1801">1801</th><td>    <a class="local col2 ref" href="#432ResultTy" title='ResultTy' data-ref="432ResultTy" data-ref-filename="432ResultTy">ResultTy</a> = <a class="local col9 ref" href="#419SizedIntTy" title='SizedIntTy' data-ref="419SizedIntTy" data-ref-filename="419SizedIntTy">SizedIntTy</a>;</td></tr>
<tr><th id="1802">1802</th><td>  <b>else</b></td></tr>
<tr><th id="1803">1803</th><td>    <a class="local col2 ref" href="#432ResultTy" title='ResultTy' data-ref="432ResultTy" data-ref-filename="432ResultTy">ResultTy</a> = <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a>::<a class="ref fn" href="../../include/llvm/IR/Type.h.html#_ZN4llvm4Type9getVoidTyERNS_11LLVMContextE" title='llvm::Type::getVoidTy' data-ref="_ZN4llvm4Type9getVoidTyERNS_11LLVMContextE" data-ref-filename="_ZN4llvm4Type9getVoidTyERNS_11LLVMContextE">getVoidTy</a>(<span class='refarg'><a class="local col3 ref" href="#413Ctx" title='Ctx' data-ref="413Ctx" data-ref-filename="413Ctx">Ctx</a></span>);</td></tr>
<tr><th id="1804">1804</th><td></td></tr>
<tr><th id="1805">1805</th><td>  <i>// Done with setting up arguments and return types, create the call:</i></td></tr>
<tr><th id="1806">1806</th><td>  <a class="type" href="../../include/llvm/ADT/SmallVector.h.html#llvm::SmallVector" title='llvm::SmallVector' data-ref="llvm::SmallVector" data-ref-filename="llvm..SmallVector">SmallVector</a>&lt;<a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *, <var>6</var>&gt; <a class="ref fn fake" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm11SmallVectorC1Ev" title='llvm::SmallVector::SmallVector&lt;T, N&gt;' data-ref="_ZN4llvm11SmallVectorC1Ev" data-ref-filename="_ZN4llvm11SmallVectorC1Ev"></a><dfn class="local col0 decl" id="440ArgTys" title='ArgTys' data-type='SmallVector&lt;llvm::Type *, 6&gt;' data-ref="440ArgTys" data-ref-filename="440ArgTys">ArgTys</dfn>;</td></tr>
<tr><th id="1807">1807</th><td>  <b>for</b> (<a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="441Arg" title='Arg' data-type='llvm::Value *' data-ref="441Arg" data-ref-filename="441Arg">Arg</dfn> : <a class="local col3 ref" href="#433Args" title='Args' data-ref="433Args" data-ref-filename="433Args">Args</a>)</td></tr>
<tr><th id="1808">1808</th><td>    <a class="local col0 ref" href="#440ArgTys" title='ArgTys' data-ref="440ArgTys" data-ref-filename="440ArgTys">ArgTys</a>.<a class="ref fn" href="../../include/llvm/ADT/SmallVector.h.html#_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" title='llvm::SmallVectorTemplateBase&lt;type-parameter-0-0, true&gt;::push_back' data-ref="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE" data-ref-filename="_ZN4llvm23SmallVectorTemplateBaseIT_Lb1EE9push_backENSt11conditionalIL_ZNS2_17TakesParamByValueEES1_RKS1_E4typeE">push_back</a>(<a class="local col1 ref" href="#441Arg" title='Arg' data-ref="441Arg" data-ref-filename="441Arg">Arg</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="1809">1809</th><td>  <a class="type" href="../../include/llvm/IR/DerivedTypes.h.html#llvm::FunctionType" title='llvm::FunctionType' data-ref="llvm::FunctionType" data-ref-filename="llvm..FunctionType">FunctionType</a> *<dfn class="local col2 decl" id="442FnType" title='FnType' data-type='llvm::FunctionType *' data-ref="442FnType" data-ref-filename="442FnType">FnType</dfn> = <a class="type" href="../../include/llvm/IR/DerivedTypes.h.html#llvm::FunctionType" title='llvm::FunctionType' data-ref="llvm::FunctionType" data-ref-filename="llvm..FunctionType">FunctionType</a>::<a class="ref fn" href="../../include/llvm/IR/DerivedTypes.h.html#_ZN4llvm12FunctionType3getEPNS_4TypeENS_8ArrayRefIS2_EEb" title='llvm::FunctionType::get' data-ref="_ZN4llvm12FunctionType3getEPNS_4TypeENS_8ArrayRefIS2_EEb" data-ref-filename="_ZN4llvm12FunctionType3getEPNS_4TypeENS_8ArrayRefIS2_EEb">get</a>(<a class="local col2 ref" href="#432ResultTy" title='ResultTy' data-ref="432ResultTy" data-ref-filename="432ResultTy">ResultTy</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col0 ref" href="#440ArgTys" title='ArgTys' data-ref="440ArgTys" data-ref-filename="440ArgTys">ArgTys</a>, <b>false</b>);</td></tr>
<tr><th id="1810">1810</th><td>  <a class="type" href="../../include/llvm/IR/DerivedTypes.h.html#llvm::FunctionCallee" title='llvm::FunctionCallee' data-ref="llvm::FunctionCallee" data-ref-filename="llvm..FunctionCallee">FunctionCallee</a> <dfn class="local col3 decl" id="443LibcallFn" title='LibcallFn' data-type='llvm::FunctionCallee' data-ref="443LibcallFn" data-ref-filename="443LibcallFn">LibcallFn</dfn> =</td></tr>
<tr><th id="1811">1811</th><td>      <a class="local col4 ref" href="#414M" title='M' data-ref="414M" data-ref-filename="414M">M</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Module.h.html#_ZN4llvm6Module19getOrInsertFunctionENS_9StringRefEPNS_12FunctionTypeENS_13AttributeListE" title='llvm::Module::getOrInsertFunction' data-ref="_ZN4llvm6Module19getOrInsertFunctionENS_9StringRefEPNS_12FunctionTypeENS_13AttributeListE" data-ref-filename="_ZN4llvm6Module19getOrInsertFunctionENS_9StringRefEPNS_12FunctionTypeENS_13AttributeListE">getOrInsertFunction</a>(<a class="ref fn fake" href="../../include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><a class="tu member field" href="#(anonymousnamespace)::AtomicExpand::TLI" title='(anonymous namespace)::AtomicExpand::TLI' data-use='r' data-ref="(anonymousnamespace)::AtomicExpand::TLI" data-ref-filename="(anonymousnamespace)..AtomicExpand..TLI">TLI</a>-&gt;<a class="ref fn" href="../../include/llvm/CodeGen/TargetLowering.h.html#_ZNK4llvm18TargetLoweringBase14getLibcallNameENS_5RTLIB7LibcallE" title='llvm::TargetLoweringBase::getLibcallName' data-ref="_ZNK4llvm18TargetLoweringBase14getLibcallNameENS_5RTLIB7LibcallE" data-ref-filename="_ZNK4llvm18TargetLoweringBase14getLibcallNameENS_5RTLIB7LibcallE">getLibcallName</a>(<a class="local col5 ref" href="#425RTLibType" title='RTLibType' data-ref="425RTLibType" data-ref-filename="425RTLibType">RTLibType</a>), <a class="local col2 ref" href="#442FnType" title='FnType' data-ref="442FnType" data-ref-filename="442FnType">FnType</a>, <a class="ref fn fake" href="../../include/llvm/IR/Attributes.h.html#365" title='llvm::AttributeList::AttributeList' data-ref="_ZN4llvm13AttributeListC1ERKS0_" data-ref-filename="_ZN4llvm13AttributeListC1ERKS0_"></a><a class="local col4 ref" href="#434Attr" title='Attr' data-ref="434Attr" data-ref-filename="434Attr">Attr</a>);</td></tr>
<tr><th id="1812">1812</th><td>  <a class="type" href="../../include/llvm/IR/Instructions.h.html#llvm::CallInst" title='llvm::CallInst' data-ref="llvm::CallInst" data-ref-filename="llvm..CallInst">CallInst</a> *<dfn class="local col4 decl" id="444Call" title='Call' data-type='llvm::CallInst *' data-ref="444Call" data-ref-filename="444Call">Call</dfn> = <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateCallENS_14FunctionCalleeENS_8ArrayRefIPNS_5ValueEEERKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateCall' data-ref="_ZN4llvm13IRBuilderBase10CreateCallENS_14FunctionCalleeENS_8ArrayRefIPNS_5ValueEEERKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateCallENS_14FunctionCalleeENS_8ArrayRefIPNS_5ValueEEERKNS_5TwineEPNS_6MDNodeE">CreateCall</a>(<a class="ref fn fake" href="../../include/llvm/IR/DerivedTypes.h.html#164" title='llvm::FunctionCallee::FunctionCallee' data-ref="_ZN4llvm14FunctionCalleeC1ERKS0_" data-ref-filename="_ZN4llvm14FunctionCalleeC1ERKS0_"></a><a class="local col3 ref" href="#443LibcallFn" title='LibcallFn' data-ref="443LibcallFn" data-ref-filename="443LibcallFn">LibcallFn</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE" data-ref-filename="_ZN4llvm8ArrayRefC1ERKNS_25SmallVectorTemplateCommonIT_TL0__EE"></a><a class="local col3 ref" href="#433Args" title='Args' data-ref="433Args" data-ref-filename="433Args">Args</a>);</td></tr>
<tr><th id="1813">1813</th><td>  <a class="local col4 ref" href="#444Call" title='Call' data-ref="444Call" data-ref-filename="444Call">Call</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/InstrTypes.h.html#_ZN4llvm8CallBase13setAttributesENS_13AttributeListE" title='llvm::CallBase::setAttributes' data-ref="_ZN4llvm8CallBase13setAttributesENS_13AttributeListE" data-ref-filename="_ZN4llvm8CallBase13setAttributesENS_13AttributeListE">setAttributes</a>(<a class="ref fn fake" href="../../include/llvm/IR/Attributes.h.html#365" title='llvm::AttributeList::AttributeList' data-ref="_ZN4llvm13AttributeListC1ERKS0_" data-ref-filename="_ZN4llvm13AttributeListC1ERKS0_"></a><a class="local col4 ref" href="#434Attr" title='Attr' data-ref="434Attr" data-ref-filename="434Attr">Attr</a>);</td></tr>
<tr><th id="1814">1814</th><td>  <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col5 decl" id="445Result" title='Result' data-type='llvm::Value *' data-ref="445Result" data-ref-filename="445Result">Result</dfn> = <a class="local col4 ref" href="#444Call" title='Call' data-ref="444Call" data-ref-filename="444Call">Call</a>;</td></tr>
<tr><th id="1815">1815</th><td></td></tr>
<tr><th id="1816">1816</th><td>  <i>// And then, extract the results...</i></td></tr>
<tr><th id="1817">1817</th><td>  <b>if</b> (<a class="local col8 ref" href="#408ValueOperand" title='ValueOperand' data-ref="408ValueOperand" data-ref-filename="408ValueOperand">ValueOperand</a> &amp;&amp; !<a class="local col8 ref" href="#418UseSizedLibcall" title='UseSizedLibcall' data-ref="418UseSizedLibcall" data-ref-filename="418UseSizedLibcall">UseSizedLibcall</a>)</td></tr>
<tr><th id="1818">1818</th><td>    <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateLifetimeEndEPNS_5ValueEPNS_11ConstantIntE" title='llvm::IRBuilderBase::CreateLifetimeEnd' data-ref="_ZN4llvm13IRBuilderBase17CreateLifetimeEndEPNS_5ValueEPNS_11ConstantIntE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateLifetimeEndEPNS_5ValueEPNS_11ConstantIntE">CreateLifetimeEnd</a>(<a class="local col9 ref" href="#429AllocaValue_i8" title='AllocaValue_i8' data-ref="429AllocaValue_i8" data-ref-filename="429AllocaValue_i8">AllocaValue_i8</a>, <a class="local col1 ref" href="#421SizeVal64" title='SizeVal64' data-ref="421SizeVal64" data-ref-filename="421SizeVal64">SizeVal64</a>);</td></tr>
<tr><th id="1819">1819</th><td></td></tr>
<tr><th id="1820">1820</th><td>  <b>if</b> (<a class="local col9 ref" href="#409CASExpected" title='CASExpected' data-ref="409CASExpected" data-ref-filename="409CASExpected">CASExpected</a>) {</td></tr>
<tr><th id="1821">1821</th><td>    <i>// The final result from the CAS is {load of 'expected' alloca, bool result</i></td></tr>
<tr><th id="1822">1822</th><td><i>    // from call}</i></td></tr>
<tr><th id="1823">1823</th><td>    <a class="type" href="../../include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col6 decl" id="446FinalResultTy" title='FinalResultTy' data-type='llvm::Type *' data-ref="446FinalResultTy" data-ref-filename="446FinalResultTy">FinalResultTy</dfn> = <a class="local col4 ref" href="#404I" title='I' data-ref="404I" data-ref-filename="404I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>();</td></tr>
<tr><th id="1824">1824</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="447V" title='V' data-type='llvm::Value *' data-ref="447V" data-ref-filename="447V">V</dfn> = <a class="type" href="../../include/llvm/IR/Constants.h.html#llvm::UndefValue" title='llvm::UndefValue' data-ref="llvm::UndefValue" data-ref-filename="llvm..UndefValue">UndefValue</a>::<a class="ref fn" href="../../include/llvm/IR/Constants.h.html#_ZN4llvm10UndefValue3getEPNS_4TypeE" title='llvm::UndefValue::get' data-ref="_ZN4llvm10UndefValue3getEPNS_4TypeE" data-ref-filename="_ZN4llvm10UndefValue3getEPNS_4TypeE">get</a>(<a class="local col6 ref" href="#446FinalResultTy" title='FinalResultTy' data-ref="446FinalResultTy" data-ref-filename="446FinalResultTy">FinalResultTy</a>);</td></tr>
<tr><th id="1825">1825</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="448ExpectedOut" title='ExpectedOut' data-type='llvm::Value *' data-ref="448ExpectedOut" data-ref-filename="448ExpectedOut">ExpectedOut</dfn> = <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateAlignedLoadEPNS_4TypeEPNS_5ValueENS_10MaybeAlignERKNS_5TwineE" title='llvm::IRBuilderBase::CreateAlignedLoad' data-ref="_ZN4llvm13IRBuilderBase17CreateAlignedLoadEPNS_4TypeEPNS_5ValueENS_10MaybeAlignERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateAlignedLoadEPNS_4TypeEPNS_5ValueENS_10MaybeAlignERKNS_5TwineE">CreateAlignedLoad</a>(</td></tr>
<tr><th id="1826">1826</th><td>        <a class="local col9 ref" href="#409CASExpected" title='CASExpected' data-ref="409CASExpected" data-ref-filename="409CASExpected">CASExpected</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col6 ref" href="#426AllocaCASExpected" title='AllocaCASExpected' data-ref="426AllocaCASExpected" data-ref-filename="426AllocaCASExpected">AllocaCASExpected</a>, <a class="ref fn fake" href="../../include/llvm/Support/Alignment.h.html#134" title='llvm::MaybeAlign::Optional' data-ref="_ZN4llvm10MaybeAlignCI1NS_8OptionalINS_5AlignEEEERKS2_" data-ref-filename="_ZN4llvm10MaybeAlignCI1NS_8OptionalINS_5AlignEEEERKS2_"></a><a class="local col0 ref" href="#420AllocaAlignment" title='AllocaAlignment' data-ref="420AllocaAlignment" data-ref-filename="420AllocaAlignment">AllocaAlignment</a>);</td></tr>
<tr><th id="1827">1827</th><td>    <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateLifetimeEndEPNS_5ValueEPNS_11ConstantIntE" title='llvm::IRBuilderBase::CreateLifetimeEnd' data-ref="_ZN4llvm13IRBuilderBase17CreateLifetimeEndEPNS_5ValueEPNS_11ConstantIntE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateLifetimeEndEPNS_5ValueEPNS_11ConstantIntE">CreateLifetimeEnd</a>(<a class="local col7 ref" href="#427AllocaCASExpected_i8" title='AllocaCASExpected_i8' data-ref="427AllocaCASExpected_i8" data-ref-filename="427AllocaCASExpected_i8">AllocaCASExpected_i8</a>, <a class="local col1 ref" href="#421SizeVal64" title='SizeVal64' data-ref="421SizeVal64" data-ref-filename="421SizeVal64">SizeVal64</a>);</td></tr>
<tr><th id="1828">1828</th><td>    <a class="local col7 ref" href="#447V" title='V' data-ref="447V" data-ref-filename="447V">V</a> = <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInsertValue' data-ref="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE">CreateInsertValue</a>(<a class="local col7 ref" href="#447V" title='V' data-ref="447V" data-ref-filename="447V">V</a>, <a class="local col8 ref" href="#448ExpectedOut" title='ExpectedOut' data-ref="448ExpectedOut" data-ref-filename="448ExpectedOut">ExpectedOut</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>0</var>);</td></tr>
<tr><th id="1829">1829</th><td>    <a class="local col7 ref" href="#447V" title='V' data-ref="447V" data-ref-filename="447V">V</a> = <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" title='llvm::IRBuilderBase::CreateInsertValue' data-ref="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateInsertValueEPNS_5ValueES2_NS_8ArrayRefIjEERKNS_5TwineE">CreateInsertValue</a>(<a class="local col7 ref" href="#447V" title='V' data-ref="447V" data-ref-filename="447V">V</a>, <a class="local col5 ref" href="#445Result" title='Result' data-ref="445Result" data-ref-filename="445Result">Result</a>, <a class="ref fn fake" href="../../include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERKT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERKT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERKT_"></a><var>1</var>);</td></tr>
<tr><th id="1830">1830</th><td>    <a class="local col4 ref" href="#404I" title='I' data-ref="404I" data-ref-filename="404I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col7 ref" href="#447V" title='V' data-ref="447V" data-ref-filename="447V">V</a>);</td></tr>
<tr><th id="1831">1831</th><td>  } <b>else</b> <b>if</b> (<a class="local col4 ref" href="#424HasResult" title='HasResult' data-ref="424HasResult" data-ref-filename="424HasResult">HasResult</a>) {</td></tr>
<tr><th id="1832">1832</th><td>    <a class="type" href="../../include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="449V" title='V' data-type='llvm::Value *' data-ref="449V" data-ref-filename="449V">V</dfn>;</td></tr>
<tr><th id="1833">1833</th><td>    <b>if</b> (<a class="local col8 ref" href="#418UseSizedLibcall" title='UseSizedLibcall' data-ref="418UseSizedLibcall" data-ref-filename="418UseSizedLibcall">UseSizedLibcall</a>)</td></tr>
<tr><th id="1834">1834</th><td>      <a class="local col9 ref" href="#449V" title='V' data-ref="449V" data-ref-filename="449V">V</a> = <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase22CreateBitOrPointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreateBitOrPointerCast' data-ref="_ZN4llvm13IRBuilderBase22CreateBitOrPointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase22CreateBitOrPointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreateBitOrPointerCast</a>(<a class="local col5 ref" href="#445Result" title='Result' data-ref="445Result" data-ref-filename="445Result">Result</a>, <a class="local col4 ref" href="#404I" title='I' data-ref="404I" data-ref-filename="404I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="1835">1835</th><td>    <b>else</b> {</td></tr>
<tr><th id="1836">1836</th><td>      <a class="local col9 ref" href="#449V" title='V' data-ref="449V" data-ref-filename="449V">V</a> = <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateAlignedLoadEPNS_4TypeEPNS_5ValueENS_10MaybeAlignERKNS_5TwineE" title='llvm::IRBuilderBase::CreateAlignedLoad' data-ref="_ZN4llvm13IRBuilderBase17CreateAlignedLoadEPNS_4TypeEPNS_5ValueENS_10MaybeAlignERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateAlignedLoadEPNS_4TypeEPNS_5ValueENS_10MaybeAlignERKNS_5TwineE">CreateAlignedLoad</a>(<a class="local col4 ref" href="#404I" title='I' data-ref="404I" data-ref-filename="404I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="local col0 ref" href="#430AllocaResult" title='AllocaResult' data-ref="430AllocaResult" data-ref-filename="430AllocaResult">AllocaResult</a>,</td></tr>
<tr><th id="1837">1837</th><td>                                    <a class="ref fn fake" href="../../include/llvm/Support/Alignment.h.html#134" title='llvm::MaybeAlign::Optional' data-ref="_ZN4llvm10MaybeAlignCI1NS_8OptionalINS_5AlignEEEERKS2_" data-ref-filename="_ZN4llvm10MaybeAlignCI1NS_8OptionalINS_5AlignEEEERKS2_"></a><a class="local col0 ref" href="#420AllocaAlignment" title='AllocaAlignment' data-ref="420AllocaAlignment" data-ref-filename="420AllocaAlignment">AllocaAlignment</a>);</td></tr>
<tr><th id="1838">1838</th><td>      <a class="local col6 ref" href="#416Builder" title='Builder' data-ref="416Builder" data-ref-filename="416Builder">Builder</a>.<a class="ref fn" href="../../include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreateLifetimeEndEPNS_5ValueEPNS_11ConstantIntE" title='llvm::IRBuilderBase::CreateLifetimeEnd' data-ref="_ZN4llvm13IRBuilderBase17CreateLifetimeEndEPNS_5ValueEPNS_11ConstantIntE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreateLifetimeEndEPNS_5ValueEPNS_11ConstantIntE">CreateLifetimeEnd</a>(<a class="local col1 ref" href="#431AllocaResult_i8" title='AllocaResult_i8' data-ref="431AllocaResult_i8" data-ref-filename="431AllocaResult_i8">AllocaResult_i8</a>, <a class="local col1 ref" href="#421SizeVal64" title='SizeVal64' data-ref="421SizeVal64" data-ref-filename="421SizeVal64">SizeVal64</a>);</td></tr>
<tr><th id="1839">1839</th><td>    }</td></tr>
<tr><th id="1840">1840</th><td>    <a class="local col4 ref" href="#404I" title='I' data-ref="404I" data-ref-filename="404I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Value.h.html#_ZN4llvm5Value18replaceAllUsesWithEPS0_" title='llvm::Value::replaceAllUsesWith' data-ref="_ZN4llvm5Value18replaceAllUsesWithEPS0_" data-ref-filename="_ZN4llvm5Value18replaceAllUsesWithEPS0_">replaceAllUsesWith</a>(<a class="local col9 ref" href="#449V" title='V' data-ref="449V" data-ref-filename="449V">V</a>);</td></tr>
<tr><th id="1841">1841</th><td>  }</td></tr>
<tr><th id="1842">1842</th><td>  <a class="local col4 ref" href="#404I" title='I' data-ref="404I" data-ref-filename="404I">I</a>-&gt;<a class="ref fn" href="../../include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction15eraseFromParentEv" title='llvm::Instruction::eraseFromParent' data-ref="_ZN4llvm11Instruction15eraseFromParentEv" data-ref-filename="_ZN4llvm11Instruction15eraseFromParentEv">eraseFromParent</a>();</td></tr>
<tr><th id="1843">1843</th><td>  <b>return</b> <b>true</b>;</td></tr>
<tr><th id="1844">1844</th><td>}</td></tr>
<tr><th id="1845">1845</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2021-Jul-01</em> from project llvm revision <em>12</em>