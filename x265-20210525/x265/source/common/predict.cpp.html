<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>predict.cpp source code [x265/source/common/predict.cpp] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'x265/source/common/predict.cpp'; var root_path = '../../..'; var data_path = '../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>x265</a>/<a href='..'>source</a>/<a href='./'>common</a>/<a href='predict.cpp.html'>predict.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*****************************************************************************</i></td></tr>
<tr><th id="2">2</th><td><i>* Copyright (C) 2013-2020 MulticoreWare, Inc</i></td></tr>
<tr><th id="3">3</th><td><i>*</i></td></tr>
<tr><th id="4">4</th><td><i>* Authors: Deepthi Nandakumar &lt;deepthi@multicorewareinc.com&gt;</i></td></tr>
<tr><th id="5">5</th><td><i>*          Min Chen &lt;chenm003@163.com&gt;</i></td></tr>
<tr><th id="6">6</th><td><i>*</i></td></tr>
<tr><th id="7">7</th><td><i>* This program is free software; you can redistribute it and/or modify</i></td></tr>
<tr><th id="8">8</th><td><i>* it under the terms of the GNU General Public License as published by</i></td></tr>
<tr><th id="9">9</th><td><i>* the Free Software Foundation; either version 2 of the License, or</i></td></tr>
<tr><th id="10">10</th><td><i>* (at your option) any later version.</i></td></tr>
<tr><th id="11">11</th><td><i>*</i></td></tr>
<tr><th id="12">12</th><td><i>* This program is distributed in the hope that it will be useful,</i></td></tr>
<tr><th id="13">13</th><td><i>* but WITHOUT ANY WARRANTY; without even the implied warranty of</i></td></tr>
<tr><th id="14">14</th><td><i>* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</i></td></tr>
<tr><th id="15">15</th><td><i>* GNU General Public License for more details.</i></td></tr>
<tr><th id="16">16</th><td><i>*</i></td></tr>
<tr><th id="17">17</th><td><i>* You should have received a copy of the GNU General Public License</i></td></tr>
<tr><th id="18">18</th><td><i>* along with this program; if not, write to the Free Software</i></td></tr>
<tr><th id="19">19</th><td><i>* Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02111, USA.</i></td></tr>
<tr><th id="20">20</th><td><i>*</i></td></tr>
<tr><th id="21">21</th><td><i>* This program is also available under a commercial proprietary license.</i></td></tr>
<tr><th id="22">22</th><td><i>* For more information, contact us at license @ x265.com.</i></td></tr>
<tr><th id="23">23</th><td><i>*****************************************************************************/</i></td></tr>
<tr><th id="24">24</th><td></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="common.h.html">"common.h"</a></u></td></tr>
<tr><th id="26">26</th><td><u>#include <a href="slice.h.html">"slice.h"</a></u></td></tr>
<tr><th id="27">27</th><td><u>#include <a href="framedata.h.html">"framedata.h"</a></u></td></tr>
<tr><th id="28">28</th><td><u>#include <a href="picyuv.h.html">"picyuv.h"</a></u></td></tr>
<tr><th id="29">29</th><td><u>#include <a href="predict.h.html">"predict.h"</a></u></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="primitives.h.html">"primitives.h"</a></u></td></tr>
<tr><th id="31">31</th><td></td></tr>
<tr><th id="32">32</th><td><b>using</b> <b>namespace</b> <span class="macro" title="x265" data-ref="_M/X265_NS">X265_NS</span>;</td></tr>
<tr><th id="33">33</th><td></td></tr>
<tr><th id="34">34</th><td><u>#<span data-ppcond="34">if</span> _MSC_VER</u></td></tr>
<tr><th id="35">35</th><td><u>#pragma warning(disable: 4127) // conditional expression is constant</u></td></tr>
<tr><th id="36">36</th><td><u>#<span data-ppcond="34">endif</span></u></td></tr>
<tr><th id="37">37</th><td></td></tr>
<tr><th id="38">38</th><td><a class="type" href="predict.h.html#x265::PredictionUnit" title='x265::PredictionUnit' data-ref="x265::PredictionUnit" data-ref-filename="x265..PredictionUnit">PredictionUnit</a>::<dfn class="decl def fn" id="_ZN4x26514PredictionUnitC1ERKNS_6CUDataERKNS_6CUGeomEi" title='x265::PredictionUnit::PredictionUnit' data-ref="_ZN4x26514PredictionUnitC1ERKNS_6CUDataERKNS_6CUGeomEi" data-ref-filename="_ZN4x26514PredictionUnitC1ERKNS_6CUDataERKNS_6CUGeomEi">PredictionUnit</dfn>(<em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>&amp; <dfn class="local col8 decl" id="218cu" title='cu' data-type='const x265::CUData &amp;' data-ref="218cu" data-ref-filename="218cu">cu</dfn>, <em>const</em> <a class="type" href="cudata.h.html#x265::CUGeom" title='x265::CUGeom' data-ref="x265::CUGeom" data-ref-filename="x265..CUGeom">CUGeom</a>&amp; <dfn class="local col9 decl" id="219cuGeom" title='cuGeom' data-type='const x265::CUGeom &amp;' data-ref="219cuGeom" data-ref-filename="219cuGeom">cuGeom</dfn>, <em>int</em> <dfn class="local col0 decl" id="220puIdx" title='puIdx' data-type='int' data-ref="220puIdx" data-ref-filename="220puIdx">puIdx</dfn>)</td></tr>
<tr><th id="39">39</th><td>{</td></tr>
<tr><th id="40">40</th><td>    <i>/* address of CTU */</i></td></tr>
<tr><th id="41">41</th><td>    <a class="member field" href="predict.h.html#x265::PredictionUnit::ctuAddr" title='x265::PredictionUnit::ctuAddr' data-ref="x265::PredictionUnit::ctuAddr" data-ref-filename="x265..PredictionUnit..ctuAddr">ctuAddr</a> = <a class="local col8 ref" href="#218cu" title='cu' data-ref="218cu" data-ref-filename="218cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_cuAddr" title='x265::CUData::m_cuAddr' data-ref="x265::CUData::m_cuAddr" data-ref-filename="x265..CUData..m_cuAddr">m_cuAddr</a>;</td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td>    <i>/* offset of CU */</i></td></tr>
<tr><th id="44">44</th><td>    <a class="member field" href="predict.h.html#x265::PredictionUnit::cuAbsPartIdx" title='x265::PredictionUnit::cuAbsPartIdx' data-ref="x265::PredictionUnit::cuAbsPartIdx" data-ref-filename="x265..PredictionUnit..cuAbsPartIdx">cuAbsPartIdx</a> = <a class="local col9 ref" href="#219cuGeom" title='cuGeom' data-ref="219cuGeom" data-ref-filename="219cuGeom">cuGeom</a>.<a class="ref field" href="cudata.h.html#x265::CUGeom::absPartIdx" title='x265::CUGeom::absPartIdx' data-ref="x265::CUGeom::absPartIdx" data-ref-filename="x265..CUGeom..absPartIdx">absPartIdx</a>;</td></tr>
<tr><th id="45">45</th><td></td></tr>
<tr><th id="46">46</th><td>    <i>/* offset and dimensions of PU */</i></td></tr>
<tr><th id="47">47</th><td>    <a class="local col8 ref" href="#218cu" title='cu' data-ref="218cu" data-ref-filename="218cu">cu</a>.<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData19getPartIndexAndSizeEjRjRiS2_" title='x265::CUData::getPartIndexAndSize' data-ref="_ZNK4x2656CUData19getPartIndexAndSizeEjRjRiS2_" data-ref-filename="_ZNK4x2656CUData19getPartIndexAndSizeEjRjRiS2_">getPartIndexAndSize</a>(<a class="local col0 ref" href="#220puIdx" title='puIdx' data-ref="220puIdx" data-ref-filename="220puIdx">puIdx</a>, <span class='refarg'><a class="member field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a></span>, <span class='refarg'><a class="member field" href="predict.h.html#x265::PredictionUnit::width" title='x265::PredictionUnit::width' data-ref="x265::PredictionUnit::width" data-ref-filename="x265..PredictionUnit..width">width</a></span>, <span class='refarg'><a class="member field" href="predict.h.html#x265::PredictionUnit::height" title='x265::PredictionUnit::height' data-ref="x265::PredictionUnit::height" data-ref-filename="x265..PredictionUnit..height">height</a></span>);</td></tr>
<tr><th id="48">48</th><td>}</td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td><b>namespace</b></td></tr>
<tr><th id="51">51</th><td>{</td></tr>
<tr><th id="52">52</th><td><b>inline</b> <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> <dfn class="tu decl def fn" id="_ZN12_GLOBAL__N_111weightBidirEisisiii" title='(anonymous namespace)::weightBidir' data-type='pixel (anonymous namespace)::weightBidir(int w0, int16_t P0, int w1, int16_t P1, int round, int shift, int offset)' data-ref="_ZN12_GLOBAL__N_111weightBidirEisisiii" data-ref-filename="_ZN12_GLOBAL__N_111weightBidirEisisiii">weightBidir</dfn>(<em>int</em> <dfn class="local col1 decl" id="221w0" title='w0' data-type='int' data-ref="221w0" data-ref-filename="221w0">w0</dfn>, <a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a> <dfn class="local col2 decl" id="222P0" title='P0' data-type='int16_t' data-ref="222P0" data-ref-filename="222P0">P0</dfn>, <em>int</em> <dfn class="local col3 decl" id="223w1" title='w1' data-type='int' data-ref="223w1" data-ref-filename="223w1">w1</dfn>, <a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a> <dfn class="local col4 decl" id="224P1" title='P1' data-type='int16_t' data-ref="224P1" data-ref-filename="224P1">P1</dfn>, <em>int</em> <dfn class="local col5 decl" id="225round" title='round' data-type='int' data-ref="225round" data-ref-filename="225round">round</dfn>, <em>int</em> <dfn class="local col6 decl" id="226shift" title='shift' data-type='int' data-ref="226shift" data-ref-filename="226shift">shift</dfn>, <em>int</em> <dfn class="local col7 decl" id="227offset" title='offset' data-type='int' data-ref="227offset" data-ref-filename="227offset">offset</dfn>)</td></tr>
<tr><th id="53">53</th><td>{</td></tr>
<tr><th id="54">54</th><td>    <b>return</b> <a class="ref fn" href="common.h.html#_Z9x265_clipT_" title='x265_clip' data-ref="_Z9x265_clipT_" data-ref-filename="_Z9x265_clipT_">x265_clip</a>((<a class="local col1 ref" href="#221w0" title='w0' data-ref="221w0" data-ref-filename="221w0">w0</a> * (<a class="local col2 ref" href="#222P0" title='P0' data-ref="222P0" data-ref-filename="222P0">P0</a> + <a class="macro" href="constants.h.html#70" title="(1 &lt;&lt; (14 - 1))" data-ref="_M/IF_INTERNAL_OFFS">IF_INTERNAL_OFFS</a>) + <a class="local col3 ref" href="#223w1" title='w1' data-ref="223w1" data-ref-filename="223w1">w1</a> * (<a class="local col4 ref" href="#224P1" title='P1' data-ref="224P1" data-ref-filename="224P1">P1</a> + <a class="macro" href="constants.h.html#70" title="(1 &lt;&lt; (14 - 1))" data-ref="_M/IF_INTERNAL_OFFS">IF_INTERNAL_OFFS</a>) + <a class="local col5 ref" href="#225round" title='round' data-ref="225round" data-ref-filename="225round">round</a> + (<a class="local col7 ref" href="#227offset" title='offset' data-ref="227offset" data-ref-filename="227offset">offset</a> * (<var>1</var> &lt;&lt; (<a class="local col6 ref" href="#226shift" title='shift' data-ref="226shift" data-ref-filename="226shift">shift</a> - <var>1</var>)))) &gt;&gt; <a class="local col6 ref" href="#226shift" title='shift' data-ref="226shift" data-ref-filename="226shift">shift</a>);</td></tr>
<tr><th id="55">55</th><td>}</td></tr>
<tr><th id="56">56</th><td>}</td></tr>
<tr><th id="57">57</th><td></td></tr>
<tr><th id="58">58</th><td><a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657PredictC1Ev" title='x265::Predict::Predict' data-ref="_ZN4x2657PredictC1Ev" data-ref-filename="_ZN4x2657PredictC1Ev">Predict</dfn>()</td></tr>
<tr><th id="59">59</th><td>{</td></tr>
<tr><th id="60">60</th><td>}</td></tr>
<tr><th id="61">61</th><td></td></tr>
<tr><th id="62">62</th><td><a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657PredictD1Ev" title='x265::Predict::~Predict' data-ref="_ZN4x2657PredictD1Ev" data-ref-filename="_ZN4x2657PredictD1Ev">~Predict</dfn>()</td></tr>
<tr><th id="63">63</th><td>{</td></tr>
<tr><th id="64">64</th><td>    <a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>0</var>].<a class="ref fn" href="shortyuv.h.html#_ZN4x2658ShortYuv7destroyEv" title='x265::ShortYuv::destroy' data-ref="_ZN4x2658ShortYuv7destroyEv" data-ref-filename="_ZN4x2658ShortYuv7destroyEv">destroy</a>();</td></tr>
<tr><th id="65">65</th><td>    <a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>1</var>].<a class="ref fn" href="shortyuv.h.html#_ZN4x2658ShortYuv7destroyEv" title='x265::ShortYuv::destroy' data-ref="_ZN4x2658ShortYuv7destroyEv" data-ref-filename="_ZN4x2658ShortYuv7destroyEv">destroy</a>();</td></tr>
<tr><th id="66">66</th><td>}</td></tr>
<tr><th id="67">67</th><td></td></tr>
<tr><th id="68">68</th><td><em>bool</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657Predict12allocBuffersEi" title='x265::Predict::allocBuffers' data-ref="_ZN4x2657Predict12allocBuffersEi" data-ref-filename="_ZN4x2657Predict12allocBuffersEi">allocBuffers</dfn>(<em>int</em> <dfn class="local col8 decl" id="228csp" title='csp' data-type='int' data-ref="228csp" data-ref-filename="228csp">csp</dfn>)</td></tr>
<tr><th id="69">69</th><td>{</td></tr>
<tr><th id="70">70</th><td>    <a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a> = <a class="local col8 ref" href="#228csp" title='csp' data-ref="228csp" data-ref-filename="228csp">csp</a>;</td></tr>
<tr><th id="71">71</th><td>    <a class="member field" href="predict.h.html#x265::Predict::m_hChromaShift" title='x265::Predict::m_hChromaShift' data-ref="x265::Predict::m_hChromaShift" data-ref-filename="x265..Predict..m_hChromaShift">m_hChromaShift</a> = <a class="macro" href="common.h.html#327" title="(csp == 1 || csp == 2)" data-ref="_M/CHROMA_H_SHIFT">CHROMA_H_SHIFT</a>(<a class="local col8 ref" href="#228csp" title='csp' data-ref="228csp" data-ref-filename="228csp">csp</a>);</td></tr>
<tr><th id="72">72</th><td>    <a class="member field" href="predict.h.html#x265::Predict::m_vChromaShift" title='x265::Predict::m_vChromaShift' data-ref="x265::Predict::m_vChromaShift" data-ref-filename="x265..Predict..m_vChromaShift">m_vChromaShift</a> = <a class="macro" href="common.h.html#328" title="(csp == 1)" data-ref="_M/CHROMA_V_SHIFT">CHROMA_V_SHIFT</a>(<a class="local col8 ref" href="#228csp" title='csp' data-ref="228csp" data-ref-filename="228csp">csp</a>);</td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td>    <b>return</b> <a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>0</var>].<a class="ref fn" href="shortyuv.h.html#_ZN4x2658ShortYuv6createEji" title='x265::ShortYuv::create' data-ref="_ZN4x2658ShortYuv6createEji" data-ref-filename="_ZN4x2658ShortYuv6createEji">create</a>(<a class="macro" href="common.h.html#257" title="(1 &lt;&lt; 6)" data-ref="_M/MAX_CU_SIZE">MAX_CU_SIZE</a>, <a class="local col8 ref" href="#228csp" title='csp' data-ref="228csp" data-ref-filename="228csp">csp</a>) &amp;&amp; <a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>1</var>].<a class="ref fn" href="shortyuv.h.html#_ZN4x2658ShortYuv6createEji" title='x265::ShortYuv::create' data-ref="_ZN4x2658ShortYuv6createEji" data-ref-filename="_ZN4x2658ShortYuv6createEji">create</a>(<a class="macro" href="common.h.html#257" title="(1 &lt;&lt; 6)" data-ref="_M/MAX_CU_SIZE">MAX_CU_SIZE</a>, <a class="local col8 ref" href="#228csp" title='csp' data-ref="228csp" data-ref-filename="228csp">csp</a>);</td></tr>
<tr><th id="75">75</th><td>}</td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td><em>void</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657Predict18motionCompensationERKNS_6CUDataERKNS_14PredictionUnitERNS_3YuvEbb" title='x265::Predict::motionCompensation' data-ref="_ZN4x2657Predict18motionCompensationERKNS_6CUDataERKNS_14PredictionUnitERNS_3YuvEbb" data-ref-filename="_ZN4x2657Predict18motionCompensationERKNS_6CUDataERKNS_14PredictionUnitERNS_3YuvEbb">motionCompensation</dfn>(<em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>&amp; <dfn class="local col9 decl" id="229cu" title='cu' data-type='const x265::CUData &amp;' data-ref="229cu" data-ref-filename="229cu">cu</dfn>, <em>const</em> <a class="type" href="predict.h.html#x265::PredictionUnit" title='x265::PredictionUnit' data-ref="x265::PredictionUnit" data-ref-filename="x265..PredictionUnit">PredictionUnit</a>&amp; <dfn class="local col0 decl" id="230pu" title='pu' data-type='const x265::PredictionUnit &amp;' data-ref="230pu" data-ref-filename="230pu">pu</dfn>, <a class="type" href="yuv.h.html#x265::Yuv" title='x265::Yuv' data-ref="x265::Yuv" data-ref-filename="x265..Yuv">Yuv</a>&amp; <dfn class="local col1 decl" id="231predYuv" title='predYuv' data-type='x265::Yuv &amp;' data-ref="231predYuv" data-ref-filename="231predYuv">predYuv</dfn>, <em>bool</em> <dfn class="local col2 decl" id="232bLuma" title='bLuma' data-type='bool' data-ref="232bLuma" data-ref-filename="232bLuma">bLuma</dfn>, <em>bool</em> <dfn class="local col3 decl" id="233bChroma" title='bChroma' data-type='bool' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</dfn>)</td></tr>
<tr><th id="78">78</th><td>{</td></tr>
<tr><th id="79">79</th><td>    <em>int</em> <dfn class="local col4 decl" id="234refIdx0" title='refIdx0' data-type='int' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</dfn> = <a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_refIdx" title='x265::CUData::m_refIdx' data-ref="x265::CUData::m_refIdx" data-ref-filename="x265..CUData..m_refIdx">m_refIdx</a>[<var>0</var>][<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>];</td></tr>
<tr><th id="80">80</th><td>    <em>int</em> <dfn class="local col5 decl" id="235refIdx1" title='refIdx1' data-type='int' data-ref="235refIdx1" data-ref-filename="235refIdx1">refIdx1</dfn> = <a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_refIdx" title='x265::CUData::m_refIdx' data-ref="x265::CUData::m_refIdx" data-ref-filename="x265..CUData..m_refIdx">m_refIdx</a>[<var>1</var>][<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>];</td></tr>
<tr><th id="81">81</th><td></td></tr>
<tr><th id="82">82</th><td>    <b>if</b> (<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref fn" href="slice.h.html#_ZNK4x2655Slice8isInterPEv" title='x265::Slice::isInterP' data-ref="_ZNK4x2655Slice8isInterPEv" data-ref-filename="_ZNK4x2655Slice8isInterPEv">isInterP</a>())</td></tr>
<tr><th id="83">83</th><td>    {</td></tr>
<tr><th id="84">84</th><td>        <i>/* P Slice */</i></td></tr>
<tr><th id="85">85</th><td>        <a class="type" href="predict.h.html#x265::Predict::WeightValues" title='x265::Predict::WeightValues' data-ref="x265::Predict::WeightValues" data-ref-filename="x265..Predict..WeightValues">WeightValues</a> <a class="ref fn fake" href="predict.h.html#58" title='x265::Predict::WeightValues::WeightValues' data-ref="_ZN4x2657Predict12WeightValuesC1Ev" data-ref-filename="_ZN4x2657Predict12WeightValuesC1Ev"></a><dfn class="local col6 decl" id="236wv0" title='wv0' data-type='x265::Predict::WeightValues [3]' data-ref="236wv0" data-ref-filename="236wv0">wv0</dfn>[<var>3</var>];</td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td>        <a class="macro" href="common.h.html#123" title="" data-ref="_M/X265_CHECK">X265_CHECK</a>(refIdx0 &gt;= <var>0</var>, <q>"invalid P refidx\n"</q>);</td></tr>
<tr><th id="88">88</th><td>        <a class="macro" href="common.h.html#123" title="" data-ref="_M/X265_CHECK">X265_CHECK</a>(refIdx0 &lt; cu.m_slice-&gt;m_numRefIdx[<var>0</var>], <q>"P refidx out of range\n"</q>);</td></tr>
<tr><th id="89">89</th><td>        <em>const</em> <a class="type" href="slice.h.html#x265::WeightParam" title='x265::WeightParam' data-ref="x265::WeightParam" data-ref-filename="x265..WeightParam">WeightParam</a> *<dfn class="local col7 decl" id="237wp0" title='wp0' data-type='const x265::WeightParam *' data-ref="237wp0" data-ref-filename="237wp0">wp0</dfn> = <a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_weightPredTable" title='x265::Slice::m_weightPredTable' data-ref="x265::Slice::m_weightPredTable" data-ref-filename="x265..Slice..m_weightPredTable">m_weightPredTable</a>[<var>0</var>][<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a>];</td></tr>
<tr><th id="90">90</th><td></td></tr>
<tr><th id="91">91</th><td>        <a class="type" href="mv.h.html#x265::MV" title='x265::MV' data-ref="x265::MV" data-ref-filename="x265..MV">MV</a> <dfn class="local col8 decl" id="238mv0" title='mv0' data-type='x265::MV' data-ref="238mv0" data-ref-filename="238mv0">mv0</dfn> = <a class="ref fn fake" href="mv.h.html#37" title='x265::MV::MV' data-ref="_ZN4x2652MVC1ERKS0_" data-ref-filename="_ZN4x2652MVC1ERKS0_"></a><a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_mv" title='x265::CUData::m_mv' data-ref="x265::CUData::m_mv" data-ref-filename="x265..CUData..m_mv">m_mv</a>[<var>0</var>][<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>];</td></tr>
<tr><th id="92">92</th><td>        <a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData6clipMvERNS_2MVE" title='x265::CUData::clipMv' data-ref="_ZNK4x2656CUData6clipMvERNS_2MVE" data-ref-filename="_ZNK4x2656CUData6clipMvERNS_2MVE">clipMv</a>(<span class='refarg'><a class="local col8 ref" href="#238mv0" title='mv0' data-ref="238mv0" data-ref-filename="238mv0">mv0</a></span>);</td></tr>
<tr><th id="93">93</th><td></td></tr>
<tr><th id="94">94</th><td>        <b>if</b> (<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_pps" title='x265::Slice::m_pps' data-ref="x265::Slice::m_pps" data-ref-filename="x265..Slice..m_pps">m_pps</a>-&gt;<a class="ref field" href="slice.h.html#x265::PPS::bUseWeightPred" title='x265::PPS::bUseWeightPred' data-ref="x265::PPS::bUseWeightPred" data-ref-filename="x265..PPS..bUseWeightPred">bUseWeightPred</a> &amp;&amp; <a class="local col7 ref" href="#237wp0" title='wp0' data-ref="237wp0" data-ref-filename="237wp0">wp0</a>-&gt;<a class="ref field" href="slice.h.html#x265::WeightParam::wtPresent" title='x265::WeightParam::wtPresent' data-ref="x265::WeightParam::wtPresent" data-ref-filename="x265..WeightParam..wtPresent">wtPresent</a>)</td></tr>
<tr><th id="95">95</th><td>        {</td></tr>
<tr><th id="96">96</th><td>            <b>for</b> (<em>int</em> <dfn class="local col9 decl" id="239plane" title='plane' data-type='int' data-ref="239plane" data-ref-filename="239plane">plane</dfn> = <var>0</var>; <a class="local col9 ref" href="#239plane" title='plane' data-ref="239plane" data-ref-filename="239plane">plane</a> &lt; (<a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a> ? <var>3</var> : <var>1</var>); <a class="local col9 ref" href="#239plane" title='plane' data-ref="239plane" data-ref-filename="239plane">plane</a>++)</td></tr>
<tr><th id="97">97</th><td>            {</td></tr>
<tr><th id="98">98</th><td>                <a class="local col6 ref" href="#236wv0" title='wv0' data-ref="236wv0" data-ref-filename="236wv0">wv0</a>[<a class="local col9 ref" href="#239plane" title='plane' data-ref="239plane" data-ref-filename="239plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::w" title='x265::Predict::WeightValues::w' data-ref="x265::Predict::WeightValues::w" data-ref-filename="x265..Predict..WeightValues..w">w</a>      = <a class="local col7 ref" href="#237wp0" title='wp0' data-ref="237wp0" data-ref-filename="237wp0">wp0</a>[<a class="local col9 ref" href="#239plane" title='plane' data-ref="239plane" data-ref-filename="239plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::inputWeight" title='x265::WeightParam::inputWeight' data-ref="x265::WeightParam::inputWeight" data-ref-filename="x265..WeightParam..inputWeight">inputWeight</a>;</td></tr>
<tr><th id="99">99</th><td>                <a class="local col6 ref" href="#236wv0" title='wv0' data-ref="236wv0" data-ref-filename="236wv0">wv0</a>[<a class="local col9 ref" href="#239plane" title='plane' data-ref="239plane" data-ref-filename="239plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::offset" title='x265::Predict::WeightValues::offset' data-ref="x265::Predict::WeightValues::offset" data-ref-filename="x265..Predict..WeightValues..offset">offset</a> = <a class="local col7 ref" href="#237wp0" title='wp0' data-ref="237wp0" data-ref-filename="237wp0">wp0</a>[<a class="local col9 ref" href="#239plane" title='plane' data-ref="239plane" data-ref-filename="239plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::inputOffset" title='x265::WeightParam::inputOffset' data-ref="x265::WeightParam::inputOffset" data-ref-filename="x265..WeightParam..inputOffset">inputOffset</a> * (<var>1</var> &lt;&lt; (<span class="macro" title="8" data-ref="_M/X265_DEPTH">X265_DEPTH</span> - <var>8</var>));</td></tr>
<tr><th id="100">100</th><td>                <a class="local col6 ref" href="#236wv0" title='wv0' data-ref="236wv0" data-ref-filename="236wv0">wv0</a>[<a class="local col9 ref" href="#239plane" title='plane' data-ref="239plane" data-ref-filename="239plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::shift" title='x265::Predict::WeightValues::shift' data-ref="x265::Predict::WeightValues::shift" data-ref-filename="x265..Predict..WeightValues..shift">shift</a>  = <a class="local col7 ref" href="#237wp0" title='wp0' data-ref="237wp0" data-ref-filename="237wp0">wp0</a>[<a class="local col9 ref" href="#239plane" title='plane' data-ref="239plane" data-ref-filename="239plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::log2WeightDenom" title='x265::WeightParam::log2WeightDenom' data-ref="x265::WeightParam::log2WeightDenom" data-ref-filename="x265..WeightParam..log2WeightDenom">log2WeightDenom</a>;</td></tr>
<tr><th id="101">101</th><td>                <a class="local col6 ref" href="#236wv0" title='wv0' data-ref="236wv0" data-ref-filename="236wv0">wv0</a>[<a class="local col9 ref" href="#239plane" title='plane' data-ref="239plane" data-ref-filename="239plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::round" title='x265::Predict::WeightValues::round' data-ref="x265::Predict::WeightValues::round" data-ref-filename="x265..Predict..WeightValues..round">round</a>  = <a class="local col7 ref" href="#237wp0" title='wp0' data-ref="237wp0" data-ref-filename="237wp0">wp0</a>[<a class="local col9 ref" href="#239plane" title='plane' data-ref="239plane" data-ref-filename="239plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::log2WeightDenom" title='x265::WeightParam::log2WeightDenom' data-ref="x265::WeightParam::log2WeightDenom" data-ref-filename="x265..WeightParam..log2WeightDenom">log2WeightDenom</a> &gt;= <var>1</var> ? <var>1</var> &lt;&lt; (<a class="local col7 ref" href="#237wp0" title='wp0' data-ref="237wp0" data-ref-filename="237wp0">wp0</a>[<a class="local col9 ref" href="#239plane" title='plane' data-ref="239plane" data-ref-filename="239plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::log2WeightDenom" title='x265::WeightParam::log2WeightDenom' data-ref="x265::WeightParam::log2WeightDenom" data-ref-filename="x265..WeightParam..log2WeightDenom">log2WeightDenom</a> - <var>1</var>) : <var>0</var>;</td></tr>
<tr><th id="102">102</th><td>            }</td></tr>
<tr><th id="103">103</th><td></td></tr>
<tr><th id="104">104</th><td>            <a class="type" href="shortyuv.h.html#x265::ShortYuv" title='x265::ShortYuv' data-ref="x265::ShortYuv" data-ref-filename="x265..ShortYuv">ShortYuv</a>&amp; <dfn class="local col0 decl" id="240shortYuv" title='shortYuv' data-type='x265::ShortYuv &amp;' data-ref="240shortYuv" data-ref-filename="240shortYuv">shortYuv</dfn> = <a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>0</var>];</td></tr>
<tr><th id="105">105</th><td></td></tr>
<tr><th id="106">106</th><td>            <b>if</b> (<a class="local col2 ref" href="#232bLuma" title='bLuma' data-ref="232bLuma" data-ref-filename="232bLuma">bLuma</a>)</td></tr>
<tr><th id="107">107</th><td>                <a class="member fn" href="#_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterLumaShort' data-ref="_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE">predInterLumaShort</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col0 ref" href="#240shortYuv" title='shortYuv' data-ref="240shortYuv" data-ref-filename="240shortYuv">shortYuv</a></span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>0</var>][<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a>], <a class="local col8 ref" href="#238mv0" title='mv0' data-ref="238mv0" data-ref-filename="238mv0">mv0</a>);</td></tr>
<tr><th id="108">108</th><td>            <b>if</b> (<a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a>)</td></tr>
<tr><th id="109">109</th><td>                <a class="member fn" href="#_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterChromaShort' data-ref="_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE">predInterChromaShort</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col0 ref" href="#240shortYuv" title='shortYuv' data-ref="240shortYuv" data-ref-filename="240shortYuv">shortYuv</a></span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>0</var>][<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a>], <a class="local col8 ref" href="#238mv0" title='mv0' data-ref="238mv0" data-ref-filename="238mv0">mv0</a>);</td></tr>
<tr><th id="110">110</th><td></td></tr>
<tr><th id="111">111</th><td>            <a class="member fn" href="#_ZNK4x2657Predict12addWeightUniERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvEPKNS0_12WeightValuesEbb" title='x265::Predict::addWeightUni' data-ref="_ZNK4x2657Predict12addWeightUniERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvEPKNS0_12WeightValuesEbb" data-ref-filename="_ZNK4x2657Predict12addWeightUniERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvEPKNS0_12WeightValuesEbb">addWeightUni</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col1 ref" href="#231predYuv" title='predYuv' data-ref="231predYuv" data-ref-filename="231predYuv">predYuv</a></span>, <a class="local col0 ref" href="#240shortYuv" title='shortYuv' data-ref="240shortYuv" data-ref-filename="240shortYuv">shortYuv</a>, <a class="local col6 ref" href="#236wv0" title='wv0' data-ref="236wv0" data-ref-filename="236wv0">wv0</a>, <a class="local col2 ref" href="#232bLuma" title='bLuma' data-ref="232bLuma" data-ref-filename="232bLuma">bLuma</a>, <a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a>);</td></tr>
<tr><th id="112">112</th><td>        }</td></tr>
<tr><th id="113">113</th><td>        <b>else</b></td></tr>
<tr><th id="114">114</th><td>        {</td></tr>
<tr><th id="115">115</th><td>            <b>if</b> (<a class="local col2 ref" href="#232bLuma" title='bLuma' data-ref="232bLuma" data-ref-filename="232bLuma">bLuma</a>)</td></tr>
<tr><th id="116">116</th><td>                <a class="member fn" href="#_ZNK4x2657Predict18predInterLumaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterLumaPixel' data-ref="_ZNK4x2657Predict18predInterLumaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict18predInterLumaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE">predInterLumaPixel</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col1 ref" href="#231predYuv" title='predYuv' data-ref="231predYuv" data-ref-filename="231predYuv">predYuv</a></span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>0</var>][<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a>], <a class="local col8 ref" href="#238mv0" title='mv0' data-ref="238mv0" data-ref-filename="238mv0">mv0</a>);</td></tr>
<tr><th id="117">117</th><td>            <b>if</b> (<a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a>)</td></tr>
<tr><th id="118">118</th><td>                <a class="member fn" href="#_ZNK4x2657Predict20predInterChromaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterChromaPixel' data-ref="_ZNK4x2657Predict20predInterChromaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict20predInterChromaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE">predInterChromaPixel</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col1 ref" href="#231predYuv" title='predYuv' data-ref="231predYuv" data-ref-filename="231predYuv">predYuv</a></span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>0</var>][<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a>], <a class="local col8 ref" href="#238mv0" title='mv0' data-ref="238mv0" data-ref-filename="238mv0">mv0</a>);</td></tr>
<tr><th id="119">119</th><td>        }</td></tr>
<tr><th id="120">120</th><td>    }</td></tr>
<tr><th id="121">121</th><td>    <b>else</b></td></tr>
<tr><th id="122">122</th><td>    {</td></tr>
<tr><th id="123">123</th><td>        <i>/* B Slice */</i></td></tr>
<tr><th id="124">124</th><td></td></tr>
<tr><th id="125">125</th><td>        <a class="type" href="predict.h.html#x265::Predict::WeightValues" title='x265::Predict::WeightValues' data-ref="x265::Predict::WeightValues" data-ref-filename="x265..Predict..WeightValues">WeightValues</a> <a class="ref fn fake" href="predict.h.html#58" title='x265::Predict::WeightValues::WeightValues' data-ref="_ZN4x2657Predict12WeightValuesC1Ev" data-ref-filename="_ZN4x2657Predict12WeightValuesC1Ev"></a><dfn class="local col1 decl" id="241wv0" title='wv0' data-type='x265::Predict::WeightValues [3]' data-ref="241wv0" data-ref-filename="241wv0">wv0</dfn>[<var>3</var>], <a class="ref fn fake" href="predict.h.html#58" title='x265::Predict::WeightValues::WeightValues' data-ref="_ZN4x2657Predict12WeightValuesC1Ev" data-ref-filename="_ZN4x2657Predict12WeightValuesC1Ev"></a><dfn class="local col2 decl" id="242wv1" title='wv1' data-type='x265::Predict::WeightValues [3]' data-ref="242wv1" data-ref-filename="242wv1">wv1</dfn>[<var>3</var>];</td></tr>
<tr><th id="126">126</th><td>        <em>const</em> <a class="type" href="slice.h.html#x265::WeightParam" title='x265::WeightParam' data-ref="x265::WeightParam" data-ref-filename="x265..WeightParam">WeightParam</a> *<dfn class="local col3 decl" id="243pwp0" title='pwp0' data-type='const x265::WeightParam *' data-ref="243pwp0" data-ref-filename="243pwp0">pwp0</dfn>, *<dfn class="local col4 decl" id="244pwp1" title='pwp1' data-type='const x265::WeightParam *' data-ref="244pwp1" data-ref-filename="244pwp1">pwp1</dfn>;</td></tr>
<tr><th id="127">127</th><td></td></tr>
<tr><th id="128">128</th><td>        <a class="macro" href="common.h.html#123" title="" data-ref="_M/X265_CHECK">X265_CHECK</a>(refIdx0 &lt; cu.m_slice-&gt;m_numRefIdx[<var>0</var>], <q>"bidir refidx0 out of range\n"</q>);</td></tr>
<tr><th id="129">129</th><td>        <a class="macro" href="common.h.html#123" title="" data-ref="_M/X265_CHECK">X265_CHECK</a>(refIdx1 &lt; cu.m_slice-&gt;m_numRefIdx[<var>1</var>], <q>"bidir refidx1 out of range\n"</q>);</td></tr>
<tr><th id="130">130</th><td></td></tr>
<tr><th id="131">131</th><td>        <b>if</b> (<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_pps" title='x265::Slice::m_pps' data-ref="x265::Slice::m_pps" data-ref-filename="x265..Slice..m_pps">m_pps</a>-&gt;<a class="ref field" href="slice.h.html#x265::PPS::bUseWeightedBiPred" title='x265::PPS::bUseWeightedBiPred' data-ref="x265::PPS::bUseWeightedBiPred" data-ref-filename="x265..PPS..bUseWeightedBiPred">bUseWeightedBiPred</a>)</td></tr>
<tr><th id="132">132</th><td>        {</td></tr>
<tr><th id="133">133</th><td>            <a class="local col3 ref" href="#243pwp0" title='pwp0' data-ref="243pwp0" data-ref-filename="243pwp0">pwp0</a> = <a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a> &gt;= <var>0</var> ? <a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_weightPredTable" title='x265::Slice::m_weightPredTable' data-ref="x265::Slice::m_weightPredTable" data-ref-filename="x265..Slice..m_weightPredTable">m_weightPredTable</a>[<var>0</var>][<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a>] : <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="134">134</th><td>            <a class="local col4 ref" href="#244pwp1" title='pwp1' data-ref="244pwp1" data-ref-filename="244pwp1">pwp1</a> = <a class="local col5 ref" href="#235refIdx1" title='refIdx1' data-ref="235refIdx1" data-ref-filename="235refIdx1">refIdx1</a> &gt;= <var>0</var> ? <a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_weightPredTable" title='x265::Slice::m_weightPredTable' data-ref="x265::Slice::m_weightPredTable" data-ref-filename="x265..Slice..m_weightPredTable">m_weightPredTable</a>[<var>1</var>][<a class="local col5 ref" href="#235refIdx1" title='refIdx1' data-ref="235refIdx1" data-ref-filename="235refIdx1">refIdx1</a>] : <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="135">135</th><td></td></tr>
<tr><th id="136">136</th><td>            <b>if</b> (<a class="local col3 ref" href="#243pwp0" title='pwp0' data-ref="243pwp0" data-ref-filename="243pwp0">pwp0</a> &amp;&amp; <a class="local col4 ref" href="#244pwp1" title='pwp1' data-ref="244pwp1" data-ref-filename="244pwp1">pwp1</a> &amp;&amp; (<a class="local col3 ref" href="#243pwp0" title='pwp0' data-ref="243pwp0" data-ref-filename="243pwp0">pwp0</a>-&gt;<a class="ref field" href="slice.h.html#x265::WeightParam::wtPresent" title='x265::WeightParam::wtPresent' data-ref="x265::WeightParam::wtPresent" data-ref-filename="x265..WeightParam..wtPresent">wtPresent</a> || <a class="local col4 ref" href="#244pwp1" title='pwp1' data-ref="244pwp1" data-ref-filename="244pwp1">pwp1</a>-&gt;<a class="ref field" href="slice.h.html#x265::WeightParam::wtPresent" title='x265::WeightParam::wtPresent' data-ref="x265::WeightParam::wtPresent" data-ref-filename="x265..WeightParam..wtPresent">wtPresent</a>))</td></tr>
<tr><th id="137">137</th><td>            {</td></tr>
<tr><th id="138">138</th><td>                <i>/* biprediction weighting */</i></td></tr>
<tr><th id="139">139</th><td>                <b>for</b> (<em>int</em> <dfn class="local col5 decl" id="245plane" title='plane' data-type='int' data-ref="245plane" data-ref-filename="245plane">plane</dfn> = <var>0</var>; <a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a> &lt; (<a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a> ? <var>3</var> : <var>1</var>); <a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>++)</td></tr>
<tr><th id="140">140</th><td>                {</td></tr>
<tr><th id="141">141</th><td>                    <a class="local col1 ref" href="#241wv0" title='wv0' data-ref="241wv0" data-ref-filename="241wv0">wv0</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::w" title='x265::Predict::WeightValues::w' data-ref="x265::Predict::WeightValues::w" data-ref-filename="x265..Predict..WeightValues..w">w</a> = <a class="local col3 ref" href="#243pwp0" title='pwp0' data-ref="243pwp0" data-ref-filename="243pwp0">pwp0</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::inputWeight" title='x265::WeightParam::inputWeight' data-ref="x265::WeightParam::inputWeight" data-ref-filename="x265..WeightParam..inputWeight">inputWeight</a>;</td></tr>
<tr><th id="142">142</th><td>                    <a class="local col1 ref" href="#241wv0" title='wv0' data-ref="241wv0" data-ref-filename="241wv0">wv0</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::o" title='x265::Predict::WeightValues::o' data-ref="x265::Predict::WeightValues::o" data-ref-filename="x265..Predict..WeightValues..o">o</a> = <a class="local col3 ref" href="#243pwp0" title='pwp0' data-ref="243pwp0" data-ref-filename="243pwp0">pwp0</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::inputOffset" title='x265::WeightParam::inputOffset' data-ref="x265::WeightParam::inputOffset" data-ref-filename="x265..WeightParam..inputOffset">inputOffset</a> * (<var>1</var> &lt;&lt; (<span class="macro" title="8" data-ref="_M/X265_DEPTH">X265_DEPTH</span> - <var>8</var>));</td></tr>
<tr><th id="143">143</th><td>                    <a class="local col1 ref" href="#241wv0" title='wv0' data-ref="241wv0" data-ref-filename="241wv0">wv0</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::shift" title='x265::Predict::WeightValues::shift' data-ref="x265::Predict::WeightValues::shift" data-ref-filename="x265..Predict..WeightValues..shift">shift</a> = <a class="local col3 ref" href="#243pwp0" title='pwp0' data-ref="243pwp0" data-ref-filename="243pwp0">pwp0</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::log2WeightDenom" title='x265::WeightParam::log2WeightDenom' data-ref="x265::WeightParam::log2WeightDenom" data-ref-filename="x265..WeightParam..log2WeightDenom">log2WeightDenom</a>;</td></tr>
<tr><th id="144">144</th><td>                    <a class="local col1 ref" href="#241wv0" title='wv0' data-ref="241wv0" data-ref-filename="241wv0">wv0</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::round" title='x265::Predict::WeightValues::round' data-ref="x265::Predict::WeightValues::round" data-ref-filename="x265..Predict..WeightValues..round">round</a> = <var>1</var> &lt;&lt; <a class="local col3 ref" href="#243pwp0" title='pwp0' data-ref="243pwp0" data-ref-filename="243pwp0">pwp0</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::log2WeightDenom" title='x265::WeightParam::log2WeightDenom' data-ref="x265::WeightParam::log2WeightDenom" data-ref-filename="x265..WeightParam..log2WeightDenom">log2WeightDenom</a>;</td></tr>
<tr><th id="145">145</th><td></td></tr>
<tr><th id="146">146</th><td>                    <a class="local col2 ref" href="#242wv1" title='wv1' data-ref="242wv1" data-ref-filename="242wv1">wv1</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::w" title='x265::Predict::WeightValues::w' data-ref="x265::Predict::WeightValues::w" data-ref-filename="x265..Predict..WeightValues..w">w</a> = <a class="local col4 ref" href="#244pwp1" title='pwp1' data-ref="244pwp1" data-ref-filename="244pwp1">pwp1</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::inputWeight" title='x265::WeightParam::inputWeight' data-ref="x265::WeightParam::inputWeight" data-ref-filename="x265..WeightParam..inputWeight">inputWeight</a>;</td></tr>
<tr><th id="147">147</th><td>                    <a class="local col2 ref" href="#242wv1" title='wv1' data-ref="242wv1" data-ref-filename="242wv1">wv1</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::o" title='x265::Predict::WeightValues::o' data-ref="x265::Predict::WeightValues::o" data-ref-filename="x265..Predict..WeightValues..o">o</a> = <a class="local col4 ref" href="#244pwp1" title='pwp1' data-ref="244pwp1" data-ref-filename="244pwp1">pwp1</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::inputOffset" title='x265::WeightParam::inputOffset' data-ref="x265::WeightParam::inputOffset" data-ref-filename="x265..WeightParam..inputOffset">inputOffset</a> * (<var>1</var> &lt;&lt; (<span class="macro" title="8" data-ref="_M/X265_DEPTH">X265_DEPTH</span> - <var>8</var>));</td></tr>
<tr><th id="148">148</th><td>                    <a class="local col2 ref" href="#242wv1" title='wv1' data-ref="242wv1" data-ref-filename="242wv1">wv1</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::shift" title='x265::Predict::WeightValues::shift' data-ref="x265::Predict::WeightValues::shift" data-ref-filename="x265..Predict..WeightValues..shift">shift</a> = <a class="local col1 ref" href="#241wv0" title='wv0' data-ref="241wv0" data-ref-filename="241wv0">wv0</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::shift" title='x265::Predict::WeightValues::shift' data-ref="x265::Predict::WeightValues::shift" data-ref-filename="x265..Predict..WeightValues..shift">shift</a>;</td></tr>
<tr><th id="149">149</th><td>                    <a class="local col2 ref" href="#242wv1" title='wv1' data-ref="242wv1" data-ref-filename="242wv1">wv1</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::round" title='x265::Predict::WeightValues::round' data-ref="x265::Predict::WeightValues::round" data-ref-filename="x265..Predict..WeightValues..round">round</a> = <a class="local col1 ref" href="#241wv0" title='wv0' data-ref="241wv0" data-ref-filename="241wv0">wv0</a>[<a class="local col5 ref" href="#245plane" title='plane' data-ref="245plane" data-ref-filename="245plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::round" title='x265::Predict::WeightValues::round' data-ref="x265::Predict::WeightValues::round" data-ref-filename="x265..Predict..WeightValues..round">round</a>;</td></tr>
<tr><th id="150">150</th><td>                }</td></tr>
<tr><th id="151">151</th><td>            }</td></tr>
<tr><th id="152">152</th><td>            <b>else</b></td></tr>
<tr><th id="153">153</th><td>            {</td></tr>
<tr><th id="154">154</th><td>                <i>/* uniprediction weighting, always outputs to wv0 */</i></td></tr>
<tr><th id="155">155</th><td>                <em>const</em> <a class="type" href="slice.h.html#x265::WeightParam" title='x265::WeightParam' data-ref="x265::WeightParam" data-ref-filename="x265..WeightParam">WeightParam</a>* <dfn class="local col6 decl" id="246pwp" title='pwp' data-type='const x265::WeightParam *' data-ref="246pwp" data-ref-filename="246pwp">pwp</dfn> = (<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a> &gt;= <var>0</var>) ? <a class="local col3 ref" href="#243pwp0" title='pwp0' data-ref="243pwp0" data-ref-filename="243pwp0">pwp0</a> : <a class="local col4 ref" href="#244pwp1" title='pwp1' data-ref="244pwp1" data-ref-filename="244pwp1">pwp1</a>;</td></tr>
<tr><th id="156">156</th><td>                <b>for</b> (<em>int</em> <dfn class="local col7 decl" id="247plane" title='plane' data-type='int' data-ref="247plane" data-ref-filename="247plane">plane</dfn> = <var>0</var>; <a class="local col7 ref" href="#247plane" title='plane' data-ref="247plane" data-ref-filename="247plane">plane</a> &lt; (<a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a> ? <var>3</var> : <var>1</var>); <a class="local col7 ref" href="#247plane" title='plane' data-ref="247plane" data-ref-filename="247plane">plane</a>++)</td></tr>
<tr><th id="157">157</th><td>                {</td></tr>
<tr><th id="158">158</th><td>                    <a class="local col1 ref" href="#241wv0" title='wv0' data-ref="241wv0" data-ref-filename="241wv0">wv0</a>[<a class="local col7 ref" href="#247plane" title='plane' data-ref="247plane" data-ref-filename="247plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::w" title='x265::Predict::WeightValues::w' data-ref="x265::Predict::WeightValues::w" data-ref-filename="x265..Predict..WeightValues..w">w</a> = <a class="local col6 ref" href="#246pwp" title='pwp' data-ref="246pwp" data-ref-filename="246pwp">pwp</a>[<a class="local col7 ref" href="#247plane" title='plane' data-ref="247plane" data-ref-filename="247plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::inputWeight" title='x265::WeightParam::inputWeight' data-ref="x265::WeightParam::inputWeight" data-ref-filename="x265..WeightParam..inputWeight">inputWeight</a>;</td></tr>
<tr><th id="159">159</th><td>                    <a class="local col1 ref" href="#241wv0" title='wv0' data-ref="241wv0" data-ref-filename="241wv0">wv0</a>[<a class="local col7 ref" href="#247plane" title='plane' data-ref="247plane" data-ref-filename="247plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::offset" title='x265::Predict::WeightValues::offset' data-ref="x265::Predict::WeightValues::offset" data-ref-filename="x265..Predict..WeightValues..offset">offset</a> = <a class="local col6 ref" href="#246pwp" title='pwp' data-ref="246pwp" data-ref-filename="246pwp">pwp</a>[<a class="local col7 ref" href="#247plane" title='plane' data-ref="247plane" data-ref-filename="247plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::inputOffset" title='x265::WeightParam::inputOffset' data-ref="x265::WeightParam::inputOffset" data-ref-filename="x265..WeightParam..inputOffset">inputOffset</a> * (<var>1</var> &lt;&lt; (<span class="macro" title="8" data-ref="_M/X265_DEPTH">X265_DEPTH</span> - <var>8</var>));</td></tr>
<tr><th id="160">160</th><td>                    <a class="local col1 ref" href="#241wv0" title='wv0' data-ref="241wv0" data-ref-filename="241wv0">wv0</a>[<a class="local col7 ref" href="#247plane" title='plane' data-ref="247plane" data-ref-filename="247plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::shift" title='x265::Predict::WeightValues::shift' data-ref="x265::Predict::WeightValues::shift" data-ref-filename="x265..Predict..WeightValues..shift">shift</a> = <a class="local col6 ref" href="#246pwp" title='pwp' data-ref="246pwp" data-ref-filename="246pwp">pwp</a>[<a class="local col7 ref" href="#247plane" title='plane' data-ref="247plane" data-ref-filename="247plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::log2WeightDenom" title='x265::WeightParam::log2WeightDenom' data-ref="x265::WeightParam::log2WeightDenom" data-ref-filename="x265..WeightParam..log2WeightDenom">log2WeightDenom</a>;</td></tr>
<tr><th id="161">161</th><td>                    <a class="local col1 ref" href="#241wv0" title='wv0' data-ref="241wv0" data-ref-filename="241wv0">wv0</a>[<a class="local col7 ref" href="#247plane" title='plane' data-ref="247plane" data-ref-filename="247plane">plane</a>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::round" title='x265::Predict::WeightValues::round' data-ref="x265::Predict::WeightValues::round" data-ref-filename="x265..Predict..WeightValues..round">round</a> = <a class="local col6 ref" href="#246pwp" title='pwp' data-ref="246pwp" data-ref-filename="246pwp">pwp</a>[<a class="local col7 ref" href="#247plane" title='plane' data-ref="247plane" data-ref-filename="247plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::log2WeightDenom" title='x265::WeightParam::log2WeightDenom' data-ref="x265::WeightParam::log2WeightDenom" data-ref-filename="x265..WeightParam..log2WeightDenom">log2WeightDenom</a> &gt;= <var>1</var> ? <var>1</var> &lt;&lt; (<a class="local col6 ref" href="#246pwp" title='pwp' data-ref="246pwp" data-ref-filename="246pwp">pwp</a>[<a class="local col7 ref" href="#247plane" title='plane' data-ref="247plane" data-ref-filename="247plane">plane</a>].<a class="ref field" href="slice.h.html#x265::WeightParam::log2WeightDenom" title='x265::WeightParam::log2WeightDenom' data-ref="x265::WeightParam::log2WeightDenom" data-ref-filename="x265..WeightParam..log2WeightDenom">log2WeightDenom</a> - <var>1</var>) : <var>0</var>;</td></tr>
<tr><th id="162">162</th><td>                }</td></tr>
<tr><th id="163">163</th><td>            }</td></tr>
<tr><th id="164">164</th><td>        }</td></tr>
<tr><th id="165">165</th><td>        <b>else</b></td></tr>
<tr><th id="166">166</th><td>            <a class="local col3 ref" href="#243pwp0" title='pwp0' data-ref="243pwp0" data-ref-filename="243pwp0">pwp0</a> = <a class="local col4 ref" href="#244pwp1" title='pwp1' data-ref="244pwp1" data-ref-filename="244pwp1">pwp1</a> = <span class="macro" title="__null" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="167">167</th><td></td></tr>
<tr><th id="168">168</th><td>        <b>if</b> (<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a> &gt;= <var>0</var> &amp;&amp; <a class="local col5 ref" href="#235refIdx1" title='refIdx1' data-ref="235refIdx1" data-ref-filename="235refIdx1">refIdx1</a> &gt;= <var>0</var>)</td></tr>
<tr><th id="169">169</th><td>        {</td></tr>
<tr><th id="170">170</th><td>            <a class="type" href="mv.h.html#x265::MV" title='x265::MV' data-ref="x265::MV" data-ref-filename="x265..MV">MV</a> <dfn class="local col8 decl" id="248mv0" title='mv0' data-type='x265::MV' data-ref="248mv0" data-ref-filename="248mv0">mv0</dfn> = <a class="ref fn fake" href="mv.h.html#37" title='x265::MV::MV' data-ref="_ZN4x2652MVC1ERKS0_" data-ref-filename="_ZN4x2652MVC1ERKS0_"></a><a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_mv" title='x265::CUData::m_mv' data-ref="x265::CUData::m_mv" data-ref-filename="x265..CUData..m_mv">m_mv</a>[<var>0</var>][<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>];</td></tr>
<tr><th id="171">171</th><td>            <a class="type" href="mv.h.html#x265::MV" title='x265::MV' data-ref="x265::MV" data-ref-filename="x265..MV">MV</a> <dfn class="local col9 decl" id="249mv1" title='mv1' data-type='x265::MV' data-ref="249mv1" data-ref-filename="249mv1">mv1</dfn> = <a class="ref fn fake" href="mv.h.html#37" title='x265::MV::MV' data-ref="_ZN4x2652MVC1ERKS0_" data-ref-filename="_ZN4x2652MVC1ERKS0_"></a><a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_mv" title='x265::CUData::m_mv' data-ref="x265::CUData::m_mv" data-ref-filename="x265..CUData..m_mv">m_mv</a>[<var>1</var>][<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>];</td></tr>
<tr><th id="172">172</th><td>            <a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData6clipMvERNS_2MVE" title='x265::CUData::clipMv' data-ref="_ZNK4x2656CUData6clipMvERNS_2MVE" data-ref-filename="_ZNK4x2656CUData6clipMvERNS_2MVE">clipMv</a>(<span class='refarg'><a class="local col8 ref" href="#248mv0" title='mv0' data-ref="248mv0" data-ref-filename="248mv0">mv0</a></span>);</td></tr>
<tr><th id="173">173</th><td>            <a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData6clipMvERNS_2MVE" title='x265::CUData::clipMv' data-ref="_ZNK4x2656CUData6clipMvERNS_2MVE" data-ref-filename="_ZNK4x2656CUData6clipMvERNS_2MVE">clipMv</a>(<span class='refarg'><a class="local col9 ref" href="#249mv1" title='mv1' data-ref="249mv1" data-ref-filename="249mv1">mv1</a></span>);</td></tr>
<tr><th id="174">174</th><td></td></tr>
<tr><th id="175">175</th><td>            <b>if</b> (<a class="local col2 ref" href="#232bLuma" title='bLuma' data-ref="232bLuma" data-ref-filename="232bLuma">bLuma</a>)</td></tr>
<tr><th id="176">176</th><td>            {</td></tr>
<tr><th id="177">177</th><td>                <a class="member fn" href="#_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterLumaShort' data-ref="_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE">predInterLumaShort</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>0</var>]</span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>0</var>][<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a>], <a class="local col8 ref" href="#248mv0" title='mv0' data-ref="248mv0" data-ref-filename="248mv0">mv0</a>);</td></tr>
<tr><th id="178">178</th><td>                <a class="member fn" href="#_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterLumaShort' data-ref="_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE">predInterLumaShort</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>1</var>]</span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>1</var>][<a class="local col5 ref" href="#235refIdx1" title='refIdx1' data-ref="235refIdx1" data-ref-filename="235refIdx1">refIdx1</a>], <a class="local col9 ref" href="#249mv1" title='mv1' data-ref="249mv1" data-ref-filename="249mv1">mv1</a>);</td></tr>
<tr><th id="179">179</th><td>            }</td></tr>
<tr><th id="180">180</th><td>            <b>if</b> (<a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a>)</td></tr>
<tr><th id="181">181</th><td>            {</td></tr>
<tr><th id="182">182</th><td>                <a class="member fn" href="#_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterChromaShort' data-ref="_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE">predInterChromaShort</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>0</var>]</span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>0</var>][<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a>], <a class="local col8 ref" href="#248mv0" title='mv0' data-ref="248mv0" data-ref-filename="248mv0">mv0</a>);</td></tr>
<tr><th id="183">183</th><td>                <a class="member fn" href="#_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterChromaShort' data-ref="_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE">predInterChromaShort</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>1</var>]</span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>1</var>][<a class="local col5 ref" href="#235refIdx1" title='refIdx1' data-ref="235refIdx1" data-ref-filename="235refIdx1">refIdx1</a>], <a class="local col9 ref" href="#249mv1" title='mv1' data-ref="249mv1" data-ref-filename="249mv1">mv1</a>);</td></tr>
<tr><th id="184">184</th><td>            }</td></tr>
<tr><th id="185">185</th><td></td></tr>
<tr><th id="186">186</th><td>            <b>if</b> (<a class="local col3 ref" href="#243pwp0" title='pwp0' data-ref="243pwp0" data-ref-filename="243pwp0">pwp0</a> &amp;&amp; <a class="local col4 ref" href="#244pwp1" title='pwp1' data-ref="244pwp1" data-ref-filename="244pwp1">pwp1</a> &amp;&amp; (<a class="local col3 ref" href="#243pwp0" title='pwp0' data-ref="243pwp0" data-ref-filename="243pwp0">pwp0</a>-&gt;<a class="ref field" href="slice.h.html#x265::WeightParam::wtPresent" title='x265::WeightParam::wtPresent' data-ref="x265::WeightParam::wtPresent" data-ref-filename="x265..WeightParam..wtPresent">wtPresent</a> || <a class="local col4 ref" href="#244pwp1" title='pwp1' data-ref="244pwp1" data-ref-filename="244pwp1">pwp1</a>-&gt;<a class="ref field" href="slice.h.html#x265::WeightParam::wtPresent" title='x265::WeightParam::wtPresent' data-ref="x265::WeightParam::wtPresent" data-ref-filename="x265..WeightParam..wtPresent">wtPresent</a>))</td></tr>
<tr><th id="187">187</th><td>                <a class="member fn" href="#_ZNK4x2657Predict11addWeightBiERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvES8_PKNS0_12WeightValuesESB_bb" title='x265::Predict::addWeightBi' data-ref="_ZNK4x2657Predict11addWeightBiERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvES8_PKNS0_12WeightValuesESB_bb" data-ref-filename="_ZNK4x2657Predict11addWeightBiERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvES8_PKNS0_12WeightValuesESB_bb">addWeightBi</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col1 ref" href="#231predYuv" title='predYuv' data-ref="231predYuv" data-ref-filename="231predYuv">predYuv</a></span>, <a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>0</var>], <a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>1</var>], <a class="local col1 ref" href="#241wv0" title='wv0' data-ref="241wv0" data-ref-filename="241wv0">wv0</a>, <a class="local col2 ref" href="#242wv1" title='wv1' data-ref="242wv1" data-ref-filename="242wv1">wv1</a>, <a class="local col2 ref" href="#232bLuma" title='bLuma' data-ref="232bLuma" data-ref-filename="232bLuma">bLuma</a>, <a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a>);</td></tr>
<tr><th id="188">188</th><td>            <b>else</b></td></tr>
<tr><th id="189">189</th><td>                <a class="local col1 ref" href="#231predYuv" title='predYuv' data-ref="231predYuv" data-ref-filename="231predYuv">predYuv</a>.<a class="ref fn" href="yuv.h.html#_ZN4x2653Yuv6addAvgERKNS_8ShortYuvES3_jjjbb" title='x265::Yuv::addAvg' data-ref="_ZN4x2653Yuv6addAvgERKNS_8ShortYuvES3_jjjbb" data-ref-filename="_ZN4x2653Yuv6addAvgERKNS_8ShortYuvES3_jjjbb">addAvg</a>(<a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>0</var>], <a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>1</var>], <a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>, <a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::width" title='x265::PredictionUnit::width' data-ref="x265::PredictionUnit::width" data-ref-filename="x265..PredictionUnit..width">width</a>, <a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::height" title='x265::PredictionUnit::height' data-ref="x265::PredictionUnit::height" data-ref-filename="x265..PredictionUnit..height">height</a>, <a class="local col2 ref" href="#232bLuma" title='bLuma' data-ref="232bLuma" data-ref-filename="232bLuma">bLuma</a>, <a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a>);</td></tr>
<tr><th id="190">190</th><td>        }</td></tr>
<tr><th id="191">191</th><td>        <b>else</b> <b>if</b> (<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a> &gt;= <var>0</var>)</td></tr>
<tr><th id="192">192</th><td>        {</td></tr>
<tr><th id="193">193</th><td>            <a class="type" href="mv.h.html#x265::MV" title='x265::MV' data-ref="x265::MV" data-ref-filename="x265..MV">MV</a> <dfn class="local col0 decl" id="250mv0" title='mv0' data-type='x265::MV' data-ref="250mv0" data-ref-filename="250mv0">mv0</dfn> = <a class="ref fn fake" href="mv.h.html#37" title='x265::MV::MV' data-ref="_ZN4x2652MVC1ERKS0_" data-ref-filename="_ZN4x2652MVC1ERKS0_"></a><a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_mv" title='x265::CUData::m_mv' data-ref="x265::CUData::m_mv" data-ref-filename="x265..CUData..m_mv">m_mv</a>[<var>0</var>][<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>];</td></tr>
<tr><th id="194">194</th><td>            <a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData6clipMvERNS_2MVE" title='x265::CUData::clipMv' data-ref="_ZNK4x2656CUData6clipMvERNS_2MVE" data-ref-filename="_ZNK4x2656CUData6clipMvERNS_2MVE">clipMv</a>(<span class='refarg'><a class="local col0 ref" href="#250mv0" title='mv0' data-ref="250mv0" data-ref-filename="250mv0">mv0</a></span>);</td></tr>
<tr><th id="195">195</th><td></td></tr>
<tr><th id="196">196</th><td>            <b>if</b> (<a class="local col3 ref" href="#243pwp0" title='pwp0' data-ref="243pwp0" data-ref-filename="243pwp0">pwp0</a> &amp;&amp; <a class="local col3 ref" href="#243pwp0" title='pwp0' data-ref="243pwp0" data-ref-filename="243pwp0">pwp0</a>-&gt;<a class="ref field" href="slice.h.html#x265::WeightParam::wtPresent" title='x265::WeightParam::wtPresent' data-ref="x265::WeightParam::wtPresent" data-ref-filename="x265..WeightParam..wtPresent">wtPresent</a>)</td></tr>
<tr><th id="197">197</th><td>            {</td></tr>
<tr><th id="198">198</th><td>                <a class="type" href="shortyuv.h.html#x265::ShortYuv" title='x265::ShortYuv' data-ref="x265::ShortYuv" data-ref-filename="x265..ShortYuv">ShortYuv</a>&amp; <dfn class="local col1 decl" id="251shortYuv" title='shortYuv' data-type='x265::ShortYuv &amp;' data-ref="251shortYuv" data-ref-filename="251shortYuv">shortYuv</dfn> = <a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>0</var>];</td></tr>
<tr><th id="199">199</th><td></td></tr>
<tr><th id="200">200</th><td>                <b>if</b> (<a class="local col2 ref" href="#232bLuma" title='bLuma' data-ref="232bLuma" data-ref-filename="232bLuma">bLuma</a>)</td></tr>
<tr><th id="201">201</th><td>                    <a class="member fn" href="#_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterLumaShort' data-ref="_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE">predInterLumaShort</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col1 ref" href="#251shortYuv" title='shortYuv' data-ref="251shortYuv" data-ref-filename="251shortYuv">shortYuv</a></span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>0</var>][<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a>], <a class="local col0 ref" href="#250mv0" title='mv0' data-ref="250mv0" data-ref-filename="250mv0">mv0</a>);</td></tr>
<tr><th id="202">202</th><td>                <b>if</b> (<a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a>)</td></tr>
<tr><th id="203">203</th><td>                    <a class="member fn" href="#_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterChromaShort' data-ref="_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE">predInterChromaShort</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col1 ref" href="#251shortYuv" title='shortYuv' data-ref="251shortYuv" data-ref-filename="251shortYuv">shortYuv</a></span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>0</var>][<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a>], <a class="local col0 ref" href="#250mv0" title='mv0' data-ref="250mv0" data-ref-filename="250mv0">mv0</a>);</td></tr>
<tr><th id="204">204</th><td></td></tr>
<tr><th id="205">205</th><td>                <a class="member fn" href="#_ZNK4x2657Predict12addWeightUniERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvEPKNS0_12WeightValuesEbb" title='x265::Predict::addWeightUni' data-ref="_ZNK4x2657Predict12addWeightUniERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvEPKNS0_12WeightValuesEbb" data-ref-filename="_ZNK4x2657Predict12addWeightUniERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvEPKNS0_12WeightValuesEbb">addWeightUni</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col1 ref" href="#231predYuv" title='predYuv' data-ref="231predYuv" data-ref-filename="231predYuv">predYuv</a></span>, <a class="local col1 ref" href="#251shortYuv" title='shortYuv' data-ref="251shortYuv" data-ref-filename="251shortYuv">shortYuv</a>, <a class="local col1 ref" href="#241wv0" title='wv0' data-ref="241wv0" data-ref-filename="241wv0">wv0</a>, <a class="local col2 ref" href="#232bLuma" title='bLuma' data-ref="232bLuma" data-ref-filename="232bLuma">bLuma</a>, <a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a>);</td></tr>
<tr><th id="206">206</th><td>            }</td></tr>
<tr><th id="207">207</th><td>            <b>else</b></td></tr>
<tr><th id="208">208</th><td>            {</td></tr>
<tr><th id="209">209</th><td>                <b>if</b> (<a class="local col2 ref" href="#232bLuma" title='bLuma' data-ref="232bLuma" data-ref-filename="232bLuma">bLuma</a>)</td></tr>
<tr><th id="210">210</th><td>                    <a class="member fn" href="#_ZNK4x2657Predict18predInterLumaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterLumaPixel' data-ref="_ZNK4x2657Predict18predInterLumaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict18predInterLumaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE">predInterLumaPixel</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col1 ref" href="#231predYuv" title='predYuv' data-ref="231predYuv" data-ref-filename="231predYuv">predYuv</a></span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>0</var>][<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a>], <a class="local col0 ref" href="#250mv0" title='mv0' data-ref="250mv0" data-ref-filename="250mv0">mv0</a>);</td></tr>
<tr><th id="211">211</th><td>                <b>if</b> (<a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a>)</td></tr>
<tr><th id="212">212</th><td>                    <a class="member fn" href="#_ZNK4x2657Predict20predInterChromaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterChromaPixel' data-ref="_ZNK4x2657Predict20predInterChromaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict20predInterChromaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE">predInterChromaPixel</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col1 ref" href="#231predYuv" title='predYuv' data-ref="231predYuv" data-ref-filename="231predYuv">predYuv</a></span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>0</var>][<a class="local col4 ref" href="#234refIdx0" title='refIdx0' data-ref="234refIdx0" data-ref-filename="234refIdx0">refIdx0</a>], <a class="local col0 ref" href="#250mv0" title='mv0' data-ref="250mv0" data-ref-filename="250mv0">mv0</a>);</td></tr>
<tr><th id="213">213</th><td>            }</td></tr>
<tr><th id="214">214</th><td>        }</td></tr>
<tr><th id="215">215</th><td>        <b>else</b></td></tr>
<tr><th id="216">216</th><td>        {</td></tr>
<tr><th id="217">217</th><td>            <a class="type" href="mv.h.html#x265::MV" title='x265::MV' data-ref="x265::MV" data-ref-filename="x265..MV">MV</a> <dfn class="local col2 decl" id="252mv1" title='mv1' data-type='x265::MV' data-ref="252mv1" data-ref-filename="252mv1">mv1</dfn> = <a class="ref fn fake" href="mv.h.html#37" title='x265::MV::MV' data-ref="_ZN4x2652MVC1ERKS0_" data-ref-filename="_ZN4x2652MVC1ERKS0_"></a><a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_mv" title='x265::CUData::m_mv' data-ref="x265::CUData::m_mv" data-ref-filename="x265..CUData..m_mv">m_mv</a>[<var>1</var>][<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>];</td></tr>
<tr><th id="218">218</th><td>            <a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData6clipMvERNS_2MVE" title='x265::CUData::clipMv' data-ref="_ZNK4x2656CUData6clipMvERNS_2MVE" data-ref-filename="_ZNK4x2656CUData6clipMvERNS_2MVE">clipMv</a>(<span class='refarg'><a class="local col2 ref" href="#252mv1" title='mv1' data-ref="252mv1" data-ref-filename="252mv1">mv1</a></span>);</td></tr>
<tr><th id="219">219</th><td></td></tr>
<tr><th id="220">220</th><td>            <i>/* uniprediction to L1 */</i></td></tr>
<tr><th id="221">221</th><td>            <a class="macro" href="common.h.html#123" title="" data-ref="_M/X265_CHECK">X265_CHECK</a>(refIdx1 &gt;= <var>0</var>, <q>"refidx1 was not positive\n"</q>);</td></tr>
<tr><th id="222">222</th><td></td></tr>
<tr><th id="223">223</th><td>            <b>if</b> (<a class="local col4 ref" href="#244pwp1" title='pwp1' data-ref="244pwp1" data-ref-filename="244pwp1">pwp1</a> &amp;&amp; <a class="local col4 ref" href="#244pwp1" title='pwp1' data-ref="244pwp1" data-ref-filename="244pwp1">pwp1</a>-&gt;<a class="ref field" href="slice.h.html#x265::WeightParam::wtPresent" title='x265::WeightParam::wtPresent' data-ref="x265::WeightParam::wtPresent" data-ref-filename="x265..WeightParam..wtPresent">wtPresent</a>)</td></tr>
<tr><th id="224">224</th><td>            {</td></tr>
<tr><th id="225">225</th><td>                <a class="type" href="shortyuv.h.html#x265::ShortYuv" title='x265::ShortYuv' data-ref="x265::ShortYuv" data-ref-filename="x265..ShortYuv">ShortYuv</a>&amp; <dfn class="local col3 decl" id="253shortYuv" title='shortYuv' data-type='x265::ShortYuv &amp;' data-ref="253shortYuv" data-ref-filename="253shortYuv">shortYuv</dfn> = <a class="member field" href="predict.h.html#x265::Predict::m_predShortYuv" title='x265::Predict::m_predShortYuv' data-ref="x265::Predict::m_predShortYuv" data-ref-filename="x265..Predict..m_predShortYuv">m_predShortYuv</a>[<var>0</var>];</td></tr>
<tr><th id="226">226</th><td></td></tr>
<tr><th id="227">227</th><td>                <b>if</b> (<a class="local col2 ref" href="#232bLuma" title='bLuma' data-ref="232bLuma" data-ref-filename="232bLuma">bLuma</a>)</td></tr>
<tr><th id="228">228</th><td>                    <a class="member fn" href="#_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterLumaShort' data-ref="_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE">predInterLumaShort</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col3 ref" href="#253shortYuv" title='shortYuv' data-ref="253shortYuv" data-ref-filename="253shortYuv">shortYuv</a></span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>1</var>][<a class="local col5 ref" href="#235refIdx1" title='refIdx1' data-ref="235refIdx1" data-ref-filename="235refIdx1">refIdx1</a>], <a class="local col2 ref" href="#252mv1" title='mv1' data-ref="252mv1" data-ref-filename="252mv1">mv1</a>);</td></tr>
<tr><th id="229">229</th><td>                <b>if</b> (<a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a>)</td></tr>
<tr><th id="230">230</th><td>                    <a class="member fn" href="#_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterChromaShort' data-ref="_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE">predInterChromaShort</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col3 ref" href="#253shortYuv" title='shortYuv' data-ref="253shortYuv" data-ref-filename="253shortYuv">shortYuv</a></span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>1</var>][<a class="local col5 ref" href="#235refIdx1" title='refIdx1' data-ref="235refIdx1" data-ref-filename="235refIdx1">refIdx1</a>], <a class="local col2 ref" href="#252mv1" title='mv1' data-ref="252mv1" data-ref-filename="252mv1">mv1</a>);</td></tr>
<tr><th id="231">231</th><td></td></tr>
<tr><th id="232">232</th><td>                <a class="member fn" href="#_ZNK4x2657Predict12addWeightUniERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvEPKNS0_12WeightValuesEbb" title='x265::Predict::addWeightUni' data-ref="_ZNK4x2657Predict12addWeightUniERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvEPKNS0_12WeightValuesEbb" data-ref-filename="_ZNK4x2657Predict12addWeightUniERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvEPKNS0_12WeightValuesEbb">addWeightUni</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col1 ref" href="#231predYuv" title='predYuv' data-ref="231predYuv" data-ref-filename="231predYuv">predYuv</a></span>, <a class="local col3 ref" href="#253shortYuv" title='shortYuv' data-ref="253shortYuv" data-ref-filename="253shortYuv">shortYuv</a>, <a class="local col1 ref" href="#241wv0" title='wv0' data-ref="241wv0" data-ref-filename="241wv0">wv0</a>, <a class="local col2 ref" href="#232bLuma" title='bLuma' data-ref="232bLuma" data-ref-filename="232bLuma">bLuma</a>, <a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a>);</td></tr>
<tr><th id="233">233</th><td>            }</td></tr>
<tr><th id="234">234</th><td>            <b>else</b></td></tr>
<tr><th id="235">235</th><td>            {</td></tr>
<tr><th id="236">236</th><td>                <b>if</b> (<a class="local col2 ref" href="#232bLuma" title='bLuma' data-ref="232bLuma" data-ref-filename="232bLuma">bLuma</a>)</td></tr>
<tr><th id="237">237</th><td>                    <a class="member fn" href="#_ZNK4x2657Predict18predInterLumaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterLumaPixel' data-ref="_ZNK4x2657Predict18predInterLumaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict18predInterLumaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE">predInterLumaPixel</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col1 ref" href="#231predYuv" title='predYuv' data-ref="231predYuv" data-ref-filename="231predYuv">predYuv</a></span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>1</var>][<a class="local col5 ref" href="#235refIdx1" title='refIdx1' data-ref="235refIdx1" data-ref-filename="235refIdx1">refIdx1</a>], <a class="local col2 ref" href="#252mv1" title='mv1' data-ref="252mv1" data-ref-filename="252mv1">mv1</a>);</td></tr>
<tr><th id="238">238</th><td>                <b>if</b> (<a class="local col3 ref" href="#233bChroma" title='bChroma' data-ref="233bChroma" data-ref-filename="233bChroma">bChroma</a>)</td></tr>
<tr><th id="239">239</th><td>                    <a class="member fn" href="#_ZNK4x2657Predict20predInterChromaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterChromaPixel' data-ref="_ZNK4x2657Predict20predInterChromaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict20predInterChromaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE">predInterChromaPixel</a>(<a class="local col0 ref" href="#230pu" title='pu' data-ref="230pu" data-ref-filename="230pu">pu</a>, <span class='refarg'><a class="local col1 ref" href="#231predYuv" title='predYuv' data-ref="231predYuv" data-ref-filename="231predYuv">predYuv</a></span>, *<a class="local col9 ref" href="#229cu" title='cu' data-ref="229cu" data-ref-filename="229cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_refReconPicList" title='x265::Slice::m_refReconPicList' data-ref="x265::Slice::m_refReconPicList" data-ref-filename="x265..Slice..m_refReconPicList">m_refReconPicList</a>[<var>1</var>][<a class="local col5 ref" href="#235refIdx1" title='refIdx1' data-ref="235refIdx1" data-ref-filename="235refIdx1">refIdx1</a>], <a class="local col2 ref" href="#252mv1" title='mv1' data-ref="252mv1" data-ref-filename="252mv1">mv1</a>);</td></tr>
<tr><th id="240">240</th><td>            }</td></tr>
<tr><th id="241">241</th><td>        }</td></tr>
<tr><th id="242">242</th><td>    }</td></tr>
<tr><th id="243">243</th><td>}</td></tr>
<tr><th id="244">244</th><td></td></tr>
<tr><th id="245">245</th><td><em>void</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZNK4x2657Predict18predInterLumaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterLumaPixel' data-ref="_ZNK4x2657Predict18predInterLumaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict18predInterLumaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE">predInterLumaPixel</dfn>(<em>const</em> <a class="type" href="predict.h.html#x265::PredictionUnit" title='x265::PredictionUnit' data-ref="x265::PredictionUnit" data-ref-filename="x265..PredictionUnit">PredictionUnit</a>&amp; <dfn class="local col4 decl" id="254pu" title='pu' data-type='const x265::PredictionUnit &amp;' data-ref="254pu" data-ref-filename="254pu">pu</dfn>, <a class="type" href="yuv.h.html#x265::Yuv" title='x265::Yuv' data-ref="x265::Yuv" data-ref-filename="x265..Yuv">Yuv</a>&amp; <dfn class="local col5 decl" id="255dstYuv" title='dstYuv' data-type='x265::Yuv &amp;' data-ref="255dstYuv" data-ref-filename="255dstYuv">dstYuv</dfn>, <em>const</em> <a class="type" href="picyuv.h.html#x265::PicYuv" title='x265::PicYuv' data-ref="x265::PicYuv" data-ref-filename="x265..PicYuv">PicYuv</a>&amp; <dfn class="local col6 decl" id="256refPic" title='refPic' data-type='const x265::PicYuv &amp;' data-ref="256refPic" data-ref-filename="256refPic">refPic</dfn>, <em>const</em> <a class="type" href="mv.h.html#x265::MV" title='x265::MV' data-ref="x265::MV" data-ref-filename="x265..MV">MV</a>&amp; <dfn class="local col7 decl" id="257mv" title='mv' data-type='const x265::MV &amp;' data-ref="257mv" data-ref-filename="257mv">mv</dfn>) <em>const</em></td></tr>
<tr><th id="246">246</th><td>{</td></tr>
<tr><th id="247">247</th><td>    <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col8 decl" id="258dst" title='dst' data-type='pixel *' data-ref="258dst" data-ref-filename="258dst">dst</dfn> = <a class="local col5 ref" href="#255dstYuv" title='dstYuv' data-ref="255dstYuv" data-ref-filename="255dstYuv">dstYuv</a>.<a class="ref fn" href="yuv.h.html#_ZN4x2653Yuv11getLumaAddrEj" title='x265::Yuv::getLumaAddr' data-ref="_ZN4x2653Yuv11getLumaAddrEj" data-ref-filename="_ZN4x2653Yuv11getLumaAddrEj">getLumaAddr</a>(<a class="local col4 ref" href="#254pu" title='pu' data-ref="254pu" data-ref-filename="254pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="248">248</th><td>    <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col9 decl" id="259dstStride" title='dstStride' data-type='intptr_t' data-ref="259dstStride" data-ref-filename="259dstStride">dstStride</dfn> = <a class="local col5 ref" href="#255dstYuv" title='dstYuv' data-ref="255dstYuv" data-ref-filename="255dstYuv">dstYuv</a>.<a class="ref field" href="yuv.h.html#x265::Yuv::m_size" title='x265::Yuv::m_size' data-ref="x265::Yuv::m_size" data-ref-filename="x265..Yuv..m_size">m_size</a>;</td></tr>
<tr><th id="249">249</th><td></td></tr>
<tr><th id="250">250</th><td>    <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col0 decl" id="260srcStride" title='srcStride' data-type='intptr_t' data-ref="260srcStride" data-ref-filename="260srcStride">srcStride</dfn> = <a class="local col6 ref" href="#256refPic" title='refPic' data-ref="256refPic" data-ref-filename="256refPic">refPic</a>.<a class="ref field" href="picyuv.h.html#x265::PicYuv::m_stride" title='x265::PicYuv::m_stride' data-ref="x265::PicYuv::m_stride" data-ref-filename="x265..PicYuv..m_stride">m_stride</a>;</td></tr>
<tr><th id="251">251</th><td>    <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col1 decl" id="261srcOffset" title='srcOffset' data-type='intptr_t' data-ref="261srcOffset" data-ref-filename="261srcOffset">srcOffset</dfn> = (<a class="local col7 ref" href="#257mv" title='mv' data-ref="257mv" data-ref-filename="257mv">mv</a>.<a class="ref field" href="mv.h.html#x265::MV::(anonymousunion)::(anonymous)::x" title='x265::MV::(anonymous union)::(anonymous struct)::x' data-ref="x265::MV::(anonymousunion)::(anonymous)::x" data-ref-filename="x265..MV..(anonymousunion)..(anonymous)..x">x</a> &gt;&gt; <var>2</var>) + (<a class="local col7 ref" href="#257mv" title='mv' data-ref="257mv" data-ref-filename="257mv">mv</a>.<a class="ref field" href="mv.h.html#x265::MV::(anonymousunion)::(anonymous)::y" title='x265::MV::(anonymous union)::(anonymous struct)::y' data-ref="x265::MV::(anonymousunion)::(anonymous)::y" data-ref-filename="x265..MV..(anonymousunion)..(anonymous)..y">y</a> &gt;&gt; <var>2</var>) * <a class="local col0 ref" href="#260srcStride" title='srcStride' data-ref="260srcStride" data-ref-filename="260srcStride">srcStride</a>;</td></tr>
<tr><th id="252">252</th><td>    <em>int</em> <dfn class="local col2 decl" id="262partEnum" title='partEnum' data-type='int' data-ref="262partEnum" data-ref-filename="262partEnum">partEnum</dfn> = <a class="ref fn" href="primitives.h.html#_ZN4x26518partitionFromSizesEii" title='x265::partitionFromSizes' data-ref="_ZN4x26518partitionFromSizesEii" data-ref-filename="_ZN4x26518partitionFromSizesEii">partitionFromSizes</a>(<a class="local col4 ref" href="#254pu" title='pu' data-ref="254pu" data-ref-filename="254pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::width" title='x265::PredictionUnit::width' data-ref="x265::PredictionUnit::width" data-ref-filename="x265..PredictionUnit..width">width</a>, <a class="local col4 ref" href="#254pu" title='pu' data-ref="254pu" data-ref-filename="254pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::height" title='x265::PredictionUnit::height' data-ref="x265::PredictionUnit::height" data-ref-filename="x265..PredictionUnit..height">height</a>);</td></tr>
<tr><th id="253">253</th><td>    <em>const</em> <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col3 decl" id="263src" title='src' data-type='const pixel *' data-ref="263src" data-ref-filename="263src">src</dfn> = <a class="local col6 ref" href="#256refPic" title='refPic' data-ref="256refPic" data-ref-filename="256refPic">refPic</a>.<a class="ref fn" href="picyuv.h.html#_ZNK4x2656PicYuv11getLumaAddrEjj" title='x265::PicYuv::getLumaAddr' data-ref="_ZNK4x2656PicYuv11getLumaAddrEjj" data-ref-filename="_ZNK4x2656PicYuv11getLumaAddrEjj">getLumaAddr</a>(<a class="local col4 ref" href="#254pu" title='pu' data-ref="254pu" data-ref-filename="254pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::ctuAddr" title='x265::PredictionUnit::ctuAddr' data-ref="x265::PredictionUnit::ctuAddr" data-ref-filename="x265..PredictionUnit..ctuAddr">ctuAddr</a>, <a class="local col4 ref" href="#254pu" title='pu' data-ref="254pu" data-ref-filename="254pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::cuAbsPartIdx" title='x265::PredictionUnit::cuAbsPartIdx' data-ref="x265::PredictionUnit::cuAbsPartIdx" data-ref-filename="x265..PredictionUnit..cuAbsPartIdx">cuAbsPartIdx</a> + <a class="local col4 ref" href="#254pu" title='pu' data-ref="254pu" data-ref-filename="254pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>) + <a class="local col1 ref" href="#261srcOffset" title='srcOffset' data-ref="261srcOffset" data-ref-filename="261srcOffset">srcOffset</a>;</td></tr>
<tr><th id="254">254</th><td></td></tr>
<tr><th id="255">255</th><td>    <em>int</em> <dfn class="local col4 decl" id="264xFrac" title='xFrac' data-type='int' data-ref="264xFrac" data-ref-filename="264xFrac">xFrac</dfn> = <a class="local col7 ref" href="#257mv" title='mv' data-ref="257mv" data-ref-filename="257mv">mv</a>.<a class="ref field" href="mv.h.html#x265::MV::(anonymousunion)::(anonymous)::x" title='x265::MV::(anonymous union)::(anonymous struct)::x' data-ref="x265::MV::(anonymousunion)::(anonymous)::x" data-ref-filename="x265..MV..(anonymousunion)..(anonymous)..x">x</a> &amp; <var>3</var>;</td></tr>
<tr><th id="256">256</th><td>    <em>int</em> <dfn class="local col5 decl" id="265yFrac" title='yFrac' data-type='int' data-ref="265yFrac" data-ref-filename="265yFrac">yFrac</dfn> = <a class="local col7 ref" href="#257mv" title='mv' data-ref="257mv" data-ref-filename="257mv">mv</a>.<a class="ref field" href="mv.h.html#x265::MV::(anonymousunion)::(anonymous)::y" title='x265::MV::(anonymous union)::(anonymous struct)::y' data-ref="x265::MV::(anonymousunion)::(anonymous)::y" data-ref-filename="x265..MV..(anonymousunion)..(anonymous)..y">y</a> &amp; <var>3</var>;</td></tr>
<tr><th id="257">257</th><td></td></tr>
<tr><th id="258">258</th><td>    <b>if</b> (!(<a class="local col5 ref" href="#265yFrac" title='yFrac' data-ref="265yFrac" data-ref-filename="265yFrac">yFrac</a> | <a class="local col4 ref" href="#264xFrac" title='xFrac' data-ref="264xFrac" data-ref-filename="264xFrac">xFrac</a>))</td></tr>
<tr><th id="259">259</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::pu" title='x265::EncoderPrimitives::pu' data-ref="x265::EncoderPrimitives::pu" data-ref-filename="x265..EncoderPrimitives..pu">pu</a>[<a class="local col2 ref" href="#262partEnum" title='partEnum' data-ref="262partEnum" data-ref-filename="262partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::PU::copy_pp" title='x265::EncoderPrimitives::PU::copy_pp' data-ref="x265::EncoderPrimitives::PU::copy_pp" data-ref-filename="x265..EncoderPrimitives..PU..copy_pp">copy_pp</a>(<a class="local col8 ref" href="#258dst" title='dst' data-ref="258dst" data-ref-filename="258dst">dst</a>, <a class="local col9 ref" href="#259dstStride" title='dstStride' data-ref="259dstStride" data-ref-filename="259dstStride">dstStride</a>, <a class="local col3 ref" href="#263src" title='src' data-ref="263src" data-ref-filename="263src">src</a>, <a class="local col0 ref" href="#260srcStride" title='srcStride' data-ref="260srcStride" data-ref-filename="260srcStride">srcStride</a>);</td></tr>
<tr><th id="260">260</th><td>    <b>else</b> <b>if</b> (!<a class="local col5 ref" href="#265yFrac" title='yFrac' data-ref="265yFrac" data-ref-filename="265yFrac">yFrac</a>)</td></tr>
<tr><th id="261">261</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::pu" title='x265::EncoderPrimitives::pu' data-ref="x265::EncoderPrimitives::pu" data-ref-filename="x265..EncoderPrimitives..pu">pu</a>[<a class="local col2 ref" href="#262partEnum" title='partEnum' data-ref="262partEnum" data-ref-filename="262partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::PU::luma_hpp" title='x265::EncoderPrimitives::PU::luma_hpp' data-ref="x265::EncoderPrimitives::PU::luma_hpp" data-ref-filename="x265..EncoderPrimitives..PU..luma_hpp">luma_hpp</a>(<a class="local col3 ref" href="#263src" title='src' data-ref="263src" data-ref-filename="263src">src</a>, <a class="local col0 ref" href="#260srcStride" title='srcStride' data-ref="260srcStride" data-ref-filename="260srcStride">srcStride</a>, <a class="local col8 ref" href="#258dst" title='dst' data-ref="258dst" data-ref-filename="258dst">dst</a>, <a class="local col9 ref" href="#259dstStride" title='dstStride' data-ref="259dstStride" data-ref-filename="259dstStride">dstStride</a>, <a class="local col4 ref" href="#264xFrac" title='xFrac' data-ref="264xFrac" data-ref-filename="264xFrac">xFrac</a>);</td></tr>
<tr><th id="262">262</th><td>    <b>else</b> <b>if</b> (!<a class="local col4 ref" href="#264xFrac" title='xFrac' data-ref="264xFrac" data-ref-filename="264xFrac">xFrac</a>)</td></tr>
<tr><th id="263">263</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::pu" title='x265::EncoderPrimitives::pu' data-ref="x265::EncoderPrimitives::pu" data-ref-filename="x265..EncoderPrimitives..pu">pu</a>[<a class="local col2 ref" href="#262partEnum" title='partEnum' data-ref="262partEnum" data-ref-filename="262partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::PU::luma_vpp" title='x265::EncoderPrimitives::PU::luma_vpp' data-ref="x265::EncoderPrimitives::PU::luma_vpp" data-ref-filename="x265..EncoderPrimitives..PU..luma_vpp">luma_vpp</a>(<a class="local col3 ref" href="#263src" title='src' data-ref="263src" data-ref-filename="263src">src</a>, <a class="local col0 ref" href="#260srcStride" title='srcStride' data-ref="260srcStride" data-ref-filename="260srcStride">srcStride</a>, <a class="local col8 ref" href="#258dst" title='dst' data-ref="258dst" data-ref-filename="258dst">dst</a>, <a class="local col9 ref" href="#259dstStride" title='dstStride' data-ref="259dstStride" data-ref-filename="259dstStride">dstStride</a>, <a class="local col5 ref" href="#265yFrac" title='yFrac' data-ref="265yFrac" data-ref-filename="265yFrac">yFrac</a>);</td></tr>
<tr><th id="264">264</th><td>    <b>else</b></td></tr>
<tr><th id="265">265</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::pu" title='x265::EncoderPrimitives::pu' data-ref="x265::EncoderPrimitives::pu" data-ref-filename="x265..EncoderPrimitives..pu">pu</a>[<a class="local col2 ref" href="#262partEnum" title='partEnum' data-ref="262partEnum" data-ref-filename="262partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::PU::luma_hvpp" title='x265::EncoderPrimitives::PU::luma_hvpp' data-ref="x265::EncoderPrimitives::PU::luma_hvpp" data-ref-filename="x265..EncoderPrimitives..PU..luma_hvpp">luma_hvpp</a>(<a class="local col3 ref" href="#263src" title='src' data-ref="263src" data-ref-filename="263src">src</a>, <a class="local col0 ref" href="#260srcStride" title='srcStride' data-ref="260srcStride" data-ref-filename="260srcStride">srcStride</a>, <a class="local col8 ref" href="#258dst" title='dst' data-ref="258dst" data-ref-filename="258dst">dst</a>, <a class="local col9 ref" href="#259dstStride" title='dstStride' data-ref="259dstStride" data-ref-filename="259dstStride">dstStride</a>, <a class="local col4 ref" href="#264xFrac" title='xFrac' data-ref="264xFrac" data-ref-filename="264xFrac">xFrac</a>, <a class="local col5 ref" href="#265yFrac" title='yFrac' data-ref="265yFrac" data-ref-filename="265yFrac">yFrac</a>);</td></tr>
<tr><th id="266">266</th><td>}</td></tr>
<tr><th id="267">267</th><td></td></tr>
<tr><th id="268">268</th><td><em>void</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterLumaShort' data-ref="_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict18predInterLumaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE">predInterLumaShort</dfn>(<em>const</em> <a class="type" href="predict.h.html#x265::PredictionUnit" title='x265::PredictionUnit' data-ref="x265::PredictionUnit" data-ref-filename="x265..PredictionUnit">PredictionUnit</a>&amp; <dfn class="local col6 decl" id="266pu" title='pu' data-type='const x265::PredictionUnit &amp;' data-ref="266pu" data-ref-filename="266pu">pu</dfn>, <a class="type" href="shortyuv.h.html#x265::ShortYuv" title='x265::ShortYuv' data-ref="x265::ShortYuv" data-ref-filename="x265..ShortYuv">ShortYuv</a>&amp; <dfn class="local col7 decl" id="267dstSYuv" title='dstSYuv' data-type='x265::ShortYuv &amp;' data-ref="267dstSYuv" data-ref-filename="267dstSYuv">dstSYuv</dfn>, <em>const</em> <a class="type" href="picyuv.h.html#x265::PicYuv" title='x265::PicYuv' data-ref="x265::PicYuv" data-ref-filename="x265..PicYuv">PicYuv</a>&amp; <dfn class="local col8 decl" id="268refPic" title='refPic' data-type='const x265::PicYuv &amp;' data-ref="268refPic" data-ref-filename="268refPic">refPic</dfn>, <em>const</em> <a class="type" href="mv.h.html#x265::MV" title='x265::MV' data-ref="x265::MV" data-ref-filename="x265..MV">MV</a>&amp; <dfn class="local col9 decl" id="269mv" title='mv' data-type='const x265::MV &amp;' data-ref="269mv" data-ref-filename="269mv">mv</dfn>) <em>const</em></td></tr>
<tr><th id="269">269</th><td>{</td></tr>
<tr><th id="270">270</th><td>    <a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>* <dfn class="local col0 decl" id="270dst" title='dst' data-type='int16_t *' data-ref="270dst" data-ref-filename="270dst">dst</dfn> = <a class="local col7 ref" href="#267dstSYuv" title='dstSYuv' data-ref="267dstSYuv" data-ref-filename="267dstSYuv">dstSYuv</a>.<a class="ref fn" href="shortyuv.h.html#_ZN4x2658ShortYuv11getLumaAddrEj" title='x265::ShortYuv::getLumaAddr' data-ref="_ZN4x2658ShortYuv11getLumaAddrEj" data-ref-filename="_ZN4x2658ShortYuv11getLumaAddrEj">getLumaAddr</a>(<a class="local col6 ref" href="#266pu" title='pu' data-ref="266pu" data-ref-filename="266pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="271">271</th><td>    <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col1 decl" id="271dstStride" title='dstStride' data-type='intptr_t' data-ref="271dstStride" data-ref-filename="271dstStride">dstStride</dfn> = <a class="local col7 ref" href="#267dstSYuv" title='dstSYuv' data-ref="267dstSYuv" data-ref-filename="267dstSYuv">dstSYuv</a>.<a class="ref field" href="shortyuv.h.html#x265::ShortYuv::m_size" title='x265::ShortYuv::m_size' data-ref="x265::ShortYuv::m_size" data-ref-filename="x265..ShortYuv..m_size">m_size</a>;</td></tr>
<tr><th id="272">272</th><td></td></tr>
<tr><th id="273">273</th><td>    <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col2 decl" id="272srcStride" title='srcStride' data-type='intptr_t' data-ref="272srcStride" data-ref-filename="272srcStride">srcStride</dfn> = <a class="local col8 ref" href="#268refPic" title='refPic' data-ref="268refPic" data-ref-filename="268refPic">refPic</a>.<a class="ref field" href="picyuv.h.html#x265::PicYuv::m_stride" title='x265::PicYuv::m_stride' data-ref="x265::PicYuv::m_stride" data-ref-filename="x265..PicYuv..m_stride">m_stride</a>;</td></tr>
<tr><th id="274">274</th><td>    <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col3 decl" id="273srcOffset" title='srcOffset' data-type='intptr_t' data-ref="273srcOffset" data-ref-filename="273srcOffset">srcOffset</dfn> = (<a class="local col9 ref" href="#269mv" title='mv' data-ref="269mv" data-ref-filename="269mv">mv</a>.<a class="ref field" href="mv.h.html#x265::MV::(anonymousunion)::(anonymous)::x" title='x265::MV::(anonymous union)::(anonymous struct)::x' data-ref="x265::MV::(anonymousunion)::(anonymous)::x" data-ref-filename="x265..MV..(anonymousunion)..(anonymous)..x">x</a> &gt;&gt; <var>2</var>) + (<a class="local col9 ref" href="#269mv" title='mv' data-ref="269mv" data-ref-filename="269mv">mv</a>.<a class="ref field" href="mv.h.html#x265::MV::(anonymousunion)::(anonymous)::y" title='x265::MV::(anonymous union)::(anonymous struct)::y' data-ref="x265::MV::(anonymousunion)::(anonymous)::y" data-ref-filename="x265..MV..(anonymousunion)..(anonymous)..y">y</a> &gt;&gt; <var>2</var>) * <a class="local col2 ref" href="#272srcStride" title='srcStride' data-ref="272srcStride" data-ref-filename="272srcStride">srcStride</a>;</td></tr>
<tr><th id="275">275</th><td>    <em>const</em> <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col4 decl" id="274src" title='src' data-type='const pixel *' data-ref="274src" data-ref-filename="274src">src</dfn> = <a class="local col8 ref" href="#268refPic" title='refPic' data-ref="268refPic" data-ref-filename="268refPic">refPic</a>.<a class="ref fn" href="picyuv.h.html#_ZNK4x2656PicYuv11getLumaAddrEjj" title='x265::PicYuv::getLumaAddr' data-ref="_ZNK4x2656PicYuv11getLumaAddrEjj" data-ref-filename="_ZNK4x2656PicYuv11getLumaAddrEjj">getLumaAddr</a>(<a class="local col6 ref" href="#266pu" title='pu' data-ref="266pu" data-ref-filename="266pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::ctuAddr" title='x265::PredictionUnit::ctuAddr' data-ref="x265::PredictionUnit::ctuAddr" data-ref-filename="x265..PredictionUnit..ctuAddr">ctuAddr</a>, <a class="local col6 ref" href="#266pu" title='pu' data-ref="266pu" data-ref-filename="266pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::cuAbsPartIdx" title='x265::PredictionUnit::cuAbsPartIdx' data-ref="x265::PredictionUnit::cuAbsPartIdx" data-ref-filename="x265..PredictionUnit..cuAbsPartIdx">cuAbsPartIdx</a> + <a class="local col6 ref" href="#266pu" title='pu' data-ref="266pu" data-ref-filename="266pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>) + <a class="local col3 ref" href="#273srcOffset" title='srcOffset' data-ref="273srcOffset" data-ref-filename="273srcOffset">srcOffset</a>;</td></tr>
<tr><th id="276">276</th><td></td></tr>
<tr><th id="277">277</th><td>    <em>int</em> <dfn class="local col5 decl" id="275partEnum" title='partEnum' data-type='int' data-ref="275partEnum" data-ref-filename="275partEnum">partEnum</dfn> = <a class="ref fn" href="primitives.h.html#_ZN4x26518partitionFromSizesEii" title='x265::partitionFromSizes' data-ref="_ZN4x26518partitionFromSizesEii" data-ref-filename="_ZN4x26518partitionFromSizesEii">partitionFromSizes</a>(<a class="local col6 ref" href="#266pu" title='pu' data-ref="266pu" data-ref-filename="266pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::width" title='x265::PredictionUnit::width' data-ref="x265::PredictionUnit::width" data-ref-filename="x265..PredictionUnit..width">width</a>, <a class="local col6 ref" href="#266pu" title='pu' data-ref="266pu" data-ref-filename="266pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::height" title='x265::PredictionUnit::height' data-ref="x265::PredictionUnit::height" data-ref-filename="x265..PredictionUnit..height">height</a>);</td></tr>
<tr><th id="278">278</th><td></td></tr>
<tr><th id="279">279</th><td>    <a class="macro" href="common.h.html#123" title="" data-ref="_M/X265_CHECK">X265_CHECK</a>((pu.width % <var>4</var>) + (pu.height % <var>4</var>) == <var>0</var>, <q>"width or height not divisible by 4\n"</q>);</td></tr>
<tr><th id="280">280</th><td>    <a class="macro" href="common.h.html#123" title="" data-ref="_M/X265_CHECK">X265_CHECK</a>(dstStride == MAX_CU_SIZE, <q>"stride expected to be max cu size\n"</q>);</td></tr>
<tr><th id="281">281</th><td></td></tr>
<tr><th id="282">282</th><td>    <em>int</em> <dfn class="local col6 decl" id="276xFrac" title='xFrac' data-type='int' data-ref="276xFrac" data-ref-filename="276xFrac">xFrac</dfn> = <a class="local col9 ref" href="#269mv" title='mv' data-ref="269mv" data-ref-filename="269mv">mv</a>.<a class="ref field" href="mv.h.html#x265::MV::(anonymousunion)::(anonymous)::x" title='x265::MV::(anonymous union)::(anonymous struct)::x' data-ref="x265::MV::(anonymousunion)::(anonymous)::x" data-ref-filename="x265..MV..(anonymousunion)..(anonymous)..x">x</a> &amp; <var>3</var>;</td></tr>
<tr><th id="283">283</th><td>    <em>int</em> <dfn class="local col7 decl" id="277yFrac" title='yFrac' data-type='int' data-ref="277yFrac" data-ref-filename="277yFrac">yFrac</dfn> = <a class="local col9 ref" href="#269mv" title='mv' data-ref="269mv" data-ref-filename="269mv">mv</a>.<a class="ref field" href="mv.h.html#x265::MV::(anonymousunion)::(anonymous)::y" title='x265::MV::(anonymous union)::(anonymous struct)::y' data-ref="x265::MV::(anonymousunion)::(anonymous)::y" data-ref-filename="x265..MV..(anonymousunion)..(anonymous)..y">y</a> &amp; <var>3</var>;</td></tr>
<tr><th id="284">284</th><td></td></tr>
<tr><th id="285">285</th><td>    <b>if</b> (!(<a class="local col7 ref" href="#277yFrac" title='yFrac' data-ref="277yFrac" data-ref-filename="277yFrac">yFrac</a> | <a class="local col6 ref" href="#276xFrac" title='xFrac' data-ref="276xFrac" data-ref-filename="276xFrac">xFrac</a>))</td></tr>
<tr><th id="286">286</th><td>    {</td></tr>
<tr><th id="287">287</th><td>        <em>bool</em> <dfn class="local col8 decl" id="278srcbufferAlignCheck" title='srcbufferAlignCheck' data-type='bool' data-ref="278srcbufferAlignCheck" data-ref-filename="278srcbufferAlignCheck">srcbufferAlignCheck</dfn> = (<a class="local col8 ref" href="#268refPic" title='refPic' data-ref="268refPic" data-ref-filename="268refPic">refPic</a>.<a class="ref field" href="picyuv.h.html#x265::PicYuv::m_cuOffsetY" title='x265::PicYuv::m_cuOffsetY' data-ref="x265::PicYuv::m_cuOffsetY" data-ref-filename="x265..PicYuv..m_cuOffsetY">m_cuOffsetY</a>[<a class="local col6 ref" href="#266pu" title='pu' data-ref="266pu" data-ref-filename="266pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::ctuAddr" title='x265::PredictionUnit::ctuAddr' data-ref="x265::PredictionUnit::ctuAddr" data-ref-filename="x265..PredictionUnit..ctuAddr">ctuAddr</a>] + <a class="local col8 ref" href="#268refPic" title='refPic' data-ref="268refPic" data-ref-filename="268refPic">refPic</a>.<a class="ref field" href="picyuv.h.html#x265::PicYuv::m_buOffsetY" title='x265::PicYuv::m_buOffsetY' data-ref="x265::PicYuv::m_buOffsetY" data-ref-filename="x265..PicYuv..m_buOffsetY">m_buOffsetY</a>[<a class="local col6 ref" href="#266pu" title='pu' data-ref="266pu" data-ref-filename="266pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::cuAbsPartIdx" title='x265::PredictionUnit::cuAbsPartIdx' data-ref="x265::PredictionUnit::cuAbsPartIdx" data-ref-filename="x265..PredictionUnit..cuAbsPartIdx">cuAbsPartIdx</a> + <a class="local col6 ref" href="#266pu" title='pu' data-ref="266pu" data-ref-filename="266pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>] + <a class="local col3 ref" href="#273srcOffset" title='srcOffset' data-ref="273srcOffset" data-ref-filename="273srcOffset">srcOffset</a>) % <var>64</var> == <var>0</var>;</td></tr>
<tr><th id="288">288</th><td>        <em>bool</em> <dfn class="local col9 decl" id="279dstbufferAlignCheck" title='dstbufferAlignCheck' data-type='bool' data-ref="279dstbufferAlignCheck" data-ref-filename="279dstbufferAlignCheck">dstbufferAlignCheck</dfn> = (<a class="local col7 ref" href="#267dstSYuv" title='dstSYuv' data-ref="267dstSYuv" data-ref-filename="267dstSYuv">dstSYuv</a>.<a class="ref fn" href="shortyuv.h.html#_ZN4x2658ShortYuv13getAddrOffsetEjj" title='x265::ShortYuv::getAddrOffset' data-ref="_ZN4x2658ShortYuv13getAddrOffsetEjj" data-ref-filename="_ZN4x2658ShortYuv13getAddrOffsetEjj">getAddrOffset</a>(<a class="local col6 ref" href="#266pu" title='pu' data-ref="266pu" data-ref-filename="266pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>, <a class="local col7 ref" href="#267dstSYuv" title='dstSYuv' data-ref="267dstSYuv" data-ref-filename="267dstSYuv">dstSYuv</a>.<a class="ref field" href="shortyuv.h.html#x265::ShortYuv::m_size" title='x265::ShortYuv::m_size' data-ref="x265::ShortYuv::m_size" data-ref-filename="x265..ShortYuv..m_size">m_size</a>) % <var>64</var>) == <var>0</var>;</td></tr>
<tr><th id="289">289</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::pu" title='x265::EncoderPrimitives::pu' data-ref="x265::EncoderPrimitives::pu" data-ref-filename="x265..EncoderPrimitives..pu">pu</a>[<a class="local col5 ref" href="#275partEnum" title='partEnum' data-ref="275partEnum" data-ref-filename="275partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::PU::convert_p2s" title='x265::EncoderPrimitives::PU::convert_p2s' data-ref="x265::EncoderPrimitives::PU::convert_p2s" data-ref-filename="x265..EncoderPrimitives..PU..convert_p2s">convert_p2s</a>[<a class="local col2 ref" href="#272srcStride" title='srcStride' data-ref="272srcStride" data-ref-filename="272srcStride">srcStride</a> % <var>64</var> == <var>0</var> &amp;&amp; <a class="local col1 ref" href="#271dstStride" title='dstStride' data-ref="271dstStride" data-ref-filename="271dstStride">dstStride</a> % <var>64</var> == <var>0</var> &amp;&amp; <a class="local col8 ref" href="#278srcbufferAlignCheck" title='srcbufferAlignCheck' data-ref="278srcbufferAlignCheck" data-ref-filename="278srcbufferAlignCheck">srcbufferAlignCheck</a> &amp;&amp; <a class="local col9 ref" href="#279dstbufferAlignCheck" title='dstbufferAlignCheck' data-ref="279dstbufferAlignCheck" data-ref-filename="279dstbufferAlignCheck">dstbufferAlignCheck</a>](<a class="local col4 ref" href="#274src" title='src' data-ref="274src" data-ref-filename="274src">src</a>, <a class="local col2 ref" href="#272srcStride" title='srcStride' data-ref="272srcStride" data-ref-filename="272srcStride">srcStride</a>, <a class="local col0 ref" href="#270dst" title='dst' data-ref="270dst" data-ref-filename="270dst">dst</a>, <a class="local col1 ref" href="#271dstStride" title='dstStride' data-ref="271dstStride" data-ref-filename="271dstStride">dstStride</a>);</td></tr>
<tr><th id="290">290</th><td>    }</td></tr>
<tr><th id="291">291</th><td>    <b>else</b> <b>if</b> (!<a class="local col7 ref" href="#277yFrac" title='yFrac' data-ref="277yFrac" data-ref-filename="277yFrac">yFrac</a>)</td></tr>
<tr><th id="292">292</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::pu" title='x265::EncoderPrimitives::pu' data-ref="x265::EncoderPrimitives::pu" data-ref-filename="x265..EncoderPrimitives..pu">pu</a>[<a class="local col5 ref" href="#275partEnum" title='partEnum' data-ref="275partEnum" data-ref-filename="275partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::PU::luma_hps" title='x265::EncoderPrimitives::PU::luma_hps' data-ref="x265::EncoderPrimitives::PU::luma_hps" data-ref-filename="x265..EncoderPrimitives..PU..luma_hps">luma_hps</a>(<a class="local col4 ref" href="#274src" title='src' data-ref="274src" data-ref-filename="274src">src</a>, <a class="local col2 ref" href="#272srcStride" title='srcStride' data-ref="272srcStride" data-ref-filename="272srcStride">srcStride</a>, <a class="local col0 ref" href="#270dst" title='dst' data-ref="270dst" data-ref-filename="270dst">dst</a>, <a class="local col1 ref" href="#271dstStride" title='dstStride' data-ref="271dstStride" data-ref-filename="271dstStride">dstStride</a>, <a class="local col6 ref" href="#276xFrac" title='xFrac' data-ref="276xFrac" data-ref-filename="276xFrac">xFrac</a>, <var>0</var>);</td></tr>
<tr><th id="293">293</th><td>    <b>else</b> <b>if</b> (!<a class="local col6 ref" href="#276xFrac" title='xFrac' data-ref="276xFrac" data-ref-filename="276xFrac">xFrac</a>)</td></tr>
<tr><th id="294">294</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::pu" title='x265::EncoderPrimitives::pu' data-ref="x265::EncoderPrimitives::pu" data-ref-filename="x265..EncoderPrimitives..pu">pu</a>[<a class="local col5 ref" href="#275partEnum" title='partEnum' data-ref="275partEnum" data-ref-filename="275partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::PU::luma_vps" title='x265::EncoderPrimitives::PU::luma_vps' data-ref="x265::EncoderPrimitives::PU::luma_vps" data-ref-filename="x265..EncoderPrimitives..PU..luma_vps">luma_vps</a>(<a class="local col4 ref" href="#274src" title='src' data-ref="274src" data-ref-filename="274src">src</a>, <a class="local col2 ref" href="#272srcStride" title='srcStride' data-ref="272srcStride" data-ref-filename="272srcStride">srcStride</a>, <a class="local col0 ref" href="#270dst" title='dst' data-ref="270dst" data-ref-filename="270dst">dst</a>, <a class="local col1 ref" href="#271dstStride" title='dstStride' data-ref="271dstStride" data-ref-filename="271dstStride">dstStride</a>, <a class="local col7 ref" href="#277yFrac" title='yFrac' data-ref="277yFrac" data-ref-filename="277yFrac">yFrac</a>);</td></tr>
<tr><th id="295">295</th><td>    <b>else</b></td></tr>
<tr><th id="296">296</th><td>    {</td></tr>
<tr><th id="297">297</th><td>        <a class="macro" href="common.h.html#77" title="int16_t immed[(1 &lt;&lt; 6) * ((1 &lt;&lt; 6) + 8 - 1)] __attribute__((aligned(32)))" data-ref="_M/ALIGN_VAR_32">ALIGN_VAR_32</a>(<a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>, <dfn class="local col0 decl" id="280immed" title='immed' data-type='int16_t [4544]' data-ref="280immed" data-ref-filename="280immed">immed</dfn>[<a class="macro" href="common.h.html#257" title="(1 &lt;&lt; 6)" data-ref="_M/MAX_CU_SIZE">MAX_CU_SIZE</a> * (<a class="macro" href="common.h.html#257" title="(1 &lt;&lt; 6)" data-ref="_M/MAX_CU_SIZE">MAX_CU_SIZE</a> + <a class="macro" href="constants.h.html#66" title="8" data-ref="_M/NTAPS_LUMA">NTAPS_LUMA</a> - <var>1</var>)]);</td></tr>
<tr><th id="298">298</th><td>        <em>int</em> <dfn class="local col1 decl" id="281immedStride" title='immedStride' data-type='int' data-ref="281immedStride" data-ref-filename="281immedStride">immedStride</dfn> = <a class="local col6 ref" href="#266pu" title='pu' data-ref="266pu" data-ref-filename="266pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::width" title='x265::PredictionUnit::width' data-ref="x265::PredictionUnit::width" data-ref-filename="x265..PredictionUnit..width">width</a>;</td></tr>
<tr><th id="299">299</th><td>        <em>int</em> <dfn class="local col2 decl" id="282halfFilterSize" title='halfFilterSize' data-type='int' data-ref="282halfFilterSize" data-ref-filename="282halfFilterSize">halfFilterSize</dfn> = <a class="macro" href="constants.h.html#66" title="8" data-ref="_M/NTAPS_LUMA">NTAPS_LUMA</a> &gt;&gt; <var>1</var>;</td></tr>
<tr><th id="300">300</th><td></td></tr>
<tr><th id="301">301</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::pu" title='x265::EncoderPrimitives::pu' data-ref="x265::EncoderPrimitives::pu" data-ref-filename="x265..EncoderPrimitives..pu">pu</a>[<a class="local col5 ref" href="#275partEnum" title='partEnum' data-ref="275partEnum" data-ref-filename="275partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::PU::luma_hps" title='x265::EncoderPrimitives::PU::luma_hps' data-ref="x265::EncoderPrimitives::PU::luma_hps" data-ref-filename="x265..EncoderPrimitives..PU..luma_hps">luma_hps</a>(<a class="local col4 ref" href="#274src" title='src' data-ref="274src" data-ref-filename="274src">src</a>, <a class="local col2 ref" href="#272srcStride" title='srcStride' data-ref="272srcStride" data-ref-filename="272srcStride">srcStride</a>, <a class="local col0 ref" href="#297" title='immed' data-ref="280immed" data-ref-filename="280immed">immed</a>, <a class="local col1 ref" href="#281immedStride" title='immedStride' data-ref="281immedStride" data-ref-filename="281immedStride">immedStride</a>, <a class="local col6 ref" href="#276xFrac" title='xFrac' data-ref="276xFrac" data-ref-filename="276xFrac">xFrac</a>, <var>1</var>);</td></tr>
<tr><th id="302">302</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::pu" title='x265::EncoderPrimitives::pu' data-ref="x265::EncoderPrimitives::pu" data-ref-filename="x265..EncoderPrimitives..pu">pu</a>[<a class="local col5 ref" href="#275partEnum" title='partEnum' data-ref="275partEnum" data-ref-filename="275partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::PU::luma_vss" title='x265::EncoderPrimitives::PU::luma_vss' data-ref="x265::EncoderPrimitives::PU::luma_vss" data-ref-filename="x265..EncoderPrimitives..PU..luma_vss">luma_vss</a>(<a class="local col0 ref" href="#297" title='immed' data-ref="280immed" data-ref-filename="280immed">immed</a> + (<a class="local col2 ref" href="#282halfFilterSize" title='halfFilterSize' data-ref="282halfFilterSize" data-ref-filename="282halfFilterSize">halfFilterSize</a> - <var>1</var>) * <a class="local col1 ref" href="#281immedStride" title='immedStride' data-ref="281immedStride" data-ref-filename="281immedStride">immedStride</a>, <a class="local col1 ref" href="#281immedStride" title='immedStride' data-ref="281immedStride" data-ref-filename="281immedStride">immedStride</a>, <a class="local col0 ref" href="#270dst" title='dst' data-ref="270dst" data-ref-filename="270dst">dst</a>, <a class="local col1 ref" href="#271dstStride" title='dstStride' data-ref="271dstStride" data-ref-filename="271dstStride">dstStride</a>, <a class="local col7 ref" href="#277yFrac" title='yFrac' data-ref="277yFrac" data-ref-filename="277yFrac">yFrac</a>);</td></tr>
<tr><th id="303">303</th><td>    }</td></tr>
<tr><th id="304">304</th><td>}</td></tr>
<tr><th id="305">305</th><td></td></tr>
<tr><th id="306">306</th><td><em>void</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZNK4x2657Predict20predInterChromaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterChromaPixel' data-ref="_ZNK4x2657Predict20predInterChromaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict20predInterChromaPixelERKNS_14PredictionUnitERNS_3YuvERKNS_6PicYuvERKNS_2MVE">predInterChromaPixel</dfn>(<em>const</em> <a class="type" href="predict.h.html#x265::PredictionUnit" title='x265::PredictionUnit' data-ref="x265::PredictionUnit" data-ref-filename="x265..PredictionUnit">PredictionUnit</a>&amp; <dfn class="local col3 decl" id="283pu" title='pu' data-type='const x265::PredictionUnit &amp;' data-ref="283pu" data-ref-filename="283pu">pu</dfn>, <a class="type" href="yuv.h.html#x265::Yuv" title='x265::Yuv' data-ref="x265::Yuv" data-ref-filename="x265..Yuv">Yuv</a>&amp; <dfn class="local col4 decl" id="284dstYuv" title='dstYuv' data-type='x265::Yuv &amp;' data-ref="284dstYuv" data-ref-filename="284dstYuv">dstYuv</dfn>, <em>const</em> <a class="type" href="picyuv.h.html#x265::PicYuv" title='x265::PicYuv' data-ref="x265::PicYuv" data-ref-filename="x265..PicYuv">PicYuv</a>&amp; <dfn class="local col5 decl" id="285refPic" title='refPic' data-type='const x265::PicYuv &amp;' data-ref="285refPic" data-ref-filename="285refPic">refPic</dfn>, <em>const</em> <a class="type" href="mv.h.html#x265::MV" title='x265::MV' data-ref="x265::MV" data-ref-filename="x265..MV">MV</a>&amp; <dfn class="local col6 decl" id="286mv" title='mv' data-type='const x265::MV &amp;' data-ref="286mv" data-ref-filename="286mv">mv</dfn>) <em>const</em></td></tr>
<tr><th id="307">307</th><td>{</td></tr>
<tr><th id="308">308</th><td>    <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col7 decl" id="287dstStride" title='dstStride' data-type='intptr_t' data-ref="287dstStride" data-ref-filename="287dstStride">dstStride</dfn> = <a class="local col4 ref" href="#284dstYuv" title='dstYuv' data-ref="284dstYuv" data-ref-filename="284dstYuv">dstYuv</a>.<a class="ref field" href="yuv.h.html#x265::Yuv::m_csize" title='x265::Yuv::m_csize' data-ref="x265::Yuv::m_csize" data-ref-filename="x265..Yuv..m_csize">m_csize</a>;</td></tr>
<tr><th id="309">309</th><td>    <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col8 decl" id="288refStride" title='refStride' data-type='intptr_t' data-ref="288refStride" data-ref-filename="288refStride">refStride</dfn> = <a class="local col5 ref" href="#285refPic" title='refPic' data-ref="285refPic" data-ref-filename="285refPic">refPic</a>.<a class="ref field" href="picyuv.h.html#x265::PicYuv::m_strideC" title='x265::PicYuv::m_strideC' data-ref="x265::PicYuv::m_strideC" data-ref-filename="x265..PicYuv..m_strideC">m_strideC</a>;</td></tr>
<tr><th id="310">310</th><td></td></tr>
<tr><th id="311">311</th><td>    <em>int</em> <dfn class="local col9 decl" id="289mvx" title='mvx' data-type='int' data-ref="289mvx" data-ref-filename="289mvx">mvx</dfn> = <a class="local col6 ref" href="#286mv" title='mv' data-ref="286mv" data-ref-filename="286mv">mv</a>.<a class="ref field" href="mv.h.html#x265::MV::(anonymousunion)::(anonymous)::x" title='x265::MV::(anonymous union)::(anonymous struct)::x' data-ref="x265::MV::(anonymousunion)::(anonymous)::x" data-ref-filename="x265..MV..(anonymousunion)..(anonymous)..x">x</a> &lt;&lt; (<var>1</var> - <a class="member field" href="predict.h.html#x265::Predict::m_hChromaShift" title='x265::Predict::m_hChromaShift' data-ref="x265::Predict::m_hChromaShift" data-ref-filename="x265..Predict..m_hChromaShift">m_hChromaShift</a>);</td></tr>
<tr><th id="312">312</th><td>    <em>int</em> <dfn class="local col0 decl" id="290mvy" title='mvy' data-type='int' data-ref="290mvy" data-ref-filename="290mvy">mvy</dfn> = <a class="local col6 ref" href="#286mv" title='mv' data-ref="286mv" data-ref-filename="286mv">mv</a>.<a class="ref field" href="mv.h.html#x265::MV::(anonymousunion)::(anonymous)::y" title='x265::MV::(anonymous union)::(anonymous struct)::y' data-ref="x265::MV::(anonymousunion)::(anonymous)::y" data-ref-filename="x265..MV..(anonymousunion)..(anonymous)..y">y</a> &lt;&lt; (<var>1</var> - <a class="member field" href="predict.h.html#x265::Predict::m_vChromaShift" title='x265::Predict::m_vChromaShift' data-ref="x265::Predict::m_vChromaShift" data-ref-filename="x265..Predict..m_vChromaShift">m_vChromaShift</a>);</td></tr>
<tr><th id="313">313</th><td></td></tr>
<tr><th id="314">314</th><td>    <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col1 decl" id="291refOffset" title='refOffset' data-type='intptr_t' data-ref="291refOffset" data-ref-filename="291refOffset">refOffset</dfn> = (<a class="local col9 ref" href="#289mvx" title='mvx' data-ref="289mvx" data-ref-filename="289mvx">mvx</a> &gt;&gt; <var>3</var>) + (<a class="local col0 ref" href="#290mvy" title='mvy' data-ref="290mvy" data-ref-filename="290mvy">mvy</a> &gt;&gt; <var>3</var>) * <a class="local col8 ref" href="#288refStride" title='refStride' data-ref="288refStride" data-ref-filename="288refStride">refStride</a>;</td></tr>
<tr><th id="315">315</th><td></td></tr>
<tr><th id="316">316</th><td>    <em>const</em> <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col2 decl" id="292refCb" title='refCb' data-type='const pixel *' data-ref="292refCb" data-ref-filename="292refCb">refCb</dfn> = <a class="local col5 ref" href="#285refPic" title='refPic' data-ref="285refPic" data-ref-filename="285refPic">refPic</a>.<a class="ref fn" href="picyuv.h.html#_ZNK4x2656PicYuv9getCbAddrEjj" title='x265::PicYuv::getCbAddr' data-ref="_ZNK4x2656PicYuv9getCbAddrEjj" data-ref-filename="_ZNK4x2656PicYuv9getCbAddrEjj">getCbAddr</a>(<a class="local col3 ref" href="#283pu" title='pu' data-ref="283pu" data-ref-filename="283pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::ctuAddr" title='x265::PredictionUnit::ctuAddr' data-ref="x265::PredictionUnit::ctuAddr" data-ref-filename="x265..PredictionUnit..ctuAddr">ctuAddr</a>, <a class="local col3 ref" href="#283pu" title='pu' data-ref="283pu" data-ref-filename="283pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::cuAbsPartIdx" title='x265::PredictionUnit::cuAbsPartIdx' data-ref="x265::PredictionUnit::cuAbsPartIdx" data-ref-filename="x265..PredictionUnit..cuAbsPartIdx">cuAbsPartIdx</a> + <a class="local col3 ref" href="#283pu" title='pu' data-ref="283pu" data-ref-filename="283pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>) + <a class="local col1 ref" href="#291refOffset" title='refOffset' data-ref="291refOffset" data-ref-filename="291refOffset">refOffset</a>;</td></tr>
<tr><th id="317">317</th><td>    <em>const</em> <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col3 decl" id="293refCr" title='refCr' data-type='const pixel *' data-ref="293refCr" data-ref-filename="293refCr">refCr</dfn> = <a class="local col5 ref" href="#285refPic" title='refPic' data-ref="285refPic" data-ref-filename="285refPic">refPic</a>.<a class="ref fn" href="picyuv.h.html#_ZNK4x2656PicYuv9getCrAddrEjj" title='x265::PicYuv::getCrAddr' data-ref="_ZNK4x2656PicYuv9getCrAddrEjj" data-ref-filename="_ZNK4x2656PicYuv9getCrAddrEjj">getCrAddr</a>(<a class="local col3 ref" href="#283pu" title='pu' data-ref="283pu" data-ref-filename="283pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::ctuAddr" title='x265::PredictionUnit::ctuAddr' data-ref="x265::PredictionUnit::ctuAddr" data-ref-filename="x265..PredictionUnit..ctuAddr">ctuAddr</a>, <a class="local col3 ref" href="#283pu" title='pu' data-ref="283pu" data-ref-filename="283pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::cuAbsPartIdx" title='x265::PredictionUnit::cuAbsPartIdx' data-ref="x265::PredictionUnit::cuAbsPartIdx" data-ref-filename="x265..PredictionUnit..cuAbsPartIdx">cuAbsPartIdx</a> + <a class="local col3 ref" href="#283pu" title='pu' data-ref="283pu" data-ref-filename="283pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>) + <a class="local col1 ref" href="#291refOffset" title='refOffset' data-ref="291refOffset" data-ref-filename="291refOffset">refOffset</a>;</td></tr>
<tr><th id="318">318</th><td></td></tr>
<tr><th id="319">319</th><td>    <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col4 decl" id="294dstCb" title='dstCb' data-type='pixel *' data-ref="294dstCb" data-ref-filename="294dstCb">dstCb</dfn> = <a class="local col4 ref" href="#284dstYuv" title='dstYuv' data-ref="284dstYuv" data-ref-filename="284dstYuv">dstYuv</a>.<a class="ref fn" href="yuv.h.html#_ZN4x2653Yuv9getCbAddrEj" title='x265::Yuv::getCbAddr' data-ref="_ZN4x2653Yuv9getCbAddrEj" data-ref-filename="_ZN4x2653Yuv9getCbAddrEj">getCbAddr</a>(<a class="local col3 ref" href="#283pu" title='pu' data-ref="283pu" data-ref-filename="283pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="320">320</th><td>    <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col5 decl" id="295dstCr" title='dstCr' data-type='pixel *' data-ref="295dstCr" data-ref-filename="295dstCr">dstCr</dfn> = <a class="local col4 ref" href="#284dstYuv" title='dstYuv' data-ref="284dstYuv" data-ref-filename="284dstYuv">dstYuv</a>.<a class="ref fn" href="yuv.h.html#_ZN4x2653Yuv9getCrAddrEj" title='x265::Yuv::getCrAddr' data-ref="_ZN4x2653Yuv9getCrAddrEj" data-ref-filename="_ZN4x2653Yuv9getCrAddrEj">getCrAddr</a>(<a class="local col3 ref" href="#283pu" title='pu' data-ref="283pu" data-ref-filename="283pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="321">321</th><td></td></tr>
<tr><th id="322">322</th><td>    <em>int</em> <dfn class="local col6 decl" id="296partEnum" title='partEnum' data-type='int' data-ref="296partEnum" data-ref-filename="296partEnum">partEnum</dfn> = <a class="ref fn" href="primitives.h.html#_ZN4x26518partitionFromSizesEii" title='x265::partitionFromSizes' data-ref="_ZN4x26518partitionFromSizesEii" data-ref-filename="_ZN4x26518partitionFromSizesEii">partitionFromSizes</a>(<a class="local col3 ref" href="#283pu" title='pu' data-ref="283pu" data-ref-filename="283pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::width" title='x265::PredictionUnit::width' data-ref="x265::PredictionUnit::width" data-ref-filename="x265..PredictionUnit..width">width</a>, <a class="local col3 ref" href="#283pu" title='pu' data-ref="283pu" data-ref-filename="283pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::height" title='x265::PredictionUnit::height' data-ref="x265::PredictionUnit::height" data-ref-filename="x265..PredictionUnit..height">height</a>);</td></tr>
<tr><th id="323">323</th><td></td></tr>
<tr><th id="324">324</th><td>    <em>int</em> <dfn class="local col7 decl" id="297xFrac" title='xFrac' data-type='int' data-ref="297xFrac" data-ref-filename="297xFrac">xFrac</dfn> = <a class="local col9 ref" href="#289mvx" title='mvx' data-ref="289mvx" data-ref-filename="289mvx">mvx</a> &amp; <var>7</var>;</td></tr>
<tr><th id="325">325</th><td>    <em>int</em> <dfn class="local col8 decl" id="298yFrac" title='yFrac' data-type='int' data-ref="298yFrac" data-ref-filename="298yFrac">yFrac</dfn> = <a class="local col0 ref" href="#290mvy" title='mvy' data-ref="290mvy" data-ref-filename="290mvy">mvy</a> &amp; <var>7</var>;</td></tr>
<tr><th id="326">326</th><td></td></tr>
<tr><th id="327">327</th><td>    <b>if</b> (!(<a class="local col8 ref" href="#298yFrac" title='yFrac' data-ref="298yFrac" data-ref-filename="298yFrac">yFrac</a> | <a class="local col7 ref" href="#297xFrac" title='xFrac' data-ref="297xFrac" data-ref-filename="297xFrac">xFrac</a>))</td></tr>
<tr><th id="328">328</th><td>    {</td></tr>
<tr><th id="329">329</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col6 ref" href="#296partEnum" title='partEnum' data-ref="296partEnum" data-ref-filename="296partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::copy_pp" title='x265::EncoderPrimitives::Chroma::PUChroma::copy_pp' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::copy_pp" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..copy_pp">copy_pp</a>(<a class="local col4 ref" href="#294dstCb" title='dstCb' data-ref="294dstCb" data-ref-filename="294dstCb">dstCb</a>, <a class="local col7 ref" href="#287dstStride" title='dstStride' data-ref="287dstStride" data-ref-filename="287dstStride">dstStride</a>, <a class="local col2 ref" href="#292refCb" title='refCb' data-ref="292refCb" data-ref-filename="292refCb">refCb</a>, <a class="local col8 ref" href="#288refStride" title='refStride' data-ref="288refStride" data-ref-filename="288refStride">refStride</a>);</td></tr>
<tr><th id="330">330</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col6 ref" href="#296partEnum" title='partEnum' data-ref="296partEnum" data-ref-filename="296partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::copy_pp" title='x265::EncoderPrimitives::Chroma::PUChroma::copy_pp' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::copy_pp" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..copy_pp">copy_pp</a>(<a class="local col5 ref" href="#295dstCr" title='dstCr' data-ref="295dstCr" data-ref-filename="295dstCr">dstCr</a>, <a class="local col7 ref" href="#287dstStride" title='dstStride' data-ref="287dstStride" data-ref-filename="287dstStride">dstStride</a>, <a class="local col3 ref" href="#293refCr" title='refCr' data-ref="293refCr" data-ref-filename="293refCr">refCr</a>, <a class="local col8 ref" href="#288refStride" title='refStride' data-ref="288refStride" data-ref-filename="288refStride">refStride</a>);</td></tr>
<tr><th id="331">331</th><td>    }</td></tr>
<tr><th id="332">332</th><td>    <b>else</b> <b>if</b> (!<a class="local col8 ref" href="#298yFrac" title='yFrac' data-ref="298yFrac" data-ref-filename="298yFrac">yFrac</a>)</td></tr>
<tr><th id="333">333</th><td>    {</td></tr>
<tr><th id="334">334</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col6 ref" href="#296partEnum" title='partEnum' data-ref="296partEnum" data-ref-filename="296partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_hpp" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_hpp' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_hpp" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_hpp">filter_hpp</a>(<a class="local col2 ref" href="#292refCb" title='refCb' data-ref="292refCb" data-ref-filename="292refCb">refCb</a>, <a class="local col8 ref" href="#288refStride" title='refStride' data-ref="288refStride" data-ref-filename="288refStride">refStride</a>, <a class="local col4 ref" href="#294dstCb" title='dstCb' data-ref="294dstCb" data-ref-filename="294dstCb">dstCb</a>, <a class="local col7 ref" href="#287dstStride" title='dstStride' data-ref="287dstStride" data-ref-filename="287dstStride">dstStride</a>, <a class="local col7 ref" href="#297xFrac" title='xFrac' data-ref="297xFrac" data-ref-filename="297xFrac">xFrac</a>);</td></tr>
<tr><th id="335">335</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col6 ref" href="#296partEnum" title='partEnum' data-ref="296partEnum" data-ref-filename="296partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_hpp" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_hpp' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_hpp" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_hpp">filter_hpp</a>(<a class="local col3 ref" href="#293refCr" title='refCr' data-ref="293refCr" data-ref-filename="293refCr">refCr</a>, <a class="local col8 ref" href="#288refStride" title='refStride' data-ref="288refStride" data-ref-filename="288refStride">refStride</a>, <a class="local col5 ref" href="#295dstCr" title='dstCr' data-ref="295dstCr" data-ref-filename="295dstCr">dstCr</a>, <a class="local col7 ref" href="#287dstStride" title='dstStride' data-ref="287dstStride" data-ref-filename="287dstStride">dstStride</a>, <a class="local col7 ref" href="#297xFrac" title='xFrac' data-ref="297xFrac" data-ref-filename="297xFrac">xFrac</a>);</td></tr>
<tr><th id="336">336</th><td>    }</td></tr>
<tr><th id="337">337</th><td>    <b>else</b> <b>if</b> (!<a class="local col7 ref" href="#297xFrac" title='xFrac' data-ref="297xFrac" data-ref-filename="297xFrac">xFrac</a>)</td></tr>
<tr><th id="338">338</th><td>    {</td></tr>
<tr><th id="339">339</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col6 ref" href="#296partEnum" title='partEnum' data-ref="296partEnum" data-ref-filename="296partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_vpp" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_vpp' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_vpp" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_vpp">filter_vpp</a>(<a class="local col2 ref" href="#292refCb" title='refCb' data-ref="292refCb" data-ref-filename="292refCb">refCb</a>, <a class="local col8 ref" href="#288refStride" title='refStride' data-ref="288refStride" data-ref-filename="288refStride">refStride</a>, <a class="local col4 ref" href="#294dstCb" title='dstCb' data-ref="294dstCb" data-ref-filename="294dstCb">dstCb</a>, <a class="local col7 ref" href="#287dstStride" title='dstStride' data-ref="287dstStride" data-ref-filename="287dstStride">dstStride</a>, <a class="local col8 ref" href="#298yFrac" title='yFrac' data-ref="298yFrac" data-ref-filename="298yFrac">yFrac</a>);</td></tr>
<tr><th id="340">340</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col6 ref" href="#296partEnum" title='partEnum' data-ref="296partEnum" data-ref-filename="296partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_vpp" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_vpp' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_vpp" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_vpp">filter_vpp</a>(<a class="local col3 ref" href="#293refCr" title='refCr' data-ref="293refCr" data-ref-filename="293refCr">refCr</a>, <a class="local col8 ref" href="#288refStride" title='refStride' data-ref="288refStride" data-ref-filename="288refStride">refStride</a>, <a class="local col5 ref" href="#295dstCr" title='dstCr' data-ref="295dstCr" data-ref-filename="295dstCr">dstCr</a>, <a class="local col7 ref" href="#287dstStride" title='dstStride' data-ref="287dstStride" data-ref-filename="287dstStride">dstStride</a>, <a class="local col8 ref" href="#298yFrac" title='yFrac' data-ref="298yFrac" data-ref-filename="298yFrac">yFrac</a>);</td></tr>
<tr><th id="341">341</th><td>    }</td></tr>
<tr><th id="342">342</th><td>    <b>else</b></td></tr>
<tr><th id="343">343</th><td>    {</td></tr>
<tr><th id="344">344</th><td>        <a class="macro" href="common.h.html#77" title="int16_t immed[(1 &lt;&lt; 6) * ((1 &lt;&lt; 6) + 4 - 1)] __attribute__((aligned(32)))" data-ref="_M/ALIGN_VAR_32">ALIGN_VAR_32</a>(<a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>, <dfn class="local col9 decl" id="299immed" title='immed' data-type='int16_t [4288]' data-ref="299immed" data-ref-filename="299immed">immed</dfn>[<a class="macro" href="common.h.html#257" title="(1 &lt;&lt; 6)" data-ref="_M/MAX_CU_SIZE">MAX_CU_SIZE</a> * (<a class="macro" href="common.h.html#257" title="(1 &lt;&lt; 6)" data-ref="_M/MAX_CU_SIZE">MAX_CU_SIZE</a> + <a class="macro" href="constants.h.html#67" title="4" data-ref="_M/NTAPS_CHROMA">NTAPS_CHROMA</a> - <var>1</var>)]);</td></tr>
<tr><th id="345">345</th><td>        <em>int</em> <dfn class="local col0 decl" id="300immedStride" title='immedStride' data-type='int' data-ref="300immedStride" data-ref-filename="300immedStride">immedStride</dfn> = <a class="local col3 ref" href="#283pu" title='pu' data-ref="283pu" data-ref-filename="283pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::width" title='x265::PredictionUnit::width' data-ref="x265::PredictionUnit::width" data-ref-filename="x265..PredictionUnit..width">width</a> &gt;&gt; <a class="member field" href="predict.h.html#x265::Predict::m_hChromaShift" title='x265::Predict::m_hChromaShift' data-ref="x265::Predict::m_hChromaShift" data-ref-filename="x265..Predict..m_hChromaShift">m_hChromaShift</a>;</td></tr>
<tr><th id="346">346</th><td>        <em>int</em> <dfn class="local col1 decl" id="301halfFilterSize" title='halfFilterSize' data-type='int' data-ref="301halfFilterSize" data-ref-filename="301halfFilterSize">halfFilterSize</dfn> = <a class="macro" href="constants.h.html#67" title="4" data-ref="_M/NTAPS_CHROMA">NTAPS_CHROMA</a> &gt;&gt; <var>1</var>;</td></tr>
<tr><th id="347">347</th><td></td></tr>
<tr><th id="348">348</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col6 ref" href="#296partEnum" title='partEnum' data-ref="296partEnum" data-ref-filename="296partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_hps" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_hps' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_hps" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_hps">filter_hps</a>(<a class="local col2 ref" href="#292refCb" title='refCb' data-ref="292refCb" data-ref-filename="292refCb">refCb</a>, <a class="local col8 ref" href="#288refStride" title='refStride' data-ref="288refStride" data-ref-filename="288refStride">refStride</a>, <a class="local col9 ref" href="#344" title='immed' data-ref="299immed" data-ref-filename="299immed">immed</a>, <a class="local col0 ref" href="#300immedStride" title='immedStride' data-ref="300immedStride" data-ref-filename="300immedStride">immedStride</a>, <a class="local col7 ref" href="#297xFrac" title='xFrac' data-ref="297xFrac" data-ref-filename="297xFrac">xFrac</a>, <var>1</var>);</td></tr>
<tr><th id="349">349</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col6 ref" href="#296partEnum" title='partEnum' data-ref="296partEnum" data-ref-filename="296partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_vsp" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_vsp' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_vsp" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_vsp">filter_vsp</a>(<a class="local col9 ref" href="#344" title='immed' data-ref="299immed" data-ref-filename="299immed">immed</a> + (<a class="local col1 ref" href="#301halfFilterSize" title='halfFilterSize' data-ref="301halfFilterSize" data-ref-filename="301halfFilterSize">halfFilterSize</a> - <var>1</var>) * <a class="local col0 ref" href="#300immedStride" title='immedStride' data-ref="300immedStride" data-ref-filename="300immedStride">immedStride</a>, <a class="local col0 ref" href="#300immedStride" title='immedStride' data-ref="300immedStride" data-ref-filename="300immedStride">immedStride</a>, <a class="local col4 ref" href="#294dstCb" title='dstCb' data-ref="294dstCb" data-ref-filename="294dstCb">dstCb</a>, <a class="local col7 ref" href="#287dstStride" title='dstStride' data-ref="287dstStride" data-ref-filename="287dstStride">dstStride</a>, <a class="local col8 ref" href="#298yFrac" title='yFrac' data-ref="298yFrac" data-ref-filename="298yFrac">yFrac</a>);</td></tr>
<tr><th id="350">350</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col6 ref" href="#296partEnum" title='partEnum' data-ref="296partEnum" data-ref-filename="296partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_hps" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_hps' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_hps" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_hps">filter_hps</a>(<a class="local col3 ref" href="#293refCr" title='refCr' data-ref="293refCr" data-ref-filename="293refCr">refCr</a>, <a class="local col8 ref" href="#288refStride" title='refStride' data-ref="288refStride" data-ref-filename="288refStride">refStride</a>, <a class="local col9 ref" href="#344" title='immed' data-ref="299immed" data-ref-filename="299immed">immed</a>, <a class="local col0 ref" href="#300immedStride" title='immedStride' data-ref="300immedStride" data-ref-filename="300immedStride">immedStride</a>, <a class="local col7 ref" href="#297xFrac" title='xFrac' data-ref="297xFrac" data-ref-filename="297xFrac">xFrac</a>, <var>1</var>);</td></tr>
<tr><th id="351">351</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col6 ref" href="#296partEnum" title='partEnum' data-ref="296partEnum" data-ref-filename="296partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_vsp" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_vsp' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_vsp" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_vsp">filter_vsp</a>(<a class="local col9 ref" href="#344" title='immed' data-ref="299immed" data-ref-filename="299immed">immed</a> + (<a class="local col1 ref" href="#301halfFilterSize" title='halfFilterSize' data-ref="301halfFilterSize" data-ref-filename="301halfFilterSize">halfFilterSize</a> - <var>1</var>) * <a class="local col0 ref" href="#300immedStride" title='immedStride' data-ref="300immedStride" data-ref-filename="300immedStride">immedStride</a>, <a class="local col0 ref" href="#300immedStride" title='immedStride' data-ref="300immedStride" data-ref-filename="300immedStride">immedStride</a>, <a class="local col5 ref" href="#295dstCr" title='dstCr' data-ref="295dstCr" data-ref-filename="295dstCr">dstCr</a>, <a class="local col7 ref" href="#287dstStride" title='dstStride' data-ref="287dstStride" data-ref-filename="287dstStride">dstStride</a>, <a class="local col8 ref" href="#298yFrac" title='yFrac' data-ref="298yFrac" data-ref-filename="298yFrac">yFrac</a>);</td></tr>
<tr><th id="352">352</th><td>    }</td></tr>
<tr><th id="353">353</th><td>}</td></tr>
<tr><th id="354">354</th><td></td></tr>
<tr><th id="355">355</th><td><em>void</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" title='x265::Predict::predInterChromaShort' data-ref="_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE" data-ref-filename="_ZNK4x2657Predict20predInterChromaShortERKNS_14PredictionUnitERNS_8ShortYuvERKNS_6PicYuvERKNS_2MVE">predInterChromaShort</dfn>(<em>const</em> <a class="type" href="predict.h.html#x265::PredictionUnit" title='x265::PredictionUnit' data-ref="x265::PredictionUnit" data-ref-filename="x265..PredictionUnit">PredictionUnit</a>&amp; <dfn class="local col2 decl" id="302pu" title='pu' data-type='const x265::PredictionUnit &amp;' data-ref="302pu" data-ref-filename="302pu">pu</dfn>, <a class="type" href="shortyuv.h.html#x265::ShortYuv" title='x265::ShortYuv' data-ref="x265::ShortYuv" data-ref-filename="x265..ShortYuv">ShortYuv</a>&amp; <dfn class="local col3 decl" id="303dstSYuv" title='dstSYuv' data-type='x265::ShortYuv &amp;' data-ref="303dstSYuv" data-ref-filename="303dstSYuv">dstSYuv</dfn>, <em>const</em> <a class="type" href="picyuv.h.html#x265::PicYuv" title='x265::PicYuv' data-ref="x265::PicYuv" data-ref-filename="x265..PicYuv">PicYuv</a>&amp; <dfn class="local col4 decl" id="304refPic" title='refPic' data-type='const x265::PicYuv &amp;' data-ref="304refPic" data-ref-filename="304refPic">refPic</dfn>, <em>const</em> <a class="type" href="mv.h.html#x265::MV" title='x265::MV' data-ref="x265::MV" data-ref-filename="x265..MV">MV</a>&amp; <dfn class="local col5 decl" id="305mv" title='mv' data-type='const x265::MV &amp;' data-ref="305mv" data-ref-filename="305mv">mv</dfn>) <em>const</em></td></tr>
<tr><th id="356">356</th><td>{</td></tr>
<tr><th id="357">357</th><td>    <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col6 decl" id="306dstStride" title='dstStride' data-type='intptr_t' data-ref="306dstStride" data-ref-filename="306dstStride">dstStride</dfn> = <a class="local col3 ref" href="#303dstSYuv" title='dstSYuv' data-ref="303dstSYuv" data-ref-filename="303dstSYuv">dstSYuv</a>.<a class="ref field" href="shortyuv.h.html#x265::ShortYuv::m_csize" title='x265::ShortYuv::m_csize' data-ref="x265::ShortYuv::m_csize" data-ref-filename="x265..ShortYuv..m_csize">m_csize</a>;</td></tr>
<tr><th id="358">358</th><td>    <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col7 decl" id="307refStride" title='refStride' data-type='intptr_t' data-ref="307refStride" data-ref-filename="307refStride">refStride</dfn> = <a class="local col4 ref" href="#304refPic" title='refPic' data-ref="304refPic" data-ref-filename="304refPic">refPic</a>.<a class="ref field" href="picyuv.h.html#x265::PicYuv::m_strideC" title='x265::PicYuv::m_strideC' data-ref="x265::PicYuv::m_strideC" data-ref-filename="x265..PicYuv..m_strideC">m_strideC</a>;</td></tr>
<tr><th id="359">359</th><td></td></tr>
<tr><th id="360">360</th><td>    <em>int</em> <dfn class="local col8 decl" id="308mvx" title='mvx' data-type='int' data-ref="308mvx" data-ref-filename="308mvx">mvx</dfn> = <a class="local col5 ref" href="#305mv" title='mv' data-ref="305mv" data-ref-filename="305mv">mv</a>.<a class="ref field" href="mv.h.html#x265::MV::(anonymousunion)::(anonymous)::x" title='x265::MV::(anonymous union)::(anonymous struct)::x' data-ref="x265::MV::(anonymousunion)::(anonymous)::x" data-ref-filename="x265..MV..(anonymousunion)..(anonymous)..x">x</a> &lt;&lt; (<var>1</var> - <a class="member field" href="predict.h.html#x265::Predict::m_hChromaShift" title='x265::Predict::m_hChromaShift' data-ref="x265::Predict::m_hChromaShift" data-ref-filename="x265..Predict..m_hChromaShift">m_hChromaShift</a>);</td></tr>
<tr><th id="361">361</th><td>    <em>int</em> <dfn class="local col9 decl" id="309mvy" title='mvy' data-type='int' data-ref="309mvy" data-ref-filename="309mvy">mvy</dfn> = <a class="local col5 ref" href="#305mv" title='mv' data-ref="305mv" data-ref-filename="305mv">mv</a>.<a class="ref field" href="mv.h.html#x265::MV::(anonymousunion)::(anonymous)::y" title='x265::MV::(anonymous union)::(anonymous struct)::y' data-ref="x265::MV::(anonymousunion)::(anonymous)::y" data-ref-filename="x265..MV..(anonymousunion)..(anonymous)..y">y</a> &lt;&lt; (<var>1</var> - <a class="member field" href="predict.h.html#x265::Predict::m_vChromaShift" title='x265::Predict::m_vChromaShift' data-ref="x265::Predict::m_vChromaShift" data-ref-filename="x265..Predict..m_vChromaShift">m_vChromaShift</a>);</td></tr>
<tr><th id="362">362</th><td></td></tr>
<tr><th id="363">363</th><td>    <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col0 decl" id="310refOffset" title='refOffset' data-type='intptr_t' data-ref="310refOffset" data-ref-filename="310refOffset">refOffset</dfn> = (<a class="local col8 ref" href="#308mvx" title='mvx' data-ref="308mvx" data-ref-filename="308mvx">mvx</a> &gt;&gt; <var>3</var>) + (<a class="local col9 ref" href="#309mvy" title='mvy' data-ref="309mvy" data-ref-filename="309mvy">mvy</a> &gt;&gt; <var>3</var>) * <a class="local col7 ref" href="#307refStride" title='refStride' data-ref="307refStride" data-ref-filename="307refStride">refStride</a>;</td></tr>
<tr><th id="364">364</th><td></td></tr>
<tr><th id="365">365</th><td>    <em>const</em> <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col1 decl" id="311refCb" title='refCb' data-type='const pixel *' data-ref="311refCb" data-ref-filename="311refCb">refCb</dfn> = <a class="local col4 ref" href="#304refPic" title='refPic' data-ref="304refPic" data-ref-filename="304refPic">refPic</a>.<a class="ref fn" href="picyuv.h.html#_ZNK4x2656PicYuv9getCbAddrEjj" title='x265::PicYuv::getCbAddr' data-ref="_ZNK4x2656PicYuv9getCbAddrEjj" data-ref-filename="_ZNK4x2656PicYuv9getCbAddrEjj">getCbAddr</a>(<a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::ctuAddr" title='x265::PredictionUnit::ctuAddr' data-ref="x265::PredictionUnit::ctuAddr" data-ref-filename="x265..PredictionUnit..ctuAddr">ctuAddr</a>, <a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::cuAbsPartIdx" title='x265::PredictionUnit::cuAbsPartIdx' data-ref="x265::PredictionUnit::cuAbsPartIdx" data-ref-filename="x265..PredictionUnit..cuAbsPartIdx">cuAbsPartIdx</a> + <a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>) + <a class="local col0 ref" href="#310refOffset" title='refOffset' data-ref="310refOffset" data-ref-filename="310refOffset">refOffset</a>;</td></tr>
<tr><th id="366">366</th><td>    <em>const</em> <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col2 decl" id="312refCr" title='refCr' data-type='const pixel *' data-ref="312refCr" data-ref-filename="312refCr">refCr</dfn> = <a class="local col4 ref" href="#304refPic" title='refPic' data-ref="304refPic" data-ref-filename="304refPic">refPic</a>.<a class="ref fn" href="picyuv.h.html#_ZNK4x2656PicYuv9getCrAddrEjj" title='x265::PicYuv::getCrAddr' data-ref="_ZNK4x2656PicYuv9getCrAddrEjj" data-ref-filename="_ZNK4x2656PicYuv9getCrAddrEjj">getCrAddr</a>(<a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::ctuAddr" title='x265::PredictionUnit::ctuAddr' data-ref="x265::PredictionUnit::ctuAddr" data-ref-filename="x265..PredictionUnit..ctuAddr">ctuAddr</a>, <a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::cuAbsPartIdx" title='x265::PredictionUnit::cuAbsPartIdx' data-ref="x265::PredictionUnit::cuAbsPartIdx" data-ref-filename="x265..PredictionUnit..cuAbsPartIdx">cuAbsPartIdx</a> + <a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>) + <a class="local col0 ref" href="#310refOffset" title='refOffset' data-ref="310refOffset" data-ref-filename="310refOffset">refOffset</a>;</td></tr>
<tr><th id="367">367</th><td></td></tr>
<tr><th id="368">368</th><td>    <a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>* <dfn class="local col3 decl" id="313dstCb" title='dstCb' data-type='int16_t *' data-ref="313dstCb" data-ref-filename="313dstCb">dstCb</dfn> = <a class="local col3 ref" href="#303dstSYuv" title='dstSYuv' data-ref="303dstSYuv" data-ref-filename="303dstSYuv">dstSYuv</a>.<a class="ref fn" href="shortyuv.h.html#_ZN4x2658ShortYuv9getCbAddrEj" title='x265::ShortYuv::getCbAddr' data-ref="_ZN4x2658ShortYuv9getCbAddrEj" data-ref-filename="_ZN4x2658ShortYuv9getCbAddrEj">getCbAddr</a>(<a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="369">369</th><td>    <a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>* <dfn class="local col4 decl" id="314dstCr" title='dstCr' data-type='int16_t *' data-ref="314dstCr" data-ref-filename="314dstCr">dstCr</dfn> = <a class="local col3 ref" href="#303dstSYuv" title='dstSYuv' data-ref="303dstSYuv" data-ref-filename="303dstSYuv">dstSYuv</a>.<a class="ref fn" href="shortyuv.h.html#_ZN4x2658ShortYuv9getCrAddrEj" title='x265::ShortYuv::getCrAddr' data-ref="_ZN4x2658ShortYuv9getCrAddrEj" data-ref-filename="_ZN4x2658ShortYuv9getCrAddrEj">getCrAddr</a>(<a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="370">370</th><td></td></tr>
<tr><th id="371">371</th><td>    <em>int</em> <dfn class="local col5 decl" id="315partEnum" title='partEnum' data-type='int' data-ref="315partEnum" data-ref-filename="315partEnum">partEnum</dfn> = <a class="ref fn" href="primitives.h.html#_ZN4x26518partitionFromSizesEii" title='x265::partitionFromSizes' data-ref="_ZN4x26518partitionFromSizesEii" data-ref-filename="_ZN4x26518partitionFromSizesEii">partitionFromSizes</a>(<a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::width" title='x265::PredictionUnit::width' data-ref="x265::PredictionUnit::width" data-ref-filename="x265..PredictionUnit..width">width</a>, <a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::height" title='x265::PredictionUnit::height' data-ref="x265::PredictionUnit::height" data-ref-filename="x265..PredictionUnit..height">height</a>);</td></tr>
<tr><th id="372">372</th><td>    </td></tr>
<tr><th id="373">373</th><td>    <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="316cxWidth" title='cxWidth' data-type='uint32_t' data-ref="316cxWidth" data-ref-filename="316cxWidth">cxWidth</dfn>  = <a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::width" title='x265::PredictionUnit::width' data-ref="x265::PredictionUnit::width" data-ref-filename="x265..PredictionUnit..width">width</a> &gt;&gt; <a class="member field" href="predict.h.html#x265::Predict::m_hChromaShift" title='x265::Predict::m_hChromaShift' data-ref="x265::Predict::m_hChromaShift" data-ref-filename="x265..Predict..m_hChromaShift">m_hChromaShift</a>;</td></tr>
<tr><th id="374">374</th><td></td></tr>
<tr><th id="375">375</th><td>    <a class="macro" href="common.h.html#123" title="" data-ref="_M/X265_CHECK">X265_CHECK</a>(((cxWidth | (pu.height &gt;&gt; m_vChromaShift)) % <var>2</var>) == <var>0</var>, <q>"chroma block size expected to be multiple of 2\n"</q>);</td></tr>
<tr><th id="376">376</th><td></td></tr>
<tr><th id="377">377</th><td>    <em>int</em> <dfn class="local col7 decl" id="317xFrac" title='xFrac' data-type='int' data-ref="317xFrac" data-ref-filename="317xFrac">xFrac</dfn> = <a class="local col8 ref" href="#308mvx" title='mvx' data-ref="308mvx" data-ref-filename="308mvx">mvx</a> &amp; <var>7</var>;</td></tr>
<tr><th id="378">378</th><td>    <em>int</em> <dfn class="local col8 decl" id="318yFrac" title='yFrac' data-type='int' data-ref="318yFrac" data-ref-filename="318yFrac">yFrac</dfn> = <a class="local col9 ref" href="#309mvy" title='mvy' data-ref="309mvy" data-ref-filename="309mvy">mvy</a> &amp; <var>7</var>;</td></tr>
<tr><th id="379">379</th><td></td></tr>
<tr><th id="380">380</th><td>    <b>if</b> (!(<a class="local col8 ref" href="#318yFrac" title='yFrac' data-ref="318yFrac" data-ref-filename="318yFrac">yFrac</a> | <a class="local col7 ref" href="#317xFrac" title='xFrac' data-ref="317xFrac" data-ref-filename="317xFrac">xFrac</a>))</td></tr>
<tr><th id="381">381</th><td>    {</td></tr>
<tr><th id="382">382</th><td>        <em>bool</em> <dfn class="local col9 decl" id="319srcbufferAlignCheckC" title='srcbufferAlignCheckC' data-type='bool' data-ref="319srcbufferAlignCheckC" data-ref-filename="319srcbufferAlignCheckC">srcbufferAlignCheckC</dfn> = (<a class="local col4 ref" href="#304refPic" title='refPic' data-ref="304refPic" data-ref-filename="304refPic">refPic</a>.<a class="ref field" href="picyuv.h.html#x265::PicYuv::m_cuOffsetC" title='x265::PicYuv::m_cuOffsetC' data-ref="x265::PicYuv::m_cuOffsetC" data-ref-filename="x265..PicYuv..m_cuOffsetC">m_cuOffsetC</a>[<a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::ctuAddr" title='x265::PredictionUnit::ctuAddr' data-ref="x265::PredictionUnit::ctuAddr" data-ref-filename="x265..PredictionUnit..ctuAddr">ctuAddr</a>] + <a class="local col4 ref" href="#304refPic" title='refPic' data-ref="304refPic" data-ref-filename="304refPic">refPic</a>.<a class="ref field" href="picyuv.h.html#x265::PicYuv::m_buOffsetC" title='x265::PicYuv::m_buOffsetC' data-ref="x265::PicYuv::m_buOffsetC" data-ref-filename="x265..PicYuv..m_buOffsetC">m_buOffsetC</a>[<a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::cuAbsPartIdx" title='x265::PredictionUnit::cuAbsPartIdx' data-ref="x265::PredictionUnit::cuAbsPartIdx" data-ref-filename="x265..PredictionUnit..cuAbsPartIdx">cuAbsPartIdx</a> + <a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>] + <a class="local col0 ref" href="#310refOffset" title='refOffset' data-ref="310refOffset" data-ref-filename="310refOffset">refOffset</a>) % <var>64</var> == <var>0</var>;</td></tr>
<tr><th id="383">383</th><td>        <em>bool</em> <dfn class="local col0 decl" id="320dstbufferAlignCheckC" title='dstbufferAlignCheckC' data-type='bool' data-ref="320dstbufferAlignCheckC" data-ref-filename="320dstbufferAlignCheckC">dstbufferAlignCheckC</dfn> = <a class="local col3 ref" href="#303dstSYuv" title='dstSYuv' data-ref="303dstSYuv" data-ref-filename="303dstSYuv">dstSYuv</a>.<a class="ref fn" href="shortyuv.h.html#_ZNK4x2658ShortYuv19getChromaAddrOffsetEj" title='x265::ShortYuv::getChromaAddrOffset' data-ref="_ZNK4x2658ShortYuv19getChromaAddrOffsetEj" data-ref-filename="_ZNK4x2658ShortYuv19getChromaAddrOffsetEj">getChromaAddrOffset</a>(<a class="local col2 ref" href="#302pu" title='pu' data-ref="302pu" data-ref-filename="302pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>) % <var>64</var> == <var>0</var>;</td></tr>
<tr><th id="384">384</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col5 ref" href="#315partEnum" title='partEnum' data-ref="315partEnum" data-ref-filename="315partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::p2s" title='x265::EncoderPrimitives::Chroma::PUChroma::p2s' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::p2s" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..p2s">p2s</a>[<a class="local col7 ref" href="#307refStride" title='refStride' data-ref="307refStride" data-ref-filename="307refStride">refStride</a> % <var>64</var> == <var>0</var> &amp;&amp; <a class="local col6 ref" href="#306dstStride" title='dstStride' data-ref="306dstStride" data-ref-filename="306dstStride">dstStride</a> % <var>64</var> == <var>0</var> &amp;&amp; <a class="local col9 ref" href="#319srcbufferAlignCheckC" title='srcbufferAlignCheckC' data-ref="319srcbufferAlignCheckC" data-ref-filename="319srcbufferAlignCheckC">srcbufferAlignCheckC</a> &amp;&amp; <a class="local col0 ref" href="#320dstbufferAlignCheckC" title='dstbufferAlignCheckC' data-ref="320dstbufferAlignCheckC" data-ref-filename="320dstbufferAlignCheckC">dstbufferAlignCheckC</a>](<a class="local col1 ref" href="#311refCb" title='refCb' data-ref="311refCb" data-ref-filename="311refCb">refCb</a>, <a class="local col7 ref" href="#307refStride" title='refStride' data-ref="307refStride" data-ref-filename="307refStride">refStride</a>, <a class="local col3 ref" href="#313dstCb" title='dstCb' data-ref="313dstCb" data-ref-filename="313dstCb">dstCb</a>, <a class="local col6 ref" href="#306dstStride" title='dstStride' data-ref="306dstStride" data-ref-filename="306dstStride">dstStride</a>);</td></tr>
<tr><th id="385">385</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col5 ref" href="#315partEnum" title='partEnum' data-ref="315partEnum" data-ref-filename="315partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::p2s" title='x265::EncoderPrimitives::Chroma::PUChroma::p2s' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::p2s" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..p2s">p2s</a>[<a class="local col7 ref" href="#307refStride" title='refStride' data-ref="307refStride" data-ref-filename="307refStride">refStride</a> % <var>64</var> == <var>0</var> &amp;&amp; <a class="local col6 ref" href="#306dstStride" title='dstStride' data-ref="306dstStride" data-ref-filename="306dstStride">dstStride</a> % <var>64</var> == <var>0</var> &amp;&amp; <a class="local col9 ref" href="#319srcbufferAlignCheckC" title='srcbufferAlignCheckC' data-ref="319srcbufferAlignCheckC" data-ref-filename="319srcbufferAlignCheckC">srcbufferAlignCheckC</a> &amp;&amp; <a class="local col0 ref" href="#320dstbufferAlignCheckC" title='dstbufferAlignCheckC' data-ref="320dstbufferAlignCheckC" data-ref-filename="320dstbufferAlignCheckC">dstbufferAlignCheckC</a>](<a class="local col2 ref" href="#312refCr" title='refCr' data-ref="312refCr" data-ref-filename="312refCr">refCr</a>, <a class="local col7 ref" href="#307refStride" title='refStride' data-ref="307refStride" data-ref-filename="307refStride">refStride</a>, <a class="local col4 ref" href="#314dstCr" title='dstCr' data-ref="314dstCr" data-ref-filename="314dstCr">dstCr</a>, <a class="local col6 ref" href="#306dstStride" title='dstStride' data-ref="306dstStride" data-ref-filename="306dstStride">dstStride</a>);</td></tr>
<tr><th id="386">386</th><td>    }</td></tr>
<tr><th id="387">387</th><td>    <b>else</b> <b>if</b> (!<a class="local col8 ref" href="#318yFrac" title='yFrac' data-ref="318yFrac" data-ref-filename="318yFrac">yFrac</a>)</td></tr>
<tr><th id="388">388</th><td>    {</td></tr>
<tr><th id="389">389</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col5 ref" href="#315partEnum" title='partEnum' data-ref="315partEnum" data-ref-filename="315partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_hps" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_hps' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_hps" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_hps">filter_hps</a>(<a class="local col1 ref" href="#311refCb" title='refCb' data-ref="311refCb" data-ref-filename="311refCb">refCb</a>, <a class="local col7 ref" href="#307refStride" title='refStride' data-ref="307refStride" data-ref-filename="307refStride">refStride</a>, <a class="local col3 ref" href="#313dstCb" title='dstCb' data-ref="313dstCb" data-ref-filename="313dstCb">dstCb</a>, <a class="local col6 ref" href="#306dstStride" title='dstStride' data-ref="306dstStride" data-ref-filename="306dstStride">dstStride</a>, <a class="local col7 ref" href="#317xFrac" title='xFrac' data-ref="317xFrac" data-ref-filename="317xFrac">xFrac</a>, <var>0</var>);</td></tr>
<tr><th id="390">390</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col5 ref" href="#315partEnum" title='partEnum' data-ref="315partEnum" data-ref-filename="315partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_hps" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_hps' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_hps" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_hps">filter_hps</a>(<a class="local col2 ref" href="#312refCr" title='refCr' data-ref="312refCr" data-ref-filename="312refCr">refCr</a>, <a class="local col7 ref" href="#307refStride" title='refStride' data-ref="307refStride" data-ref-filename="307refStride">refStride</a>, <a class="local col4 ref" href="#314dstCr" title='dstCr' data-ref="314dstCr" data-ref-filename="314dstCr">dstCr</a>, <a class="local col6 ref" href="#306dstStride" title='dstStride' data-ref="306dstStride" data-ref-filename="306dstStride">dstStride</a>, <a class="local col7 ref" href="#317xFrac" title='xFrac' data-ref="317xFrac" data-ref-filename="317xFrac">xFrac</a>, <var>0</var>);</td></tr>
<tr><th id="391">391</th><td>    }</td></tr>
<tr><th id="392">392</th><td>    <b>else</b> <b>if</b> (!<a class="local col7 ref" href="#317xFrac" title='xFrac' data-ref="317xFrac" data-ref-filename="317xFrac">xFrac</a>)</td></tr>
<tr><th id="393">393</th><td>    {</td></tr>
<tr><th id="394">394</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col5 ref" href="#315partEnum" title='partEnum' data-ref="315partEnum" data-ref-filename="315partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_vps" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_vps' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_vps" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_vps">filter_vps</a>(<a class="local col1 ref" href="#311refCb" title='refCb' data-ref="311refCb" data-ref-filename="311refCb">refCb</a>, <a class="local col7 ref" href="#307refStride" title='refStride' data-ref="307refStride" data-ref-filename="307refStride">refStride</a>, <a class="local col3 ref" href="#313dstCb" title='dstCb' data-ref="313dstCb" data-ref-filename="313dstCb">dstCb</a>, <a class="local col6 ref" href="#306dstStride" title='dstStride' data-ref="306dstStride" data-ref-filename="306dstStride">dstStride</a>, <a class="local col8 ref" href="#318yFrac" title='yFrac' data-ref="318yFrac" data-ref-filename="318yFrac">yFrac</a>);</td></tr>
<tr><th id="395">395</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col5 ref" href="#315partEnum" title='partEnum' data-ref="315partEnum" data-ref-filename="315partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_vps" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_vps' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_vps" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_vps">filter_vps</a>(<a class="local col2 ref" href="#312refCr" title='refCr' data-ref="312refCr" data-ref-filename="312refCr">refCr</a>, <a class="local col7 ref" href="#307refStride" title='refStride' data-ref="307refStride" data-ref-filename="307refStride">refStride</a>, <a class="local col4 ref" href="#314dstCr" title='dstCr' data-ref="314dstCr" data-ref-filename="314dstCr">dstCr</a>, <a class="local col6 ref" href="#306dstStride" title='dstStride' data-ref="306dstStride" data-ref-filename="306dstStride">dstStride</a>, <a class="local col8 ref" href="#318yFrac" title='yFrac' data-ref="318yFrac" data-ref-filename="318yFrac">yFrac</a>);</td></tr>
<tr><th id="396">396</th><td>    }</td></tr>
<tr><th id="397">397</th><td>    <b>else</b></td></tr>
<tr><th id="398">398</th><td>    {</td></tr>
<tr><th id="399">399</th><td>        <a class="macro" href="common.h.html#77" title="int16_t immed[(1 &lt;&lt; 6) * ((1 &lt;&lt; 6) + 4 - 1)] __attribute__((aligned(32)))" data-ref="_M/ALIGN_VAR_32">ALIGN_VAR_32</a>(<a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>, <dfn class="local col1 decl" id="321immed" title='immed' data-type='int16_t [4288]' data-ref="321immed" data-ref-filename="321immed">immed</dfn>[<a class="macro" href="common.h.html#257" title="(1 &lt;&lt; 6)" data-ref="_M/MAX_CU_SIZE">MAX_CU_SIZE</a> * (<a class="macro" href="common.h.html#257" title="(1 &lt;&lt; 6)" data-ref="_M/MAX_CU_SIZE">MAX_CU_SIZE</a> + <a class="macro" href="constants.h.html#67" title="4" data-ref="_M/NTAPS_CHROMA">NTAPS_CHROMA</a> - <var>1</var>)]);</td></tr>
<tr><th id="400">400</th><td>        <em>int</em> <dfn class="local col2 decl" id="322immedStride" title='immedStride' data-type='int' data-ref="322immedStride" data-ref-filename="322immedStride">immedStride</dfn> = <a class="local col6 ref" href="#316cxWidth" title='cxWidth' data-ref="316cxWidth" data-ref-filename="316cxWidth">cxWidth</a>;</td></tr>
<tr><th id="401">401</th><td>        <em>int</em> <dfn class="local col3 decl" id="323halfFilterSize" title='halfFilterSize' data-type='int' data-ref="323halfFilterSize" data-ref-filename="323halfFilterSize">halfFilterSize</dfn> = <a class="macro" href="constants.h.html#67" title="4" data-ref="_M/NTAPS_CHROMA">NTAPS_CHROMA</a> &gt;&gt; <var>1</var>;</td></tr>
<tr><th id="402">402</th><td></td></tr>
<tr><th id="403">403</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col5 ref" href="#315partEnum" title='partEnum' data-ref="315partEnum" data-ref-filename="315partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_hps" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_hps' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_hps" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_hps">filter_hps</a>(<a class="local col1 ref" href="#311refCb" title='refCb' data-ref="311refCb" data-ref-filename="311refCb">refCb</a>, <a class="local col7 ref" href="#307refStride" title='refStride' data-ref="307refStride" data-ref-filename="307refStride">refStride</a>, <a class="local col1 ref" href="#399" title='immed' data-ref="321immed" data-ref-filename="321immed">immed</a>, <a class="local col2 ref" href="#322immedStride" title='immedStride' data-ref="322immedStride" data-ref-filename="322immedStride">immedStride</a>, <a class="local col7 ref" href="#317xFrac" title='xFrac' data-ref="317xFrac" data-ref-filename="317xFrac">xFrac</a>, <var>1</var>);</td></tr>
<tr><th id="404">404</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col5 ref" href="#315partEnum" title='partEnum' data-ref="315partEnum" data-ref-filename="315partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_vss" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_vss' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_vss" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_vss">filter_vss</a>(<a class="local col1 ref" href="#399" title='immed' data-ref="321immed" data-ref-filename="321immed">immed</a> + (<a class="local col3 ref" href="#323halfFilterSize" title='halfFilterSize' data-ref="323halfFilterSize" data-ref-filename="323halfFilterSize">halfFilterSize</a> - <var>1</var>) * <a class="local col2 ref" href="#322immedStride" title='immedStride' data-ref="322immedStride" data-ref-filename="322immedStride">immedStride</a>, <a class="local col2 ref" href="#322immedStride" title='immedStride' data-ref="322immedStride" data-ref-filename="322immedStride">immedStride</a>, <a class="local col3 ref" href="#313dstCb" title='dstCb' data-ref="313dstCb" data-ref-filename="313dstCb">dstCb</a>, <a class="local col6 ref" href="#306dstStride" title='dstStride' data-ref="306dstStride" data-ref-filename="306dstStride">dstStride</a>, <a class="local col8 ref" href="#318yFrac" title='yFrac' data-ref="318yFrac" data-ref-filename="318yFrac">yFrac</a>);</td></tr>
<tr><th id="405">405</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col5 ref" href="#315partEnum" title='partEnum' data-ref="315partEnum" data-ref-filename="315partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_hps" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_hps' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_hps" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_hps">filter_hps</a>(<a class="local col2 ref" href="#312refCr" title='refCr' data-ref="312refCr" data-ref-filename="312refCr">refCr</a>, <a class="local col7 ref" href="#307refStride" title='refStride' data-ref="307refStride" data-ref-filename="307refStride">refStride</a>, <a class="local col1 ref" href="#399" title='immed' data-ref="321immed" data-ref-filename="321immed">immed</a>, <a class="local col2 ref" href="#322immedStride" title='immedStride' data-ref="322immedStride" data-ref-filename="322immedStride">immedStride</a>, <a class="local col7 ref" href="#317xFrac" title='xFrac' data-ref="317xFrac" data-ref-filename="317xFrac">xFrac</a>, <var>1</var>);</td></tr>
<tr><th id="406">406</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::chroma" title='x265::EncoderPrimitives::chroma' data-ref="x265::EncoderPrimitives::chroma" data-ref-filename="x265..EncoderPrimitives..chroma">chroma</a>[<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::pu" title='x265::EncoderPrimitives::Chroma::pu' data-ref="x265::EncoderPrimitives::Chroma::pu" data-ref-filename="x265..EncoderPrimitives..Chroma..pu">pu</a>[<a class="local col5 ref" href="#315partEnum" title='partEnum' data-ref="315partEnum" data-ref-filename="315partEnum">partEnum</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::Chroma::PUChroma::filter_vss" title='x265::EncoderPrimitives::Chroma::PUChroma::filter_vss' data-ref="x265::EncoderPrimitives::Chroma::PUChroma::filter_vss" data-ref-filename="x265..EncoderPrimitives..Chroma..PUChroma..filter_vss">filter_vss</a>(<a class="local col1 ref" href="#399" title='immed' data-ref="321immed" data-ref-filename="321immed">immed</a> + (<a class="local col3 ref" href="#323halfFilterSize" title='halfFilterSize' data-ref="323halfFilterSize" data-ref-filename="323halfFilterSize">halfFilterSize</a> - <var>1</var>) * <a class="local col2 ref" href="#322immedStride" title='immedStride' data-ref="322immedStride" data-ref-filename="322immedStride">immedStride</a>, <a class="local col2 ref" href="#322immedStride" title='immedStride' data-ref="322immedStride" data-ref-filename="322immedStride">immedStride</a>, <a class="local col4 ref" href="#314dstCr" title='dstCr' data-ref="314dstCr" data-ref-filename="314dstCr">dstCr</a>, <a class="local col6 ref" href="#306dstStride" title='dstStride' data-ref="306dstStride" data-ref-filename="306dstStride">dstStride</a>, <a class="local col8 ref" href="#318yFrac" title='yFrac' data-ref="318yFrac" data-ref-filename="318yFrac">yFrac</a>);</td></tr>
<tr><th id="407">407</th><td>    }</td></tr>
<tr><th id="408">408</th><td>}</td></tr>
<tr><th id="409">409</th><td></td></tr>
<tr><th id="410">410</th><td><i>/* weighted averaging for bi-pred */</i></td></tr>
<tr><th id="411">411</th><td><em>void</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZNK4x2657Predict11addWeightBiERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvES8_PKNS0_12WeightValuesESB_bb" title='x265::Predict::addWeightBi' data-ref="_ZNK4x2657Predict11addWeightBiERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvES8_PKNS0_12WeightValuesESB_bb" data-ref-filename="_ZNK4x2657Predict11addWeightBiERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvES8_PKNS0_12WeightValuesESB_bb">addWeightBi</dfn>(<em>const</em> <a class="type" href="predict.h.html#x265::PredictionUnit" title='x265::PredictionUnit' data-ref="x265::PredictionUnit" data-ref-filename="x265..PredictionUnit">PredictionUnit</a>&amp; <dfn class="local col4 decl" id="324pu" title='pu' data-type='const x265::PredictionUnit &amp;' data-ref="324pu" data-ref-filename="324pu">pu</dfn>, <a class="type" href="yuv.h.html#x265::Yuv" title='x265::Yuv' data-ref="x265::Yuv" data-ref-filename="x265..Yuv">Yuv</a>&amp; <dfn class="local col5 decl" id="325predYuv" title='predYuv' data-type='x265::Yuv &amp;' data-ref="325predYuv" data-ref-filename="325predYuv">predYuv</dfn>, <em>const</em> <a class="type" href="shortyuv.h.html#x265::ShortYuv" title='x265::ShortYuv' data-ref="x265::ShortYuv" data-ref-filename="x265..ShortYuv">ShortYuv</a>&amp; <dfn class="local col6 decl" id="326srcYuv0" title='srcYuv0' data-type='const x265::ShortYuv &amp;' data-ref="326srcYuv0" data-ref-filename="326srcYuv0">srcYuv0</dfn>, <em>const</em> <a class="type" href="shortyuv.h.html#x265::ShortYuv" title='x265::ShortYuv' data-ref="x265::ShortYuv" data-ref-filename="x265..ShortYuv">ShortYuv</a>&amp; <dfn class="local col7 decl" id="327srcYuv1" title='srcYuv1' data-type='const x265::ShortYuv &amp;' data-ref="327srcYuv1" data-ref-filename="327srcYuv1">srcYuv1</dfn>, <em>const</em> <a class="type" href="predict.h.html#x265::Predict::WeightValues" title='x265::Predict::WeightValues' data-ref="x265::Predict::WeightValues" data-ref-filename="x265..Predict..WeightValues">WeightValues</a> <dfn class="local col8 decl" id="328wp0" title='wp0' data-type='const x265::Predict::WeightValues *' data-ref="328wp0" data-ref-filename="328wp0">wp0</dfn>[<var>3</var>], <em>const</em> <a class="type" href="predict.h.html#x265::Predict::WeightValues" title='x265::Predict::WeightValues' data-ref="x265::Predict::WeightValues" data-ref-filename="x265..Predict..WeightValues">WeightValues</a> <dfn class="local col9 decl" id="329wp1" title='wp1' data-type='const x265::Predict::WeightValues *' data-ref="329wp1" data-ref-filename="329wp1">wp1</dfn>[<var>3</var>], <em>bool</em> <dfn class="local col0 decl" id="330bLuma" title='bLuma' data-type='bool' data-ref="330bLuma" data-ref-filename="330bLuma">bLuma</dfn>, <em>bool</em> <dfn class="local col1 decl" id="331bChroma" title='bChroma' data-type='bool' data-ref="331bChroma" data-ref-filename="331bChroma">bChroma</dfn>) <em>const</em></td></tr>
<tr><th id="412">412</th><td>{</td></tr>
<tr><th id="413">413</th><td>    <em>int</em> <dfn class="local col2 decl" id="332x" title='x' data-type='int' data-ref="332x" data-ref-filename="332x">x</dfn>, <dfn class="local col3 decl" id="333y" title='y' data-type='int' data-ref="333y" data-ref-filename="333y">y</dfn>;</td></tr>
<tr><th id="414">414</th><td></td></tr>
<tr><th id="415">415</th><td>    <em>int</em> <dfn class="local col4 decl" id="334w0" title='w0' data-type='int' data-ref="334w0" data-ref-filename="334w0">w0</dfn>, <dfn class="local col5 decl" id="335w1" title='w1' data-type='int' data-ref="335w1" data-ref-filename="335w1">w1</dfn>, <dfn class="local col6 decl" id="336offset" title='offset' data-type='int' data-ref="336offset" data-ref-filename="336offset">offset</dfn>, <dfn class="local col7 decl" id="337shiftNum" title='shiftNum' data-type='int' data-ref="337shiftNum" data-ref-filename="337shiftNum">shiftNum</dfn>, <dfn class="local col8 decl" id="338shift" title='shift' data-type='int' data-ref="338shift" data-ref-filename="338shift">shift</dfn>, <dfn class="local col9 decl" id="339round" title='round' data-type='int' data-ref="339round" data-ref-filename="339round">round</dfn>;</td></tr>
<tr><th id="416">416</th><td>    <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col0 decl" id="340src0Stride" title='src0Stride' data-type='uint32_t' data-ref="340src0Stride" data-ref-filename="340src0Stride">src0Stride</dfn>, <dfn class="local col1 decl" id="341src1Stride" title='src1Stride' data-type='uint32_t' data-ref="341src1Stride" data-ref-filename="341src1Stride">src1Stride</dfn>, <dfn class="local col2 decl" id="342dststride" title='dststride' data-type='uint32_t' data-ref="342dststride" data-ref-filename="342dststride">dststride</dfn>;</td></tr>
<tr><th id="417">417</th><td></td></tr>
<tr><th id="418">418</th><td>    <b>if</b> (<a class="local col0 ref" href="#330bLuma" title='bLuma' data-ref="330bLuma" data-ref-filename="330bLuma">bLuma</a>)</td></tr>
<tr><th id="419">419</th><td>    {</td></tr>
<tr><th id="420">420</th><td>        <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col3 decl" id="343dstY" title='dstY' data-type='pixel *' data-ref="343dstY" data-ref-filename="343dstY">dstY</dfn> = <a class="local col5 ref" href="#325predYuv" title='predYuv' data-ref="325predYuv" data-ref-filename="325predYuv">predYuv</a>.<a class="ref fn" href="yuv.h.html#_ZN4x2653Yuv11getLumaAddrEj" title='x265::Yuv::getLumaAddr' data-ref="_ZN4x2653Yuv11getLumaAddrEj" data-ref-filename="_ZN4x2653Yuv11getLumaAddrEj">getLumaAddr</a>(<a class="local col4 ref" href="#324pu" title='pu' data-ref="324pu" data-ref-filename="324pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="421">421</th><td>        <em>const</em> <a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>* <dfn class="local col4 decl" id="344srcY0" title='srcY0' data-type='const int16_t *' data-ref="344srcY0" data-ref-filename="344srcY0">srcY0</dfn> = <a class="local col6 ref" href="#326srcYuv0" title='srcYuv0' data-ref="326srcYuv0" data-ref-filename="326srcYuv0">srcYuv0</a>.<a class="ref fn" href="shortyuv.h.html#_ZNK4x2658ShortYuv11getLumaAddrEj" title='x265::ShortYuv::getLumaAddr' data-ref="_ZNK4x2658ShortYuv11getLumaAddrEj" data-ref-filename="_ZNK4x2658ShortYuv11getLumaAddrEj">getLumaAddr</a>(<a class="local col4 ref" href="#324pu" title='pu' data-ref="324pu" data-ref-filename="324pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="422">422</th><td>        <em>const</em> <a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>* <dfn class="local col5 decl" id="345srcY1" title='srcY1' data-type='const int16_t *' data-ref="345srcY1" data-ref-filename="345srcY1">srcY1</dfn> = <a class="local col7 ref" href="#327srcYuv1" title='srcYuv1' data-ref="327srcYuv1" data-ref-filename="327srcYuv1">srcYuv1</a>.<a class="ref fn" href="shortyuv.h.html#_ZNK4x2658ShortYuv11getLumaAddrEj" title='x265::ShortYuv::getLumaAddr' data-ref="_ZNK4x2658ShortYuv11getLumaAddrEj" data-ref-filename="_ZNK4x2658ShortYuv11getLumaAddrEj">getLumaAddr</a>(<a class="local col4 ref" href="#324pu" title='pu' data-ref="324pu" data-ref-filename="324pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="423">423</th><td></td></tr>
<tr><th id="424">424</th><td>        <i>// Luma</i></td></tr>
<tr><th id="425">425</th><td>        <a class="local col4 ref" href="#334w0" title='w0' data-ref="334w0" data-ref-filename="334w0">w0</a>      = <a class="local col8 ref" href="#328wp0" title='wp0' data-ref="328wp0" data-ref-filename="328wp0">wp0</a>[<var>0</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::w" title='x265::Predict::WeightValues::w' data-ref="x265::Predict::WeightValues::w" data-ref-filename="x265..Predict..WeightValues..w">w</a>;</td></tr>
<tr><th id="426">426</th><td>        <a class="local col6 ref" href="#336offset" title='offset' data-ref="336offset" data-ref-filename="336offset">offset</a>  = <a class="local col8 ref" href="#328wp0" title='wp0' data-ref="328wp0" data-ref-filename="328wp0">wp0</a>[<var>0</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::o" title='x265::Predict::WeightValues::o' data-ref="x265::Predict::WeightValues::o" data-ref-filename="x265..Predict..WeightValues..o">o</a> + <a class="local col9 ref" href="#329wp1" title='wp1' data-ref="329wp1" data-ref-filename="329wp1">wp1</a>[<var>0</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::o" title='x265::Predict::WeightValues::o' data-ref="x265::Predict::WeightValues::o" data-ref-filename="x265..Predict..WeightValues..o">o</a>;</td></tr>
<tr><th id="427">427</th><td>        <a class="local col7 ref" href="#337shiftNum" title='shiftNum' data-ref="337shiftNum" data-ref-filename="337shiftNum">shiftNum</a> = <a class="macro" href="constants.h.html#68" title="14" data-ref="_M/IF_INTERNAL_PREC">IF_INTERNAL_PREC</a> - <span class="macro" title="8" data-ref="_M/X265_DEPTH">X265_DEPTH</span>;</td></tr>
<tr><th id="428">428</th><td>        <a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a>   = <a class="local col8 ref" href="#328wp0" title='wp0' data-ref="328wp0" data-ref-filename="328wp0">wp0</a>[<var>0</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::shift" title='x265::Predict::WeightValues::shift' data-ref="x265::Predict::WeightValues::shift" data-ref-filename="x265..Predict..WeightValues..shift">shift</a> + <a class="local col7 ref" href="#337shiftNum" title='shiftNum' data-ref="337shiftNum" data-ref-filename="337shiftNum">shiftNum</a> + <var>1</var>;</td></tr>
<tr><th id="429">429</th><td>        <a class="local col9 ref" href="#339round" title='round' data-ref="339round" data-ref-filename="339round">round</a>   = <a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a> ? (<var>1</var> &lt;&lt; (<a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a> - <var>1</var>)) : <var>0</var>;</td></tr>
<tr><th id="430">430</th><td>        <a class="local col5 ref" href="#335w1" title='w1' data-ref="335w1" data-ref-filename="335w1">w1</a>      = <a class="local col9 ref" href="#329wp1" title='wp1' data-ref="329wp1" data-ref-filename="329wp1">wp1</a>[<var>0</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::w" title='x265::Predict::WeightValues::w' data-ref="x265::Predict::WeightValues::w" data-ref-filename="x265..Predict..WeightValues..w">w</a>;</td></tr>
<tr><th id="431">431</th><td></td></tr>
<tr><th id="432">432</th><td>        <a class="local col0 ref" href="#340src0Stride" title='src0Stride' data-ref="340src0Stride" data-ref-filename="340src0Stride">src0Stride</a> = <a class="local col6 ref" href="#326srcYuv0" title='srcYuv0' data-ref="326srcYuv0" data-ref-filename="326srcYuv0">srcYuv0</a>.<a class="ref field" href="shortyuv.h.html#x265::ShortYuv::m_size" title='x265::ShortYuv::m_size' data-ref="x265::ShortYuv::m_size" data-ref-filename="x265..ShortYuv..m_size">m_size</a>;</td></tr>
<tr><th id="433">433</th><td>        <a class="local col1 ref" href="#341src1Stride" title='src1Stride' data-ref="341src1Stride" data-ref-filename="341src1Stride">src1Stride</a> = <a class="local col7 ref" href="#327srcYuv1" title='srcYuv1' data-ref="327srcYuv1" data-ref-filename="327srcYuv1">srcYuv1</a>.<a class="ref field" href="shortyuv.h.html#x265::ShortYuv::m_size" title='x265::ShortYuv::m_size' data-ref="x265::ShortYuv::m_size" data-ref-filename="x265..ShortYuv..m_size">m_size</a>;</td></tr>
<tr><th id="434">434</th><td>        <a class="local col2 ref" href="#342dststride" title='dststride' data-ref="342dststride" data-ref-filename="342dststride">dststride</a> = <a class="local col5 ref" href="#325predYuv" title='predYuv' data-ref="325predYuv" data-ref-filename="325predYuv">predYuv</a>.<a class="ref field" href="yuv.h.html#x265::Yuv::m_size" title='x265::Yuv::m_size' data-ref="x265::Yuv::m_size" data-ref-filename="x265..Yuv..m_size">m_size</a>;</td></tr>
<tr><th id="435">435</th><td></td></tr>
<tr><th id="436">436</th><td>        <i>// TODO: can we use weight_sp here?</i></td></tr>
<tr><th id="437">437</th><td>        <b>for</b> (<a class="local col3 ref" href="#333y" title='y' data-ref="333y" data-ref-filename="333y">y</a> = <a class="local col4 ref" href="#324pu" title='pu' data-ref="324pu" data-ref-filename="324pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::height" title='x265::PredictionUnit::height' data-ref="x265::PredictionUnit::height" data-ref-filename="x265..PredictionUnit..height">height</a> - <var>1</var>; <a class="local col3 ref" href="#333y" title='y' data-ref="333y" data-ref-filename="333y">y</a> &gt;= <var>0</var>; <a class="local col3 ref" href="#333y" title='y' data-ref="333y" data-ref-filename="333y">y</a>--)</td></tr>
<tr><th id="438">438</th><td>        {</td></tr>
<tr><th id="439">439</th><td>            <b>for</b> (<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a> = <a class="local col4 ref" href="#324pu" title='pu' data-ref="324pu" data-ref-filename="324pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::width" title='x265::PredictionUnit::width' data-ref="x265::PredictionUnit::width" data-ref-filename="x265..PredictionUnit..width">width</a> - <var>1</var>; <a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a> &gt;= <var>0</var>; )</td></tr>
<tr><th id="440">440</th><td>            {</td></tr>
<tr><th id="441">441</th><td>                <i>// note: luma min width is 4</i></td></tr>
<tr><th id="442">442</th><td>                <a class="local col3 ref" href="#343dstY" title='dstY' data-ref="343dstY" data-ref-filename="343dstY">dstY</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>] = <a class="tu ref fn" href="#_ZN12_GLOBAL__N_111weightBidirEisisiii" title='(anonymous namespace)::weightBidir' data-use='c' data-ref="_ZN12_GLOBAL__N_111weightBidirEisisiii" data-ref-filename="_ZN12_GLOBAL__N_111weightBidirEisisiii">weightBidir</a>(<a class="local col4 ref" href="#334w0" title='w0' data-ref="334w0" data-ref-filename="334w0">w0</a>, <a class="local col4 ref" href="#344srcY0" title='srcY0' data-ref="344srcY0" data-ref-filename="344srcY0">srcY0</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col5 ref" href="#335w1" title='w1' data-ref="335w1" data-ref-filename="335w1">w1</a>, <a class="local col5 ref" href="#345srcY1" title='srcY1' data-ref="345srcY1" data-ref-filename="345srcY1">srcY1</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col9 ref" href="#339round" title='round' data-ref="339round" data-ref-filename="339round">round</a>, <a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a>, <a class="local col6 ref" href="#336offset" title='offset' data-ref="336offset" data-ref-filename="336offset">offset</a>);</td></tr>
<tr><th id="443">443</th><td>                <a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>--;</td></tr>
<tr><th id="444">444</th><td>                <a class="local col3 ref" href="#343dstY" title='dstY' data-ref="343dstY" data-ref-filename="343dstY">dstY</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>] = <a class="tu ref fn" href="#_ZN12_GLOBAL__N_111weightBidirEisisiii" title='(anonymous namespace)::weightBidir' data-use='c' data-ref="_ZN12_GLOBAL__N_111weightBidirEisisiii" data-ref-filename="_ZN12_GLOBAL__N_111weightBidirEisisiii">weightBidir</a>(<a class="local col4 ref" href="#334w0" title='w0' data-ref="334w0" data-ref-filename="334w0">w0</a>, <a class="local col4 ref" href="#344srcY0" title='srcY0' data-ref="344srcY0" data-ref-filename="344srcY0">srcY0</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col5 ref" href="#335w1" title='w1' data-ref="335w1" data-ref-filename="335w1">w1</a>, <a class="local col5 ref" href="#345srcY1" title='srcY1' data-ref="345srcY1" data-ref-filename="345srcY1">srcY1</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col9 ref" href="#339round" title='round' data-ref="339round" data-ref-filename="339round">round</a>, <a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a>, <a class="local col6 ref" href="#336offset" title='offset' data-ref="336offset" data-ref-filename="336offset">offset</a>);</td></tr>
<tr><th id="445">445</th><td>                <a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>--;</td></tr>
<tr><th id="446">446</th><td>                <a class="local col3 ref" href="#343dstY" title='dstY' data-ref="343dstY" data-ref-filename="343dstY">dstY</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>] = <a class="tu ref fn" href="#_ZN12_GLOBAL__N_111weightBidirEisisiii" title='(anonymous namespace)::weightBidir' data-use='c' data-ref="_ZN12_GLOBAL__N_111weightBidirEisisiii" data-ref-filename="_ZN12_GLOBAL__N_111weightBidirEisisiii">weightBidir</a>(<a class="local col4 ref" href="#334w0" title='w0' data-ref="334w0" data-ref-filename="334w0">w0</a>, <a class="local col4 ref" href="#344srcY0" title='srcY0' data-ref="344srcY0" data-ref-filename="344srcY0">srcY0</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col5 ref" href="#335w1" title='w1' data-ref="335w1" data-ref-filename="335w1">w1</a>, <a class="local col5 ref" href="#345srcY1" title='srcY1' data-ref="345srcY1" data-ref-filename="345srcY1">srcY1</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col9 ref" href="#339round" title='round' data-ref="339round" data-ref-filename="339round">round</a>, <a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a>, <a class="local col6 ref" href="#336offset" title='offset' data-ref="336offset" data-ref-filename="336offset">offset</a>);</td></tr>
<tr><th id="447">447</th><td>                <a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>--;</td></tr>
<tr><th id="448">448</th><td>                <a class="local col3 ref" href="#343dstY" title='dstY' data-ref="343dstY" data-ref-filename="343dstY">dstY</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>] = <a class="tu ref fn" href="#_ZN12_GLOBAL__N_111weightBidirEisisiii" title='(anonymous namespace)::weightBidir' data-use='c' data-ref="_ZN12_GLOBAL__N_111weightBidirEisisiii" data-ref-filename="_ZN12_GLOBAL__N_111weightBidirEisisiii">weightBidir</a>(<a class="local col4 ref" href="#334w0" title='w0' data-ref="334w0" data-ref-filename="334w0">w0</a>, <a class="local col4 ref" href="#344srcY0" title='srcY0' data-ref="344srcY0" data-ref-filename="344srcY0">srcY0</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col5 ref" href="#335w1" title='w1' data-ref="335w1" data-ref-filename="335w1">w1</a>, <a class="local col5 ref" href="#345srcY1" title='srcY1' data-ref="345srcY1" data-ref-filename="345srcY1">srcY1</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col9 ref" href="#339round" title='round' data-ref="339round" data-ref-filename="339round">round</a>, <a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a>, <a class="local col6 ref" href="#336offset" title='offset' data-ref="336offset" data-ref-filename="336offset">offset</a>);</td></tr>
<tr><th id="449">449</th><td>                <a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>--;</td></tr>
<tr><th id="450">450</th><td>            }</td></tr>
<tr><th id="451">451</th><td></td></tr>
<tr><th id="452">452</th><td>            <a class="local col4 ref" href="#344srcY0" title='srcY0' data-ref="344srcY0" data-ref-filename="344srcY0">srcY0</a> += <a class="local col0 ref" href="#340src0Stride" title='src0Stride' data-ref="340src0Stride" data-ref-filename="340src0Stride">src0Stride</a>;</td></tr>
<tr><th id="453">453</th><td>            <a class="local col5 ref" href="#345srcY1" title='srcY1' data-ref="345srcY1" data-ref-filename="345srcY1">srcY1</a> += <a class="local col1 ref" href="#341src1Stride" title='src1Stride' data-ref="341src1Stride" data-ref-filename="341src1Stride">src1Stride</a>;</td></tr>
<tr><th id="454">454</th><td>            <a class="local col3 ref" href="#343dstY" title='dstY' data-ref="343dstY" data-ref-filename="343dstY">dstY</a>  += <a class="local col2 ref" href="#342dststride" title='dststride' data-ref="342dststride" data-ref-filename="342dststride">dststride</a>;</td></tr>
<tr><th id="455">455</th><td>        }</td></tr>
<tr><th id="456">456</th><td>    }</td></tr>
<tr><th id="457">457</th><td></td></tr>
<tr><th id="458">458</th><td>    <b>if</b> (<a class="local col1 ref" href="#331bChroma" title='bChroma' data-ref="331bChroma" data-ref-filename="331bChroma">bChroma</a>)</td></tr>
<tr><th id="459">459</th><td>    {</td></tr>
<tr><th id="460">460</th><td>        <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col6 decl" id="346dstU" title='dstU' data-type='pixel *' data-ref="346dstU" data-ref-filename="346dstU">dstU</dfn> = <a class="local col5 ref" href="#325predYuv" title='predYuv' data-ref="325predYuv" data-ref-filename="325predYuv">predYuv</a>.<a class="ref fn" href="yuv.h.html#_ZN4x2653Yuv9getCbAddrEj" title='x265::Yuv::getCbAddr' data-ref="_ZN4x2653Yuv9getCbAddrEj" data-ref-filename="_ZN4x2653Yuv9getCbAddrEj">getCbAddr</a>(<a class="local col4 ref" href="#324pu" title='pu' data-ref="324pu" data-ref-filename="324pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="461">461</th><td>        <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col7 decl" id="347dstV" title='dstV' data-type='pixel *' data-ref="347dstV" data-ref-filename="347dstV">dstV</dfn> = <a class="local col5 ref" href="#325predYuv" title='predYuv' data-ref="325predYuv" data-ref-filename="325predYuv">predYuv</a>.<a class="ref fn" href="yuv.h.html#_ZN4x2653Yuv9getCrAddrEj" title='x265::Yuv::getCrAddr' data-ref="_ZN4x2653Yuv9getCrAddrEj" data-ref-filename="_ZN4x2653Yuv9getCrAddrEj">getCrAddr</a>(<a class="local col4 ref" href="#324pu" title='pu' data-ref="324pu" data-ref-filename="324pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="462">462</th><td>        <em>const</em> <a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>* <dfn class="local col8 decl" id="348srcU0" title='srcU0' data-type='const int16_t *' data-ref="348srcU0" data-ref-filename="348srcU0">srcU0</dfn> = <a class="local col6 ref" href="#326srcYuv0" title='srcYuv0' data-ref="326srcYuv0" data-ref-filename="326srcYuv0">srcYuv0</a>.<a class="ref fn" href="shortyuv.h.html#_ZNK4x2658ShortYuv9getCbAddrEj" title='x265::ShortYuv::getCbAddr' data-ref="_ZNK4x2658ShortYuv9getCbAddrEj" data-ref-filename="_ZNK4x2658ShortYuv9getCbAddrEj">getCbAddr</a>(<a class="local col4 ref" href="#324pu" title='pu' data-ref="324pu" data-ref-filename="324pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="463">463</th><td>        <em>const</em> <a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>* <dfn class="local col9 decl" id="349srcV0" title='srcV0' data-type='const int16_t *' data-ref="349srcV0" data-ref-filename="349srcV0">srcV0</dfn> = <a class="local col6 ref" href="#326srcYuv0" title='srcYuv0' data-ref="326srcYuv0" data-ref-filename="326srcYuv0">srcYuv0</a>.<a class="ref fn" href="shortyuv.h.html#_ZNK4x2658ShortYuv9getCrAddrEj" title='x265::ShortYuv::getCrAddr' data-ref="_ZNK4x2658ShortYuv9getCrAddrEj" data-ref-filename="_ZNK4x2658ShortYuv9getCrAddrEj">getCrAddr</a>(<a class="local col4 ref" href="#324pu" title='pu' data-ref="324pu" data-ref-filename="324pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="464">464</th><td>        <em>const</em> <a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>* <dfn class="local col0 decl" id="350srcU1" title='srcU1' data-type='const int16_t *' data-ref="350srcU1" data-ref-filename="350srcU1">srcU1</dfn> = <a class="local col7 ref" href="#327srcYuv1" title='srcYuv1' data-ref="327srcYuv1" data-ref-filename="327srcYuv1">srcYuv1</a>.<a class="ref fn" href="shortyuv.h.html#_ZNK4x2658ShortYuv9getCbAddrEj" title='x265::ShortYuv::getCbAddr' data-ref="_ZNK4x2658ShortYuv9getCbAddrEj" data-ref-filename="_ZNK4x2658ShortYuv9getCbAddrEj">getCbAddr</a>(<a class="local col4 ref" href="#324pu" title='pu' data-ref="324pu" data-ref-filename="324pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="465">465</th><td>        <em>const</em> <a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>* <dfn class="local col1 decl" id="351srcV1" title='srcV1' data-type='const int16_t *' data-ref="351srcV1" data-ref-filename="351srcV1">srcV1</dfn> = <a class="local col7 ref" href="#327srcYuv1" title='srcYuv1' data-ref="327srcYuv1" data-ref-filename="327srcYuv1">srcYuv1</a>.<a class="ref fn" href="shortyuv.h.html#_ZNK4x2658ShortYuv9getCrAddrEj" title='x265::ShortYuv::getCrAddr' data-ref="_ZNK4x2658ShortYuv9getCrAddrEj" data-ref-filename="_ZNK4x2658ShortYuv9getCrAddrEj">getCrAddr</a>(<a class="local col4 ref" href="#324pu" title='pu' data-ref="324pu" data-ref-filename="324pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="466">466</th><td></td></tr>
<tr><th id="467">467</th><td>        <i>// Chroma U</i></td></tr>
<tr><th id="468">468</th><td>        <a class="local col4 ref" href="#334w0" title='w0' data-ref="334w0" data-ref-filename="334w0">w0</a>      = <a class="local col8 ref" href="#328wp0" title='wp0' data-ref="328wp0" data-ref-filename="328wp0">wp0</a>[<var>1</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::w" title='x265::Predict::WeightValues::w' data-ref="x265::Predict::WeightValues::w" data-ref-filename="x265..Predict..WeightValues..w">w</a>;</td></tr>
<tr><th id="469">469</th><td>        <a class="local col6 ref" href="#336offset" title='offset' data-ref="336offset" data-ref-filename="336offset">offset</a>  = <a class="local col8 ref" href="#328wp0" title='wp0' data-ref="328wp0" data-ref-filename="328wp0">wp0</a>[<var>1</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::o" title='x265::Predict::WeightValues::o' data-ref="x265::Predict::WeightValues::o" data-ref-filename="x265..Predict..WeightValues..o">o</a> + <a class="local col9 ref" href="#329wp1" title='wp1' data-ref="329wp1" data-ref-filename="329wp1">wp1</a>[<var>1</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::o" title='x265::Predict::WeightValues::o' data-ref="x265::Predict::WeightValues::o" data-ref-filename="x265..Predict..WeightValues..o">o</a>;</td></tr>
<tr><th id="470">470</th><td>        <a class="local col7 ref" href="#337shiftNum" title='shiftNum' data-ref="337shiftNum" data-ref-filename="337shiftNum">shiftNum</a> = <a class="macro" href="constants.h.html#68" title="14" data-ref="_M/IF_INTERNAL_PREC">IF_INTERNAL_PREC</a> - <span class="macro" title="8" data-ref="_M/X265_DEPTH">X265_DEPTH</span>;</td></tr>
<tr><th id="471">471</th><td>        <a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a>   = <a class="local col8 ref" href="#328wp0" title='wp0' data-ref="328wp0" data-ref-filename="328wp0">wp0</a>[<var>1</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::shift" title='x265::Predict::WeightValues::shift' data-ref="x265::Predict::WeightValues::shift" data-ref-filename="x265..Predict..WeightValues..shift">shift</a> + <a class="local col7 ref" href="#337shiftNum" title='shiftNum' data-ref="337shiftNum" data-ref-filename="337shiftNum">shiftNum</a> + <var>1</var>;</td></tr>
<tr><th id="472">472</th><td>        <a class="local col9 ref" href="#339round" title='round' data-ref="339round" data-ref-filename="339round">round</a>   = <a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a> ? (<var>1</var> &lt;&lt; (<a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a> - <var>1</var>)) : <var>0</var>;</td></tr>
<tr><th id="473">473</th><td>        <a class="local col5 ref" href="#335w1" title='w1' data-ref="335w1" data-ref-filename="335w1">w1</a>      = <a class="local col9 ref" href="#329wp1" title='wp1' data-ref="329wp1" data-ref-filename="329wp1">wp1</a>[<var>1</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::w" title='x265::Predict::WeightValues::w' data-ref="x265::Predict::WeightValues::w" data-ref-filename="x265..Predict..WeightValues..w">w</a>;</td></tr>
<tr><th id="474">474</th><td></td></tr>
<tr><th id="475">475</th><td>        <a class="local col0 ref" href="#340src0Stride" title='src0Stride' data-ref="340src0Stride" data-ref-filename="340src0Stride">src0Stride</a> = <a class="local col6 ref" href="#326srcYuv0" title='srcYuv0' data-ref="326srcYuv0" data-ref-filename="326srcYuv0">srcYuv0</a>.<a class="ref field" href="shortyuv.h.html#x265::ShortYuv::m_csize" title='x265::ShortYuv::m_csize' data-ref="x265::ShortYuv::m_csize" data-ref-filename="x265..ShortYuv..m_csize">m_csize</a>;</td></tr>
<tr><th id="476">476</th><td>        <a class="local col1 ref" href="#341src1Stride" title='src1Stride' data-ref="341src1Stride" data-ref-filename="341src1Stride">src1Stride</a> = <a class="local col7 ref" href="#327srcYuv1" title='srcYuv1' data-ref="327srcYuv1" data-ref-filename="327srcYuv1">srcYuv1</a>.<a class="ref field" href="shortyuv.h.html#x265::ShortYuv::m_csize" title='x265::ShortYuv::m_csize' data-ref="x265::ShortYuv::m_csize" data-ref-filename="x265..ShortYuv..m_csize">m_csize</a>;</td></tr>
<tr><th id="477">477</th><td>        <a class="local col2 ref" href="#342dststride" title='dststride' data-ref="342dststride" data-ref-filename="342dststride">dststride</a>  = <a class="local col5 ref" href="#325predYuv" title='predYuv' data-ref="325predYuv" data-ref-filename="325predYuv">predYuv</a>.<a class="ref field" href="yuv.h.html#x265::Yuv::m_csize" title='x265::Yuv::m_csize' data-ref="x265::Yuv::m_csize" data-ref-filename="x265..Yuv..m_csize">m_csize</a>;</td></tr>
<tr><th id="478">478</th><td></td></tr>
<tr><th id="479">479</th><td>        <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col2 decl" id="352cwidth" title='cwidth' data-type='uint32_t' data-ref="352cwidth" data-ref-filename="352cwidth">cwidth</dfn> = <a class="local col4 ref" href="#324pu" title='pu' data-ref="324pu" data-ref-filename="324pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::width" title='x265::PredictionUnit::width' data-ref="x265::PredictionUnit::width" data-ref-filename="x265..PredictionUnit..width">width</a> &gt;&gt; <a class="local col6 ref" href="#326srcYuv0" title='srcYuv0' data-ref="326srcYuv0" data-ref-filename="326srcYuv0">srcYuv0</a>.<a class="ref field" href="shortyuv.h.html#x265::ShortYuv::m_hChromaShift" title='x265::ShortYuv::m_hChromaShift' data-ref="x265::ShortYuv::m_hChromaShift" data-ref-filename="x265..ShortYuv..m_hChromaShift">m_hChromaShift</a>;</td></tr>
<tr><th id="480">480</th><td>        <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="353cheight" title='cheight' data-type='uint32_t' data-ref="353cheight" data-ref-filename="353cheight">cheight</dfn> = <a class="local col4 ref" href="#324pu" title='pu' data-ref="324pu" data-ref-filename="324pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::height" title='x265::PredictionUnit::height' data-ref="x265::PredictionUnit::height" data-ref-filename="x265..PredictionUnit..height">height</a> &gt;&gt; <a class="local col6 ref" href="#326srcYuv0" title='srcYuv0' data-ref="326srcYuv0" data-ref-filename="326srcYuv0">srcYuv0</a>.<a class="ref field" href="shortyuv.h.html#x265::ShortYuv::m_vChromaShift" title='x265::ShortYuv::m_vChromaShift' data-ref="x265::ShortYuv::m_vChromaShift" data-ref-filename="x265..ShortYuv..m_vChromaShift">m_vChromaShift</a>;</td></tr>
<tr><th id="481">481</th><td></td></tr>
<tr><th id="482">482</th><td>        <i>// TODO: can we use weight_sp here?</i></td></tr>
<tr><th id="483">483</th><td>        <b>for</b> (<a class="local col3 ref" href="#333y" title='y' data-ref="333y" data-ref-filename="333y">y</a> = <a class="local col3 ref" href="#353cheight" title='cheight' data-ref="353cheight" data-ref-filename="353cheight">cheight</a> - <var>1</var>; <a class="local col3 ref" href="#333y" title='y' data-ref="333y" data-ref-filename="333y">y</a> &gt;= <var>0</var>; <a class="local col3 ref" href="#333y" title='y' data-ref="333y" data-ref-filename="333y">y</a>--)</td></tr>
<tr><th id="484">484</th><td>        {</td></tr>
<tr><th id="485">485</th><td>            <b>for</b> (<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a> = <a class="local col2 ref" href="#352cwidth" title='cwidth' data-ref="352cwidth" data-ref-filename="352cwidth">cwidth</a> - <var>1</var>; <a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a> &gt;= <var>0</var>;)</td></tr>
<tr><th id="486">486</th><td>            {</td></tr>
<tr><th id="487">487</th><td>                <i>// note: chroma min width is 2</i></td></tr>
<tr><th id="488">488</th><td>                <a class="local col6 ref" href="#346dstU" title='dstU' data-ref="346dstU" data-ref-filename="346dstU">dstU</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>] = <a class="tu ref fn" href="#_ZN12_GLOBAL__N_111weightBidirEisisiii" title='(anonymous namespace)::weightBidir' data-use='c' data-ref="_ZN12_GLOBAL__N_111weightBidirEisisiii" data-ref-filename="_ZN12_GLOBAL__N_111weightBidirEisisiii">weightBidir</a>(<a class="local col4 ref" href="#334w0" title='w0' data-ref="334w0" data-ref-filename="334w0">w0</a>, <a class="local col8 ref" href="#348srcU0" title='srcU0' data-ref="348srcU0" data-ref-filename="348srcU0">srcU0</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col5 ref" href="#335w1" title='w1' data-ref="335w1" data-ref-filename="335w1">w1</a>, <a class="local col0 ref" href="#350srcU1" title='srcU1' data-ref="350srcU1" data-ref-filename="350srcU1">srcU1</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col9 ref" href="#339round" title='round' data-ref="339round" data-ref-filename="339round">round</a>, <a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a>, <a class="local col6 ref" href="#336offset" title='offset' data-ref="336offset" data-ref-filename="336offset">offset</a>);</td></tr>
<tr><th id="489">489</th><td>                <a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>--;</td></tr>
<tr><th id="490">490</th><td>                <a class="local col6 ref" href="#346dstU" title='dstU' data-ref="346dstU" data-ref-filename="346dstU">dstU</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>] = <a class="tu ref fn" href="#_ZN12_GLOBAL__N_111weightBidirEisisiii" title='(anonymous namespace)::weightBidir' data-use='c' data-ref="_ZN12_GLOBAL__N_111weightBidirEisisiii" data-ref-filename="_ZN12_GLOBAL__N_111weightBidirEisisiii">weightBidir</a>(<a class="local col4 ref" href="#334w0" title='w0' data-ref="334w0" data-ref-filename="334w0">w0</a>, <a class="local col8 ref" href="#348srcU0" title='srcU0' data-ref="348srcU0" data-ref-filename="348srcU0">srcU0</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col5 ref" href="#335w1" title='w1' data-ref="335w1" data-ref-filename="335w1">w1</a>, <a class="local col0 ref" href="#350srcU1" title='srcU1' data-ref="350srcU1" data-ref-filename="350srcU1">srcU1</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col9 ref" href="#339round" title='round' data-ref="339round" data-ref-filename="339round">round</a>, <a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a>, <a class="local col6 ref" href="#336offset" title='offset' data-ref="336offset" data-ref-filename="336offset">offset</a>);</td></tr>
<tr><th id="491">491</th><td>                <a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>--;</td></tr>
<tr><th id="492">492</th><td>            }</td></tr>
<tr><th id="493">493</th><td></td></tr>
<tr><th id="494">494</th><td>            <a class="local col8 ref" href="#348srcU0" title='srcU0' data-ref="348srcU0" data-ref-filename="348srcU0">srcU0</a> += <a class="local col0 ref" href="#340src0Stride" title='src0Stride' data-ref="340src0Stride" data-ref-filename="340src0Stride">src0Stride</a>;</td></tr>
<tr><th id="495">495</th><td>            <a class="local col0 ref" href="#350srcU1" title='srcU1' data-ref="350srcU1" data-ref-filename="350srcU1">srcU1</a> += <a class="local col1 ref" href="#341src1Stride" title='src1Stride' data-ref="341src1Stride" data-ref-filename="341src1Stride">src1Stride</a>;</td></tr>
<tr><th id="496">496</th><td>            <a class="local col6 ref" href="#346dstU" title='dstU' data-ref="346dstU" data-ref-filename="346dstU">dstU</a>  += <a class="local col2 ref" href="#342dststride" title='dststride' data-ref="342dststride" data-ref-filename="342dststride">dststride</a>;</td></tr>
<tr><th id="497">497</th><td>        }</td></tr>
<tr><th id="498">498</th><td></td></tr>
<tr><th id="499">499</th><td>        <i>// Chroma V</i></td></tr>
<tr><th id="500">500</th><td>        <a class="local col4 ref" href="#334w0" title='w0' data-ref="334w0" data-ref-filename="334w0">w0</a>     = <a class="local col8 ref" href="#328wp0" title='wp0' data-ref="328wp0" data-ref-filename="328wp0">wp0</a>[<var>2</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::w" title='x265::Predict::WeightValues::w' data-ref="x265::Predict::WeightValues::w" data-ref-filename="x265..Predict..WeightValues..w">w</a>;</td></tr>
<tr><th id="501">501</th><td>        <a class="local col6 ref" href="#336offset" title='offset' data-ref="336offset" data-ref-filename="336offset">offset</a> = <a class="local col8 ref" href="#328wp0" title='wp0' data-ref="328wp0" data-ref-filename="328wp0">wp0</a>[<var>2</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::o" title='x265::Predict::WeightValues::o' data-ref="x265::Predict::WeightValues::o" data-ref-filename="x265..Predict..WeightValues..o">o</a> + <a class="local col9 ref" href="#329wp1" title='wp1' data-ref="329wp1" data-ref-filename="329wp1">wp1</a>[<var>2</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::o" title='x265::Predict::WeightValues::o' data-ref="x265::Predict::WeightValues::o" data-ref-filename="x265..Predict..WeightValues..o">o</a>;</td></tr>
<tr><th id="502">502</th><td>        <a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a>  = <a class="local col8 ref" href="#328wp0" title='wp0' data-ref="328wp0" data-ref-filename="328wp0">wp0</a>[<var>2</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::shift" title='x265::Predict::WeightValues::shift' data-ref="x265::Predict::WeightValues::shift" data-ref-filename="x265..Predict..WeightValues..shift">shift</a> + <a class="local col7 ref" href="#337shiftNum" title='shiftNum' data-ref="337shiftNum" data-ref-filename="337shiftNum">shiftNum</a> + <var>1</var>;</td></tr>
<tr><th id="503">503</th><td>        <a class="local col9 ref" href="#339round" title='round' data-ref="339round" data-ref-filename="339round">round</a>  = <a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a> ? (<var>1</var> &lt;&lt; (<a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a> - <var>1</var>)) : <var>0</var>;</td></tr>
<tr><th id="504">504</th><td>        <a class="local col5 ref" href="#335w1" title='w1' data-ref="335w1" data-ref-filename="335w1">w1</a>     = <a class="local col9 ref" href="#329wp1" title='wp1' data-ref="329wp1" data-ref-filename="329wp1">wp1</a>[<var>2</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::w" title='x265::Predict::WeightValues::w' data-ref="x265::Predict::WeightValues::w" data-ref-filename="x265..Predict..WeightValues..w">w</a>;</td></tr>
<tr><th id="505">505</th><td></td></tr>
<tr><th id="506">506</th><td>        <b>for</b> (<a class="local col3 ref" href="#333y" title='y' data-ref="333y" data-ref-filename="333y">y</a> = <a class="local col3 ref" href="#353cheight" title='cheight' data-ref="353cheight" data-ref-filename="353cheight">cheight</a> - <var>1</var>; <a class="local col3 ref" href="#333y" title='y' data-ref="333y" data-ref-filename="333y">y</a> &gt;= <var>0</var>; <a class="local col3 ref" href="#333y" title='y' data-ref="333y" data-ref-filename="333y">y</a>--)</td></tr>
<tr><th id="507">507</th><td>        {</td></tr>
<tr><th id="508">508</th><td>            <b>for</b> (<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a> = <a class="local col2 ref" href="#352cwidth" title='cwidth' data-ref="352cwidth" data-ref-filename="352cwidth">cwidth</a> - <var>1</var>; <a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a> &gt;= <var>0</var>;)</td></tr>
<tr><th id="509">509</th><td>            {</td></tr>
<tr><th id="510">510</th><td>                <i>// note: chroma min width is 2</i></td></tr>
<tr><th id="511">511</th><td>                <a class="local col7 ref" href="#347dstV" title='dstV' data-ref="347dstV" data-ref-filename="347dstV">dstV</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>] = <a class="tu ref fn" href="#_ZN12_GLOBAL__N_111weightBidirEisisiii" title='(anonymous namespace)::weightBidir' data-use='c' data-ref="_ZN12_GLOBAL__N_111weightBidirEisisiii" data-ref-filename="_ZN12_GLOBAL__N_111weightBidirEisisiii">weightBidir</a>(<a class="local col4 ref" href="#334w0" title='w0' data-ref="334w0" data-ref-filename="334w0">w0</a>, <a class="local col9 ref" href="#349srcV0" title='srcV0' data-ref="349srcV0" data-ref-filename="349srcV0">srcV0</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col5 ref" href="#335w1" title='w1' data-ref="335w1" data-ref-filename="335w1">w1</a>, <a class="local col1 ref" href="#351srcV1" title='srcV1' data-ref="351srcV1" data-ref-filename="351srcV1">srcV1</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col9 ref" href="#339round" title='round' data-ref="339round" data-ref-filename="339round">round</a>, <a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a>, <a class="local col6 ref" href="#336offset" title='offset' data-ref="336offset" data-ref-filename="336offset">offset</a>);</td></tr>
<tr><th id="512">512</th><td>                <a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>--;</td></tr>
<tr><th id="513">513</th><td>                <a class="local col7 ref" href="#347dstV" title='dstV' data-ref="347dstV" data-ref-filename="347dstV">dstV</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>] = <a class="tu ref fn" href="#_ZN12_GLOBAL__N_111weightBidirEisisiii" title='(anonymous namespace)::weightBidir' data-use='c' data-ref="_ZN12_GLOBAL__N_111weightBidirEisisiii" data-ref-filename="_ZN12_GLOBAL__N_111weightBidirEisisiii">weightBidir</a>(<a class="local col4 ref" href="#334w0" title='w0' data-ref="334w0" data-ref-filename="334w0">w0</a>, <a class="local col9 ref" href="#349srcV0" title='srcV0' data-ref="349srcV0" data-ref-filename="349srcV0">srcV0</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col5 ref" href="#335w1" title='w1' data-ref="335w1" data-ref-filename="335w1">w1</a>, <a class="local col1 ref" href="#351srcV1" title='srcV1' data-ref="351srcV1" data-ref-filename="351srcV1">srcV1</a>[<a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>], <a class="local col9 ref" href="#339round" title='round' data-ref="339round" data-ref-filename="339round">round</a>, <a class="local col8 ref" href="#338shift" title='shift' data-ref="338shift" data-ref-filename="338shift">shift</a>, <a class="local col6 ref" href="#336offset" title='offset' data-ref="336offset" data-ref-filename="336offset">offset</a>);</td></tr>
<tr><th id="514">514</th><td>                <a class="local col2 ref" href="#332x" title='x' data-ref="332x" data-ref-filename="332x">x</a>--;</td></tr>
<tr><th id="515">515</th><td>            }</td></tr>
<tr><th id="516">516</th><td></td></tr>
<tr><th id="517">517</th><td>            <a class="local col9 ref" href="#349srcV0" title='srcV0' data-ref="349srcV0" data-ref-filename="349srcV0">srcV0</a> += <a class="local col0 ref" href="#340src0Stride" title='src0Stride' data-ref="340src0Stride" data-ref-filename="340src0Stride">src0Stride</a>;</td></tr>
<tr><th id="518">518</th><td>            <a class="local col1 ref" href="#351srcV1" title='srcV1' data-ref="351srcV1" data-ref-filename="351srcV1">srcV1</a> += <a class="local col1 ref" href="#341src1Stride" title='src1Stride' data-ref="341src1Stride" data-ref-filename="341src1Stride">src1Stride</a>;</td></tr>
<tr><th id="519">519</th><td>            <a class="local col7 ref" href="#347dstV" title='dstV' data-ref="347dstV" data-ref-filename="347dstV">dstV</a>  += <a class="local col2 ref" href="#342dststride" title='dststride' data-ref="342dststride" data-ref-filename="342dststride">dststride</a>;</td></tr>
<tr><th id="520">520</th><td>        }</td></tr>
<tr><th id="521">521</th><td>    }</td></tr>
<tr><th id="522">522</th><td>}</td></tr>
<tr><th id="523">523</th><td></td></tr>
<tr><th id="524">524</th><td><i>/* weighted averaging for uni-pred */</i></td></tr>
<tr><th id="525">525</th><td><em>void</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZNK4x2657Predict12addWeightUniERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvEPKNS0_12WeightValuesEbb" title='x265::Predict::addWeightUni' data-ref="_ZNK4x2657Predict12addWeightUniERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvEPKNS0_12WeightValuesEbb" data-ref-filename="_ZNK4x2657Predict12addWeightUniERKNS_14PredictionUnitERNS_3YuvERKNS_8ShortYuvEPKNS0_12WeightValuesEbb">addWeightUni</dfn>(<em>const</em> <a class="type" href="predict.h.html#x265::PredictionUnit" title='x265::PredictionUnit' data-ref="x265::PredictionUnit" data-ref-filename="x265..PredictionUnit">PredictionUnit</a>&amp; <dfn class="local col4 decl" id="354pu" title='pu' data-type='const x265::PredictionUnit &amp;' data-ref="354pu" data-ref-filename="354pu">pu</dfn>, <a class="type" href="yuv.h.html#x265::Yuv" title='x265::Yuv' data-ref="x265::Yuv" data-ref-filename="x265..Yuv">Yuv</a>&amp; <dfn class="local col5 decl" id="355predYuv" title='predYuv' data-type='x265::Yuv &amp;' data-ref="355predYuv" data-ref-filename="355predYuv">predYuv</dfn>, <em>const</em> <a class="type" href="shortyuv.h.html#x265::ShortYuv" title='x265::ShortYuv' data-ref="x265::ShortYuv" data-ref-filename="x265..ShortYuv">ShortYuv</a>&amp; <dfn class="local col6 decl" id="356srcYuv" title='srcYuv' data-type='const x265::ShortYuv &amp;' data-ref="356srcYuv" data-ref-filename="356srcYuv">srcYuv</dfn>, <em>const</em> <a class="type" href="predict.h.html#x265::Predict::WeightValues" title='x265::Predict::WeightValues' data-ref="x265::Predict::WeightValues" data-ref-filename="x265..Predict..WeightValues">WeightValues</a> <dfn class="local col7 decl" id="357wp" title='wp' data-type='const x265::Predict::WeightValues *' data-ref="357wp" data-ref-filename="357wp">wp</dfn>[<var>3</var>], <em>bool</em> <dfn class="local col8 decl" id="358bLuma" title='bLuma' data-type='bool' data-ref="358bLuma" data-ref-filename="358bLuma">bLuma</dfn>, <em>bool</em> <dfn class="local col9 decl" id="359bChroma" title='bChroma' data-type='bool' data-ref="359bChroma" data-ref-filename="359bChroma">bChroma</dfn>) <em>const</em></td></tr>
<tr><th id="526">526</th><td>{</td></tr>
<tr><th id="527">527</th><td>    <em>int</em> <dfn class="local col0 decl" id="360w0" title='w0' data-type='int' data-ref="360w0" data-ref-filename="360w0">w0</dfn>, <dfn class="local col1 decl" id="361offset" title='offset' data-type='int' data-ref="361offset" data-ref-filename="361offset">offset</dfn>, <dfn class="local col2 decl" id="362shiftNum" title='shiftNum' data-type='int' data-ref="362shiftNum" data-ref-filename="362shiftNum">shiftNum</dfn>, <dfn class="local col3 decl" id="363shift" title='shift' data-type='int' data-ref="363shift" data-ref-filename="363shift">shift</dfn>, <dfn class="local col4 decl" id="364round" title='round' data-type='int' data-ref="364round" data-ref-filename="364round">round</dfn>;</td></tr>
<tr><th id="528">528</th><td>    <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="365srcStride" title='srcStride' data-type='uint32_t' data-ref="365srcStride" data-ref-filename="365srcStride">srcStride</dfn>, <dfn class="local col6 decl" id="366dstStride" title='dstStride' data-type='uint32_t' data-ref="366dstStride" data-ref-filename="366dstStride">dstStride</dfn>;</td></tr>
<tr><th id="529">529</th><td></td></tr>
<tr><th id="530">530</th><td>    <b>if</b> (<a class="local col8 ref" href="#358bLuma" title='bLuma' data-ref="358bLuma" data-ref-filename="358bLuma">bLuma</a>)</td></tr>
<tr><th id="531">531</th><td>    {</td></tr>
<tr><th id="532">532</th><td>        <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col7 decl" id="367dstY" title='dstY' data-type='pixel *' data-ref="367dstY" data-ref-filename="367dstY">dstY</dfn> = <a class="local col5 ref" href="#355predYuv" title='predYuv' data-ref="355predYuv" data-ref-filename="355predYuv">predYuv</a>.<a class="ref fn" href="yuv.h.html#_ZN4x2653Yuv11getLumaAddrEj" title='x265::Yuv::getLumaAddr' data-ref="_ZN4x2653Yuv11getLumaAddrEj" data-ref-filename="_ZN4x2653Yuv11getLumaAddrEj">getLumaAddr</a>(<a class="local col4 ref" href="#354pu" title='pu' data-ref="354pu" data-ref-filename="354pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="533">533</th><td>        <em>const</em> <a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>* <dfn class="local col8 decl" id="368srcY0" title='srcY0' data-type='const int16_t *' data-ref="368srcY0" data-ref-filename="368srcY0">srcY0</dfn> = <a class="local col6 ref" href="#356srcYuv" title='srcYuv' data-ref="356srcYuv" data-ref-filename="356srcYuv">srcYuv</a>.<a class="ref fn" href="shortyuv.h.html#_ZNK4x2658ShortYuv11getLumaAddrEj" title='x265::ShortYuv::getLumaAddr' data-ref="_ZNK4x2658ShortYuv11getLumaAddrEj" data-ref-filename="_ZNK4x2658ShortYuv11getLumaAddrEj">getLumaAddr</a>(<a class="local col4 ref" href="#354pu" title='pu' data-ref="354pu" data-ref-filename="354pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="534">534</th><td></td></tr>
<tr><th id="535">535</th><td>        <i>// Luma</i></td></tr>
<tr><th id="536">536</th><td>        <a class="local col0 ref" href="#360w0" title='w0' data-ref="360w0" data-ref-filename="360w0">w0</a>      = <a class="local col7 ref" href="#357wp" title='wp' data-ref="357wp" data-ref-filename="357wp">wp</a>[<var>0</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::w" title='x265::Predict::WeightValues::w' data-ref="x265::Predict::WeightValues::w" data-ref-filename="x265..Predict..WeightValues..w">w</a>;</td></tr>
<tr><th id="537">537</th><td>        <a class="local col1 ref" href="#361offset" title='offset' data-ref="361offset" data-ref-filename="361offset">offset</a>  = <a class="local col7 ref" href="#357wp" title='wp' data-ref="357wp" data-ref-filename="357wp">wp</a>[<var>0</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::offset" title='x265::Predict::WeightValues::offset' data-ref="x265::Predict::WeightValues::offset" data-ref-filename="x265..Predict..WeightValues..offset">offset</a>;</td></tr>
<tr><th id="538">538</th><td>        <a class="local col2 ref" href="#362shiftNum" title='shiftNum' data-ref="362shiftNum" data-ref-filename="362shiftNum">shiftNum</a> = <a class="macro" href="constants.h.html#68" title="14" data-ref="_M/IF_INTERNAL_PREC">IF_INTERNAL_PREC</a> - <span class="macro" title="8" data-ref="_M/X265_DEPTH">X265_DEPTH</span>;</td></tr>
<tr><th id="539">539</th><td>        <a class="local col3 ref" href="#363shift" title='shift' data-ref="363shift" data-ref-filename="363shift">shift</a>   = <a class="local col7 ref" href="#357wp" title='wp' data-ref="357wp" data-ref-filename="357wp">wp</a>[<var>0</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::shift" title='x265::Predict::WeightValues::shift' data-ref="x265::Predict::WeightValues::shift" data-ref-filename="x265..Predict..WeightValues..shift">shift</a> + <a class="local col2 ref" href="#362shiftNum" title='shiftNum' data-ref="362shiftNum" data-ref-filename="362shiftNum">shiftNum</a>;</td></tr>
<tr><th id="540">540</th><td>        <a class="local col4 ref" href="#364round" title='round' data-ref="364round" data-ref-filename="364round">round</a>   = <a class="local col3 ref" href="#363shift" title='shift' data-ref="363shift" data-ref-filename="363shift">shift</a> ? (<var>1</var> &lt;&lt; (<a class="local col3 ref" href="#363shift" title='shift' data-ref="363shift" data-ref-filename="363shift">shift</a> - <var>1</var>)) : <var>0</var>;</td></tr>
<tr><th id="541">541</th><td>        <a class="local col5 ref" href="#365srcStride" title='srcStride' data-ref="365srcStride" data-ref-filename="365srcStride">srcStride</a> = <a class="local col6 ref" href="#356srcYuv" title='srcYuv' data-ref="356srcYuv" data-ref-filename="356srcYuv">srcYuv</a>.<a class="ref field" href="shortyuv.h.html#x265::ShortYuv::m_size" title='x265::ShortYuv::m_size' data-ref="x265::ShortYuv::m_size" data-ref-filename="x265..ShortYuv..m_size">m_size</a>;</td></tr>
<tr><th id="542">542</th><td>        <a class="local col6 ref" href="#366dstStride" title='dstStride' data-ref="366dstStride" data-ref-filename="366dstStride">dstStride</a> = <a class="local col5 ref" href="#355predYuv" title='predYuv' data-ref="355predYuv" data-ref-filename="355predYuv">predYuv</a>.<a class="ref field" href="yuv.h.html#x265::Yuv::m_size" title='x265::Yuv::m_size' data-ref="x265::Yuv::m_size" data-ref-filename="x265..Yuv..m_size">m_size</a>;</td></tr>
<tr><th id="543">543</th><td></td></tr>
<tr><th id="544">544</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::weight_sp" title='x265::EncoderPrimitives::weight_sp' data-ref="x265::EncoderPrimitives::weight_sp" data-ref-filename="x265..EncoderPrimitives..weight_sp">weight_sp</a>(<a class="local col8 ref" href="#368srcY0" title='srcY0' data-ref="368srcY0" data-ref-filename="368srcY0">srcY0</a>, <a class="local col7 ref" href="#367dstY" title='dstY' data-ref="367dstY" data-ref-filename="367dstY">dstY</a>, <a class="local col5 ref" href="#365srcStride" title='srcStride' data-ref="365srcStride" data-ref-filename="365srcStride">srcStride</a>, <a class="local col6 ref" href="#366dstStride" title='dstStride' data-ref="366dstStride" data-ref-filename="366dstStride">dstStride</a>, <a class="local col4 ref" href="#354pu" title='pu' data-ref="354pu" data-ref-filename="354pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::width" title='x265::PredictionUnit::width' data-ref="x265::PredictionUnit::width" data-ref-filename="x265..PredictionUnit..width">width</a>, <a class="local col4 ref" href="#354pu" title='pu' data-ref="354pu" data-ref-filename="354pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::height" title='x265::PredictionUnit::height' data-ref="x265::PredictionUnit::height" data-ref-filename="x265..PredictionUnit..height">height</a>, <a class="local col0 ref" href="#360w0" title='w0' data-ref="360w0" data-ref-filename="360w0">w0</a>, <a class="local col4 ref" href="#364round" title='round' data-ref="364round" data-ref-filename="364round">round</a>, <a class="local col3 ref" href="#363shift" title='shift' data-ref="363shift" data-ref-filename="363shift">shift</a>, <a class="local col1 ref" href="#361offset" title='offset' data-ref="361offset" data-ref-filename="361offset">offset</a>);</td></tr>
<tr><th id="545">545</th><td>    }</td></tr>
<tr><th id="546">546</th><td></td></tr>
<tr><th id="547">547</th><td>    <b>if</b> (<a class="local col9 ref" href="#359bChroma" title='bChroma' data-ref="359bChroma" data-ref-filename="359bChroma">bChroma</a>)</td></tr>
<tr><th id="548">548</th><td>    {</td></tr>
<tr><th id="549">549</th><td>        <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col9 decl" id="369dstU" title='dstU' data-type='pixel *' data-ref="369dstU" data-ref-filename="369dstU">dstU</dfn> = <a class="local col5 ref" href="#355predYuv" title='predYuv' data-ref="355predYuv" data-ref-filename="355predYuv">predYuv</a>.<a class="ref fn" href="yuv.h.html#_ZN4x2653Yuv9getCbAddrEj" title='x265::Yuv::getCbAddr' data-ref="_ZN4x2653Yuv9getCbAddrEj" data-ref-filename="_ZN4x2653Yuv9getCbAddrEj">getCbAddr</a>(<a class="local col4 ref" href="#354pu" title='pu' data-ref="354pu" data-ref-filename="354pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="550">550</th><td>        <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col0 decl" id="370dstV" title='dstV' data-type='pixel *' data-ref="370dstV" data-ref-filename="370dstV">dstV</dfn> = <a class="local col5 ref" href="#355predYuv" title='predYuv' data-ref="355predYuv" data-ref-filename="355predYuv">predYuv</a>.<a class="ref fn" href="yuv.h.html#_ZN4x2653Yuv9getCrAddrEj" title='x265::Yuv::getCrAddr' data-ref="_ZN4x2653Yuv9getCrAddrEj" data-ref-filename="_ZN4x2653Yuv9getCrAddrEj">getCrAddr</a>(<a class="local col4 ref" href="#354pu" title='pu' data-ref="354pu" data-ref-filename="354pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="551">551</th><td>        <em>const</em> <a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>* <dfn class="local col1 decl" id="371srcU0" title='srcU0' data-type='const int16_t *' data-ref="371srcU0" data-ref-filename="371srcU0">srcU0</dfn> = <a class="local col6 ref" href="#356srcYuv" title='srcYuv' data-ref="356srcYuv" data-ref-filename="356srcYuv">srcYuv</a>.<a class="ref fn" href="shortyuv.h.html#_ZNK4x2658ShortYuv9getCbAddrEj" title='x265::ShortYuv::getCbAddr' data-ref="_ZNK4x2658ShortYuv9getCbAddrEj" data-ref-filename="_ZNK4x2658ShortYuv9getCbAddrEj">getCbAddr</a>(<a class="local col4 ref" href="#354pu" title='pu' data-ref="354pu" data-ref-filename="354pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="552">552</th><td>        <em>const</em> <a class="typedef" href="../../../include/bits/stdint-intn.h.html#int16_t" title='int16_t' data-type='__int16_t' data-ref="int16_t" data-ref-filename="int16_t">int16_t</a>* <dfn class="local col2 decl" id="372srcV0" title='srcV0' data-type='const int16_t *' data-ref="372srcV0" data-ref-filename="372srcV0">srcV0</dfn> = <a class="local col6 ref" href="#356srcYuv" title='srcYuv' data-ref="356srcYuv" data-ref-filename="356srcYuv">srcYuv</a>.<a class="ref fn" href="shortyuv.h.html#_ZNK4x2658ShortYuv9getCrAddrEj" title='x265::ShortYuv::getCrAddr' data-ref="_ZNK4x2658ShortYuv9getCrAddrEj" data-ref-filename="_ZNK4x2658ShortYuv9getCrAddrEj">getCrAddr</a>(<a class="local col4 ref" href="#354pu" title='pu' data-ref="354pu" data-ref-filename="354pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::puAbsPartIdx" title='x265::PredictionUnit::puAbsPartIdx' data-ref="x265::PredictionUnit::puAbsPartIdx" data-ref-filename="x265..PredictionUnit..puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="553">553</th><td></td></tr>
<tr><th id="554">554</th><td>        <i>// Chroma U</i></td></tr>
<tr><th id="555">555</th><td>        <a class="local col0 ref" href="#360w0" title='w0' data-ref="360w0" data-ref-filename="360w0">w0</a>      = <a class="local col7 ref" href="#357wp" title='wp' data-ref="357wp" data-ref-filename="357wp">wp</a>[<var>1</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::w" title='x265::Predict::WeightValues::w' data-ref="x265::Predict::WeightValues::w" data-ref-filename="x265..Predict..WeightValues..w">w</a>;</td></tr>
<tr><th id="556">556</th><td>        <a class="local col1 ref" href="#361offset" title='offset' data-ref="361offset" data-ref-filename="361offset">offset</a>  = <a class="local col7 ref" href="#357wp" title='wp' data-ref="357wp" data-ref-filename="357wp">wp</a>[<var>1</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::offset" title='x265::Predict::WeightValues::offset' data-ref="x265::Predict::WeightValues::offset" data-ref-filename="x265..Predict..WeightValues..offset">offset</a>;</td></tr>
<tr><th id="557">557</th><td>        <a class="local col2 ref" href="#362shiftNum" title='shiftNum' data-ref="362shiftNum" data-ref-filename="362shiftNum">shiftNum</a> = <a class="macro" href="constants.h.html#68" title="14" data-ref="_M/IF_INTERNAL_PREC">IF_INTERNAL_PREC</a> - <span class="macro" title="8" data-ref="_M/X265_DEPTH">X265_DEPTH</span>;</td></tr>
<tr><th id="558">558</th><td>        <a class="local col3 ref" href="#363shift" title='shift' data-ref="363shift" data-ref-filename="363shift">shift</a>   = <a class="local col7 ref" href="#357wp" title='wp' data-ref="357wp" data-ref-filename="357wp">wp</a>[<var>1</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::shift" title='x265::Predict::WeightValues::shift' data-ref="x265::Predict::WeightValues::shift" data-ref-filename="x265..Predict..WeightValues..shift">shift</a> + <a class="local col2 ref" href="#362shiftNum" title='shiftNum' data-ref="362shiftNum" data-ref-filename="362shiftNum">shiftNum</a>;</td></tr>
<tr><th id="559">559</th><td>        <a class="local col4 ref" href="#364round" title='round' data-ref="364round" data-ref-filename="364round">round</a>   = <a class="local col3 ref" href="#363shift" title='shift' data-ref="363shift" data-ref-filename="363shift">shift</a> ? (<var>1</var> &lt;&lt; (<a class="local col3 ref" href="#363shift" title='shift' data-ref="363shift" data-ref-filename="363shift">shift</a> - <var>1</var>)) : <var>0</var>;</td></tr>
<tr><th id="560">560</th><td></td></tr>
<tr><th id="561">561</th><td>        <a class="local col5 ref" href="#365srcStride" title='srcStride' data-ref="365srcStride" data-ref-filename="365srcStride">srcStride</a> = <a class="local col6 ref" href="#356srcYuv" title='srcYuv' data-ref="356srcYuv" data-ref-filename="356srcYuv">srcYuv</a>.<a class="ref field" href="shortyuv.h.html#x265::ShortYuv::m_csize" title='x265::ShortYuv::m_csize' data-ref="x265::ShortYuv::m_csize" data-ref-filename="x265..ShortYuv..m_csize">m_csize</a>;</td></tr>
<tr><th id="562">562</th><td>        <a class="local col6 ref" href="#366dstStride" title='dstStride' data-ref="366dstStride" data-ref-filename="366dstStride">dstStride</a> = <a class="local col5 ref" href="#355predYuv" title='predYuv' data-ref="355predYuv" data-ref-filename="355predYuv">predYuv</a>.<a class="ref field" href="yuv.h.html#x265::Yuv::m_csize" title='x265::Yuv::m_csize' data-ref="x265::Yuv::m_csize" data-ref-filename="x265..Yuv..m_csize">m_csize</a>;</td></tr>
<tr><th id="563">563</th><td></td></tr>
<tr><th id="564">564</th><td>        <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="373cwidth" title='cwidth' data-type='uint32_t' data-ref="373cwidth" data-ref-filename="373cwidth">cwidth</dfn> = <a class="local col4 ref" href="#354pu" title='pu' data-ref="354pu" data-ref-filename="354pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::width" title='x265::PredictionUnit::width' data-ref="x265::PredictionUnit::width" data-ref-filename="x265..PredictionUnit..width">width</a> &gt;&gt; <a class="local col6 ref" href="#356srcYuv" title='srcYuv' data-ref="356srcYuv" data-ref-filename="356srcYuv">srcYuv</a>.<a class="ref field" href="shortyuv.h.html#x265::ShortYuv::m_hChromaShift" title='x265::ShortYuv::m_hChromaShift' data-ref="x265::ShortYuv::m_hChromaShift" data-ref-filename="x265..ShortYuv..m_hChromaShift">m_hChromaShift</a>;</td></tr>
<tr><th id="565">565</th><td>        <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col4 decl" id="374cheight" title='cheight' data-type='uint32_t' data-ref="374cheight" data-ref-filename="374cheight">cheight</dfn> = <a class="local col4 ref" href="#354pu" title='pu' data-ref="354pu" data-ref-filename="354pu">pu</a>.<a class="ref field" href="predict.h.html#x265::PredictionUnit::height" title='x265::PredictionUnit::height' data-ref="x265::PredictionUnit::height" data-ref-filename="x265..PredictionUnit..height">height</a> &gt;&gt; <a class="local col6 ref" href="#356srcYuv" title='srcYuv' data-ref="356srcYuv" data-ref-filename="356srcYuv">srcYuv</a>.<a class="ref field" href="shortyuv.h.html#x265::ShortYuv::m_vChromaShift" title='x265::ShortYuv::m_vChromaShift' data-ref="x265::ShortYuv::m_vChromaShift" data-ref-filename="x265..ShortYuv..m_vChromaShift">m_vChromaShift</a>;</td></tr>
<tr><th id="566">566</th><td></td></tr>
<tr><th id="567">567</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::weight_sp" title='x265::EncoderPrimitives::weight_sp' data-ref="x265::EncoderPrimitives::weight_sp" data-ref-filename="x265..EncoderPrimitives..weight_sp">weight_sp</a>(<a class="local col1 ref" href="#371srcU0" title='srcU0' data-ref="371srcU0" data-ref-filename="371srcU0">srcU0</a>, <a class="local col9 ref" href="#369dstU" title='dstU' data-ref="369dstU" data-ref-filename="369dstU">dstU</a>, <a class="local col5 ref" href="#365srcStride" title='srcStride' data-ref="365srcStride" data-ref-filename="365srcStride">srcStride</a>, <a class="local col6 ref" href="#366dstStride" title='dstStride' data-ref="366dstStride" data-ref-filename="366dstStride">dstStride</a>, <a class="local col3 ref" href="#373cwidth" title='cwidth' data-ref="373cwidth" data-ref-filename="373cwidth">cwidth</a>, <a class="local col4 ref" href="#374cheight" title='cheight' data-ref="374cheight" data-ref-filename="374cheight">cheight</a>, <a class="local col0 ref" href="#360w0" title='w0' data-ref="360w0" data-ref-filename="360w0">w0</a>, <a class="local col4 ref" href="#364round" title='round' data-ref="364round" data-ref-filename="364round">round</a>, <a class="local col3 ref" href="#363shift" title='shift' data-ref="363shift" data-ref-filename="363shift">shift</a>, <a class="local col1 ref" href="#361offset" title='offset' data-ref="361offset" data-ref-filename="361offset">offset</a>);</td></tr>
<tr><th id="568">568</th><td></td></tr>
<tr><th id="569">569</th><td>        <i>// Chroma V</i></td></tr>
<tr><th id="570">570</th><td>        <a class="local col0 ref" href="#360w0" title='w0' data-ref="360w0" data-ref-filename="360w0">w0</a>     = <a class="local col7 ref" href="#357wp" title='wp' data-ref="357wp" data-ref-filename="357wp">wp</a>[<var>2</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::w" title='x265::Predict::WeightValues::w' data-ref="x265::Predict::WeightValues::w" data-ref-filename="x265..Predict..WeightValues..w">w</a>;</td></tr>
<tr><th id="571">571</th><td>        <a class="local col1 ref" href="#361offset" title='offset' data-ref="361offset" data-ref-filename="361offset">offset</a> = <a class="local col7 ref" href="#357wp" title='wp' data-ref="357wp" data-ref-filename="357wp">wp</a>[<var>2</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::offset" title='x265::Predict::WeightValues::offset' data-ref="x265::Predict::WeightValues::offset" data-ref-filename="x265..Predict..WeightValues..offset">offset</a>;</td></tr>
<tr><th id="572">572</th><td>        <a class="local col3 ref" href="#363shift" title='shift' data-ref="363shift" data-ref-filename="363shift">shift</a>  = <a class="local col7 ref" href="#357wp" title='wp' data-ref="357wp" data-ref-filename="357wp">wp</a>[<var>2</var>].<a class="ref field" href="predict.h.html#x265::Predict::WeightValues::shift" title='x265::Predict::WeightValues::shift' data-ref="x265::Predict::WeightValues::shift" data-ref-filename="x265..Predict..WeightValues..shift">shift</a> + <a class="local col2 ref" href="#362shiftNum" title='shiftNum' data-ref="362shiftNum" data-ref-filename="362shiftNum">shiftNum</a>;</td></tr>
<tr><th id="573">573</th><td>        <a class="local col4 ref" href="#364round" title='round' data-ref="364round" data-ref-filename="364round">round</a>  = <a class="local col3 ref" href="#363shift" title='shift' data-ref="363shift" data-ref-filename="363shift">shift</a> ? (<var>1</var> &lt;&lt; (<a class="local col3 ref" href="#363shift" title='shift' data-ref="363shift" data-ref-filename="363shift">shift</a> - <var>1</var>)) : <var>0</var>;</td></tr>
<tr><th id="574">574</th><td></td></tr>
<tr><th id="575">575</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::weight_sp" title='x265::EncoderPrimitives::weight_sp' data-ref="x265::EncoderPrimitives::weight_sp" data-ref-filename="x265..EncoderPrimitives..weight_sp">weight_sp</a>(<a class="local col2 ref" href="#372srcV0" title='srcV0' data-ref="372srcV0" data-ref-filename="372srcV0">srcV0</a>, <a class="local col0 ref" href="#370dstV" title='dstV' data-ref="370dstV" data-ref-filename="370dstV">dstV</a>, <a class="local col5 ref" href="#365srcStride" title='srcStride' data-ref="365srcStride" data-ref-filename="365srcStride">srcStride</a>, <a class="local col6 ref" href="#366dstStride" title='dstStride' data-ref="366dstStride" data-ref-filename="366dstStride">dstStride</a>, <a class="local col3 ref" href="#373cwidth" title='cwidth' data-ref="373cwidth" data-ref-filename="373cwidth">cwidth</a>, <a class="local col4 ref" href="#374cheight" title='cheight' data-ref="374cheight" data-ref-filename="374cheight">cheight</a>, <a class="local col0 ref" href="#360w0" title='w0' data-ref="360w0" data-ref-filename="360w0">w0</a>, <a class="local col4 ref" href="#364round" title='round' data-ref="364round" data-ref-filename="364round">round</a>, <a class="local col3 ref" href="#363shift" title='shift' data-ref="363shift" data-ref-filename="363shift">shift</a>, <a class="local col1 ref" href="#361offset" title='offset' data-ref="361offset" data-ref-filename="361offset">offset</a>);</td></tr>
<tr><th id="576">576</th><td>    }</td></tr>
<tr><th id="577">577</th><td>}</td></tr>
<tr><th id="578">578</th><td></td></tr>
<tr><th id="579">579</th><td><em>void</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657Predict16predIntraLumaAngEjPhlj" title='x265::Predict::predIntraLumaAng' data-ref="_ZN4x2657Predict16predIntraLumaAngEjPhlj" data-ref-filename="_ZN4x2657Predict16predIntraLumaAngEjPhlj">predIntraLumaAng</dfn>(<a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="375dirMode" title='dirMode' data-type='uint32_t' data-ref="375dirMode" data-ref-filename="375dirMode">dirMode</dfn>, <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col6 decl" id="376dst" title='dst' data-type='pixel *' data-ref="376dst" data-ref-filename="376dst">dst</dfn>, <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col7 decl" id="377stride" title='stride' data-type='intptr_t' data-ref="377stride" data-ref-filename="377stride">stride</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="378log2TrSize" title='log2TrSize' data-type='uint32_t' data-ref="378log2TrSize" data-ref-filename="378log2TrSize">log2TrSize</dfn>)</td></tr>
<tr><th id="580">580</th><td>{</td></tr>
<tr><th id="581">581</th><td>    <em>int</em> <dfn class="local col9 decl" id="379tuSize" title='tuSize' data-type='int' data-ref="379tuSize" data-ref-filename="379tuSize">tuSize</dfn> = <var>1</var> &lt;&lt; <a class="local col8 ref" href="#378log2TrSize" title='log2TrSize' data-ref="378log2TrSize" data-ref-filename="378log2TrSize">log2TrSize</a>;</td></tr>
<tr><th id="582">582</th><td>    <em>int</em> <dfn class="local col0 decl" id="380sizeIdx" title='sizeIdx' data-type='int' data-ref="380sizeIdx" data-ref-filename="380sizeIdx">sizeIdx</dfn> = <a class="local col8 ref" href="#378log2TrSize" title='log2TrSize' data-ref="378log2TrSize" data-ref-filename="378log2TrSize">log2TrSize</a> - <var>2</var>;</td></tr>
<tr><th id="583">583</th><td>    <a class="macro" href="common.h.html#123" title="" data-ref="_M/X265_CHECK">X265_CHECK</a>(sizeIdx &gt;= <var>0</var> &amp;&amp; sizeIdx &lt; <var>4</var>, <q>"intra block size is out of range\n"</q>);</td></tr>
<tr><th id="584">584</th><td></td></tr>
<tr><th id="585">585</th><td>    <em>int</em> <dfn class="local col1 decl" id="381filter" title='filter' data-type='int' data-ref="381filter" data-ref-filename="381filter">filter</dfn> = !!(<a class="ref" href="constants.h.html#x265::g_intraFilterFlags" title='x265::g_intraFilterFlags' data-ref="x265::g_intraFilterFlags" data-ref-filename="x265..g_intraFilterFlags">g_intraFilterFlags</a>[<a class="local col5 ref" href="#375dirMode" title='dirMode' data-ref="375dirMode" data-ref-filename="375dirMode">dirMode</a>] &amp; <a class="local col9 ref" href="#379tuSize" title='tuSize' data-ref="379tuSize" data-ref-filename="379tuSize">tuSize</a>);</td></tr>
<tr><th id="586">586</th><td>    <em>bool</em> <dfn class="local col2 decl" id="382bFilter" title='bFilter' data-type='bool' data-ref="382bFilter" data-ref-filename="382bFilter">bFilter</dfn> = <a class="local col8 ref" href="#378log2TrSize" title='log2TrSize' data-ref="378log2TrSize" data-ref-filename="378log2TrSize">log2TrSize</a> &lt;= <var>4</var>;</td></tr>
<tr><th id="587">587</th><td>    <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::cu" title='x265::EncoderPrimitives::cu' data-ref="x265::EncoderPrimitives::cu" data-ref-filename="x265..EncoderPrimitives..cu">cu</a>[<a class="local col0 ref" href="#380sizeIdx" title='sizeIdx' data-ref="380sizeIdx" data-ref-filename="380sizeIdx">sizeIdx</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::CU::intra_pred" title='x265::EncoderPrimitives::CU::intra_pred' data-ref="x265::EncoderPrimitives::CU::intra_pred" data-ref-filename="x265..EncoderPrimitives..CU..intra_pred">intra_pred</a>[<a class="local col5 ref" href="#375dirMode" title='dirMode' data-ref="375dirMode" data-ref-filename="375dirMode">dirMode</a>](<a class="local col6 ref" href="#376dst" title='dst' data-ref="376dst" data-ref-filename="376dst">dst</a>, <a class="local col7 ref" href="#377stride" title='stride' data-ref="377stride" data-ref-filename="377stride">stride</a>, <a class="member field" href="predict.h.html#x265::Predict::intraNeighbourBuf" title='x265::Predict::intraNeighbourBuf' data-ref="x265::Predict::intraNeighbourBuf" data-ref-filename="x265..Predict..intraNeighbourBuf">intraNeighbourBuf</a>[<a class="local col1 ref" href="#381filter" title='filter' data-ref="381filter" data-ref-filename="381filter">filter</a>], <a class="local col5 ref" href="#375dirMode" title='dirMode' data-ref="375dirMode" data-ref-filename="375dirMode">dirMode</a>, <a class="local col2 ref" href="#382bFilter" title='bFilter' data-ref="382bFilter" data-ref-filename="382bFilter">bFilter</a>);</td></tr>
<tr><th id="588">588</th><td>}</td></tr>
<tr><th id="589">589</th><td></td></tr>
<tr><th id="590">590</th><td><em>void</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657Predict18predIntraChromaAngEjPhlj" title='x265::Predict::predIntraChromaAng' data-ref="_ZN4x2657Predict18predIntraChromaAngEjPhlj" data-ref-filename="_ZN4x2657Predict18predIntraChromaAngEjPhlj">predIntraChromaAng</dfn>(<a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="383dirMode" title='dirMode' data-type='uint32_t' data-ref="383dirMode" data-ref-filename="383dirMode">dirMode</dfn>, <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col4 decl" id="384dst" title='dst' data-type='pixel *' data-ref="384dst" data-ref-filename="384dst">dst</dfn>, <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col5 decl" id="385stride" title='stride' data-type='intptr_t' data-ref="385stride" data-ref-filename="385stride">stride</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="386log2TrSizeC" title='log2TrSizeC' data-type='uint32_t' data-ref="386log2TrSizeC" data-ref-filename="386log2TrSizeC">log2TrSizeC</dfn>)</td></tr>
<tr><th id="591">591</th><td>{</td></tr>
<tr><th id="592">592</th><td>    <em>int</em> <dfn class="local col7 decl" id="387tuSize" title='tuSize' data-type='int' data-ref="387tuSize" data-ref-filename="387tuSize">tuSize</dfn> = <var>1</var> &lt;&lt; <a class="local col6 ref" href="#386log2TrSizeC" title='log2TrSizeC' data-ref="386log2TrSizeC" data-ref-filename="386log2TrSizeC">log2TrSizeC</a>;</td></tr>
<tr><th id="593">593</th><td>    <em>int</em> <dfn class="local col8 decl" id="388sizeIdx" title='sizeIdx' data-type='int' data-ref="388sizeIdx" data-ref-filename="388sizeIdx">sizeIdx</dfn> = <a class="local col6 ref" href="#386log2TrSizeC" title='log2TrSizeC' data-ref="386log2TrSizeC" data-ref-filename="386log2TrSizeC">log2TrSizeC</a> - <var>2</var>;</td></tr>
<tr><th id="594">594</th><td>    <a class="macro" href="common.h.html#123" title="" data-ref="_M/X265_CHECK">X265_CHECK</a>(sizeIdx &gt;= <var>0</var> &amp;&amp; sizeIdx &lt; <var>4</var>, <q>"intra block size is out of range\n"</q>);</td></tr>
<tr><th id="595">595</th><td></td></tr>
<tr><th id="596">596</th><td>    <em>int</em> <dfn class="local col9 decl" id="389filter" title='filter' data-type='int' data-ref="389filter" data-ref-filename="389filter">filter</dfn> = !!(<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a> == <a class="macro" href="../x265.h.html#591" title="3" data-ref="_M/X265_CSP_I444">X265_CSP_I444</a> &amp;&amp; (<a class="ref" href="constants.h.html#x265::g_intraFilterFlags" title='x265::g_intraFilterFlags' data-ref="x265::g_intraFilterFlags" data-ref-filename="x265..g_intraFilterFlags">g_intraFilterFlags</a>[<a class="local col3 ref" href="#383dirMode" title='dirMode' data-ref="383dirMode" data-ref-filename="383dirMode">dirMode</a>] &amp; <a class="local col7 ref" href="#387tuSize" title='tuSize' data-ref="387tuSize" data-ref-filename="387tuSize">tuSize</a>));</td></tr>
<tr><th id="597">597</th><td>    <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::cu" title='x265::EncoderPrimitives::cu' data-ref="x265::EncoderPrimitives::cu" data-ref-filename="x265..EncoderPrimitives..cu">cu</a>[<a class="local col8 ref" href="#388sizeIdx" title='sizeIdx' data-ref="388sizeIdx" data-ref-filename="388sizeIdx">sizeIdx</a>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::CU::intra_pred" title='x265::EncoderPrimitives::CU::intra_pred' data-ref="x265::EncoderPrimitives::CU::intra_pred" data-ref-filename="x265..EncoderPrimitives..CU..intra_pred">intra_pred</a>[<a class="local col3 ref" href="#383dirMode" title='dirMode' data-ref="383dirMode" data-ref-filename="383dirMode">dirMode</a>](<a class="local col4 ref" href="#384dst" title='dst' data-ref="384dst" data-ref-filename="384dst">dst</a>, <a class="local col5 ref" href="#385stride" title='stride' data-ref="385stride" data-ref-filename="385stride">stride</a>, <a class="member field" href="predict.h.html#x265::Predict::intraNeighbourBuf" title='x265::Predict::intraNeighbourBuf' data-ref="x265::Predict::intraNeighbourBuf" data-ref-filename="x265..Predict..intraNeighbourBuf">intraNeighbourBuf</a>[<a class="local col9 ref" href="#389filter" title='filter' data-ref="389filter" data-ref-filename="389filter">filter</a>], <a class="local col3 ref" href="#383dirMode" title='dirMode' data-ref="383dirMode" data-ref-filename="383dirMode">dirMode</a>, <var>0</var>);</td></tr>
<tr><th id="598">598</th><td>}</td></tr>
<tr><th id="599">599</th><td></td></tr>
<tr><th id="600">600</th><td><em>void</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657Predict14initAdiPatternERKNS_6CUDataERKNS_6CUGeomEjRKNS0_14IntraNeighborsEi" title='x265::Predict::initAdiPattern' data-ref="_ZN4x2657Predict14initAdiPatternERKNS_6CUDataERKNS_6CUGeomEjRKNS0_14IntraNeighborsEi" data-ref-filename="_ZN4x2657Predict14initAdiPatternERKNS_6CUDataERKNS_6CUGeomEjRKNS0_14IntraNeighborsEi">initAdiPattern</dfn>(<em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>&amp; <dfn class="local col0 decl" id="390cu" title='cu' data-type='const x265::CUData &amp;' data-ref="390cu" data-ref-filename="390cu">cu</dfn>, <em>const</em> <a class="type" href="cudata.h.html#x265::CUGeom" title='x265::CUGeom' data-ref="x265::CUGeom" data-ref-filename="x265..CUGeom">CUGeom</a>&amp; <dfn class="local col1 decl" id="391cuGeom" title='cuGeom' data-type='const x265::CUGeom &amp;' data-ref="391cuGeom" data-ref-filename="391cuGeom">cuGeom</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col2 decl" id="392puAbsPartIdx" title='puAbsPartIdx' data-type='uint32_t' data-ref="392puAbsPartIdx" data-ref-filename="392puAbsPartIdx">puAbsPartIdx</dfn>, <em>const</em> <a class="type" href="predict.h.html#x265::Predict::IntraNeighbors" title='x265::Predict::IntraNeighbors' data-ref="x265::Predict::IntraNeighbors" data-ref-filename="x265..Predict..IntraNeighbors">IntraNeighbors</a>&amp; <dfn class="local col3 decl" id="393intraNeighbors" title='intraNeighbors' data-type='const x265::Predict::IntraNeighbors &amp;' data-ref="393intraNeighbors" data-ref-filename="393intraNeighbors">intraNeighbors</dfn>, <em>int</em> <dfn class="local col4 decl" id="394dirMode" title='dirMode' data-type='int' data-ref="394dirMode" data-ref-filename="394dirMode">dirMode</dfn>)</td></tr>
<tr><th id="601">601</th><td>{</td></tr>
<tr><th id="602">602</th><td>    <em>int</em> <dfn class="local col5 decl" id="395tuSize" title='tuSize' data-type='int' data-ref="395tuSize" data-ref-filename="395tuSize">tuSize</dfn> = <var>1</var> &lt;&lt; <a class="local col3 ref" href="#393intraNeighbors" title='intraNeighbors' data-ref="393intraNeighbors" data-ref-filename="393intraNeighbors">intraNeighbors</a>.<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::log2TrSize" title='x265::Predict::IntraNeighbors::log2TrSize' data-ref="x265::Predict::IntraNeighbors::log2TrSize" data-ref-filename="x265..Predict..IntraNeighbors..log2TrSize">log2TrSize</a>;</td></tr>
<tr><th id="603">603</th><td>    <em>int</em> <dfn class="local col6 decl" id="396tuSize2" title='tuSize2' data-type='int' data-ref="396tuSize2" data-ref-filename="396tuSize2">tuSize2</dfn> = <a class="local col5 ref" href="#395tuSize" title='tuSize' data-ref="395tuSize" data-ref-filename="395tuSize">tuSize</a> &lt;&lt; <var>1</var>;</td></tr>
<tr><th id="604">604</th><td></td></tr>
<tr><th id="605">605</th><td>    <a class="type" href="picyuv.h.html#x265::PicYuv" title='x265::PicYuv' data-ref="x265::PicYuv" data-ref-filename="x265..PicYuv">PicYuv</a>* <dfn class="local col7 decl" id="397reconPic" title='reconPic' data-type='x265::PicYuv *' data-ref="397reconPic" data-ref-filename="397reconPic">reconPic</dfn> = <a class="local col0 ref" href="#390cu" title='cu' data-ref="390cu" data-ref-filename="390cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_encData" title='x265::CUData::m_encData' data-ref="x265::CUData::m_encData" data-ref-filename="x265..CUData..m_encData">m_encData</a>-&gt;<a class="ref field" href="framedata.h.html#x265::FrameData::m_reconPic" title='x265::FrameData::m_reconPic' data-ref="x265::FrameData::m_reconPic" data-ref-filename="x265..FrameData..m_reconPic">m_reconPic</a>;</td></tr>
<tr><th id="606">606</th><td>    <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col8 decl" id="398adiOrigin" title='adiOrigin' data-type='pixel *' data-ref="398adiOrigin" data-ref-filename="398adiOrigin">adiOrigin</dfn> = <a class="local col7 ref" href="#397reconPic" title='reconPic' data-ref="397reconPic" data-ref-filename="397reconPic">reconPic</a>-&gt;<a class="ref fn" href="picyuv.h.html#_ZN4x2656PicYuv11getLumaAddrEjj" title='x265::PicYuv::getLumaAddr' data-ref="_ZN4x2656PicYuv11getLumaAddrEjj" data-ref-filename="_ZN4x2656PicYuv11getLumaAddrEjj">getLumaAddr</a>(<a class="local col0 ref" href="#390cu" title='cu' data-ref="390cu" data-ref-filename="390cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_cuAddr" title='x265::CUData::m_cuAddr' data-ref="x265::CUData::m_cuAddr" data-ref-filename="x265..CUData..m_cuAddr">m_cuAddr</a>, <a class="local col1 ref" href="#391cuGeom" title='cuGeom' data-ref="391cuGeom" data-ref-filename="391cuGeom">cuGeom</a>.<a class="ref field" href="cudata.h.html#x265::CUGeom::absPartIdx" title='x265::CUGeom::absPartIdx' data-ref="x265::CUGeom::absPartIdx" data-ref-filename="x265..CUGeom..absPartIdx">absPartIdx</a> + <a class="local col2 ref" href="#392puAbsPartIdx" title='puAbsPartIdx' data-ref="392puAbsPartIdx" data-ref-filename="392puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="607">607</th><td>    <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col9 decl" id="399picStride" title='picStride' data-type='intptr_t' data-ref="399picStride" data-ref-filename="399picStride">picStride</dfn> = <a class="local col7 ref" href="#397reconPic" title='reconPic' data-ref="397reconPic" data-ref-filename="397reconPic">reconPic</a>-&gt;<a class="ref field" href="picyuv.h.html#x265::PicYuv::m_stride" title='x265::PicYuv::m_stride' data-ref="x265::PicYuv::m_stride" data-ref-filename="x265..PicYuv..m_stride">m_stride</a>;</td></tr>
<tr><th id="608">608</th><td></td></tr>
<tr><th id="609">609</th><td>    <a class="member fn" href="#_ZN4x2657Predict20fillReferenceSamplesEPKhlRKNS0_14IntraNeighborsEPh" title='x265::Predict::fillReferenceSamples' data-ref="_ZN4x2657Predict20fillReferenceSamplesEPKhlRKNS0_14IntraNeighborsEPh" data-ref-filename="_ZN4x2657Predict20fillReferenceSamplesEPKhlRKNS0_14IntraNeighborsEPh">fillReferenceSamples</a>(<a class="local col8 ref" href="#398adiOrigin" title='adiOrigin' data-ref="398adiOrigin" data-ref-filename="398adiOrigin">adiOrigin</a>, <a class="local col9 ref" href="#399picStride" title='picStride' data-ref="399picStride" data-ref-filename="399picStride">picStride</a>, <a class="local col3 ref" href="#393intraNeighbors" title='intraNeighbors' data-ref="393intraNeighbors" data-ref-filename="393intraNeighbors">intraNeighbors</a>, <a class="member field" href="predict.h.html#x265::Predict::intraNeighbourBuf" title='x265::Predict::intraNeighbourBuf' data-ref="x265::Predict::intraNeighbourBuf" data-ref-filename="x265..Predict..intraNeighbourBuf">intraNeighbourBuf</a>[<var>0</var>]);</td></tr>
<tr><th id="610">610</th><td></td></tr>
<tr><th id="611">611</th><td>    <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col0 decl" id="400refBuf" title='refBuf' data-type='pixel *' data-ref="400refBuf" data-ref-filename="400refBuf">refBuf</dfn> = <a class="member field" href="predict.h.html#x265::Predict::intraNeighbourBuf" title='x265::Predict::intraNeighbourBuf' data-ref="x265::Predict::intraNeighbourBuf" data-ref-filename="x265..Predict..intraNeighbourBuf">intraNeighbourBuf</a>[<var>0</var>];</td></tr>
<tr><th id="612">612</th><td>    <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col1 decl" id="401fltBuf" title='fltBuf' data-type='pixel *' data-ref="401fltBuf" data-ref-filename="401fltBuf">fltBuf</dfn> = <a class="member field" href="predict.h.html#x265::Predict::intraNeighbourBuf" title='x265::Predict::intraNeighbourBuf' data-ref="x265::Predict::intraNeighbourBuf" data-ref-filename="x265..Predict..intraNeighbourBuf">intraNeighbourBuf</a>[<var>1</var>];</td></tr>
<tr><th id="613">613</th><td></td></tr>
<tr><th id="614">614</th><td>    <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> <dfn class="local col2 decl" id="402topLeft" title='topLeft' data-type='pixel' data-ref="402topLeft" data-ref-filename="402topLeft">topLeft</dfn> = <a class="local col0 ref" href="#400refBuf" title='refBuf' data-ref="400refBuf" data-ref-filename="400refBuf">refBuf</a>[<var>0</var>], <dfn class="local col3 decl" id="403topLast" title='topLast' data-type='pixel' data-ref="403topLast" data-ref-filename="403topLast">topLast</dfn> = <a class="local col0 ref" href="#400refBuf" title='refBuf' data-ref="400refBuf" data-ref-filename="400refBuf">refBuf</a>[<a class="local col6 ref" href="#396tuSize2" title='tuSize2' data-ref="396tuSize2" data-ref-filename="396tuSize2">tuSize2</a>], <dfn class="local col4 decl" id="404leftLast" title='leftLast' data-type='pixel' data-ref="404leftLast" data-ref-filename="404leftLast">leftLast</dfn> = <a class="local col0 ref" href="#400refBuf" title='refBuf' data-ref="400refBuf" data-ref-filename="400refBuf">refBuf</a>[<a class="local col6 ref" href="#396tuSize2" title='tuSize2' data-ref="396tuSize2" data-ref-filename="396tuSize2">tuSize2</a> + <a class="local col6 ref" href="#396tuSize2" title='tuSize2' data-ref="396tuSize2" data-ref-filename="396tuSize2">tuSize2</a>];</td></tr>
<tr><th id="615">615</th><td></td></tr>
<tr><th id="616">616</th><td>    <b>if</b> (<a class="local col4 ref" href="#394dirMode" title='dirMode' data-ref="394dirMode" data-ref-filename="394dirMode">dirMode</a> == <a class="macro" href="common.h.html#307" title="-1" data-ref="_M/ALL_IDX">ALL_IDX</a> ? (<var>8</var> | <var>16</var> | <var>32</var>) &amp; <a class="local col5 ref" href="#395tuSize" title='tuSize' data-ref="395tuSize" data-ref-filename="395tuSize">tuSize</a> : <a class="ref" href="constants.h.html#x265::g_intraFilterFlags" title='x265::g_intraFilterFlags' data-ref="x265::g_intraFilterFlags" data-ref-filename="x265..g_intraFilterFlags">g_intraFilterFlags</a>[<a class="local col4 ref" href="#394dirMode" title='dirMode' data-ref="394dirMode" data-ref-filename="394dirMode">dirMode</a>] &amp; <a class="local col5 ref" href="#395tuSize" title='tuSize' data-ref="395tuSize" data-ref-filename="395tuSize">tuSize</a>)</td></tr>
<tr><th id="617">617</th><td>    {</td></tr>
<tr><th id="618">618</th><td>        <i>// generate filtered intra prediction samples</i></td></tr>
<tr><th id="619">619</th><td></td></tr>
<tr><th id="620">620</th><td>        <b>if</b> (<a class="local col0 ref" href="#390cu" title='cu' data-ref="390cu" data-ref-filename="390cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_sps" title='x265::Slice::m_sps' data-ref="x265::Slice::m_sps" data-ref-filename="x265..Slice..m_sps">m_sps</a>-&gt;<a class="ref field" href="slice.h.html#x265::SPS::bUseStrongIntraSmoothing" title='x265::SPS::bUseStrongIntraSmoothing' data-ref="x265::SPS::bUseStrongIntraSmoothing" data-ref-filename="x265..SPS..bUseStrongIntraSmoothing">bUseStrongIntraSmoothing</a> &amp;&amp; <a class="local col5 ref" href="#395tuSize" title='tuSize' data-ref="395tuSize" data-ref-filename="395tuSize">tuSize</a> == <var>32</var>)</td></tr>
<tr><th id="621">621</th><td>        {</td></tr>
<tr><th id="622">622</th><td>            <em>const</em> <em>int</em> <dfn class="local col5 decl" id="405threshold" title='threshold' data-type='const int' data-ref="405threshold" data-ref-filename="405threshold">threshold</dfn> = <var>1</var> &lt;&lt; (<span class="macro" title="8" data-ref="_M/X265_DEPTH">X265_DEPTH</span> - <var>5</var>);</td></tr>
<tr><th id="623">623</th><td></td></tr>
<tr><th id="624">624</th><td>            <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> <dfn class="local col6 decl" id="406topMiddle" title='topMiddle' data-type='pixel' data-ref="406topMiddle" data-ref-filename="406topMiddle">topMiddle</dfn> = <a class="local col0 ref" href="#400refBuf" title='refBuf' data-ref="400refBuf" data-ref-filename="400refBuf">refBuf</a>[<var>32</var>], <dfn class="local col7 decl" id="407leftMiddle" title='leftMiddle' data-type='pixel' data-ref="407leftMiddle" data-ref-filename="407leftMiddle">leftMiddle</dfn> = <a class="local col0 ref" href="#400refBuf" title='refBuf' data-ref="400refBuf" data-ref-filename="400refBuf">refBuf</a>[<a class="local col6 ref" href="#396tuSize2" title='tuSize2' data-ref="396tuSize2" data-ref-filename="396tuSize2">tuSize2</a> + <var>32</var>];</td></tr>
<tr><th id="625">625</th><td></td></tr>
<tr><th id="626">626</th><td>            <b>if</b> (<a class="ref fn" href="../../../include/stdlib.h.html#abs" title='abs' data-ref="abs" data-ref-filename="abs">abs</a>(<a class="local col2 ref" href="#402topLeft" title='topLeft' data-ref="402topLeft" data-ref-filename="402topLeft">topLeft</a> + <a class="local col3 ref" href="#403topLast" title='topLast' data-ref="403topLast" data-ref-filename="403topLast">topLast</a>  - (<a class="local col6 ref" href="#406topMiddle" title='topMiddle' data-ref="406topMiddle" data-ref-filename="406topMiddle">topMiddle</a>  &lt;&lt; <var>1</var>)) &lt; <a class="local col5 ref" href="#405threshold" title='threshold' data-ref="405threshold" data-ref-filename="405threshold">threshold</a> &amp;&amp;</td></tr>
<tr><th id="627">627</th><td>                <a class="ref fn" href="../../../include/stdlib.h.html#abs" title='abs' data-ref="abs" data-ref-filename="abs">abs</a>(<a class="local col2 ref" href="#402topLeft" title='topLeft' data-ref="402topLeft" data-ref-filename="402topLeft">topLeft</a> + <a class="local col4 ref" href="#404leftLast" title='leftLast' data-ref="404leftLast" data-ref-filename="404leftLast">leftLast</a> - (<a class="local col7 ref" href="#407leftMiddle" title='leftMiddle' data-ref="407leftMiddle" data-ref-filename="407leftMiddle">leftMiddle</a> &lt;&lt; <var>1</var>)) &lt; <a class="local col5 ref" href="#405threshold" title='threshold' data-ref="405threshold" data-ref-filename="405threshold">threshold</a>)</td></tr>
<tr><th id="628">628</th><td>            {</td></tr>
<tr><th id="629">629</th><td>                <i>// "strong" bilinear interpolation</i></td></tr>
<tr><th id="630">630</th><td>                <em>const</em> <em>int</em> <dfn class="local col8 decl" id="408shift" title='shift' data-type='const int' data-ref="408shift" data-ref-filename="408shift">shift</dfn> = <var>5</var> + <var>1</var>;</td></tr>
<tr><th id="631">631</th><td>                <em>int</em> <dfn class="local col9 decl" id="409init" title='init' data-type='int' data-ref="409init" data-ref-filename="409init">init</dfn> = (<a class="local col2 ref" href="#402topLeft" title='topLeft' data-ref="402topLeft" data-ref-filename="402topLeft">topLeft</a> &lt;&lt; <a class="local col8 ref" href="#408shift" title='shift' data-ref="408shift" data-ref-filename="408shift">shift</a>) + <a class="local col5 ref" href="#395tuSize" title='tuSize' data-ref="395tuSize" data-ref-filename="395tuSize">tuSize</a>;</td></tr>
<tr><th id="632">632</th><td>                <em>int</em> <dfn class="local col0 decl" id="410deltaL" title='deltaL' data-type='int' data-ref="410deltaL" data-ref-filename="410deltaL">deltaL</dfn>, <dfn class="local col1 decl" id="411deltaR" title='deltaR' data-type='int' data-ref="411deltaR" data-ref-filename="411deltaR">deltaR</dfn>;</td></tr>
<tr><th id="633">633</th><td></td></tr>
<tr><th id="634">634</th><td>                <a class="local col0 ref" href="#410deltaL" title='deltaL' data-ref="410deltaL" data-ref-filename="410deltaL">deltaL</a> = <a class="local col4 ref" href="#404leftLast" title='leftLast' data-ref="404leftLast" data-ref-filename="404leftLast">leftLast</a> - <a class="local col2 ref" href="#402topLeft" title='topLeft' data-ref="402topLeft" data-ref-filename="402topLeft">topLeft</a>; <a class="local col1 ref" href="#411deltaR" title='deltaR' data-ref="411deltaR" data-ref-filename="411deltaR">deltaR</a> = <a class="local col3 ref" href="#403topLast" title='topLast' data-ref="403topLast" data-ref-filename="403topLast">topLast</a> - <a class="local col2 ref" href="#402topLeft" title='topLeft' data-ref="402topLeft" data-ref-filename="402topLeft">topLeft</a>;</td></tr>
<tr><th id="635">635</th><td></td></tr>
<tr><th id="636">636</th><td>                <a class="local col1 ref" href="#401fltBuf" title='fltBuf' data-ref="401fltBuf" data-ref-filename="401fltBuf">fltBuf</a>[<var>0</var>] = <a class="local col2 ref" href="#402topLeft" title='topLeft' data-ref="402topLeft" data-ref-filename="402topLeft">topLeft</a>;</td></tr>
<tr><th id="637">637</th><td>                <b>for</b> (<em>int</em> <dfn class="local col2 decl" id="412i" title='i' data-type='int' data-ref="412i" data-ref-filename="412i">i</dfn> = <var>1</var>; <a class="local col2 ref" href="#412i" title='i' data-ref="412i" data-ref-filename="412i">i</a> &lt; <a class="local col6 ref" href="#396tuSize2" title='tuSize2' data-ref="396tuSize2" data-ref-filename="396tuSize2">tuSize2</a>; <a class="local col2 ref" href="#412i" title='i' data-ref="412i" data-ref-filename="412i">i</a>++)</td></tr>
<tr><th id="638">638</th><td>                {</td></tr>
<tr><th id="639">639</th><td>                    <a class="local col1 ref" href="#401fltBuf" title='fltBuf' data-ref="401fltBuf" data-ref-filename="401fltBuf">fltBuf</a>[<a class="local col2 ref" href="#412i" title='i' data-ref="412i" data-ref-filename="412i">i</a> + <a class="local col6 ref" href="#396tuSize2" title='tuSize2' data-ref="396tuSize2" data-ref-filename="396tuSize2">tuSize2</a>] = (<a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>)((<a class="local col9 ref" href="#409init" title='init' data-ref="409init" data-ref-filename="409init">init</a> + <a class="local col0 ref" href="#410deltaL" title='deltaL' data-ref="410deltaL" data-ref-filename="410deltaL">deltaL</a> * <a class="local col2 ref" href="#412i" title='i' data-ref="412i" data-ref-filename="412i">i</a>) &gt;&gt; <a class="local col8 ref" href="#408shift" title='shift' data-ref="408shift" data-ref-filename="408shift">shift</a>); <i>// Left Filtering</i></td></tr>
<tr><th id="640">640</th><td>                    <a class="local col1 ref" href="#401fltBuf" title='fltBuf' data-ref="401fltBuf" data-ref-filename="401fltBuf">fltBuf</a>[<a class="local col2 ref" href="#412i" title='i' data-ref="412i" data-ref-filename="412i">i</a>] = (<a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>)((<a class="local col9 ref" href="#409init" title='init' data-ref="409init" data-ref-filename="409init">init</a> + <a class="local col1 ref" href="#411deltaR" title='deltaR' data-ref="411deltaR" data-ref-filename="411deltaR">deltaR</a> * <a class="local col2 ref" href="#412i" title='i' data-ref="412i" data-ref-filename="412i">i</a>) &gt;&gt; <a class="local col8 ref" href="#408shift" title='shift' data-ref="408shift" data-ref-filename="408shift">shift</a>);           <i>// Above Filtering</i></td></tr>
<tr><th id="641">641</th><td>                }</td></tr>
<tr><th id="642">642</th><td>                <a class="local col1 ref" href="#401fltBuf" title='fltBuf' data-ref="401fltBuf" data-ref-filename="401fltBuf">fltBuf</a>[<a class="local col6 ref" href="#396tuSize2" title='tuSize2' data-ref="396tuSize2" data-ref-filename="396tuSize2">tuSize2</a>] = <a class="local col3 ref" href="#403topLast" title='topLast' data-ref="403topLast" data-ref-filename="403topLast">topLast</a>;</td></tr>
<tr><th id="643">643</th><td>                <a class="local col1 ref" href="#401fltBuf" title='fltBuf' data-ref="401fltBuf" data-ref-filename="401fltBuf">fltBuf</a>[<a class="local col6 ref" href="#396tuSize2" title='tuSize2' data-ref="396tuSize2" data-ref-filename="396tuSize2">tuSize2</a> + <a class="local col6 ref" href="#396tuSize2" title='tuSize2' data-ref="396tuSize2" data-ref-filename="396tuSize2">tuSize2</a>] = <a class="local col4 ref" href="#404leftLast" title='leftLast' data-ref="404leftLast" data-ref-filename="404leftLast">leftLast</a>;</td></tr>
<tr><th id="644">644</th><td>                <b>return</b>;</td></tr>
<tr><th id="645">645</th><td>            }</td></tr>
<tr><th id="646">646</th><td>        }</td></tr>
<tr><th id="647">647</th><td></td></tr>
<tr><th id="648">648</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::cu" title='x265::EncoderPrimitives::cu' data-ref="x265::EncoderPrimitives::cu" data-ref-filename="x265..EncoderPrimitives..cu">cu</a>[<a class="local col3 ref" href="#393intraNeighbors" title='intraNeighbors' data-ref="393intraNeighbors" data-ref-filename="393intraNeighbors">intraNeighbors</a>.<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::log2TrSize" title='x265::Predict::IntraNeighbors::log2TrSize' data-ref="x265::Predict::IntraNeighbors::log2TrSize" data-ref-filename="x265..Predict..IntraNeighbors..log2TrSize">log2TrSize</a> - <var>2</var>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::CU::intra_filter" title='x265::EncoderPrimitives::CU::intra_filter' data-ref="x265::EncoderPrimitives::CU::intra_filter" data-ref-filename="x265..EncoderPrimitives..CU..intra_filter">intra_filter</a>(<a class="local col0 ref" href="#400refBuf" title='refBuf' data-ref="400refBuf" data-ref-filename="400refBuf">refBuf</a>, <a class="local col1 ref" href="#401fltBuf" title='fltBuf' data-ref="401fltBuf" data-ref-filename="401fltBuf">fltBuf</a>);</td></tr>
<tr><th id="649">649</th><td>    }</td></tr>
<tr><th id="650">650</th><td>}</td></tr>
<tr><th id="651">651</th><td></td></tr>
<tr><th id="652">652</th><td><em>void</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657Predict20initAdiPatternChromaERKNS_6CUDataERKNS_6CUGeomEjRKNS0_14IntraNeighborsEj" title='x265::Predict::initAdiPatternChroma' data-ref="_ZN4x2657Predict20initAdiPatternChromaERKNS_6CUDataERKNS_6CUGeomEjRKNS0_14IntraNeighborsEj" data-ref-filename="_ZN4x2657Predict20initAdiPatternChromaERKNS_6CUDataERKNS_6CUGeomEjRKNS0_14IntraNeighborsEj">initAdiPatternChroma</dfn>(<em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>&amp; <dfn class="local col3 decl" id="413cu" title='cu' data-type='const x265::CUData &amp;' data-ref="413cu" data-ref-filename="413cu">cu</dfn>, <em>const</em> <a class="type" href="cudata.h.html#x265::CUGeom" title='x265::CUGeom' data-ref="x265::CUGeom" data-ref-filename="x265..CUGeom">CUGeom</a>&amp; <dfn class="local col4 decl" id="414cuGeom" title='cuGeom' data-type='const x265::CUGeom &amp;' data-ref="414cuGeom" data-ref-filename="414cuGeom">cuGeom</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="415puAbsPartIdx" title='puAbsPartIdx' data-type='uint32_t' data-ref="415puAbsPartIdx" data-ref-filename="415puAbsPartIdx">puAbsPartIdx</dfn>, <em>const</em> <a class="type" href="predict.h.html#x265::Predict::IntraNeighbors" title='x265::Predict::IntraNeighbors' data-ref="x265::Predict::IntraNeighbors" data-ref-filename="x265..Predict..IntraNeighbors">IntraNeighbors</a>&amp; <dfn class="local col6 decl" id="416intraNeighbors" title='intraNeighbors' data-type='const x265::Predict::IntraNeighbors &amp;' data-ref="416intraNeighbors" data-ref-filename="416intraNeighbors">intraNeighbors</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="417chromaId" title='chromaId' data-type='uint32_t' data-ref="417chromaId" data-ref-filename="417chromaId">chromaId</dfn>)</td></tr>
<tr><th id="653">653</th><td>{</td></tr>
<tr><th id="654">654</th><td>    <a class="type" href="picyuv.h.html#x265::PicYuv" title='x265::PicYuv' data-ref="x265::PicYuv" data-ref-filename="x265..PicYuv">PicYuv</a>* <dfn class="local col8 decl" id="418reconPic" title='reconPic' data-type='x265::PicYuv *' data-ref="418reconPic" data-ref-filename="418reconPic">reconPic</dfn> = <a class="local col3 ref" href="#413cu" title='cu' data-ref="413cu" data-ref-filename="413cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_encData" title='x265::CUData::m_encData' data-ref="x265::CUData::m_encData" data-ref-filename="x265..CUData..m_encData">m_encData</a>-&gt;<a class="ref field" href="framedata.h.html#x265::FrameData::m_reconPic" title='x265::FrameData::m_reconPic' data-ref="x265::FrameData::m_reconPic" data-ref-filename="x265..FrameData..m_reconPic">m_reconPic</a>;</td></tr>
<tr><th id="655">655</th><td>    <em>const</em> <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col9 decl" id="419adiOrigin" title='adiOrigin' data-type='const pixel *' data-ref="419adiOrigin" data-ref-filename="419adiOrigin">adiOrigin</dfn> = <a class="local col8 ref" href="#418reconPic" title='reconPic' data-ref="418reconPic" data-ref-filename="418reconPic">reconPic</a>-&gt;<a class="ref fn" href="picyuv.h.html#_ZN4x2656PicYuv13getChromaAddrEjjj" title='x265::PicYuv::getChromaAddr' data-ref="_ZN4x2656PicYuv13getChromaAddrEjjj" data-ref-filename="_ZN4x2656PicYuv13getChromaAddrEjjj">getChromaAddr</a>(<a class="local col7 ref" href="#417chromaId" title='chromaId' data-ref="417chromaId" data-ref-filename="417chromaId">chromaId</a>, <a class="local col3 ref" href="#413cu" title='cu' data-ref="413cu" data-ref-filename="413cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_cuAddr" title='x265::CUData::m_cuAddr' data-ref="x265::CUData::m_cuAddr" data-ref-filename="x265..CUData..m_cuAddr">m_cuAddr</a>, <a class="local col4 ref" href="#414cuGeom" title='cuGeom' data-ref="414cuGeom" data-ref-filename="414cuGeom">cuGeom</a>.<a class="ref field" href="cudata.h.html#x265::CUGeom::absPartIdx" title='x265::CUGeom::absPartIdx' data-ref="x265::CUGeom::absPartIdx" data-ref-filename="x265..CUGeom..absPartIdx">absPartIdx</a> + <a class="local col5 ref" href="#415puAbsPartIdx" title='puAbsPartIdx' data-ref="415puAbsPartIdx" data-ref-filename="415puAbsPartIdx">puAbsPartIdx</a>);</td></tr>
<tr><th id="656">656</th><td>    <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col0 decl" id="420picStride" title='picStride' data-type='intptr_t' data-ref="420picStride" data-ref-filename="420picStride">picStride</dfn> = <a class="local col8 ref" href="#418reconPic" title='reconPic' data-ref="418reconPic" data-ref-filename="418reconPic">reconPic</a>-&gt;<a class="ref field" href="picyuv.h.html#x265::PicYuv::m_strideC" title='x265::PicYuv::m_strideC' data-ref="x265::PicYuv::m_strideC" data-ref-filename="x265..PicYuv..m_strideC">m_strideC</a>;</td></tr>
<tr><th id="657">657</th><td></td></tr>
<tr><th id="658">658</th><td>    <a class="member fn" href="#_ZN4x2657Predict20fillReferenceSamplesEPKhlRKNS0_14IntraNeighborsEPh" title='x265::Predict::fillReferenceSamples' data-ref="_ZN4x2657Predict20fillReferenceSamplesEPKhlRKNS0_14IntraNeighborsEPh" data-ref-filename="_ZN4x2657Predict20fillReferenceSamplesEPKhlRKNS0_14IntraNeighborsEPh">fillReferenceSamples</a>(<a class="local col9 ref" href="#419adiOrigin" title='adiOrigin' data-ref="419adiOrigin" data-ref-filename="419adiOrigin">adiOrigin</a>, <a class="local col0 ref" href="#420picStride" title='picStride' data-ref="420picStride" data-ref-filename="420picStride">picStride</a>, <a class="local col6 ref" href="#416intraNeighbors" title='intraNeighbors' data-ref="416intraNeighbors" data-ref-filename="416intraNeighbors">intraNeighbors</a>, <a class="member field" href="predict.h.html#x265::Predict::intraNeighbourBuf" title='x265::Predict::intraNeighbourBuf' data-ref="x265::Predict::intraNeighbourBuf" data-ref-filename="x265..Predict..intraNeighbourBuf">intraNeighbourBuf</a>[<var>0</var>]);</td></tr>
<tr><th id="659">659</th><td></td></tr>
<tr><th id="660">660</th><td>    <b>if</b> (<a class="member field" href="predict.h.html#x265::Predict::m_csp" title='x265::Predict::m_csp' data-ref="x265::Predict::m_csp" data-ref-filename="x265..Predict..m_csp">m_csp</a> == <a class="macro" href="../x265.h.html#591" title="3" data-ref="_M/X265_CSP_I444">X265_CSP_I444</a>)</td></tr>
<tr><th id="661">661</th><td>        <a class="ref" href="primitives.h.html#x265::primitives" title='x265::primitives' data-ref="x265::primitives" data-ref-filename="x265..primitives">primitives</a>.<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::cu" title='x265::EncoderPrimitives::cu' data-ref="x265::EncoderPrimitives::cu" data-ref-filename="x265..EncoderPrimitives..cu">cu</a>[<a class="local col6 ref" href="#416intraNeighbors" title='intraNeighbors' data-ref="416intraNeighbors" data-ref-filename="416intraNeighbors">intraNeighbors</a>.<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::log2TrSize" title='x265::Predict::IntraNeighbors::log2TrSize' data-ref="x265::Predict::IntraNeighbors::log2TrSize" data-ref-filename="x265..Predict..IntraNeighbors..log2TrSize">log2TrSize</a> - <var>2</var>].<a class="ref field" href="primitives.h.html#x265::EncoderPrimitives::CU::intra_filter" title='x265::EncoderPrimitives::CU::intra_filter' data-ref="x265::EncoderPrimitives::CU::intra_filter" data-ref-filename="x265..EncoderPrimitives..CU..intra_filter">intra_filter</a>(<a class="member field" href="predict.h.html#x265::Predict::intraNeighbourBuf" title='x265::Predict::intraNeighbourBuf' data-ref="x265::Predict::intraNeighbourBuf" data-ref-filename="x265..Predict..intraNeighbourBuf">intraNeighbourBuf</a>[<var>0</var>], <a class="member field" href="predict.h.html#x265::Predict::intraNeighbourBuf" title='x265::Predict::intraNeighbourBuf' data-ref="x265::Predict::intraNeighbourBuf" data-ref-filename="x265..Predict..intraNeighbourBuf">intraNeighbourBuf</a>[<var>1</var>]);</td></tr>
<tr><th id="662">662</th><td>}</td></tr>
<tr><th id="663">663</th><td></td></tr>
<tr><th id="664">664</th><td><em>void</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657Predict18initIntraNeighborsERKNS_6CUDataEjjbPNS0_14IntraNeighborsE" title='x265::Predict::initIntraNeighbors' data-ref="_ZN4x2657Predict18initIntraNeighborsERKNS_6CUDataEjjbPNS0_14IntraNeighborsE" data-ref-filename="_ZN4x2657Predict18initIntraNeighborsERKNS_6CUDataEjjbPNS0_14IntraNeighborsE">initIntraNeighbors</dfn>(<em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>&amp; <dfn class="local col1 decl" id="421cu" title='cu' data-type='const x265::CUData &amp;' data-ref="421cu" data-ref-filename="421cu">cu</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col2 decl" id="422absPartIdx" title='absPartIdx' data-type='uint32_t' data-ref="422absPartIdx" data-ref-filename="422absPartIdx">absPartIdx</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="423tuDepth" title='tuDepth' data-type='uint32_t' data-ref="423tuDepth" data-ref-filename="423tuDepth">tuDepth</dfn>, <em>bool</em> <dfn class="local col4 decl" id="424isLuma" title='isLuma' data-type='bool' data-ref="424isLuma" data-ref-filename="424isLuma">isLuma</dfn>, <a class="type" href="predict.h.html#x265::Predict::IntraNeighbors" title='x265::Predict::IntraNeighbors' data-ref="x265::Predict::IntraNeighbors" data-ref-filename="x265..Predict..IntraNeighbors">IntraNeighbors</a> *<dfn class="local col5 decl" id="425intraNeighbors" title='intraNeighbors' data-type='x265::Predict::IntraNeighbors *' data-ref="425intraNeighbors" data-ref-filename="425intraNeighbors">intraNeighbors</dfn>)</td></tr>
<tr><th id="665">665</th><td>{</td></tr>
<tr><th id="666">666</th><td>    <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="426log2TrSize" title='log2TrSize' data-type='uint32_t' data-ref="426log2TrSize" data-ref-filename="426log2TrSize">log2TrSize</dfn> = <a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_log2CUSize" title='x265::CUData::m_log2CUSize' data-ref="x265::CUData::m_log2CUSize" data-ref-filename="x265..CUData..m_log2CUSize">m_log2CUSize</a>[<var>0</var>] - <a class="local col3 ref" href="#423tuDepth" title='tuDepth' data-ref="423tuDepth" data-ref-filename="423tuDepth">tuDepth</a>;</td></tr>
<tr><th id="667">667</th><td>    <em>int</em> <dfn class="local col7 decl" id="427log2UnitWidth" title='log2UnitWidth' data-type='int' data-ref="427log2UnitWidth" data-ref-filename="427log2UnitWidth">log2UnitWidth</dfn> = <a class="macro" href="common.h.html#259" title="2" data-ref="_M/LOG2_UNIT_SIZE">LOG2_UNIT_SIZE</a>;</td></tr>
<tr><th id="668">668</th><td>    <em>int</em> <dfn class="local col8 decl" id="428log2UnitHeight" title='log2UnitHeight' data-type='int' data-ref="428log2UnitHeight" data-ref-filename="428log2UnitHeight">log2UnitHeight</dfn> = <a class="macro" href="common.h.html#259" title="2" data-ref="_M/LOG2_UNIT_SIZE">LOG2_UNIT_SIZE</a>;</td></tr>
<tr><th id="669">669</th><td></td></tr>
<tr><th id="670">670</th><td>    <b>if</b> (!<a class="local col4 ref" href="#424isLuma" title='isLuma' data-ref="424isLuma" data-ref-filename="424isLuma">isLuma</a>)</td></tr>
<tr><th id="671">671</th><td>    {</td></tr>
<tr><th id="672">672</th><td>        <a class="local col6 ref" href="#426log2TrSize" title='log2TrSize' data-ref="426log2TrSize" data-ref-filename="426log2TrSize">log2TrSize</a> -= <a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_hChromaShift" title='x265::CUData::m_hChromaShift' data-ref="x265::CUData::m_hChromaShift" data-ref-filename="x265..CUData..m_hChromaShift">m_hChromaShift</a>;</td></tr>
<tr><th id="673">673</th><td>        <a class="local col7 ref" href="#427log2UnitWidth" title='log2UnitWidth' data-ref="427log2UnitWidth" data-ref-filename="427log2UnitWidth">log2UnitWidth</a> -= <a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_hChromaShift" title='x265::CUData::m_hChromaShift' data-ref="x265::CUData::m_hChromaShift" data-ref-filename="x265..CUData..m_hChromaShift">m_hChromaShift</a>;</td></tr>
<tr><th id="674">674</th><td>        <a class="local col8 ref" href="#428log2UnitHeight" title='log2UnitHeight' data-ref="428log2UnitHeight" data-ref-filename="428log2UnitHeight">log2UnitHeight</a> -= <a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_vChromaShift" title='x265::CUData::m_vChromaShift' data-ref="x265::CUData::m_vChromaShift" data-ref-filename="x265..CUData..m_vChromaShift">m_vChromaShift</a>;</td></tr>
<tr><th id="675">675</th><td>    }</td></tr>
<tr><th id="676">676</th><td></td></tr>
<tr><th id="677">677</th><td>    <em>int</em> <dfn class="local col9 decl" id="429numIntraNeighbor" title='numIntraNeighbor' data-type='int' data-ref="429numIntraNeighbor" data-ref-filename="429numIntraNeighbor">numIntraNeighbor</dfn>;</td></tr>
<tr><th id="678">678</th><td>    <em>bool</em>* <dfn class="local col0 decl" id="430bNeighborFlags" title='bNeighborFlags' data-type='bool *' data-ref="430bNeighborFlags" data-ref-filename="430bNeighborFlags">bNeighborFlags</dfn> = <a class="local col5 ref" href="#425intraNeighbors" title='intraNeighbors' data-ref="425intraNeighbors" data-ref-filename="425intraNeighbors">intraNeighbors</a>-&gt;<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::bNeighborFlags" title='x265::Predict::IntraNeighbors::bNeighborFlags' data-ref="x265::Predict::IntraNeighbors::bNeighborFlags" data-ref-filename="x265..Predict..IntraNeighbors..bNeighborFlags">bNeighborFlags</a>;</td></tr>
<tr><th id="679">679</th><td></td></tr>
<tr><th id="680">680</th><td>    <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="431tuSize" title='tuSize' data-type='uint32_t' data-ref="431tuSize" data-ref-filename="431tuSize">tuSize</dfn> = <var>1</var> &lt;&lt; <a class="local col6 ref" href="#426log2TrSize" title='log2TrSize' data-ref="426log2TrSize" data-ref-filename="426log2TrSize">log2TrSize</a>;</td></tr>
<tr><th id="681">681</th><td>    <em>int</em>  <dfn class="local col2 decl" id="432tuWidthInUnits" title='tuWidthInUnits' data-type='int' data-ref="432tuWidthInUnits" data-ref-filename="432tuWidthInUnits">tuWidthInUnits</dfn> = <a class="local col1 ref" href="#431tuSize" title='tuSize' data-ref="431tuSize" data-ref-filename="431tuSize">tuSize</a> &gt;&gt; <a class="local col7 ref" href="#427log2UnitWidth" title='log2UnitWidth' data-ref="427log2UnitWidth" data-ref-filename="427log2UnitWidth">log2UnitWidth</a>;</td></tr>
<tr><th id="682">682</th><td>    <em>int</em>  <dfn class="local col3 decl" id="433tuHeightInUnits" title='tuHeightInUnits' data-type='int' data-ref="433tuHeightInUnits" data-ref-filename="433tuHeightInUnits">tuHeightInUnits</dfn> = <a class="local col1 ref" href="#431tuSize" title='tuSize' data-ref="431tuSize" data-ref-filename="431tuSize">tuSize</a> &gt;&gt; <a class="local col8 ref" href="#428log2UnitHeight" title='log2UnitHeight' data-ref="428log2UnitHeight" data-ref-filename="428log2UnitHeight">log2UnitHeight</a>;</td></tr>
<tr><th id="683">683</th><td>    <em>int</em>  <dfn class="local col4 decl" id="434aboveUnits" title='aboveUnits' data-type='int' data-ref="434aboveUnits" data-ref-filename="434aboveUnits">aboveUnits</dfn> = <a class="local col2 ref" href="#432tuWidthInUnits" title='tuWidthInUnits' data-ref="432tuWidthInUnits" data-ref-filename="432tuWidthInUnits">tuWidthInUnits</a> &lt;&lt; <var>1</var>;</td></tr>
<tr><th id="684">684</th><td>    <em>int</em>  <dfn class="local col5 decl" id="435leftUnits" title='leftUnits' data-type='int' data-ref="435leftUnits" data-ref-filename="435leftUnits">leftUnits</dfn> = <a class="local col3 ref" href="#433tuHeightInUnits" title='tuHeightInUnits' data-ref="433tuHeightInUnits" data-ref-filename="433tuHeightInUnits">tuHeightInUnits</a> &lt;&lt; <var>1</var>;</td></tr>
<tr><th id="685">685</th><td>    <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="436partIdxLT" title='partIdxLT' data-type='uint32_t' data-ref="436partIdxLT" data-ref-filename="436partIdxLT">partIdxLT</dfn> = <a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_absIdxInCTU" title='x265::CUData::m_absIdxInCTU' data-ref="x265::CUData::m_absIdxInCTU" data-ref-filename="x265..CUData..m_absIdxInCTU">m_absIdxInCTU</a> + <a class="local col2 ref" href="#422absPartIdx" title='absPartIdx' data-ref="422absPartIdx" data-ref-filename="422absPartIdx">absPartIdx</a>;</td></tr>
<tr><th id="686">686</th><td>    <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="437partIdxRT" title='partIdxRT' data-type='uint32_t' data-ref="437partIdxRT" data-ref-filename="437partIdxRT">partIdxRT</dfn> = <a class="ref" href="constants.h.html#x265::g_rasterToZscan" title='x265::g_rasterToZscan' data-ref="x265::g_rasterToZscan" data-ref-filename="x265..g_rasterToZscan">g_rasterToZscan</a>[<a class="ref" href="constants.h.html#x265::g_zscanToRaster" title='x265::g_zscanToRaster' data-ref="x265::g_zscanToRaster" data-ref-filename="x265..g_zscanToRaster">g_zscanToRaster</a>[<a class="local col6 ref" href="#436partIdxLT" title='partIdxLT' data-ref="436partIdxLT" data-ref-filename="436partIdxLT">partIdxLT</a>] + <a class="local col2 ref" href="#432tuWidthInUnits" title='tuWidthInUnits' data-ref="432tuWidthInUnits" data-ref-filename="432tuWidthInUnits">tuWidthInUnits</a> - <var>1</var>];</td></tr>
<tr><th id="687">687</th><td>    <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="438partIdxLB" title='partIdxLB' data-type='uint32_t' data-ref="438partIdxLB" data-ref-filename="438partIdxLB">partIdxLB</dfn> = <a class="ref" href="constants.h.html#x265::g_rasterToZscan" title='x265::g_rasterToZscan' data-ref="x265::g_rasterToZscan" data-ref-filename="x265..g_rasterToZscan">g_rasterToZscan</a>[<a class="ref" href="constants.h.html#x265::g_zscanToRaster" title='x265::g_zscanToRaster' data-ref="x265::g_zscanToRaster" data-ref-filename="x265..g_zscanToRaster">g_zscanToRaster</a>[<a class="local col6 ref" href="#436partIdxLT" title='partIdxLT' data-ref="436partIdxLT" data-ref-filename="436partIdxLT">partIdxLT</a>] + ((<a class="local col3 ref" href="#433tuHeightInUnits" title='tuHeightInUnits' data-ref="433tuHeightInUnits" data-ref-filename="433tuHeightInUnits">tuHeightInUnits</a> - <var>1</var>) &lt;&lt; <a class="macro" href="common.h.html#262" title="(6 - 2)" data-ref="_M/LOG2_RASTER_SIZE">LOG2_RASTER_SIZE</a>)];</td></tr>
<tr><th id="688">688</th><td></td></tr>
<tr><th id="689">689</th><td>    <b>if</b> (<a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref fn" href="slice.h.html#_ZNK4x2655Slice7isIntraEv" title='x265::Slice::isIntra' data-ref="_ZNK4x2655Slice7isIntraEv" data-ref-filename="_ZNK4x2655Slice7isIntraEv">isIntra</a>() || !<a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>.<a class="ref field" href="cudata.h.html#x265::CUData::m_slice" title='x265::CUData::m_slice' data-ref="x265::CUData::m_slice" data-ref-filename="x265..CUData..m_slice">m_slice</a>-&gt;<a class="ref field" href="slice.h.html#x265::Slice::m_pps" title='x265::Slice::m_pps' data-ref="x265::Slice::m_pps" data-ref-filename="x265..Slice..m_pps">m_pps</a>-&gt;<a class="ref field" href="slice.h.html#x265::PPS::bConstrainedIntraPred" title='x265::PPS::bConstrainedIntraPred' data-ref="x265::PPS::bConstrainedIntraPred" data-ref-filename="x265..PPS..bConstrainedIntraPred">bConstrainedIntraPred</a>)</td></tr>
<tr><th id="690">690</th><td>    {</td></tr>
<tr><th id="691">691</th><td>        <a class="local col0 ref" href="#430bNeighborFlags" title='bNeighborFlags' data-ref="430bNeighborFlags" data-ref-filename="430bNeighborFlags">bNeighborFlags</a>[<a class="local col5 ref" href="#435leftUnits" title='leftUnits' data-ref="435leftUnits" data-ref-filename="435leftUnits">leftUnits</a>] = <a class="member fn" href="predict.h.html#_ZN4x2657Predict20isAboveLeftAvailableERKNS_6CUDataEj" title='x265::Predict::isAboveLeftAvailable' data-ref="_ZN4x2657Predict20isAboveLeftAvailableERKNS_6CUDataEj" data-ref-filename="_ZN4x2657Predict20isAboveLeftAvailableERKNS_6CUDataEj">isAboveLeftAvailable</a>&lt;<b>false</b>&gt;(<a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>, <a class="local col6 ref" href="#436partIdxLT" title='partIdxLT' data-ref="436partIdxLT" data-ref-filename="436partIdxLT">partIdxLT</a>);</td></tr>
<tr><th id="692">692</th><td>        <a class="local col9 ref" href="#429numIntraNeighbor" title='numIntraNeighbor' data-ref="429numIntraNeighbor" data-ref-filename="429numIntraNeighbor">numIntraNeighbor</a>  = (<em>int</em>)(<a class="local col0 ref" href="#430bNeighborFlags" title='bNeighborFlags' data-ref="430bNeighborFlags" data-ref-filename="430bNeighborFlags">bNeighborFlags</a>[<a class="local col5 ref" href="#435leftUnits" title='leftUnits' data-ref="435leftUnits" data-ref-filename="435leftUnits">leftUnits</a>]);</td></tr>
<tr><th id="693">693</th><td>        <a class="local col9 ref" href="#429numIntraNeighbor" title='numIntraNeighbor' data-ref="429numIntraNeighbor" data-ref-filename="429numIntraNeighbor">numIntraNeighbor</a> += <a class="member fn" href="predict.h.html#_ZN4x2657Predict16isAboveAvailableERKNS_6CUDataEjjPb" title='x265::Predict::isAboveAvailable' data-ref="_ZN4x2657Predict16isAboveAvailableERKNS_6CUDataEjjPb" data-ref-filename="_ZN4x2657Predict16isAboveAvailableERKNS_6CUDataEjjPb">isAboveAvailable</a>&lt;<b>false</b>&gt;(<a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>, <a class="local col6 ref" href="#436partIdxLT" title='partIdxLT' data-ref="436partIdxLT" data-ref-filename="436partIdxLT">partIdxLT</a>, <a class="local col7 ref" href="#437partIdxRT" title='partIdxRT' data-ref="437partIdxRT" data-ref-filename="437partIdxRT">partIdxRT</a>, <a class="local col0 ref" href="#430bNeighborFlags" title='bNeighborFlags' data-ref="430bNeighborFlags" data-ref-filename="430bNeighborFlags">bNeighborFlags</a> + <a class="local col5 ref" href="#435leftUnits" title='leftUnits' data-ref="435leftUnits" data-ref-filename="435leftUnits">leftUnits</a> + <var>1</var>);</td></tr>
<tr><th id="694">694</th><td>        <a class="local col9 ref" href="#429numIntraNeighbor" title='numIntraNeighbor' data-ref="429numIntraNeighbor" data-ref-filename="429numIntraNeighbor">numIntraNeighbor</a> += <a class="member fn" href="predict.h.html#_ZN4x2657Predict21isAboveRightAvailableERKNS_6CUDataEjPbj" title='x265::Predict::isAboveRightAvailable' data-ref="_ZN4x2657Predict21isAboveRightAvailableERKNS_6CUDataEjPbj" data-ref-filename="_ZN4x2657Predict21isAboveRightAvailableERKNS_6CUDataEjPbj">isAboveRightAvailable</a>&lt;<b>false</b>&gt;(<a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>, <a class="local col7 ref" href="#437partIdxRT" title='partIdxRT' data-ref="437partIdxRT" data-ref-filename="437partIdxRT">partIdxRT</a>, <a class="local col0 ref" href="#430bNeighborFlags" title='bNeighborFlags' data-ref="430bNeighborFlags" data-ref-filename="430bNeighborFlags">bNeighborFlags</a> + <a class="local col5 ref" href="#435leftUnits" title='leftUnits' data-ref="435leftUnits" data-ref-filename="435leftUnits">leftUnits</a> + <var>1</var> + <a class="local col2 ref" href="#432tuWidthInUnits" title='tuWidthInUnits' data-ref="432tuWidthInUnits" data-ref-filename="432tuWidthInUnits">tuWidthInUnits</a>, <a class="local col2 ref" href="#432tuWidthInUnits" title='tuWidthInUnits' data-ref="432tuWidthInUnits" data-ref-filename="432tuWidthInUnits">tuWidthInUnits</a>);</td></tr>
<tr><th id="695">695</th><td>        <a class="local col9 ref" href="#429numIntraNeighbor" title='numIntraNeighbor' data-ref="429numIntraNeighbor" data-ref-filename="429numIntraNeighbor">numIntraNeighbor</a> += <a class="member fn" href="predict.h.html#_ZN4x2657Predict15isLeftAvailableERKNS_6CUDataEjjPb" title='x265::Predict::isLeftAvailable' data-ref="_ZN4x2657Predict15isLeftAvailableERKNS_6CUDataEjjPb" data-ref-filename="_ZN4x2657Predict15isLeftAvailableERKNS_6CUDataEjjPb">isLeftAvailable</a>&lt;<b>false</b>&gt;(<a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>, <a class="local col6 ref" href="#436partIdxLT" title='partIdxLT' data-ref="436partIdxLT" data-ref-filename="436partIdxLT">partIdxLT</a>, <a class="local col8 ref" href="#438partIdxLB" title='partIdxLB' data-ref="438partIdxLB" data-ref-filename="438partIdxLB">partIdxLB</a>, <a class="local col0 ref" href="#430bNeighborFlags" title='bNeighborFlags' data-ref="430bNeighborFlags" data-ref-filename="430bNeighborFlags">bNeighborFlags</a> + <a class="local col5 ref" href="#435leftUnits" title='leftUnits' data-ref="435leftUnits" data-ref-filename="435leftUnits">leftUnits</a> - <var>1</var>);</td></tr>
<tr><th id="696">696</th><td>        <a class="local col9 ref" href="#429numIntraNeighbor" title='numIntraNeighbor' data-ref="429numIntraNeighbor" data-ref-filename="429numIntraNeighbor">numIntraNeighbor</a> += <a class="member fn" href="predict.h.html#_ZN4x2657Predict20isBelowLeftAvailableERKNS_6CUDataEjPbj" title='x265::Predict::isBelowLeftAvailable' data-ref="_ZN4x2657Predict20isBelowLeftAvailableERKNS_6CUDataEjPbj" data-ref-filename="_ZN4x2657Predict20isBelowLeftAvailableERKNS_6CUDataEjPbj">isBelowLeftAvailable</a>&lt;<b>false</b>&gt;(<a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>, <a class="local col8 ref" href="#438partIdxLB" title='partIdxLB' data-ref="438partIdxLB" data-ref-filename="438partIdxLB">partIdxLB</a>, <a class="local col0 ref" href="#430bNeighborFlags" title='bNeighborFlags' data-ref="430bNeighborFlags" data-ref-filename="430bNeighborFlags">bNeighborFlags</a> + <a class="local col3 ref" href="#433tuHeightInUnits" title='tuHeightInUnits' data-ref="433tuHeightInUnits" data-ref-filename="433tuHeightInUnits">tuHeightInUnits</a> - <var>1</var>, <a class="local col3 ref" href="#433tuHeightInUnits" title='tuHeightInUnits' data-ref="433tuHeightInUnits" data-ref-filename="433tuHeightInUnits">tuHeightInUnits</a>);</td></tr>
<tr><th id="697">697</th><td>    }</td></tr>
<tr><th id="698">698</th><td>    <b>else</b></td></tr>
<tr><th id="699">699</th><td>    {</td></tr>
<tr><th id="700">700</th><td>        <a class="local col0 ref" href="#430bNeighborFlags" title='bNeighborFlags' data-ref="430bNeighborFlags" data-ref-filename="430bNeighborFlags">bNeighborFlags</a>[<a class="local col5 ref" href="#435leftUnits" title='leftUnits' data-ref="435leftUnits" data-ref-filename="435leftUnits">leftUnits</a>] = <a class="member fn" href="predict.h.html#_ZN4x2657Predict20isAboveLeftAvailableERKNS_6CUDataEj" title='x265::Predict::isAboveLeftAvailable' data-ref="_ZN4x2657Predict20isAboveLeftAvailableERKNS_6CUDataEj" data-ref-filename="_ZN4x2657Predict20isAboveLeftAvailableERKNS_6CUDataEj">isAboveLeftAvailable</a>&lt;<b>true</b>&gt;(<a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>, <a class="local col6 ref" href="#436partIdxLT" title='partIdxLT' data-ref="436partIdxLT" data-ref-filename="436partIdxLT">partIdxLT</a>);</td></tr>
<tr><th id="701">701</th><td>        <a class="local col9 ref" href="#429numIntraNeighbor" title='numIntraNeighbor' data-ref="429numIntraNeighbor" data-ref-filename="429numIntraNeighbor">numIntraNeighbor</a>  = (<em>int</em>)(<a class="local col0 ref" href="#430bNeighborFlags" title='bNeighborFlags' data-ref="430bNeighborFlags" data-ref-filename="430bNeighborFlags">bNeighborFlags</a>[<a class="local col5 ref" href="#435leftUnits" title='leftUnits' data-ref="435leftUnits" data-ref-filename="435leftUnits">leftUnits</a>]);</td></tr>
<tr><th id="702">702</th><td>        <a class="local col9 ref" href="#429numIntraNeighbor" title='numIntraNeighbor' data-ref="429numIntraNeighbor" data-ref-filename="429numIntraNeighbor">numIntraNeighbor</a> += <a class="member fn" href="predict.h.html#_ZN4x2657Predict16isAboveAvailableERKNS_6CUDataEjjPb" title='x265::Predict::isAboveAvailable' data-ref="_ZN4x2657Predict16isAboveAvailableERKNS_6CUDataEjjPb" data-ref-filename="_ZN4x2657Predict16isAboveAvailableERKNS_6CUDataEjjPb">isAboveAvailable</a>&lt;<b>true</b>&gt;(<a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>, <a class="local col6 ref" href="#436partIdxLT" title='partIdxLT' data-ref="436partIdxLT" data-ref-filename="436partIdxLT">partIdxLT</a>, <a class="local col7 ref" href="#437partIdxRT" title='partIdxRT' data-ref="437partIdxRT" data-ref-filename="437partIdxRT">partIdxRT</a>, <a class="local col0 ref" href="#430bNeighborFlags" title='bNeighborFlags' data-ref="430bNeighborFlags" data-ref-filename="430bNeighborFlags">bNeighborFlags</a> + <a class="local col5 ref" href="#435leftUnits" title='leftUnits' data-ref="435leftUnits" data-ref-filename="435leftUnits">leftUnits</a> + <var>1</var>);</td></tr>
<tr><th id="703">703</th><td>        <a class="local col9 ref" href="#429numIntraNeighbor" title='numIntraNeighbor' data-ref="429numIntraNeighbor" data-ref-filename="429numIntraNeighbor">numIntraNeighbor</a> += <a class="member fn" href="predict.h.html#_ZN4x2657Predict21isAboveRightAvailableERKNS_6CUDataEjPbj" title='x265::Predict::isAboveRightAvailable' data-ref="_ZN4x2657Predict21isAboveRightAvailableERKNS_6CUDataEjPbj" data-ref-filename="_ZN4x2657Predict21isAboveRightAvailableERKNS_6CUDataEjPbj">isAboveRightAvailable</a>&lt;<b>true</b>&gt;(<a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>, <a class="local col7 ref" href="#437partIdxRT" title='partIdxRT' data-ref="437partIdxRT" data-ref-filename="437partIdxRT">partIdxRT</a>, <a class="local col0 ref" href="#430bNeighborFlags" title='bNeighborFlags' data-ref="430bNeighborFlags" data-ref-filename="430bNeighborFlags">bNeighborFlags</a> + <a class="local col5 ref" href="#435leftUnits" title='leftUnits' data-ref="435leftUnits" data-ref-filename="435leftUnits">leftUnits</a> + <var>1</var> + <a class="local col2 ref" href="#432tuWidthInUnits" title='tuWidthInUnits' data-ref="432tuWidthInUnits" data-ref-filename="432tuWidthInUnits">tuWidthInUnits</a>, <a class="local col2 ref" href="#432tuWidthInUnits" title='tuWidthInUnits' data-ref="432tuWidthInUnits" data-ref-filename="432tuWidthInUnits">tuWidthInUnits</a>);</td></tr>
<tr><th id="704">704</th><td>        <a class="local col9 ref" href="#429numIntraNeighbor" title='numIntraNeighbor' data-ref="429numIntraNeighbor" data-ref-filename="429numIntraNeighbor">numIntraNeighbor</a> += <a class="member fn" href="predict.h.html#_ZN4x2657Predict15isLeftAvailableERKNS_6CUDataEjjPb" title='x265::Predict::isLeftAvailable' data-ref="_ZN4x2657Predict15isLeftAvailableERKNS_6CUDataEjjPb" data-ref-filename="_ZN4x2657Predict15isLeftAvailableERKNS_6CUDataEjjPb">isLeftAvailable</a>&lt;<b>true</b>&gt;(<a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>, <a class="local col6 ref" href="#436partIdxLT" title='partIdxLT' data-ref="436partIdxLT" data-ref-filename="436partIdxLT">partIdxLT</a>, <a class="local col8 ref" href="#438partIdxLB" title='partIdxLB' data-ref="438partIdxLB" data-ref-filename="438partIdxLB">partIdxLB</a>, <a class="local col0 ref" href="#430bNeighborFlags" title='bNeighborFlags' data-ref="430bNeighborFlags" data-ref-filename="430bNeighborFlags">bNeighborFlags</a> + <a class="local col5 ref" href="#435leftUnits" title='leftUnits' data-ref="435leftUnits" data-ref-filename="435leftUnits">leftUnits</a> - <var>1</var>);</td></tr>
<tr><th id="705">705</th><td>        <a class="local col9 ref" href="#429numIntraNeighbor" title='numIntraNeighbor' data-ref="429numIntraNeighbor" data-ref-filename="429numIntraNeighbor">numIntraNeighbor</a> += <a class="member fn" href="predict.h.html#_ZN4x2657Predict20isBelowLeftAvailableERKNS_6CUDataEjPbj" title='x265::Predict::isBelowLeftAvailable' data-ref="_ZN4x2657Predict20isBelowLeftAvailableERKNS_6CUDataEjPbj" data-ref-filename="_ZN4x2657Predict20isBelowLeftAvailableERKNS_6CUDataEjPbj">isBelowLeftAvailable</a>&lt;<b>true</b>&gt;(<a class="local col1 ref" href="#421cu" title='cu' data-ref="421cu" data-ref-filename="421cu">cu</a>, <a class="local col8 ref" href="#438partIdxLB" title='partIdxLB' data-ref="438partIdxLB" data-ref-filename="438partIdxLB">partIdxLB</a>, <a class="local col0 ref" href="#430bNeighborFlags" title='bNeighborFlags' data-ref="430bNeighborFlags" data-ref-filename="430bNeighborFlags">bNeighborFlags</a> + <a class="local col3 ref" href="#433tuHeightInUnits" title='tuHeightInUnits' data-ref="433tuHeightInUnits" data-ref-filename="433tuHeightInUnits">tuHeightInUnits</a> - <var>1</var>, <a class="local col3 ref" href="#433tuHeightInUnits" title='tuHeightInUnits' data-ref="433tuHeightInUnits" data-ref-filename="433tuHeightInUnits">tuHeightInUnits</a>);</td></tr>
<tr><th id="706">706</th><td>    }</td></tr>
<tr><th id="707">707</th><td></td></tr>
<tr><th id="708">708</th><td>    <a class="local col5 ref" href="#425intraNeighbors" title='intraNeighbors' data-ref="425intraNeighbors" data-ref-filename="425intraNeighbors">intraNeighbors</a>-&gt;<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::numIntraNeighbor" title='x265::Predict::IntraNeighbors::numIntraNeighbor' data-ref="x265::Predict::IntraNeighbors::numIntraNeighbor" data-ref-filename="x265..Predict..IntraNeighbors..numIntraNeighbor">numIntraNeighbor</a> = <a class="local col9 ref" href="#429numIntraNeighbor" title='numIntraNeighbor' data-ref="429numIntraNeighbor" data-ref-filename="429numIntraNeighbor">numIntraNeighbor</a>;</td></tr>
<tr><th id="709">709</th><td>    <a class="local col5 ref" href="#425intraNeighbors" title='intraNeighbors' data-ref="425intraNeighbors" data-ref-filename="425intraNeighbors">intraNeighbors</a>-&gt;<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::totalUnits" title='x265::Predict::IntraNeighbors::totalUnits' data-ref="x265::Predict::IntraNeighbors::totalUnits" data-ref-filename="x265..Predict..IntraNeighbors..totalUnits">totalUnits</a> = <a class="local col4 ref" href="#434aboveUnits" title='aboveUnits' data-ref="434aboveUnits" data-ref-filename="434aboveUnits">aboveUnits</a> + <a class="local col5 ref" href="#435leftUnits" title='leftUnits' data-ref="435leftUnits" data-ref-filename="435leftUnits">leftUnits</a> + <var>1</var>;</td></tr>
<tr><th id="710">710</th><td>    <a class="local col5 ref" href="#425intraNeighbors" title='intraNeighbors' data-ref="425intraNeighbors" data-ref-filename="425intraNeighbors">intraNeighbors</a>-&gt;<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::aboveUnits" title='x265::Predict::IntraNeighbors::aboveUnits' data-ref="x265::Predict::IntraNeighbors::aboveUnits" data-ref-filename="x265..Predict..IntraNeighbors..aboveUnits">aboveUnits</a> = <a class="local col4 ref" href="#434aboveUnits" title='aboveUnits' data-ref="434aboveUnits" data-ref-filename="434aboveUnits">aboveUnits</a>;</td></tr>
<tr><th id="711">711</th><td>    <a class="local col5 ref" href="#425intraNeighbors" title='intraNeighbors' data-ref="425intraNeighbors" data-ref-filename="425intraNeighbors">intraNeighbors</a>-&gt;<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::leftUnits" title='x265::Predict::IntraNeighbors::leftUnits' data-ref="x265::Predict::IntraNeighbors::leftUnits" data-ref-filename="x265..Predict..IntraNeighbors..leftUnits">leftUnits</a> = <a class="local col5 ref" href="#435leftUnits" title='leftUnits' data-ref="435leftUnits" data-ref-filename="435leftUnits">leftUnits</a>;</td></tr>
<tr><th id="712">712</th><td>    <a class="local col5 ref" href="#425intraNeighbors" title='intraNeighbors' data-ref="425intraNeighbors" data-ref-filename="425intraNeighbors">intraNeighbors</a>-&gt;<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::unitWidth" title='x265::Predict::IntraNeighbors::unitWidth' data-ref="x265::Predict::IntraNeighbors::unitWidth" data-ref-filename="x265..Predict..IntraNeighbors..unitWidth">unitWidth</a> = <var>1</var> &lt;&lt; <a class="local col7 ref" href="#427log2UnitWidth" title='log2UnitWidth' data-ref="427log2UnitWidth" data-ref-filename="427log2UnitWidth">log2UnitWidth</a>;</td></tr>
<tr><th id="713">713</th><td>    <a class="local col5 ref" href="#425intraNeighbors" title='intraNeighbors' data-ref="425intraNeighbors" data-ref-filename="425intraNeighbors">intraNeighbors</a>-&gt;<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::unitHeight" title='x265::Predict::IntraNeighbors::unitHeight' data-ref="x265::Predict::IntraNeighbors::unitHeight" data-ref-filename="x265..Predict..IntraNeighbors..unitHeight">unitHeight</a> = <var>1</var> &lt;&lt; <a class="local col8 ref" href="#428log2UnitHeight" title='log2UnitHeight' data-ref="428log2UnitHeight" data-ref-filename="428log2UnitHeight">log2UnitHeight</a>;</td></tr>
<tr><th id="714">714</th><td>    <a class="local col5 ref" href="#425intraNeighbors" title='intraNeighbors' data-ref="425intraNeighbors" data-ref-filename="425intraNeighbors">intraNeighbors</a>-&gt;<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::log2TrSize" title='x265::Predict::IntraNeighbors::log2TrSize' data-ref="x265::Predict::IntraNeighbors::log2TrSize" data-ref-filename="x265..Predict..IntraNeighbors..log2TrSize">log2TrSize</a> = <a class="local col6 ref" href="#426log2TrSize" title='log2TrSize' data-ref="426log2TrSize" data-ref-filename="426log2TrSize">log2TrSize</a>;</td></tr>
<tr><th id="715">715</th><td>}</td></tr>
<tr><th id="716">716</th><td></td></tr>
<tr><th id="717">717</th><td><em>void</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657Predict20fillReferenceSamplesEPKhlRKNS0_14IntraNeighborsEPh" title='x265::Predict::fillReferenceSamples' data-ref="_ZN4x2657Predict20fillReferenceSamplesEPKhlRKNS0_14IntraNeighborsEPh" data-ref-filename="_ZN4x2657Predict20fillReferenceSamplesEPKhlRKNS0_14IntraNeighborsEPh">fillReferenceSamples</dfn>(<em>const</em> <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col9 decl" id="439adiOrigin" title='adiOrigin' data-type='const pixel *' data-ref="439adiOrigin" data-ref-filename="439adiOrigin">adiOrigin</dfn>, <a class="typedef" href="../../../include/stdint.h.html#intptr_t" title='intptr_t' data-type='long' data-ref="intptr_t" data-ref-filename="intptr_t">intptr_t</a> <dfn class="local col0 decl" id="440picStride" title='picStride' data-type='intptr_t' data-ref="440picStride" data-ref-filename="440picStride">picStride</dfn>, <em>const</em> <a class="type" href="predict.h.html#x265::Predict::IntraNeighbors" title='x265::Predict::IntraNeighbors' data-ref="x265::Predict::IntraNeighbors" data-ref-filename="x265..Predict..IntraNeighbors">IntraNeighbors</a>&amp; <dfn class="local col1 decl" id="441intraNeighbors" title='intraNeighbors' data-type='const x265::Predict::IntraNeighbors &amp;' data-ref="441intraNeighbors" data-ref-filename="441intraNeighbors">intraNeighbors</dfn>, <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> <dfn class="local col2 decl" id="442dst" title='dst' data-type='pixel *' data-ref="442dst" data-ref-filename="442dst">dst</dfn>[<var>258</var>])</td></tr>
<tr><th id="718">718</th><td>{</td></tr>
<tr><th id="719">719</th><td>    <em>const</em> <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> <dfn class="local col3 decl" id="443dcValue" title='dcValue' data-type='const pixel' data-ref="443dcValue" data-ref-filename="443dcValue">dcValue</dfn> = (<a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>)(<var>1</var> &lt;&lt; (<span class="macro" title="8" data-ref="_M/X265_DEPTH">X265_DEPTH</span> - <var>1</var>));</td></tr>
<tr><th id="720">720</th><td>    <em>int</em> <dfn class="local col4 decl" id="444numIntraNeighbor" title='numIntraNeighbor' data-type='int' data-ref="444numIntraNeighbor" data-ref-filename="444numIntraNeighbor">numIntraNeighbor</dfn> = <a class="local col1 ref" href="#441intraNeighbors" title='intraNeighbors' data-ref="441intraNeighbors" data-ref-filename="441intraNeighbors">intraNeighbors</a>.<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::numIntraNeighbor" title='x265::Predict::IntraNeighbors::numIntraNeighbor' data-ref="x265::Predict::IntraNeighbors::numIntraNeighbor" data-ref-filename="x265..Predict..IntraNeighbors..numIntraNeighbor">numIntraNeighbor</a>;</td></tr>
<tr><th id="721">721</th><td>    <em>int</em> <dfn class="local col5 decl" id="445totalUnits" title='totalUnits' data-type='int' data-ref="445totalUnits" data-ref-filename="445totalUnits">totalUnits</dfn> = <a class="local col1 ref" href="#441intraNeighbors" title='intraNeighbors' data-ref="441intraNeighbors" data-ref-filename="441intraNeighbors">intraNeighbors</a>.<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::totalUnits" title='x265::Predict::IntraNeighbors::totalUnits' data-ref="x265::Predict::IntraNeighbors::totalUnits" data-ref-filename="x265..Predict..IntraNeighbors..totalUnits">totalUnits</a>;</td></tr>
<tr><th id="722">722</th><td>    <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="446tuSize" title='tuSize' data-type='uint32_t' data-ref="446tuSize" data-ref-filename="446tuSize">tuSize</dfn> = <var>1</var> &lt;&lt; <a class="local col1 ref" href="#441intraNeighbors" title='intraNeighbors' data-ref="441intraNeighbors" data-ref-filename="441intraNeighbors">intraNeighbors</a>.<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::log2TrSize" title='x265::Predict::IntraNeighbors::log2TrSize' data-ref="x265::Predict::IntraNeighbors::log2TrSize" data-ref-filename="x265..Predict..IntraNeighbors..log2TrSize">log2TrSize</a>;</td></tr>
<tr><th id="723">723</th><td>    <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="447refSize" title='refSize' data-type='uint32_t' data-ref="447refSize" data-ref-filename="447refSize">refSize</dfn> = <a class="local col6 ref" href="#446tuSize" title='tuSize' data-ref="446tuSize" data-ref-filename="446tuSize">tuSize</a> * <var>2</var> + <var>1</var>;</td></tr>
<tr><th id="724">724</th><td></td></tr>
<tr><th id="725">725</th><td>    <i>// Nothing is available, perform DC prediction.</i></td></tr>
<tr><th id="726">726</th><td>    <b>if</b> (<a class="local col4 ref" href="#444numIntraNeighbor" title='numIntraNeighbor' data-ref="444numIntraNeighbor" data-ref-filename="444numIntraNeighbor">numIntraNeighbor</a> == <var>0</var>)</td></tr>
<tr><th id="727">727</th><td>    {</td></tr>
<tr><th id="728">728</th><td>        <i>// Fill top border with DC value</i></td></tr>
<tr><th id="729">729</th><td>        <b>for</b> (<a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="448i" title='i' data-type='uint32_t' data-ref="448i" data-ref-filename="448i">i</dfn> = <var>0</var>; <a class="local col8 ref" href="#448i" title='i' data-ref="448i" data-ref-filename="448i">i</a> &lt; <a class="local col7 ref" href="#447refSize" title='refSize' data-ref="447refSize" data-ref-filename="447refSize">refSize</a>; <a class="local col8 ref" href="#448i" title='i' data-ref="448i" data-ref-filename="448i">i</a>++)</td></tr>
<tr><th id="730">730</th><td>            <a class="local col2 ref" href="#442dst" title='dst' data-ref="442dst" data-ref-filename="442dst">dst</a>[<a class="local col8 ref" href="#448i" title='i' data-ref="448i" data-ref-filename="448i">i</a>] = <a class="local col3 ref" href="#443dcValue" title='dcValue' data-ref="443dcValue" data-ref-filename="443dcValue">dcValue</a>;</td></tr>
<tr><th id="731">731</th><td></td></tr>
<tr><th id="732">732</th><td>        <i>// Fill left border with DC value</i></td></tr>
<tr><th id="733">733</th><td>        <b>for</b> (<a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col9 decl" id="449i" title='i' data-type='uint32_t' data-ref="449i" data-ref-filename="449i">i</dfn> = <var>0</var>; <a class="local col9 ref" href="#449i" title='i' data-ref="449i" data-ref-filename="449i">i</a> &lt; <a class="local col7 ref" href="#447refSize" title='refSize' data-ref="447refSize" data-ref-filename="447refSize">refSize</a> - <var>1</var>; <a class="local col9 ref" href="#449i" title='i' data-ref="449i" data-ref-filename="449i">i</a>++)</td></tr>
<tr><th id="734">734</th><td>            <a class="local col2 ref" href="#442dst" title='dst' data-ref="442dst" data-ref-filename="442dst">dst</a>[<a class="local col9 ref" href="#449i" title='i' data-ref="449i" data-ref-filename="449i">i</a> + <a class="local col7 ref" href="#447refSize" title='refSize' data-ref="447refSize" data-ref-filename="447refSize">refSize</a>] = <a class="local col3 ref" href="#443dcValue" title='dcValue' data-ref="443dcValue" data-ref-filename="443dcValue">dcValue</a>;</td></tr>
<tr><th id="735">735</th><td>    }</td></tr>
<tr><th id="736">736</th><td>    <b>else</b> <b>if</b> (<a class="local col4 ref" href="#444numIntraNeighbor" title='numIntraNeighbor' data-ref="444numIntraNeighbor" data-ref-filename="444numIntraNeighbor">numIntraNeighbor</a> == <a class="local col5 ref" href="#445totalUnits" title='totalUnits' data-ref="445totalUnits" data-ref-filename="445totalUnits">totalUnits</a>)</td></tr>
<tr><th id="737">737</th><td>    {</td></tr>
<tr><th id="738">738</th><td>        <i>// Fill top border with rec. samples</i></td></tr>
<tr><th id="739">739</th><td>        <em>const</em> <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col0 decl" id="450adiTemp" title='adiTemp' data-type='const pixel *' data-ref="450adiTemp" data-ref-filename="450adiTemp">adiTemp</dfn> = <a class="local col9 ref" href="#439adiOrigin" title='adiOrigin' data-ref="439adiOrigin" data-ref-filename="439adiOrigin">adiOrigin</a> - <a class="local col0 ref" href="#440picStride" title='picStride' data-ref="440picStride" data-ref-filename="440picStride">picStride</a> - <var>1</var>;</td></tr>
<tr><th id="740">740</th><td>        <a class="ref fn" href="../../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>(<a class="local col2 ref" href="#442dst" title='dst' data-ref="442dst" data-ref-filename="442dst">dst</a>, <a class="local col0 ref" href="#450adiTemp" title='adiTemp' data-ref="450adiTemp" data-ref-filename="450adiTemp">adiTemp</a>, <a class="local col7 ref" href="#447refSize" title='refSize' data-ref="447refSize" data-ref-filename="447refSize">refSize</a> * <b>sizeof</b>(<a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>));</td></tr>
<tr><th id="741">741</th><td></td></tr>
<tr><th id="742">742</th><td>        <i>// Fill left border with rec. samples</i></td></tr>
<tr><th id="743">743</th><td>        <a class="local col0 ref" href="#450adiTemp" title='adiTemp' data-ref="450adiTemp" data-ref-filename="450adiTemp">adiTemp</a> = <a class="local col9 ref" href="#439adiOrigin" title='adiOrigin' data-ref="439adiOrigin" data-ref-filename="439adiOrigin">adiOrigin</a> - <var>1</var>;</td></tr>
<tr><th id="744">744</th><td>        <b>for</b> (<a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="451i" title='i' data-type='uint32_t' data-ref="451i" data-ref-filename="451i">i</dfn> = <var>0</var>; <a class="local col1 ref" href="#451i" title='i' data-ref="451i" data-ref-filename="451i">i</a> &lt; <a class="local col7 ref" href="#447refSize" title='refSize' data-ref="447refSize" data-ref-filename="447refSize">refSize</a> - <var>1</var>; <a class="local col1 ref" href="#451i" title='i' data-ref="451i" data-ref-filename="451i">i</a>++)</td></tr>
<tr><th id="745">745</th><td>        {</td></tr>
<tr><th id="746">746</th><td>            <a class="local col2 ref" href="#442dst" title='dst' data-ref="442dst" data-ref-filename="442dst">dst</a>[<a class="local col1 ref" href="#451i" title='i' data-ref="451i" data-ref-filename="451i">i</a> + <a class="local col7 ref" href="#447refSize" title='refSize' data-ref="447refSize" data-ref-filename="447refSize">refSize</a>] = <a class="local col0 ref" href="#450adiTemp" title='adiTemp' data-ref="450adiTemp" data-ref-filename="450adiTemp">adiTemp</a>[<var>0</var>];</td></tr>
<tr><th id="747">747</th><td>            <a class="local col0 ref" href="#450adiTemp" title='adiTemp' data-ref="450adiTemp" data-ref-filename="450adiTemp">adiTemp</a> += <a class="local col0 ref" href="#440picStride" title='picStride' data-ref="440picStride" data-ref-filename="440picStride">picStride</a>;</td></tr>
<tr><th id="748">748</th><td>        }</td></tr>
<tr><th id="749">749</th><td>    }</td></tr>
<tr><th id="750">750</th><td>    <b>else</b> <i>// reference samples are partially available</i></td></tr>
<tr><th id="751">751</th><td>    {</td></tr>
<tr><th id="752">752</th><td>        <em>const</em> <em>bool</em> *<dfn class="local col2 decl" id="452bNeighborFlags" title='bNeighborFlags' data-type='const bool *' data-ref="452bNeighborFlags" data-ref-filename="452bNeighborFlags">bNeighborFlags</dfn> = <a class="local col1 ref" href="#441intraNeighbors" title='intraNeighbors' data-ref="441intraNeighbors" data-ref-filename="441intraNeighbors">intraNeighbors</a>.<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::bNeighborFlags" title='x265::Predict::IntraNeighbors::bNeighborFlags' data-ref="x265::Predict::IntraNeighbors::bNeighborFlags" data-ref-filename="x265..Predict..IntraNeighbors..bNeighborFlags">bNeighborFlags</a>;</td></tr>
<tr><th id="753">753</th><td>        <em>const</em> <em>bool</em> *<dfn class="local col3 decl" id="453pNeighborFlags" title='pNeighborFlags' data-type='const bool *' data-ref="453pNeighborFlags" data-ref-filename="453pNeighborFlags">pNeighborFlags</dfn>;</td></tr>
<tr><th id="754">754</th><td>        <em>int</em> <dfn class="local col4 decl" id="454aboveUnits" title='aboveUnits' data-type='int' data-ref="454aboveUnits" data-ref-filename="454aboveUnits">aboveUnits</dfn> = <a class="local col1 ref" href="#441intraNeighbors" title='intraNeighbors' data-ref="441intraNeighbors" data-ref-filename="441intraNeighbors">intraNeighbors</a>.<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::aboveUnits" title='x265::Predict::IntraNeighbors::aboveUnits' data-ref="x265::Predict::IntraNeighbors::aboveUnits" data-ref-filename="x265..Predict..IntraNeighbors..aboveUnits">aboveUnits</a>;</td></tr>
<tr><th id="755">755</th><td>        <em>int</em> <dfn class="local col5 decl" id="455leftUnits" title='leftUnits' data-type='int' data-ref="455leftUnits" data-ref-filename="455leftUnits">leftUnits</dfn> = <a class="local col1 ref" href="#441intraNeighbors" title='intraNeighbors' data-ref="441intraNeighbors" data-ref-filename="441intraNeighbors">intraNeighbors</a>.<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::leftUnits" title='x265::Predict::IntraNeighbors::leftUnits' data-ref="x265::Predict::IntraNeighbors::leftUnits" data-ref-filename="x265..Predict..IntraNeighbors..leftUnits">leftUnits</a>;</td></tr>
<tr><th id="756">756</th><td>        <em>int</em> <dfn class="local col6 decl" id="456unitWidth" title='unitWidth' data-type='int' data-ref="456unitWidth" data-ref-filename="456unitWidth">unitWidth</dfn> = <a class="local col1 ref" href="#441intraNeighbors" title='intraNeighbors' data-ref="441intraNeighbors" data-ref-filename="441intraNeighbors">intraNeighbors</a>.<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::unitWidth" title='x265::Predict::IntraNeighbors::unitWidth' data-ref="x265::Predict::IntraNeighbors::unitWidth" data-ref-filename="x265..Predict..IntraNeighbors..unitWidth">unitWidth</a>;</td></tr>
<tr><th id="757">757</th><td>        <em>int</em> <dfn class="local col7 decl" id="457unitHeight" title='unitHeight' data-type='int' data-ref="457unitHeight" data-ref-filename="457unitHeight">unitHeight</dfn> = <a class="local col1 ref" href="#441intraNeighbors" title='intraNeighbors' data-ref="441intraNeighbors" data-ref-filename="441intraNeighbors">intraNeighbors</a>.<a class="ref field" href="predict.h.html#x265::Predict::IntraNeighbors::unitHeight" title='x265::Predict::IntraNeighbors::unitHeight' data-ref="x265::Predict::IntraNeighbors::unitHeight" data-ref-filename="x265..Predict..IntraNeighbors..unitHeight">unitHeight</a>;</td></tr>
<tr><th id="758">758</th><td>        <em>int</em> <dfn class="local col8 decl" id="458totalSamples" title='totalSamples' data-type='int' data-ref="458totalSamples" data-ref-filename="458totalSamples">totalSamples</dfn> = (<a class="local col5 ref" href="#455leftUnits" title='leftUnits' data-ref="455leftUnits" data-ref-filename="455leftUnits">leftUnits</a> * <a class="local col7 ref" href="#457unitHeight" title='unitHeight' data-ref="457unitHeight" data-ref-filename="457unitHeight">unitHeight</a>) + ((<a class="local col4 ref" href="#454aboveUnits" title='aboveUnits' data-ref="454aboveUnits" data-ref-filename="454aboveUnits">aboveUnits</a> + <var>1</var>) * <a class="local col6 ref" href="#456unitWidth" title='unitWidth' data-ref="456unitWidth" data-ref-filename="456unitWidth">unitWidth</a>);</td></tr>
<tr><th id="759">759</th><td>        <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> <dfn class="local col9 decl" id="459adiLineBuffer" title='adiLineBuffer' data-type='pixel [320]' data-ref="459adiLineBuffer" data-ref-filename="459adiLineBuffer">adiLineBuffer</dfn>[<var>5</var> * <a class="macro" href="common.h.html#257" title="(1 &lt;&lt; 6)" data-ref="_M/MAX_CU_SIZE">MAX_CU_SIZE</a>];</td></tr>
<tr><th id="760">760</th><td>        <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> *<dfn class="local col0 decl" id="460adi" title='adi' data-type='pixel *' data-ref="460adi" data-ref-filename="460adi">adi</dfn>;</td></tr>
<tr><th id="761">761</th><td></td></tr>
<tr><th id="762">762</th><td>        <i>// Initialize</i></td></tr>
<tr><th id="763">763</th><td>        <b>for</b> (<em>int</em> <dfn class="local col1 decl" id="461i" title='i' data-type='int' data-ref="461i" data-ref-filename="461i">i</dfn> = <var>0</var>; <a class="local col1 ref" href="#461i" title='i' data-ref="461i" data-ref-filename="461i">i</a> &lt; <a class="local col8 ref" href="#458totalSamples" title='totalSamples' data-ref="458totalSamples" data-ref-filename="458totalSamples">totalSamples</a>; <a class="local col1 ref" href="#461i" title='i' data-ref="461i" data-ref-filename="461i">i</a>++)</td></tr>
<tr><th id="764">764</th><td>            <a class="local col9 ref" href="#459adiLineBuffer" title='adiLineBuffer' data-ref="459adiLineBuffer" data-ref-filename="459adiLineBuffer">adiLineBuffer</a>[<a class="local col1 ref" href="#461i" title='i' data-ref="461i" data-ref-filename="461i">i</a>] = <a class="local col3 ref" href="#443dcValue" title='dcValue' data-ref="443dcValue" data-ref-filename="443dcValue">dcValue</a>;</td></tr>
<tr><th id="765">765</th><td></td></tr>
<tr><th id="766">766</th><td>        <i>// Fill top-left sample</i></td></tr>
<tr><th id="767">767</th><td>        <em>const</em> <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col2 decl" id="462adiTemp" title='adiTemp' data-type='const pixel *' data-ref="462adiTemp" data-ref-filename="462adiTemp">adiTemp</dfn> = <a class="local col9 ref" href="#439adiOrigin" title='adiOrigin' data-ref="439adiOrigin" data-ref-filename="439adiOrigin">adiOrigin</a> - <a class="local col0 ref" href="#440picStride" title='picStride' data-ref="440picStride" data-ref-filename="440picStride">picStride</a> - <var>1</var>;</td></tr>
<tr><th id="768">768</th><td>        <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a> = <a class="local col9 ref" href="#459adiLineBuffer" title='adiLineBuffer' data-ref="459adiLineBuffer" data-ref-filename="459adiLineBuffer">adiLineBuffer</a> + (<a class="local col5 ref" href="#455leftUnits" title='leftUnits' data-ref="455leftUnits" data-ref-filename="455leftUnits">leftUnits</a> * <a class="local col7 ref" href="#457unitHeight" title='unitHeight' data-ref="457unitHeight" data-ref-filename="457unitHeight">unitHeight</a>);</td></tr>
<tr><th id="769">769</th><td>        <a class="local col3 ref" href="#453pNeighborFlags" title='pNeighborFlags' data-ref="453pNeighborFlags" data-ref-filename="453pNeighborFlags">pNeighborFlags</a> = <a class="local col2 ref" href="#452bNeighborFlags" title='bNeighborFlags' data-ref="452bNeighborFlags" data-ref-filename="452bNeighborFlags">bNeighborFlags</a> + <a class="local col5 ref" href="#455leftUnits" title='leftUnits' data-ref="455leftUnits" data-ref-filename="455leftUnits">leftUnits</a>;</td></tr>
<tr><th id="770">770</th><td>        <b>if</b> (*<a class="local col3 ref" href="#453pNeighborFlags" title='pNeighborFlags' data-ref="453pNeighborFlags" data-ref-filename="453pNeighborFlags">pNeighborFlags</a>)</td></tr>
<tr><th id="771">771</th><td>        {</td></tr>
<tr><th id="772">772</th><td>            <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> <dfn class="local col3 decl" id="463topLeftVal" title='topLeftVal' data-type='pixel' data-ref="463topLeftVal" data-ref-filename="463topLeftVal">topLeftVal</dfn> = <a class="local col2 ref" href="#462adiTemp" title='adiTemp' data-ref="462adiTemp" data-ref-filename="462adiTemp">adiTemp</a>[<var>0</var>];</td></tr>
<tr><th id="773">773</th><td>            <b>for</b> (<em>int</em> <dfn class="local col4 decl" id="464i" title='i' data-type='int' data-ref="464i" data-ref-filename="464i">i</dfn> = <var>0</var>; <a class="local col4 ref" href="#464i" title='i' data-ref="464i" data-ref-filename="464i">i</a> &lt; <a class="local col6 ref" href="#456unitWidth" title='unitWidth' data-ref="456unitWidth" data-ref-filename="456unitWidth">unitWidth</a>; <a class="local col4 ref" href="#464i" title='i' data-ref="464i" data-ref-filename="464i">i</a>++)</td></tr>
<tr><th id="774">774</th><td>                <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a>[<a class="local col4 ref" href="#464i" title='i' data-ref="464i" data-ref-filename="464i">i</a>] = <a class="local col3 ref" href="#463topLeftVal" title='topLeftVal' data-ref="463topLeftVal" data-ref-filename="463topLeftVal">topLeftVal</a>;</td></tr>
<tr><th id="775">775</th><td>        }</td></tr>
<tr><th id="776">776</th><td></td></tr>
<tr><th id="777">777</th><td>        <i>// Fill left &amp; below-left samples</i></td></tr>
<tr><th id="778">778</th><td>        <a class="local col2 ref" href="#462adiTemp" title='adiTemp' data-ref="462adiTemp" data-ref-filename="462adiTemp">adiTemp</a> += <a class="local col0 ref" href="#440picStride" title='picStride' data-ref="440picStride" data-ref-filename="440picStride">picStride</a>;</td></tr>
<tr><th id="779">779</th><td>        <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a>--;</td></tr>
<tr><th id="780">780</th><td>        <i>// NOTE: over copy here, but reduce condition operators</i></td></tr>
<tr><th id="781">781</th><td>        <b>for</b> (<em>int</em> <dfn class="local col5 decl" id="465j" title='j' data-type='int' data-ref="465j" data-ref-filename="465j">j</dfn> = <var>0</var>; <a class="local col5 ref" href="#465j" title='j' data-ref="465j" data-ref-filename="465j">j</a> &lt; <a class="local col5 ref" href="#455leftUnits" title='leftUnits' data-ref="455leftUnits" data-ref-filename="455leftUnits">leftUnits</a> * <a class="local col7 ref" href="#457unitHeight" title='unitHeight' data-ref="457unitHeight" data-ref-filename="457unitHeight">unitHeight</a>; <a class="local col5 ref" href="#465j" title='j' data-ref="465j" data-ref-filename="465j">j</a>++)</td></tr>
<tr><th id="782">782</th><td>        {</td></tr>
<tr><th id="783">783</th><td>            <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a>[-<a class="local col5 ref" href="#465j" title='j' data-ref="465j" data-ref-filename="465j">j</a>] = <a class="local col2 ref" href="#462adiTemp" title='adiTemp' data-ref="462adiTemp" data-ref-filename="462adiTemp">adiTemp</a>[<a class="local col5 ref" href="#465j" title='j' data-ref="465j" data-ref-filename="465j">j</a> * <a class="local col0 ref" href="#440picStride" title='picStride' data-ref="440picStride" data-ref-filename="440picStride">picStride</a>];</td></tr>
<tr><th id="784">784</th><td>        }</td></tr>
<tr><th id="785">785</th><td></td></tr>
<tr><th id="786">786</th><td>        <i>// Fill above &amp; above-right samples</i></td></tr>
<tr><th id="787">787</th><td>        <a class="local col2 ref" href="#462adiTemp" title='adiTemp' data-ref="462adiTemp" data-ref-filename="462adiTemp">adiTemp</a> = <a class="local col9 ref" href="#439adiOrigin" title='adiOrigin' data-ref="439adiOrigin" data-ref-filename="439adiOrigin">adiOrigin</a> - <a class="local col0 ref" href="#440picStride" title='picStride' data-ref="440picStride" data-ref-filename="440picStride">picStride</a>;</td></tr>
<tr><th id="788">788</th><td>        <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a> = <a class="local col9 ref" href="#459adiLineBuffer" title='adiLineBuffer' data-ref="459adiLineBuffer" data-ref-filename="459adiLineBuffer">adiLineBuffer</a> + (<a class="local col5 ref" href="#455leftUnits" title='leftUnits' data-ref="455leftUnits" data-ref-filename="455leftUnits">leftUnits</a> * <a class="local col7 ref" href="#457unitHeight" title='unitHeight' data-ref="457unitHeight" data-ref-filename="457unitHeight">unitHeight</a>) + <a class="local col6 ref" href="#456unitWidth" title='unitWidth' data-ref="456unitWidth" data-ref-filename="456unitWidth">unitWidth</a>;</td></tr>
<tr><th id="789">789</th><td>        <i>// NOTE: over copy here, but reduce condition operators</i></td></tr>
<tr><th id="790">790</th><td>        <a class="ref fn" href="../../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>(<a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a>, <a class="local col2 ref" href="#462adiTemp" title='adiTemp' data-ref="462adiTemp" data-ref-filename="462adiTemp">adiTemp</a>, <a class="local col4 ref" href="#454aboveUnits" title='aboveUnits' data-ref="454aboveUnits" data-ref-filename="454aboveUnits">aboveUnits</a> * <a class="local col6 ref" href="#456unitWidth" title='unitWidth' data-ref="456unitWidth" data-ref-filename="456unitWidth">unitWidth</a> * <b>sizeof</b>(*<a class="local col2 ref" href="#462adiTemp" title='adiTemp' data-ref="462adiTemp" data-ref-filename="462adiTemp">adiTemp</a>));</td></tr>
<tr><th id="791">791</th><td></td></tr>
<tr><th id="792">792</th><td>        <i>// Pad reference samples when necessary</i></td></tr>
<tr><th id="793">793</th><td>        <em>int</em> <dfn class="local col6 decl" id="466curr" title='curr' data-type='int' data-ref="466curr" data-ref-filename="466curr">curr</dfn> = <var>0</var>;</td></tr>
<tr><th id="794">794</th><td>        <em>int</em> <dfn class="local col7 decl" id="467next" title='next' data-type='int' data-ref="467next" data-ref-filename="467next">next</dfn> = <var>1</var>;</td></tr>
<tr><th id="795">795</th><td>        <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a> = <a class="local col9 ref" href="#459adiLineBuffer" title='adiLineBuffer' data-ref="459adiLineBuffer" data-ref-filename="459adiLineBuffer">adiLineBuffer</a>;</td></tr>
<tr><th id="796">796</th><td>        <em>int</em> <dfn class="local col8 decl" id="468pAdiLineTopRowOffset" title='pAdiLineTopRowOffset' data-type='int' data-ref="468pAdiLineTopRowOffset" data-ref-filename="468pAdiLineTopRowOffset">pAdiLineTopRowOffset</dfn> = <a class="local col5 ref" href="#455leftUnits" title='leftUnits' data-ref="455leftUnits" data-ref-filename="455leftUnits">leftUnits</a> * (<a class="local col7 ref" href="#457unitHeight" title='unitHeight' data-ref="457unitHeight" data-ref-filename="457unitHeight">unitHeight</a> - <a class="local col6 ref" href="#456unitWidth" title='unitWidth' data-ref="456unitWidth" data-ref-filename="456unitWidth">unitWidth</a>);</td></tr>
<tr><th id="797">797</th><td>        <b>if</b> (!<a class="local col2 ref" href="#452bNeighborFlags" title='bNeighborFlags' data-ref="452bNeighborFlags" data-ref-filename="452bNeighborFlags">bNeighborFlags</a>[<var>0</var>])</td></tr>
<tr><th id="798">798</th><td>        {</td></tr>
<tr><th id="799">799</th><td>            <i>// very bottom unit of bottom-left; at least one unit will be valid.</i></td></tr>
<tr><th id="800">800</th><td>            <b>while</b> (<a class="local col7 ref" href="#467next" title='next' data-ref="467next" data-ref-filename="467next">next</a> &lt; <a class="local col5 ref" href="#445totalUnits" title='totalUnits' data-ref="445totalUnits" data-ref-filename="445totalUnits">totalUnits</a> &amp;&amp; !<a class="local col2 ref" href="#452bNeighborFlags" title='bNeighborFlags' data-ref="452bNeighborFlags" data-ref-filename="452bNeighborFlags">bNeighborFlags</a>[<a class="local col7 ref" href="#467next" title='next' data-ref="467next" data-ref-filename="467next">next</a>])</td></tr>
<tr><th id="801">801</th><td>                <a class="local col7 ref" href="#467next" title='next' data-ref="467next" data-ref-filename="467next">next</a>++;</td></tr>
<tr><th id="802">802</th><td></td></tr>
<tr><th id="803">803</th><td>            <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>* <dfn class="local col9 decl" id="469pAdiLineNext" title='pAdiLineNext' data-type='pixel *' data-ref="469pAdiLineNext" data-ref-filename="469pAdiLineNext">pAdiLineNext</dfn> = <a class="local col9 ref" href="#459adiLineBuffer" title='adiLineBuffer' data-ref="459adiLineBuffer" data-ref-filename="459adiLineBuffer">adiLineBuffer</a> + ((<a class="local col7 ref" href="#467next" title='next' data-ref="467next" data-ref-filename="467next">next</a> &lt; <a class="local col5 ref" href="#455leftUnits" title='leftUnits' data-ref="455leftUnits" data-ref-filename="455leftUnits">leftUnits</a>) ? (<a class="local col7 ref" href="#467next" title='next' data-ref="467next" data-ref-filename="467next">next</a> * <a class="local col7 ref" href="#457unitHeight" title='unitHeight' data-ref="457unitHeight" data-ref-filename="457unitHeight">unitHeight</a>) : (<a class="local col8 ref" href="#468pAdiLineTopRowOffset" title='pAdiLineTopRowOffset' data-ref="468pAdiLineTopRowOffset" data-ref-filename="468pAdiLineTopRowOffset">pAdiLineTopRowOffset</a> + (<a class="local col7 ref" href="#467next" title='next' data-ref="467next" data-ref-filename="467next">next</a> * <a class="local col6 ref" href="#456unitWidth" title='unitWidth' data-ref="456unitWidth" data-ref-filename="456unitWidth">unitWidth</a>)));</td></tr>
<tr><th id="804">804</th><td>            <em>const</em> <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> <dfn class="local col0 decl" id="470refSample" title='refSample' data-type='const pixel' data-ref="470refSample" data-ref-filename="470refSample">refSample</dfn> = *<a class="local col9 ref" href="#469pAdiLineNext" title='pAdiLineNext' data-ref="469pAdiLineNext" data-ref-filename="469pAdiLineNext">pAdiLineNext</a>;</td></tr>
<tr><th id="805">805</th><td>            <i>// Pad unavailable samples with new value</i></td></tr>
<tr><th id="806">806</th><td>            <em>int</em> <dfn class="local col1 decl" id="471nextOrTop" title='nextOrTop' data-type='int' data-ref="471nextOrTop" data-ref-filename="471nextOrTop">nextOrTop</dfn> = <a class="macro" href="common.h.html#181" title="((next) &lt; (leftUnits) ? (next) : (leftUnits))" data-ref="_M/X265_MIN">X265_MIN</a>(<a class="local col7 ref" href="#467next" title='next' data-ref="467next" data-ref-filename="467next">next</a>, <a class="local col5 ref" href="#455leftUnits" title='leftUnits' data-ref="455leftUnits" data-ref-filename="455leftUnits">leftUnits</a>);</td></tr>
<tr><th id="807">807</th><td></td></tr>
<tr><th id="808">808</th><td>            <i>// fill left column</i></td></tr>
<tr><th id="809">809</th><td><u>#<span data-ppcond="809">if</span> <span class="macro" title="0" data-ref="_M/HIGH_BIT_DEPTH">HIGH_BIT_DEPTH</span></u></td></tr>
<tr><th id="810">810</th><td>            <b>while</b> (curr &lt; nextOrTop)</td></tr>
<tr><th id="811">811</th><td>            {</td></tr>
<tr><th id="812">812</th><td>                <b>for</b> (<em>int</em> i = <var>0</var>; i &lt; unitHeight; i++)</td></tr>
<tr><th id="813">813</th><td>                    adi[i] = refSample;</td></tr>
<tr><th id="814">814</th><td></td></tr>
<tr><th id="815">815</th><td>                adi += unitHeight;</td></tr>
<tr><th id="816">816</th><td>                curr++;</td></tr>
<tr><th id="817">817</th><td>            }</td></tr>
<tr><th id="818">818</th><td></td></tr>
<tr><th id="819">819</th><td>            <i>// fill top row</i></td></tr>
<tr><th id="820">820</th><td>            <b>while</b> (curr &lt; next)</td></tr>
<tr><th id="821">821</th><td>            {</td></tr>
<tr><th id="822">822</th><td>                <b>for</b> (<em>int</em> i = <var>0</var>; i &lt; unitWidth; i++)</td></tr>
<tr><th id="823">823</th><td>                    adi[i] = refSample;</td></tr>
<tr><th id="824">824</th><td></td></tr>
<tr><th id="825">825</th><td>                adi += unitWidth;</td></tr>
<tr><th id="826">826</th><td>                curr++;</td></tr>
<tr><th id="827">827</th><td>            }</td></tr>
<tr><th id="828">828</th><td><u>#<span data-ppcond="809">else</span></u></td></tr>
<tr><th id="829">829</th><td>            <a class="macro" href="common.h.html#123" title="" data-ref="_M/X265_CHECK">X265_CHECK</a>(curr &lt;= nextOrTop, <q>"curr must be less than or equal to nextOrTop\n"</q>);</td></tr>
<tr><th id="830">830</th><td>            <b>if</b> (<a class="local col6 ref" href="#466curr" title='curr' data-ref="466curr" data-ref-filename="466curr">curr</a> &lt; <a class="local col1 ref" href="#471nextOrTop" title='nextOrTop' data-ref="471nextOrTop" data-ref-filename="471nextOrTop">nextOrTop</a>)</td></tr>
<tr><th id="831">831</th><td>            {</td></tr>
<tr><th id="832">832</th><td>                <em>const</em> <em>int</em> <dfn class="local col2 decl" id="472fillSize" title='fillSize' data-type='const int' data-ref="472fillSize" data-ref-filename="472fillSize">fillSize</dfn> = <a class="local col7 ref" href="#457unitHeight" title='unitHeight' data-ref="457unitHeight" data-ref-filename="457unitHeight">unitHeight</a> * (<a class="local col1 ref" href="#471nextOrTop" title='nextOrTop' data-ref="471nextOrTop" data-ref-filename="471nextOrTop">nextOrTop</a> - <a class="local col6 ref" href="#466curr" title='curr' data-ref="466curr" data-ref-filename="466curr">curr</a>);</td></tr>
<tr><th id="833">833</th><td>                <a class="ref fn" href="../../../include/string.h.html#memset" title='memset' data-ref="memset" data-ref-filename="memset">memset</a>(<a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a>, <a class="local col0 ref" href="#470refSample" title='refSample' data-ref="470refSample" data-ref-filename="470refSample">refSample</a>, <a class="local col2 ref" href="#472fillSize" title='fillSize' data-ref="472fillSize" data-ref-filename="472fillSize">fillSize</a> * <b>sizeof</b>(<a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>));</td></tr>
<tr><th id="834">834</th><td>                <a class="local col6 ref" href="#466curr" title='curr' data-ref="466curr" data-ref-filename="466curr">curr</a> = <a class="local col1 ref" href="#471nextOrTop" title='nextOrTop' data-ref="471nextOrTop" data-ref-filename="471nextOrTop">nextOrTop</a>;</td></tr>
<tr><th id="835">835</th><td>                <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a> += <a class="local col2 ref" href="#472fillSize" title='fillSize' data-ref="472fillSize" data-ref-filename="472fillSize">fillSize</a>;</td></tr>
<tr><th id="836">836</th><td>            }</td></tr>
<tr><th id="837">837</th><td></td></tr>
<tr><th id="838">838</th><td>            <b>if</b> (<a class="local col6 ref" href="#466curr" title='curr' data-ref="466curr" data-ref-filename="466curr">curr</a> &lt; <a class="local col7 ref" href="#467next" title='next' data-ref="467next" data-ref-filename="467next">next</a>)</td></tr>
<tr><th id="839">839</th><td>            {</td></tr>
<tr><th id="840">840</th><td>                <em>const</em> <em>int</em> <dfn class="local col3 decl" id="473fillSize" title='fillSize' data-type='const int' data-ref="473fillSize" data-ref-filename="473fillSize">fillSize</dfn> = <a class="local col6 ref" href="#456unitWidth" title='unitWidth' data-ref="456unitWidth" data-ref-filename="456unitWidth">unitWidth</a> * (<a class="local col7 ref" href="#467next" title='next' data-ref="467next" data-ref-filename="467next">next</a> - <a class="local col6 ref" href="#466curr" title='curr' data-ref="466curr" data-ref-filename="466curr">curr</a>);</td></tr>
<tr><th id="841">841</th><td>                <a class="ref fn" href="../../../include/string.h.html#memset" title='memset' data-ref="memset" data-ref-filename="memset">memset</a>(<a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a>, <a class="local col0 ref" href="#470refSample" title='refSample' data-ref="470refSample" data-ref-filename="470refSample">refSample</a>, <a class="local col3 ref" href="#473fillSize" title='fillSize' data-ref="473fillSize" data-ref-filename="473fillSize">fillSize</a> * <b>sizeof</b>(<a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>));</td></tr>
<tr><th id="842">842</th><td>                <a class="local col6 ref" href="#466curr" title='curr' data-ref="466curr" data-ref-filename="466curr">curr</a> = <a class="local col7 ref" href="#467next" title='next' data-ref="467next" data-ref-filename="467next">next</a>;</td></tr>
<tr><th id="843">843</th><td>                <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a> += <a class="local col3 ref" href="#473fillSize" title='fillSize' data-ref="473fillSize" data-ref-filename="473fillSize">fillSize</a>;</td></tr>
<tr><th id="844">844</th><td>            }</td></tr>
<tr><th id="845">845</th><td><u>#<span data-ppcond="809">endif</span></u></td></tr>
<tr><th id="846">846</th><td>        }</td></tr>
<tr><th id="847">847</th><td></td></tr>
<tr><th id="848">848</th><td>        <i>// pad all other reference samples.</i></td></tr>
<tr><th id="849">849</th><td>        <b>while</b> (<a class="local col6 ref" href="#466curr" title='curr' data-ref="466curr" data-ref-filename="466curr">curr</a> &lt; <a class="local col5 ref" href="#445totalUnits" title='totalUnits' data-ref="445totalUnits" data-ref-filename="445totalUnits">totalUnits</a>)</td></tr>
<tr><th id="850">850</th><td>        {</td></tr>
<tr><th id="851">851</th><td>            <b>if</b> (!<a class="local col2 ref" href="#452bNeighborFlags" title='bNeighborFlags' data-ref="452bNeighborFlags" data-ref-filename="452bNeighborFlags">bNeighborFlags</a>[<a class="local col6 ref" href="#466curr" title='curr' data-ref="466curr" data-ref-filename="466curr">curr</a>]) <i>// samples not available</i></td></tr>
<tr><th id="852">852</th><td>            {</td></tr>
<tr><th id="853">853</th><td>                <em>int</em> <dfn class="local col4 decl" id="474numSamplesInCurrUnit" title='numSamplesInCurrUnit' data-type='int' data-ref="474numSamplesInCurrUnit" data-ref-filename="474numSamplesInCurrUnit">numSamplesInCurrUnit</dfn> = (<a class="local col6 ref" href="#466curr" title='curr' data-ref="466curr" data-ref-filename="466curr">curr</a> &gt;= <a class="local col5 ref" href="#455leftUnits" title='leftUnits' data-ref="455leftUnits" data-ref-filename="455leftUnits">leftUnits</a>) ? <a class="local col6 ref" href="#456unitWidth" title='unitWidth' data-ref="456unitWidth" data-ref-filename="456unitWidth">unitWidth</a> : <a class="local col7 ref" href="#457unitHeight" title='unitHeight' data-ref="457unitHeight" data-ref-filename="457unitHeight">unitHeight</a>;</td></tr>
<tr><th id="854">854</th><td>                <em>const</em> <a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> <dfn class="local col5 decl" id="475refSample" title='refSample' data-type='const pixel' data-ref="475refSample" data-ref-filename="475refSample">refSample</dfn> = *(<a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a> - <var>1</var>);</td></tr>
<tr><th id="855">855</th><td>                <b>for</b> (<em>int</em> <dfn class="local col6 decl" id="476i" title='i' data-type='int' data-ref="476i" data-ref-filename="476i">i</dfn> = <var>0</var>; <a class="local col6 ref" href="#476i" title='i' data-ref="476i" data-ref-filename="476i">i</a> &lt; <a class="local col4 ref" href="#474numSamplesInCurrUnit" title='numSamplesInCurrUnit' data-ref="474numSamplesInCurrUnit" data-ref-filename="474numSamplesInCurrUnit">numSamplesInCurrUnit</a>; <a class="local col6 ref" href="#476i" title='i' data-ref="476i" data-ref-filename="476i">i</a>++)</td></tr>
<tr><th id="856">856</th><td>                    <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a>[<a class="local col6 ref" href="#476i" title='i' data-ref="476i" data-ref-filename="476i">i</a>] = <a class="local col5 ref" href="#475refSample" title='refSample' data-ref="475refSample" data-ref-filename="475refSample">refSample</a>;</td></tr>
<tr><th id="857">857</th><td></td></tr>
<tr><th id="858">858</th><td>                <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a> += <a class="local col4 ref" href="#474numSamplesInCurrUnit" title='numSamplesInCurrUnit' data-ref="474numSamplesInCurrUnit" data-ref-filename="474numSamplesInCurrUnit">numSamplesInCurrUnit</a>;</td></tr>
<tr><th id="859">859</th><td>                <a class="local col6 ref" href="#466curr" title='curr' data-ref="466curr" data-ref-filename="466curr">curr</a>++;</td></tr>
<tr><th id="860">860</th><td>            }</td></tr>
<tr><th id="861">861</th><td>            <b>else</b></td></tr>
<tr><th id="862">862</th><td>            {</td></tr>
<tr><th id="863">863</th><td>                <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a> += (<a class="local col6 ref" href="#466curr" title='curr' data-ref="466curr" data-ref-filename="466curr">curr</a> &gt;= <a class="local col5 ref" href="#455leftUnits" title='leftUnits' data-ref="455leftUnits" data-ref-filename="455leftUnits">leftUnits</a>) ? <a class="local col6 ref" href="#456unitWidth" title='unitWidth' data-ref="456unitWidth" data-ref-filename="456unitWidth">unitWidth</a> : <a class="local col7 ref" href="#457unitHeight" title='unitHeight' data-ref="457unitHeight" data-ref-filename="457unitHeight">unitHeight</a>;</td></tr>
<tr><th id="864">864</th><td>                <a class="local col6 ref" href="#466curr" title='curr' data-ref="466curr" data-ref-filename="466curr">curr</a>++;</td></tr>
<tr><th id="865">865</th><td>            }</td></tr>
<tr><th id="866">866</th><td>        }</td></tr>
<tr><th id="867">867</th><td></td></tr>
<tr><th id="868">868</th><td>        <i>// Copy processed samples</i></td></tr>
<tr><th id="869">869</th><td>        <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a> = <a class="local col9 ref" href="#459adiLineBuffer" title='adiLineBuffer' data-ref="459adiLineBuffer" data-ref-filename="459adiLineBuffer">adiLineBuffer</a> + <a class="local col7 ref" href="#447refSize" title='refSize' data-ref="447refSize" data-ref-filename="447refSize">refSize</a> + <a class="local col6 ref" href="#456unitWidth" title='unitWidth' data-ref="456unitWidth" data-ref-filename="456unitWidth">unitWidth</a> - <var>2</var>;</td></tr>
<tr><th id="870">870</th><td>        <a class="ref fn" href="../../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>(<a class="local col2 ref" href="#442dst" title='dst' data-ref="442dst" data-ref-filename="442dst">dst</a>, <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a>, <a class="local col7 ref" href="#447refSize" title='refSize' data-ref="447refSize" data-ref-filename="447refSize">refSize</a> * <b>sizeof</b>(<a class="typedef" href="common.h.html#pixel" title='pixel' data-type='uint8_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>));</td></tr>
<tr><th id="871">871</th><td></td></tr>
<tr><th id="872">872</th><td>        <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a> = <a class="local col9 ref" href="#459adiLineBuffer" title='adiLineBuffer' data-ref="459adiLineBuffer" data-ref-filename="459adiLineBuffer">adiLineBuffer</a> + <a class="local col7 ref" href="#447refSize" title='refSize' data-ref="447refSize" data-ref-filename="447refSize">refSize</a> - <var>1</var>;</td></tr>
<tr><th id="873">873</th><td>        <b>for</b> (<em>int</em> <dfn class="local col7 decl" id="477i" title='i' data-type='int' data-ref="477i" data-ref-filename="477i">i</dfn> = <var>0</var>; <a class="local col7 ref" href="#477i" title='i' data-ref="477i" data-ref-filename="477i">i</a> &lt; (<em>int</em>)<a class="local col7 ref" href="#447refSize" title='refSize' data-ref="447refSize" data-ref-filename="447refSize">refSize</a> - <var>1</var>; <a class="local col7 ref" href="#477i" title='i' data-ref="477i" data-ref-filename="477i">i</a>++)</td></tr>
<tr><th id="874">874</th><td>            <a class="local col2 ref" href="#442dst" title='dst' data-ref="442dst" data-ref-filename="442dst">dst</a>[<a class="local col7 ref" href="#477i" title='i' data-ref="477i" data-ref-filename="477i">i</a> + <a class="local col7 ref" href="#447refSize" title='refSize' data-ref="447refSize" data-ref-filename="447refSize">refSize</a>] = <a class="local col0 ref" href="#460adi" title='adi' data-ref="460adi" data-ref-filename="460adi">adi</a>[-(<a class="local col7 ref" href="#477i" title='i' data-ref="477i" data-ref-filename="477i">i</a> + <var>1</var>)];</td></tr>
<tr><th id="875">875</th><td>    }</td></tr>
<tr><th id="876">876</th><td>}</td></tr>
<tr><th id="877">877</th><td></td></tr>
<tr><th id="878">878</th><td><b>template</b>&lt;<em>bool</em> cip&gt;</td></tr>
<tr><th id="879">879</th><td><em>bool</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657Predict20isAboveLeftAvailableERKNS_6CUDataEj" title='x265::Predict::isAboveLeftAvailable' data-ref="_ZN4x2657Predict20isAboveLeftAvailableERKNS_6CUDataEj" data-ref-filename="_ZN4x2657Predict20isAboveLeftAvailableERKNS_6CUDataEj">isAboveLeftAvailable</dfn>(<em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>&amp; <dfn class="local col8 decl" id="478cu" title='cu' data-type='const x265::CUData &amp;' data-ref="478cu" data-ref-filename="478cu">cu</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col9 decl" id="479partIdxLT" title='partIdxLT' data-type='uint32_t' data-ref="479partIdxLT" data-ref-filename="479partIdxLT">partIdxLT</dfn>)</td></tr>
<tr><th id="880">880</th><td>{</td></tr>
<tr><th id="881">881</th><td>    <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col0 decl" id="480partAboveLeft" title='partAboveLeft' data-type='uint32_t' data-ref="480partAboveLeft" data-ref-filename="480partAboveLeft">partAboveLeft</dfn>;</td></tr>
<tr><th id="882">882</th><td>    <em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>* <dfn class="local col1 decl" id="481cuAboveLeft" title='cuAboveLeft' data-type='const x265::CUData *' data-ref="481cuAboveLeft" data-ref-filename="481cuAboveLeft">cuAboveLeft</dfn> = <a class="local col8 ref" href="#478cu" title='cu' data-ref="478cu" data-ref-filename="478cu">cu</a>.<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData14getPUAboveLeftERjj" title='x265::CUData::getPUAboveLeft' data-ref="_ZNK4x2656CUData14getPUAboveLeftERjj" data-ref-filename="_ZNK4x2656CUData14getPUAboveLeftERjj">getPUAboveLeft</a>(<span class='refarg'><a class="local col0 ref" href="#480partAboveLeft" title='partAboveLeft' data-ref="480partAboveLeft" data-ref-filename="480partAboveLeft">partAboveLeft</a></span>, <a class="local col9 ref" href="#479partIdxLT" title='partIdxLT' data-ref="479partIdxLT" data-ref-filename="479partIdxLT">partIdxLT</a>);</td></tr>
<tr><th id="883">883</th><td></td></tr>
<tr><th id="884">884</th><td>    <b>return</b> <a class="local col1 ref" href="#481cuAboveLeft" title='cuAboveLeft' data-ref="481cuAboveLeft" data-ref-filename="481cuAboveLeft">cuAboveLeft</a> &amp;&amp; (!<a class="tu ref" href="#cip" title='cip' data-use='r' data-ref="cip" data-ref-filename="cip">cip</a> || <a class="local col1 ref" href="#481cuAboveLeft" title='cuAboveLeft' data-ref="481cuAboveLeft" data-ref-filename="481cuAboveLeft">cuAboveLeft</a>-&gt;<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData7isIntraEj" title='x265::CUData::isIntra' data-ref="_ZNK4x2656CUData7isIntraEj" data-ref-filename="_ZNK4x2656CUData7isIntraEj">isIntra</a>(<a class="local col0 ref" href="#480partAboveLeft" title='partAboveLeft' data-ref="480partAboveLeft" data-ref-filename="480partAboveLeft">partAboveLeft</a>));</td></tr>
<tr><th id="885">885</th><td>}</td></tr>
<tr><th id="886">886</th><td></td></tr>
<tr><th id="887">887</th><td><b>template</b>&lt;<em>bool</em> cip&gt;</td></tr>
<tr><th id="888">888</th><td><em>int</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657Predict16isAboveAvailableERKNS_6CUDataEjjPb" title='x265::Predict::isAboveAvailable' data-ref="_ZN4x2657Predict16isAboveAvailableERKNS_6CUDataEjjPb" data-ref-filename="_ZN4x2657Predict16isAboveAvailableERKNS_6CUDataEjjPb">isAboveAvailable</dfn>(<em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>&amp; <dfn class="local col2 decl" id="482cu" title='cu' data-type='const x265::CUData &amp;' data-ref="482cu" data-ref-filename="482cu">cu</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="483partIdxLT" title='partIdxLT' data-type='uint32_t' data-ref="483partIdxLT" data-ref-filename="483partIdxLT">partIdxLT</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col4 decl" id="484partIdxRT" title='partIdxRT' data-type='uint32_t' data-ref="484partIdxRT" data-ref-filename="484partIdxRT">partIdxRT</dfn>, <em>bool</em>* <dfn class="local col5 decl" id="485bValidFlags" title='bValidFlags' data-type='bool *' data-ref="485bValidFlags" data-ref-filename="485bValidFlags">bValidFlags</dfn>)</td></tr>
<tr><th id="889">889</th><td>{</td></tr>
<tr><th id="890">890</th><td>    <em>const</em> <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col6 decl" id="486rasterPartBegin" title='rasterPartBegin' data-type='const uint32_t' data-ref="486rasterPartBegin" data-ref-filename="486rasterPartBegin">rasterPartBegin</dfn> = <a class="ref" href="constants.h.html#x265::g_zscanToRaster" title='x265::g_zscanToRaster' data-ref="x265::g_zscanToRaster" data-ref-filename="x265..g_zscanToRaster">g_zscanToRaster</a>[<a class="local col3 ref" href="#483partIdxLT" title='partIdxLT' data-ref="483partIdxLT" data-ref-filename="483partIdxLT">partIdxLT</a>];</td></tr>
<tr><th id="891">891</th><td>    <em>const</em> <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="487rasterPartEnd" title='rasterPartEnd' data-type='const uint32_t' data-ref="487rasterPartEnd" data-ref-filename="487rasterPartEnd">rasterPartEnd</dfn> = <a class="ref" href="constants.h.html#x265::g_zscanToRaster" title='x265::g_zscanToRaster' data-ref="x265::g_zscanToRaster" data-ref-filename="x265..g_zscanToRaster">g_zscanToRaster</a>[<a class="local col4 ref" href="#484partIdxRT" title='partIdxRT' data-ref="484partIdxRT" data-ref-filename="484partIdxRT">partIdxRT</a>];</td></tr>
<tr><th id="892">892</th><td>    <em>const</em> <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="488idxStep" title='idxStep' data-type='const uint32_t' data-ref="488idxStep" data-ref-filename="488idxStep">idxStep</dfn> = <var>1</var>;</td></tr>
<tr><th id="893">893</th><td>    <em>int</em> <dfn class="local col9 decl" id="489numIntra" title='numIntra' data-type='int' data-ref="489numIntra" data-ref-filename="489numIntra">numIntra</dfn> = <var>0</var>;</td></tr>
<tr><th id="894">894</th><td></td></tr>
<tr><th id="895">895</th><td>    <b>for</b> (<a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col0 decl" id="490rasterPart" title='rasterPart' data-type='uint32_t' data-ref="490rasterPart" data-ref-filename="490rasterPart">rasterPart</dfn> = <a class="local col6 ref" href="#486rasterPartBegin" title='rasterPartBegin' data-ref="486rasterPartBegin" data-ref-filename="486rasterPartBegin">rasterPartBegin</a>; <a class="local col0 ref" href="#490rasterPart" title='rasterPart' data-ref="490rasterPart" data-ref-filename="490rasterPart">rasterPart</a> &lt;= <a class="local col7 ref" href="#487rasterPartEnd" title='rasterPartEnd' data-ref="487rasterPartEnd" data-ref-filename="487rasterPartEnd">rasterPartEnd</a>; <a class="local col0 ref" href="#490rasterPart" title='rasterPart' data-ref="490rasterPart" data-ref-filename="490rasterPart">rasterPart</a> += <a class="local col8 ref" href="#488idxStep" title='idxStep' data-ref="488idxStep" data-ref-filename="488idxStep">idxStep</a>, <a class="local col5 ref" href="#485bValidFlags" title='bValidFlags' data-ref="485bValidFlags" data-ref-filename="485bValidFlags">bValidFlags</a>++)</td></tr>
<tr><th id="896">896</th><td>    {</td></tr>
<tr><th id="897">897</th><td>        <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="491partAbove" title='partAbove' data-type='uint32_t' data-ref="491partAbove" data-ref-filename="491partAbove">partAbove</dfn>;</td></tr>
<tr><th id="898">898</th><td>        <em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>* <dfn class="local col2 decl" id="492cuAbove" title='cuAbove' data-type='const x265::CUData *' data-ref="492cuAbove" data-ref-filename="492cuAbove">cuAbove</dfn> = <a class="local col2 ref" href="#482cu" title='cu' data-ref="482cu" data-ref-filename="482cu">cu</a>.<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData10getPUAboveERjj" title='x265::CUData::getPUAbove' data-ref="_ZNK4x2656CUData10getPUAboveERjj" data-ref-filename="_ZNK4x2656CUData10getPUAboveERjj">getPUAbove</a>(<span class='refarg'><a class="local col1 ref" href="#491partAbove" title='partAbove' data-ref="491partAbove" data-ref-filename="491partAbove">partAbove</a></span>, <a class="ref" href="constants.h.html#x265::g_rasterToZscan" title='x265::g_rasterToZscan' data-ref="x265::g_rasterToZscan" data-ref-filename="x265..g_rasterToZscan">g_rasterToZscan</a>[<a class="local col0 ref" href="#490rasterPart" title='rasterPart' data-ref="490rasterPart" data-ref-filename="490rasterPart">rasterPart</a>]);</td></tr>
<tr><th id="899">899</th><td>        <b>if</b> (<a class="local col2 ref" href="#492cuAbove" title='cuAbove' data-ref="492cuAbove" data-ref-filename="492cuAbove">cuAbove</a> &amp;&amp; (!<a class="tu ref" href="#cip" title='cip' data-use='r' data-ref="cip" data-ref-filename="cip">cip</a> || <a class="local col2 ref" href="#492cuAbove" title='cuAbove' data-ref="492cuAbove" data-ref-filename="492cuAbove">cuAbove</a>-&gt;<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData7isIntraEj" title='x265::CUData::isIntra' data-ref="_ZNK4x2656CUData7isIntraEj" data-ref-filename="_ZNK4x2656CUData7isIntraEj">isIntra</a>(<a class="local col1 ref" href="#491partAbove" title='partAbove' data-ref="491partAbove" data-ref-filename="491partAbove">partAbove</a>)))</td></tr>
<tr><th id="900">900</th><td>        {</td></tr>
<tr><th id="901">901</th><td>            <a class="local col9 ref" href="#489numIntra" title='numIntra' data-ref="489numIntra" data-ref-filename="489numIntra">numIntra</a>++;</td></tr>
<tr><th id="902">902</th><td>            *<a class="local col5 ref" href="#485bValidFlags" title='bValidFlags' data-ref="485bValidFlags" data-ref-filename="485bValidFlags">bValidFlags</a> = <b>true</b>;</td></tr>
<tr><th id="903">903</th><td>        }</td></tr>
<tr><th id="904">904</th><td>        <b>else</b></td></tr>
<tr><th id="905">905</th><td>            *<a class="local col5 ref" href="#485bValidFlags" title='bValidFlags' data-ref="485bValidFlags" data-ref-filename="485bValidFlags">bValidFlags</a> = <b>false</b>;</td></tr>
<tr><th id="906">906</th><td>    }</td></tr>
<tr><th id="907">907</th><td></td></tr>
<tr><th id="908">908</th><td>    <b>return</b> <a class="local col9 ref" href="#489numIntra" title='numIntra' data-ref="489numIntra" data-ref-filename="489numIntra">numIntra</a>;</td></tr>
<tr><th id="909">909</th><td>}</td></tr>
<tr><th id="910">910</th><td></td></tr>
<tr><th id="911">911</th><td><b>template</b>&lt;<em>bool</em> cip&gt;</td></tr>
<tr><th id="912">912</th><td><em>int</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657Predict15isLeftAvailableERKNS_6CUDataEjjPb" title='x265::Predict::isLeftAvailable' data-ref="_ZN4x2657Predict15isLeftAvailableERKNS_6CUDataEjjPb" data-ref-filename="_ZN4x2657Predict15isLeftAvailableERKNS_6CUDataEjjPb">isLeftAvailable</dfn>(<em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>&amp; <dfn class="local col3 decl" id="493cu" title='cu' data-type='const x265::CUData &amp;' data-ref="493cu" data-ref-filename="493cu">cu</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col4 decl" id="494partIdxLT" title='partIdxLT' data-type='uint32_t' data-ref="494partIdxLT" data-ref-filename="494partIdxLT">partIdxLT</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="495partIdxLB" title='partIdxLB' data-type='uint32_t' data-ref="495partIdxLB" data-ref-filename="495partIdxLB">partIdxLB</dfn>, <em>bool</em>* <dfn class="local col6 decl" id="496bValidFlags" title='bValidFlags' data-type='bool *' data-ref="496bValidFlags" data-ref-filename="496bValidFlags">bValidFlags</dfn>)</td></tr>
<tr><th id="913">913</th><td>{</td></tr>
<tr><th id="914">914</th><td>    <em>const</em> <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="497rasterPartBegin" title='rasterPartBegin' data-type='const uint32_t' data-ref="497rasterPartBegin" data-ref-filename="497rasterPartBegin">rasterPartBegin</dfn> = <a class="ref" href="constants.h.html#x265::g_zscanToRaster" title='x265::g_zscanToRaster' data-ref="x265::g_zscanToRaster" data-ref-filename="x265..g_zscanToRaster">g_zscanToRaster</a>[<a class="local col4 ref" href="#494partIdxLT" title='partIdxLT' data-ref="494partIdxLT" data-ref-filename="494partIdxLT">partIdxLT</a>];</td></tr>
<tr><th id="915">915</th><td>    <em>const</em> <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="498rasterPartEnd" title='rasterPartEnd' data-type='const uint32_t' data-ref="498rasterPartEnd" data-ref-filename="498rasterPartEnd">rasterPartEnd</dfn> = <a class="ref" href="constants.h.html#x265::g_zscanToRaster" title='x265::g_zscanToRaster' data-ref="x265::g_zscanToRaster" data-ref-filename="x265..g_zscanToRaster">g_zscanToRaster</a>[<a class="local col5 ref" href="#495partIdxLB" title='partIdxLB' data-ref="495partIdxLB" data-ref-filename="495partIdxLB">partIdxLB</a>];</td></tr>
<tr><th id="916">916</th><td>    <em>const</em> <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col9 decl" id="499idxStep" title='idxStep' data-type='const uint32_t' data-ref="499idxStep" data-ref-filename="499idxStep">idxStep</dfn> = <a class="macro" href="common.h.html#263" title="(1 &lt;&lt; (6 - 2))" data-ref="_M/RASTER_SIZE">RASTER_SIZE</a>;</td></tr>
<tr><th id="917">917</th><td>    <em>int</em> <dfn class="local col0 decl" id="500numIntra" title='numIntra' data-type='int' data-ref="500numIntra" data-ref-filename="500numIntra">numIntra</dfn> = <var>0</var>;</td></tr>
<tr><th id="918">918</th><td></td></tr>
<tr><th id="919">919</th><td>    <b>for</b> (<a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col1 decl" id="501rasterPart" title='rasterPart' data-type='uint32_t' data-ref="501rasterPart" data-ref-filename="501rasterPart">rasterPart</dfn> = <a class="local col7 ref" href="#497rasterPartBegin" title='rasterPartBegin' data-ref="497rasterPartBegin" data-ref-filename="497rasterPartBegin">rasterPartBegin</a>; <a class="local col1 ref" href="#501rasterPart" title='rasterPart' data-ref="501rasterPart" data-ref-filename="501rasterPart">rasterPart</a> &lt;= <a class="local col8 ref" href="#498rasterPartEnd" title='rasterPartEnd' data-ref="498rasterPartEnd" data-ref-filename="498rasterPartEnd">rasterPartEnd</a>; <a class="local col1 ref" href="#501rasterPart" title='rasterPart' data-ref="501rasterPart" data-ref-filename="501rasterPart">rasterPart</a> += <a class="local col9 ref" href="#499idxStep" title='idxStep' data-ref="499idxStep" data-ref-filename="499idxStep">idxStep</a>, <a class="local col6 ref" href="#496bValidFlags" title='bValidFlags' data-ref="496bValidFlags" data-ref-filename="496bValidFlags">bValidFlags</a>--) <i>// opposite direction</i></td></tr>
<tr><th id="920">920</th><td>    {</td></tr>
<tr><th id="921">921</th><td>        <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col2 decl" id="502partLeft" title='partLeft' data-type='uint32_t' data-ref="502partLeft" data-ref-filename="502partLeft">partLeft</dfn>;</td></tr>
<tr><th id="922">922</th><td>        <em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>* <dfn class="local col3 decl" id="503cuLeft" title='cuLeft' data-type='const x265::CUData *' data-ref="503cuLeft" data-ref-filename="503cuLeft">cuLeft</dfn> = <a class="local col3 ref" href="#493cu" title='cu' data-ref="493cu" data-ref-filename="493cu">cu</a>.<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData9getPULeftERjj" title='x265::CUData::getPULeft' data-ref="_ZNK4x2656CUData9getPULeftERjj" data-ref-filename="_ZNK4x2656CUData9getPULeftERjj">getPULeft</a>(<span class='refarg'><a class="local col2 ref" href="#502partLeft" title='partLeft' data-ref="502partLeft" data-ref-filename="502partLeft">partLeft</a></span>, <a class="ref" href="constants.h.html#x265::g_rasterToZscan" title='x265::g_rasterToZscan' data-ref="x265::g_rasterToZscan" data-ref-filename="x265..g_rasterToZscan">g_rasterToZscan</a>[<a class="local col1 ref" href="#501rasterPart" title='rasterPart' data-ref="501rasterPart" data-ref-filename="501rasterPart">rasterPart</a>]);</td></tr>
<tr><th id="923">923</th><td>        <b>if</b> (<a class="local col3 ref" href="#503cuLeft" title='cuLeft' data-ref="503cuLeft" data-ref-filename="503cuLeft">cuLeft</a> &amp;&amp; (!<a class="tu ref" href="#cip" title='cip' data-use='r' data-ref="cip" data-ref-filename="cip">cip</a> || <a class="local col3 ref" href="#503cuLeft" title='cuLeft' data-ref="503cuLeft" data-ref-filename="503cuLeft">cuLeft</a>-&gt;<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData7isIntraEj" title='x265::CUData::isIntra' data-ref="_ZNK4x2656CUData7isIntraEj" data-ref-filename="_ZNK4x2656CUData7isIntraEj">isIntra</a>(<a class="local col2 ref" href="#502partLeft" title='partLeft' data-ref="502partLeft" data-ref-filename="502partLeft">partLeft</a>)))</td></tr>
<tr><th id="924">924</th><td>        {</td></tr>
<tr><th id="925">925</th><td>            <a class="local col0 ref" href="#500numIntra" title='numIntra' data-ref="500numIntra" data-ref-filename="500numIntra">numIntra</a>++;</td></tr>
<tr><th id="926">926</th><td>            *<a class="local col6 ref" href="#496bValidFlags" title='bValidFlags' data-ref="496bValidFlags" data-ref-filename="496bValidFlags">bValidFlags</a> = <b>true</b>;</td></tr>
<tr><th id="927">927</th><td>        }</td></tr>
<tr><th id="928">928</th><td>        <b>else</b></td></tr>
<tr><th id="929">929</th><td>            *<a class="local col6 ref" href="#496bValidFlags" title='bValidFlags' data-ref="496bValidFlags" data-ref-filename="496bValidFlags">bValidFlags</a> = <b>false</b>;</td></tr>
<tr><th id="930">930</th><td>    }</td></tr>
<tr><th id="931">931</th><td></td></tr>
<tr><th id="932">932</th><td>    <b>return</b> <a class="local col0 ref" href="#500numIntra" title='numIntra' data-ref="500numIntra" data-ref-filename="500numIntra">numIntra</a>;</td></tr>
<tr><th id="933">933</th><td>}</td></tr>
<tr><th id="934">934</th><td></td></tr>
<tr><th id="935">935</th><td><b>template</b>&lt;<em>bool</em> cip&gt;</td></tr>
<tr><th id="936">936</th><td><em>int</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657Predict21isAboveRightAvailableERKNS_6CUDataEjPbj" title='x265::Predict::isAboveRightAvailable' data-ref="_ZN4x2657Predict21isAboveRightAvailableERKNS_6CUDataEjPbj" data-ref-filename="_ZN4x2657Predict21isAboveRightAvailableERKNS_6CUDataEjPbj">isAboveRightAvailable</dfn>(<em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>&amp; <dfn class="local col4 decl" id="504cu" title='cu' data-type='const x265::CUData &amp;' data-ref="504cu" data-ref-filename="504cu">cu</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="505partIdxRT" title='partIdxRT' data-type='uint32_t' data-ref="505partIdxRT" data-ref-filename="505partIdxRT">partIdxRT</dfn>, <em>bool</em>* <dfn class="local col6 decl" id="506bValidFlags" title='bValidFlags' data-type='bool *' data-ref="506bValidFlags" data-ref-filename="506bValidFlags">bValidFlags</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="507numUnits" title='numUnits' data-type='uint32_t' data-ref="507numUnits" data-ref-filename="507numUnits">numUnits</dfn>)</td></tr>
<tr><th id="937">937</th><td>{</td></tr>
<tr><th id="938">938</th><td>    <em>int</em> <dfn class="local col8 decl" id="508numIntra" title='numIntra' data-type='int' data-ref="508numIntra" data-ref-filename="508numIntra">numIntra</dfn> = <var>0</var>;</td></tr>
<tr><th id="939">939</th><td></td></tr>
<tr><th id="940">940</th><td>    <b>for</b> (<a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col9 decl" id="509offset" title='offset' data-type='uint32_t' data-ref="509offset" data-ref-filename="509offset">offset</dfn> = <var>1</var>; <a class="local col9 ref" href="#509offset" title='offset' data-ref="509offset" data-ref-filename="509offset">offset</a> &lt;= <a class="local col7 ref" href="#507numUnits" title='numUnits' data-ref="507numUnits" data-ref-filename="507numUnits">numUnits</a>; <a class="local col9 ref" href="#509offset" title='offset' data-ref="509offset" data-ref-filename="509offset">offset</a>++, <a class="local col6 ref" href="#506bValidFlags" title='bValidFlags' data-ref="506bValidFlags" data-ref-filename="506bValidFlags">bValidFlags</a>++)</td></tr>
<tr><th id="941">941</th><td>    {</td></tr>
<tr><th id="942">942</th><td>        <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col0 decl" id="510partAboveRight" title='partAboveRight' data-type='uint32_t' data-ref="510partAboveRight" data-ref-filename="510partAboveRight">partAboveRight</dfn>;</td></tr>
<tr><th id="943">943</th><td>        <em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>* <dfn class="local col1 decl" id="511cuAboveRight" title='cuAboveRight' data-type='const x265::CUData *' data-ref="511cuAboveRight" data-ref-filename="511cuAboveRight">cuAboveRight</dfn> = <a class="local col4 ref" href="#504cu" title='cu' data-ref="504cu" data-ref-filename="504cu">cu</a>.<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData18getPUAboveRightAdiERjjj" title='x265::CUData::getPUAboveRightAdi' data-ref="_ZNK4x2656CUData18getPUAboveRightAdiERjjj" data-ref-filename="_ZNK4x2656CUData18getPUAboveRightAdiERjjj">getPUAboveRightAdi</a>(<span class='refarg'><a class="local col0 ref" href="#510partAboveRight" title='partAboveRight' data-ref="510partAboveRight" data-ref-filename="510partAboveRight">partAboveRight</a></span>, <a class="local col5 ref" href="#505partIdxRT" title='partIdxRT' data-ref="505partIdxRT" data-ref-filename="505partIdxRT">partIdxRT</a>, <a class="local col9 ref" href="#509offset" title='offset' data-ref="509offset" data-ref-filename="509offset">offset</a>);</td></tr>
<tr><th id="944">944</th><td>        <b>if</b> (<a class="local col1 ref" href="#511cuAboveRight" title='cuAboveRight' data-ref="511cuAboveRight" data-ref-filename="511cuAboveRight">cuAboveRight</a> &amp;&amp; (!<a class="tu ref" href="#cip" title='cip' data-use='r' data-ref="cip" data-ref-filename="cip">cip</a> || <a class="local col1 ref" href="#511cuAboveRight" title='cuAboveRight' data-ref="511cuAboveRight" data-ref-filename="511cuAboveRight">cuAboveRight</a>-&gt;<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData7isIntraEj" title='x265::CUData::isIntra' data-ref="_ZNK4x2656CUData7isIntraEj" data-ref-filename="_ZNK4x2656CUData7isIntraEj">isIntra</a>(<a class="local col0 ref" href="#510partAboveRight" title='partAboveRight' data-ref="510partAboveRight" data-ref-filename="510partAboveRight">partAboveRight</a>)))</td></tr>
<tr><th id="945">945</th><td>        {</td></tr>
<tr><th id="946">946</th><td>            <a class="local col8 ref" href="#508numIntra" title='numIntra' data-ref="508numIntra" data-ref-filename="508numIntra">numIntra</a>++;</td></tr>
<tr><th id="947">947</th><td>            *<a class="local col6 ref" href="#506bValidFlags" title='bValidFlags' data-ref="506bValidFlags" data-ref-filename="506bValidFlags">bValidFlags</a> = <b>true</b>;</td></tr>
<tr><th id="948">948</th><td>        }</td></tr>
<tr><th id="949">949</th><td>        <b>else</b></td></tr>
<tr><th id="950">950</th><td>            *<a class="local col6 ref" href="#506bValidFlags" title='bValidFlags' data-ref="506bValidFlags" data-ref-filename="506bValidFlags">bValidFlags</a> = <b>false</b>;</td></tr>
<tr><th id="951">951</th><td>    }</td></tr>
<tr><th id="952">952</th><td></td></tr>
<tr><th id="953">953</th><td>    <b>return</b> <a class="local col8 ref" href="#508numIntra" title='numIntra' data-ref="508numIntra" data-ref-filename="508numIntra">numIntra</a>;</td></tr>
<tr><th id="954">954</th><td>}</td></tr>
<tr><th id="955">955</th><td></td></tr>
<tr><th id="956">956</th><td><b>template</b>&lt;<em>bool</em> cip&gt;</td></tr>
<tr><th id="957">957</th><td><em>int</em> <a class="type" href="predict.h.html#x265::Predict" title='x265::Predict' data-ref="x265::Predict" data-ref-filename="x265..Predict">Predict</a>::<dfn class="decl def fn" id="_ZN4x2657Predict20isBelowLeftAvailableERKNS_6CUDataEjPbj" title='x265::Predict::isBelowLeftAvailable' data-ref="_ZN4x2657Predict20isBelowLeftAvailableERKNS_6CUDataEjPbj" data-ref-filename="_ZN4x2657Predict20isBelowLeftAvailableERKNS_6CUDataEjPbj">isBelowLeftAvailable</dfn>(<em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>&amp; <dfn class="local col2 decl" id="512cu" title='cu' data-type='const x265::CUData &amp;' data-ref="512cu" data-ref-filename="512cu">cu</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col3 decl" id="513partIdxLB" title='partIdxLB' data-type='uint32_t' data-ref="513partIdxLB" data-ref-filename="513partIdxLB">partIdxLB</dfn>, <em>bool</em>* <dfn class="local col4 decl" id="514bValidFlags" title='bValidFlags' data-type='bool *' data-ref="514bValidFlags" data-ref-filename="514bValidFlags">bValidFlags</dfn>, <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col5 decl" id="515numUnits" title='numUnits' data-type='uint32_t' data-ref="515numUnits" data-ref-filename="515numUnits">numUnits</dfn>)</td></tr>
<tr><th id="958">958</th><td>{</td></tr>
<tr><th id="959">959</th><td>    <em>int</em> <dfn class="local col6 decl" id="516numIntra" title='numIntra' data-type='int' data-ref="516numIntra" data-ref-filename="516numIntra">numIntra</dfn> = <var>0</var>;</td></tr>
<tr><th id="960">960</th><td></td></tr>
<tr><th id="961">961</th><td>    <b>for</b> (<a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col7 decl" id="517offset" title='offset' data-type='uint32_t' data-ref="517offset" data-ref-filename="517offset">offset</dfn> = <var>1</var>; <a class="local col7 ref" href="#517offset" title='offset' data-ref="517offset" data-ref-filename="517offset">offset</a> &lt;= <a class="local col5 ref" href="#515numUnits" title='numUnits' data-ref="515numUnits" data-ref-filename="515numUnits">numUnits</a>; <a class="local col7 ref" href="#517offset" title='offset' data-ref="517offset" data-ref-filename="517offset">offset</a>++, <a class="local col4 ref" href="#514bValidFlags" title='bValidFlags' data-ref="514bValidFlags" data-ref-filename="514bValidFlags">bValidFlags</a>--) <i>// opposite direction</i></td></tr>
<tr><th id="962">962</th><td>    {</td></tr>
<tr><th id="963">963</th><td>        <a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint32_t" title='uint32_t' data-type='__uint32_t' data-ref="uint32_t" data-ref-filename="uint32_t">uint32_t</a> <dfn class="local col8 decl" id="518partBelowLeft" title='partBelowLeft' data-type='uint32_t' data-ref="518partBelowLeft" data-ref-filename="518partBelowLeft">partBelowLeft</dfn>;</td></tr>
<tr><th id="964">964</th><td>        <em>const</em> <a class="type" href="cudata.h.html#x265::CUData" title='x265::CUData' data-ref="x265::CUData" data-ref-filename="x265..CUData">CUData</a>* <dfn class="local col9 decl" id="519cuBelowLeft" title='cuBelowLeft' data-type='const x265::CUData *' data-ref="519cuBelowLeft" data-ref-filename="519cuBelowLeft">cuBelowLeft</dfn> = <a class="local col2 ref" href="#512cu" title='cu' data-ref="512cu" data-ref-filename="512cu">cu</a>.<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData17getPUBelowLeftAdiERjjj" title='x265::CUData::getPUBelowLeftAdi' data-ref="_ZNK4x2656CUData17getPUBelowLeftAdiERjjj" data-ref-filename="_ZNK4x2656CUData17getPUBelowLeftAdiERjjj">getPUBelowLeftAdi</a>(<span class='refarg'><a class="local col8 ref" href="#518partBelowLeft" title='partBelowLeft' data-ref="518partBelowLeft" data-ref-filename="518partBelowLeft">partBelowLeft</a></span>, <a class="local col3 ref" href="#513partIdxLB" title='partIdxLB' data-ref="513partIdxLB" data-ref-filename="513partIdxLB">partIdxLB</a>, <a class="local col7 ref" href="#517offset" title='offset' data-ref="517offset" data-ref-filename="517offset">offset</a>);</td></tr>
<tr><th id="965">965</th><td>        <b>if</b> (<a class="local col9 ref" href="#519cuBelowLeft" title='cuBelowLeft' data-ref="519cuBelowLeft" data-ref-filename="519cuBelowLeft">cuBelowLeft</a> &amp;&amp; (!<a class="tu ref" href="#cip" title='cip' data-use='r' data-ref="cip" data-ref-filename="cip">cip</a> || <a class="local col9 ref" href="#519cuBelowLeft" title='cuBelowLeft' data-ref="519cuBelowLeft" data-ref-filename="519cuBelowLeft">cuBelowLeft</a>-&gt;<a class="ref fn" href="cudata.h.html#_ZNK4x2656CUData7isIntraEj" title='x265::CUData::isIntra' data-ref="_ZNK4x2656CUData7isIntraEj" data-ref-filename="_ZNK4x2656CUData7isIntraEj">isIntra</a>(<a class="local col8 ref" href="#518partBelowLeft" title='partBelowLeft' data-ref="518partBelowLeft" data-ref-filename="518partBelowLeft">partBelowLeft</a>)))</td></tr>
<tr><th id="966">966</th><td>        {</td></tr>
<tr><th id="967">967</th><td>            <a class="local col6 ref" href="#516numIntra" title='numIntra' data-ref="516numIntra" data-ref-filename="516numIntra">numIntra</a>++;</td></tr>
<tr><th id="968">968</th><td>            *<a class="local col4 ref" href="#514bValidFlags" title='bValidFlags' data-ref="514bValidFlags" data-ref-filename="514bValidFlags">bValidFlags</a> = <b>true</b>;</td></tr>
<tr><th id="969">969</th><td>        }</td></tr>
<tr><th id="970">970</th><td>        <b>else</b></td></tr>
<tr><th id="971">971</th><td>            *<a class="local col4 ref" href="#514bValidFlags" title='bValidFlags' data-ref="514bValidFlags" data-ref-filename="514bValidFlags">bValidFlags</a> = <b>false</b>;</td></tr>
<tr><th id="972">972</th><td>    }</td></tr>
<tr><th id="973">973</th><td></td></tr>
<tr><th id="974">974</th><td>    <b>return</b> <a class="local col6 ref" href="#516numIntra" title='numIntra' data-ref="516numIntra" data-ref-filename="516numIntra">numIntra</a>;</td></tr>
<tr><th id="975">975</th><td>}</td></tr>
<tr><th id="976">976</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2021-Jul-15</em> from project x265 revision <em>20210525-g82786fccce10379be439243b6a776dc2f5918cb4</em>