<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>macroblock.h source code [x264/encoder/macroblock.h] - Woboq Code Browser</title>
<link rel="stylesheet" href="../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'x264/encoder/macroblock.h'; var root_path = '../..'; var data_path = '../.././data'; var ecma_script_api_version = 2;</script>
<script src='../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='..'>x264</a>/<a href='./'>encoder</a>/<a href='macroblock.h.html'>macroblock.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*****************************************************************************</i></td></tr>
<tr><th id="2">2</th><td><i> * macroblock.h: macroblock encoding</i></td></tr>
<tr><th id="3">3</th><td><i> *****************************************************************************</i></td></tr>
<tr><th id="4">4</th><td><i> * Copyright (C) 2003-2021 x264 project</i></td></tr>
<tr><th id="5">5</th><td><i> *</i></td></tr>
<tr><th id="6">6</th><td><i> * Authors: Loren Merritt &lt;lorenm@u.washington.edu&gt;</i></td></tr>
<tr><th id="7">7</th><td><i> *          Laurent Aimar &lt;fenrir@via.ecp.fr&gt;</i></td></tr>
<tr><th id="8">8</th><td><i> *</i></td></tr>
<tr><th id="9">9</th><td><i> * This program is free software; you can redistribute it and/or modify</i></td></tr>
<tr><th id="10">10</th><td><i> * it under the terms of the GNU General Public License as published by</i></td></tr>
<tr><th id="11">11</th><td><i> * the Free Software Foundation; either version 2 of the License, or</i></td></tr>
<tr><th id="12">12</th><td><i> * (at your option) any later version.</i></td></tr>
<tr><th id="13">13</th><td><i> *</i></td></tr>
<tr><th id="14">14</th><td><i> * This program is distributed in the hope that it will be useful,</i></td></tr>
<tr><th id="15">15</th><td><i> * but WITHOUT ANY WARRANTY; without even the implied warranty of</i></td></tr>
<tr><th id="16">16</th><td><i> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</i></td></tr>
<tr><th id="17">17</th><td><i> * GNU General Public License for more details.</i></td></tr>
<tr><th id="18">18</th><td><i> *</i></td></tr>
<tr><th id="19">19</th><td><i> * You should have received a copy of the GNU General Public License</i></td></tr>
<tr><th id="20">20</th><td><i> * along with this program; if not, write to the Free Software</i></td></tr>
<tr><th id="21">21</th><td><i> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02111, USA.</i></td></tr>
<tr><th id="22">22</th><td><i> *</i></td></tr>
<tr><th id="23">23</th><td><i> * This program is also available under a commercial proprietary license.</i></td></tr>
<tr><th id="24">24</th><td><i> * For more information, contact us at licensing@x264.com.</i></td></tr>
<tr><th id="25">25</th><td><i> *****************************************************************************/</i></td></tr>
<tr><th id="26">26</th><td></td></tr>
<tr><th id="27">27</th><td><u>#<span data-ppcond="27">ifndef</span> <span class="macro" data-ref="_M/X264_ENCODER_MACROBLOCK_H">X264_ENCODER_MACROBLOCK_H</span></u></td></tr>
<tr><th id="28">28</th><td><u>#define <dfn class="macro" id="_M/X264_ENCODER_MACROBLOCK_H" data-ref="_M/X264_ENCODER_MACROBLOCK_H">X264_ENCODER_MACROBLOCK_H</dfn></u></td></tr>
<tr><th id="29">29</th><td></td></tr>
<tr><th id="30">30</th><td><u>#include <a href="../common/macroblock.h.html">"common/macroblock.h"</a></u></td></tr>
<tr><th id="31">31</th><td></td></tr>
<tr><th id="32">32</th><td><u>#define <dfn class="macro" id="_M/x264_rdo_init" data-ref="_M/x264_rdo_init">x264_rdo_init</dfn> x264_template(rdo_init)</u></td></tr>
<tr><th id="33">33</th><td><em>void</em> <a class="macro" href="#32" title="x264_10_rdo_init" data-ref="_M/x264_rdo_init">x264_rdo_init</a>( <em>void</em> );</td></tr>
<tr><th id="34">34</th><td></td></tr>
<tr><th id="35">35</th><td><u>#define <dfn class="macro" id="_M/x264_macroblock_probe_skip" data-ref="_M/x264_macroblock_probe_skip">x264_macroblock_probe_skip</dfn> x264_template(macroblock_probe_skip)</u></td></tr>
<tr><th id="36">36</th><td><em>int</em> <a class="macro" href="#35" title="x264_10_macroblock_probe_skip" data-ref="_M/x264_macroblock_probe_skip">x264_macroblock_probe_skip</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col1 decl" id="1h" title='h' data-type='x264_t *' data-ref="1h" data-ref-filename="1h">h</dfn>, <em>int</em> <dfn class="local col2 decl" id="2b_bidir" title='b_bidir' data-type='int' data-ref="2b_bidir" data-ref-filename="2b_bidir">b_bidir</dfn> );</td></tr>
<tr><th id="37">37</th><td></td></tr>
<tr><th id="38">38</th><td><u>#define <dfn class="macro" id="_M/x264_macroblock_probe_pskip" data-ref="_M/x264_macroblock_probe_pskip">x264_macroblock_probe_pskip</dfn>( h )\</u></td></tr>
<tr><th id="39">39</th><td><u>    x264_macroblock_probe_skip( h, 0 )</u></td></tr>
<tr><th id="40">40</th><td><u>#define <dfn class="macro" id="_M/x264_macroblock_probe_bskip" data-ref="_M/x264_macroblock_probe_bskip">x264_macroblock_probe_bskip</dfn>( h )\</u></td></tr>
<tr><th id="41">41</th><td><u>    x264_macroblock_probe_skip( h, 1 )</u></td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><u>#define <dfn class="macro" id="_M/x264_predict_lossless_4x4" data-ref="_M/x264_predict_lossless_4x4">x264_predict_lossless_4x4</dfn> x264_template(predict_lossless_4x4)</u></td></tr>
<tr><th id="44">44</th><td><em>void</em> <a class="macro" href="#43" title="x264_10_predict_lossless_4x4" data-ref="_M/x264_predict_lossless_4x4">x264_predict_lossless_4x4</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col3 decl" id="3h" title='h' data-type='x264_t *' data-ref="3h" data-ref-filename="3h">h</dfn>, <a class="typedef" href="../common/common.h.html#pixel" title='pixel' data-type='uint16_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> *<dfn class="local col4 decl" id="4p_dst" title='p_dst' data-type='pixel *' data-ref="4p_dst" data-ref-filename="4p_dst">p_dst</dfn>, <em>int</em> <dfn class="local col5 decl" id="5p" title='p' data-type='int' data-ref="5p" data-ref-filename="5p">p</dfn>, <em>int</em> <dfn class="local col6 decl" id="6idx" title='idx' data-type='int' data-ref="6idx" data-ref-filename="6idx">idx</dfn>, <em>int</em> <dfn class="local col7 decl" id="7i_mode" title='i_mode' data-type='int' data-ref="7i_mode" data-ref-filename="7i_mode">i_mode</dfn> );</td></tr>
<tr><th id="45">45</th><td><u>#define <dfn class="macro" id="_M/x264_predict_lossless_8x8" data-ref="_M/x264_predict_lossless_8x8">x264_predict_lossless_8x8</dfn> x264_template(predict_lossless_8x8)</u></td></tr>
<tr><th id="46">46</th><td><em>void</em> <a class="macro" href="#45" title="x264_10_predict_lossless_8x8" data-ref="_M/x264_predict_lossless_8x8">x264_predict_lossless_8x8</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col8 decl" id="8h" title='h' data-type='x264_t *' data-ref="8h" data-ref-filename="8h">h</dfn>, <a class="typedef" href="../common/common.h.html#pixel" title='pixel' data-type='uint16_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> *<dfn class="local col9 decl" id="9p_dst" title='p_dst' data-type='pixel *' data-ref="9p_dst" data-ref-filename="9p_dst">p_dst</dfn>, <em>int</em> <dfn class="local col0 decl" id="10p" title='p' data-type='int' data-ref="10p" data-ref-filename="10p">p</dfn>, <em>int</em> <dfn class="local col1 decl" id="11idx" title='idx' data-type='int' data-ref="11idx" data-ref-filename="11idx">idx</dfn>, <em>int</em> <dfn class="local col2 decl" id="12i_mode" title='i_mode' data-type='int' data-ref="12i_mode" data-ref-filename="12i_mode">i_mode</dfn>, <a class="typedef" href="../common/common.h.html#pixel" title='pixel' data-type='uint16_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> <dfn class="local col3 decl" id="13edge" title='edge' data-type='pixel *' data-ref="13edge" data-ref-filename="13edge">edge</dfn>[<var>36</var>] );</td></tr>
<tr><th id="47">47</th><td><u>#define <dfn class="macro" id="_M/x264_predict_lossless_16x16" data-ref="_M/x264_predict_lossless_16x16">x264_predict_lossless_16x16</dfn> x264_template(predict_lossless_16x16)</u></td></tr>
<tr><th id="48">48</th><td><em>void</em> <a class="macro" href="#47" title="x264_10_predict_lossless_16x16" data-ref="_M/x264_predict_lossless_16x16">x264_predict_lossless_16x16</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col4 decl" id="14h" title='h' data-type='x264_t *' data-ref="14h" data-ref-filename="14h">h</dfn>, <em>int</em> <dfn class="local col5 decl" id="15p" title='p' data-type='int' data-ref="15p" data-ref-filename="15p">p</dfn>, <em>int</em> <dfn class="local col6 decl" id="16i_mode" title='i_mode' data-type='int' data-ref="16i_mode" data-ref-filename="16i_mode">i_mode</dfn> );</td></tr>
<tr><th id="49">49</th><td><u>#define <dfn class="macro" id="_M/x264_predict_lossless_chroma" data-ref="_M/x264_predict_lossless_chroma">x264_predict_lossless_chroma</dfn> x264_template(predict_lossless_chroma)</u></td></tr>
<tr><th id="50">50</th><td><em>void</em> <a class="macro" href="#49" title="x264_10_predict_lossless_chroma" data-ref="_M/x264_predict_lossless_chroma">x264_predict_lossless_chroma</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col7 decl" id="17h" title='h' data-type='x264_t *' data-ref="17h" data-ref-filename="17h">h</dfn>, <em>int</em> <dfn class="local col8 decl" id="18i_mode" title='i_mode' data-type='int' data-ref="18i_mode" data-ref-filename="18i_mode">i_mode</dfn> );</td></tr>
<tr><th id="51">51</th><td></td></tr>
<tr><th id="52">52</th><td><u>#define <dfn class="macro" id="_M/x264_macroblock_encode" data-ref="_M/x264_macroblock_encode">x264_macroblock_encode</dfn> x264_template(macroblock_encode)</u></td></tr>
<tr><th id="53">53</th><td><em>void</em> <a class="macro" href="#52" title="x264_10_macroblock_encode" data-ref="_M/x264_macroblock_encode">x264_macroblock_encode</a>      ( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col9 decl" id="19h" title='h' data-type='x264_t *' data-ref="19h" data-ref-filename="19h">h</dfn> );</td></tr>
<tr><th id="54">54</th><td><u>#define <dfn class="macro" id="_M/x264_macroblock_write_cabac" data-ref="_M/x264_macroblock_write_cabac">x264_macroblock_write_cabac</dfn> x264_template(macroblock_write_cabac)</u></td></tr>
<tr><th id="55">55</th><td><em>void</em> <a class="macro" href="#54" title="x264_10_macroblock_write_cabac" data-ref="_M/x264_macroblock_write_cabac">x264_macroblock_write_cabac</a> ( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col0 decl" id="20h" title='h' data-type='x264_t *' data-ref="20h" data-ref-filename="20h">h</dfn>, <a class="typedef" href="../common/cabac.h.html#x264_cabac_t" title='x264_cabac_t' data-type='struct x264_cabac_t' data-ref="x264_cabac_t" data-ref-filename="x264_cabac_t">x264_cabac_t</a> *<dfn class="local col1 decl" id="21cb" title='cb' data-type='x264_cabac_t *' data-ref="21cb" data-ref-filename="21cb">cb</dfn> );</td></tr>
<tr><th id="56">56</th><td><u>#define <dfn class="macro" id="_M/x264_macroblock_write_cavlc" data-ref="_M/x264_macroblock_write_cavlc">x264_macroblock_write_cavlc</dfn> x264_template(macroblock_write_cavlc)</u></td></tr>
<tr><th id="57">57</th><td><em>void</em> <a class="macro" href="#56" title="x264_10_macroblock_write_cavlc" data-ref="_M/x264_macroblock_write_cavlc">x264_macroblock_write_cavlc</a> ( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col2 decl" id="22h" title='h' data-type='x264_t *' data-ref="22h" data-ref-filename="22h">h</dfn> );</td></tr>
<tr><th id="58">58</th><td></td></tr>
<tr><th id="59">59</th><td><u>#define <dfn class="macro" id="_M/x264_macroblock_encode_p8x8" data-ref="_M/x264_macroblock_encode_p8x8">x264_macroblock_encode_p8x8</dfn> x264_template(macroblock_encode_p8x8)</u></td></tr>
<tr><th id="60">60</th><td><em>void</em> <a class="macro" href="#59" title="x264_10_macroblock_encode_p8x8" data-ref="_M/x264_macroblock_encode_p8x8">x264_macroblock_encode_p8x8</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col3 decl" id="23h" title='h' data-type='x264_t *' data-ref="23h" data-ref-filename="23h">h</dfn>, <em>int</em> <dfn class="local col4 decl" id="24i8" title='i8' data-type='int' data-ref="24i8" data-ref-filename="24i8">i8</dfn> );</td></tr>
<tr><th id="61">61</th><td><u>#define <dfn class="macro" id="_M/x264_macroblock_encode_p4x4" data-ref="_M/x264_macroblock_encode_p4x4">x264_macroblock_encode_p4x4</dfn> x264_template(macroblock_encode_p4x4)</u></td></tr>
<tr><th id="62">62</th><td><em>void</em> <a class="macro" href="#61" title="x264_10_macroblock_encode_p4x4" data-ref="_M/x264_macroblock_encode_p4x4">x264_macroblock_encode_p4x4</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col5 decl" id="25h" title='h' data-type='x264_t *' data-ref="25h" data-ref-filename="25h">h</dfn>, <em>int</em> <dfn class="local col6 decl" id="26i4" title='i4' data-type='int' data-ref="26i4" data-ref-filename="26i4">i4</dfn> );</td></tr>
<tr><th id="63">63</th><td><u>#define <dfn class="macro" id="_M/x264_mb_encode_chroma" data-ref="_M/x264_mb_encode_chroma">x264_mb_encode_chroma</dfn> x264_template(mb_encode_chroma)</u></td></tr>
<tr><th id="64">64</th><td><em>void</em> <a class="macro" href="#63" title="x264_10_mb_encode_chroma" data-ref="_M/x264_mb_encode_chroma">x264_mb_encode_chroma</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col7 decl" id="27h" title='h' data-type='x264_t *' data-ref="27h" data-ref-filename="27h">h</dfn>, <em>int</em> <dfn class="local col8 decl" id="28b_inter" title='b_inter' data-type='int' data-ref="28b_inter" data-ref-filename="28b_inter">b_inter</dfn>, <em>int</em> <dfn class="local col9 decl" id="29i_qp" title='i_qp' data-type='int' data-ref="29i_qp" data-ref-filename="29i_qp">i_qp</dfn> );</td></tr>
<tr><th id="65">65</th><td></td></tr>
<tr><th id="66">66</th><td><u>#define <dfn class="macro" id="_M/x264_cabac_mb_skip" data-ref="_M/x264_cabac_mb_skip">x264_cabac_mb_skip</dfn> x264_template(cabac_mb_skip)</u></td></tr>
<tr><th id="67">67</th><td><em>void</em> <a class="macro" href="#66" title="x264_10_cabac_mb_skip" data-ref="_M/x264_cabac_mb_skip">x264_cabac_mb_skip</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col0 decl" id="30h" title='h' data-type='x264_t *' data-ref="30h" data-ref-filename="30h">h</dfn>, <em>int</em> <dfn class="local col1 decl" id="31b_skip" title='b_skip' data-type='int' data-ref="31b_skip" data-ref-filename="31b_skip">b_skip</dfn> );</td></tr>
<tr><th id="68">68</th><td><u>#define <dfn class="macro" id="_M/x264_cabac_block_residual_c" data-ref="_M/x264_cabac_block_residual_c">x264_cabac_block_residual_c</dfn> x264_template(cabac_block_residual_c)</u></td></tr>
<tr><th id="69">69</th><td><em>void</em> <a class="macro" href="#68" title="x264_10_cabac_block_residual_c" data-ref="_M/x264_cabac_block_residual_c">x264_cabac_block_residual_c</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col2 decl" id="32h" title='h' data-type='x264_t *' data-ref="32h" data-ref-filename="32h">h</dfn>, <a class="typedef" href="../common/cabac.h.html#x264_cabac_t" title='x264_cabac_t' data-type='struct x264_cabac_t' data-ref="x264_cabac_t" data-ref-filename="x264_cabac_t">x264_cabac_t</a> *<dfn class="local col3 decl" id="33cb" title='cb' data-type='x264_cabac_t *' data-ref="33cb" data-ref-filename="33cb">cb</dfn>, <em>int</em> <dfn class="local col4 decl" id="34ctx_block_cat" title='ctx_block_cat' data-type='int' data-ref="34ctx_block_cat" data-ref-filename="34ctx_block_cat">ctx_block_cat</dfn>, <a class="typedef" href="../common/common.h.html#dctcoef" title='dctcoef' data-type='int32_t' data-ref="dctcoef" data-ref-filename="dctcoef">dctcoef</a> *<dfn class="local col5 decl" id="35l" title='l' data-type='dctcoef *' data-ref="35l" data-ref-filename="35l">l</dfn> );</td></tr>
<tr><th id="70">70</th><td><u>#define <dfn class="macro" id="_M/x264_cabac_block_residual_8x8_rd_c" data-ref="_M/x264_cabac_block_residual_8x8_rd_c">x264_cabac_block_residual_8x8_rd_c</dfn> x264_template(cabac_block_residual_8x8_rd_c)</u></td></tr>
<tr><th id="71">71</th><td><em>void</em> <a class="macro" href="#70" title="x264_10_cabac_block_residual_8x8_rd_c" data-ref="_M/x264_cabac_block_residual_8x8_rd_c">x264_cabac_block_residual_8x8_rd_c</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col6 decl" id="36h" title='h' data-type='x264_t *' data-ref="36h" data-ref-filename="36h">h</dfn>, <a class="typedef" href="../common/cabac.h.html#x264_cabac_t" title='x264_cabac_t' data-type='struct x264_cabac_t' data-ref="x264_cabac_t" data-ref-filename="x264_cabac_t">x264_cabac_t</a> *<dfn class="local col7 decl" id="37cb" title='cb' data-type='x264_cabac_t *' data-ref="37cb" data-ref-filename="37cb">cb</dfn>, <em>int</em> <dfn class="local col8 decl" id="38ctx_block_cat" title='ctx_block_cat' data-type='int' data-ref="38ctx_block_cat" data-ref-filename="38ctx_block_cat">ctx_block_cat</dfn>, <a class="typedef" href="../common/common.h.html#dctcoef" title='dctcoef' data-type='int32_t' data-ref="dctcoef" data-ref-filename="dctcoef">dctcoef</a> *<dfn class="local col9 decl" id="39l" title='l' data-type='dctcoef *' data-ref="39l" data-ref-filename="39l">l</dfn> );</td></tr>
<tr><th id="72">72</th><td><u>#define <dfn class="macro" id="_M/x264_cabac_block_residual_rd_c" data-ref="_M/x264_cabac_block_residual_rd_c">x264_cabac_block_residual_rd_c</dfn> x264_template(cabac_block_residual_rd_c)</u></td></tr>
<tr><th id="73">73</th><td><em>void</em> <a class="macro" href="#72" title="x264_10_cabac_block_residual_rd_c" data-ref="_M/x264_cabac_block_residual_rd_c">x264_cabac_block_residual_rd_c</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col0 decl" id="40h" title='h' data-type='x264_t *' data-ref="40h" data-ref-filename="40h">h</dfn>, <a class="typedef" href="../common/cabac.h.html#x264_cabac_t" title='x264_cabac_t' data-type='struct x264_cabac_t' data-ref="x264_cabac_t" data-ref-filename="x264_cabac_t">x264_cabac_t</a> *<dfn class="local col1 decl" id="41cb" title='cb' data-type='x264_cabac_t *' data-ref="41cb" data-ref-filename="41cb">cb</dfn>, <em>int</em> <dfn class="local col2 decl" id="42ctx_block_cat" title='ctx_block_cat' data-type='int' data-ref="42ctx_block_cat" data-ref-filename="42ctx_block_cat">ctx_block_cat</dfn>, <a class="typedef" href="../common/common.h.html#dctcoef" title='dctcoef' data-type='int32_t' data-ref="dctcoef" data-ref-filename="dctcoef">dctcoef</a> *<dfn class="local col3 decl" id="43l" title='l' data-type='dctcoef *' data-ref="43l" data-ref-filename="43l">l</dfn> );</td></tr>
<tr><th id="74">74</th><td></td></tr>
<tr><th id="75">75</th><td><u>#define <dfn class="macro" id="_M/x264_quant_luma_dc_trellis" data-ref="_M/x264_quant_luma_dc_trellis">x264_quant_luma_dc_trellis</dfn> x264_template(quant_luma_dc_trellis)</u></td></tr>
<tr><th id="76">76</th><td><em>int</em> <a class="macro" href="#75" title="x264_10_quant_luma_dc_trellis" data-ref="_M/x264_quant_luma_dc_trellis">x264_quant_luma_dc_trellis</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col4 decl" id="44h" title='h' data-type='x264_t *' data-ref="44h" data-ref-filename="44h">h</dfn>, <a class="typedef" href="../common/common.h.html#dctcoef" title='dctcoef' data-type='int32_t' data-ref="dctcoef" data-ref-filename="dctcoef">dctcoef</a> *<dfn class="local col5 decl" id="45dct" title='dct' data-type='dctcoef *' data-ref="45dct" data-ref-filename="45dct">dct</dfn>, <em>int</em> <dfn class="local col6 decl" id="46i_quant_cat" title='i_quant_cat' data-type='int' data-ref="46i_quant_cat" data-ref-filename="46i_quant_cat">i_quant_cat</dfn>, <em>int</em> <dfn class="local col7 decl" id="47i_qp" title='i_qp' data-type='int' data-ref="47i_qp" data-ref-filename="47i_qp">i_qp</dfn>,</td></tr>
<tr><th id="77">77</th><td>                                <em>int</em> <dfn class="local col8 decl" id="48ctx_block_cat" title='ctx_block_cat' data-type='int' data-ref="48ctx_block_cat" data-ref-filename="48ctx_block_cat">ctx_block_cat</dfn>, <em>int</em> <dfn class="local col9 decl" id="49b_intra" title='b_intra' data-type='int' data-ref="49b_intra" data-ref-filename="49b_intra">b_intra</dfn>, <em>int</em> <dfn class="local col0 decl" id="50idx" title='idx' data-type='int' data-ref="50idx" data-ref-filename="50idx">idx</dfn> );</td></tr>
<tr><th id="78">78</th><td><u>#define <dfn class="macro" id="_M/x264_quant_chroma_dc_trellis" data-ref="_M/x264_quant_chroma_dc_trellis">x264_quant_chroma_dc_trellis</dfn> x264_template(quant_chroma_dc_trellis)</u></td></tr>
<tr><th id="79">79</th><td><em>int</em> <a class="macro" href="#78" title="x264_10_quant_chroma_dc_trellis" data-ref="_M/x264_quant_chroma_dc_trellis">x264_quant_chroma_dc_trellis</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col1 decl" id="51h" title='h' data-type='x264_t *' data-ref="51h" data-ref-filename="51h">h</dfn>, <a class="typedef" href="../common/common.h.html#dctcoef" title='dctcoef' data-type='int32_t' data-ref="dctcoef" data-ref-filename="dctcoef">dctcoef</a> *<dfn class="local col2 decl" id="52dct" title='dct' data-type='dctcoef *' data-ref="52dct" data-ref-filename="52dct">dct</dfn>, <em>int</em> <dfn class="local col3 decl" id="53i_qp" title='i_qp' data-type='int' data-ref="53i_qp" data-ref-filename="53i_qp">i_qp</dfn>, <em>int</em> <dfn class="local col4 decl" id="54b_intra" title='b_intra' data-type='int' data-ref="54b_intra" data-ref-filename="54b_intra">b_intra</dfn>, <em>int</em> <dfn class="local col5 decl" id="55idx" title='idx' data-type='int' data-ref="55idx" data-ref-filename="55idx">idx</dfn> );</td></tr>
<tr><th id="80">80</th><td><u>#define <dfn class="macro" id="_M/x264_quant_4x4_trellis" data-ref="_M/x264_quant_4x4_trellis">x264_quant_4x4_trellis</dfn> x264_template(quant_4x4_trellis)</u></td></tr>
<tr><th id="81">81</th><td><em>int</em> <a class="macro" href="#80" title="x264_10_quant_4x4_trellis" data-ref="_M/x264_quant_4x4_trellis">x264_quant_4x4_trellis</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col6 decl" id="56h" title='h' data-type='x264_t *' data-ref="56h" data-ref-filename="56h">h</dfn>, <a class="typedef" href="../common/common.h.html#dctcoef" title='dctcoef' data-type='int32_t' data-ref="dctcoef" data-ref-filename="dctcoef">dctcoef</a> *<dfn class="local col7 decl" id="57dct" title='dct' data-type='dctcoef *' data-ref="57dct" data-ref-filename="57dct">dct</dfn>, <em>int</em> <dfn class="local col8 decl" id="58i_quant_cat" title='i_quant_cat' data-type='int' data-ref="58i_quant_cat" data-ref-filename="58i_quant_cat">i_quant_cat</dfn>,</td></tr>
<tr><th id="82">82</th><td>                             <em>int</em> <dfn class="local col9 decl" id="59i_qp" title='i_qp' data-type='int' data-ref="59i_qp" data-ref-filename="59i_qp">i_qp</dfn>, <em>int</em> <dfn class="local col0 decl" id="60ctx_block_cat" title='ctx_block_cat' data-type='int' data-ref="60ctx_block_cat" data-ref-filename="60ctx_block_cat">ctx_block_cat</dfn>, <em>int</em> <dfn class="local col1 decl" id="61b_intra" title='b_intra' data-type='int' data-ref="61b_intra" data-ref-filename="61b_intra">b_intra</dfn>, <em>int</em> <dfn class="local col2 decl" id="62b_chroma" title='b_chroma' data-type='int' data-ref="62b_chroma" data-ref-filename="62b_chroma">b_chroma</dfn>, <em>int</em> <dfn class="local col3 decl" id="63idx" title='idx' data-type='int' data-ref="63idx" data-ref-filename="63idx">idx</dfn> );</td></tr>
<tr><th id="83">83</th><td><u>#define <dfn class="macro" id="_M/x264_quant_8x8_trellis" data-ref="_M/x264_quant_8x8_trellis">x264_quant_8x8_trellis</dfn> x264_template(quant_8x8_trellis)</u></td></tr>
<tr><th id="84">84</th><td><em>int</em> <a class="macro" href="#83" title="x264_10_quant_8x8_trellis" data-ref="_M/x264_quant_8x8_trellis">x264_quant_8x8_trellis</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col4 decl" id="64h" title='h' data-type='x264_t *' data-ref="64h" data-ref-filename="64h">h</dfn>, <a class="typedef" href="../common/common.h.html#dctcoef" title='dctcoef' data-type='int32_t' data-ref="dctcoef" data-ref-filename="dctcoef">dctcoef</a> *<dfn class="local col5 decl" id="65dct" title='dct' data-type='dctcoef *' data-ref="65dct" data-ref-filename="65dct">dct</dfn>, <em>int</em> <dfn class="local col6 decl" id="66i_quant_cat" title='i_quant_cat' data-type='int' data-ref="66i_quant_cat" data-ref-filename="66i_quant_cat">i_quant_cat</dfn>,</td></tr>
<tr><th id="85">85</th><td>                             <em>int</em> <dfn class="local col7 decl" id="67i_qp" title='i_qp' data-type='int' data-ref="67i_qp" data-ref-filename="67i_qp">i_qp</dfn>, <em>int</em> <dfn class="local col8 decl" id="68ctx_block_cat" title='ctx_block_cat' data-type='int' data-ref="68ctx_block_cat" data-ref-filename="68ctx_block_cat">ctx_block_cat</dfn>, <em>int</em> <dfn class="local col9 decl" id="69b_intra" title='b_intra' data-type='int' data-ref="69b_intra" data-ref-filename="69b_intra">b_intra</dfn>, <em>int</em> <dfn class="local col0 decl" id="70b_chroma" title='b_chroma' data-type='int' data-ref="70b_chroma" data-ref-filename="70b_chroma">b_chroma</dfn>, <em>int</em> <dfn class="local col1 decl" id="71idx" title='idx' data-type='int' data-ref="71idx" data-ref-filename="71idx">idx</dfn> );</td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td><u>#define <dfn class="macro" id="_M/x264_noise_reduction_update" data-ref="_M/x264_noise_reduction_update">x264_noise_reduction_update</dfn> x264_template(noise_reduction_update)</u></td></tr>
<tr><th id="88">88</th><td><em>void</em> <a class="macro" href="#87" title="x264_10_noise_reduction_update" data-ref="_M/x264_noise_reduction_update">x264_noise_reduction_update</a>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col2 decl" id="72h" title='h' data-type='x264_t *' data-ref="72h" data-ref-filename="72h">h</dfn> );</td></tr>
<tr><th id="89">89</th><td></td></tr>
<tr><th id="90">90</th><td><em>static</em> <a class="macro" href="../common/osdep.h.html#347" title="__attribute__((always_inline)) inline" data-ref="_M/ALWAYS_INLINE">ALWAYS_INLINE</a> <em>int</em> <dfn class="decl def fn" id="x264_quant_4x4" title='x264_quant_4x4' data-ref="x264_quant_4x4" data-ref-filename="x264_quant_4x4">x264_quant_4x4</dfn>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col3 decl" id="73h" title='h' data-type='x264_t *' data-ref="73h" data-ref-filename="73h">h</dfn>, <a class="typedef" href="../common/common.h.html#dctcoef" title='dctcoef' data-type='int32_t' data-ref="dctcoef" data-ref-filename="dctcoef">dctcoef</a> <dfn class="local col4 decl" id="74dct" title='dct' data-type='dctcoef *' data-ref="74dct" data-ref-filename="74dct">dct</dfn>[<var>16</var>], <em>int</em> <dfn class="local col5 decl" id="75i_qp" title='i_qp' data-type='int' data-ref="75i_qp" data-ref-filename="75i_qp">i_qp</dfn>, <em>int</em> <dfn class="local col6 decl" id="76ctx_block_cat" title='ctx_block_cat' data-type='int' data-ref="76ctx_block_cat" data-ref-filename="76ctx_block_cat">ctx_block_cat</dfn>, <em>int</em> <dfn class="local col7 decl" id="77b_intra" title='b_intra' data-type='int' data-ref="77b_intra" data-ref-filename="77b_intra">b_intra</dfn>, <em>int</em> <dfn class="local col8 decl" id="78p" title='p' data-type='int' data-ref="78p" data-ref-filename="78p">p</dfn>, <em>int</em> <dfn class="local col9 decl" id="79idx" title='idx' data-type='int' data-ref="79idx" data-ref-filename="79idx">idx</dfn> )</td></tr>
<tr><th id="91">91</th><td>{</td></tr>
<tr><th id="92">92</th><td>    <em>int</em> <dfn class="local col0 decl" id="80i_quant_cat" title='i_quant_cat' data-type='int' data-ref="80i_quant_cat" data-ref-filename="80i_quant_cat">i_quant_cat</dfn> = <a class="local col7 ref" href="#77b_intra" title='b_intra' data-ref="77b_intra" data-ref-filename="77b_intra">b_intra</a> ? (<a class="local col8 ref" href="#78p" title='p' data-ref="78p" data-ref-filename="78p">p</a>?<a class="enum" href="../common/set.h.html#CQM_4IC" title='CQM_4IC' data-ref="CQM_4IC" data-ref-filename="CQM_4IC">CQM_4IC</a>:<a class="enum" href="../common/set.h.html#CQM_4IY" title='CQM_4IY' data-ref="CQM_4IY" data-ref-filename="CQM_4IY">CQM_4IY</a>) : (<a class="local col8 ref" href="#78p" title='p' data-ref="78p" data-ref-filename="78p">p</a>?<a class="enum" href="../common/set.h.html#CQM_4PC" title='CQM_4PC' data-ref="CQM_4PC" data-ref-filename="CQM_4PC">CQM_4PC</a>:<a class="enum" href="../common/set.h.html#CQM_4PY" title='CQM_4PY' data-ref="CQM_4PY" data-ref-filename="CQM_4PY">CQM_4PY</a>);</td></tr>
<tr><th id="93">93</th><td>    <b>if</b>( <a class="local col3 ref" href="#73h" title='h' data-ref="73h" data-ref-filename="73h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::b_noise_reduction" title='x264_t::(anonymous struct)::b_noise_reduction' data-ref="x264_t::(anonymous)::b_noise_reduction" data-ref-filename="x264_t..(anonymous)..b_noise_reduction">b_noise_reduction</a> )</td></tr>
<tr><th id="94">94</th><td>        <a class="local col3 ref" href="#73h" title='h' data-ref="73h" data-ref-filename="73h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::quantf" title='x264_t::quantf' data-ref="x264_t::quantf" data-ref-filename="x264_t..quantf">quantf</a>.<a class="ref field" href="../common/quant.h.html#(anonymous)::denoise_dct" title='(anonymous struct)::denoise_dct' data-ref="(anonymous)::denoise_dct" data-ref-filename="(anonymous)..denoise_dct">denoise_dct</a>( <a class="local col4 ref" href="#74dct" title='dct' data-ref="74dct" data-ref-filename="74dct">dct</a>, <a class="local col3 ref" href="#73h" title='h' data-ref="73h" data-ref-filename="73h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::nr_residual_sum" title='x264_t::nr_residual_sum' data-ref="x264_t::nr_residual_sum" data-ref-filename="x264_t..nr_residual_sum">nr_residual_sum</a>[<var>0</var>+!!<a class="local col8 ref" href="#78p" title='p' data-ref="78p" data-ref-filename="78p">p</a>*<var>2</var>], <a class="local col3 ref" href="#73h" title='h' data-ref="73h" data-ref-filename="73h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::nr_offset" title='x264_t::nr_offset' data-ref="x264_t::nr_offset" data-ref-filename="x264_t..nr_offset">nr_offset</a>[<var>0</var>+!!<a class="local col8 ref" href="#78p" title='p' data-ref="78p" data-ref-filename="78p">p</a>*<var>2</var>], <var>16</var> );</td></tr>
<tr><th id="95">95</th><td>    <b>if</b>( <a class="local col3 ref" href="#73h" title='h' data-ref="73h" data-ref-filename="73h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::b_trellis" title='x264_t::(anonymous struct)::b_trellis' data-ref="x264_t::(anonymous)::b_trellis" data-ref-filename="x264_t..(anonymous)..b_trellis">b_trellis</a> )</td></tr>
<tr><th id="96">96</th><td>        <b>return</b> <a class="macro" href="#80" title="x264_10_quant_4x4_trellis" data-ref="_M/x264_quant_4x4_trellis">x264_quant_4x4_trellis</a>( <a class="local col3 ref" href="#73h" title='h' data-ref="73h" data-ref-filename="73h">h</a>, <a class="local col4 ref" href="#74dct" title='dct' data-ref="74dct" data-ref-filename="74dct">dct</a>, <a class="local col0 ref" href="#80i_quant_cat" title='i_quant_cat' data-ref="80i_quant_cat" data-ref-filename="80i_quant_cat">i_quant_cat</a>, <a class="local col5 ref" href="#75i_qp" title='i_qp' data-ref="75i_qp" data-ref-filename="75i_qp">i_qp</a>, <a class="local col6 ref" href="#76ctx_block_cat" title='ctx_block_cat' data-ref="76ctx_block_cat" data-ref-filename="76ctx_block_cat">ctx_block_cat</a>, <a class="local col7 ref" href="#77b_intra" title='b_intra' data-ref="77b_intra" data-ref-filename="77b_intra">b_intra</a>, !!<a class="local col8 ref" href="#78p" title='p' data-ref="78p" data-ref-filename="78p">p</a>, <a class="local col9 ref" href="#79idx" title='idx' data-ref="79idx" data-ref-filename="79idx">idx</a>+<a class="local col8 ref" href="#78p" title='p' data-ref="78p" data-ref-filename="78p">p</a>*<var>16</var> );</td></tr>
<tr><th id="97">97</th><td>    <b>else</b></td></tr>
<tr><th id="98">98</th><td>        <b>return</b> <a class="local col3 ref" href="#73h" title='h' data-ref="73h" data-ref-filename="73h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::quantf" title='x264_t::quantf' data-ref="x264_t::quantf" data-ref-filename="x264_t..quantf">quantf</a>.<a class="ref field" href="../common/quant.h.html#(anonymous)::quant_4x4" title='(anonymous struct)::quant_4x4' data-ref="(anonymous)::quant_4x4" data-ref-filename="(anonymous)..quant_4x4">quant_4x4</a>( <a class="local col4 ref" href="#74dct" title='dct' data-ref="74dct" data-ref-filename="74dct">dct</a>, <a class="local col3 ref" href="#73h" title='h' data-ref="73h" data-ref-filename="73h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::quant4_mf" title='x264_t::quant4_mf' data-ref="x264_t::quant4_mf" data-ref-filename="x264_t..quant4_mf">quant4_mf</a>[<a class="local col0 ref" href="#80i_quant_cat" title='i_quant_cat' data-ref="80i_quant_cat" data-ref-filename="80i_quant_cat">i_quant_cat</a>][<a class="local col5 ref" href="#75i_qp" title='i_qp' data-ref="75i_qp" data-ref-filename="75i_qp">i_qp</a>], <a class="local col3 ref" href="#73h" title='h' data-ref="73h" data-ref-filename="73h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::quant4_bias" title='x264_t::quant4_bias' data-ref="x264_t::quant4_bias" data-ref-filename="x264_t..quant4_bias">quant4_bias</a>[<a class="local col0 ref" href="#80i_quant_cat" title='i_quant_cat' data-ref="80i_quant_cat" data-ref-filename="80i_quant_cat">i_quant_cat</a>][<a class="local col5 ref" href="#75i_qp" title='i_qp' data-ref="75i_qp" data-ref-filename="75i_qp">i_qp</a>] );</td></tr>
<tr><th id="99">99</th><td>}</td></tr>
<tr><th id="100">100</th><td></td></tr>
<tr><th id="101">101</th><td><em>static</em> <a class="macro" href="../common/osdep.h.html#347" title="__attribute__((always_inline)) inline" data-ref="_M/ALWAYS_INLINE">ALWAYS_INLINE</a> <em>int</em> <dfn class="decl def fn" id="x264_quant_8x8" title='x264_quant_8x8' data-ref="x264_quant_8x8" data-ref-filename="x264_quant_8x8">x264_quant_8x8</dfn>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col1 decl" id="81h" title='h' data-type='x264_t *' data-ref="81h" data-ref-filename="81h">h</dfn>, <a class="typedef" href="../common/common.h.html#dctcoef" title='dctcoef' data-type='int32_t' data-ref="dctcoef" data-ref-filename="dctcoef">dctcoef</a> <dfn class="local col2 decl" id="82dct" title='dct' data-type='dctcoef *' data-ref="82dct" data-ref-filename="82dct">dct</dfn>[<var>64</var>], <em>int</em> <dfn class="local col3 decl" id="83i_qp" title='i_qp' data-type='int' data-ref="83i_qp" data-ref-filename="83i_qp">i_qp</dfn>, <em>int</em> <dfn class="local col4 decl" id="84ctx_block_cat" title='ctx_block_cat' data-type='int' data-ref="84ctx_block_cat" data-ref-filename="84ctx_block_cat">ctx_block_cat</dfn>, <em>int</em> <dfn class="local col5 decl" id="85b_intra" title='b_intra' data-type='int' data-ref="85b_intra" data-ref-filename="85b_intra">b_intra</dfn>, <em>int</em> <dfn class="local col6 decl" id="86p" title='p' data-type='int' data-ref="86p" data-ref-filename="86p">p</dfn>, <em>int</em> <dfn class="local col7 decl" id="87idx" title='idx' data-type='int' data-ref="87idx" data-ref-filename="87idx">idx</dfn> )</td></tr>
<tr><th id="102">102</th><td>{</td></tr>
<tr><th id="103">103</th><td>    <em>int</em> <dfn class="local col8 decl" id="88i_quant_cat" title='i_quant_cat' data-type='int' data-ref="88i_quant_cat" data-ref-filename="88i_quant_cat">i_quant_cat</dfn> = <a class="local col5 ref" href="#85b_intra" title='b_intra' data-ref="85b_intra" data-ref-filename="85b_intra">b_intra</a> ? (<a class="local col6 ref" href="#86p" title='p' data-ref="86p" data-ref-filename="86p">p</a>?<a class="enum" href="../common/set.h.html#CQM_8IC" title='CQM_8IC' data-ref="CQM_8IC" data-ref-filename="CQM_8IC">CQM_8IC</a>:<a class="enum" href="../common/set.h.html#CQM_8IY" title='CQM_8IY' data-ref="CQM_8IY" data-ref-filename="CQM_8IY">CQM_8IY</a>) : (<a class="local col6 ref" href="#86p" title='p' data-ref="86p" data-ref-filename="86p">p</a>?<a class="enum" href="../common/set.h.html#CQM_8PC" title='CQM_8PC' data-ref="CQM_8PC" data-ref-filename="CQM_8PC">CQM_8PC</a>:<a class="enum" href="../common/set.h.html#CQM_8PY" title='CQM_8PY' data-ref="CQM_8PY" data-ref-filename="CQM_8PY">CQM_8PY</a>);</td></tr>
<tr><th id="104">104</th><td>    <b>if</b>( <a class="local col1 ref" href="#81h" title='h' data-ref="81h" data-ref-filename="81h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::b_noise_reduction" title='x264_t::(anonymous struct)::b_noise_reduction' data-ref="x264_t::(anonymous)::b_noise_reduction" data-ref-filename="x264_t..(anonymous)..b_noise_reduction">b_noise_reduction</a> )</td></tr>
<tr><th id="105">105</th><td>        <a class="local col1 ref" href="#81h" title='h' data-ref="81h" data-ref-filename="81h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::quantf" title='x264_t::quantf' data-ref="x264_t::quantf" data-ref-filename="x264_t..quantf">quantf</a>.<a class="ref field" href="../common/quant.h.html#(anonymous)::denoise_dct" title='(anonymous struct)::denoise_dct' data-ref="(anonymous)::denoise_dct" data-ref-filename="(anonymous)..denoise_dct">denoise_dct</a>( <a class="local col2 ref" href="#82dct" title='dct' data-ref="82dct" data-ref-filename="82dct">dct</a>, <a class="local col1 ref" href="#81h" title='h' data-ref="81h" data-ref-filename="81h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::nr_residual_sum" title='x264_t::nr_residual_sum' data-ref="x264_t::nr_residual_sum" data-ref-filename="x264_t..nr_residual_sum">nr_residual_sum</a>[<var>1</var>+!!<a class="local col6 ref" href="#86p" title='p' data-ref="86p" data-ref-filename="86p">p</a>*<var>2</var>], <a class="local col1 ref" href="#81h" title='h' data-ref="81h" data-ref-filename="81h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::nr_offset" title='x264_t::nr_offset' data-ref="x264_t::nr_offset" data-ref-filename="x264_t..nr_offset">nr_offset</a>[<var>1</var>+!!<a class="local col6 ref" href="#86p" title='p' data-ref="86p" data-ref-filename="86p">p</a>*<var>2</var>], <var>64</var> );</td></tr>
<tr><th id="106">106</th><td>    <b>if</b>( <a class="local col1 ref" href="#81h" title='h' data-ref="81h" data-ref-filename="81h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::b_trellis" title='x264_t::(anonymous struct)::b_trellis' data-ref="x264_t::(anonymous)::b_trellis" data-ref-filename="x264_t..(anonymous)..b_trellis">b_trellis</a> )</td></tr>
<tr><th id="107">107</th><td>        <b>return</b> <a class="macro" href="#83" title="x264_10_quant_8x8_trellis" data-ref="_M/x264_quant_8x8_trellis">x264_quant_8x8_trellis</a>( <a class="local col1 ref" href="#81h" title='h' data-ref="81h" data-ref-filename="81h">h</a>, <a class="local col2 ref" href="#82dct" title='dct' data-ref="82dct" data-ref-filename="82dct">dct</a>, <a class="local col8 ref" href="#88i_quant_cat" title='i_quant_cat' data-ref="88i_quant_cat" data-ref-filename="88i_quant_cat">i_quant_cat</a>, <a class="local col3 ref" href="#83i_qp" title='i_qp' data-ref="83i_qp" data-ref-filename="83i_qp">i_qp</a>, <a class="local col4 ref" href="#84ctx_block_cat" title='ctx_block_cat' data-ref="84ctx_block_cat" data-ref-filename="84ctx_block_cat">ctx_block_cat</a>, <a class="local col5 ref" href="#85b_intra" title='b_intra' data-ref="85b_intra" data-ref-filename="85b_intra">b_intra</a>, !!<a class="local col6 ref" href="#86p" title='p' data-ref="86p" data-ref-filename="86p">p</a>, <a class="local col7 ref" href="#87idx" title='idx' data-ref="87idx" data-ref-filename="87idx">idx</a>+<a class="local col6 ref" href="#86p" title='p' data-ref="86p" data-ref-filename="86p">p</a>*<var>4</var> );</td></tr>
<tr><th id="108">108</th><td>    <b>else</b></td></tr>
<tr><th id="109">109</th><td>        <b>return</b> <a class="local col1 ref" href="#81h" title='h' data-ref="81h" data-ref-filename="81h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::quantf" title='x264_t::quantf' data-ref="x264_t::quantf" data-ref-filename="x264_t..quantf">quantf</a>.<a class="ref field" href="../common/quant.h.html#(anonymous)::quant_8x8" title='(anonymous struct)::quant_8x8' data-ref="(anonymous)::quant_8x8" data-ref-filename="(anonymous)..quant_8x8">quant_8x8</a>( <a class="local col2 ref" href="#82dct" title='dct' data-ref="82dct" data-ref-filename="82dct">dct</a>, <a class="local col1 ref" href="#81h" title='h' data-ref="81h" data-ref-filename="81h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::quant8_mf" title='x264_t::quant8_mf' data-ref="x264_t::quant8_mf" data-ref-filename="x264_t..quant8_mf">quant8_mf</a>[<a class="local col8 ref" href="#88i_quant_cat" title='i_quant_cat' data-ref="88i_quant_cat" data-ref-filename="88i_quant_cat">i_quant_cat</a>][<a class="local col3 ref" href="#83i_qp" title='i_qp' data-ref="83i_qp" data-ref-filename="83i_qp">i_qp</a>], <a class="local col1 ref" href="#81h" title='h' data-ref="81h" data-ref-filename="81h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::quant8_bias" title='x264_t::quant8_bias' data-ref="x264_t::quant8_bias" data-ref-filename="x264_t..quant8_bias">quant8_bias</a>[<a class="local col8 ref" href="#88i_quant_cat" title='i_quant_cat' data-ref="88i_quant_cat" data-ref-filename="88i_quant_cat">i_quant_cat</a>][<a class="local col3 ref" href="#83i_qp" title='i_qp' data-ref="83i_qp" data-ref-filename="83i_qp">i_qp</a>] );</td></tr>
<tr><th id="110">110</th><td>}</td></tr>
<tr><th id="111">111</th><td></td></tr>
<tr><th id="112">112</th><td><u>#define <dfn class="macro" id="_M/STORE_8x8_NNZ" data-ref="_M/STORE_8x8_NNZ">STORE_8x8_NNZ</dfn>( p, idx, nz )\</u></td></tr>
<tr><th id="113">113</th><td><u>do\</u></td></tr>
<tr><th id="114">114</th><td><u>{\</u></td></tr>
<tr><th id="115">115</th><td><u>    M16( &amp;<a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::cache" title='x264_t::(anonymous struct)::cache' data-ref="x264_t::(anonymous)::cache" data-ref-filename="x264_t..(anonymous)..cache">cache</a>.<a class="ref field" href="../common/common.h.html#620" title='x264_t::(anonymous struct)::(anonymous struct)::non_zero_count' data-ref="x264_t::(anonymousstruct)::(anonymous)::non_zero_count" data-ref-filename="x264_t..(anonymousstruct)..(anonymous)..non_zero_count">non_zero_count</a>[<a class="ref" href="../common/base.h.html#x264_scan8" title='x264_scan8' data-ref="x264_scan8" data-ref-filename="x264_scan8">x264_scan8</a>[p*16+idx*4]+0] ) = (nz) * 0x0101;\</u></td></tr>
<tr><th id="116">116</th><td><u>    M16( &amp;<a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::cache" title='x264_t::(anonymous struct)::cache' data-ref="x264_t::(anonymous)::cache" data-ref-filename="x264_t..(anonymous)..cache">cache</a>.<a class="ref field" href="../common/common.h.html#620" title='x264_t::(anonymous struct)::(anonymous struct)::non_zero_count' data-ref="x264_t::(anonymousstruct)::(anonymous)::non_zero_count" data-ref-filename="x264_t..(anonymousstruct)..(anonymous)..non_zero_count">non_zero_count</a>[<a class="ref" href="../common/base.h.html#x264_scan8" title='x264_scan8' data-ref="x264_scan8" data-ref-filename="x264_scan8">x264_scan8</a>[p*16+idx*4]+8] ) = (nz) * 0x0101;\</u></td></tr>
<tr><th id="117">117</th><td><u>} while( 0 )</u></td></tr>
<tr><th id="118">118</th><td></td></tr>
<tr><th id="119">119</th><td><u>#define <dfn class="macro" id="_M/CLEAR_16x16_NNZ" data-ref="_M/CLEAR_16x16_NNZ">CLEAR_16x16_NNZ</dfn>( p ) \</u></td></tr>
<tr><th id="120">120</th><td><u>do\</u></td></tr>
<tr><th id="121">121</th><td><u>{\</u></td></tr>
<tr><th id="122">122</th><td><u>    M32( &amp;h-&gt;mb.cache.non_zero_count[x264_scan8[16*p] + 0*8] ) = 0;\</u></td></tr>
<tr><th id="123">123</th><td><u>    M32( &amp;h-&gt;mb.cache.non_zero_count[x264_scan8[16*p] + 1*8] ) = 0;\</u></td></tr>
<tr><th id="124">124</th><td><u>    M32( &amp;h-&gt;mb.cache.non_zero_count[x264_scan8[16*p] + 2*8] ) = 0;\</u></td></tr>
<tr><th id="125">125</th><td><u>    M32( &amp;h-&gt;mb.cache.non_zero_count[x264_scan8[16*p] + 3*8] ) = 0;\</u></td></tr>
<tr><th id="126">126</th><td><u>} while( 0 )</u></td></tr>
<tr><th id="127">127</th><td></td></tr>
<tr><th id="128">128</th><td><i>/* A special for loop that iterates branchlessly over each set</i></td></tr>
<tr><th id="129">129</th><td><i> * bit in a 4-bit input. */</i></td></tr>
<tr><th id="130">130</th><td><u>#define <dfn class="macro" id="_M/FOREACH_BIT" data-ref="_M/FOREACH_BIT">FOREACH_BIT</dfn>(idx,start,mask) for( int idx = start, msk = mask, skip; msk &amp;&amp; (skip = x264_ctz_4bit(msk), idx += skip, msk &gt;&gt;= skip+1, 1); idx++ )</u></td></tr>
<tr><th id="131">131</th><td></td></tr>
<tr><th id="132">132</th><td><em>static</em> <a class="macro" href="../common/osdep.h.html#347" title="__attribute__((always_inline)) inline" data-ref="_M/ALWAYS_INLINE">ALWAYS_INLINE</a> <em>void</em> <dfn class="decl def fn" id="x264_mb_encode_i4x4" title='x264_mb_encode_i4x4' data-ref="x264_mb_encode_i4x4" data-ref-filename="x264_mb_encode_i4x4">x264_mb_encode_i4x4</dfn>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col9 decl" id="89h" title='h' data-type='x264_t *' data-ref="89h" data-ref-filename="89h">h</dfn>, <em>int</em> <dfn class="local col0 decl" id="90p" title='p' data-type='int' data-ref="90p" data-ref-filename="90p">p</dfn>, <em>int</em> <dfn class="local col1 decl" id="91idx" title='idx' data-type='int' data-ref="91idx" data-ref-filename="91idx">idx</dfn>, <em>int</em> <dfn class="local col2 decl" id="92i_qp" title='i_qp' data-type='int' data-ref="92i_qp" data-ref-filename="92i_qp">i_qp</dfn>, <em>int</em> <dfn class="local col3 decl" id="93i_mode" title='i_mode' data-type='int' data-ref="93i_mode" data-ref-filename="93i_mode">i_mode</dfn>, <em>int</em> <dfn class="local col4 decl" id="94b_predict" title='b_predict' data-type='int' data-ref="94b_predict" data-ref-filename="94b_predict">b_predict</dfn> )</td></tr>
<tr><th id="133">133</th><td>{</td></tr>
<tr><th id="134">134</th><td>    <em>int</em> <dfn class="local col5 decl" id="95nz" title='nz' data-type='int' data-ref="95nz" data-ref-filename="95nz">nz</dfn>;</td></tr>
<tr><th id="135">135</th><td>    <a class="typedef" href="../common/common.h.html#pixel" title='pixel' data-type='uint16_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> *<dfn class="local col6 decl" id="96p_src" title='p_src' data-type='pixel *' data-ref="96p_src" data-ref-filename="96p_src">p_src</dfn> = &amp;<a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::pic" title='x264_t::(anonymous struct)::pic' data-ref="x264_t::(anonymous)::pic" data-ref-filename="x264_t..(anonymous)..pic">pic</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymousstruct)::(anonymous)::p_fenc" title='x264_t::(anonymous struct)::(anonymous struct)::p_fenc' data-ref="x264_t::(anonymousstruct)::(anonymous)::p_fenc" data-ref-filename="x264_t..(anonymousstruct)..(anonymous)..p_fenc">p_fenc</a>[<a class="local col0 ref" href="#90p" title='p' data-ref="90p" data-ref-filename="90p">p</a>][<a class="ref" href="../common/macroblock.h.html#block_idx_xy_fenc" title='block_idx_xy_fenc' data-ref="block_idx_xy_fenc" data-ref-filename="block_idx_xy_fenc">block_idx_xy_fenc</a>[<a class="local col1 ref" href="#91idx" title='idx' data-ref="91idx" data-ref-filename="91idx">idx</a>]];</td></tr>
<tr><th id="136">136</th><td>    <a class="typedef" href="../common/common.h.html#pixel" title='pixel' data-type='uint16_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> *<dfn class="local col7 decl" id="97p_dst" title='p_dst' data-type='pixel *' data-ref="97p_dst" data-ref-filename="97p_dst">p_dst</dfn> = &amp;<a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::pic" title='x264_t::(anonymous struct)::pic' data-ref="x264_t::(anonymous)::pic" data-ref-filename="x264_t..(anonymous)..pic">pic</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymousstruct)::(anonymous)::p_fdec" title='x264_t::(anonymous struct)::(anonymous struct)::p_fdec' data-ref="x264_t::(anonymousstruct)::(anonymous)::p_fdec" data-ref-filename="x264_t..(anonymousstruct)..(anonymous)..p_fdec">p_fdec</a>[<a class="local col0 ref" href="#90p" title='p' data-ref="90p" data-ref-filename="90p">p</a>][<a class="ref" href="../common/macroblock.h.html#block_idx_xy_fdec" title='block_idx_xy_fdec' data-ref="block_idx_xy_fdec" data-ref-filename="block_idx_xy_fdec">block_idx_xy_fdec</a>[<a class="local col1 ref" href="#91idx" title='idx' data-ref="91idx" data-ref-filename="91idx">idx</a>]];</td></tr>
<tr><th id="137">137</th><td>    <a class="macro" href="../common/osdep.h.html#327" title="dctcoef dct4x4 [16] __attribute__((aligned(64)))" data-ref="_M/ALIGNED_ARRAY_64">ALIGNED_ARRAY_64</a>( <a class="typedef" href="../common/common.h.html#dctcoef" title='dctcoef' data-type='int32_t' data-ref="dctcoef" data-ref-filename="dctcoef">dctcoef</a>, <dfn class="local col8 decl" id="98dct4x4" title='dct4x4' data-type='dctcoef [16]' data-ref="98dct4x4" data-ref-filename="98dct4x4">dct4x4</dfn>,[<var>16</var>] );</td></tr>
<tr><th id="138">138</th><td></td></tr>
<tr><th id="139">139</th><td>    <b>if</b>( <a class="local col4 ref" href="#94b_predict" title='b_predict' data-ref="94b_predict" data-ref-filename="94b_predict">b_predict</a> )</td></tr>
<tr><th id="140">140</th><td>    {</td></tr>
<tr><th id="141">141</th><td>        <b>if</b>( <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::b_lossless" title='x264_t::(anonymous struct)::b_lossless' data-ref="x264_t::(anonymous)::b_lossless" data-ref-filename="x264_t..(anonymous)..b_lossless">b_lossless</a> )</td></tr>
<tr><th id="142">142</th><td>            <a class="macro" href="#43" title="x264_10_predict_lossless_4x4" data-ref="_M/x264_predict_lossless_4x4">x264_predict_lossless_4x4</a>( <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>, <a class="local col7 ref" href="#97p_dst" title='p_dst' data-ref="97p_dst" data-ref-filename="97p_dst">p_dst</a>, <a class="local col0 ref" href="#90p" title='p' data-ref="90p" data-ref-filename="90p">p</a>, <a class="local col1 ref" href="#91idx" title='idx' data-ref="91idx" data-ref-filename="91idx">idx</a>, <a class="local col3 ref" href="#93i_mode" title='i_mode' data-ref="93i_mode" data-ref-filename="93i_mode">i_mode</a> );</td></tr>
<tr><th id="143">143</th><td>        <b>else</b></td></tr>
<tr><th id="144">144</th><td>            <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::predict_4x4" title='x264_t::predict_4x4' data-ref="x264_t::predict_4x4" data-ref-filename="x264_t..predict_4x4">predict_4x4</a>[<a class="local col3 ref" href="#93i_mode" title='i_mode' data-ref="93i_mode" data-ref-filename="93i_mode">i_mode</a>]( <a class="local col7 ref" href="#97p_dst" title='p_dst' data-ref="97p_dst" data-ref-filename="97p_dst">p_dst</a> );</td></tr>
<tr><th id="145">145</th><td>    }</td></tr>
<tr><th id="146">146</th><td></td></tr>
<tr><th id="147">147</th><td>    <b>if</b>( <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::b_lossless" title='x264_t::(anonymous struct)::b_lossless' data-ref="x264_t::(anonymous)::b_lossless" data-ref-filename="x264_t..(anonymous)..b_lossless">b_lossless</a> )</td></tr>
<tr><th id="148">148</th><td>    {</td></tr>
<tr><th id="149">149</th><td>        <a class="local col5 ref" href="#95nz" title='nz' data-ref="95nz" data-ref-filename="95nz">nz</a> = <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::zigzagf" title='x264_t::zigzagf' data-ref="x264_t::zigzagf" data-ref-filename="x264_t..zigzagf">zigzagf</a>.<a class="ref field" href="../common/dct.h.html#(anonymous)::sub_4x4" title='(anonymous struct)::sub_4x4' data-ref="(anonymous)::sub_4x4" data-ref-filename="(anonymous)..sub_4x4">sub_4x4</a>( <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::dct" title='x264_t::dct' data-ref="x264_t::dct" data-ref-filename="x264_t..dct">dct</a>.<a class="ref field" href="../common/common.h.html#434" title='x264_t::(anonymous struct)::luma4x4' data-ref="x264_t::(anonymous)::luma4x4" data-ref-filename="x264_t..(anonymous)..luma4x4">luma4x4</a>[<a class="local col0 ref" href="#90p" title='p' data-ref="90p" data-ref-filename="90p">p</a>*<var>16</var>+<a class="local col1 ref" href="#91idx" title='idx' data-ref="91idx" data-ref-filename="91idx">idx</a>], <a class="local col6 ref" href="#96p_src" title='p_src' data-ref="96p_src" data-ref-filename="96p_src">p_src</a>, <a class="local col7 ref" href="#97p_dst" title='p_dst' data-ref="97p_dst" data-ref-filename="97p_dst">p_dst</a> );</td></tr>
<tr><th id="150">150</th><td>        <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::cache" title='x264_t::(anonymous struct)::cache' data-ref="x264_t::(anonymous)::cache" data-ref-filename="x264_t..(anonymous)..cache">cache</a>.<a class="ref field" href="../common/common.h.html#620" title='x264_t::(anonymous struct)::(anonymous struct)::non_zero_count' data-ref="x264_t::(anonymousstruct)::(anonymous)::non_zero_count" data-ref-filename="x264_t..(anonymousstruct)..(anonymous)..non_zero_count">non_zero_count</a>[<a class="ref" href="../common/base.h.html#x264_scan8" title='x264_scan8' data-ref="x264_scan8" data-ref-filename="x264_scan8">x264_scan8</a>[<a class="local col0 ref" href="#90p" title='p' data-ref="90p" data-ref-filename="90p">p</a>*<var>16</var>+<a class="local col1 ref" href="#91idx" title='idx' data-ref="91idx" data-ref-filename="91idx">idx</a>]] = <a class="local col5 ref" href="#95nz" title='nz' data-ref="95nz" data-ref-filename="95nz">nz</a>;</td></tr>
<tr><th id="151">151</th><td>        <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::i_cbp_luma" title='x264_t::(anonymous struct)::i_cbp_luma' data-ref="x264_t::(anonymous)::i_cbp_luma" data-ref-filename="x264_t..(anonymous)..i_cbp_luma">i_cbp_luma</a> |= <a class="local col5 ref" href="#95nz" title='nz' data-ref="95nz" data-ref-filename="95nz">nz</a>&lt;&lt;(<a class="local col1 ref" href="#91idx" title='idx' data-ref="91idx" data-ref-filename="91idx">idx</a>&gt;&gt;<var>2</var>);</td></tr>
<tr><th id="152">152</th><td>        <b>return</b>;</td></tr>
<tr><th id="153">153</th><td>    }</td></tr>
<tr><th id="154">154</th><td></td></tr>
<tr><th id="155">155</th><td>    <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::dctf" title='x264_t::dctf' data-ref="x264_t::dctf" data-ref-filename="x264_t..dctf">dctf</a>.<a class="ref field" href="../common/dct.h.html#(anonymous)::sub4x4_dct" title='(anonymous struct)::sub4x4_dct' data-ref="(anonymous)::sub4x4_dct" data-ref-filename="(anonymous)..sub4x4_dct">sub4x4_dct</a>( <a class="local col8 ref" href="#137" title='dct4x4' data-ref="98dct4x4" data-ref-filename="98dct4x4">dct4x4</a>, <a class="local col6 ref" href="#96p_src" title='p_src' data-ref="96p_src" data-ref-filename="96p_src">p_src</a>, <a class="local col7 ref" href="#97p_dst" title='p_dst' data-ref="97p_dst" data-ref-filename="97p_dst">p_dst</a> );</td></tr>
<tr><th id="156">156</th><td></td></tr>
<tr><th id="157">157</th><td>    <a class="local col5 ref" href="#95nz" title='nz' data-ref="95nz" data-ref-filename="95nz">nz</a> = <a class="ref fn" href="#x264_quant_4x4" title='x264_quant_4x4' data-ref="x264_quant_4x4" data-ref-filename="x264_quant_4x4">x264_quant_4x4</a>( <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>, <a class="local col8 ref" href="#137" title='dct4x4' data-ref="98dct4x4" data-ref-filename="98dct4x4">dct4x4</a>, <a class="local col2 ref" href="#92i_qp" title='i_qp' data-ref="92i_qp" data-ref-filename="92i_qp">i_qp</a>, <a class="ref" href="../common/macroblock.h.html#ctx_cat_plane" title='ctx_cat_plane' data-ref="ctx_cat_plane" data-ref-filename="ctx_cat_plane">ctx_cat_plane</a>[<a class="enum" href="../common/macroblock.h.html#DCT_LUMA_4x4" title='DCT_LUMA_4x4' data-ref="DCT_LUMA_4x4" data-ref-filename="DCT_LUMA_4x4">DCT_LUMA_4x4</a>][<a class="local col0 ref" href="#90p" title='p' data-ref="90p" data-ref-filename="90p">p</a>], <var>1</var>, <a class="local col0 ref" href="#90p" title='p' data-ref="90p" data-ref-filename="90p">p</a>, <a class="local col1 ref" href="#91idx" title='idx' data-ref="91idx" data-ref-filename="91idx">idx</a> );</td></tr>
<tr><th id="158">158</th><td>    <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::cache" title='x264_t::(anonymous struct)::cache' data-ref="x264_t::(anonymous)::cache" data-ref-filename="x264_t..(anonymous)..cache">cache</a>.<a class="ref field" href="../common/common.h.html#620" title='x264_t::(anonymous struct)::(anonymous struct)::non_zero_count' data-ref="x264_t::(anonymousstruct)::(anonymous)::non_zero_count" data-ref-filename="x264_t..(anonymousstruct)..(anonymous)..non_zero_count">non_zero_count</a>[<a class="ref" href="../common/base.h.html#x264_scan8" title='x264_scan8' data-ref="x264_scan8" data-ref-filename="x264_scan8">x264_scan8</a>[<a class="local col0 ref" href="#90p" title='p' data-ref="90p" data-ref-filename="90p">p</a>*<var>16</var>+<a class="local col1 ref" href="#91idx" title='idx' data-ref="91idx" data-ref-filename="91idx">idx</a>]] = <a class="local col5 ref" href="#95nz" title='nz' data-ref="95nz" data-ref-filename="95nz">nz</a>;</td></tr>
<tr><th id="159">159</th><td>    <b>if</b>( <a class="local col5 ref" href="#95nz" title='nz' data-ref="95nz" data-ref-filename="95nz">nz</a> )</td></tr>
<tr><th id="160">160</th><td>    {</td></tr>
<tr><th id="161">161</th><td>        <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::i_cbp_luma" title='x264_t::(anonymous struct)::i_cbp_luma' data-ref="x264_t::(anonymous)::i_cbp_luma" data-ref-filename="x264_t..(anonymous)..i_cbp_luma">i_cbp_luma</a> |= <var>1</var>&lt;&lt;(<a class="local col1 ref" href="#91idx" title='idx' data-ref="91idx" data-ref-filename="91idx">idx</a>&gt;&gt;<var>2</var>);</td></tr>
<tr><th id="162">162</th><td>        <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::zigzagf" title='x264_t::zigzagf' data-ref="x264_t::zigzagf" data-ref-filename="x264_t..zigzagf">zigzagf</a>.<a class="ref field" href="../common/dct.h.html#(anonymous)::scan_4x4" title='(anonymous struct)::scan_4x4' data-ref="(anonymous)::scan_4x4" data-ref-filename="(anonymous)..scan_4x4">scan_4x4</a>( <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::dct" title='x264_t::dct' data-ref="x264_t::dct" data-ref-filename="x264_t..dct">dct</a>.<a class="ref field" href="../common/common.h.html#434" title='x264_t::(anonymous struct)::luma4x4' data-ref="x264_t::(anonymous)::luma4x4" data-ref-filename="x264_t..(anonymous)..luma4x4">luma4x4</a>[<a class="local col0 ref" href="#90p" title='p' data-ref="90p" data-ref-filename="90p">p</a>*<var>16</var>+<a class="local col1 ref" href="#91idx" title='idx' data-ref="91idx" data-ref-filename="91idx">idx</a>], <a class="local col8 ref" href="#137" title='dct4x4' data-ref="98dct4x4" data-ref-filename="98dct4x4">dct4x4</a> );</td></tr>
<tr><th id="163">163</th><td>        <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::quantf" title='x264_t::quantf' data-ref="x264_t::quantf" data-ref-filename="x264_t..quantf">quantf</a>.<a class="ref field" href="../common/quant.h.html#(anonymous)::dequant_4x4" title='(anonymous struct)::dequant_4x4' data-ref="(anonymous)::dequant_4x4" data-ref-filename="(anonymous)..dequant_4x4">dequant_4x4</a>( <a class="local col8 ref" href="#137" title='dct4x4' data-ref="98dct4x4" data-ref-filename="98dct4x4">dct4x4</a>, <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::dequant4_mf" title='x264_t::dequant4_mf' data-ref="x264_t::dequant4_mf" data-ref-filename="x264_t..dequant4_mf">dequant4_mf</a>[<a class="local col0 ref" href="#90p" title='p' data-ref="90p" data-ref-filename="90p">p</a>?<a class="enum" href="../common/set.h.html#CQM_4IC" title='CQM_4IC' data-ref="CQM_4IC" data-ref-filename="CQM_4IC">CQM_4IC</a>:<a class="enum" href="../common/set.h.html#CQM_4IY" title='CQM_4IY' data-ref="CQM_4IY" data-ref-filename="CQM_4IY">CQM_4IY</a>], <a class="local col2 ref" href="#92i_qp" title='i_qp' data-ref="92i_qp" data-ref-filename="92i_qp">i_qp</a> );</td></tr>
<tr><th id="164">164</th><td>        <a class="local col9 ref" href="#89h" title='h' data-ref="89h" data-ref-filename="89h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::dctf" title='x264_t::dctf' data-ref="x264_t::dctf" data-ref-filename="x264_t..dctf">dctf</a>.<a class="ref field" href="../common/dct.h.html#(anonymous)::add4x4_idct" title='(anonymous struct)::add4x4_idct' data-ref="(anonymous)::add4x4_idct" data-ref-filename="(anonymous)..add4x4_idct">add4x4_idct</a>( <a class="local col7 ref" href="#97p_dst" title='p_dst' data-ref="97p_dst" data-ref-filename="97p_dst">p_dst</a>, <a class="local col8 ref" href="#137" title='dct4x4' data-ref="98dct4x4" data-ref-filename="98dct4x4">dct4x4</a> );</td></tr>
<tr><th id="165">165</th><td>    }</td></tr>
<tr><th id="166">166</th><td>}</td></tr>
<tr><th id="167">167</th><td></td></tr>
<tr><th id="168">168</th><td><em>static</em> <a class="macro" href="../common/osdep.h.html#347" title="__attribute__((always_inline)) inline" data-ref="_M/ALWAYS_INLINE">ALWAYS_INLINE</a> <em>void</em> <dfn class="decl def fn" id="x264_mb_encode_i8x8" title='x264_mb_encode_i8x8' data-ref="x264_mb_encode_i8x8" data-ref-filename="x264_mb_encode_i8x8">x264_mb_encode_i8x8</dfn>( <a class="typedef" href="../x264.h.html#x264_t" title='x264_t' data-type='struct x264_t' data-ref="x264_t" data-ref-filename="x264_t">x264_t</a> *<dfn class="local col9 decl" id="99h" title='h' data-type='x264_t *' data-ref="99h" data-ref-filename="99h">h</dfn>, <em>int</em> <dfn class="local col0 decl" id="100p" title='p' data-type='int' data-ref="100p" data-ref-filename="100p">p</dfn>, <em>int</em> <dfn class="local col1 decl" id="101idx" title='idx' data-type='int' data-ref="101idx" data-ref-filename="101idx">idx</dfn>, <em>int</em> <dfn class="local col2 decl" id="102i_qp" title='i_qp' data-type='int' data-ref="102i_qp" data-ref-filename="102i_qp">i_qp</dfn>, <em>int</em> <dfn class="local col3 decl" id="103i_mode" title='i_mode' data-type='int' data-ref="103i_mode" data-ref-filename="103i_mode">i_mode</dfn>, <a class="typedef" href="../common/common.h.html#pixel" title='pixel' data-type='uint16_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> *<dfn class="local col4 decl" id="104edge" title='edge' data-type='pixel *' data-ref="104edge" data-ref-filename="104edge">edge</dfn>, <em>int</em> <dfn class="local col5 decl" id="105b_predict" title='b_predict' data-type='int' data-ref="105b_predict" data-ref-filename="105b_predict">b_predict</dfn> )</td></tr>
<tr><th id="169">169</th><td>{</td></tr>
<tr><th id="170">170</th><td>    <em>int</em> <dfn class="local col6 decl" id="106x" title='x' data-type='int' data-ref="106x" data-ref-filename="106x">x</dfn> = <a class="local col1 ref" href="#101idx" title='idx' data-ref="101idx" data-ref-filename="101idx">idx</a>&amp;<var>1</var>;</td></tr>
<tr><th id="171">171</th><td>    <em>int</em> <dfn class="local col7 decl" id="107y" title='y' data-type='int' data-ref="107y" data-ref-filename="107y">y</dfn> = <a class="local col1 ref" href="#101idx" title='idx' data-ref="101idx" data-ref-filename="101idx">idx</a>&gt;&gt;<var>1</var>;</td></tr>
<tr><th id="172">172</th><td>    <em>int</em> <dfn class="local col8 decl" id="108nz" title='nz' data-type='int' data-ref="108nz" data-ref-filename="108nz">nz</dfn>;</td></tr>
<tr><th id="173">173</th><td>    <a class="typedef" href="../common/common.h.html#pixel" title='pixel' data-type='uint16_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> *<dfn class="local col9 decl" id="109p_src" title='p_src' data-type='pixel *' data-ref="109p_src" data-ref-filename="109p_src">p_src</dfn> = &amp;<a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::pic" title='x264_t::(anonymous struct)::pic' data-ref="x264_t::(anonymous)::pic" data-ref-filename="x264_t..(anonymous)..pic">pic</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymousstruct)::(anonymous)::p_fenc" title='x264_t::(anonymous struct)::(anonymous struct)::p_fenc' data-ref="x264_t::(anonymousstruct)::(anonymous)::p_fenc" data-ref-filename="x264_t..(anonymousstruct)..(anonymous)..p_fenc">p_fenc</a>[<a class="local col0 ref" href="#100p" title='p' data-ref="100p" data-ref-filename="100p">p</a>][<var>8</var>*<a class="local col6 ref" href="#106x" title='x' data-ref="106x" data-ref-filename="106x">x</a> + <var>8</var>*<a class="local col7 ref" href="#107y" title='y' data-ref="107y" data-ref-filename="107y">y</a>*<a class="macro" href="../common/common.h.html#570" title="16" data-ref="_M/FENC_STRIDE">FENC_STRIDE</a>];</td></tr>
<tr><th id="174">174</th><td>    <a class="typedef" href="../common/common.h.html#pixel" title='pixel' data-type='uint16_t' data-ref="pixel" data-ref-filename="pixel">pixel</a> *<dfn class="local col0 decl" id="110p_dst" title='p_dst' data-type='pixel *' data-ref="110p_dst" data-ref-filename="110p_dst">p_dst</dfn> = &amp;<a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::pic" title='x264_t::(anonymous struct)::pic' data-ref="x264_t::(anonymous)::pic" data-ref-filename="x264_t..(anonymous)..pic">pic</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymousstruct)::(anonymous)::p_fdec" title='x264_t::(anonymous struct)::(anonymous struct)::p_fdec' data-ref="x264_t::(anonymousstruct)::(anonymous)::p_fdec" data-ref-filename="x264_t..(anonymousstruct)..(anonymous)..p_fdec">p_fdec</a>[<a class="local col0 ref" href="#100p" title='p' data-ref="100p" data-ref-filename="100p">p</a>][<var>8</var>*<a class="local col6 ref" href="#106x" title='x' data-ref="106x" data-ref-filename="106x">x</a> + <var>8</var>*<a class="local col7 ref" href="#107y" title='y' data-ref="107y" data-ref-filename="107y">y</a>*<a class="macro" href="../common/common.h.html#571" title="32" data-ref="_M/FDEC_STRIDE">FDEC_STRIDE</a>];</td></tr>
<tr><th id="175">175</th><td>    <a class="macro" href="../common/osdep.h.html#327" title="dctcoef dct8x8 [64] __attribute__((aligned(64)))" data-ref="_M/ALIGNED_ARRAY_64">ALIGNED_ARRAY_64</a>( <a class="typedef" href="../common/common.h.html#dctcoef" title='dctcoef' data-type='int32_t' data-ref="dctcoef" data-ref-filename="dctcoef">dctcoef</a>, <dfn class="local col1 decl" id="111dct8x8" title='dct8x8' data-type='dctcoef [64]' data-ref="111dct8x8" data-ref-filename="111dct8x8">dct8x8</dfn>,[<var>64</var>] );</td></tr>
<tr><th id="176">176</th><td>    <a class="macro" href="../common/osdep.h.html#322" title="pixel edge_buf [36] __attribute__((aligned(32)))" data-ref="_M/ALIGNED_ARRAY_32">ALIGNED_ARRAY_32</a>( <a class="typedef" href="../common/common.h.html#pixel" title='pixel' data-type='uint16_t' data-ref="pixel" data-ref-filename="pixel">pixel</a>, <dfn class="local col2 decl" id="112edge_buf" title='edge_buf' data-type='pixel [36]' data-ref="112edge_buf" data-ref-filename="112edge_buf">edge_buf</dfn>,[<var>36</var>] );</td></tr>
<tr><th id="177">177</th><td></td></tr>
<tr><th id="178">178</th><td>    <b>if</b>( <a class="local col5 ref" href="#105b_predict" title='b_predict' data-ref="105b_predict" data-ref-filename="105b_predict">b_predict</a> )</td></tr>
<tr><th id="179">179</th><td>    {</td></tr>
<tr><th id="180">180</th><td>        <b>if</b>( !<a class="local col4 ref" href="#104edge" title='edge' data-ref="104edge" data-ref-filename="104edge">edge</a> )</td></tr>
<tr><th id="181">181</th><td>        {</td></tr>
<tr><th id="182">182</th><td>            <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::predict_8x8_filter" title='x264_t::predict_8x8_filter' data-ref="x264_t::predict_8x8_filter" data-ref-filename="x264_t..predict_8x8_filter">predict_8x8_filter</a>( <a class="local col0 ref" href="#110p_dst" title='p_dst' data-ref="110p_dst" data-ref-filename="110p_dst">p_dst</a>, <a class="local col2 ref" href="#176" title='edge_buf' data-ref="112edge_buf" data-ref-filename="112edge_buf">edge_buf</a>, <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::i_neighbour8" title='x264_t::(anonymous struct)::i_neighbour8' data-ref="x264_t::(anonymous)::i_neighbour8" data-ref-filename="x264_t..(anonymous)..i_neighbour8">i_neighbour8</a>[<a class="local col1 ref" href="#101idx" title='idx' data-ref="101idx" data-ref-filename="101idx">idx</a>], <a class="ref" href="../common/macroblock.h.html#x264_pred_i4x4_neighbors" title='x264_pred_i4x4_neighbors' data-ref="x264_pred_i4x4_neighbors" data-ref-filename="x264_pred_i4x4_neighbors">x264_pred_i4x4_neighbors</a>[<a class="local col3 ref" href="#103i_mode" title='i_mode' data-ref="103i_mode" data-ref-filename="103i_mode">i_mode</a>] );</td></tr>
<tr><th id="183">183</th><td>            <a class="local col4 ref" href="#104edge" title='edge' data-ref="104edge" data-ref-filename="104edge">edge</a> = <a class="local col2 ref" href="#176" title='edge_buf' data-ref="112edge_buf" data-ref-filename="112edge_buf">edge_buf</a>;</td></tr>
<tr><th id="184">184</th><td>        }</td></tr>
<tr><th id="185">185</th><td></td></tr>
<tr><th id="186">186</th><td>        <b>if</b>( <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::b_lossless" title='x264_t::(anonymous struct)::b_lossless' data-ref="x264_t::(anonymous)::b_lossless" data-ref-filename="x264_t..(anonymous)..b_lossless">b_lossless</a> )</td></tr>
<tr><th id="187">187</th><td>            <a class="macro" href="#45" title="x264_10_predict_lossless_8x8" data-ref="_M/x264_predict_lossless_8x8">x264_predict_lossless_8x8</a>( <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>, <a class="local col0 ref" href="#110p_dst" title='p_dst' data-ref="110p_dst" data-ref-filename="110p_dst">p_dst</a>, <a class="local col0 ref" href="#100p" title='p' data-ref="100p" data-ref-filename="100p">p</a>, <a class="local col1 ref" href="#101idx" title='idx' data-ref="101idx" data-ref-filename="101idx">idx</a>, <a class="local col3 ref" href="#103i_mode" title='i_mode' data-ref="103i_mode" data-ref-filename="103i_mode">i_mode</a>, <a class="local col4 ref" href="#104edge" title='edge' data-ref="104edge" data-ref-filename="104edge">edge</a> );</td></tr>
<tr><th id="188">188</th><td>        <b>else</b></td></tr>
<tr><th id="189">189</th><td>            <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::predict_8x8" title='x264_t::predict_8x8' data-ref="x264_t::predict_8x8" data-ref-filename="x264_t..predict_8x8">predict_8x8</a>[<a class="local col3 ref" href="#103i_mode" title='i_mode' data-ref="103i_mode" data-ref-filename="103i_mode">i_mode</a>]( <a class="local col0 ref" href="#110p_dst" title='p_dst' data-ref="110p_dst" data-ref-filename="110p_dst">p_dst</a>, <a class="local col4 ref" href="#104edge" title='edge' data-ref="104edge" data-ref-filename="104edge">edge</a> );</td></tr>
<tr><th id="190">190</th><td>    }</td></tr>
<tr><th id="191">191</th><td></td></tr>
<tr><th id="192">192</th><td>    <b>if</b>( <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::b_lossless" title='x264_t::(anonymous struct)::b_lossless' data-ref="x264_t::(anonymous)::b_lossless" data-ref-filename="x264_t..(anonymous)..b_lossless">b_lossless</a> )</td></tr>
<tr><th id="193">193</th><td>    {</td></tr>
<tr><th id="194">194</th><td>        <a class="local col8 ref" href="#108nz" title='nz' data-ref="108nz" data-ref-filename="108nz">nz</a> = <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::zigzagf" title='x264_t::zigzagf' data-ref="x264_t::zigzagf" data-ref-filename="x264_t..zigzagf">zigzagf</a>.<a class="ref field" href="../common/dct.h.html#(anonymous)::sub_8x8" title='(anonymous struct)::sub_8x8' data-ref="(anonymous)::sub_8x8" data-ref-filename="(anonymous)..sub_8x8">sub_8x8</a>( <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::dct" title='x264_t::dct' data-ref="x264_t::dct" data-ref-filename="x264_t..dct">dct</a>.<a class="ref field" href="../common/common.h.html#433" title='x264_t::(anonymous struct)::luma8x8' data-ref="x264_t::(anonymous)::luma8x8" data-ref-filename="x264_t..(anonymous)..luma8x8">luma8x8</a>[<a class="local col0 ref" href="#100p" title='p' data-ref="100p" data-ref-filename="100p">p</a>*<var>4</var>+<a class="local col1 ref" href="#101idx" title='idx' data-ref="101idx" data-ref-filename="101idx">idx</a>], <a class="local col9 ref" href="#109p_src" title='p_src' data-ref="109p_src" data-ref-filename="109p_src">p_src</a>, <a class="local col0 ref" href="#110p_dst" title='p_dst' data-ref="110p_dst" data-ref-filename="110p_dst">p_dst</a> );</td></tr>
<tr><th id="195">195</th><td>        <a class="macro" href="#112" title="do{ (((x264_union16_t*)(&amp;h-&gt;mb.cache.non_zero_count[x264_scan8[p*16+idx*4]+0]))-&gt;i) = (nz) * 0x0101; (((x264_union16_t*)(&amp;h-&gt;mb.cache.non_zero_count[x264_scan8[p*16+idx*4]+8]))-&gt;i) = (nz) * 0x0101;} while( 0 )" data-ref="_M/STORE_8x8_NNZ">STORE_8x8_NNZ</a>( <a class="local col0 ref" href="#100p" title='p' data-ref="100p" data-ref-filename="100p">p</a>, <a class="local col1 ref" href="#101idx" title='idx' data-ref="101idx" data-ref-filename="101idx">idx</a>, <a class="local col8 ref" href="#108nz" title='nz' data-ref="108nz" data-ref-filename="108nz">nz</a> );</td></tr>
<tr><th id="196">196</th><td>        <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::i_cbp_luma" title='x264_t::(anonymous struct)::i_cbp_luma' data-ref="x264_t::(anonymous)::i_cbp_luma" data-ref-filename="x264_t..(anonymous)..i_cbp_luma">i_cbp_luma</a> |= <a class="local col8 ref" href="#108nz" title='nz' data-ref="108nz" data-ref-filename="108nz">nz</a>&lt;&lt;<a class="local col1 ref" href="#101idx" title='idx' data-ref="101idx" data-ref-filename="101idx">idx</a>;</td></tr>
<tr><th id="197">197</th><td>        <b>return</b>;</td></tr>
<tr><th id="198">198</th><td>    }</td></tr>
<tr><th id="199">199</th><td></td></tr>
<tr><th id="200">200</th><td>    <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::dctf" title='x264_t::dctf' data-ref="x264_t::dctf" data-ref-filename="x264_t..dctf">dctf</a>.<a class="ref field" href="../common/dct.h.html#(anonymous)::sub8x8_dct8" title='(anonymous struct)::sub8x8_dct8' data-ref="(anonymous)::sub8x8_dct8" data-ref-filename="(anonymous)..sub8x8_dct8">sub8x8_dct8</a>( <a class="local col1 ref" href="#175" title='dct8x8' data-ref="111dct8x8" data-ref-filename="111dct8x8">dct8x8</a>, <a class="local col9 ref" href="#109p_src" title='p_src' data-ref="109p_src" data-ref-filename="109p_src">p_src</a>, <a class="local col0 ref" href="#110p_dst" title='p_dst' data-ref="110p_dst" data-ref-filename="110p_dst">p_dst</a> );</td></tr>
<tr><th id="201">201</th><td></td></tr>
<tr><th id="202">202</th><td>    <a class="local col8 ref" href="#108nz" title='nz' data-ref="108nz" data-ref-filename="108nz">nz</a> = <a class="ref fn" href="#x264_quant_8x8" title='x264_quant_8x8' data-ref="x264_quant_8x8" data-ref-filename="x264_quant_8x8">x264_quant_8x8</a>( <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>, <a class="local col1 ref" href="#175" title='dct8x8' data-ref="111dct8x8" data-ref-filename="111dct8x8">dct8x8</a>, <a class="local col2 ref" href="#102i_qp" title='i_qp' data-ref="102i_qp" data-ref-filename="102i_qp">i_qp</a>, <a class="ref" href="../common/macroblock.h.html#ctx_cat_plane" title='ctx_cat_plane' data-ref="ctx_cat_plane" data-ref-filename="ctx_cat_plane">ctx_cat_plane</a>[<a class="enum" href="../common/macroblock.h.html#DCT_LUMA_8x8" title='DCT_LUMA_8x8' data-ref="DCT_LUMA_8x8" data-ref-filename="DCT_LUMA_8x8">DCT_LUMA_8x8</a>][<a class="local col0 ref" href="#100p" title='p' data-ref="100p" data-ref-filename="100p">p</a>], <var>1</var>, <a class="local col0 ref" href="#100p" title='p' data-ref="100p" data-ref-filename="100p">p</a>, <a class="local col1 ref" href="#101idx" title='idx' data-ref="101idx" data-ref-filename="101idx">idx</a> );</td></tr>
<tr><th id="203">203</th><td>    <b>if</b>( <a class="local col8 ref" href="#108nz" title='nz' data-ref="108nz" data-ref-filename="108nz">nz</a> )</td></tr>
<tr><th id="204">204</th><td>    {</td></tr>
<tr><th id="205">205</th><td>        <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::mb" title='x264_t::mb' data-ref="x264_t::mb" data-ref-filename="x264_t..mb">mb</a>.<a class="ref field" href="../common/common.h.html#x264_t::(anonymous)::i_cbp_luma" title='x264_t::(anonymous struct)::i_cbp_luma' data-ref="x264_t::(anonymous)::i_cbp_luma" data-ref-filename="x264_t..(anonymous)..i_cbp_luma">i_cbp_luma</a> |= <var>1</var>&lt;&lt;<a class="local col1 ref" href="#101idx" title='idx' data-ref="101idx" data-ref-filename="101idx">idx</a>;</td></tr>
<tr><th id="206">206</th><td>        <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::zigzagf" title='x264_t::zigzagf' data-ref="x264_t::zigzagf" data-ref-filename="x264_t..zigzagf">zigzagf</a>.<a class="ref field" href="../common/dct.h.html#(anonymous)::scan_8x8" title='(anonymous struct)::scan_8x8' data-ref="(anonymous)::scan_8x8" data-ref-filename="(anonymous)..scan_8x8">scan_8x8</a>( <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::dct" title='x264_t::dct' data-ref="x264_t::dct" data-ref-filename="x264_t..dct">dct</a>.<a class="ref field" href="../common/common.h.html#433" title='x264_t::(anonymous struct)::luma8x8' data-ref="x264_t::(anonymous)::luma8x8" data-ref-filename="x264_t..(anonymous)..luma8x8">luma8x8</a>[<a class="local col0 ref" href="#100p" title='p' data-ref="100p" data-ref-filename="100p">p</a>*<var>4</var>+<a class="local col1 ref" href="#101idx" title='idx' data-ref="101idx" data-ref-filename="101idx">idx</a>], <a class="local col1 ref" href="#175" title='dct8x8' data-ref="111dct8x8" data-ref-filename="111dct8x8">dct8x8</a> );</td></tr>
<tr><th id="207">207</th><td>        <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::quantf" title='x264_t::quantf' data-ref="x264_t::quantf" data-ref-filename="x264_t..quantf">quantf</a>.<a class="ref field" href="../common/quant.h.html#(anonymous)::dequant_8x8" title='(anonymous struct)::dequant_8x8' data-ref="(anonymous)::dequant_8x8" data-ref-filename="(anonymous)..dequant_8x8">dequant_8x8</a>( <a class="local col1 ref" href="#175" title='dct8x8' data-ref="111dct8x8" data-ref-filename="111dct8x8">dct8x8</a>, <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::dequant8_mf" title='x264_t::dequant8_mf' data-ref="x264_t::dequant8_mf" data-ref-filename="x264_t..dequant8_mf">dequant8_mf</a>[<a class="local col0 ref" href="#100p" title='p' data-ref="100p" data-ref-filename="100p">p</a>?<a class="enum" href="../common/set.h.html#CQM_8IC" title='CQM_8IC' data-ref="CQM_8IC" data-ref-filename="CQM_8IC">CQM_8IC</a>:<a class="enum" href="../common/set.h.html#CQM_8IY" title='CQM_8IY' data-ref="CQM_8IY" data-ref-filename="CQM_8IY">CQM_8IY</a>], <a class="local col2 ref" href="#102i_qp" title='i_qp' data-ref="102i_qp" data-ref-filename="102i_qp">i_qp</a> );</td></tr>
<tr><th id="208">208</th><td>        <a class="local col9 ref" href="#99h" title='h' data-ref="99h" data-ref-filename="99h">h</a>-&gt;<a class="ref field" href="../common/common.h.html#x264_t::dctf" title='x264_t::dctf' data-ref="x264_t::dctf" data-ref-filename="x264_t..dctf">dctf</a>.<a class="ref field" href="../common/dct.h.html#(anonymous)::add8x8_idct8" title='(anonymous struct)::add8x8_idct8' data-ref="(anonymous)::add8x8_idct8" data-ref-filename="(anonymous)..add8x8_idct8">add8x8_idct8</a>( <a class="local col0 ref" href="#110p_dst" title='p_dst' data-ref="110p_dst" data-ref-filename="110p_dst">p_dst</a>, <a class="local col1 ref" href="#175" title='dct8x8' data-ref="111dct8x8" data-ref-filename="111dct8x8">dct8x8</a> );</td></tr>
<tr><th id="209">209</th><td>        <a class="macro" href="#112" title="do{ (((x264_union16_t*)(&amp;h-&gt;mb.cache.non_zero_count[x264_scan8[p*16+idx*4]+0]))-&gt;i) = (1) * 0x0101; (((x264_union16_t*)(&amp;h-&gt;mb.cache.non_zero_count[x264_scan8[p*16+idx*4]+8]))-&gt;i) = (1) * 0x0101;} while( 0 )" data-ref="_M/STORE_8x8_NNZ">STORE_8x8_NNZ</a>( <a class="local col0 ref" href="#100p" title='p' data-ref="100p" data-ref-filename="100p">p</a>, <a class="local col1 ref" href="#101idx" title='idx' data-ref="101idx" data-ref-filename="101idx">idx</a>, <var>1</var> );</td></tr>
<tr><th id="210">210</th><td>    }</td></tr>
<tr><th id="211">211</th><td>    <b>else</b></td></tr>
<tr><th id="212">212</th><td>        <a class="macro" href="#112" title="do{ (((x264_union16_t*)(&amp;h-&gt;mb.cache.non_zero_count[x264_scan8[p*16+idx*4]+0]))-&gt;i) = (0) * 0x0101; (((x264_union16_t*)(&amp;h-&gt;mb.cache.non_zero_count[x264_scan8[p*16+idx*4]+8]))-&gt;i) = (0) * 0x0101;} while( 0 )" data-ref="_M/STORE_8x8_NNZ">STORE_8x8_NNZ</a>( <a class="local col0 ref" href="#100p" title='p' data-ref="100p" data-ref-filename="100p">p</a>, <a class="local col1 ref" href="#101idx" title='idx' data-ref="101idx" data-ref-filename="101idx">idx</a>, <var>0</var> );</td></tr>
<tr><th id="213">213</th><td>}</td></tr>
<tr><th id="214">214</th><td></td></tr>
<tr><th id="215">215</th><td><u>#<span data-ppcond="27">endif</span></u></td></tr>
<tr><th id="216">216</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='analyse.c.html'>x264/encoder/analyse.c</a><br/>Generated on <em>2021-Jul-15</em> from project x264 revision <em>20210613-gae03d92b52bb7581df2e75d571989cb1ecd19cbd</em>