<dec f='x264/encoder/rdo.c' l='449'/>
<use f='x264/encoder/rdo.c' l='472' u='c'/>
<use f='x264/encoder/rdo.c' l='489' u='c'/>
<use f='x264/encoder/rdo.c' l='888' u='c'/>
<doc f='x264/encoder/rdo.c' l='429'>// TODO:
// save cabac state between blocks?
// use trellis&apos; RD score instead of x264_mb_decimate_score?
// code 8x8 sig/last flags forwards with deadzone and save the contexts at
//   each position?
// change weights when using CQMs?

// possible optimizations:
// make scores fit in 32bit
// save quantized coefs during rd, to avoid a duplicate trellis in the final encode
// if trellissing all MBRD modes, finish SSD calculation so we can skip all of
//   the normal dequant/idct/ssd/cabac

// the unquant_mf here is not the same as dequant_mf:
// in normal operation (dct-&gt;quant-&gt;dequant-&gt;idct) the dct and idct are not
// normalized. quant/dequant absorb those scaling factors.
// in this function, we just do (quant-&gt;unquant) and want the output to be
// comparable to the input. so unquant is the direct inverse of quant,
// and uses the dct scaling factors, not the idct ones.</doc>
