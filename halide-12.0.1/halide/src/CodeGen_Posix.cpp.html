<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>CodeGen_Posix.cpp source code [halide/src/CodeGen_Posix.cpp] - Woboq Code Browser</title>
<link rel="stylesheet" href="../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'halide/src/CodeGen_Posix.cpp'; var root_path = '../..'; var data_path = '../.././data'; var ecma_script_api_version = 2;</script>
<script src='../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='..'>halide</a>/<a href='./'>src</a>/<a href='CodeGen_Posix.cpp.html'>CodeGen_Posix.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><u>#include &lt;iostream&gt;</u></td></tr>
<tr><th id="2">2</th><td></td></tr>
<tr><th id="3">3</th><td><u>#include <a href="CSE.h.html">"CSE.h"</a></u></td></tr>
<tr><th id="4">4</th><td><u>#include <a href="CodeGen_Internal.h.html">"CodeGen_Internal.h"</a></u></td></tr>
<tr><th id="5">5</th><td><u>#include <a href="CodeGen_Posix.h.html">"CodeGen_Posix.h"</a></u></td></tr>
<tr><th id="6">6</th><td><u>#include <a href="Debug.h.html">"Debug.h"</a></u></td></tr>
<tr><th id="7">7</th><td><u>#include <a href="IR.h.html">"IR.h"</a></u></td></tr>
<tr><th id="8">8</th><td><u>#include <a href="IROperator.h.html">"IROperator.h"</a></u></td></tr>
<tr><th id="9">9</th><td><u>#include <a href="IRPrinter.h.html">"IRPrinter.h"</a></u></td></tr>
<tr><th id="10">10</th><td><u>#include <a href="LLVM_Headers.h.html">"LLVM_Headers.h"</a></u></td></tr>
<tr><th id="11">11</th><td><u>#include <a href="Simplify.h.html">"Simplify.h"</a></u></td></tr>
<tr><th id="12">12</th><td></td></tr>
<tr><th id="13">13</th><td><b>namespace</b> <span class="namespace">Halide</span> {</td></tr>
<tr><th id="14">14</th><td><b>namespace</b> <span class="namespace">Internal</span> {</td></tr>
<tr><th id="15">15</th><td></td></tr>
<tr><th id="16">16</th><td><b>using</b> <span class="namespace">std::</span>string;</td></tr>
<tr><th id="17">17</th><td><b>using</b> <span class="namespace">std::</span>vector;</td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><b>using</b> <b>namespace</b> <span class="namespace">llvm</span>;</td></tr>
<tr><th id="20">20</th><td></td></tr>
<tr><th id="21">21</th><td><a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix" title='Halide::Internal::CodeGen_Posix' data-ref="Halide::Internal::CodeGen_Posix" data-ref-filename="Halide..Internal..CodeGen_Posix">CodeGen_Posix</a>::<dfn class="decl def fn" id="_ZN6Halide8Internal13CodeGen_PosixC1ERKNS_6TargetE" title='Halide::Internal::CodeGen_Posix::CodeGen_Posix' data-ref="_ZN6Halide8Internal13CodeGen_PosixC1ERKNS_6TargetE" data-ref-filename="_ZN6Halide8Internal13CodeGen_PosixC1ERKNS_6TargetE">CodeGen_Posix</dfn>(<em>const</em> <a class="type" href="Target.h.html#Halide::Target" title='Halide::Target' data-ref="Halide::Target" data-ref-filename="Halide..Target">Target</a> &amp;<dfn class="local col1 decl" id="1t" title='t' data-type='const Halide::Target &amp;' data-ref="1t" data-ref-filename="1t">t</dfn>)</td></tr>
<tr><th id="22">22</th><td>    : <a class="type" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM" title='Halide::Internal::CodeGen_LLVM' data-ref="Halide::Internal::CodeGen_LLVM" data-ref-filename="Halide..Internal..CodeGen_LLVM">CodeGen_LLVM</a><a class="ref fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVMC1ERKNS_6TargetE" title='Halide::Internal::CodeGen_LLVM::CodeGen_LLVM' data-ref="_ZN6Halide8Internal12CodeGen_LLVMC1ERKNS_6TargetE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVMC1ERKNS_6TargetE">(</a><a class="local col1 ref" href="#1t" title='t' data-ref="1t" data-ref-filename="1t">t</a>) {</td></tr>
<tr><th id="23">23</th><td>}</td></tr>
<tr><th id="24">24</th><td></td></tr>
<tr><th id="25">25</th><td><a class="type" href="../llvm-install/include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix" title='Halide::Internal::CodeGen_Posix' data-ref="Halide::Internal::CodeGen_Posix" data-ref-filename="Halide..Internal..CodeGen_Posix">CodeGen_Posix</a>::<dfn class="decl def fn" id="_ZN6Halide8Internal13CodeGen_Posix23codegen_allocation_sizeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_4TypeERKSt6vectorINS_4ExprESaISC_EERKSC_" title='Halide::Internal::CodeGen_Posix::codegen_allocation_size' data-ref="_ZN6Halide8Internal13CodeGen_Posix23codegen_allocation_sizeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_4TypeERKSt6vectorINS_4ExprESaISC_EERKSC_" data-ref-filename="_ZN6Halide8Internal13CodeGen_Posix23codegen_allocation_sizeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_4TypeERKSt6vectorINS_4ExprESaISC_EERKSC_">codegen_allocation_size</dfn>(<em>const</em> <span class="namespace">std::</span><span class='typedef' title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</span> &amp;<dfn class="local col2 decl" id="2name" title='name' data-type='const std::string &amp;' data-ref="2name" data-ref-filename="2name">name</dfn>, <a class="type" href="Type.h.html#Halide::Type" title='Halide::Type' data-ref="Halide::Type" data-ref-filename="Halide..Type">Type</a> <dfn class="local col3 decl" id="3type" title='type' data-type='Halide::Type' data-ref="3type" data-ref-filename="3type">type</dfn>, <em>const</em> <span class="namespace">std::</span><span class='type' title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</span>&lt;<a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a>&gt; &amp;<dfn class="local col4 decl" id="4extents" title='extents' data-type='const std::vector&lt;Expr&gt; &amp;' data-ref="4extents" data-ref-filename="4extents">extents</dfn>, <em>const</em> <a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a> &amp;<dfn class="local col5 decl" id="5condition" title='condition' data-type='const Halide::Expr &amp;' data-ref="5condition" data-ref-filename="5condition">condition</dfn>) {</td></tr>
<tr><th id="26">26</th><td>    <i>// Compute size from list of extents checking for overflow.</i></td></tr>
<tr><th id="27">27</th><td></td></tr>
<tr><th id="28">28</th><td>    <a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a> <dfn class="local col6 decl" id="6overflow" title='overflow' data-type='Halide::Expr' data-ref="6overflow" data-ref-filename="6overflow">overflow</dfn> = <a class="ref fn" href="IROperator.h.html#_ZN6Halide8Internal9make_zeroENS_4TypeE" title='Halide::Internal::make_zero' data-ref="_ZN6Halide8Internal9make_zeroENS_4TypeE" data-ref-filename="_ZN6Halide8Internal9make_zeroENS_4TypeE">make_zero</a>(<a class="ref fn" href="Type.h.html#_ZN6Halide4UIntEii" title='Halide::UInt' data-ref="_ZN6Halide4UIntEii" data-ref-filename="_ZN6Halide4UIntEii">UInt</a>(<var>64</var>));</td></tr>
<tr><th id="29">29</th><td>    <a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a> <dfn class="local col7 decl" id="7total_size" title='total_size' data-type='Halide::Expr' data-ref="7total_size" data-ref-filename="7total_size">total_size</dfn> = <a class="ref fn" href="IROperator.h.html#_ZN6Halide8Internal10make_constENS_4TypeEi" title='Halide::Internal::make_const' data-ref="_ZN6Halide8Internal10make_constENS_4TypeEi" data-ref-filename="_ZN6Halide8Internal10make_constENS_4TypeEi">make_const</a>(<a class="ref fn" href="Type.h.html#_ZN6Halide4UIntEii" title='Halide::UInt' data-ref="_ZN6Halide4UIntEii" data-ref-filename="_ZN6Halide4UIntEii">UInt</a>(<var>64</var>), <a class="local col3 ref" href="#3type" title='type' data-ref="3type" data-ref-filename="3type">type</a>.<a class="ref fn" href="Type.h.html#_ZNK6Halide4Type5lanesEv" title='Halide::Type::lanes' data-ref="_ZNK6Halide4Type5lanesEv" data-ref-filename="_ZNK6Halide4Type5lanesEv">lanes</a>() * <a class="local col3 ref" href="#3type" title='type' data-ref="3type" data-ref-filename="3type">type</a>.<a class="ref fn" href="Type.h.html#_ZNK6Halide4Type5bytesEv" title='Halide::Type::bytes' data-ref="_ZNK6Halide4Type5bytesEv" data-ref-filename="_ZNK6Halide4Type5bytesEv">bytes</a>());</td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td>    <i>// We'll multiply all the extents into the 64-bit value</i></td></tr>
<tr><th id="32">32</th><td><i>    // total_size. We'll also track (total_size &gt;&gt; 32) as a 64-bit</i></td></tr>
<tr><th id="33">33</th><td><i>    // value to check for overflow as we go. The loop invariant will</i></td></tr>
<tr><th id="34">34</th><td><i>    // be that either the overflow Expr is non-zero, or total_size_hi</i></td></tr>
<tr><th id="35">35</th><td><i>    // only occupies the bottom 32-bits. Overflow could be more simply</i></td></tr>
<tr><th id="36">36</th><td><i>    // checked for using division, but that's slower at runtime. This</i></td></tr>
<tr><th id="37">37</th><td><i>    // method generates much better assembly.</i></td></tr>
<tr><th id="38">38</th><td>    <a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a> <dfn class="local col8 decl" id="8total_size_hi" title='total_size_hi' data-type='Halide::Expr' data-ref="8total_size_hi" data-ref-filename="8total_size_hi">total_size_hi</dfn> = <a class="ref fn" href="IROperator.h.html#_ZN6Halide8Internal9make_zeroENS_4TypeE" title='Halide::Internal::make_zero' data-ref="_ZN6Halide8Internal9make_zeroENS_4TypeE" data-ref-filename="_ZN6Halide8Internal9make_zeroENS_4TypeE">make_zero</a>(<a class="ref fn" href="Type.h.html#_ZN6Halide4UIntEii" title='Halide::UInt' data-ref="_ZN6Halide4UIntEii" data-ref-filename="_ZN6Halide4UIntEii">UInt</a>(<var>64</var>));</td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td>    <a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a> <dfn class="local col9 decl" id="9low_mask" title='low_mask' data-type='Halide::Expr' data-ref="9low_mask" data-ref-filename="9low_mask">low_mask</dfn> = <a class="ref fn" href="IROperator.h.html#_ZN6Halide8Internal10make_constENS_4TypeEm" title='Halide::Internal::make_const' data-ref="_ZN6Halide8Internal10make_constENS_4TypeEm" data-ref-filename="_ZN6Halide8Internal10make_constENS_4TypeEm">make_const</a>(<a class="ref fn" href="Type.h.html#_ZN6Halide4UIntEii" title='Halide::UInt' data-ref="_ZN6Halide4UIntEii" data-ref-filename="_ZN6Halide4UIntEii">UInt</a>(<var>64</var>), (<a class="typedef" href="../../include/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>)(<var>0xffffffff</var>));</td></tr>
<tr><th id="41">41</th><td>    <b>for</b> (<span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t" data-ref-filename="size_t">size_t</span> <dfn class="local col0 decl" id="10i" title='i' data-type='size_t' data-ref="10i" data-ref-filename="10i">i</dfn> = <var>0</var>; <a class="local col0 ref" href="#10i" title='i' data-ref="10i" data-ref-filename="10i">i</a> &lt; <a class="local col4 ref" href="#4extents" title='extents' data-ref="4extents" data-ref-filename="4extents">extents</a>.<span class='ref fn' title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv" data-ref-filename="_ZNKSt6vector4sizeEv">size</span>(); <a class="local col0 ref" href="#10i" title='i' data-ref="10i" data-ref-filename="10i">i</a>++) {</td></tr>
<tr><th id="42">42</th><td>        <a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a> <dfn class="local col1 decl" id="11next_extent" title='next_extent' data-type='Halide::Expr' data-ref="11next_extent" data-ref-filename="11next_extent">next_extent</dfn> = <a class="ref fn" href="IROperator.h.html#_ZN6Halide4castENS_4TypeENS_4ExprE" title='Halide::cast' data-ref="_ZN6Halide4castENS_4TypeENS_4ExprE" data-ref-filename="_ZN6Halide4castENS_4TypeENS_4ExprE">cast</a>(<a class="ref fn" href="Type.h.html#_ZN6Halide4UIntEii" title='Halide::UInt' data-ref="_ZN6Halide4UIntEii" data-ref-filename="_ZN6Halide4UIntEii">UInt</a>(<var>32</var>), <a class="ref fn" href="IROperator.h.html#_ZN6Halide3maxEiNS_4ExprE" title='Halide::max' data-ref="_ZN6Halide3maxEiNS_4ExprE" data-ref-filename="_ZN6Halide3maxEiNS_4ExprE">max</a>(<var>0</var>, <a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col4 ref" href="#4extents" title='extents' data-ref="4extents" data-ref-filename="4extents">extents</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNKSt6vectorixEm" data-ref-filename="_ZNKSt6vectorixEm">[<a class="local col0 ref" href="#10i" title='i' data-ref="10i" data-ref-filename="10i">i</a>]</span>));</td></tr>
<tr><th id="43">43</th><td></td></tr>
<tr><th id="44">44</th><td>        <i>// Update total_size &gt;&gt; 32. This math can't overflow due to</i></td></tr>
<tr><th id="45">45</th><td><i>        // the loop invariant:</i></td></tr>
<tr><th id="46">46</th><td>        <a class="local col8 ref" href="#8total_size_hi" title='total_size_hi' data-ref="8total_size_hi" data-ref-filename="8total_size_hi">total_size_hi</a> <a class="ref fn" href="IROperator.h.html#_ZN6HalidemLERNS_4ExprES0_" title='Halide::operator*=' data-ref="_ZN6HalidemLERNS_4ExprES0_" data-ref-filename="_ZN6HalidemLERNS_4ExprES0_">*=</a> <a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col1 ref" href="#11next_extent" title='next_extent' data-ref="11next_extent" data-ref-filename="11next_extent">next_extent</a>;</td></tr>
<tr><th id="47">47</th><td>        <i>// Deal with carry from the low bits. Still can't overflow.</i></td></tr>
<tr><th id="48">48</th><td>        <a class="local col8 ref" href="#8total_size_hi" title='total_size_hi' data-ref="8total_size_hi" data-ref-filename="8total_size_hi">total_size_hi</a> <a class="ref fn" href="IROperator.h.html#_ZN6HalidepLERNS_4ExprES0_" title='Halide::operator+=' data-ref="_ZN6HalidepLERNS_4ExprES0_" data-ref-filename="_ZN6HalidepLERNS_4ExprES0_">+=</a> ((<a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col7 ref" href="#7total_size" title='total_size' data-ref="7total_size" data-ref-filename="7total_size">total_size</a> <a class="ref fn" href="IROperator.h.html#_ZN6HalideanENS_4ExprES0_" title='Halide::operator&amp;' data-ref="_ZN6HalideanENS_4ExprES0_" data-ref-filename="_ZN6HalideanENS_4ExprES0_">&amp;</a> <a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col9 ref" href="#9low_mask" title='low_mask' data-ref="9low_mask" data-ref-filename="9low_mask">low_mask</a>) <a class="ref fn" href="IROperator.h.html#_ZN6HalidemlENS_4ExprES0_" title='Halide::operator*' data-ref="_ZN6HalidemlENS_4ExprES0_" data-ref-filename="_ZN6HalidemlENS_4ExprES0_">*</a> <a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col1 ref" href="#11next_extent" title='next_extent' data-ref="11next_extent" data-ref-filename="11next_extent">next_extent</a>) <a class="ref fn" href="IROperator.h.html#_ZN6HalidersENS_4ExprEi" title='Halide::operator&gt;&gt;' data-ref="_ZN6HalidersENS_4ExprEi" data-ref-filename="_ZN6HalidersENS_4ExprEi">&gt;&gt;</a> <var>32</var>;</td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td>        <i>// Update total_size. This may overflow.</i></td></tr>
<tr><th id="51">51</th><td>        <a class="local col7 ref" href="#7total_size" title='total_size' data-ref="7total_size" data-ref-filename="7total_size">total_size</a> <a class="ref fn" href="IROperator.h.html#_ZN6HalidemLERNS_4ExprES0_" title='Halide::operator*=' data-ref="_ZN6HalidemLERNS_4ExprES0_" data-ref-filename="_ZN6HalidemLERNS_4ExprES0_">*=</a> <a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col1 ref" href="#11next_extent" title='next_extent' data-ref="11next_extent" data-ref-filename="11next_extent">next_extent</a>;</td></tr>
<tr><th id="52">52</th><td></td></tr>
<tr><th id="53">53</th><td>        <i>// We can check for overflow by asserting that total_size_hi</i></td></tr>
<tr><th id="54">54</th><td><i>        // is still a 32-bit number.</i></td></tr>
<tr><th id="55">55</th><td>        <a class="local col6 ref" href="#6overflow" title='overflow' data-ref="6overflow" data-ref-filename="6overflow">overflow</a> <a class="ref fn" href="Expr.h.html#256" title='Halide::Expr::operator=' data-ref="_ZN6Halide4ExpraSEOS0_" data-ref-filename="_ZN6Halide4ExpraSEOS0_">=</a> <a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col6 ref" href="#6overflow" title='overflow' data-ref="6overflow" data-ref-filename="6overflow">overflow</a> <a class="ref fn" href="IROperator.h.html#_ZN6HalideorENS_4ExprES0_" title='Halide::operator|' data-ref="_ZN6HalideorENS_4ExprES0_" data-ref-filename="_ZN6HalideorENS_4ExprES0_">|</a> (<a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col8 ref" href="#8total_size_hi" title='total_size_hi' data-ref="8total_size_hi" data-ref-filename="8total_size_hi">total_size_hi</a> <a class="ref fn" href="IROperator.h.html#_ZN6HalidersENS_4ExprEi" title='Halide::operator&gt;&gt;' data-ref="_ZN6HalidersENS_4ExprEi" data-ref-filename="_ZN6HalidersENS_4ExprEi">&gt;&gt;</a> <var>32</var>);</td></tr>
<tr><th id="56">56</th><td>    }</td></tr>
<tr><th id="57">57</th><td></td></tr>
<tr><th id="58">58</th><td>    <a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a> <dfn class="local col2 decl" id="12max_size" title='max_size' data-type='Halide::Expr' data-ref="12max_size" data-ref-filename="12max_size">max_size</dfn> = <a class="ref fn" href="IROperator.h.html#_ZN6Halide8Internal10make_constENS_4TypeEl" title='Halide::Internal::make_const' data-ref="_ZN6Halide8Internal10make_constENS_4TypeEl" data-ref-filename="_ZN6Halide8Internal10make_constENS_4TypeEl">make_const</a>(<a class="ref fn" href="Type.h.html#_ZN6Halide4UIntEii" title='Halide::UInt' data-ref="_ZN6Halide4UIntEii" data-ref-filename="_ZN6Halide4UIntEii">UInt</a>(<var>64</var>), <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::target" title='Halide::Internal::CodeGen_LLVM::target' data-ref="Halide::Internal::CodeGen_LLVM::target" data-ref-filename="Halide..Internal..CodeGen_LLVM..target">target</a>.<a class="ref fn" href="Target.h.html#_ZNK6Halide6Target19maximum_buffer_sizeEv" title='Halide::Target::maximum_buffer_size' data-ref="_ZNK6Halide6Target19maximum_buffer_sizeEv" data-ref-filename="_ZNK6Halide6Target19maximum_buffer_sizeEv">maximum_buffer_size</a>());</td></tr>
<tr><th id="59">59</th><td>    <a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a> <dfn class="local col3 decl" id="13size_check" title='size_check' data-type='Halide::Expr' data-ref="13size_check" data-ref-filename="13size_check">size_check</dfn> = (<a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col6 ref" href="#6overflow" title='overflow' data-ref="6overflow" data-ref-filename="6overflow">overflow</a> <a class="ref fn" href="IROperator.h.html#_ZN6HalideeqENS_4ExprEi" title='Halide::operator==' data-ref="_ZN6HalideeqENS_4ExprEi" data-ref-filename="_ZN6HalideeqENS_4ExprEi">==</a> <var>0</var>) <a class="ref fn" href="IROperator.h.html#_ZN6HalideaaENS_4ExprES0_" title='Halide::operator&amp;&amp;' data-ref="_ZN6HalideaaENS_4ExprES0_" data-ref-filename="_ZN6HalideaaENS_4ExprES0_">&amp;&amp;</a> (<a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col7 ref" href="#7total_size" title='total_size' data-ref="7total_size" data-ref-filename="7total_size">total_size</a> <a class="ref fn" href="IROperator.h.html#_ZN6HalideleENS_4ExprES0_" title='Halide::operator&lt;=' data-ref="_ZN6HalideleENS_4ExprES0_" data-ref-filename="_ZN6HalideleENS_4ExprES0_">&lt;=</a> <a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col2 ref" href="#12max_size" title='max_size' data-ref="12max_size" data-ref-filename="12max_size">max_size</a>);</td></tr>
<tr><th id="60">60</th><td></td></tr>
<tr><th id="61">61</th><td>    <b>if</b> (!<a class="ref fn" href="IROperator.h.html#_ZN6Halide8Internal12is_const_oneERKNS_4ExprE" title='Halide::Internal::is_const_one' data-ref="_ZN6Halide8Internal12is_const_oneERKNS_4ExprE" data-ref-filename="_ZN6Halide8Internal12is_const_oneERKNS_4ExprE">is_const_one</a>(<a class="local col5 ref" href="#5condition" title='condition' data-ref="5condition" data-ref-filename="5condition">condition</a>)) {</td></tr>
<tr><th id="62">62</th><td>        <a class="local col3 ref" href="#13size_check" title='size_check' data-ref="13size_check" data-ref-filename="13size_check">size_check</a> <a class="ref fn" href="Expr.h.html#256" title='Halide::Expr::operator=' data-ref="_ZN6Halide4ExpraSEOS0_" data-ref-filename="_ZN6Halide4ExpraSEOS0_">=</a> <a class="ref fn" href="Simplify.h.html#_ZN6Halide8Internal8simplifyERKNS_4ExprEbRKNS0_5ScopeINS0_8IntervalEEERKNS4_INS0_16ModulusRemainderEEE" title='Halide::Internal::simplify' data-ref="_ZN6Halide8Internal8simplifyERKNS_4ExprEbRKNS0_5ScopeINS0_8IntervalEEERKNS4_INS0_16ModulusRemainderEEE" data-ref-filename="_ZN6Halide8Internal8simplifyERKNS_4ExprEbRKNS0_5ScopeINS0_8IntervalEEERKNS4_INS0_16ModulusRemainderEEE">simplify</a>(<a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col3 ref" href="#13size_check" title='size_check' data-ref="13size_check" data-ref-filename="13size_check">size_check</a> <a class="ref fn" href="IROperator.h.html#_ZN6HalideooENS_4ExprES0_" title='Halide::operator||' data-ref="_ZN6HalideooENS_4ExprES0_" data-ref-filename="_ZN6HalideooENS_4ExprES0_">||</a> <a class="ref fn" href="IROperator.h.html#_ZN6HalidentENS_4ExprE" title='Halide::operator!' data-ref="_ZN6HalidentENS_4ExprE" data-ref-filename="_ZN6HalidentENS_4ExprE">!</a><a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col5 ref" href="#5condition" title='condition' data-ref="5condition" data-ref-filename="5condition">condition</a>);</td></tr>
<tr><th id="63">63</th><td>    }</td></tr>
<tr><th id="64">64</th><td></td></tr>
<tr><th id="65">65</th><td>    <i>// For constant-sized allocations this check should simplify away.</i></td></tr>
<tr><th id="66">66</th><td>    <a class="local col3 ref" href="#13size_check" title='size_check' data-ref="13size_check" data-ref-filename="13size_check">size_check</a> <a class="ref fn" href="Expr.h.html#256" title='Halide::Expr::operator=' data-ref="_ZN6Halide4ExpraSEOS0_" data-ref-filename="_ZN6Halide4ExpraSEOS0_">=</a> <a class="ref fn" href="CSE.h.html#_ZN6Halide8Internal32common_subexpression_eliminationERKNS_4ExprEb" title='Halide::Internal::common_subexpression_elimination' data-ref="_ZN6Halide8Internal32common_subexpression_eliminationERKNS_4ExprEb" data-ref-filename="_ZN6Halide8Internal32common_subexpression_eliminationERKNS_4ExprEb">common_subexpression_elimination</a>(<a class="ref fn" href="Simplify.h.html#_ZN6Halide8Internal8simplifyERKNS_4ExprEbRKNS0_5ScopeINS0_8IntervalEEERKNS4_INS0_16ModulusRemainderEEE" title='Halide::Internal::simplify' data-ref="_ZN6Halide8Internal8simplifyERKNS_4ExprEbRKNS0_5ScopeINS0_8IntervalEEERKNS4_INS0_16ModulusRemainderEEE" data-ref-filename="_ZN6Halide8Internal8simplifyERKNS_4ExprEbRKNS0_5ScopeINS0_8IntervalEEERKNS4_INS0_16ModulusRemainderEEE">simplify</a>(<a class="local col3 ref" href="#13size_check" title='size_check' data-ref="13size_check" data-ref-filename="13size_check">size_check</a>));</td></tr>
<tr><th id="67">67</th><td>    <b>if</b> (!<a class="ref fn" href="IROperator.h.html#_ZN6Halide8Internal12is_const_oneERKNS_4ExprE" title='Halide::Internal::is_const_one' data-ref="_ZN6Halide8Internal12is_const_oneERKNS_4ExprE" data-ref-filename="_ZN6Halide8Internal12is_const_oneERKNS_4ExprE">is_const_one</a>(<a class="local col3 ref" href="#13size_check" title='size_check' data-ref="13size_check" data-ref-filename="13size_check">size_check</a>)) {</td></tr>
<tr><th id="68">68</th><td>        <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM16create_assertionEPN4llvm5ValueERKNS_4ExprES4_" title='Halide::Internal::CodeGen_LLVM::create_assertion' data-ref="_ZN6Halide8Internal12CodeGen_LLVM16create_assertionEPN4llvm5ValueERKNS_4ExprES4_" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM16create_assertionEPN4llvm5ValueERKNS_4ExprES4_">create_assertion</a>(<a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE" title='Halide::Internal::CodeGen_LLVM::codegen' data-ref="_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE">codegen</a>(<a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col3 ref" href="#13size_check" title='size_check' data-ref="13size_check" data-ref-filename="13size_check">size_check</a> <a class="ref fn" href="IROperator.h.html#_ZN6HalideooENS_4ExprES0_" title='Halide::operator||' data-ref="_ZN6HalideooENS_4ExprES0_" data-ref-filename="_ZN6HalideooENS_4ExprES0_">||</a> <a class="ref fn" href="IROperator.h.html#_ZN6HalidentENS_4ExprE" title='Halide::operator!' data-ref="_ZN6HalidentENS_4ExprE" data-ref-filename="_ZN6HalidentENS_4ExprE">!</a><a class="ref fn fake" href="Expr.h.html#256" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1ERKS0_" data-ref-filename="_ZN6Halide4ExprC1ERKS0_"></a><a class="local col5 ref" href="#5condition" title='condition' data-ref="5condition" data-ref-filename="5condition">condition</a>),</td></tr>
<tr><th id="69">69</th><td>                         <a class="type" href="IR.h.html#Halide::Internal::Call" title='Halide::Internal::Call' data-ref="Halide::Internal::Call" data-ref-filename="Halide..Internal..Call">Call</a>::<a class="ref fn" href="IR.h.html#_ZN6Halide8Internal4Call4makeENS_4TypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKSt6vectorINS_4ExprESaISC_EENS1_8CallTypeENS0_11Function1071262" title='Halide::Internal::Call::make' data-ref="_ZN6Halide8Internal4Call4makeENS_4TypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKSt6vectorINS_4ExprESaISC_EENS1_8CallTypeENS0_11Function1071262" data-ref-filename="_ZN6Halide8Internal4Call4makeENS_4TypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKSt6vectorINS_4ExprESaISC_EENS1_8CallTypeENS0_11Function1071262">make</a>(<a class="ref fn" href="Type.h.html#_ZN6Halide3IntEii" title='Halide::Int' data-ref="_ZN6Halide3IntEii" data-ref-filename="_ZN6Halide3IntEii">Int</a>(<var>32</var>), <span class='ref fn fake' title='std::__cxx11::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></span><q>"halide_error_buffer_allocation_too_large"</q>,</td></tr>
<tr><th id="70">70</th><td>                                    <span class='ref fn fake' title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1ESt16initializer_listIT_ERKT0_" data-ref-filename="_ZNSt6vectorC1ESt16initializer_listIT_ERKT0_"></span>{<a class="local col2 ref" href="#2name" title='name' data-ref="2name" data-ref-filename="2name">name</a>, <a class="local col7 ref" href="#7total_size" title='total_size' data-ref="7total_size" data-ref-filename="7total_size">total_size</a>, <a class="local col2 ref" href="#12max_size" title='max_size' data-ref="12max_size" data-ref-filename="12max_size">max_size</a>}, <a class="type" href="IR.h.html#Halide::Internal::Call" title='Halide::Internal::Call' data-ref="Halide::Internal::Call" data-ref-filename="Halide..Internal..Call">Call</a>::<a class="enum" href="IR.h.html#Halide::Internal::Call::Extern" title='Halide::Internal::Call::Extern' data-ref="Halide::Internal::Call::Extern" data-ref-filename="Halide..Internal..Call..Extern">Extern</a>));</td></tr>
<tr><th id="71">71</th><td>    }</td></tr>
<tr><th id="72">72</th><td></td></tr>
<tr><th id="73">73</th><td>    <a class="local col7 ref" href="#7total_size" title='total_size' data-ref="7total_size" data-ref-filename="7total_size">total_size</a> <a class="ref fn" href="Expr.h.html#256" title='Halide::Expr::operator=' data-ref="_ZN6Halide4ExpraSEOS0_" data-ref-filename="_ZN6Halide4ExpraSEOS0_">=</a> <a class="ref fn" href="Simplify.h.html#_ZN6Halide8Internal8simplifyERKNS_4ExprEbRKNS0_5ScopeINS0_8IntervalEEERKNS4_INS0_16ModulusRemainderEEE" title='Halide::Internal::simplify' data-ref="_ZN6Halide8Internal8simplifyERKNS_4ExprEbRKNS0_5ScopeINS0_8IntervalEEERKNS4_INS0_16ModulusRemainderEEE" data-ref-filename="_ZN6Halide8Internal8simplifyERKNS_4ExprEbRKNS0_5ScopeINS0_8IntervalEEERKNS4_INS0_16ModulusRemainderEEE">simplify</a>(<a class="local col7 ref" href="#7total_size" title='total_size' data-ref="7total_size" data-ref-filename="7total_size">total_size</a>);</td></tr>
<tr><th id="74">74</th><td>    <b>return</b> <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE" title='Halide::Internal::CodeGen_LLVM::codegen' data-ref="_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE">codegen</a>(<a class="local col7 ref" href="#7total_size" title='total_size' data-ref="7total_size" data-ref-filename="7total_size">total_size</a>);</td></tr>
<tr><th id="75">75</th><td>}</td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td><em>int</em> <a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix" title='Halide::Internal::CodeGen_Posix' data-ref="Halide::Internal::CodeGen_Posix" data-ref-filename="Halide..Internal..CodeGen_Posix">CodeGen_Posix</a>::<dfn class="virtual decl def fn" id="_ZNK6Halide8Internal13CodeGen_Posix18allocation_paddingENS_4TypeE" title='Halide::Internal::CodeGen_Posix::allocation_padding' data-ref="_ZNK6Halide8Internal13CodeGen_Posix18allocation_paddingENS_4TypeE" data-ref-filename="_ZNK6Halide8Internal13CodeGen_Posix18allocation_paddingENS_4TypeE">allocation_padding</dfn>(<a class="type" href="Type.h.html#Halide::Type" title='Halide::Type' data-ref="Halide::Type" data-ref-filename="Halide..Type">Type</a> <dfn class="local col4 decl" id="14type" title='type' data-type='Halide::Type' data-ref="14type" data-ref-filename="14type">type</dfn>) <em>const</em> {</td></tr>
<tr><th id="78">78</th><td>    <i>// We potentially load 3 scalar values past the end of the</i></td></tr>
<tr><th id="79">79</th><td><i>    // buffer, so pad the allocation with an extra instance of the</i></td></tr>
<tr><th id="80">80</th><td><i>    // scalar type.</i></td></tr>
<tr><th id="81">81</th><td>    <b>return</b> <var>3</var> * <a class="local col4 ref" href="#14type" title='type' data-ref="14type" data-ref-filename="14type">type</a>.<a class="ref fn" href="Type.h.html#_ZNK6Halide4Type5bytesEv" title='Halide::Type::bytes' data-ref="_ZNK6Halide4Type5bytesEv" data-ref-filename="_ZNK6Halide4Type5bytesEv">bytes</a>();</td></tr>
<tr><th id="82">82</th><td>}</td></tr>
<tr><th id="83">83</th><td></td></tr>
<tr><th id="84">84</th><td><a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix" title='Halide::Internal::CodeGen_Posix' data-ref="Halide::Internal::CodeGen_Posix" data-ref-filename="Halide..Internal..CodeGen_Posix">CodeGen_Posix</a>::<a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation" title='Halide::Internal::CodeGen_Posix::Allocation' data-ref="Halide::Internal::CodeGen_Posix::Allocation" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation">Allocation</a> <a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix" title='Halide::Internal::CodeGen_Posix' data-ref="Halide::Internal::CodeGen_Posix" data-ref-filename="Halide..Internal..CodeGen_Posix">CodeGen_Posix</a>::<dfn class="decl def fn" id="_ZN6Halide8Internal13CodeGen_Posix17create_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_4TypeENS_10MemoryTypeERKSt6vectorINS_4E15349718" title='Halide::Internal::CodeGen_Posix::create_allocation' data-ref="_ZN6Halide8Internal13CodeGen_Posix17create_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_4TypeENS_10MemoryTypeERKSt6vectorINS_4E15349718" data-ref-filename="_ZN6Halide8Internal13CodeGen_Posix17create_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_4TypeENS_10MemoryTypeERKSt6vectorINS_4E15349718">create_allocation</dfn>(<em>const</em> <span class="namespace">std::</span><span class='typedef' title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</span> &amp;<dfn class="local col5 decl" id="15name" title='name' data-type='const std::string &amp;' data-ref="15name" data-ref-filename="15name">name</dfn>, <a class="type" href="Type.h.html#Halide::Type" title='Halide::Type' data-ref="Halide::Type" data-ref-filename="Halide..Type">Type</a> <dfn class="local col6 decl" id="16type" title='type' data-type='Halide::Type' data-ref="16type" data-ref-filename="16type">type</dfn>, <a class="type" href="Expr.h.html#Halide::MemoryType" title='Halide::MemoryType' data-ref="Halide::MemoryType" data-ref-filename="Halide..MemoryType">MemoryType</a> <dfn class="local col7 decl" id="17memory_type" title='memory_type' data-type='Halide::MemoryType' data-ref="17memory_type" data-ref-filename="17memory_type">memory_type</dfn>,</td></tr>
<tr><th id="85">85</th><td>                                                           <em>const</em> <span class="namespace">std::</span><span class='type' title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</span>&lt;<a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a>&gt; &amp;<dfn class="local col8 decl" id="18extents" title='extents' data-type='const std::vector&lt;Expr&gt; &amp;' data-ref="18extents" data-ref-filename="18extents">extents</dfn>, <em>const</em> <a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a> &amp;<dfn class="local col9 decl" id="19condition" title='condition' data-type='const Halide::Expr &amp;' data-ref="19condition" data-ref-filename="19condition">condition</dfn>,</td></tr>
<tr><th id="86">86</th><td>                                                           <em>const</em> <a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a> &amp;<dfn class="local col0 decl" id="20new_expr" title='new_expr' data-type='const Halide::Expr &amp;' data-ref="20new_expr" data-ref-filename="20new_expr">new_expr</dfn>, <span class="namespace">std::</span><span class='typedef' title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</span> <dfn class="local col1 decl" id="21free_function" title='free_function' data-type='std::string' data-ref="21free_function" data-ref-filename="21free_function">free_function</dfn>) {</td></tr>
<tr><th id="87">87</th><td>    <a class="type" href="../llvm-install/include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="22llvm_size" title='llvm_size' data-type='llvm::Value *' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="88">88</th><td>    <a class="typedef" href="../../include/bits/stdint-intn.h.html#int64_t" title='int64_t' data-type='__int64_t' data-ref="int64_t" data-ref-filename="int64_t">int64_t</a> <dfn class="local col3 decl" id="23stack_bytes" title='stack_bytes' data-type='int64_t' data-ref="23stack_bytes" data-ref-filename="23stack_bytes">stack_bytes</dfn> = <var>0</var>;</td></tr>
<tr><th id="89">89</th><td>    <a class="typedef" href="../../include/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a> <dfn class="local col4 decl" id="24constant_bytes" title='constant_bytes' data-type='int32_t' data-ref="24constant_bytes" data-ref-filename="24constant_bytes">constant_bytes</dfn> = <a class="type" href="IR.h.html#Halide::Internal::Allocate" title='Halide::Internal::Allocate' data-ref="Halide::Internal::Allocate" data-ref-filename="Halide..Internal..Allocate">Allocate</a>::<a class="ref fn" href="IR.h.html#_ZN6Halide8Internal8Allocate24constant_allocation_sizeERKSt6vectorINS_4ExprESaIS3_EERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::Allocate::constant_allocation_size' data-ref="_ZN6Halide8Internal8Allocate24constant_allocation_sizeERKSt6vectorINS_4ExprESaIS3_EERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN6Halide8Internal8Allocate24constant_allocation_sizeERKSt6vectorINS_4ExprESaIS3_EERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">constant_allocation_size</a>(<a class="local col8 ref" href="#18extents" title='extents' data-ref="18extents" data-ref-filename="18extents">extents</a>, <a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a>);</td></tr>
<tr><th id="90">90</th><td>    <b>if</b> (<a class="local col4 ref" href="#24constant_bytes" title='constant_bytes' data-ref="24constant_bytes" data-ref-filename="24constant_bytes">constant_bytes</a> &gt; <var>0</var>) {</td></tr>
<tr><th id="91">91</th><td>        <a class="local col4 ref" href="#24constant_bytes" title='constant_bytes' data-ref="24constant_bytes" data-ref-filename="24constant_bytes">constant_bytes</a> *= <a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a>.<a class="ref fn" href="Type.h.html#_ZNK6Halide4Type5bytesEv" title='Halide::Type::bytes' data-ref="_ZNK6Halide4Type5bytesEv" data-ref-filename="_ZNK6Halide4Type5bytesEv">bytes</a>();</td></tr>
<tr><th id="92">92</th><td>        <a class="local col3 ref" href="#23stack_bytes" title='stack_bytes' data-ref="23stack_bytes" data-ref-filename="23stack_bytes">stack_bytes</a> = <a class="local col4 ref" href="#24constant_bytes" title='constant_bytes' data-ref="24constant_bytes" data-ref-filename="24constant_bytes">constant_bytes</a>;</td></tr>
<tr><th id="93">93</th><td></td></tr>
<tr><th id="94">94</th><td>        <b>if</b> (<a class="local col3 ref" href="#23stack_bytes" title='stack_bytes' data-ref="23stack_bytes" data-ref-filename="23stack_bytes">stack_bytes</a> &gt; <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::target" title='Halide::Internal::CodeGen_LLVM::target' data-ref="Halide::Internal::CodeGen_LLVM::target" data-ref-filename="Halide..Internal..CodeGen_LLVM..target">target</a>.<a class="ref fn" href="Target.h.html#_ZNK6Halide6Target19maximum_buffer_sizeEv" title='Halide::Target::maximum_buffer_size' data-ref="_ZNK6Halide6Target19maximum_buffer_sizeEv" data-ref-filename="_ZNK6Halide6Target19maximum_buffer_sizeEv">maximum_buffer_size</a>()) {</td></tr>
<tr><th id="95">95</th><td>            <em>const</em> <span class='typedef' title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</span> <dfn class="local col5 decl" id="25str_max_size" title='str_max_size' data-type='const std::string' data-ref="25str_max_size" data-ref-filename="25str_max_size">str_max_size</dfn> = <span class='ref fn fake' title='std::__cxx11::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></span><a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::target" title='Halide::Internal::CodeGen_LLVM::target' data-ref="Halide::Internal::CodeGen_LLVM::target" data-ref-filename="Halide..Internal..CodeGen_LLVM..target">target</a>.<a class="ref fn" href="Target.h.html#_ZNK6Halide6Target17has_large_buffersEv" title='Halide::Target::has_large_buffers' data-ref="_ZNK6Halide6Target17has_large_buffersEv" data-ref-filename="_ZNK6Halide6Target17has_large_buffersEv">has_large_buffers</a>() ? <q>"2^63 - 1"</q> : <q>"2^31 - 1"</q>;</td></tr>
<tr><th id="96">96</th><td>            <a class="macro" href="Error.h.html#135" title="Halide::Internal::ErrorReport(&quot;/fast/tmp/halide.git/src/CodeGen_Posix.cpp&quot;, 96, nullptr, Halide::Internal::ErrorReport::User)" data-ref="_M/user_error">user_error</a> <a class="ref fn" href="Error.h.html#_ZN6Halide8Internal11ErrorReportlsERKT_" title='Halide::Internal::ErrorReport::operator&lt;&lt;' data-ref="_ZN6Halide8Internal11ErrorReportlsERKT_" data-ref-filename="_ZN6Halide8Internal11ErrorReportlsERKT_">&lt;&lt;</a> <q>"Total size for allocation "</q> <a class="ref fn" href="Error.h.html#_ZN6Halide8Internal11ErrorReportlsERKT_" title='Halide::Internal::ErrorReport::operator&lt;&lt;' data-ref="_ZN6Halide8Internal11ErrorReportlsERKT_" data-ref-filename="_ZN6Halide8Internal11ErrorReportlsERKT_">&lt;&lt;</a> <a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a> <a class="ref fn" href="Error.h.html#_ZN6Halide8Internal11ErrorReportlsERKT_" title='Halide::Internal::ErrorReport::operator&lt;&lt;' data-ref="_ZN6Halide8Internal11ErrorReportlsERKT_" data-ref-filename="_ZN6Halide8Internal11ErrorReportlsERKT_">&lt;&lt;</a> <q>" is constant but exceeds "</q> <a class="ref fn" href="Error.h.html#_ZN6Halide8Internal11ErrorReportlsERKT_" title='Halide::Internal::ErrorReport::operator&lt;&lt;' data-ref="_ZN6Halide8Internal11ErrorReportlsERKT_" data-ref-filename="_ZN6Halide8Internal11ErrorReportlsERKT_">&lt;&lt;</a> <a class="local col5 ref" href="#25str_max_size" title='str_max_size' data-ref="25str_max_size" data-ref-filename="25str_max_size">str_max_size</a> <a class="ref fn" href="Error.h.html#_ZN6Halide8Internal11ErrorReportlsERKT_" title='Halide::Internal::ErrorReport::operator&lt;&lt;' data-ref="_ZN6Halide8Internal11ErrorReportlsERKT_" data-ref-filename="_ZN6Halide8Internal11ErrorReportlsERKT_">&lt;&lt;</a> <q>"."</q>;</td></tr>
<tr><th id="97">97</th><td>        } <b>else</b> <b>if</b> (<a class="local col7 ref" href="#17memory_type" title='memory_type' data-ref="17memory_type" data-ref-filename="17memory_type">memory_type</a> == <a class="type" href="Expr.h.html#Halide::MemoryType" title='Halide::MemoryType' data-ref="Halide::MemoryType" data-ref-filename="Halide..MemoryType">MemoryType</a>::<a class="enum" href="Expr.h.html#Halide::MemoryType::Heap" title='Halide::MemoryType::Heap' data-ref="Halide::MemoryType::Heap" data-ref-filename="Halide..MemoryType..Heap">Heap</a> ||</td></tr>
<tr><th id="98">98</th><td>                   (<a class="local col7 ref" href="#17memory_type" title='memory_type' data-ref="17memory_type" data-ref-filename="17memory_type">memory_type</a> != <a class="type" href="Expr.h.html#Halide::MemoryType" title='Halide::MemoryType' data-ref="Halide::MemoryType" data-ref-filename="Halide..MemoryType">MemoryType</a>::<a class="enum" href="Expr.h.html#Halide::MemoryType::Register" title='Halide::MemoryType::Register' data-ref="Halide::MemoryType::Register" data-ref-filename="Halide..MemoryType..Register">Register</a> &amp;&amp;</td></tr>
<tr><th id="99">99</th><td>                    !<a class="ref fn" href="CodeGen_Internal.h.html#_ZN6Halide8Internal27can_allocation_fit_on_stackEl" title='Halide::Internal::can_allocation_fit_on_stack' data-ref="_ZN6Halide8Internal27can_allocation_fit_on_stackEl" data-ref-filename="_ZN6Halide8Internal27can_allocation_fit_on_stackEl">can_allocation_fit_on_stack</a>(<a class="local col3 ref" href="#23stack_bytes" title='stack_bytes' data-ref="23stack_bytes" data-ref-filename="23stack_bytes">stack_bytes</a>))) {</td></tr>
<tr><th id="100">100</th><td>            <i>// We should put the allocation on the heap if it's</i></td></tr>
<tr><th id="101">101</th><td><i>            // explicitly placed on the heap, or if it's not</i></td></tr>
<tr><th id="102">102</th><td><i>            // explicitly placed in registers and it's large. Large</i></td></tr>
<tr><th id="103">103</th><td><i>            // stack allocations become pseudostack allocations</i></td></tr>
<tr><th id="104">104</th><td><i>            // instead.</i></td></tr>
<tr><th id="105">105</th><td>            <a class="local col3 ref" href="#23stack_bytes" title='stack_bytes' data-ref="23stack_bytes" data-ref-filename="23stack_bytes">stack_bytes</a> = <var>0</var>;</td></tr>
<tr><th id="106">106</th><td>            <a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a> = <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE" title='Halide::Internal::CodeGen_LLVM::codegen' data-ref="_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE">codegen</a>(<a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a><a class="ref fn" href="Expr.h.html#_ZN6Halide4ExprC1Ei" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1Ei" data-ref-filename="_ZN6Halide4ExprC1Ei">(</a><a class="local col4 ref" href="#24constant_bytes" title='constant_bytes' data-ref="24constant_bytes" data-ref-filename="24constant_bytes">constant_bytes</a>));</td></tr>
<tr><th id="107">107</th><td>        }</td></tr>
<tr><th id="108">108</th><td>    } <b>else</b> {</td></tr>
<tr><th id="109">109</th><td>        <i>// Should have been caught in bound_small_allocations</i></td></tr>
<tr><th id="110">110</th><td>        <a class="macro" href="Error.h.html#139" title="(memory_type != MemoryType::Register) ? (void)0 : ::Halide::Internal::Voidifier() &amp; ::Halide::Internal::ErrorReport(&quot;/fast/tmp/halide.git/src/CodeGen_Posix.cpp&quot;, 110, &quot;memory_type != MemoryType::Register&quot;, 0).ref()" data-ref="_M/internal_assert">internal_assert</a>(<a class="local col7 ref" href="#17memory_type" title='memory_type' data-ref="17memory_type" data-ref-filename="17memory_type">memory_type</a> != <a class="type" href="Expr.h.html#Halide::MemoryType" title='Halide::MemoryType' data-ref="Halide::MemoryType" data-ref-filename="Halide..MemoryType">MemoryType</a>::<a class="enum" href="Expr.h.html#Halide::MemoryType::Register" title='Halide::MemoryType::Register' data-ref="Halide::MemoryType::Register" data-ref-filename="Halide..MemoryType..Register">Register</a>);</td></tr>
<tr><th id="111">111</th><td>        <a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a> = <a class="member fn" href="#_ZN6Halide8Internal13CodeGen_Posix23codegen_allocation_sizeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_4TypeERKSt6vectorINS_4ExprESaISC_EERKSC_" title='Halide::Internal::CodeGen_Posix::codegen_allocation_size' data-ref="_ZN6Halide8Internal13CodeGen_Posix23codegen_allocation_sizeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_4TypeERKSt6vectorINS_4ExprESaISC_EERKSC_" data-ref-filename="_ZN6Halide8Internal13CodeGen_Posix23codegen_allocation_sizeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_4TypeERKSt6vectorINS_4ExprESaISC_EERKSC_">codegen_allocation_size</a>(<a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a>, <a class="ref fn fake" href="Type.h.html#_ZN6Halide4TypeC1ERKS0_" title='Halide::Type::Type' data-ref="_ZN6Halide4TypeC1ERKS0_" data-ref-filename="_ZN6Halide4TypeC1ERKS0_"></a><a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a>, <a class="local col8 ref" href="#18extents" title='extents' data-ref="18extents" data-ref-filename="18extents">extents</a>, <a class="local col9 ref" href="#19condition" title='condition' data-ref="19condition" data-ref-filename="19condition">condition</a>);</td></tr>
<tr><th id="112">112</th><td>    }</td></tr>
<tr><th id="113">113</th><td></td></tr>
<tr><th id="114">114</th><td>    <i>// Only allocate memory if the condition is true, otherwise 0.</i></td></tr>
<tr><th id="115">115</th><td>    <a class="type" href="../llvm-install/include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col6 decl" id="26llvm_condition" title='llvm_condition' data-type='llvm::Value *' data-ref="26llvm_condition" data-ref-filename="26llvm_condition">llvm_condition</dfn> = <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE" title='Halide::Internal::CodeGen_LLVM::codegen' data-ref="_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE">codegen</a>(<a class="local col9 ref" href="#19condition" title='condition' data-ref="19condition" data-ref-filename="19condition">condition</a>);</td></tr>
<tr><th id="116">116</th><td>    <b>if</b> (<a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a> != <b>nullptr</b>) {</td></tr>
<tr><th id="117">117</th><td>        <i>// Add the requested padding to the allocation size. If the</i></td></tr>
<tr><th id="118">118</th><td><i>        // allocation is on the stack, we can just read past the top</i></td></tr>
<tr><th id="119">119</th><td><i>        // of the stack, so we only need this for heap allocations.</i></td></tr>
<tr><th id="120">120</th><td>        <a class="type" href="../llvm-install/include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col7 decl" id="27padding" title='padding' data-type='llvm::Value *' data-ref="27padding" data-ref-filename="27padding">padding</dfn> = <a class="type" href="../llvm-install/include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../llvm-install/include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_4TypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_4TypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_4TypeEmb">get</a>(<a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <a class="virtual member fn" href="#_ZNK6Halide8Internal13CodeGen_Posix18allocation_paddingENS_4TypeE" title='Halide::Internal::CodeGen_Posix::allocation_padding' data-ref="_ZNK6Halide8Internal13CodeGen_Posix18allocation_paddingENS_4TypeE" data-ref-filename="_ZNK6Halide8Internal13CodeGen_Posix18allocation_paddingENS_4TypeE">allocation_padding</a>(<a class="ref fn fake" href="Type.h.html#_ZN6Halide4TypeC1ERKS0_" title='Halide::Type::Type' data-ref="_ZN6Halide4TypeC1ERKS0_" data-ref-filename="_ZN6Halide4TypeC1ERKS0_"></a><a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a>));</td></tr>
<tr><th id="121">121</th><td>        <a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase9CreateAddEPNS_5ValueES2_RKNS_5TwineEbb" title='llvm::IRBuilderBase::CreateAdd' data-ref="_ZN4llvm13IRBuilderBase9CreateAddEPNS_5ValueES2_RKNS_5TwineEbb" data-ref-filename="_ZN4llvm13IRBuilderBase9CreateAddEPNS_5ValueES2_RKNS_5TwineEbb">CreateAdd</a>(<a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a>, <a class="local col7 ref" href="#27padding" title='padding' data-ref="27padding" data-ref-filename="27padding">padding</a>);</td></tr>
<tr><th id="122">122</th><td>        <a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE" title='llvm::IRBuilderBase::CreateSelect' data-ref="_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateSelectEPNS_5ValueES2_S2_RKNS_5TwineEPNS_11InstructionE">CreateSelect</a>(<a class="local col6 ref" href="#26llvm_condition" title='llvm_condition' data-ref="26llvm_condition" data-ref-filename="26llvm_condition">llvm_condition</a>,</td></tr>
<tr><th id="123">123</th><td>                                          <a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a>,</td></tr>
<tr><th id="124">124</th><td>                                          <a class="type" href="../llvm-install/include/llvm/IR/Constants.h.html#llvm::ConstantInt" title='llvm::ConstantInt' data-ref="llvm::ConstantInt" data-ref-filename="llvm..ConstantInt">ConstantInt</a>::<a class="ref fn" href="../llvm-install/include/llvm/IR/Constants.h.html#_ZN4llvm11ConstantInt3getEPNS_4TypeEmb" title='llvm::ConstantInt::get' data-ref="_ZN4llvm11ConstantInt3getEPNS_4TypeEmb" data-ref-filename="_ZN4llvm11ConstantInt3getEPNS_4TypeEmb">get</a>(<a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <var>0</var>));</td></tr>
<tr><th id="125">125</th><td>    }</td></tr>
<tr><th id="126">126</th><td></td></tr>
<tr><th id="127">127</th><td>    <a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation" title='Halide::Internal::CodeGen_Posix::Allocation' data-ref="Halide::Internal::CodeGen_Posix::Allocation" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation">Allocation</a> <a class="ref fn fake" href="CodeGen_Posix.h.html#38" title='Halide::Internal::CodeGen_Posix::Allocation::Allocation' data-ref="_ZN6Halide8Internal13CodeGen_Posix10AllocationC1Ev" data-ref-filename="_ZN6Halide8Internal13CodeGen_Posix10AllocationC1Ev"></a><dfn class="local col8 decl" id="28allocation" title='allocation' data-type='Halide::Internal::CodeGen_Posix::Allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</dfn>;</td></tr>
<tr><th id="128">128</th><td>    <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::constant_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::constant_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::constant_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..constant_bytes">constant_bytes</a> = <a class="local col4 ref" href="#24constant_bytes" title='constant_bytes' data-ref="24constant_bytes" data-ref-filename="24constant_bytes">constant_bytes</a>;</td></tr>
<tr><th id="129">129</th><td>    <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::stack_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..stack_bytes">stack_bytes</a> = <a class="local col0 ref" href="#20new_expr" title='new_expr' data-ref="20new_expr" data-ref-filename="20new_expr">new_expr</a>.<a class="ref fn" href="IntrusivePtr.h.html#_ZNK6Halide8Internal12IntrusivePtr7definedEv" title='Halide::Internal::IntrusivePtr::defined' data-ref="_ZNK6Halide8Internal12IntrusivePtr7definedEv" data-ref-filename="_ZNK6Halide8Internal12IntrusivePtr7definedEv">defined</a>() ? <var>0</var> : <a class="local col3 ref" href="#23stack_bytes" title='stack_bytes' data-ref="23stack_bytes" data-ref-filename="23stack_bytes">stack_bytes</a>;</td></tr>
<tr><th id="130">130</th><td>    <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::type" title='Halide::Internal::CodeGen_Posix::Allocation::type' data-ref="Halide::Internal::CodeGen_Posix::Allocation::type" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..type">type</a> <a class="ref fn" href="Type.h.html#_ZN6Halide4TypeaSERKS0_" title='Halide::Type::operator=' data-ref="_ZN6Halide4TypeaSERKS0_" data-ref-filename="_ZN6Halide4TypeaSERKS0_">=</a> <a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a>;</td></tr>
<tr><th id="131">131</th><td>    <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::name" title='Halide::Internal::CodeGen_Posix::Allocation::name' data-ref="Halide::Internal::CodeGen_Posix::Allocation::name" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..name">name</a> <span class='ref fn' title='std::__cxx11::basic_string::operator=' data-ref="_ZNSt7__cxx1112basic_stringaSERKNS_12basic_stringIT_T0_T1_EE" data-ref-filename="_ZNSt7__cxx1112basic_stringaSERKNS_12basic_stringIT_T0_T1_EE">=</span> <a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a>;</td></tr>
<tr><th id="132">132</th><td></td></tr>
<tr><th id="133">133</th><td>    <b>if</b> (!<a class="local col0 ref" href="#20new_expr" title='new_expr' data-ref="20new_expr" data-ref-filename="20new_expr">new_expr</a>.<a class="ref fn" href="IntrusivePtr.h.html#_ZNK6Halide8Internal12IntrusivePtr7definedEv" title='Halide::Internal::IntrusivePtr::defined' data-ref="_ZNK6Halide8Internal12IntrusivePtr7definedEv" data-ref-filename="_ZNK6Halide8Internal12IntrusivePtr7definedEv">defined</a>() &amp;&amp; <a class="local col8 ref" href="#18extents" title='extents' data-ref="18extents" data-ref-filename="18extents">extents</a>.<span class='ref fn' title='std::vector::empty' data-ref="_ZNKSt6vector5emptyEv" data-ref-filename="_ZNKSt6vector5emptyEv">empty</span>()) {</td></tr>
<tr><th id="134">134</th><td>        <i>// If it's a scalar allocation, don't try anything clever. We</i></td></tr>
<tr><th id="135">135</th><td><i>        // want llvm to be able to promote it to a register.</i></td></tr>
<tr><th id="136">136</th><td>        <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::ptr" title='Halide::Internal::CodeGen_Posix::Allocation::ptr' data-ref="Halide::Internal::CodeGen_Posix::Allocation::ptr" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..ptr">ptr</a> = <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM22create_alloca_at_entryEPN4llvm4TypeEibRKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::CodeGen_LLVM::create_alloca_at_entry' data-ref="_ZN6Halide8Internal12CodeGen_LLVM22create_alloca_at_entryEPN4llvm4TypeEibRKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM22create_alloca_at_entryEPN4llvm4TypeEibRKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">create_alloca_at_entry</a>(<a class="virtual member fn" href="CodeGen_LLVM.h.html#_ZNK6Halide8Internal12CodeGen_LLVM12llvm_type_ofERKNS_4TypeE" title='Halide::Internal::CodeGen_LLVM::llvm_type_of' data-ref="_ZNK6Halide8Internal12CodeGen_LLVM12llvm_type_ofERKNS_4TypeE" data-ref-filename="_ZNK6Halide8Internal12CodeGen_LLVM12llvm_type_ofERKNS_4TypeE">llvm_type_of</a>(<a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a>), <var>1</var>, <b>false</b>, <a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a>);</td></tr>
<tr><th id="137">137</th><td>        <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::stack_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..stack_bytes">stack_bytes</a> = <a class="local col3 ref" href="#23stack_bytes" title='stack_bytes' data-ref="23stack_bytes" data-ref-filename="23stack_bytes">stack_bytes</a>;</td></tr>
<tr><th id="138">138</th><td>        <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::cur_stack_alloc_total" title='Halide::Internal::CodeGen_Posix::cur_stack_alloc_total' data-ref="Halide::Internal::CodeGen_Posix::cur_stack_alloc_total" data-ref-filename="Halide..Internal..CodeGen_Posix..cur_stack_alloc_total">cur_stack_alloc_total</a> += <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::stack_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..stack_bytes">stack_bytes</a>;</td></tr>
<tr><th id="139">139</th><td>        <a class="type" href="Debug.h.html#Halide::Internal::debug" title='Halide::Internal::debug' data-ref="Halide::Internal::debug" data-ref-filename="Halide..Internal..debug">debug</a><a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debugC1Ei" title='Halide::Internal::debug::debug' data-ref="_ZN6Halide8Internal5debugC1Ei" data-ref-filename="_ZN6Halide8Internal5debugC1Ei">(</a><var>4</var>) <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>"cur_stack_alloc_total += "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::stack_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..stack_bytes">stack_bytes</a> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>" -&gt; "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::cur_stack_alloc_total" title='Halide::Internal::CodeGen_Posix::cur_stack_alloc_total' data-ref="Halide::Internal::CodeGen_Posix::cur_stack_alloc_total" data-ref-filename="Halide..Internal..CodeGen_Posix..cur_stack_alloc_total">cur_stack_alloc_total</a> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>" for "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>"\n"</q>;</td></tr>
<tr><th id="140">140</th><td>    } <b>else</b> <b>if</b> (!<a class="local col0 ref" href="#20new_expr" title='new_expr' data-ref="20new_expr" data-ref-filename="20new_expr">new_expr</a>.<a class="ref fn" href="IntrusivePtr.h.html#_ZNK6Halide8Internal12IntrusivePtr7definedEv" title='Halide::Internal::IntrusivePtr::defined' data-ref="_ZNK6Halide8Internal12IntrusivePtr7definedEv" data-ref-filename="_ZNK6Halide8Internal12IntrusivePtr7definedEv">defined</a>() &amp;&amp; <a class="local col3 ref" href="#23stack_bytes" title='stack_bytes' data-ref="23stack_bytes" data-ref-filename="23stack_bytes">stack_bytes</a> != <var>0</var>) {</td></tr>
<tr><th id="141">141</th><td></td></tr>
<tr><th id="142">142</th><td>        <i>// Try to find a free stack allocation we can use.</i></td></tr>
<tr><th id="143">143</th><td>        <span class='type' title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</span>&lt;<a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation" title='Halide::Internal::CodeGen_Posix::Allocation' data-ref="Halide::Internal::CodeGen_Posix::Allocation" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation">Allocation</a>&gt;::<span class='typedef' title='std::vector&lt;Halide::Internal::CodeGen_Posix::Allocation, std::allocator&lt;Halide::Internal::CodeGen_Posix::Allocation&gt; &gt;::iterator' data-type='__gnu_cxx::__normal_iterator&lt;pointer, vector&lt;Allocation, allocator&lt;Allocation&gt; &gt; &gt;' data-ref="std::vector{Halide::Internal::CodeGen_Posix::Allocation,std::allocator{Halide::Internal::CodeGen_Posix::Allocation}}::iterator" data-ref-filename="std..vector{Halide..Internal..CodeGen_Posix..Allocation,std..allocator{Halide..Internal..CodeGen_Posix..Allocation}}..iterator">iterator</span> <dfn class="local col9 decl" id="29it" title='it' data-type='vector&lt;Allocation&gt;::iterator' data-ref="29it" data-ref-filename="29it">it</dfn> = <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::free_stack_allocs" title='Halide::Internal::CodeGen_Posix::free_stack_allocs' data-ref="Halide::Internal::CodeGen_Posix::free_stack_allocs" data-ref-filename="Halide..Internal..CodeGen_Posix..free_stack_allocs">free_stack_allocs</a>.<span class='ref fn' title='std::vector::end' data-ref="_ZNSt6vector3endEv" data-ref-filename="_ZNSt6vector3endEv">end</span>();</td></tr>
<tr><th id="144">144</th><td>        <b>for</b> (<a class="local col9 ref" href="#29it" title='it' data-ref="29it" data-ref-filename="29it">it</a> <span class='ref fn' title='__gnu_cxx::__normal_iterator&lt;Halide::Internal::CodeGen_Posix::Allocation *, std::vector&lt;Halide::Internal::CodeGen_Posix::Allocation, std::allocator&lt;Halide::Internal::CodeGen_Posix::Allocation&gt; &gt; &gt;::operator=' data-ref="__gnu_cxx::__normal_iterator{Halide::Internal::CodeGen_Posix::Allocation*,std::vector{Halide::Internal::CodeGen_Posix::Allocation,std::allocator{Halid11196378" data-ref-filename="__gnu_cxx..__normal_iterator{Halide..Internal..CodeGen_Posix..Allocation*,std..vector{Halide..Internal..CodeGen_Posix..Allocation,std..allocator{Halid11196378">=</span> <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::free_stack_allocs" title='Halide::Internal::CodeGen_Posix::free_stack_allocs' data-ref="Halide::Internal::CodeGen_Posix::free_stack_allocs" data-ref-filename="Halide..Internal..CodeGen_Posix..free_stack_allocs">free_stack_allocs</a>.<span class='ref fn' title='std::vector::begin' data-ref="_ZNSt6vector5beginEv" data-ref-filename="_ZNSt6vector5beginEv">begin</span>(); <a class="local col9 ref" href="#29it" title='it' data-ref="29it" data-ref-filename="29it">it</a> <span class='ref fn' title='__gnu_cxx::operator!=' data-ref="__gnu_cxx::operator!=" data-ref-filename="__gnu_cxx..operator!=">!=</span> <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::free_stack_allocs" title='Halide::Internal::CodeGen_Posix::free_stack_allocs' data-ref="Halide::Internal::CodeGen_Posix::free_stack_allocs" data-ref-filename="Halide..Internal..CodeGen_Posix..free_stack_allocs">free_stack_allocs</a>.<span class='ref fn' title='std::vector::end' data-ref="_ZNSt6vector3endEv" data-ref-filename="_ZNSt6vector3endEv">end</span>(); <span class='ref fn' title='__gnu_cxx::__normal_iterator::operator++' data-ref="__gnu_cxx::__normal_iterator::operator++" data-ref-filename="__gnu_cxx..__normal_iterator..operator++">++</span><a class="local col9 ref" href="#29it" title='it' data-ref="29it" data-ref-filename="29it">it</a>) {</td></tr>
<tr><th id="145">145</th><td>            <b>if</b> (<a class="local col9 ref" href="#29it" title='it' data-ref="29it" data-ref-filename="29it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot" title='Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot' data-ref="Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..pseudostack_slot">pseudostack_slot</a>) {</td></tr>
<tr><th id="146">146</th><td>                <i>// Don't merge with dynamic stack allocations</i></td></tr>
<tr><th id="147">147</th><td>                <b>continue</b>;</td></tr>
<tr><th id="148">148</th><td>            }</td></tr>
<tr><th id="149">149</th><td>            <a class="type" href="../llvm-install/include/llvm/IR/Instructions.h.html#llvm::AllocaInst" title='llvm::AllocaInst' data-ref="llvm::AllocaInst" data-ref-filename="llvm..AllocaInst">AllocaInst</a> *<dfn class="local col0 decl" id="30alloca_inst" title='alloca_inst' data-type='llvm::AllocaInst *' data-ref="30alloca_inst" data-ref-filename="30alloca_inst">alloca_inst</dfn> = <a class="ref fn" href="../llvm-install/include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../llvm-install/include/llvm/IR/Instructions.h.html#llvm::AllocaInst" title='llvm::AllocaInst' data-ref="llvm::AllocaInst" data-ref-filename="llvm..AllocaInst">AllocaInst</a>&gt;(<a class="local col9 ref" href="#29it" title='it' data-ref="29it" data-ref-filename="29it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::ptr" title='Halide::Internal::CodeGen_Posix::Allocation::ptr' data-ref="Halide::Internal::CodeGen_Posix::Allocation::ptr" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..ptr">ptr</a>);</td></tr>
<tr><th id="150">150</th><td>            <span class="namespace">llvm::</span><a class="type" href="../llvm-install/include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> *<dfn class="local col1 decl" id="31allocated_in" title='allocated_in' data-type='llvm::Function *' data-ref="31allocated_in" data-ref-filename="31allocated_in">allocated_in</dfn> = <a class="local col0 ref" href="#30alloca_inst" title='alloca_inst' data-ref="30alloca_inst" data-ref-filename="30alloca_inst">alloca_inst</a> ? <a class="local col0 ref" href="#30alloca_inst" title='alloca_inst' data-ref="30alloca_inst" data-ref-filename="30alloca_inst">alloca_inst</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>()-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock9getParentEv" title='llvm::BasicBlock::getParent' data-ref="_ZN4llvm10BasicBlock9getParentEv" data-ref-filename="_ZN4llvm10BasicBlock9getParentEv">getParent</a>() : <b>nullptr</b>;</td></tr>
<tr><th id="151">151</th><td>            <span class="namespace">llvm::</span><a class="type" href="../llvm-install/include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> *<dfn class="local col2 decl" id="32current_func" title='current_func' data-type='llvm::Function *' data-ref="32current_func" data-ref-filename="32current_func">current_func</dfn> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZNK4llvm13IRBuilderBase14GetInsertBlockEv" title='llvm::IRBuilderBase::GetInsertBlock' data-ref="_ZNK4llvm13IRBuilderBase14GetInsertBlockEv" data-ref-filename="_ZNK4llvm13IRBuilderBase14GetInsertBlockEv">GetInsertBlock</a>()-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock9getParentEv" title='llvm::BasicBlock::getParent' data-ref="_ZN4llvm10BasicBlock9getParentEv" data-ref-filename="_ZN4llvm10BasicBlock9getParentEv">getParent</a>();</td></tr>
<tr><th id="152">152</th><td></td></tr>
<tr><th id="153">153</th><td>            <b>if</b> (<a class="local col1 ref" href="#31allocated_in" title='allocated_in' data-ref="31allocated_in" data-ref-filename="31allocated_in">allocated_in</a> == <a class="local col2 ref" href="#32current_func" title='current_func' data-ref="32current_func" data-ref-filename="32current_func">current_func</a> &amp;&amp;</td></tr>
<tr><th id="154">154</th><td>                <a class="local col9 ref" href="#29it" title='it' data-ref="29it" data-ref-filename="29it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::type" title='Halide::Internal::CodeGen_Posix::Allocation::type' data-ref="Halide::Internal::CodeGen_Posix::Allocation::type" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..type">type</a> <a class="ref fn" href="Type.h.html#_ZNK6Halide4TypeeqERKS0_" title='Halide::Type::operator==' data-ref="_ZNK6Halide4TypeeqERKS0_" data-ref-filename="_ZNK6Halide4TypeeqERKS0_">==</a> <a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a> &amp;&amp;</td></tr>
<tr><th id="155">155</th><td>                <a class="local col9 ref" href="#29it" title='it' data-ref="29it" data-ref-filename="29it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::stack_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..stack_bytes">stack_bytes</a> &gt;= <a class="local col3 ref" href="#23stack_bytes" title='stack_bytes' data-ref="23stack_bytes" data-ref-filename="23stack_bytes">stack_bytes</a>) {</td></tr>
<tr><th id="156">156</th><td>                <b>break</b>;</td></tr>
<tr><th id="157">157</th><td>            }</td></tr>
<tr><th id="158">158</th><td>        }</td></tr>
<tr><th id="159">159</th><td>        <b>if</b> (<a class="local col9 ref" href="#29it" title='it' data-ref="29it" data-ref-filename="29it">it</a> <span class='ref fn' title='__gnu_cxx::operator!=' data-ref="__gnu_cxx::operator!=" data-ref-filename="__gnu_cxx..operator!=">!=</span> <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::free_stack_allocs" title='Halide::Internal::CodeGen_Posix::free_stack_allocs' data-ref="Halide::Internal::CodeGen_Posix::free_stack_allocs" data-ref-filename="Halide..Internal..CodeGen_Posix..free_stack_allocs">free_stack_allocs</a>.<span class='ref fn' title='std::vector::end' data-ref="_ZNSt6vector3endEv" data-ref-filename="_ZNSt6vector3endEv">end</span>()) {</td></tr>
<tr><th id="160">160</th><td>            <a class="type" href="Debug.h.html#Halide::Internal::debug" title='Halide::Internal::debug' data-ref="Halide::Internal::debug" data-ref-filename="Halide..Internal..debug">debug</a><a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debugC1Ei" title='Halide::Internal::debug::debug' data-ref="_ZN6Halide8Internal5debugC1Ei" data-ref-filename="_ZN6Halide8Internal5debugC1Ei">(</a><var>4</var>) <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>"Reusing freed stack allocation of "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col9 ref" href="#29it" title='it' data-ref="29it" data-ref-filename="29it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::stack_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..stack_bytes">stack_bytes</a></td></tr>
<tr><th id="161">161</th><td>                     <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>" bytes for allocation "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a></td></tr>
<tr><th id="162">162</th><td>                     <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>" of "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col3 ref" href="#23stack_bytes" title='stack_bytes' data-ref="23stack_bytes" data-ref-filename="23stack_bytes">stack_bytes</a> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>" bytes.\n"</q>;</td></tr>
<tr><th id="163">163</th><td>            <i>// Use a free alloc we found.</i></td></tr>
<tr><th id="164">164</th><td>            <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::ptr" title='Halide::Internal::CodeGen_Posix::Allocation::ptr' data-ref="Halide::Internal::CodeGen_Posix::Allocation::ptr" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..ptr">ptr</a> = <a class="local col9 ref" href="#29it" title='it' data-ref="29it" data-ref-filename="29it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::ptr" title='Halide::Internal::CodeGen_Posix::Allocation::ptr' data-ref="Halide::Internal::CodeGen_Posix::Allocation::ptr" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..ptr">ptr</a>;</td></tr>
<tr><th id="165">165</th><td>            <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::stack_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..stack_bytes">stack_bytes</a> = <a class="local col9 ref" href="#29it" title='it' data-ref="29it" data-ref-filename="29it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::stack_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..stack_bytes">stack_bytes</a>;</td></tr>
<tr><th id="166">166</th><td>            <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::name" title='Halide::Internal::CodeGen_Posix::Allocation::name' data-ref="Halide::Internal::CodeGen_Posix::Allocation::name" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..name">name</a> <span class='ref fn' title='std::__cxx11::basic_string::operator=' data-ref="_ZNSt7__cxx1112basic_stringaSERKNS_12basic_stringIT_T0_T1_EE" data-ref-filename="_ZNSt7__cxx1112basic_stringaSERKNS_12basic_stringIT_T0_T1_EE">=</span> <a class="local col9 ref" href="#29it" title='it' data-ref="29it" data-ref-filename="29it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::name" title='Halide::Internal::CodeGen_Posix::Allocation::name' data-ref="Halide::Internal::CodeGen_Posix::Allocation::name" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..name">name</a>;</td></tr>
<tr><th id="167">167</th><td></td></tr>
<tr><th id="168">168</th><td>            <i>// This allocation isn't free anymore.</i></td></tr>
<tr><th id="169">169</th><td>            <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::free_stack_allocs" title='Halide::Internal::CodeGen_Posix::free_stack_allocs' data-ref="Halide::Internal::CodeGen_Posix::free_stack_allocs" data-ref-filename="Halide..Internal..CodeGen_Posix..free_stack_allocs">free_stack_allocs</a>.<span class='ref fn' title='std::vector::erase' data-ref="_ZNSt6vector5eraseEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeENS6_14_Tp_alloc_type10value_typeEE13co15049067" data-ref-filename="_ZNSt6vector5eraseEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeENS6_14_Tp_alloc_type10value_typeEE13co15049067">erase</span>(<span class='ref fn fake' title='__gnu_cxx::__normal_iterator::__normal_iterator&lt;_Iterator, _Container&gt;' data-ref="__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}" data-ref-filename="__gnu_cxx..__normal_iterator..__normal_iterator{_Iterator,_Container}"></span><a class="local col9 ref" href="#29it" title='it' data-ref="29it" data-ref-filename="29it">it</a>);</td></tr>
<tr><th id="170">170</th><td>        } <b>else</b> {</td></tr>
<tr><th id="171">171</th><td>            <a class="type" href="Debug.h.html#Halide::Internal::debug" title='Halide::Internal::debug' data-ref="Halide::Internal::debug" data-ref-filename="Halide..Internal..debug">debug</a><a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debugC1Ei" title='Halide::Internal::debug::debug' data-ref="_ZN6Halide8Internal5debugC1Ei" data-ref-filename="_ZN6Halide8Internal5debugC1Ei">(</a><var>4</var>) <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>"Allocating "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col3 ref" href="#23stack_bytes" title='stack_bytes' data-ref="23stack_bytes" data-ref-filename="23stack_bytes">stack_bytes</a> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>" bytes on the stack for "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>"\n"</q>;</td></tr>
<tr><th id="172">172</th><td>            <i>// We used to do the alloca locally and save and restore the</i></td></tr>
<tr><th id="173">173</th><td><i>            // stack pointer, but this makes llvm generate streams of</i></td></tr>
<tr><th id="174">174</th><td><i>            // spill/reloads.</i></td></tr>
<tr><th id="175">175</th><td>            <a class="typedef" href="../../include/bits/stdint-intn.h.html#int64_t" title='int64_t' data-type='__int64_t' data-ref="int64_t" data-ref-filename="int64_t">int64_t</a> <dfn class="local col3 decl" id="33stack_size" title='stack_size' data-type='int64_t' data-ref="33stack_size" data-ref-filename="33stack_size">stack_size</dfn> = (<a class="local col3 ref" href="#23stack_bytes" title='stack_bytes' data-ref="23stack_bytes" data-ref-filename="23stack_bytes">stack_bytes</a> + <a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a>.<a class="ref fn" href="Type.h.html#_ZNK6Halide4Type5bytesEv" title='Halide::Type::bytes' data-ref="_ZNK6Halide4Type5bytesEv" data-ref-filename="_ZNK6Halide4Type5bytesEv">bytes</a>() - <var>1</var>) / <a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a>.<a class="ref fn" href="Type.h.html#_ZNK6Halide4Type5bytesEv" title='Halide::Type::bytes' data-ref="_ZNK6Halide4Type5bytesEv" data-ref-filename="_ZNK6Halide4Type5bytesEv">bytes</a>();</td></tr>
<tr><th id="176">176</th><td>            <i>// Handles are stored as uint64s</i></td></tr>
<tr><th id="177">177</th><td>            <span class="namespace">llvm::</span><a class="type" href="../llvm-install/include/llvm/IR/Type.h.html#llvm::Type" title='llvm::Type' data-ref="llvm::Type" data-ref-filename="llvm..Type">Type</a> *<dfn class="local col4 decl" id="34t" title='t' data-type='llvm::Type *' data-ref="34t" data-ref-filename="34t">t</dfn> =</td></tr>
<tr><th id="178">178</th><td>                <a class="virtual member fn" href="CodeGen_LLVM.h.html#_ZNK6Halide8Internal12CodeGen_LLVM12llvm_type_ofERKNS_4TypeE" title='Halide::Internal::CodeGen_LLVM::llvm_type_of' data-ref="_ZNK6Halide8Internal12CodeGen_LLVM12llvm_type_ofERKNS_4TypeE" data-ref-filename="_ZNK6Halide8Internal12CodeGen_LLVM12llvm_type_ofERKNS_4TypeE">llvm_type_of</a>(<a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a>.<a class="ref fn" href="Type.h.html#_ZNK6Halide4Type9is_handleEv" title='Halide::Type::is_handle' data-ref="_ZNK6Halide4Type9is_handleEv" data-ref-filename="_ZNK6Halide4Type9is_handleEv">is_handle</a>() ? <a class="ref fn" href="Type.h.html#_ZN6Halide4UIntEii" title='Halide::UInt' data-ref="_ZN6Halide4UIntEii" data-ref-filename="_ZN6Halide4UIntEii">UInt</a>(<var>64</var>, <a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a>.<a class="ref fn" href="Type.h.html#_ZNK6Halide4Type5lanesEv" title='Halide::Type::lanes' data-ref="_ZNK6Halide4Type5lanesEv" data-ref-filename="_ZNK6Halide4Type5lanesEv">lanes</a>()) : <a class="ref fn fake" href="Type.h.html#_ZN6Halide4TypeC1ERKS0_" title='Halide::Type::Type' data-ref="_ZN6Halide4TypeC1ERKS0_" data-ref-filename="_ZN6Halide4TypeC1ERKS0_"></a><a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a>);</td></tr>
<tr><th id="179">179</th><td>            <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::ptr" title='Halide::Internal::CodeGen_Posix::Allocation::ptr' data-ref="Halide::Internal::CodeGen_Posix::Allocation::ptr" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..ptr">ptr</a> = <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM22create_alloca_at_entryEPN4llvm4TypeEibRKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::CodeGen_LLVM::create_alloca_at_entry' data-ref="_ZN6Halide8Internal12CodeGen_LLVM22create_alloca_at_entryEPN4llvm4TypeEibRKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM22create_alloca_at_entryEPN4llvm4TypeEibRKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">create_alloca_at_entry</a>(<a class="local col4 ref" href="#34t" title='t' data-ref="34t" data-ref-filename="34t">t</a>, <a class="local col3 ref" href="#33stack_size" title='stack_size' data-ref="33stack_size" data-ref-filename="33stack_size">stack_size</a>, <b>false</b>, <a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a>);</td></tr>
<tr><th id="180">180</th><td>            <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::stack_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..stack_bytes">stack_bytes</a> = <a class="local col3 ref" href="#23stack_bytes" title='stack_bytes' data-ref="23stack_bytes" data-ref-filename="23stack_bytes">stack_bytes</a>;</td></tr>
<tr><th id="181">181</th><td>        }</td></tr>
<tr><th id="182">182</th><td>        <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::cur_stack_alloc_total" title='Halide::Internal::CodeGen_Posix::cur_stack_alloc_total' data-ref="Halide::Internal::CodeGen_Posix::cur_stack_alloc_total" data-ref-filename="Halide..Internal..CodeGen_Posix..cur_stack_alloc_total">cur_stack_alloc_total</a> += <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::stack_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..stack_bytes">stack_bytes</a>;</td></tr>
<tr><th id="183">183</th><td>        <a class="type" href="Debug.h.html#Halide::Internal::debug" title='Halide::Internal::debug' data-ref="Halide::Internal::debug" data-ref-filename="Halide..Internal..debug">debug</a><a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debugC1Ei" title='Halide::Internal::debug::debug' data-ref="_ZN6Halide8Internal5debugC1Ei" data-ref-filename="_ZN6Halide8Internal5debugC1Ei">(</a><var>4</var>) <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>"cur_stack_alloc_total += "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::stack_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..stack_bytes">stack_bytes</a> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>" -&gt; "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::cur_stack_alloc_total" title='Halide::Internal::CodeGen_Posix::cur_stack_alloc_total' data-ref="Halide::Internal::CodeGen_Posix::cur_stack_alloc_total" data-ref-filename="Halide..Internal..CodeGen_Posix..cur_stack_alloc_total">cur_stack_alloc_total</a> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>" for "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>"\n"</q>;</td></tr>
<tr><th id="184">184</th><td>    } <b>else</b> <b>if</b> (<a class="local col7 ref" href="#17memory_type" title='memory_type' data-ref="17memory_type" data-ref-filename="17memory_type">memory_type</a> == <a class="type" href="Expr.h.html#Halide::MemoryType" title='Halide::MemoryType' data-ref="Halide::MemoryType" data-ref-filename="Halide..MemoryType">MemoryType</a>::<a class="enum" href="Expr.h.html#Halide::MemoryType::Stack" title='Halide::MemoryType::Stack' data-ref="Halide::MemoryType::Stack" data-ref-filename="Halide..MemoryType..Stack">Stack</a> &amp;&amp; !<a class="local col0 ref" href="#20new_expr" title='new_expr' data-ref="20new_expr" data-ref-filename="20new_expr">new_expr</a>.<a class="ref fn" href="IntrusivePtr.h.html#_ZNK6Halide8Internal12IntrusivePtr7definedEv" title='Halide::Internal::IntrusivePtr::defined' data-ref="_ZNK6Halide8Internal12IntrusivePtr7definedEv" data-ref-filename="_ZNK6Halide8Internal12IntrusivePtr7definedEv">defined</a>()) {</td></tr>
<tr><th id="185">185</th><td>        <i>// Try to find a free pseudostack allocation we can use.</i></td></tr>
<tr><th id="186">186</th><td>        <span class='type' title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</span>&lt;<a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation" title='Halide::Internal::CodeGen_Posix::Allocation' data-ref="Halide::Internal::CodeGen_Posix::Allocation" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation">Allocation</a>&gt;::<span class='typedef' title='std::vector&lt;Halide::Internal::CodeGen_Posix::Allocation, std::allocator&lt;Halide::Internal::CodeGen_Posix::Allocation&gt; &gt;::iterator' data-type='__gnu_cxx::__normal_iterator&lt;pointer, vector&lt;Allocation, allocator&lt;Allocation&gt; &gt; &gt;' data-ref="std::vector{Halide::Internal::CodeGen_Posix::Allocation,std::allocator{Halide::Internal::CodeGen_Posix::Allocation}}::iterator" data-ref-filename="std..vector{Halide..Internal..CodeGen_Posix..Allocation,std..allocator{Halide..Internal..CodeGen_Posix..Allocation}}..iterator">iterator</span> <dfn class="local col5 decl" id="35it" title='it' data-type='vector&lt;Allocation&gt;::iterator' data-ref="35it" data-ref-filename="35it">it</dfn> = <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::free_stack_allocs" title='Halide::Internal::CodeGen_Posix::free_stack_allocs' data-ref="Halide::Internal::CodeGen_Posix::free_stack_allocs" data-ref-filename="Halide..Internal..CodeGen_Posix..free_stack_allocs">free_stack_allocs</a>.<span class='ref fn' title='std::vector::end' data-ref="_ZNSt6vector3endEv" data-ref-filename="_ZNSt6vector3endEv">end</span>();</td></tr>
<tr><th id="187">187</th><td>        <b>for</b> (<a class="local col5 ref" href="#35it" title='it' data-ref="35it" data-ref-filename="35it">it</a> <span class='ref fn' title='__gnu_cxx::__normal_iterator&lt;Halide::Internal::CodeGen_Posix::Allocation *, std::vector&lt;Halide::Internal::CodeGen_Posix::Allocation, std::allocator&lt;Halide::Internal::CodeGen_Posix::Allocation&gt; &gt; &gt;::operator=' data-ref="__gnu_cxx::__normal_iterator{Halide::Internal::CodeGen_Posix::Allocation*,std::vector{Halide::Internal::CodeGen_Posix::Allocation,std::allocator{Halid11196378" data-ref-filename="__gnu_cxx..__normal_iterator{Halide..Internal..CodeGen_Posix..Allocation*,std..vector{Halide..Internal..CodeGen_Posix..Allocation,std..allocator{Halid11196378">=</span> <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::free_stack_allocs" title='Halide::Internal::CodeGen_Posix::free_stack_allocs' data-ref="Halide::Internal::CodeGen_Posix::free_stack_allocs" data-ref-filename="Halide..Internal..CodeGen_Posix..free_stack_allocs">free_stack_allocs</a>.<span class='ref fn' title='std::vector::begin' data-ref="_ZNSt6vector5beginEv" data-ref-filename="_ZNSt6vector5beginEv">begin</span>(); <a class="local col5 ref" href="#35it" title='it' data-ref="35it" data-ref-filename="35it">it</a> <span class='ref fn' title='__gnu_cxx::operator!=' data-ref="__gnu_cxx::operator!=" data-ref-filename="__gnu_cxx..operator!=">!=</span> <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::free_stack_allocs" title='Halide::Internal::CodeGen_Posix::free_stack_allocs' data-ref="Halide::Internal::CodeGen_Posix::free_stack_allocs" data-ref-filename="Halide..Internal..CodeGen_Posix..free_stack_allocs">free_stack_allocs</a>.<span class='ref fn' title='std::vector::end' data-ref="_ZNSt6vector3endEv" data-ref-filename="_ZNSt6vector3endEv">end</span>(); <span class='ref fn' title='__gnu_cxx::__normal_iterator::operator++' data-ref="__gnu_cxx::__normal_iterator::operator++" data-ref-filename="__gnu_cxx..__normal_iterator..operator++">++</span><a class="local col5 ref" href="#35it" title='it' data-ref="35it" data-ref-filename="35it">it</a>) {</td></tr>
<tr><th id="188">188</th><td>            <b>if</b> (!<a class="local col5 ref" href="#35it" title='it' data-ref="35it" data-ref-filename="35it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot" title='Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot' data-ref="Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..pseudostack_slot">pseudostack_slot</a>) {</td></tr>
<tr><th id="189">189</th><td>                <i>// Don't merge with static stack allocations</i></td></tr>
<tr><th id="190">190</th><td>                <b>continue</b>;</td></tr>
<tr><th id="191">191</th><td>            }</td></tr>
<tr><th id="192">192</th><td>            <a class="type" href="../llvm-install/include/llvm/IR/Instructions.h.html#llvm::AllocaInst" title='llvm::AllocaInst' data-ref="llvm::AllocaInst" data-ref-filename="llvm..AllocaInst">AllocaInst</a> *<dfn class="local col6 decl" id="36alloca_inst" title='alloca_inst' data-type='llvm::AllocaInst *' data-ref="36alloca_inst" data-ref-filename="36alloca_inst">alloca_inst</dfn> = <a class="ref fn" href="../llvm-install/include/llvm/Support/Casting.h.html#_ZN4llvm8dyn_castEPT0_" title='llvm::dyn_cast' data-ref="_ZN4llvm8dyn_castEPT0_" data-ref-filename="_ZN4llvm8dyn_castEPT0_">dyn_cast</a>&lt;<a class="type" href="../llvm-install/include/llvm/IR/Instructions.h.html#llvm::AllocaInst" title='llvm::AllocaInst' data-ref="llvm::AllocaInst" data-ref-filename="llvm..AllocaInst">AllocaInst</a>&gt;(<a class="local col5 ref" href="#35it" title='it' data-ref="35it" data-ref-filename="35it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot" title='Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot' data-ref="Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..pseudostack_slot">pseudostack_slot</a>);</td></tr>
<tr><th id="193">193</th><td>            <span class="namespace">llvm::</span><a class="type" href="../llvm-install/include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> *<dfn class="local col7 decl" id="37allocated_in" title='allocated_in' data-type='llvm::Function *' data-ref="37allocated_in" data-ref-filename="37allocated_in">allocated_in</dfn> = <a class="local col6 ref" href="#36alloca_inst" title='alloca_inst' data-ref="36alloca_inst" data-ref-filename="36alloca_inst">alloca_inst</a> ? <a class="local col6 ref" href="#36alloca_inst" title='alloca_inst' data-ref="36alloca_inst" data-ref-filename="36alloca_inst">alloca_inst</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/Instruction.h.html#_ZN4llvm11Instruction9getParentEv" title='llvm::Instruction::getParent' data-ref="_ZN4llvm11Instruction9getParentEv" data-ref-filename="_ZN4llvm11Instruction9getParentEv">getParent</a>()-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock9getParentEv" title='llvm::BasicBlock::getParent' data-ref="_ZN4llvm10BasicBlock9getParentEv" data-ref-filename="_ZN4llvm10BasicBlock9getParentEv">getParent</a>() : <b>nullptr</b>;</td></tr>
<tr><th id="194">194</th><td>            <span class="namespace">llvm::</span><a class="type" href="../llvm-install/include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> *<dfn class="local col8 decl" id="38current_func" title='current_func' data-type='llvm::Function *' data-ref="38current_func" data-ref-filename="38current_func">current_func</dfn> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZNK4llvm13IRBuilderBase14GetInsertBlockEv" title='llvm::IRBuilderBase::GetInsertBlock' data-ref="_ZNK4llvm13IRBuilderBase14GetInsertBlockEv" data-ref-filename="_ZNK4llvm13IRBuilderBase14GetInsertBlockEv">GetInsertBlock</a>()-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/BasicBlock.h.html#_ZN4llvm10BasicBlock9getParentEv" title='llvm::BasicBlock::getParent' data-ref="_ZN4llvm10BasicBlock9getParentEv" data-ref-filename="_ZN4llvm10BasicBlock9getParentEv">getParent</a>();</td></tr>
<tr><th id="195">195</th><td>            <b>if</b> (<a class="local col5 ref" href="#35it" title='it' data-ref="35it" data-ref-filename="35it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::type" title='Halide::Internal::CodeGen_Posix::Allocation::type' data-ref="Halide::Internal::CodeGen_Posix::Allocation::type" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..type">type</a> <a class="ref fn" href="Type.h.html#_ZNK6Halide4TypeeqERKS0_" title='Halide::Type::operator==' data-ref="_ZNK6Halide4TypeeqERKS0_" data-ref-filename="_ZNK6Halide4TypeeqERKS0_">==</a> <a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a> &amp;&amp;</td></tr>
<tr><th id="196">196</th><td>                <a class="local col7 ref" href="#37allocated_in" title='allocated_in' data-ref="37allocated_in" data-ref-filename="37allocated_in">allocated_in</a> == <a class="local col8 ref" href="#38current_func" title='current_func' data-ref="38current_func" data-ref-filename="38current_func">current_func</a>) {</td></tr>
<tr><th id="197">197</th><td>                <b>break</b>;</td></tr>
<tr><th id="198">198</th><td>            }</td></tr>
<tr><th id="199">199</th><td>        }</td></tr>
<tr><th id="200">200</th><td>        <a class="type" href="../llvm-install/include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="39slot" title='slot' data-type='llvm::Value *' data-ref="39slot" data-ref-filename="39slot">slot</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="201">201</th><td>        <b>if</b> (<a class="local col5 ref" href="#35it" title='it' data-ref="35it" data-ref-filename="35it">it</a> <span class='ref fn' title='__gnu_cxx::operator!=' data-ref="__gnu_cxx::operator!=" data-ref-filename="__gnu_cxx..operator!=">!=</span> <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::free_stack_allocs" title='Halide::Internal::CodeGen_Posix::free_stack_allocs' data-ref="Halide::Internal::CodeGen_Posix::free_stack_allocs" data-ref-filename="Halide..Internal..CodeGen_Posix..free_stack_allocs">free_stack_allocs</a>.<span class='ref fn' title='std::vector::end' data-ref="_ZNSt6vector3endEv" data-ref-filename="_ZNSt6vector3endEv">end</span>()) {</td></tr>
<tr><th id="202">202</th><td>            <a class="type" href="Debug.h.html#Halide::Internal::debug" title='Halide::Internal::debug' data-ref="Halide::Internal::debug" data-ref-filename="Halide..Internal..debug">debug</a><a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debugC1Ei" title='Halide::Internal::debug::debug' data-ref="_ZN6Halide8Internal5debugC1Ei" data-ref-filename="_ZN6Halide8Internal5debugC1Ei">(</a><var>4</var>) <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>"Reusing freed pseudostack allocation from "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col5 ref" href="#35it" title='it' data-ref="35it" data-ref-filename="35it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::name" title='Halide::Internal::CodeGen_Posix::Allocation::name' data-ref="Halide::Internal::CodeGen_Posix::Allocation::name" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..name">name</a></td></tr>
<tr><th id="203">203</th><td>                     <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>" for "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>"\n"</q>;</td></tr>
<tr><th id="204">204</th><td>            <a class="local col9 ref" href="#39slot" title='slot' data-ref="39slot" data-ref-filename="39slot">slot</a> = <a class="local col5 ref" href="#35it" title='it' data-ref="35it" data-ref-filename="35it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot" title='Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot' data-ref="Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..pseudostack_slot">pseudostack_slot</a>;</td></tr>
<tr><th id="205">205</th><td>            <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::name" title='Halide::Internal::CodeGen_Posix::Allocation::name' data-ref="Halide::Internal::CodeGen_Posix::Allocation::name" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..name">name</a> <span class='ref fn' title='std::__cxx11::basic_string::operator=' data-ref="_ZNSt7__cxx1112basic_stringaSERKNS_12basic_stringIT_T0_T1_EE" data-ref-filename="_ZNSt7__cxx1112basic_stringaSERKNS_12basic_stringIT_T0_T1_EE">=</span> <a class="local col5 ref" href="#35it" title='it' data-ref="35it" data-ref-filename="35it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::name" title='Halide::Internal::CodeGen_Posix::Allocation::name' data-ref="Halide::Internal::CodeGen_Posix::Allocation::name" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..name">name</a>;</td></tr>
<tr><th id="206">206</th><td>            <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::destructor" title='Halide::Internal::CodeGen_Posix::Allocation::destructor' data-ref="Halide::Internal::CodeGen_Posix::Allocation::destructor" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..destructor">destructor</a> = <a class="local col5 ref" href="#35it" title='it' data-ref="35it" data-ref-filename="35it">it</a><span class='ref fn' title='__gnu_cxx::__normal_iterator::operator-&gt;' data-ref="__gnu_cxx::__normal_iterator::operator-}" data-ref-filename="__gnu_cxx..__normal_iterator..operator-}">-&gt;</span><a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::destructor" title='Halide::Internal::CodeGen_Posix::Allocation::destructor' data-ref="Halide::Internal::CodeGen_Posix::Allocation::destructor" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..destructor">destructor</a>;</td></tr>
<tr><th id="207">207</th><td>            <i>// We've already created a destructor stack entry for this</i></td></tr>
<tr><th id="208">208</th><td><i>            // pseudostack allocation, but we may not have actually</i></td></tr>
<tr><th id="209">209</th><td><i>            // registered the destructor if we're reusing an</i></td></tr>
<tr><th id="210">210</th><td><i>            // allocation that occurs conditionally. TODO: Why not</i></td></tr>
<tr><th id="211">211</th><td><i>            // just register the destructor at entry?</i></td></tr>
<tr><th id="212">212</th><td></td></tr>
<tr><th id="213">213</th><td>            <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase11CreateStoreEPNS_5ValueES2_b" title='llvm::IRBuilderBase::CreateStore' data-ref="_ZN4llvm13IRBuilderBase11CreateStoreEPNS_5ValueES2_b" data-ref-filename="_ZN4llvm13IRBuilderBase11CreateStoreEPNS_5ValueES2_b">CreateStore</a>(<a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreatePointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreatePointerCast' data-ref="_ZN4llvm13IRBuilderBase17CreatePointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreatePointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreatePointerCast</a>(<a class="local col9 ref" href="#39slot" title='slot' data-ref="39slot" data-ref-filename="39slot">slot</a>, <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::i8_t" title='Halide::Internal::CodeGen_LLVM::i8_t' data-ref="Halide::Internal::CodeGen_LLVM::i8_t" data-ref-filename="Halide..Internal..CodeGen_LLVM..i8_t">i8_t</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/Type.h.html#_ZNK4llvm4Type12getPointerToEj" title='llvm::Type::getPointerTo' data-ref="_ZNK4llvm4Type12getPointerToEj" data-ref-filename="_ZNK4llvm4Type12getPointerToEj">getPointerTo</a>()), <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::destructor" title='Halide::Internal::CodeGen_Posix::Allocation::destructor' data-ref="Halide::Internal::CodeGen_Posix::Allocation::destructor" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..destructor">destructor</a>);</td></tr>
<tr><th id="214">214</th><td>            <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::free_stack_allocs" title='Halide::Internal::CodeGen_Posix::free_stack_allocs' data-ref="Halide::Internal::CodeGen_Posix::free_stack_allocs" data-ref-filename="Halide..Internal..CodeGen_Posix..free_stack_allocs">free_stack_allocs</a>.<span class='ref fn' title='std::vector::erase' data-ref="_ZNSt6vector5eraseEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeENS6_14_Tp_alloc_type10value_typeEE13co15049067" data-ref-filename="_ZNSt6vector5eraseEN9__gnu_cxx17__normal_iteratorINS0_14__alloc_traitsINSt12_Vector_baseIT_T0_E14_Tp_alloc_typeENS6_14_Tp_alloc_type10value_typeEE13co15049067">erase</span>(<span class='ref fn fake' title='__gnu_cxx::__normal_iterator::__normal_iterator&lt;_Iterator, _Container&gt;' data-ref="__gnu_cxx::__normal_iterator::__normal_iterator{_Iterator,_Container}" data-ref-filename="__gnu_cxx..__normal_iterator..__normal_iterator{_Iterator,_Container}"></span><a class="local col5 ref" href="#35it" title='it' data-ref="35it" data-ref-filename="35it">it</a>);</td></tr>
<tr><th id="215">215</th><td>        } <b>else</b> {</td></tr>
<tr><th id="216">216</th><td>            <i>// Stack allocation with a dynamic size</i></td></tr>
<tr><th id="217">217</th><td>            <a class="local col9 ref" href="#39slot" title='slot' data-ref="39slot" data-ref-filename="39slot">slot</a> = <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM22create_alloca_at_entryEPN4llvm4TypeEibRKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::CodeGen_LLVM::create_alloca_at_entry' data-ref="_ZN6Halide8Internal12CodeGen_LLVM22create_alloca_at_entryEPN4llvm4TypeEibRKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM22create_alloca_at_entryEPN4llvm4TypeEibRKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">create_alloca_at_entry</a>(<a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::pseudostack_slot_t_type" title='Halide::Internal::CodeGen_LLVM::pseudostack_slot_t_type' data-ref="Halide::Internal::CodeGen_LLVM::pseudostack_slot_t_type" data-ref-filename="Halide..Internal..CodeGen_LLVM..pseudostack_slot_t_type">pseudostack_slot_t_type</a>, <var>1</var>, <b>true</b>, <a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a> <span class='ref fn' title='std::operator+' data-ref="_ZStplRKNSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_" data-ref-filename="_ZStplRKNSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_">+</span> <q>".pseudostack_slot"</q>);</td></tr>
<tr><th id="218">218</th><td>            <span class="namespace">llvm::</span><a class="type" href="../llvm-install/include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> *<dfn class="local col0 decl" id="40free_fn" title='free_fn' data-type='llvm::Function *' data-ref="40free_fn" data-ref-filename="40free_fn">free_fn</dfn> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::module" title='Halide::Internal::CodeGen_LLVM::module' data-ref="Halide::Internal::CodeGen_LLVM::module" data-ref-filename="Halide..Internal..CodeGen_LLVM..module">module</a><span class='ref fn' title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</span><a class="ref fn" href="../llvm-install/include/llvm/IR/Module.h.html#_ZNK4llvm6Module11getFunctionENS_9StringRefE" title='llvm::Module::getFunction' data-ref="_ZNK4llvm6Module11getFunctionENS_9StringRefE" data-ref-filename="_ZNK4llvm6Module11getFunctionENS_9StringRefE">getFunction</a>(<a class="ref fn fake" href="../llvm-install/include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>"pseudostack_free"</q>);</td></tr>
<tr><th id="219">219</th><td>            <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::destructor" title='Halide::Internal::CodeGen_Posix::Allocation::destructor' data-ref="Halide::Internal::CodeGen_Posix::Allocation::destructor" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..destructor">destructor</a> = <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM19register_destructorEPN4llvm8FunctionEPNS2_5ValueENS1_14DestructorTypeE" title='Halide::Internal::CodeGen_LLVM::register_destructor' data-ref="_ZN6Halide8Internal12CodeGen_LLVM19register_destructorEPN4llvm8FunctionEPNS2_5ValueENS1_14DestructorTypeE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM19register_destructorEPN4llvm8FunctionEPNS2_5ValueENS1_14DestructorTypeE">register_destructor</a>(<a class="local col0 ref" href="#40free_fn" title='free_fn' data-ref="40free_fn" data-ref-filename="40free_fn">free_fn</a>, <a class="local col9 ref" href="#39slot" title='slot' data-ref="39slot" data-ref-filename="39slot">slot</a>, <a class="enum" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::Always" title='Halide::Internal::CodeGen_LLVM::Always' data-ref="Halide::Internal::CodeGen_LLVM::Always" data-ref-filename="Halide..Internal..CodeGen_LLVM..Always">Always</a>);</td></tr>
<tr><th id="220">220</th><td>        }</td></tr>
<tr><th id="221">221</th><td></td></tr>
<tr><th id="222">222</th><td>        <i>// Even if we're reusing a stack slot, we need to call</i></td></tr>
<tr><th id="223">223</th><td><i>        // pseudostack_alloc to potentially reallocate.</i></td></tr>
<tr><th id="224">224</th><td>        <span class="namespace">llvm::</span><a class="type" href="../llvm-install/include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> *<dfn class="local col1 decl" id="41malloc_fn" title='malloc_fn' data-type='llvm::Function *' data-ref="41malloc_fn" data-ref-filename="41malloc_fn">malloc_fn</dfn> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::module" title='Halide::Internal::CodeGen_LLVM::module' data-ref="Halide::Internal::CodeGen_LLVM::module" data-ref-filename="Halide..Internal..CodeGen_LLVM..module">module</a><span class='ref fn' title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</span><a class="ref fn" href="../llvm-install/include/llvm/IR/Module.h.html#_ZNK4llvm6Module11getFunctionENS_9StringRefE" title='llvm::Module::getFunction' data-ref="_ZNK4llvm6Module11getFunctionENS_9StringRefE" data-ref-filename="_ZNK4llvm6Module11getFunctionENS_9StringRefE">getFunction</a>(<a class="ref fn fake" href="../llvm-install/include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>"pseudostack_alloc"</q>);</td></tr>
<tr><th id="225">225</th><td>        <a class="macro" href="Error.h.html#139" title="(malloc_fn) ? (void)0 : ::Halide::Internal::Voidifier() &amp; ::Halide::Internal::ErrorReport(&quot;/fast/tmp/halide.git/src/CodeGen_Posix.cpp&quot;, 225, &quot;malloc_fn&quot;, 0).ref()" data-ref="_M/internal_assert">internal_assert</a>(<a class="local col1 ref" href="#41malloc_fn" title='malloc_fn' data-ref="41malloc_fn" data-ref-filename="41malloc_fn">malloc_fn</a>) <a class="ref fn" href="Error.h.html#_ZN6Halide8Internal11ErrorReportlsERKT_" title='Halide::Internal::ErrorReport::operator&lt;&lt;' data-ref="_ZN6Halide8Internal11ErrorReportlsERKT_" data-ref-filename="_ZN6Halide8Internal11ErrorReportlsERKT_">&lt;&lt;</a> <q>"Could not find pseudostack_alloc in module\n"</q>;</td></tr>
<tr><th id="226">226</th><td>        <a class="local col1 ref" href="#41malloc_fn" title='malloc_fn' data-ref="41malloc_fn" data-ref-filename="41malloc_fn">malloc_fn</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/Function.h.html#_ZN4llvm8Function21setReturnDoesNotAliasEv" title='llvm::Function::setReturnDoesNotAlias' data-ref="_ZN4llvm8Function21setReturnDoesNotAliasEv" data-ref-filename="_ZN4llvm8Function21setReturnDoesNotAliasEv">setReturnDoesNotAlias</a>();</td></tr>
<tr><th id="227">227</th><td></td></tr>
<tr><th id="228">228</th><td>        <span class="namespace">llvm::</span><a class="type" href="../llvm-install/include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a>::<a class="typedef" href="../llvm-install/include/llvm/IR/Function.h.html#llvm::Function::arg_iterator" title='llvm::Function::arg_iterator' data-type='llvm::Argument *' data-ref="llvm::Function::arg_iterator" data-ref-filename="llvm..Function..arg_iterator">arg_iterator</a> <dfn class="local col2 decl" id="42arg_iter" title='arg_iter' data-type='llvm::Function::arg_iterator' data-ref="42arg_iter" data-ref-filename="42arg_iter">arg_iter</dfn> = <a class="local col1 ref" href="#41malloc_fn" title='malloc_fn' data-ref="41malloc_fn" data-ref-filename="41malloc_fn">malloc_fn</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/Function.h.html#_ZN4llvm8Function9arg_beginEv" title='llvm::Function::arg_begin' data-ref="_ZN4llvm8Function9arg_beginEv" data-ref-filename="_ZN4llvm8Function9arg_beginEv">arg_begin</a>();</td></tr>
<tr><th id="229">229</th><td>        ++<a class="local col2 ref" href="#42arg_iter" title='arg_iter' data-ref="42arg_iter" data-ref-filename="42arg_iter">arg_iter</a>;  <i>// skip the user context *</i></td></tr>
<tr><th id="230">230</th><td>        <a class="local col9 ref" href="#39slot" title='slot' data-ref="39slot" data-ref-filename="39slot">slot</a> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreatePointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreatePointerCast' data-ref="_ZN4llvm13IRBuilderBase17CreatePointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreatePointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreatePointerCast</a>(<a class="local col9 ref" href="#39slot" title='slot' data-ref="39slot" data-ref-filename="39slot">slot</a>, <a class="local col2 ref" href="#42arg_iter" title='arg_iter' data-ref="42arg_iter" data-ref-filename="42arg_iter">arg_iter</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>());</td></tr>
<tr><th id="231">231</th><td>        ++<a class="local col2 ref" href="#42arg_iter" title='arg_iter' data-ref="42arg_iter" data-ref-filename="42arg_iter">arg_iter</a>;  <i>// skip the pointer to the stack slot</i></td></tr>
<tr><th id="232">232</th><td>        <a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateIntCastEPNS_5ValueEPNS_4TypeEbRKNS_5TwineE" title='llvm::IRBuilderBase::CreateIntCast' data-ref="_ZN4llvm13IRBuilderBase13CreateIntCastEPNS_5ValueEPNS_4TypeEbRKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateIntCastEPNS_5ValueEPNS_4TypeEbRKNS_5TwineE">CreateIntCast</a>(<a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a>, <a class="local col2 ref" href="#42arg_iter" title='arg_iter' data-ref="42arg_iter" data-ref-filename="42arg_iter">arg_iter</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <b>false</b>);</td></tr>
<tr><th id="233">233</th><td>        <a class="type" href="../llvm-install/include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col3 decl" id="43args" title='args' data-type='llvm::Value *[3]' data-ref="43args" data-ref-filename="43args">args</dfn>[<var>3</var>] = {<a class="member fn" href="CodeGen_LLVM.h.html#_ZNK6Halide8Internal12CodeGen_LLVM16get_user_contextEv" title='Halide::Internal::CodeGen_LLVM::get_user_context' data-ref="_ZNK6Halide8Internal12CodeGen_LLVM16get_user_contextEv" data-ref-filename="_ZNK6Halide8Internal12CodeGen_LLVM16get_user_contextEv">get_user_context</a>(), <a class="local col9 ref" href="#39slot" title='slot' data-ref="39slot" data-ref-filename="39slot">slot</a>, <a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a>};</td></tr>
<tr><th id="234">234</th><td>        <a class="type" href="../llvm-install/include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col4 decl" id="44call" title='call' data-type='llvm::Value *' data-ref="44call" data-ref-filename="44call">call</dfn> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateCallENS_14FunctionCalleeENS_8ArrayRefIPNS_5ValueEEERKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateCall' data-ref="_ZN4llvm13IRBuilderBase10CreateCallENS_14FunctionCalleeENS_8ArrayRefIPNS_5ValueEEERKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateCallENS_14FunctionCalleeENS_8ArrayRefIPNS_5ValueEEERKNS_5TwineEPNS_6MDNodeE">CreateCall</a>(<a class="ref fn fake" href="../llvm-install/include/llvm/IR/DerivedTypes.h.html#_ZN4llvm14FunctionCalleeC1EPT_" title='llvm::FunctionCallee::FunctionCallee' data-ref="_ZN4llvm14FunctionCalleeC1EPT_" data-ref-filename="_ZN4llvm14FunctionCalleeC1EPT_"></a><a class="local col1 ref" href="#41malloc_fn" title='malloc_fn' data-ref="41malloc_fn" data-ref-filename="41malloc_fn">malloc_fn</a>, <a class="ref fn fake" href="../llvm-install/include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERATL0___KT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERATL0___KT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERATL0___KT_"></a><a class="local col3 ref" href="#43args" title='args' data-ref="43args" data-ref-filename="43args">args</a>);</td></tr>
<tr><th id="235">235</th><td></td></tr>
<tr><th id="236">236</th><td>        <i>// Fix the type to avoid pointless bitcasts later</i></td></tr>
<tr><th id="237">237</th><td>        <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::ptr" title='Halide::Internal::CodeGen_Posix::Allocation::ptr' data-ref="Halide::Internal::CodeGen_Posix::Allocation::ptr" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..ptr">ptr</a> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreatePointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreatePointerCast' data-ref="_ZN4llvm13IRBuilderBase17CreatePointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreatePointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreatePointerCast</a>(<a class="local col4 ref" href="#44call" title='call' data-ref="44call" data-ref-filename="44call">call</a>, <a class="virtual member fn" href="CodeGen_LLVM.h.html#_ZNK6Halide8Internal12CodeGen_LLVM12llvm_type_ofERKNS_4TypeE" title='Halide::Internal::CodeGen_LLVM::llvm_type_of' data-ref="_ZNK6Halide8Internal12CodeGen_LLVM12llvm_type_ofERKNS_4TypeE" data-ref-filename="_ZNK6Halide8Internal12CodeGen_LLVM12llvm_type_ofERKNS_4TypeE">llvm_type_of</a>(<a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a>)-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/Type.h.html#_ZNK4llvm4Type12getPointerToEj" title='llvm::Type::getPointerTo' data-ref="_ZNK4llvm4Type12getPointerToEj" data-ref-filename="_ZNK4llvm4Type12getPointerToEj">getPointerTo</a>());</td></tr>
<tr><th id="238">238</th><td>        <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot" title='Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot' data-ref="Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..pseudostack_slot">pseudostack_slot</a> = <a class="local col9 ref" href="#39slot" title='slot' data-ref="39slot" data-ref-filename="39slot">slot</a>;</td></tr>
<tr><th id="239">239</th><td>    } <b>else</b> {</td></tr>
<tr><th id="240">240</th><td>        <b>if</b> (<a class="local col0 ref" href="#20new_expr" title='new_expr' data-ref="20new_expr" data-ref-filename="20new_expr">new_expr</a>.<a class="ref fn" href="IntrusivePtr.h.html#_ZNK6Halide8Internal12IntrusivePtr7definedEv" title='Halide::Internal::IntrusivePtr::defined' data-ref="_ZNK6Halide8Internal12IntrusivePtr7definedEv" data-ref-filename="_ZNK6Halide8Internal12IntrusivePtr7definedEv">defined</a>()) {</td></tr>
<tr><th id="241">241</th><td>            <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::ptr" title='Halide::Internal::CodeGen_Posix::Allocation::ptr' data-ref="Halide::Internal::CodeGen_Posix::Allocation::ptr" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..ptr">ptr</a> = <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE" title='Halide::Internal::CodeGen_LLVM::codegen' data-ref="_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS_4ExprE">codegen</a>(<a class="local col0 ref" href="#20new_expr" title='new_expr' data-ref="20new_expr" data-ref-filename="20new_expr">new_expr</a>);</td></tr>
<tr><th id="242">242</th><td>        } <b>else</b> {</td></tr>
<tr><th id="243">243</th><td>            <i>// call malloc</i></td></tr>
<tr><th id="244">244</th><td>            <span class="namespace">llvm::</span><a class="type" href="../llvm-install/include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> *<dfn class="local col5 decl" id="45malloc_fn" title='malloc_fn' data-type='llvm::Function *' data-ref="45malloc_fn" data-ref-filename="45malloc_fn">malloc_fn</dfn> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::module" title='Halide::Internal::CodeGen_LLVM::module' data-ref="Halide::Internal::CodeGen_LLVM::module" data-ref-filename="Halide..Internal..CodeGen_LLVM..module">module</a><span class='ref fn' title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</span><a class="ref fn" href="../llvm-install/include/llvm/IR/Module.h.html#_ZNK4llvm6Module11getFunctionENS_9StringRefE" title='llvm::Module::getFunction' data-ref="_ZNK4llvm6Module11getFunctionENS_9StringRefE" data-ref-filename="_ZNK4llvm6Module11getFunctionENS_9StringRefE">getFunction</a>(<a class="ref fn fake" href="../llvm-install/include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1EPKc" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1EPKc" data-ref-filename="_ZN4llvm9StringRefC1EPKc"></a><q>"halide_malloc"</q>);</td></tr>
<tr><th id="245">245</th><td>            <a class="macro" href="Error.h.html#139" title="(malloc_fn) ? (void)0 : ::Halide::Internal::Voidifier() &amp; ::Halide::Internal::ErrorReport(&quot;/fast/tmp/halide.git/src/CodeGen_Posix.cpp&quot;, 245, &quot;malloc_fn&quot;, 0).ref()" data-ref="_M/internal_assert">internal_assert</a>(<a class="local col5 ref" href="#45malloc_fn" title='malloc_fn' data-ref="45malloc_fn" data-ref-filename="45malloc_fn">malloc_fn</a>) <a class="ref fn" href="Error.h.html#_ZN6Halide8Internal11ErrorReportlsERKT_" title='Halide::Internal::ErrorReport::operator&lt;&lt;' data-ref="_ZN6Halide8Internal11ErrorReportlsERKT_" data-ref-filename="_ZN6Halide8Internal11ErrorReportlsERKT_">&lt;&lt;</a> <q>"Could not find halide_malloc in module\n"</q>;</td></tr>
<tr><th id="246">246</th><td>            <a class="local col5 ref" href="#45malloc_fn" title='malloc_fn' data-ref="45malloc_fn" data-ref-filename="45malloc_fn">malloc_fn</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/Function.h.html#_ZN4llvm8Function21setReturnDoesNotAliasEv" title='llvm::Function::setReturnDoesNotAlias' data-ref="_ZN4llvm8Function21setReturnDoesNotAliasEv" data-ref-filename="_ZN4llvm8Function21setReturnDoesNotAliasEv">setReturnDoesNotAlias</a>();</td></tr>
<tr><th id="247">247</th><td></td></tr>
<tr><th id="248">248</th><td>            <span class="namespace">llvm::</span><a class="type" href="../llvm-install/include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a>::<a class="typedef" href="../llvm-install/include/llvm/IR/Function.h.html#llvm::Function::arg_iterator" title='llvm::Function::arg_iterator' data-type='llvm::Argument *' data-ref="llvm::Function::arg_iterator" data-ref-filename="llvm..Function..arg_iterator">arg_iterator</a> <dfn class="local col6 decl" id="46arg_iter" title='arg_iter' data-type='llvm::Function::arg_iterator' data-ref="46arg_iter" data-ref-filename="46arg_iter">arg_iter</dfn> = <a class="local col5 ref" href="#45malloc_fn" title='malloc_fn' data-ref="45malloc_fn" data-ref-filename="45malloc_fn">malloc_fn</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/Function.h.html#_ZN4llvm8Function9arg_beginEv" title='llvm::Function::arg_begin' data-ref="_ZN4llvm8Function9arg_beginEv" data-ref-filename="_ZN4llvm8Function9arg_beginEv">arg_begin</a>();</td></tr>
<tr><th id="249">249</th><td>            ++<a class="local col6 ref" href="#46arg_iter" title='arg_iter' data-ref="46arg_iter" data-ref-filename="46arg_iter">arg_iter</a>;  <i>// skip the user context *</i></td></tr>
<tr><th id="250">250</th><td>            <a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase13CreateIntCastEPNS_5ValueEPNS_4TypeEbRKNS_5TwineE" title='llvm::IRBuilderBase::CreateIntCast' data-ref="_ZN4llvm13IRBuilderBase13CreateIntCastEPNS_5ValueEPNS_4TypeEbRKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase13CreateIntCastEPNS_5ValueEPNS_4TypeEbRKNS_5TwineE">CreateIntCast</a>(<a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a>, <a class="local col6 ref" href="#46arg_iter" title='arg_iter' data-ref="46arg_iter" data-ref-filename="46arg_iter">arg_iter</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/Value.h.html#_ZNK4llvm5Value7getTypeEv" title='llvm::Value::getType' data-ref="_ZNK4llvm5Value7getTypeEv" data-ref-filename="_ZNK4llvm5Value7getTypeEv">getType</a>(), <b>false</b>);</td></tr>
<tr><th id="251">251</th><td></td></tr>
<tr><th id="252">252</th><td>            <a class="type" href="Debug.h.html#Halide::Internal::debug" title='Halide::Internal::debug' data-ref="Halide::Internal::debug" data-ref-filename="Halide..Internal..debug">debug</a><a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debugC1Ei" title='Halide::Internal::debug::debug' data-ref="_ZN6Halide8Internal5debugC1Ei" data-ref-filename="_ZN6Halide8Internal5debugC1Ei">(</a><var>4</var>) <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>"Creating call to halide_malloc for allocation "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a></td></tr>
<tr><th id="253">253</th><td>                     <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>" of size "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a>.<a class="ref fn" href="Type.h.html#_ZNK6Halide4Type5bytesEv" title='Halide::Type::bytes' data-ref="_ZNK6Halide4Type5bytesEv" data-ref-filename="_ZNK6Halide4Type5bytesEv">bytes</a>();</td></tr>
<tr><th id="254">254</th><td>            <b>for</b> (<em>const</em> <a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a> &amp;<dfn class="local col7 decl" id="47e" title='e' data-type='const Halide::Expr &amp;' data-ref="47e" data-ref-filename="47e">e</dfn> : <a class="local col8 ref" href="#18extents" title='extents' data-ref="18extents" data-ref-filename="18extents">extents</a>) {</td></tr>
<tr><th id="255">255</th><td>                <a class="type" href="Debug.h.html#Halide::Internal::debug" title='Halide::Internal::debug' data-ref="Halide::Internal::debug" data-ref-filename="Halide..Internal..debug">debug</a><a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debugC1Ei" title='Halide::Internal::debug::debug' data-ref="_ZN6Halide8Internal5debugC1Ei" data-ref-filename="_ZN6Halide8Internal5debugC1Ei">(</a><var>4</var>) <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>" x "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col7 ref" href="#47e" title='e' data-ref="47e" data-ref-filename="47e">e</a>;</td></tr>
<tr><th id="256">256</th><td>            }</td></tr>
<tr><th id="257">257</th><td>            <a class="type" href="Debug.h.html#Halide::Internal::debug" title='Halide::Internal::debug' data-ref="Halide::Internal::debug" data-ref-filename="Halide..Internal..debug">debug</a><a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debugC1Ei" title='Halide::Internal::debug::debug' data-ref="_ZN6Halide8Internal5debugC1Ei" data-ref-filename="_ZN6Halide8Internal5debugC1Ei">(</a><var>4</var>) <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>"\n"</q>;</td></tr>
<tr><th id="258">258</th><td>            <a class="type" href="../llvm-install/include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col8 decl" id="48args" title='args' data-type='llvm::Value *[2]' data-ref="48args" data-ref-filename="48args">args</dfn>[<var>2</var>] = {<a class="member fn" href="CodeGen_LLVM.h.html#_ZNK6Halide8Internal12CodeGen_LLVM16get_user_contextEv" title='Halide::Internal::CodeGen_LLVM::get_user_context' data-ref="_ZNK6Halide8Internal12CodeGen_LLVM16get_user_contextEv" data-ref-filename="_ZNK6Halide8Internal12CodeGen_LLVM16get_user_contextEv">get_user_context</a>(), <a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a>};</td></tr>
<tr><th id="259">259</th><td></td></tr>
<tr><th id="260">260</th><td>            <a class="type" href="../llvm-install/include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col9 decl" id="49call" title='call' data-type='llvm::Value *' data-ref="49call" data-ref-filename="49call">call</dfn> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase10CreateCallENS_14FunctionCalleeENS_8ArrayRefIPNS_5ValueEEERKNS_5TwineEPNS_6MDNodeE" title='llvm::IRBuilderBase::CreateCall' data-ref="_ZN4llvm13IRBuilderBase10CreateCallENS_14FunctionCalleeENS_8ArrayRefIPNS_5ValueEEERKNS_5TwineEPNS_6MDNodeE" data-ref-filename="_ZN4llvm13IRBuilderBase10CreateCallENS_14FunctionCalleeENS_8ArrayRefIPNS_5ValueEEERKNS_5TwineEPNS_6MDNodeE">CreateCall</a>(<a class="ref fn fake" href="../llvm-install/include/llvm/IR/DerivedTypes.h.html#_ZN4llvm14FunctionCalleeC1EPT_" title='llvm::FunctionCallee::FunctionCallee' data-ref="_ZN4llvm14FunctionCalleeC1EPT_" data-ref-filename="_ZN4llvm14FunctionCalleeC1EPT_"></a><a class="local col5 ref" href="#45malloc_fn" title='malloc_fn' data-ref="45malloc_fn" data-ref-filename="45malloc_fn">malloc_fn</a>, <a class="ref fn fake" href="../llvm-install/include/llvm/ADT/ArrayRef.h.html#_ZN4llvm8ArrayRefC1ERATL0___KT_" title='llvm::ArrayRef::ArrayRef&lt;T&gt;' data-ref="_ZN4llvm8ArrayRefC1ERATL0___KT_" data-ref-filename="_ZN4llvm8ArrayRefC1ERATL0___KT_"></a><a class="local col8 ref" href="#48args" title='args' data-ref="48args" data-ref-filename="48args">args</a>);</td></tr>
<tr><th id="261">261</th><td></td></tr>
<tr><th id="262">262</th><td>            <i>// Fix the type to avoid pointless bitcasts later</i></td></tr>
<tr><th id="263">263</th><td>            <a class="local col9 ref" href="#49call" title='call' data-ref="49call" data-ref-filename="49call">call</a> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase17CreatePointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" title='llvm::IRBuilderBase::CreatePointerCast' data-ref="_ZN4llvm13IRBuilderBase17CreatePointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase17CreatePointerCastEPNS_5ValueEPNS_4TypeERKNS_5TwineE">CreatePointerCast</a>(<a class="local col9 ref" href="#49call" title='call' data-ref="49call" data-ref-filename="49call">call</a>, <a class="virtual member fn" href="CodeGen_LLVM.h.html#_ZNK6Halide8Internal12CodeGen_LLVM12llvm_type_ofERKNS_4TypeE" title='Halide::Internal::CodeGen_LLVM::llvm_type_of' data-ref="_ZNK6Halide8Internal12CodeGen_LLVM12llvm_type_ofERKNS_4TypeE" data-ref-filename="_ZNK6Halide8Internal12CodeGen_LLVM12llvm_type_ofERKNS_4TypeE">llvm_type_of</a>(<a class="local col6 ref" href="#16type" title='type' data-ref="16type" data-ref-filename="16type">type</a>)-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/Type.h.html#_ZNK4llvm4Type12getPointerToEj" title='llvm::Type::getPointerTo' data-ref="_ZNK4llvm4Type12getPointerToEj" data-ref-filename="_ZNK4llvm4Type12getPointerToEj">getPointerTo</a>());</td></tr>
<tr><th id="264">264</th><td></td></tr>
<tr><th id="265">265</th><td>            <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::ptr" title='Halide::Internal::CodeGen_Posix::Allocation::ptr' data-ref="Halide::Internal::CodeGen_Posix::Allocation::ptr" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..ptr">ptr</a> = <a class="local col9 ref" href="#49call" title='call' data-ref="49call" data-ref-filename="49call">call</a>;</td></tr>
<tr><th id="266">266</th><td>        }</td></tr>
<tr><th id="267">267</th><td></td></tr>
<tr><th id="268">268</th><td>        <i>// Assert that the allocation worked.</i></td></tr>
<tr><th id="269">269</th><td>        <a class="type" href="../llvm-install/include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col0 decl" id="50check" title='check' data-type='llvm::Value *' data-ref="50check" data-ref-filename="50check">check</dfn> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase15CreateIsNotNullEPNS_5ValueERKNS_5TwineE" title='llvm::IRBuilderBase::CreateIsNotNull' data-ref="_ZN4llvm13IRBuilderBase15CreateIsNotNullEPNS_5ValueERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase15CreateIsNotNullEPNS_5ValueERKNS_5TwineE">CreateIsNotNull</a>(<a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::ptr" title='Halide::Internal::CodeGen_Posix::Allocation::ptr' data-ref="Halide::Internal::CodeGen_Posix::Allocation::ptr" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..ptr">ptr</a>);</td></tr>
<tr><th id="270">270</th><td>        <b>if</b> (<a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a>) {</td></tr>
<tr><th id="271">271</th><td>            <a class="type" href="../llvm-install/include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col1 decl" id="51zero_size" title='zero_size' data-type='llvm::Value *' data-ref="51zero_size" data-ref-filename="51zero_size">zero_size</dfn> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateIsNullEPNS_5ValueERKNS_5TwineE" title='llvm::IRBuilderBase::CreateIsNull' data-ref="_ZN4llvm13IRBuilderBase12CreateIsNullEPNS_5ValueERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateIsNullEPNS_5ValueERKNS_5TwineE">CreateIsNull</a>(<a class="local col2 ref" href="#22llvm_size" title='llvm_size' data-ref="22llvm_size" data-ref-filename="22llvm_size">llvm_size</a>);</td></tr>
<tr><th id="272">272</th><td>            <a class="local col0 ref" href="#50check" title='check' data-ref="50check" data-ref-filename="50check">check</a> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateOr' data-ref="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE">CreateOr</a>(<a class="local col0 ref" href="#50check" title='check' data-ref="50check" data-ref-filename="50check">check</a>, <a class="local col1 ref" href="#51zero_size" title='zero_size' data-ref="51zero_size" data-ref-filename="51zero_size">zero_size</a>);</td></tr>
<tr><th id="273">273</th><td>        }</td></tr>
<tr><th id="274">274</th><td>        <b>if</b> (!<a class="ref fn" href="IROperator.h.html#_ZN6Halide8Internal12is_const_oneERKNS_4ExprE" title='Halide::Internal::is_const_one' data-ref="_ZN6Halide8Internal12is_const_oneERKNS_4ExprE" data-ref-filename="_ZN6Halide8Internal12is_const_oneERKNS_4ExprE">is_const_one</a>(<a class="local col9 ref" href="#19condition" title='condition' data-ref="19condition" data-ref-filename="19condition">condition</a>)) {</td></tr>
<tr><th id="275">275</th><td>            <i>// If the condition is false, it's OK for the new_expr to be null.</i></td></tr>
<tr><th id="276">276</th><td>            <a class="type" href="../llvm-install/include/llvm/IR/Value.h.html#llvm::Value" title='llvm::Value' data-ref="llvm::Value" data-ref-filename="llvm..Value">Value</a> *<dfn class="local col2 decl" id="52condition_is_false" title='condition_is_false' data-type='llvm::Value *' data-ref="52condition_is_false" data-ref-filename="52condition_is_false">condition_is_false</dfn> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase12CreateIsNullEPNS_5ValueERKNS_5TwineE" title='llvm::IRBuilderBase::CreateIsNull' data-ref="_ZN4llvm13IRBuilderBase12CreateIsNullEPNS_5ValueERKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase12CreateIsNullEPNS_5ValueERKNS_5TwineE">CreateIsNull</a>(<a class="local col6 ref" href="#26llvm_condition" title='llvm_condition' data-ref="26llvm_condition" data-ref-filename="26llvm_condition">llvm_condition</a>);</td></tr>
<tr><th id="277">277</th><td>            <a class="local col0 ref" href="#50check" title='check' data-ref="50check" data-ref-filename="50check">check</a> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::builder" title='Halide::Internal::CodeGen_LLVM::builder' data-ref="Halide::Internal::CodeGen_LLVM::builder" data-ref-filename="Halide..Internal..CodeGen_LLVM..builder">builder</a>-&gt;<a class="ref fn" href="../llvm-install/include/llvm/IR/IRBuilder.h.html#_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" title='llvm::IRBuilderBase::CreateOr' data-ref="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE" data-ref-filename="_ZN4llvm13IRBuilderBase8CreateOrEPNS_5ValueES2_RKNS_5TwineE">CreateOr</a>(<a class="local col0 ref" href="#50check" title='check' data-ref="50check" data-ref-filename="50check">check</a>, <a class="local col2 ref" href="#52condition_is_false" title='condition_is_false' data-ref="52condition_is_false" data-ref-filename="52condition_is_false">condition_is_false</a>);</td></tr>
<tr><th id="278">278</th><td>        }</td></tr>
<tr><th id="279">279</th><td></td></tr>
<tr><th id="280">280</th><td>        <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM16create_assertionEPN4llvm5ValueERKNS_4ExprES4_" title='Halide::Internal::CodeGen_LLVM::create_assertion' data-ref="_ZN6Halide8Internal12CodeGen_LLVM16create_assertionEPN4llvm5ValueERKNS_4ExprES4_" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM16create_assertionEPN4llvm5ValueERKNS_4ExprES4_">create_assertion</a>(<a class="local col0 ref" href="#50check" title='check' data-ref="50check" data-ref-filename="50check">check</a>, <a class="type" href="IR.h.html#Halide::Internal::Call" title='Halide::Internal::Call' data-ref="Halide::Internal::Call" data-ref-filename="Halide..Internal..Call">Call</a>::<a class="ref fn" href="IR.h.html#_ZN6Halide8Internal4Call4makeENS_4TypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKSt6vectorINS_4ExprESaISC_EENS1_8CallTypeENS0_11Function1071262" title='Halide::Internal::Call::make' data-ref="_ZN6Halide8Internal4Call4makeENS_4TypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKSt6vectorINS_4ExprESaISC_EENS1_8CallTypeENS0_11Function1071262" data-ref-filename="_ZN6Halide8Internal4Call4makeENS_4TypeERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEERKSt6vectorINS_4ExprESaISC_EENS1_8CallTypeENS0_11Function1071262">make</a>(<a class="ref fn" href="Type.h.html#_ZN6Halide3IntEii" title='Halide::Int' data-ref="_ZN6Halide3IntEii" data-ref-filename="_ZN6Halide3IntEii">Int</a>(<var>32</var>), <span class='ref fn fake' title='std::__cxx11::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></span><q>"halide_error_out_of_memory"</q>,</td></tr>
<tr><th id="281">281</th><td>                                           <span class="namespace">std::</span><span class='type' title='std::vector' data-ref="std::vector" data-ref-filename="std..vector">vector</span>&lt;<a class="type" href="Expr.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a>&gt;<span class='ref fn' title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1Ev" data-ref-filename="_ZNSt6vectorC1Ev">(</span>), <a class="type" href="IR.h.html#Halide::Internal::Call" title='Halide::Internal::Call' data-ref="Halide::Internal::Call" data-ref-filename="Halide..Internal..Call">Call</a>::<a class="enum" href="IR.h.html#Halide::Internal::Call::Extern" title='Halide::Internal::Call::Extern' data-ref="Halide::Internal::Call::Extern" data-ref-filename="Halide..Internal..Call..Extern">Extern</a>));</td></tr>
<tr><th id="282">282</th><td></td></tr>
<tr><th id="283">283</th><td>        <i>// Register a destructor for this allocation.</i></td></tr>
<tr><th id="284">284</th><td>        <b>if</b> (<a class="local col1 ref" href="#21free_function" title='free_function' data-ref="21free_function" data-ref-filename="21free_function">free_function</a>.<span class='ref fn' title='std::__cxx11::basic_string::empty' data-ref="_ZNKSt7__cxx1112basic_string5emptyEv" data-ref-filename="_ZNKSt7__cxx1112basic_string5emptyEv">empty</span>()) {</td></tr>
<tr><th id="285">285</th><td>            <a class="local col1 ref" href="#21free_function" title='free_function' data-ref="21free_function" data-ref-filename="21free_function">free_function</a> <span class='ref fn' title='std::__cxx11::basic_string::operator=' data-ref="_ZNSt7__cxx1112basic_stringaSEPKT_" data-ref-filename="_ZNSt7__cxx1112basic_stringaSEPKT_">=</span> <q>"halide_free"</q>;</td></tr>
<tr><th id="286">286</th><td>        }</td></tr>
<tr><th id="287">287</th><td>        <span class="namespace">llvm::</span><a class="type" href="../llvm-install/include/llvm/IR/Function.h.html#llvm::Function" title='llvm::Function' data-ref="llvm::Function" data-ref-filename="llvm..Function">Function</a> *<dfn class="local col3 decl" id="53free_fn" title='free_fn' data-type='llvm::Function *' data-ref="53free_fn" data-ref-filename="53free_fn">free_fn</dfn> = <a class="member field" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::module" title='Halide::Internal::CodeGen_LLVM::module' data-ref="Halide::Internal::CodeGen_LLVM::module" data-ref-filename="Halide..Internal..CodeGen_LLVM..module">module</a><span class='ref fn' title='std::unique_ptr::operator-&gt;' data-ref="_ZNKSt10unique_ptrptEv" data-ref-filename="_ZNKSt10unique_ptrptEv">-&gt;</span><a class="ref fn" href="../llvm-install/include/llvm/IR/Module.h.html#_ZNK4llvm6Module11getFunctionENS_9StringRefE" title='llvm::Module::getFunction' data-ref="_ZNK4llvm6Module11getFunctionENS_9StringRefE" data-ref-filename="_ZNK4llvm6Module11getFunctionENS_9StringRefE">getFunction</a>(<a class="ref fn fake" href="../llvm-install/include/llvm/ADT/StringRef.h.html#_ZN4llvm9StringRefC1ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='llvm::StringRef::StringRef' data-ref="_ZN4llvm9StringRefC1ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN4llvm9StringRefC1ERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE"></a><a class="local col1 ref" href="#21free_function" title='free_function' data-ref="21free_function" data-ref-filename="21free_function">free_function</a>);</td></tr>
<tr><th id="288">288</th><td>        <a class="macro" href="Error.h.html#139" title="(free_fn) ? (void)0 : ::Halide::Internal::Voidifier() &amp; ::Halide::Internal::ErrorReport(&quot;/fast/tmp/halide.git/src/CodeGen_Posix.cpp&quot;, 288, &quot;free_fn&quot;, 0).ref()" data-ref="_M/internal_assert">internal_assert</a>(<a class="local col3 ref" href="#53free_fn" title='free_fn' data-ref="53free_fn" data-ref-filename="53free_fn">free_fn</a>) <a class="ref fn" href="Error.h.html#_ZN6Halide8Internal11ErrorReportlsERKT_" title='Halide::Internal::ErrorReport::operator&lt;&lt;' data-ref="_ZN6Halide8Internal11ErrorReportlsERKT_" data-ref-filename="_ZN6Halide8Internal11ErrorReportlsERKT_">&lt;&lt;</a> <q>"Could not find "</q> <a class="ref fn" href="Error.h.html#_ZN6Halide8Internal11ErrorReportlsERKT_" title='Halide::Internal::ErrorReport::operator&lt;&lt;' data-ref="_ZN6Halide8Internal11ErrorReportlsERKT_" data-ref-filename="_ZN6Halide8Internal11ErrorReportlsERKT_">&lt;&lt;</a> <a class="local col1 ref" href="#21free_function" title='free_function' data-ref="21free_function" data-ref-filename="21free_function">free_function</a> <a class="ref fn" href="Error.h.html#_ZN6Halide8Internal11ErrorReportlsERKT_" title='Halide::Internal::ErrorReport::operator&lt;&lt;' data-ref="_ZN6Halide8Internal11ErrorReportlsERKT_" data-ref-filename="_ZN6Halide8Internal11ErrorReportlsERKT_">&lt;&lt;</a> <q>" in module.\n"</q>;</td></tr>
<tr><th id="289">289</th><td>        <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::destructor" title='Halide::Internal::CodeGen_Posix::Allocation::destructor' data-ref="Halide::Internal::CodeGen_Posix::Allocation::destructor" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..destructor">destructor</a> = <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM19register_destructorEPN4llvm8FunctionEPNS2_5ValueENS1_14DestructorTypeE" title='Halide::Internal::CodeGen_LLVM::register_destructor' data-ref="_ZN6Halide8Internal12CodeGen_LLVM19register_destructorEPN4llvm8FunctionEPNS2_5ValueENS1_14DestructorTypeE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM19register_destructorEPN4llvm8FunctionEPNS2_5ValueENS1_14DestructorTypeE">register_destructor</a>(<a class="local col3 ref" href="#53free_fn" title='free_fn' data-ref="53free_fn" data-ref-filename="53free_fn">free_fn</a>, <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::ptr" title='Halide::Internal::CodeGen_Posix::Allocation::ptr' data-ref="Halide::Internal::CodeGen_Posix::Allocation::ptr" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..ptr">ptr</a>, <a class="enum" href="CodeGen_LLVM.h.html#Halide::Internal::CodeGen_LLVM::OnError" title='Halide::Internal::CodeGen_LLVM::OnError' data-ref="Halide::Internal::CodeGen_LLVM::OnError" data-ref-filename="Halide..Internal..CodeGen_LLVM..OnError">OnError</a>);</td></tr>
<tr><th id="290">290</th><td>        <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::destructor_function" title='Halide::Internal::CodeGen_Posix::Allocation::destructor_function' data-ref="Halide::Internal::CodeGen_Posix::Allocation::destructor_function" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..destructor_function">destructor_function</a> = <a class="local col3 ref" href="#53free_fn" title='free_fn' data-ref="53free_fn" data-ref-filename="53free_fn">free_fn</a>;</td></tr>
<tr><th id="291">291</th><td>    }</td></tr>
<tr><th id="292">292</th><td></td></tr>
<tr><th id="293">293</th><td>    <i>// Push the allocation base pointer onto the symbol table</i></td></tr>
<tr><th id="294">294</th><td>    <a class="type" href="Debug.h.html#Halide::Internal::debug" title='Halide::Internal::debug' data-ref="Halide::Internal::debug" data-ref-filename="Halide..Internal..debug">debug</a><a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debugC1Ei" title='Halide::Internal::debug::debug' data-ref="_ZN6Halide8Internal5debugC1Ei" data-ref-filename="_ZN6Halide8Internal5debugC1Ei">(</a><var>3</var>) <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>"Pushing allocation called "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>" onto the symbol table\n"</q>;</td></tr>
<tr><th id="295">295</th><td></td></tr>
<tr><th id="296">296</th><td>    <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::allocations" title='Halide::Internal::CodeGen_Posix::allocations' data-ref="Halide::Internal::CodeGen_Posix::allocations" data-ref-filename="Halide..Internal..CodeGen_Posix..allocations">allocations</a>.<a class="ref fn" href="Scope.h.html#_ZN6Halide8Internal5Scope4pushERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEOTL0__" title='Halide::Internal::Scope::push' data-ref="_ZN6Halide8Internal5Scope4pushERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEOTL0__" data-ref-filename="_ZN6Halide8Internal5Scope4pushERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEOTL0__">push</a>(<a class="local col5 ref" href="#15name" title='name' data-ref="15name" data-ref-filename="15name">name</a>, <span class='refarg'><a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a></span>);</td></tr>
<tr><th id="297">297</th><td></td></tr>
<tr><th id="298">298</th><td>    <b>return</b> <a class="local col8 ref" href="#28allocation" title='allocation' data-ref="28allocation" data-ref-filename="28allocation">allocation</a>;</td></tr>
<tr><th id="299">299</th><td>}</td></tr>
<tr><th id="300">300</th><td></td></tr>
<tr><th id="301">301</th><td><em>void</em> <a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix" title='Halide::Internal::CodeGen_Posix' data-ref="Halide::Internal::CodeGen_Posix" data-ref-filename="Halide..Internal..CodeGen_Posix">CodeGen_Posix</a>::<dfn class="decl def fn" id="_ZN6Halide8Internal13CodeGen_Posix15free_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::CodeGen_Posix::free_allocation' data-ref="_ZN6Halide8Internal13CodeGen_Posix15free_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN6Halide8Internal13CodeGen_Posix15free_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">free_allocation</dfn>(<em>const</em> <span class="namespace">std::</span><span class='typedef' title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</span> &amp;<dfn class="local col4 decl" id="54name" title='name' data-type='const std::string &amp;' data-ref="54name" data-ref-filename="54name">name</dfn>) {</td></tr>
<tr><th id="302">302</th><td>    <a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation" title='Halide::Internal::CodeGen_Posix::Allocation' data-ref="Halide::Internal::CodeGen_Posix::Allocation" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation">Allocation</a> <dfn class="local col5 decl" id="55alloc" title='alloc' data-type='Halide::Internal::CodeGen_Posix::Allocation' data-ref="55alloc" data-ref-filename="55alloc">alloc</dfn> = <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::allocations" title='Halide::Internal::CodeGen_Posix::allocations' data-ref="Halide::Internal::CodeGen_Posix::allocations" data-ref-filename="Halide..Internal..CodeGen_Posix..allocations">allocations</a>.<a class="ref fn" href="Scope.h.html#_ZNK6Halide8Internal5Scope3getERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::Scope::get' data-ref="_ZNK6Halide8Internal5Scope3getERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZNK6Halide8Internal5Scope3getERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">get</a>(<a class="local col4 ref" href="#54name" title='name' data-ref="54name" data-ref-filename="54name">name</a>);</td></tr>
<tr><th id="303">303</th><td></td></tr>
<tr><th id="304">304</th><td>    <b>if</b> (<a class="local col5 ref" href="#55alloc" title='alloc' data-ref="55alloc" data-ref-filename="55alloc">alloc</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::stack_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..stack_bytes">stack_bytes</a>) {</td></tr>
<tr><th id="305">305</th><td>        <i>// Remember this allocation so it can be re-used by a later allocation.</i></td></tr>
<tr><th id="306">306</th><td>        <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::free_stack_allocs" title='Halide::Internal::CodeGen_Posix::free_stack_allocs' data-ref="Halide::Internal::CodeGen_Posix::free_stack_allocs" data-ref-filename="Halide..Internal..CodeGen_Posix..free_stack_allocs">free_stack_allocs</a>.<span class='ref fn' title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_" data-ref-filename="_ZNSt6vector9push_backERKT_">push_back</span>(<a class="local col5 ref" href="#55alloc" title='alloc' data-ref="55alloc" data-ref-filename="55alloc">alloc</a>);</td></tr>
<tr><th id="307">307</th><td>        <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::cur_stack_alloc_total" title='Halide::Internal::CodeGen_Posix::cur_stack_alloc_total' data-ref="Halide::Internal::CodeGen_Posix::cur_stack_alloc_total" data-ref-filename="Halide..Internal..CodeGen_Posix..cur_stack_alloc_total">cur_stack_alloc_total</a> -= <a class="local col5 ref" href="#55alloc" title='alloc' data-ref="55alloc" data-ref-filename="55alloc">alloc</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::stack_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..stack_bytes">stack_bytes</a>;</td></tr>
<tr><th id="308">308</th><td>        <a class="type" href="Debug.h.html#Halide::Internal::debug" title='Halide::Internal::debug' data-ref="Halide::Internal::debug" data-ref-filename="Halide..Internal..debug">debug</a><a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debugC1Ei" title='Halide::Internal::debug::debug' data-ref="_ZN6Halide8Internal5debugC1Ei" data-ref-filename="_ZN6Halide8Internal5debugC1Ei">(</a><var>4</var>) <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>"cur_stack_alloc_total -= "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col5 ref" href="#55alloc" title='alloc' data-ref="55alloc" data-ref-filename="55alloc">alloc</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" title='Halide::Internal::CodeGen_Posix::Allocation::stack_bytes' data-ref="Halide::Internal::CodeGen_Posix::Allocation::stack_bytes" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..stack_bytes">stack_bytes</a> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>" -&gt; "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::cur_stack_alloc_total" title='Halide::Internal::CodeGen_Posix::cur_stack_alloc_total' data-ref="Halide::Internal::CodeGen_Posix::cur_stack_alloc_total" data-ref-filename="Halide..Internal..CodeGen_Posix..cur_stack_alloc_total">cur_stack_alloc_total</a> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>" for "</q> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <a class="local col4 ref" href="#54name" title='name' data-ref="54name" data-ref-filename="54name">name</a> <a class="ref fn" href="Debug.h.html#_ZN6Halide8Internal5debuglsEOT_" title='Halide::Internal::debug::operator&lt;&lt;' data-ref="_ZN6Halide8Internal5debuglsEOT_" data-ref-filename="_ZN6Halide8Internal5debuglsEOT_">&lt;&lt;</a> <q>"\n"</q>;</td></tr>
<tr><th id="309">309</th><td>    } <b>else</b> <b>if</b> (<a class="local col5 ref" href="#55alloc" title='alloc' data-ref="55alloc" data-ref-filename="55alloc">alloc</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot" title='Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot' data-ref="Halide::Internal::CodeGen_Posix::Allocation::pseudostack_slot" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..pseudostack_slot">pseudostack_slot</a>) {</td></tr>
<tr><th id="310">310</th><td>        <i>// Don't call the destructor yet - the lifetime persists until function exit.</i></td></tr>
<tr><th id="311">311</th><td>        <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::free_stack_allocs" title='Halide::Internal::CodeGen_Posix::free_stack_allocs' data-ref="Halide::Internal::CodeGen_Posix::free_stack_allocs" data-ref-filename="Halide..Internal..CodeGen_Posix..free_stack_allocs">free_stack_allocs</a>.<span class='ref fn' title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_" data-ref-filename="_ZNSt6vector9push_backERKT_">push_back</span>(<a class="local col5 ref" href="#55alloc" title='alloc' data-ref="55alloc" data-ref-filename="55alloc">alloc</a>);</td></tr>
<tr><th id="312">312</th><td>    } <b>else</b> <b>if</b> (<a class="local col5 ref" href="#55alloc" title='alloc' data-ref="55alloc" data-ref-filename="55alloc">alloc</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::destructor_function" title='Halide::Internal::CodeGen_Posix::Allocation::destructor_function' data-ref="Halide::Internal::CodeGen_Posix::Allocation::destructor_function" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..destructor_function">destructor_function</a>) {</td></tr>
<tr><th id="313">313</th><td>        <a class="macro" href="Error.h.html#139" title="(alloc.destructor) ? (void)0 : ::Halide::Internal::Voidifier() &amp; ::Halide::Internal::ErrorReport(&quot;/fast/tmp/halide.git/src/CodeGen_Posix.cpp&quot;, 313, &quot;alloc.destructor&quot;, 0).ref()" data-ref="_M/internal_assert">internal_assert</a>(<a class="local col5 ref" href="#55alloc" title='alloc' data-ref="55alloc" data-ref-filename="55alloc">alloc</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::destructor" title='Halide::Internal::CodeGen_Posix::Allocation::destructor' data-ref="Halide::Internal::CodeGen_Posix::Allocation::destructor" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..destructor">destructor</a>);</td></tr>
<tr><th id="314">314</th><td>        <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM18trigger_destructorEPN4llvm8FunctionEPNS2_5ValueE" title='Halide::Internal::CodeGen_LLVM::trigger_destructor' data-ref="_ZN6Halide8Internal12CodeGen_LLVM18trigger_destructorEPN4llvm8FunctionEPNS2_5ValueE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM18trigger_destructorEPN4llvm8FunctionEPNS2_5ValueE">trigger_destructor</a>(<a class="local col5 ref" href="#55alloc" title='alloc' data-ref="55alloc" data-ref-filename="55alloc">alloc</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::destructor_function" title='Halide::Internal::CodeGen_Posix::Allocation::destructor_function' data-ref="Halide::Internal::CodeGen_Posix::Allocation::destructor_function" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..destructor_function">destructor_function</a>, <a class="local col5 ref" href="#55alloc" title='alloc' data-ref="55alloc" data-ref-filename="55alloc">alloc</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::destructor" title='Halide::Internal::CodeGen_Posix::Allocation::destructor' data-ref="Halide::Internal::CodeGen_Posix::Allocation::destructor" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..destructor">destructor</a>);</td></tr>
<tr><th id="315">315</th><td>    }</td></tr>
<tr><th id="316">316</th><td></td></tr>
<tr><th id="317">317</th><td>    <a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::allocations" title='Halide::Internal::CodeGen_Posix::allocations' data-ref="Halide::Internal::CodeGen_Posix::allocations" data-ref-filename="Halide..Internal..CodeGen_Posix..allocations">allocations</a>.<a class="ref fn" href="Scope.h.html#_ZN6Halide8Internal5Scope3popERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::Scope::pop' data-ref="_ZN6Halide8Internal5Scope3popERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN6Halide8Internal5Scope3popERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">pop</a>(<a class="local col4 ref" href="#54name" title='name' data-ref="54name" data-ref-filename="54name">name</a>);</td></tr>
<tr><th id="318">318</th><td>    <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM7sym_popERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::CodeGen_LLVM::sym_pop' data-ref="_ZN6Halide8Internal12CodeGen_LLVM7sym_popERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM7sym_popERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">sym_pop</a>(<a class="local col4 ref" href="#54name" title='name' data-ref="54name" data-ref-filename="54name">name</a>);</td></tr>
<tr><th id="319">319</th><td>}</td></tr>
<tr><th id="320">320</th><td></td></tr>
<tr><th id="321">321</th><td><span class='typedef' title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</span> <a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix" title='Halide::Internal::CodeGen_Posix' data-ref="Halide::Internal::CodeGen_Posix" data-ref-filename="Halide..Internal..CodeGen_Posix">CodeGen_Posix</a>::<dfn class="virtual decl def fn" id="_ZN6Halide8Internal13CodeGen_Posix19get_allocation_nameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::CodeGen_Posix::get_allocation_name' data-ref="_ZN6Halide8Internal13CodeGen_Posix19get_allocation_nameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN6Halide8Internal13CodeGen_Posix19get_allocation_nameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">get_allocation_name</dfn>(<em>const</em> <span class="namespace">std::</span><span class='typedef' title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</span> &amp;<dfn class="local col6 decl" id="56n" title='n' data-type='const std::string &amp;' data-ref="56n" data-ref-filename="56n">n</dfn>) {</td></tr>
<tr><th id="322">322</th><td>    <b>if</b> (<a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::allocations" title='Halide::Internal::CodeGen_Posix::allocations' data-ref="Halide::Internal::CodeGen_Posix::allocations" data-ref-filename="Halide..Internal..CodeGen_Posix..allocations">allocations</a>.<a class="ref fn" href="Scope.h.html#_ZNK6Halide8Internal5Scope8containsERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::Scope::contains' data-ref="_ZNK6Halide8Internal5Scope8containsERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZNK6Halide8Internal5Scope8containsERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">contains</a>(<a class="local col6 ref" href="#56n" title='n' data-ref="56n" data-ref-filename="56n">n</a>)) {</td></tr>
<tr><th id="323">323</th><td>        <b>return</b> <span class='ref fn fake' title='std::__cxx11::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EONS_12basic_stringIT_T0_T1_EE" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EONS_12basic_stringIT_T0_T1_EE"></span><a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::allocations" title='Halide::Internal::CodeGen_Posix::allocations' data-ref="Halide::Internal::CodeGen_Posix::allocations" data-ref-filename="Halide..Internal..CodeGen_Posix..allocations">allocations</a>.<a class="ref fn" href="Scope.h.html#_ZNK6Halide8Internal5Scope3getERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::Scope::get' data-ref="_ZNK6Halide8Internal5Scope3getERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZNK6Halide8Internal5Scope3getERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">get</a>(<a class="local col6 ref" href="#56n" title='n' data-ref="56n" data-ref-filename="56n">n</a>).<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::name" title='Halide::Internal::CodeGen_Posix::Allocation::name' data-ref="Halide::Internal::CodeGen_Posix::Allocation::name" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..name">name</a>;</td></tr>
<tr><th id="324">324</th><td>    } <b>else</b> {</td></tr>
<tr><th id="325">325</th><td>        <b>return</b> <span class='ref fn fake' title='std::__cxx11::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1ERKNS_12basic_stringIT_T0_T1_EE" data-ref-filename="_ZNSt7__cxx1112basic_stringC1ERKNS_12basic_stringIT_T0_T1_EE"></span><a class="local col6 ref" href="#56n" title='n' data-ref="56n" data-ref-filename="56n">n</a>;</td></tr>
<tr><th id="326">326</th><td>    }</td></tr>
<tr><th id="327">327</th><td>}</td></tr>
<tr><th id="328">328</th><td></td></tr>
<tr><th id="329">329</th><td><em>void</em> <a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix" title='Halide::Internal::CodeGen_Posix' data-ref="Halide::Internal::CodeGen_Posix" data-ref-filename="Halide..Internal..CodeGen_Posix">CodeGen_Posix</a>::<dfn class="virtual decl def fn" id="_ZN6Halide8Internal13CodeGen_Posix5visitEPKNS0_8AllocateE" title='Halide::Internal::CodeGen_Posix::visit' data-ref="_ZN6Halide8Internal13CodeGen_Posix5visitEPKNS0_8AllocateE" data-ref-filename="_ZN6Halide8Internal13CodeGen_Posix5visitEPKNS0_8AllocateE">visit</dfn>(<em>const</em> <a class="type" href="IR.h.html#Halide::Internal::Allocate" title='Halide::Internal::Allocate' data-ref="Halide::Internal::Allocate" data-ref-filename="Halide..Internal..Allocate">Allocate</a> *<dfn class="local col7 decl" id="57alloc" title='alloc' data-type='const Halide::Internal::Allocate *' data-ref="57alloc" data-ref-filename="57alloc">alloc</dfn>) {</td></tr>
<tr><th id="330">330</th><td>    <b>if</b> (<a class="member fn" href="CodeGen_LLVM.h.html#_ZNK6Halide8Internal12CodeGen_LLVM10sym_existsERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::CodeGen_LLVM::sym_exists' data-ref="_ZNK6Halide8Internal12CodeGen_LLVM10sym_existsERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZNK6Halide8Internal12CodeGen_LLVM10sym_existsERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">sym_exists</a>(<a class="local col7 ref" href="#57alloc" title='alloc' data-ref="57alloc" data-ref-filename="57alloc">alloc</a>-&gt;<a class="ref field" href="IR.h.html#Halide::Internal::Allocate::name" title='Halide::Internal::Allocate::name' data-ref="Halide::Internal::Allocate::name" data-ref-filename="Halide..Internal..Allocate..name">name</a>)) {</td></tr>
<tr><th id="331">331</th><td>        <a class="macro" href="Error.h.html#135" title="Halide::Internal::ErrorReport(&quot;/fast/tmp/halide.git/src/CodeGen_Posix.cpp&quot;, 331, nullptr, Halide::Internal::ErrorReport::User)" data-ref="_M/user_error">user_error</a> <a class="ref fn" href="Error.h.html#_ZN6Halide8Internal11ErrorReportlsERKT_" title='Halide::Internal::ErrorReport::operator&lt;&lt;' data-ref="_ZN6Halide8Internal11ErrorReportlsERKT_" data-ref-filename="_ZN6Halide8Internal11ErrorReportlsERKT_">&lt;&lt;</a> <q>"Can't have two different buffers with the same name: "</q></td></tr>
<tr><th id="332">332</th><td>                   <a class="ref fn" href="Error.h.html#_ZN6Halide8Internal11ErrorReportlsERKT_" title='Halide::Internal::ErrorReport::operator&lt;&lt;' data-ref="_ZN6Halide8Internal11ErrorReportlsERKT_" data-ref-filename="_ZN6Halide8Internal11ErrorReportlsERKT_">&lt;&lt;</a> <a class="local col7 ref" href="#57alloc" title='alloc' data-ref="57alloc" data-ref-filename="57alloc">alloc</a>-&gt;<a class="ref field" href="IR.h.html#Halide::Internal::Allocate::name" title='Halide::Internal::Allocate::name' data-ref="Halide::Internal::Allocate::name" data-ref-filename="Halide..Internal..Allocate..name">name</a> <a class="ref fn" href="Error.h.html#_ZN6Halide8Internal11ErrorReportlsERKT_" title='Halide::Internal::ErrorReport::operator&lt;&lt;' data-ref="_ZN6Halide8Internal11ErrorReportlsERKT_" data-ref-filename="_ZN6Halide8Internal11ErrorReportlsERKT_">&lt;&lt;</a> <q>"\n"</q>;</td></tr>
<tr><th id="333">333</th><td>    }</td></tr>
<tr><th id="334">334</th><td></td></tr>
<tr><th id="335">335</th><td>    <a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation" title='Halide::Internal::CodeGen_Posix::Allocation' data-ref="Halide::Internal::CodeGen_Posix::Allocation" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation">Allocation</a> <dfn class="local col8 decl" id="58allocation" title='allocation' data-type='Halide::Internal::CodeGen_Posix::Allocation' data-ref="58allocation" data-ref-filename="58allocation">allocation</dfn> = <a class="member fn" href="#_ZN6Halide8Internal13CodeGen_Posix17create_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_4TypeENS_10MemoryTypeERKSt6vectorINS_4E15349718" title='Halide::Internal::CodeGen_Posix::create_allocation' data-ref="_ZN6Halide8Internal13CodeGen_Posix17create_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_4TypeENS_10MemoryTypeERKSt6vectorINS_4E15349718" data-ref-filename="_ZN6Halide8Internal13CodeGen_Posix17create_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEENS_4TypeENS_10MemoryTypeERKSt6vectorINS_4E15349718">create_allocation</a>(<a class="local col7 ref" href="#57alloc" title='alloc' data-ref="57alloc" data-ref-filename="57alloc">alloc</a>-&gt;<a class="ref field" href="IR.h.html#Halide::Internal::Allocate::name" title='Halide::Internal::Allocate::name' data-ref="Halide::Internal::Allocate::name" data-ref-filename="Halide..Internal..Allocate..name">name</a>, <a class="ref fn fake" href="Type.h.html#_ZN6Halide4TypeC1ERKS0_" title='Halide::Type::Type' data-ref="_ZN6Halide4TypeC1ERKS0_" data-ref-filename="_ZN6Halide4TypeC1ERKS0_"></a><a class="local col7 ref" href="#57alloc" title='alloc' data-ref="57alloc" data-ref-filename="57alloc">alloc</a>-&gt;<a class="ref field" href="IR.h.html#Halide::Internal::Allocate::type" title='Halide::Internal::Allocate::type' data-ref="Halide::Internal::Allocate::type" data-ref-filename="Halide..Internal..Allocate..type">type</a>, <a class="local col7 ref" href="#57alloc" title='alloc' data-ref="57alloc" data-ref-filename="57alloc">alloc</a>-&gt;<a class="ref field" href="IR.h.html#Halide::Internal::Allocate::memory_type" title='Halide::Internal::Allocate::memory_type' data-ref="Halide::Internal::Allocate::memory_type" data-ref-filename="Halide..Internal..Allocate..memory_type">memory_type</a>,</td></tr>
<tr><th id="336">336</th><td>                                              <a class="local col7 ref" href="#57alloc" title='alloc' data-ref="57alloc" data-ref-filename="57alloc">alloc</a>-&gt;<a class="ref field" href="IR.h.html#Halide::Internal::Allocate::extents" title='Halide::Internal::Allocate::extents' data-ref="Halide::Internal::Allocate::extents" data-ref-filename="Halide..Internal..Allocate..extents">extents</a>, <a class="local col7 ref" href="#57alloc" title='alloc' data-ref="57alloc" data-ref-filename="57alloc">alloc</a>-&gt;<a class="ref field" href="IR.h.html#Halide::Internal::Allocate::condition" title='Halide::Internal::Allocate::condition' data-ref="Halide::Internal::Allocate::condition" data-ref-filename="Halide..Internal..Allocate..condition">condition</a>,</td></tr>
<tr><th id="337">337</th><td>                                              <a class="local col7 ref" href="#57alloc" title='alloc' data-ref="57alloc" data-ref-filename="57alloc">alloc</a>-&gt;<a class="ref field" href="IR.h.html#Halide::Internal::Allocate::new_expr" title='Halide::Internal::Allocate::new_expr' data-ref="Halide::Internal::Allocate::new_expr" data-ref-filename="Halide..Internal..Allocate..new_expr">new_expr</a>, <span class='ref fn fake' title='std::__cxx11::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1ERKNS_12basic_stringIT_T0_T1_EE" data-ref-filename="_ZNSt7__cxx1112basic_stringC1ERKNS_12basic_stringIT_T0_T1_EE"></span><a class="local col7 ref" href="#57alloc" title='alloc' data-ref="57alloc" data-ref-filename="57alloc">alloc</a>-&gt;<a class="ref field" href="IR.h.html#Halide::Internal::Allocate::free_function" title='Halide::Internal::Allocate::free_function' data-ref="Halide::Internal::Allocate::free_function" data-ref-filename="Halide..Internal..Allocate..free_function">free_function</a>);</td></tr>
<tr><th id="338">338</th><td>    <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM8sym_pushERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPN4llvm5ValueE" title='Halide::Internal::CodeGen_LLVM::sym_push' data-ref="_ZN6Halide8Internal12CodeGen_LLVM8sym_pushERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPN4llvm5ValueE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM8sym_pushERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEPN4llvm5ValueE">sym_push</a>(<a class="local col7 ref" href="#57alloc" title='alloc' data-ref="57alloc" data-ref-filename="57alloc">alloc</a>-&gt;<a class="ref field" href="IR.h.html#Halide::Internal::Allocate::name" title='Halide::Internal::Allocate::name' data-ref="Halide::Internal::Allocate::name" data-ref-filename="Halide..Internal..Allocate..name">name</a>, <a class="local col8 ref" href="#58allocation" title='allocation' data-ref="58allocation" data-ref-filename="58allocation">allocation</a>.<a class="ref field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::Allocation::ptr" title='Halide::Internal::CodeGen_Posix::Allocation::ptr' data-ref="Halide::Internal::CodeGen_Posix::Allocation::ptr" data-ref-filename="Halide..Internal..CodeGen_Posix..Allocation..ptr">ptr</a>);</td></tr>
<tr><th id="339">339</th><td></td></tr>
<tr><th id="340">340</th><td>    <a class="member fn" href="CodeGen_LLVM.h.html#_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS0_4StmtE" title='Halide::Internal::CodeGen_LLVM::codegen' data-ref="_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS0_4StmtE" data-ref-filename="_ZN6Halide8Internal12CodeGen_LLVM7codegenERKNS0_4StmtE">codegen</a>(<a class="local col7 ref" href="#57alloc" title='alloc' data-ref="57alloc" data-ref-filename="57alloc">alloc</a>-&gt;<a class="ref field" href="IR.h.html#Halide::Internal::Allocate::body" title='Halide::Internal::Allocate::body' data-ref="Halide::Internal::Allocate::body" data-ref-filename="Halide..Internal..Allocate..body">body</a>);</td></tr>
<tr><th id="341">341</th><td></td></tr>
<tr><th id="342">342</th><td>    <i>// If there was no early free, free it now.</i></td></tr>
<tr><th id="343">343</th><td>    <b>if</b> (<a class="member field" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix::allocations" title='Halide::Internal::CodeGen_Posix::allocations' data-ref="Halide::Internal::CodeGen_Posix::allocations" data-ref-filename="Halide..Internal..CodeGen_Posix..allocations">allocations</a>.<a class="ref fn" href="Scope.h.html#_ZNK6Halide8Internal5Scope8containsERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::Scope::contains' data-ref="_ZNK6Halide8Internal5Scope8containsERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZNK6Halide8Internal5Scope8containsERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">contains</a>(<a class="local col7 ref" href="#57alloc" title='alloc' data-ref="57alloc" data-ref-filename="57alloc">alloc</a>-&gt;<a class="ref field" href="IR.h.html#Halide::Internal::Allocate::name" title='Halide::Internal::Allocate::name' data-ref="Halide::Internal::Allocate::name" data-ref-filename="Halide..Internal..Allocate..name">name</a>)) {</td></tr>
<tr><th id="344">344</th><td>        <a class="member fn" href="#_ZN6Halide8Internal13CodeGen_Posix15free_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::CodeGen_Posix::free_allocation' data-ref="_ZN6Halide8Internal13CodeGen_Posix15free_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN6Halide8Internal13CodeGen_Posix15free_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">free_allocation</a>(<a class="local col7 ref" href="#57alloc" title='alloc' data-ref="57alloc" data-ref-filename="57alloc">alloc</a>-&gt;<a class="ref field" href="IR.h.html#Halide::Internal::Allocate::name" title='Halide::Internal::Allocate::name' data-ref="Halide::Internal::Allocate::name" data-ref-filename="Halide..Internal..Allocate..name">name</a>);</td></tr>
<tr><th id="345">345</th><td>    }</td></tr>
<tr><th id="346">346</th><td>}</td></tr>
<tr><th id="347">347</th><td></td></tr>
<tr><th id="348">348</th><td><em>void</em> <a class="type" href="CodeGen_Posix.h.html#Halide::Internal::CodeGen_Posix" title='Halide::Internal::CodeGen_Posix' data-ref="Halide::Internal::CodeGen_Posix" data-ref-filename="Halide..Internal..CodeGen_Posix">CodeGen_Posix</a>::<dfn class="virtual decl def fn" id="_ZN6Halide8Internal13CodeGen_Posix5visitEPKNS0_4FreeE" title='Halide::Internal::CodeGen_Posix::visit' data-ref="_ZN6Halide8Internal13CodeGen_Posix5visitEPKNS0_4FreeE" data-ref-filename="_ZN6Halide8Internal13CodeGen_Posix5visitEPKNS0_4FreeE">visit</dfn>(<em>const</em> <a class="type" href="IR.h.html#Halide::Internal::Free" title='Halide::Internal::Free' data-ref="Halide::Internal::Free" data-ref-filename="Halide..Internal..Free">Free</a> *<dfn class="local col9 decl" id="59stmt" title='stmt' data-type='const Halide::Internal::Free *' data-ref="59stmt" data-ref-filename="59stmt">stmt</dfn>) {</td></tr>
<tr><th id="349">349</th><td>    <a class="member fn" href="#_ZN6Halide8Internal13CodeGen_Posix15free_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::Internal::CodeGen_Posix::free_allocation' data-ref="_ZN6Halide8Internal13CodeGen_Posix15free_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN6Halide8Internal13CodeGen_Posix15free_allocationERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">free_allocation</a>(<a class="local col9 ref" href="#59stmt" title='stmt' data-ref="59stmt" data-ref-filename="59stmt">stmt</a>-&gt;<a class="ref field" href="IR.h.html#Halide::Internal::Free::name" title='Halide::Internal::Free::name' data-ref="Halide::Internal::Free::name" data-ref-filename="Halide..Internal..Free..name">name</a>);</td></tr>
<tr><th id="350">350</th><td>}</td></tr>
<tr><th id="351">351</th><td></td></tr>
<tr><th id="352">352</th><td>}  <i>// namespace Internal</i></td></tr>
<tr><th id="353">353</th><td>}  <i>// namespace Halide</i></td></tr>
<tr><th id="354">354</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2021-Aug-03</em> from project halide revision <em>v12.0.1</em>