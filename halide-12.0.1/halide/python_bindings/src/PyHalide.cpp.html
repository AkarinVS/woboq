<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>PyHalide.cpp source code [halide/python_bindings/src/PyHalide.cpp] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'halide/python_bindings/src/PyHalide.cpp'; var root_path = '../../..'; var data_path = '../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../..'>halide</a>/<a href='..'>python_bindings</a>/<a href='./'>src</a>/<a href='PyHalide.cpp.html'>PyHalide.cpp</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><u>#include <a href="PyHalide.h.html">"PyHalide.h"</a></u></td></tr>
<tr><th id="2">2</th><td></td></tr>
<tr><th id="3">3</th><td><u>#include <a href="PyArgument.h.html">"PyArgument.h"</a></u></td></tr>
<tr><th id="4">4</th><td><u>#include <a href="PyBoundaryConditions.h.html">"PyBoundaryConditions.h"</a></u></td></tr>
<tr><th id="5">5</th><td><u>#include <a href="PyBuffer.h.html">"PyBuffer.h"</a></u></td></tr>
<tr><th id="6">6</th><td><u>#include <a href="PyConciseCasts.h.html">"PyConciseCasts.h"</a></u></td></tr>
<tr><th id="7">7</th><td><u>#include <a href="PyDerivative.h.html">"PyDerivative.h"</a></u></td></tr>
<tr><th id="8">8</th><td><u>#include <a href="PyEnums.h.html">"PyEnums.h"</a></u></td></tr>
<tr><th id="9">9</th><td><u>#include <a href="PyError.h.html">"PyError.h"</a></u></td></tr>
<tr><th id="10">10</th><td><u>#include <a href="PyExpr.h.html">"PyExpr.h"</a></u></td></tr>
<tr><th id="11">11</th><td><u>#include <a href="PyExternFuncArgument.h.html">"PyExternFuncArgument.h"</a></u></td></tr>
<tr><th id="12">12</th><td><u>#include <a href="PyFunc.h.html">"PyFunc.h"</a></u></td></tr>
<tr><th id="13">13</th><td><u>#include <a href="PyIROperator.h.html">"PyIROperator.h"</a></u></td></tr>
<tr><th id="14">14</th><td><u>#include <a href="PyImageParam.h.html">"PyImageParam.h"</a></u></td></tr>
<tr><th id="15">15</th><td><u>#include <a href="PyInlineReductions.h.html">"PyInlineReductions.h"</a></u></td></tr>
<tr><th id="16">16</th><td><u>#include <a href="PyLambda.h.html">"PyLambda.h"</a></u></td></tr>
<tr><th id="17">17</th><td><u>#include <a href="PyMachineParams.h.html">"PyMachineParams.h"</a></u></td></tr>
<tr><th id="18">18</th><td><u>#include <a href="PyModule.h.html">"PyModule.h"</a></u></td></tr>
<tr><th id="19">19</th><td><u>#include <a href="PyParam.h.html">"PyParam.h"</a></u></td></tr>
<tr><th id="20">20</th><td><u>#include <a href="PyPipeline.h.html">"PyPipeline.h"</a></u></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="PyRDom.h.html">"PyRDom.h"</a></u></td></tr>
<tr><th id="22">22</th><td><u>#include <a href="PyTarget.h.html">"PyTarget.h"</a></u></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="PyTuple.h.html">"PyTuple.h"</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="PyType.h.html">"PyType.h"</a></u></td></tr>
<tr><th id="25">25</th><td><u>#include <a href="PyVar.h.html">"PyVar.h"</a></u></td></tr>
<tr><th id="26">26</th><td></td></tr>
<tr><th id="27">27</th><td><b>static_assert</b>(<a class="macro" href="../../build/_deps/pybind11-src/include/pybind11/detail/common.h.html#12" title="2" data-ref="_M/PYBIND11_VERSION_MAJOR">PYBIND11_VERSION_MAJOR</a> == <var>2</var> &amp;&amp; <a class="macro" href="../../build/_deps/pybind11-src/include/pybind11/detail/common.h.html#13" title="6" data-ref="_M/PYBIND11_VERSION_MINOR">PYBIND11_VERSION_MINOR</a> &gt;= <var>6</var>,</td></tr>
<tr><th id="28">28</th><td>              <q>"Halide requires PyBind 2.6+"</q>);</td></tr>
<tr><th id="29">29</th><td></td></tr>
<tr><th id="30">30</th><td><b>static_assert</b>(<a class="macro" href="../../../include/python3.8/patchlevel.h.html#31" title="((3 &lt;&lt; 24) | (8 &lt;&lt; 16) | (5 &lt;&lt; 8) | (0xF &lt;&lt; 4) | (0 &lt;&lt; 0))" data-ref="_M/PY_VERSION_HEX">PY_VERSION_HEX</a> &gt;= <var>0x03000000</var>,</td></tr>
<tr><th id="31">31</th><td>              <q>"We appear to be compiling against Python 2.x rather than 3.x, which is not supported."</q>);</td></tr>
<tr><th id="32">32</th><td></td></tr>
<tr><th id="33">33</th><td><u>#<span data-ppcond="33">ifndef</span> <span class="macro" data-ref="_M/HALIDE_PYBIND_MODULE_NAME">HALIDE_PYBIND_MODULE_NAME</span></u></td></tr>
<tr><th id="34">34</th><td><u>#define <dfn class="macro" id="_M/HALIDE_PYBIND_MODULE_NAME" data-ref="_M/HALIDE_PYBIND_MODULE_NAME">HALIDE_PYBIND_MODULE_NAME</dfn> halide</u></td></tr>
<tr><th id="35">35</th><td><u>#<span data-ppcond="33">endif</span></u></td></tr>
<tr><th id="36">36</th><td></td></tr>
<tr><th id="37">37</th><td><a class="macro" href="../../build/_deps/pybind11-src/include/pybind11/detail/common.h.html#314" title="static ::pybind11::module_::module_def pybind11_module_def_halide __attribute__ ((__unused__)); __attribute__ ((__unused__)) static void pybind11_init_halide(::pybind11::module_ &amp;); extern &quot;C&quot; __attribute__ ((__unused__)) __attribute__ ((visibility(&quot;default&quot;))) PyObject *PyInit_halide(); extern &quot;C&quot; __attribute__ ((visibility(&quot;default&quot;))) PyObject *PyInit_halide() { { const char *compiled_ver = &quot;3&quot; &quot;.&quot; &quot;8&quot;; const char *runtime_ver = Py_GetVersion(); size_t len = std::strlen(compiled_ver); if (std::strncmp(runtime_ver, compiled_ver, len) != 0 || (runtime_ver[len] &gt;= &apos;0&apos; &amp;&amp; runtime_ver[len] &lt;= &apos;9&apos;)) { PyErr_Format(PyExc_ImportError, &quot;Python version mismatch: module was compiled for Python %s, &quot; &quot;but the interpreter version is incompatible: %s.&quot;, compiled_ver, runtime_ver); return nullptr; } } pybind11::detail::get_internals(); auto m = ::pybind11::module_::create_extension_module( &quot;halide&quot;, nullptr, &amp;pybind11_module_def_halide); try { pybind11_init_halide(m); return m.ptr(); } catch (pybind11::error_already_set &amp;e) { PyErr_SetString(PyExc_ImportError, e.what()); return nullptr; } catch (const std::exception &amp;e) { PyErr_SetString(PyExc_ImportError, e.what()); return nullptr; } } void pybind11_init_halide(::pybind11::module_ &amp;m)" data-ref="_M/PYBIND11_MODULE">PYBIND11_MODULE</a>(<a class="macro" href="#34" title="halide" data-ref="_M/HALIDE_PYBIND_MODULE_NAME">HALIDE_PYBIND_MODULE_NAME</a>, <dfn class="local col2 decl" id="12m" title='m' data-type='::pybind11::module_ &amp;' data-ref="12m" data-ref-filename="12m">m</dfn>) {</td></tr>
<tr><th id="38">38</th><td>    <b>using</b> <b>namespace</b> <span class="namespace">Halide::PythonBindings</span>;</td></tr>
<tr><th id="39">39</th><td></td></tr>
<tr><th id="40">40</th><td>    <i>// Order of definitions matters somewhat:</i></td></tr>
<tr><th id="41">41</th><td><i>    // things used for default arguments must be registered</i></td></tr>
<tr><th id="42">42</th><td><i>    // prior to that usage.</i></td></tr>
<tr><th id="43">43</th><td>    <a class="ref fn" href="PyEnums.h.html#_ZN6Halide14PythonBindings12define_enumsERN8pybind117module_E" title='Halide::PythonBindings::define_enums' data-ref="_ZN6Halide14PythonBindings12define_enumsERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings12define_enumsERN8pybind117module_E">define_enums</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="44">44</th><td>    <a class="ref fn" href="PyTarget.h.html#_ZN6Halide14PythonBindings13define_targetERN8pybind117module_E" title='Halide::PythonBindings::define_target' data-ref="_ZN6Halide14PythonBindings13define_targetERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings13define_targetERN8pybind117module_E">define_target</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="45">45</th><td>    <a class="ref fn" href="PyExpr.h.html#_ZN6Halide14PythonBindings11define_exprERN8pybind117module_E" title='Halide::PythonBindings::define_expr' data-ref="_ZN6Halide14PythonBindings11define_exprERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings11define_exprERN8pybind117module_E">define_expr</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="46">46</th><td>    <a class="ref fn" href="PyTuple.h.html#_ZN6Halide14PythonBindings12define_tupleERN8pybind117module_E" title='Halide::PythonBindings::define_tuple' data-ref="_ZN6Halide14PythonBindings12define_tupleERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings12define_tupleERN8pybind117module_E">define_tuple</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="47">47</th><td>    <a class="ref fn" href="PyArgument.h.html#_ZN6Halide14PythonBindings15define_argumentERN8pybind117module_E" title='Halide::PythonBindings::define_argument' data-ref="_ZN6Halide14PythonBindings15define_argumentERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings15define_argumentERN8pybind117module_E">define_argument</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="48">48</th><td>    <a class="ref fn" href="PyBoundaryConditions.h.html#_ZN6Halide14PythonBindings26define_boundary_conditionsERN8pybind117module_E" title='Halide::PythonBindings::define_boundary_conditions' data-ref="_ZN6Halide14PythonBindings26define_boundary_conditionsERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings26define_boundary_conditionsERN8pybind117module_E">define_boundary_conditions</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="49">49</th><td>    <a class="ref fn" href="PyBuffer.h.html#_ZN6Halide14PythonBindings13define_bufferERN8pybind117module_E" title='Halide::PythonBindings::define_buffer' data-ref="_ZN6Halide14PythonBindings13define_bufferERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings13define_bufferERN8pybind117module_E">define_buffer</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="50">50</th><td>    <a class="ref fn" href="PyConciseCasts.h.html#_ZN6Halide14PythonBindings20define_concise_castsERN8pybind117module_E" title='Halide::PythonBindings::define_concise_casts' data-ref="_ZN6Halide14PythonBindings20define_concise_castsERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings20define_concise_castsERN8pybind117module_E">define_concise_casts</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="51">51</th><td>    <a class="ref fn" href="PyError.h.html#_ZN6Halide14PythonBindings12define_errorERN8pybind117module_E" title='Halide::PythonBindings::define_error' data-ref="_ZN6Halide14PythonBindings12define_errorERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings12define_errorERN8pybind117module_E">define_error</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="52">52</th><td>    <a class="ref fn" href="PyExternFuncArgument.h.html#_ZN6Halide14PythonBindings27define_extern_func_argumentERN8pybind117module_E" title='Halide::PythonBindings::define_extern_func_argument' data-ref="_ZN6Halide14PythonBindings27define_extern_func_argumentERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings27define_extern_func_argumentERN8pybind117module_E">define_extern_func_argument</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="53">53</th><td>    <a class="ref fn" href="PyVar.h.html#_ZN6Halide14PythonBindings10define_varERN8pybind117module_E" title='Halide::PythonBindings::define_var' data-ref="_ZN6Halide14PythonBindings10define_varERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings10define_varERN8pybind117module_E">define_var</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="54">54</th><td>    <a class="ref fn" href="PyRDom.h.html#_ZN6Halide14PythonBindings11define_rdomERN8pybind117module_E" title='Halide::PythonBindings::define_rdom' data-ref="_ZN6Halide14PythonBindings11define_rdomERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings11define_rdomERN8pybind117module_E">define_rdom</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="55">55</th><td>    <a class="ref fn" href="PyMachineParams.h.html#_ZN6Halide14PythonBindings21define_machine_paramsERN8pybind117module_E" title='Halide::PythonBindings::define_machine_params' data-ref="_ZN6Halide14PythonBindings21define_machine_paramsERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings21define_machine_paramsERN8pybind117module_E">define_machine_params</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="56">56</th><td>    <a class="ref fn" href="PyModule.h.html#_ZN6Halide14PythonBindings13define_moduleERN8pybind117module_E" title='Halide::PythonBindings::define_module' data-ref="_ZN6Halide14PythonBindings13define_moduleERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings13define_moduleERN8pybind117module_E">define_module</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="57">57</th><td>    <a class="ref fn" href="PyFunc.h.html#_ZN6Halide14PythonBindings11define_funcERN8pybind117module_E" title='Halide::PythonBindings::define_func' data-ref="_ZN6Halide14PythonBindings11define_funcERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings11define_funcERN8pybind117module_E">define_func</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="58">58</th><td>    <a class="ref fn" href="PyPipeline.h.html#_ZN6Halide14PythonBindings15define_pipelineERN8pybind117module_E" title='Halide::PythonBindings::define_pipeline' data-ref="_ZN6Halide14PythonBindings15define_pipelineERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings15define_pipelineERN8pybind117module_E">define_pipeline</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="59">59</th><td>    <a class="ref fn" href="PyInlineReductions.h.html#_ZN6Halide14PythonBindings24define_inline_reductionsERN8pybind117module_E" title='Halide::PythonBindings::define_inline_reductions' data-ref="_ZN6Halide14PythonBindings24define_inline_reductionsERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings24define_inline_reductionsERN8pybind117module_E">define_inline_reductions</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="60">60</th><td>    <a class="ref fn" href="PyLambda.h.html#_ZN6Halide14PythonBindings13define_lambdaERN8pybind117module_E" title='Halide::PythonBindings::define_lambda' data-ref="_ZN6Halide14PythonBindings13define_lambdaERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings13define_lambdaERN8pybind117module_E">define_lambda</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="61">61</th><td>    <a class="ref fn" href="PyIROperator.h.html#_ZN6Halide14PythonBindings16define_operatorsERN8pybind117module_E" title='Halide::PythonBindings::define_operators' data-ref="_ZN6Halide14PythonBindings16define_operatorsERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings16define_operatorsERN8pybind117module_E">define_operators</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="62">62</th><td>    <a class="ref fn" href="PyParam.h.html#_ZN6Halide14PythonBindings12define_paramERN8pybind117module_E" title='Halide::PythonBindings::define_param' data-ref="_ZN6Halide14PythonBindings12define_paramERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings12define_paramERN8pybind117module_E">define_param</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="63">63</th><td>    <a class="ref fn" href="PyImageParam.h.html#_ZN6Halide14PythonBindings18define_image_paramERN8pybind117module_E" title='Halide::PythonBindings::define_image_param' data-ref="_ZN6Halide14PythonBindings18define_image_paramERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings18define_image_paramERN8pybind117module_E">define_image_param</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="64">64</th><td>    <a class="ref fn" href="PyType.h.html#_ZN6Halide14PythonBindings11define_typeERN8pybind117module_E" title='Halide::PythonBindings::define_type' data-ref="_ZN6Halide14PythonBindings11define_typeERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings11define_typeERN8pybind117module_E">define_type</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="65">65</th><td>    <a class="ref fn" href="PyDerivative.h.html#_ZN6Halide14PythonBindings17define_derivativeERN8pybind117module_E" title='Halide::PythonBindings::define_derivative' data-ref="_ZN6Halide14PythonBindings17define_derivativeERN8pybind117module_E" data-ref-filename="_ZN6Halide14PythonBindings17define_derivativeERN8pybind117module_E">define_derivative</a>(<span class='refarg'><a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a></span>);</td></tr>
<tr><th id="66">66</th><td></td></tr>
<tr><th id="67">67</th><td>    <i>// There is no PyUtil yet, so just put this here</i></td></tr>
<tr><th id="68">68</th><td>    <a class="local col2 ref" href="#37" title='m' data-ref="12m" data-ref-filename="12m">m</a>.<a class="ref fn" href="../../build/_deps/pybind11-src/include/pybind11/pybind11.h.html#_ZN8pybind117module_3defEPKcOT_DpRKT0_" title='pybind11::module_::def' data-ref="_ZN8pybind117module_3defEPKcOT_DpRKT0_" data-ref-filename="_ZN8pybind117module_3defEPKcOT_DpRKT0_">def</a>(<q>"load_plugin"</q>, &amp;<span class="namespace">Halide::</span><a class="ref fn" href="../../build/include/Halide.h.html#_ZN6Halide11load_pluginERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='Halide::load_plugin' data-ref="_ZN6Halide11load_pluginERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN6Halide11load_pluginERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">load_plugin</a>, <span class="namespace">py::</span><a class="type" href="../../build/_deps/pybind11-src/include/pybind11/cast.h.html#pybind11::arg" title='pybind11::arg' data-ref="pybind11::arg" data-ref-filename="pybind11..arg">arg</a><a class="ref fn" href="../../build/_deps/pybind11-src/include/pybind11/cast.h.html#_ZN8pybind113argC1EPKc" title='pybind11::arg::arg' data-ref="_ZN8pybind113argC1EPKc" data-ref-filename="_ZN8pybind113argC1EPKc">(</a><q>"lib_name"</q>));</td></tr>
<tr><th id="69">69</th><td>}</td></tr>
<tr><th id="70">70</th><td></td></tr>
<tr><th id="71">71</th><td><b>namespace</b> <span class="namespace">Halide</span> {</td></tr>
<tr><th id="72">72</th><td><b>namespace</b> <span class="namespace">PythonBindings</span> {</td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td><a class="type" href="../../build/include/Halide.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a> <dfn class="decl def fn" id="_ZN6Halide14PythonBindings20double_to_expr_checkEd" title='Halide::PythonBindings::double_to_expr_check' data-ref="_ZN6Halide14PythonBindings20double_to_expr_checkEd" data-ref-filename="_ZN6Halide14PythonBindings20double_to_expr_checkEd">double_to_expr_check</dfn>(<em>double</em> <dfn class="local col3 decl" id="13v" title='v' data-type='double' data-ref="13v" data-ref-filename="13v">v</dfn>) {</td></tr>
<tr><th id="75">75</th><td>    <em>float</em> <dfn class="local col4 decl" id="14f" title='f' data-type='float' data-ref="14f" data-ref-filename="14f">f</dfn> = <b>static_cast</b>&lt;<em>float</em>&gt;(<a class="local col3 ref" href="#13v" title='v' data-ref="13v" data-ref-filename="13v">v</a>);</td></tr>
<tr><th id="76">76</th><td>    <em>double</em> <dfn class="local col5 decl" id="15check" title='check' data-type='double' data-ref="15check" data-ref-filename="15check">check</dfn> = <b>static_cast</b>&lt;<em>double</em>&gt;(<a class="local col4 ref" href="#14f" title='f' data-ref="14f" data-ref-filename="14f">f</a>);</td></tr>
<tr><th id="77">77</th><td>    <i>// 2^(-n) (or some combination) case is safe. e.g. 0.5, 0.25, 0.75, ...</i></td></tr>
<tr><th id="78">78</th><td><i>    // otherwise, precision will be lost.  e.g. 0.1, 0.3, ...</i></td></tr>
<tr><th id="79">79</th><td>    <b>using</b> <span class="namespace">Internal::</span>reinterpret_bits;</td></tr>
<tr><th id="80">80</th><td>    <b>if</b> (<a class="ref fn" href="../../build/include/Halide.h.html#_ZN6Halide8Internal16reinterpret_bitsERKT0_" title='Halide::Internal::reinterpret_bits' data-ref="_ZN6Halide8Internal16reinterpret_bitsERKT0_" data-ref-filename="_ZN6Halide8Internal16reinterpret_bitsERKT0_">reinterpret_bits</a>&lt;<a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>&gt;(<a class="local col3 ref" href="#13v" title='v' data-ref="13v" data-ref-filename="13v">v</a>) != <a class="ref fn" href="../../build/include/Halide.h.html#_ZN6Halide8Internal16reinterpret_bitsERKT0_" title='Halide::Internal::reinterpret_bits' data-ref="_ZN6Halide8Internal16reinterpret_bitsERKT0_" data-ref-filename="_ZN6Halide8Internal16reinterpret_bitsERKT0_">reinterpret_bits</a>&lt;<a class="typedef" href="../../../include/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a>&gt;(<a class="local col5 ref" href="#15check" title='check' data-ref="15check" data-ref-filename="15check">check</a>)) {</td></tr>
<tr><th id="81">81</th><td>        <span class="namespace">std::</span><span class='typedef' title='std::ostringstream' data-type='basic_ostringstream&lt;char&gt;' data-ref="std::ostringstream" data-ref-filename="std..ostringstream">ostringstream</span> <span class='ref fn fake' title='std::__cxx11::basic_ostringstream::basic_ostringstream&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1119basic_ostringstreamC1Ev" data-ref-filename="_ZNSt7__cxx1119basic_ostringstreamC1Ev"></span><dfn class="local col6 decl" id="16oss" title='oss' data-type='std::ostringstream' data-ref="16oss" data-ref-filename="16oss">oss</dfn>;</td></tr>
<tr><th id="82">82</th><td>        <a class="local col6 ref" href="#16oss" title='oss' data-ref="16oss" data-ref-filename="16oss">oss</a>.<span class='ref fn' title='std::ios_base::precision' data-ref="_ZNSt8ios_base9precisionEl" data-ref-filename="_ZNSt8ios_base9precisionEl">precision</span>(<var>17</var>);</td></tr>
<tr><th id="83">83</th><td>        <a class="local col6 ref" href="#16oss" title='oss' data-ref="16oss" data-ref-filename="16oss">oss</a> <span class='ref fn' title='std::basic_ostream::operator&lt;&lt;' data-ref="_ZNSt13basic_ostreamlsEPFRSt8ios_baseS1_E" data-ref-filename="_ZNSt13basic_ostreamlsEPFRSt8ios_baseS1_E">&lt;&lt;</span> <span class="namespace">std::</span><span class='ref fn' title='std::fixed' data-ref="_ZSt5fixedRSt8ios_base" data-ref-filename="_ZSt5fixedRSt8ios_base">fixed</span> <span class='ref fn' title='std::basic_ostream::operator&lt;&lt;' data-ref="_ZNSt13basic_ostreamlsEd" data-ref-filename="_ZNSt13basic_ostreamlsEd">&lt;&lt;</span> <a class="local col3 ref" href="#13v" title='v' data-ref="13v" data-ref-filename="13v">v</a>;</td></tr>
<tr><th id="84">84</th><td>        <a class="ref fn" href="../../../include/python3.8/warnings.h.html#PyErr_WarnEx" title='PyErr_WarnEx' data-ref="PyErr_WarnEx" data-ref-filename="PyErr_WarnEx">PyErr_WarnEx</a>(</td></tr>
<tr><th id="85">85</th><td>            <a class="ref" href="../../../include/python3.8/pyerrors.h.html#PyExc_RuntimeWarning" title='PyExc_RuntimeWarning' data-ref="PyExc_RuntimeWarning" data-ref-filename="PyExc_RuntimeWarning">PyExc_RuntimeWarning</a>,</td></tr>
<tr><th id="86">86</th><td>            (<q>"The floating-point value "</q> <span class='ref fn' title='std::operator+' data-ref="_ZStplPKT_ONSt7__cxx1112basic_stringIS_T0_T1_EE" data-ref-filename="_ZStplPKT_ONSt7__cxx1112basic_stringIS_T0_T1_EE">+</span></td></tr>
<tr><th id="87">87</th><td>             <a class="local col6 ref" href="#16oss" title='oss' data-ref="16oss" data-ref-filename="16oss">oss</a>.<span class='ref fn' title='std::__cxx11::basic_ostringstream::str' data-ref="_ZNKSt7__cxx1119basic_ostringstream3strEv" data-ref-filename="_ZNKSt7__cxx1119basic_ostringstream3strEv">str</span>() <span class='ref fn' title='std::operator+' data-ref="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_" data-ref-filename="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_">+</span></td></tr>
<tr><th id="88">88</th><td>             <q>" will be interpreted as a float32 by Halide and lose precision;"</q></td></tr>
<tr><th id="89">89</th><td>             <q>" add an explicit `f32()` or `f64()`` cast to avoid this warning."</q>)</td></tr>
<tr><th id="90">90</th><td>                .<span class='ref fn' title='std::__cxx11::basic_string::c_str' data-ref="_ZNKSt7__cxx1112basic_string5c_strEv" data-ref-filename="_ZNKSt7__cxx1112basic_string5c_strEv">c_str</span>(),</td></tr>
<tr><th id="91">91</th><td>            <var>0</var>);</td></tr>
<tr><th id="92">92</th><td>    }</td></tr>
<tr><th id="93">93</th><td>    <b>return</b> <a class="type" href="../../build/include/Halide.h.html#Halide::Expr" title='Halide::Expr' data-ref="Halide::Expr" data-ref-filename="Halide..Expr">Expr</a><a class="ref fn" href="../../build/include/Halide.h.html#_ZN6Halide4ExprC1Ef" title='Halide::Expr::Expr' data-ref="_ZN6Halide4ExprC1Ef" data-ref-filename="_ZN6Halide4ExprC1Ef">(</a><a class="local col4 ref" href="#14f" title='f' data-ref="14f" data-ref-filename="14f">f</a>);</td></tr>
<tr><th id="94">94</th><td>}</td></tr>
<tr><th id="95">95</th><td></td></tr>
<tr><th id="96">96</th><td>}  <i>// namespace PythonBindings</i></td></tr>
<tr><th id="97">97</th><td>}  <i>// namespace Halide</i></td></tr>
<tr><th id="98">98</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2021-Aug-05</em> from project halide revision <em>v12.0.1</em>