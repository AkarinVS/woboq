<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ConfigureVectorization.h source code [halide/build-apps/eigen/Eigen/src/Core/util/ConfigureVectorization.h] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'halide/build-apps/eigen/Eigen/src/Core/util/ConfigureVectorization.h'; var root_path = '../../../../../../..'; var data_path = '../../../../../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../../../../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../../..'>halide</a>/<a href='../../../../..'>build-apps</a>/<a href='../../../..'>eigen</a>/<a href='../../..'>Eigen</a>/<a href='../..'>src</a>/<a href='..'>Core</a>/<a href='./'>util</a>/<a href='ConfigureVectorization.h.html'>ConfigureVectorization.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>// This file is part of Eigen, a lightweight C++ template library</i></td></tr>
<tr><th id="2">2</th><td><i>// for linear algebra.</i></td></tr>
<tr><th id="3">3</th><td><i>//</i></td></tr>
<tr><th id="4">4</th><td><i>// Copyright (C) 2008-2018 Gael Guennebaud &lt;gael.guennebaud@inria.fr&gt;</i></td></tr>
<tr><th id="5">5</th><td><i>//</i></td></tr>
<tr><th id="6">6</th><td><i>// This Source Code Form is subject to the terms of the Mozilla</i></td></tr>
<tr><th id="7">7</th><td><i>// Public License v. 2.0. If a copy of the MPL was not distributed</i></td></tr>
<tr><th id="8">8</th><td><i>// with this file, You can obtain one at <a href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>.</i></td></tr>
<tr><th id="9">9</th><td></td></tr>
<tr><th id="10">10</th><td><u>#<span data-ppcond="10">ifndef</span> <span class="macro" data-ref="_M/EIGEN_CONFIGURE_VECTORIZATION_H">EIGEN_CONFIGURE_VECTORIZATION_H</span></u></td></tr>
<tr><th id="11">11</th><td><u>#define <dfn class="macro" id="_M/EIGEN_CONFIGURE_VECTORIZATION_H" data-ref="_M/EIGEN_CONFIGURE_VECTORIZATION_H">EIGEN_CONFIGURE_VECTORIZATION_H</dfn></u></td></tr>
<tr><th id="12">12</th><td></td></tr>
<tr><th id="13">13</th><td><i>//------------------------------------------------------------------------------------------</i></td></tr>
<tr><th id="14">14</th><td><i>// Static and dynamic alignment control</i></td></tr>
<tr><th id="15">15</th><td><i>//</i></td></tr>
<tr><th id="16">16</th><td><i>// The main purpose of this section is to define EIGEN_MAX_ALIGN_BYTES and EIGEN_MAX_STATIC_ALIGN_BYTES</i></td></tr>
<tr><th id="17">17</th><td><i>// as the maximal boundary in bytes on which dynamically and statically allocated data may be alignment respectively.</i></td></tr>
<tr><th id="18">18</th><td><i>// The values of EIGEN_MAX_ALIGN_BYTES and EIGEN_MAX_STATIC_ALIGN_BYTES can be specified by the user. If not,</i></td></tr>
<tr><th id="19">19</th><td><i>// a default value is automatically computed based on architecture, compiler, and OS.</i></td></tr>
<tr><th id="20">20</th><td><i>//</i></td></tr>
<tr><th id="21">21</th><td><i>// This section also defines macros EIGEN_ALIGN_TO_BOUNDARY(N) and the shortcuts EIGEN_ALIGN{8,16,32,_MAX}</i></td></tr>
<tr><th id="22">22</th><td><i>// to be used to declare statically aligned buffers.</i></td></tr>
<tr><th id="23">23</th><td><i>//------------------------------------------------------------------------------------------</i></td></tr>
<tr><th id="24">24</th><td></td></tr>
<tr><th id="25">25</th><td></td></tr>
<tr><th id="26">26</th><td><i>/* EIGEN_ALIGN_TO_BOUNDARY(n) forces data to be n-byte aligned. This is used to satisfy SIMD requirements.</i></td></tr>
<tr><th id="27">27</th><td><i> * However, we do that EVEN if vectorization (EIGEN_VECTORIZE) is disabled,</i></td></tr>
<tr><th id="28">28</th><td><i> * so that vectorization doesn't affect binary compatibility.</i></td></tr>
<tr><th id="29">29</th><td><i> *</i></td></tr>
<tr><th id="30">30</th><td><i> * If we made alignment depend on whether or not EIGEN_VECTORIZE is defined, it would be impossible to link</i></td></tr>
<tr><th id="31">31</th><td><i> * vectorized and non-vectorized code.</i></td></tr>
<tr><th id="32">32</th><td><i> * </i></td></tr>
<tr><th id="33">33</th><td><i> * FIXME: this code can be cleaned up once we switch to proper C++11 only.</i></td></tr>
<tr><th id="34">34</th><td><i> */</i></td></tr>
<tr><th id="35">35</th><td><u>#<span data-ppcond="35">if</span> (defined <span class="macro" data-ref="_M/EIGEN_CUDACC">EIGEN_CUDACC</span>)</u></td></tr>
<tr><th id="36">36</th><td>  <u>#define EIGEN_ALIGN_TO_BOUNDARY(n) __align__(n)</u></td></tr>
<tr><th id="37">37</th><td>  <u>#define EIGEN_ALIGNOF(x) __alignof(x)</u></td></tr>
<tr><th id="38">38</th><td><u>#<span data-ppcond="35">elif</span> <a class="macro" href="Macros.h.html#621" title="1" data-ref="_M/EIGEN_HAS_ALIGNAS">EIGEN_HAS_ALIGNAS</a></u></td></tr>
<tr><th id="39">39</th><td>  <u>#define <dfn class="macro" id="_M/EIGEN_ALIGN_TO_BOUNDARY" data-ref="_M/EIGEN_ALIGN_TO_BOUNDARY">EIGEN_ALIGN_TO_BOUNDARY</dfn>(n) alignas(n)</u></td></tr>
<tr><th id="40">40</th><td>  <u>#define <dfn class="macro" id="_M/EIGEN_ALIGNOF" data-ref="_M/EIGEN_ALIGNOF">EIGEN_ALIGNOF</dfn>(x) alignof(x)</u></td></tr>
<tr><th id="41">41</th><td><u>#<span data-ppcond="35">elif</span> EIGEN_COMP_GNUC || EIGEN_COMP_PGI || EIGEN_COMP_IBM || EIGEN_COMP_ARM</u></td></tr>
<tr><th id="42">42</th><td>  <u>#define EIGEN_ALIGN_TO_BOUNDARY(n) __attribute__((aligned(n)))</u></td></tr>
<tr><th id="43">43</th><td>  <u>#define EIGEN_ALIGNOF(x) __alignof(x)</u></td></tr>
<tr><th id="44">44</th><td><u>#elif EIGEN_COMP_MSVC</u></td></tr>
<tr><th id="45">45</th><td>  <u>#define EIGEN_ALIGN_TO_BOUNDARY(n) __declspec(align(n))</u></td></tr>
<tr><th id="46">46</th><td>  <u>#define EIGEN_ALIGNOF(x) __alignof(x)</u></td></tr>
<tr><th id="47">47</th><td><u>#elif EIGEN_COMP_SUNCC</u></td></tr>
<tr><th id="48">48</th><td>  <i>// FIXME not sure about this one:</i></td></tr>
<tr><th id="49">49</th><td>  <u>#define EIGEN_ALIGN_TO_BOUNDARY(n) __attribute__((aligned(n)))</u></td></tr>
<tr><th id="50">50</th><td>  <u>#define EIGEN_ALIGNOF(x) __alignof(x)</u></td></tr>
<tr><th id="51">51</th><td><u>#else</u></td></tr>
<tr><th id="52">52</th><td>  <u>#error Please tell me what is the equivalent of alignas(n) and alignof(x) for your compiler</u></td></tr>
<tr><th id="53">53</th><td><u>#<span data-ppcond="35">endif</span></u></td></tr>
<tr><th id="54">54</th><td></td></tr>
<tr><th id="55">55</th><td><i>// If the user explicitly disable vectorization, then we also disable alignment</i></td></tr>
<tr><th id="56">56</th><td><u>#<span data-ppcond="56">if</span> defined(<span class="macro" data-ref="_M/EIGEN_DONT_VECTORIZE">EIGEN_DONT_VECTORIZE</span>)</u></td></tr>
<tr><th id="57">57</th><td>  <u>#if defined(EIGEN_GPUCC)</u></td></tr>
<tr><th id="58">58</th><td>    <i>// GPU code is always vectorized and requires memory alignment for</i></td></tr>
<tr><th id="59">59</th><td><i>    // statically allocated buffers.</i></td></tr>
<tr><th id="60">60</th><td>    <u>#define EIGEN_IDEAL_MAX_ALIGN_BYTES 16</u></td></tr>
<tr><th id="61">61</th><td>  <u>#else</u></td></tr>
<tr><th id="62">62</th><td>    <u>#define EIGEN_IDEAL_MAX_ALIGN_BYTES 0</u></td></tr>
<tr><th id="63">63</th><td>  <u>#endif</u></td></tr>
<tr><th id="64">64</th><td><u>#<span data-ppcond="56">elif</span> defined(<span class="macro" data-ref="_M/__AVX512F__">__AVX512F__</span>)</u></td></tr>
<tr><th id="65">65</th><td>  <i>// 64 bytes static alignment is preferred only if really required</i></td></tr>
<tr><th id="66">66</th><td>  <u>#define EIGEN_IDEAL_MAX_ALIGN_BYTES 64</u></td></tr>
<tr><th id="67">67</th><td><u>#<span data-ppcond="56">elif</span> defined(<span class="macro" data-ref="_M/__AVX__">__AVX__</span>)</u></td></tr>
<tr><th id="68">68</th><td>  <i>// 32 bytes static alignment is preferred only if really required</i></td></tr>
<tr><th id="69">69</th><td>  <u>#define EIGEN_IDEAL_MAX_ALIGN_BYTES 32</u></td></tr>
<tr><th id="70">70</th><td><u>#<span data-ppcond="56">else</span></u></td></tr>
<tr><th id="71">71</th><td>  <u>#define <dfn class="macro" id="_M/EIGEN_IDEAL_MAX_ALIGN_BYTES" data-ref="_M/EIGEN_IDEAL_MAX_ALIGN_BYTES">EIGEN_IDEAL_MAX_ALIGN_BYTES</dfn> 16</u></td></tr>
<tr><th id="72">72</th><td><u>#<span data-ppcond="56">endif</span></u></td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td></td></tr>
<tr><th id="75">75</th><td><i>// EIGEN_MIN_ALIGN_BYTES defines the minimal value for which the notion of explicit alignment makes sense</i></td></tr>
<tr><th id="76">76</th><td><u>#define <dfn class="macro" id="_M/EIGEN_MIN_ALIGN_BYTES" data-ref="_M/EIGEN_MIN_ALIGN_BYTES">EIGEN_MIN_ALIGN_BYTES</dfn> 16</u></td></tr>
<tr><th id="77">77</th><td></td></tr>
<tr><th id="78">78</th><td><i>// Defined the boundary (in bytes) on which the data needs to be aligned. Note</i></td></tr>
<tr><th id="79">79</th><td><i>// that unless EIGEN_ALIGN is defined and not equal to 0, the data may not be</i></td></tr>
<tr><th id="80">80</th><td><i>// aligned at all regardless of the value of this #define.</i></td></tr>
<tr><th id="81">81</th><td></td></tr>
<tr><th id="82">82</th><td><u>#<span data-ppcond="82">if</span> (defined(<span class="macro" data-ref="_M/EIGEN_DONT_ALIGN_STATICALLY">EIGEN_DONT_ALIGN_STATICALLY</span>) || defined(<span class="macro" data-ref="_M/EIGEN_DONT_ALIGN">EIGEN_DONT_ALIGN</span>))  &amp;&amp; defined(<span class="macro" data-ref="_M/EIGEN_MAX_STATIC_ALIGN_BYTES">EIGEN_MAX_STATIC_ALIGN_BYTES</span>) &amp;&amp; EIGEN_MAX_STATIC_ALIGN_BYTES&gt;0</u></td></tr>
<tr><th id="83">83</th><td><u>#error EIGEN_MAX_STATIC_ALIGN_BYTES and EIGEN_DONT_ALIGN[_STATICALLY] are both defined with EIGEN_MAX_STATIC_ALIGN_BYTES!=0. Use EIGEN_MAX_STATIC_ALIGN_BYTES=0 as a synonym of EIGEN_DONT_ALIGN_STATICALLY.</u></td></tr>
<tr><th id="84">84</th><td><u>#<span data-ppcond="82">endif</span></u></td></tr>
<tr><th id="85">85</th><td></td></tr>
<tr><th id="86">86</th><td><i>// EIGEN_DONT_ALIGN_STATICALLY and EIGEN_DONT_ALIGN are deprecated</i></td></tr>
<tr><th id="87">87</th><td><i>// They imply EIGEN_MAX_STATIC_ALIGN_BYTES=0</i></td></tr>
<tr><th id="88">88</th><td><u>#<span data-ppcond="88">if</span> defined(<span class="macro" data-ref="_M/EIGEN_DONT_ALIGN_STATICALLY">EIGEN_DONT_ALIGN_STATICALLY</span>) || defined(<span class="macro" data-ref="_M/EIGEN_DONT_ALIGN">EIGEN_DONT_ALIGN</span>)</u></td></tr>
<tr><th id="89">89</th><td>  <u>#ifdef EIGEN_MAX_STATIC_ALIGN_BYTES</u></td></tr>
<tr><th id="90">90</th><td>    <u>#undef EIGEN_MAX_STATIC_ALIGN_BYTES</u></td></tr>
<tr><th id="91">91</th><td>  <u>#endif</u></td></tr>
<tr><th id="92">92</th><td>  <u>#define EIGEN_MAX_STATIC_ALIGN_BYTES 0</u></td></tr>
<tr><th id="93">93</th><td><u>#<span data-ppcond="88">endif</span></u></td></tr>
<tr><th id="94">94</th><td></td></tr>
<tr><th id="95">95</th><td><u>#<span data-ppcond="95">ifndef</span> <span class="macro" data-ref="_M/EIGEN_MAX_STATIC_ALIGN_BYTES">EIGEN_MAX_STATIC_ALIGN_BYTES</span></u></td></tr>
<tr><th id="96">96</th><td></td></tr>
<tr><th id="97">97</th><td>  <i>// Try to automatically guess what is the best default value for EIGEN_MAX_STATIC_ALIGN_BYTES</i></td></tr>
<tr><th id="98">98</th><td><i></i></td></tr>
<tr><th id="99">99</th><td><i>  // 16 byte alignment is only useful for vectorization. Since it affects the ABI, we need to enable</i></td></tr>
<tr><th id="100">100</th><td><i>  // 16 byte alignment on all platforms where vectorization might be enabled. In theory we could always</i></td></tr>
<tr><th id="101">101</th><td><i>  // enable alignment, but it can be a cause of problems on some platforms, so we just disable it in</i></td></tr>
<tr><th id="102">102</th><td><i>  // certain common platform (compiler+architecture combinations) to avoid these problems.</i></td></tr>
<tr><th id="103">103</th><td><i>  // Only static alignment is really problematic (relies on nonstandard compiler extensions),</i></td></tr>
<tr><th id="104">104</th><td><i>  // try to keep heap alignment even when we have to disable static alignment.</i></td></tr>
<tr><th id="105">105</th><td>  <u>#<span data-ppcond="105">if</span> <a class="macro" href="Macros.h.html#63" title="(4*10+2)" data-ref="_M/EIGEN_COMP_GNUC">EIGEN_COMP_GNUC</a> &amp;&amp; !(<a class="macro" href="Macros.h.html#236" title="1" data-ref="_M/EIGEN_ARCH_i386_OR_x86_64">EIGEN_ARCH_i386_OR_x86_64</a> || <a class="macro" href="Macros.h.html#258" title="0" data-ref="_M/EIGEN_ARCH_ARM_OR_ARM64">EIGEN_ARCH_ARM_OR_ARM64</a> || <a class="macro" href="Macros.h.html#286" title="0" data-ref="_M/EIGEN_ARCH_PPC">EIGEN_ARCH_PPC</a> || <a class="macro" href="Macros.h.html#279" title="0" data-ref="_M/EIGEN_ARCH_IA64">EIGEN_ARCH_IA64</a> || <a class="macro" href="Macros.h.html#265" title="0" data-ref="_M/EIGEN_ARCH_MIPS">EIGEN_ARCH_MIPS</a>)</u></td></tr>
<tr><th id="106">106</th><td>  <u>#define EIGEN_GCC_AND_ARCH_DOESNT_WANT_STACK_ALIGNMENT 1</u></td></tr>
<tr><th id="107">107</th><td>  <u>#<span data-ppcond="105">elif</span> <a class="macro" href="Macros.h.html#258" title="0" data-ref="_M/EIGEN_ARCH_ARM_OR_ARM64">EIGEN_ARCH_ARM_OR_ARM64</a> &amp;&amp; <a class="macro" href="Macros.h.html#195" title="0" data-ref="_M/EIGEN_COMP_GNUC_STRICT">EIGEN_COMP_GNUC_STRICT</a> &amp;&amp; <a class="macro" href="Macros.h.html#201" title="((4==4 &amp;&amp; 2&lt;=6) || 4&lt;4)" data-ref="_M/EIGEN_GNUC_AT_MOST">EIGEN_GNUC_AT_MOST</a>(4, 6)</u></td></tr>
<tr><th id="108">108</th><td>  <i>// Old versions of GCC on ARM, at least 4.4, were once seen to have buggy static alignment support.</i></td></tr>
<tr><th id="109">109</th><td><i>  // Not sure which version fixed it, hopefully it doesn't affect 4.7, which is still somewhat in use.</i></td></tr>
<tr><th id="110">110</th><td><i>  // 4.8 and newer seem definitely unaffected.</i></td></tr>
<tr><th id="111">111</th><td>  <u>#define EIGEN_GCC_AND_ARCH_DOESNT_WANT_STACK_ALIGNMENT 1</u></td></tr>
<tr><th id="112">112</th><td>  <u>#<span data-ppcond="105">else</span></u></td></tr>
<tr><th id="113">113</th><td>  <u>#define <dfn class="macro" id="_M/EIGEN_GCC_AND_ARCH_DOESNT_WANT_STACK_ALIGNMENT" data-ref="_M/EIGEN_GCC_AND_ARCH_DOESNT_WANT_STACK_ALIGNMENT">EIGEN_GCC_AND_ARCH_DOESNT_WANT_STACK_ALIGNMENT</dfn> 0</u></td></tr>
<tr><th id="114">114</th><td>  <u>#<span data-ppcond="105">endif</span></u></td></tr>
<tr><th id="115">115</th><td></td></tr>
<tr><th id="116">116</th><td>  <i>// static alignment is completely disabled with GCC 3, Sun Studio, and QCC/QNX</i></td></tr>
<tr><th id="117">117</th><td>  <u>#<span data-ppcond="117">if</span> !<a class="macro" href="#113" title="0" data-ref="_M/EIGEN_GCC_AND_ARCH_DOESNT_WANT_STACK_ALIGNMENT">EIGEN_GCC_AND_ARCH_DOESNT_WANT_STACK_ALIGNMENT</a> \</u></td></tr>
<tr><th id="118">118</th><td><u>  &amp;&amp; !<a class="macro" href="Macros.h.html#213" title="0" data-ref="_M/EIGEN_GCC3_OR_OLDER">EIGEN_GCC3_OR_OLDER</a> \</u></td></tr>
<tr><th id="119">119</th><td><u>  &amp;&amp; !<a class="macro" href="Macros.h.html#101" title="0" data-ref="_M/EIGEN_COMP_SUNCC">EIGEN_COMP_SUNCC</a> \</u></td></tr>
<tr><th id="120">120</th><td><u>  &amp;&amp; !<a class="macro" href="Macros.h.html#342" title="0" data-ref="_M/EIGEN_OS_QNX">EIGEN_OS_QNX</a></u></td></tr>
<tr><th id="121">121</th><td>    <u>#define <dfn class="macro" id="_M/EIGEN_ARCH_WANTS_STACK_ALIGNMENT" data-ref="_M/EIGEN_ARCH_WANTS_STACK_ALIGNMENT">EIGEN_ARCH_WANTS_STACK_ALIGNMENT</dfn> 1</u></td></tr>
<tr><th id="122">122</th><td>  <u>#<span data-ppcond="117">else</span></u></td></tr>
<tr><th id="123">123</th><td>    <u>#define EIGEN_ARCH_WANTS_STACK_ALIGNMENT 0</u></td></tr>
<tr><th id="124">124</th><td>  <u>#<span data-ppcond="117">endif</span></u></td></tr>
<tr><th id="125">125</th><td></td></tr>
<tr><th id="126">126</th><td>  <u>#<span data-ppcond="126">if</span> <a class="macro" href="#121" title="1" data-ref="_M/EIGEN_ARCH_WANTS_STACK_ALIGNMENT">EIGEN_ARCH_WANTS_STACK_ALIGNMENT</a></u></td></tr>
<tr><th id="127">127</th><td>    <u>#define <dfn class="macro" id="_M/EIGEN_MAX_STATIC_ALIGN_BYTES" data-ref="_M/EIGEN_MAX_STATIC_ALIGN_BYTES">EIGEN_MAX_STATIC_ALIGN_BYTES</dfn> EIGEN_IDEAL_MAX_ALIGN_BYTES</u></td></tr>
<tr><th id="128">128</th><td>  <u>#<span data-ppcond="126">else</span></u></td></tr>
<tr><th id="129">129</th><td>    <u>#define EIGEN_MAX_STATIC_ALIGN_BYTES 0</u></td></tr>
<tr><th id="130">130</th><td>  <u>#<span data-ppcond="126">endif</span></u></td></tr>
<tr><th id="131">131</th><td></td></tr>
<tr><th id="132">132</th><td><u>#<span data-ppcond="95">endif</span></u></td></tr>
<tr><th id="133">133</th><td></td></tr>
<tr><th id="134">134</th><td><i>// If EIGEN_MAX_ALIGN_BYTES is defined, then it is considered as an upper bound for EIGEN_MAX_STATIC_ALIGN_BYTES</i></td></tr>
<tr><th id="135">135</th><td><u>#<span data-ppcond="135">if</span> defined(<span class="macro" data-ref="_M/EIGEN_MAX_ALIGN_BYTES">EIGEN_MAX_ALIGN_BYTES</span>) &amp;&amp; EIGEN_MAX_ALIGN_BYTES&lt;<a class="macro" href="#127" title="16" data-ref="_M/EIGEN_MAX_STATIC_ALIGN_BYTES">EIGEN_MAX_STATIC_ALIGN_BYTES</a></u></td></tr>
<tr><th id="136">136</th><td><u>#undef EIGEN_MAX_STATIC_ALIGN_BYTES</u></td></tr>
<tr><th id="137">137</th><td><u>#define EIGEN_MAX_STATIC_ALIGN_BYTES EIGEN_MAX_ALIGN_BYTES</u></td></tr>
<tr><th id="138">138</th><td><u>#<span data-ppcond="135">endif</span></u></td></tr>
<tr><th id="139">139</th><td></td></tr>
<tr><th id="140">140</th><td><u>#<span data-ppcond="140">if</span> <a class="macro" href="#127" title="16" data-ref="_M/EIGEN_MAX_STATIC_ALIGN_BYTES">EIGEN_MAX_STATIC_ALIGN_BYTES</a>==0 &amp;&amp; !defined(<span class="macro" data-ref="_M/EIGEN_DISABLE_UNALIGNED_ARRAY_ASSERT">EIGEN_DISABLE_UNALIGNED_ARRAY_ASSERT</span>)</u></td></tr>
<tr><th id="141">141</th><td>  <u>#define EIGEN_DISABLE_UNALIGNED_ARRAY_ASSERT</u></td></tr>
<tr><th id="142">142</th><td><u>#<span data-ppcond="140">endif</span></u></td></tr>
<tr><th id="143">143</th><td></td></tr>
<tr><th id="144">144</th><td><i>// At this stage, EIGEN_MAX_STATIC_ALIGN_BYTES&gt;0 is the true test whether we want to align arrays on the stack or not.</i></td></tr>
<tr><th id="145">145</th><td><i>// It takes into account both the user choice to explicitly enable/disable alignment (by setting EIGEN_MAX_STATIC_ALIGN_BYTES)</i></td></tr>
<tr><th id="146">146</th><td><i>// and the architecture config (EIGEN_ARCH_WANTS_STACK_ALIGNMENT).</i></td></tr>
<tr><th id="147">147</th><td><i>// Henceforth, only EIGEN_MAX_STATIC_ALIGN_BYTES should be used.</i></td></tr>
<tr><th id="148">148</th><td><i></i></td></tr>
<tr><th id="149">149</th><td><i></i></td></tr>
<tr><th id="150">150</th><td><i>// Shortcuts to EIGEN_ALIGN_TO_BOUNDARY</i></td></tr>
<tr><th id="151">151</th><td><u>#define <dfn class="macro" id="_M/EIGEN_ALIGN8" data-ref="_M/EIGEN_ALIGN8">EIGEN_ALIGN8</dfn>  EIGEN_ALIGN_TO_BOUNDARY(8)</u></td></tr>
<tr><th id="152">152</th><td><u>#define <dfn class="macro" id="_M/EIGEN_ALIGN16" data-ref="_M/EIGEN_ALIGN16">EIGEN_ALIGN16</dfn> EIGEN_ALIGN_TO_BOUNDARY(16)</u></td></tr>
<tr><th id="153">153</th><td><u>#define <dfn class="macro" id="_M/EIGEN_ALIGN32" data-ref="_M/EIGEN_ALIGN32">EIGEN_ALIGN32</dfn> EIGEN_ALIGN_TO_BOUNDARY(32)</u></td></tr>
<tr><th id="154">154</th><td><u>#define <dfn class="macro" id="_M/EIGEN_ALIGN64" data-ref="_M/EIGEN_ALIGN64">EIGEN_ALIGN64</dfn> EIGEN_ALIGN_TO_BOUNDARY(64)</u></td></tr>
<tr><th id="155">155</th><td><u>#<span data-ppcond="155">if</span> <a class="macro" href="#127" title="16" data-ref="_M/EIGEN_MAX_STATIC_ALIGN_BYTES">EIGEN_MAX_STATIC_ALIGN_BYTES</a>&gt;0</u></td></tr>
<tr><th id="156">156</th><td><u>#define <dfn class="macro" id="_M/EIGEN_ALIGN_MAX" data-ref="_M/EIGEN_ALIGN_MAX">EIGEN_ALIGN_MAX</dfn> EIGEN_ALIGN_TO_BOUNDARY(EIGEN_MAX_STATIC_ALIGN_BYTES)</u></td></tr>
<tr><th id="157">157</th><td><u>#<span data-ppcond="155">else</span></u></td></tr>
<tr><th id="158">158</th><td><u>#define EIGEN_ALIGN_MAX</u></td></tr>
<tr><th id="159">159</th><td><u>#<span data-ppcond="155">endif</span></u></td></tr>
<tr><th id="160">160</th><td></td></tr>
<tr><th id="161">161</th><td></td></tr>
<tr><th id="162">162</th><td><i>// Dynamic alignment control</i></td></tr>
<tr><th id="163">163</th><td></td></tr>
<tr><th id="164">164</th><td><u>#<span data-ppcond="164">if</span> defined(<span class="macro" data-ref="_M/EIGEN_DONT_ALIGN">EIGEN_DONT_ALIGN</span>) &amp;&amp; defined(<span class="macro" data-ref="_M/EIGEN_MAX_ALIGN_BYTES">EIGEN_MAX_ALIGN_BYTES</span>) &amp;&amp; EIGEN_MAX_ALIGN_BYTES&gt;0</u></td></tr>
<tr><th id="165">165</th><td><u>#error EIGEN_MAX_ALIGN_BYTES and EIGEN_DONT_ALIGN are both defined with EIGEN_MAX_ALIGN_BYTES!=0. Use EIGEN_MAX_ALIGN_BYTES=0 as a synonym of EIGEN_DONT_ALIGN.</u></td></tr>
<tr><th id="166">166</th><td><u>#<span data-ppcond="164">endif</span></u></td></tr>
<tr><th id="167">167</th><td></td></tr>
<tr><th id="168">168</th><td><u>#<span data-ppcond="168">ifdef</span> <span class="macro" data-ref="_M/EIGEN_DONT_ALIGN">EIGEN_DONT_ALIGN</span></u></td></tr>
<tr><th id="169">169</th><td>  <u>#ifdef EIGEN_MAX_ALIGN_BYTES</u></td></tr>
<tr><th id="170">170</th><td>    <u>#undef EIGEN_MAX_ALIGN_BYTES</u></td></tr>
<tr><th id="171">171</th><td>  <u>#endif</u></td></tr>
<tr><th id="172">172</th><td>  <u>#define EIGEN_MAX_ALIGN_BYTES 0</u></td></tr>
<tr><th id="173">173</th><td><u>#<span data-ppcond="168">elif</span> !defined(<span class="macro" data-ref="_M/EIGEN_MAX_ALIGN_BYTES">EIGEN_MAX_ALIGN_BYTES</span>)</u></td></tr>
<tr><th id="174">174</th><td>  <u>#define <dfn class="macro" id="_M/EIGEN_MAX_ALIGN_BYTES" data-ref="_M/EIGEN_MAX_ALIGN_BYTES">EIGEN_MAX_ALIGN_BYTES</dfn> EIGEN_IDEAL_MAX_ALIGN_BYTES</u></td></tr>
<tr><th id="175">175</th><td><u>#<span data-ppcond="168">endif</span></u></td></tr>
<tr><th id="176">176</th><td></td></tr>
<tr><th id="177">177</th><td><u>#<span data-ppcond="177">if</span> <a class="macro" href="#71" title="16" data-ref="_M/EIGEN_IDEAL_MAX_ALIGN_BYTES">EIGEN_IDEAL_MAX_ALIGN_BYTES</a> &gt; <a class="macro" href="#174" title="16" data-ref="_M/EIGEN_MAX_ALIGN_BYTES">EIGEN_MAX_ALIGN_BYTES</a></u></td></tr>
<tr><th id="178">178</th><td><u>#define EIGEN_DEFAULT_ALIGN_BYTES EIGEN_IDEAL_MAX_ALIGN_BYTES</u></td></tr>
<tr><th id="179">179</th><td><u>#<span data-ppcond="177">else</span></u></td></tr>
<tr><th id="180">180</th><td><u>#define <dfn class="macro" id="_M/EIGEN_DEFAULT_ALIGN_BYTES" data-ref="_M/EIGEN_DEFAULT_ALIGN_BYTES">EIGEN_DEFAULT_ALIGN_BYTES</dfn> EIGEN_MAX_ALIGN_BYTES</u></td></tr>
<tr><th id="181">181</th><td><u>#<span data-ppcond="177">endif</span></u></td></tr>
<tr><th id="182">182</th><td></td></tr>
<tr><th id="183">183</th><td></td></tr>
<tr><th id="184">184</th><td><u>#<span data-ppcond="184">ifndef</span> <span class="macro" data-ref="_M/EIGEN_UNALIGNED_VECTORIZE">EIGEN_UNALIGNED_VECTORIZE</span></u></td></tr>
<tr><th id="185">185</th><td><u>#define <dfn class="macro" id="_M/EIGEN_UNALIGNED_VECTORIZE" data-ref="_M/EIGEN_UNALIGNED_VECTORIZE">EIGEN_UNALIGNED_VECTORIZE</dfn> 1</u></td></tr>
<tr><th id="186">186</th><td><u>#<span data-ppcond="184">endif</span></u></td></tr>
<tr><th id="187">187</th><td></td></tr>
<tr><th id="188">188</th><td><i>//----------------------------------------------------------------------</i></td></tr>
<tr><th id="189">189</th><td><i></i></td></tr>
<tr><th id="190">190</th><td><i>// if alignment is disabled, then disable vectorization. Note: EIGEN_MAX_ALIGN_BYTES is the proper check, it takes into</i></td></tr>
<tr><th id="191">191</th><td><i>// account both the user's will (EIGEN_MAX_ALIGN_BYTES,EIGEN_DONT_ALIGN) and our own platform checks</i></td></tr>
<tr><th id="192">192</th><td><u>#<span data-ppcond="192">if</span> <a class="macro" href="#174" title="16" data-ref="_M/EIGEN_MAX_ALIGN_BYTES">EIGEN_MAX_ALIGN_BYTES</a>==0</u></td></tr>
<tr><th id="193">193</th><td>  <u>#ifndef EIGEN_DONT_VECTORIZE</u></td></tr>
<tr><th id="194">194</th><td>    <u>#define EIGEN_DONT_VECTORIZE</u></td></tr>
<tr><th id="195">195</th><td>  <u>#endif</u></td></tr>
<tr><th id="196">196</th><td><u>#<span data-ppcond="192">endif</span></u></td></tr>
<tr><th id="197">197</th><td></td></tr>
<tr><th id="198">198</th><td></td></tr>
<tr><th id="199">199</th><td><i>// The following (except #include &lt;malloc.h&gt; and _M_IX86_FP ??) can likely be</i></td></tr>
<tr><th id="200">200</th><td><i>// removed as gcc 4.1 and msvc 2008 are not supported anyways.</i></td></tr>
<tr><th id="201">201</th><td><u>#<span data-ppcond="201">if</span> <a class="macro" href="Macros.h.html#108" title="0" data-ref="_M/EIGEN_COMP_MSVC">EIGEN_COMP_MSVC</a></u></td></tr>
<tr><th id="202">202</th><td>  <u>#include &lt;malloc.h&gt; // for _aligned_malloc -- need it regardless of whether vectorization is enabled</u></td></tr>
<tr><th id="203">203</th><td>  <u>#if (EIGEN_COMP_MSVC &gt;= 1500) // 2008 or later</u></td></tr>
<tr><th id="204">204</th><td>    <i>// a user reported that in 64-bit mode, MSVC doesn't care to define _M_IX86_FP.</i></td></tr>
<tr><th id="205">205</th><td>    <u>#if (defined(_M_IX86_FP) &amp;&amp; (_M_IX86_FP &gt;= 2)) || EIGEN_ARCH_x86_64</u></td></tr>
<tr><th id="206">206</th><td>      <u>#define EIGEN_SSE2_ON_MSVC_2008_OR_LATER</u></td></tr>
<tr><th id="207">207</th><td>    <u>#endif</u></td></tr>
<tr><th id="208">208</th><td>  <u>#endif</u></td></tr>
<tr><th id="209">209</th><td><u>#<span data-ppcond="201">else</span></u></td></tr>
<tr><th id="210">210</th><td>  <u>#<span data-ppcond="210">if</span> (defined <span class="macro" data-ref="_M/__SSE2__">__SSE2__</span>) &amp;&amp; ( (!<a class="macro" href="Macros.h.html#63" title="(4*10+2)" data-ref="_M/EIGEN_COMP_GNUC">EIGEN_COMP_GNUC</a>) || <a class="macro" href="Macros.h.html#87" title="0" data-ref="_M/EIGEN_COMP_ICC">EIGEN_COMP_ICC</a> || <a class="macro" href="Macros.h.html#200" title="((4==4 &amp;&amp; 2&gt;=2) || 4&gt;4)" data-ref="_M/EIGEN_GNUC_AT_LEAST">EIGEN_GNUC_AT_LEAST</a>(4,2) )</u></td></tr>
<tr><th id="211">211</th><td>    <u>#define <dfn class="macro" id="_M/EIGEN_SSE2_ON_NON_MSVC_BUT_NOT_OLD_GCC" data-ref="_M/EIGEN_SSE2_ON_NON_MSVC_BUT_NOT_OLD_GCC">EIGEN_SSE2_ON_NON_MSVC_BUT_NOT_OLD_GCC</dfn></u></td></tr>
<tr><th id="212">212</th><td>  <u>#<span data-ppcond="210">endif</span></u></td></tr>
<tr><th id="213">213</th><td><u>#<span data-ppcond="201">endif</span></u></td></tr>
<tr><th id="214">214</th><td></td></tr>
<tr><th id="215">215</th><td><u>#<span data-ppcond="215">if</span> !(defined(<span class="macro" data-ref="_M/EIGEN_DONT_VECTORIZE">EIGEN_DONT_VECTORIZE</span>) || defined(<span class="macro" data-ref="_M/EIGEN_GPUCC">EIGEN_GPUCC</span>))</u></td></tr>
<tr><th id="216">216</th><td></td></tr>
<tr><th id="217">217</th><td>  <u>#<span data-ppcond="217">if</span> defined (<a class="macro" href="#211" data-ref="_M/EIGEN_SSE2_ON_NON_MSVC_BUT_NOT_OLD_GCC">EIGEN_SSE2_ON_NON_MSVC_BUT_NOT_OLD_GCC</a>) || defined(<span class="macro" data-ref="_M/EIGEN_SSE2_ON_MSVC_2008_OR_LATER">EIGEN_SSE2_ON_MSVC_2008_OR_LATER</span>)</u></td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td>    <i>// Defines symbols for compile-time detection of which instructions are</i></td></tr>
<tr><th id="220">220</th><td><i>    // used.</i></td></tr>
<tr><th id="221">221</th><td><i>    // EIGEN_VECTORIZE_YY is defined if and only if the instruction set YY is used</i></td></tr>
<tr><th id="222">222</th><td>    <u>#define <dfn class="macro" id="_M/EIGEN_VECTORIZE" data-ref="_M/EIGEN_VECTORIZE">EIGEN_VECTORIZE</dfn></u></td></tr>
<tr><th id="223">223</th><td>    <u>#define <dfn class="macro" id="_M/EIGEN_VECTORIZE_SSE" data-ref="_M/EIGEN_VECTORIZE_SSE">EIGEN_VECTORIZE_SSE</dfn></u></td></tr>
<tr><th id="224">224</th><td>    <u>#define <dfn class="macro" id="_M/EIGEN_VECTORIZE_SSE2" data-ref="_M/EIGEN_VECTORIZE_SSE2">EIGEN_VECTORIZE_SSE2</dfn></u></td></tr>
<tr><th id="225">225</th><td></td></tr>
<tr><th id="226">226</th><td>    <i>// Detect sse3/ssse3/sse4:</i></td></tr>
<tr><th id="227">227</th><td><i>    // gcc and icc defines __SSE3__, ...</i></td></tr>
<tr><th id="228">228</th><td><i>    // there is no way to know about this on msvc. You can define EIGEN_VECTORIZE_SSE* if you</i></td></tr>
<tr><th id="229">229</th><td><i>    // want to force the use of those instructions with msvc.</i></td></tr>
<tr><th id="230">230</th><td>    <u>#<span data-ppcond="230">ifdef</span> <span class="macro" data-ref="_M/__SSE3__">__SSE3__</span></u></td></tr>
<tr><th id="231">231</th><td>      <u>#define EIGEN_VECTORIZE_SSE3</u></td></tr>
<tr><th id="232">232</th><td>    <u>#<span data-ppcond="230">endif</span></u></td></tr>
<tr><th id="233">233</th><td>    <u>#<span data-ppcond="233">ifdef</span> <span class="macro" data-ref="_M/__SSSE3__">__SSSE3__</span></u></td></tr>
<tr><th id="234">234</th><td>      <u>#define EIGEN_VECTORIZE_SSSE3</u></td></tr>
<tr><th id="235">235</th><td>    <u>#<span data-ppcond="233">endif</span></u></td></tr>
<tr><th id="236">236</th><td>    <u>#<span data-ppcond="236">ifdef</span> <span class="macro" data-ref="_M/__SSE4_1__">__SSE4_1__</span></u></td></tr>
<tr><th id="237">237</th><td>      <u>#define EIGEN_VECTORIZE_SSE4_1</u></td></tr>
<tr><th id="238">238</th><td>    <u>#<span data-ppcond="236">endif</span></u></td></tr>
<tr><th id="239">239</th><td>    <u>#<span data-ppcond="239">ifdef</span> <span class="macro" data-ref="_M/__SSE4_2__">__SSE4_2__</span></u></td></tr>
<tr><th id="240">240</th><td>      <u>#define EIGEN_VECTORIZE_SSE4_2</u></td></tr>
<tr><th id="241">241</th><td>    <u>#<span data-ppcond="239">endif</span></u></td></tr>
<tr><th id="242">242</th><td>    <u>#<span data-ppcond="242">ifdef</span> <span class="macro" data-ref="_M/__AVX__">__AVX__</span></u></td></tr>
<tr><th id="243">243</th><td>      <u>#ifndef EIGEN_USE_SYCL</u> </td></tr>
<tr><th id="244">244</th><td>        <u>#define EIGEN_VECTORIZE_AVX</u></td></tr>
<tr><th id="245">245</th><td>      <u>#endif</u></td></tr>
<tr><th id="246">246</th><td>      <u>#define EIGEN_VECTORIZE_SSE3</u></td></tr>
<tr><th id="247">247</th><td>      <u>#define EIGEN_VECTORIZE_SSSE3</u></td></tr>
<tr><th id="248">248</th><td>      <u>#define EIGEN_VECTORIZE_SSE4_1</u></td></tr>
<tr><th id="249">249</th><td>      <u>#define EIGEN_VECTORIZE_SSE4_2</u></td></tr>
<tr><th id="250">250</th><td>    <u>#<span data-ppcond="242">endif</span></u></td></tr>
<tr><th id="251">251</th><td>    <u>#<span data-ppcond="251">ifdef</span> <span class="macro" data-ref="_M/__AVX2__">__AVX2__</span></u></td></tr>
<tr><th id="252">252</th><td>      <u>#ifndef EIGEN_USE_SYCL</u> </td></tr>
<tr><th id="253">253</th><td>        <u>#define EIGEN_VECTORIZE_AVX2</u></td></tr>
<tr><th id="254">254</th><td>        <u>#define EIGEN_VECTORIZE_AVX</u></td></tr>
<tr><th id="255">255</th><td>      <u>#endif</u></td></tr>
<tr><th id="256">256</th><td>      <u>#define EIGEN_VECTORIZE_SSE3</u></td></tr>
<tr><th id="257">257</th><td>      <u>#define EIGEN_VECTORIZE_SSSE3</u></td></tr>
<tr><th id="258">258</th><td>      <u>#define EIGEN_VECTORIZE_SSE4_1</u></td></tr>
<tr><th id="259">259</th><td>      <u>#define EIGEN_VECTORIZE_SSE4_2</u></td></tr>
<tr><th id="260">260</th><td>    <u>#<span data-ppcond="251">endif</span></u></td></tr>
<tr><th id="261">261</th><td>    <u>#<span data-ppcond="261">if</span> defined(<span class="macro" data-ref="_M/__FMA__">__FMA__</span>) || (<a class="macro" href="Macros.h.html#108" title="0" data-ref="_M/EIGEN_COMP_MSVC">EIGEN_COMP_MSVC</a> &amp;&amp; defined(<span class="macro" data-ref="_M/__AVX2__">__AVX2__</span>))</u></td></tr>
<tr><th id="262">262</th><td>      <i>// MSVC does not expose a switch dedicated for FMA</i></td></tr>
<tr><th id="263">263</th><td><i>      // For MSVC, AVX2 =&gt; FMA</i></td></tr>
<tr><th id="264">264</th><td>      <u>#define EIGEN_VECTORIZE_FMA</u></td></tr>
<tr><th id="265">265</th><td>    <u>#<span data-ppcond="261">endif</span></u></td></tr>
<tr><th id="266">266</th><td>    <u>#<span data-ppcond="266">if</span> defined(<span class="macro" data-ref="_M/__AVX512F__">__AVX512F__</span>)</u></td></tr>
<tr><th id="267">267</th><td>      <u>#ifndef EIGEN_VECTORIZE_FMA</u></td></tr>
<tr><th id="268">268</th><td>      <u>#if EIGEN_COMP_GNUC</u></td></tr>
<tr><th id="269">269</th><td>      <u>#error Please add -mfma to your compiler flags: compiling with -mavx512f alone without SSE/AVX FMA is not supported (bug 1638).</u></td></tr>
<tr><th id="270">270</th><td>      <u>#else</u></td></tr>
<tr><th id="271">271</th><td>      <u>#error Please enable FMA in your compiler flags (e.g. -mfma): compiling with AVX512 alone without SSE/AVX FMA is not supported (bug 1638).</u></td></tr>
<tr><th id="272">272</th><td>      <u>#endif</u></td></tr>
<tr><th id="273">273</th><td>      <u>#endif</u></td></tr>
<tr><th id="274">274</th><td>      <u>#ifndef EIGEN_USE_SYCL</u></td></tr>
<tr><th id="275">275</th><td>        <u>#define EIGEN_VECTORIZE_AVX512</u></td></tr>
<tr><th id="276">276</th><td>        <u>#define EIGEN_VECTORIZE_AVX2</u></td></tr>
<tr><th id="277">277</th><td>        <u>#define EIGEN_VECTORIZE_AVX</u></td></tr>
<tr><th id="278">278</th><td>      <u>#endif</u></td></tr>
<tr><th id="279">279</th><td>      <u>#define EIGEN_VECTORIZE_FMA</u></td></tr>
<tr><th id="280">280</th><td>      <u>#define EIGEN_VECTORIZE_SSE3</u></td></tr>
<tr><th id="281">281</th><td>      <u>#define EIGEN_VECTORIZE_SSSE3</u></td></tr>
<tr><th id="282">282</th><td>      <u>#define EIGEN_VECTORIZE_SSE4_1</u></td></tr>
<tr><th id="283">283</th><td>      <u>#define EIGEN_VECTORIZE_SSE4_2</u></td></tr>
<tr><th id="284">284</th><td>      <u>#ifndef EIGEN_USE_SYCL</u></td></tr>
<tr><th id="285">285</th><td>        <u>#ifdef __AVX512DQ__</u></td></tr>
<tr><th id="286">286</th><td>          <u>#define EIGEN_VECTORIZE_AVX512DQ</u></td></tr>
<tr><th id="287">287</th><td>        <u>#endif</u></td></tr>
<tr><th id="288">288</th><td>        <u>#ifdef __AVX512ER__</u></td></tr>
<tr><th id="289">289</th><td>          <u>#define EIGEN_VECTORIZE_AVX512ER</u></td></tr>
<tr><th id="290">290</th><td>        <u>#endif</u></td></tr>
<tr><th id="291">291</th><td>        <u>#ifdef __AVX512BF16__</u></td></tr>
<tr><th id="292">292</th><td>          <u>#define EIGEN_VECTORIZE_AVX512BF16</u></td></tr>
<tr><th id="293">293</th><td>        <u>#endif</u></td></tr>
<tr><th id="294">294</th><td>      <u>#endif</u></td></tr>
<tr><th id="295">295</th><td>    <u>#<span data-ppcond="266">endif</span></u></td></tr>
<tr><th id="296">296</th><td></td></tr>
<tr><th id="297">297</th><td>    <i>// Disable AVX support on broken xcode versions</i></td></tr>
<tr><th id="298">298</th><td>    <u>#<span data-ppcond="298">if</span> defined(<span class="macro" data-ref="_M/__apple_build_version__">__apple_build_version__</span>) &amp;&amp; (__apple_build_version__ == 11000033 ) &amp;&amp; ( __MAC_OS_X_VERSION_MIN_REQUIRED == 101500 )</u></td></tr>
<tr><th id="299">299</th><td>      <i>// A nasty bug in the clang compiler shipped with xcode in a common compilation situation</i></td></tr>
<tr><th id="300">300</th><td><i>      // when XCode 11.0 and Mac deployment target macOS 10.15 is <a href="https://trac.macports.org/ticket/58776#no1">https://trac.macports.org/ticket/58776#no1</a></i></td></tr>
<tr><th id="301">301</th><td>      <u>#ifdef EIGEN_VECTORIZE_AVX</u></td></tr>
<tr><th id="302">302</th><td>        <u>#undef EIGEN_VECTORIZE_AVX</u></td></tr>
<tr><th id="303">303</th><td>        <u>#warning "Disabling AVX support: clang compiler shipped with XCode 11.[012] generates broken assembly with -macosx-version-min=10.15 and AVX enabled. "</u></td></tr>
<tr><th id="304">304</th><td>        <u>#ifdef EIGEN_VECTORIZE_AVX2</u></td></tr>
<tr><th id="305">305</th><td>          <u>#undef EIGEN_VECTORIZE_AVX2</u></td></tr>
<tr><th id="306">306</th><td>        <u>#endif</u></td></tr>
<tr><th id="307">307</th><td>        <u>#ifdef EIGEN_VECTORIZE_FMA</u></td></tr>
<tr><th id="308">308</th><td>          <u>#undef EIGEN_VECTORIZE_FMA</u></td></tr>
<tr><th id="309">309</th><td>        <u>#endif</u></td></tr>
<tr><th id="310">310</th><td>        <u>#ifdef EIGEN_VECTORIZE_AVX512</u></td></tr>
<tr><th id="311">311</th><td>          <u>#undef EIGEN_VECTORIZE_AVX512</u></td></tr>
<tr><th id="312">312</th><td>        <u>#endif</u></td></tr>
<tr><th id="313">313</th><td>        <u>#ifdef EIGEN_VECTORIZE_AVX512DQ</u></td></tr>
<tr><th id="314">314</th><td>          <u>#undef EIGEN_VECTORIZE_AVX512DQ</u></td></tr>
<tr><th id="315">315</th><td>        <u>#endif</u></td></tr>
<tr><th id="316">316</th><td>        <u>#ifdef EIGEN_VECTORIZE_AVX512ER</u></td></tr>
<tr><th id="317">317</th><td>          <u>#undef EIGEN_VECTORIZE_AVX512ER</u></td></tr>
<tr><th id="318">318</th><td>        <u>#endif</u></td></tr>
<tr><th id="319">319</th><td>      <u>#endif</u></td></tr>
<tr><th id="320">320</th><td>      <i>// NOTE: Confirmed test failures in XCode 11.0, and XCode 11.2 with  -macosx-version-min=10.15 and AVX</i></td></tr>
<tr><th id="321">321</th><td><i>      // NOTE using -macosx-version-min=10.15 with Xcode 11.0 results in runtime segmentation faults in many tests, 11.2 produce core dumps in 3 tests</i></td></tr>
<tr><th id="322">322</th><td><i>      // NOTE using -macosx-version-min=10.14 produces functioning and passing tests in all cases</i></td></tr>
<tr><th id="323">323</th><td><i>      // NOTE __clang_version__ "11.0.0 (clang-1100.0.33.8)"  XCode 11.0 &lt;- Produces many segfault and core dumping tests</i></td></tr>
<tr><th id="324">324</th><td><i>      //                                                                    with  -macosx-version-min=10.15 and AVX</i></td></tr>
<tr><th id="325">325</th><td><i>      // NOTE __clang_version__ "11.0.0 (clang-1100.0.33.12)" XCode 11.2 &lt;- Produces 3 core dumping tests with  </i></td></tr>
<tr><th id="326">326</th><td><i>      //                                                                    -macosx-version-min=10.15 and AVX</i></td></tr>
<tr><th id="327">327</th><td>    <u>#<span data-ppcond="298">endif</span></u></td></tr>
<tr><th id="328">328</th><td></td></tr>
<tr><th id="329">329</th><td>    <i>// include files</i></td></tr>
<tr><th id="330">330</th><td><i></i></td></tr>
<tr><th id="331">331</th><td><i>    // This extern "C" works around a MINGW-w64 compilation issue</i></td></tr>
<tr><th id="332">332</th><td><i>    // <a href="https://sourceforge.net/tracker/index.php?func=detail&aid=3018394&group_id=202880&atid=983354">https://sourceforge.net/tracker/index.php?func=detail&amp;aid=3018394&amp;group_id=202880&amp;atid=983354</a></i></td></tr>
<tr><th id="333">333</th><td><i>    // In essence, intrin.h is included by windows.h and also declares intrinsics (just as emmintrin.h etc. below do).</i></td></tr>
<tr><th id="334">334</th><td><i>    // However, intrin.h uses an extern "C" declaration, and g++ thus complains of duplicate declarations</i></td></tr>
<tr><th id="335">335</th><td><i>    // with conflicting linkage.  The linkage for intrinsics doesn't matter, but at that stage the compiler doesn't know;</i></td></tr>
<tr><th id="336">336</th><td><i>    // so, to avoid compile errors when windows.h is included after Eigen/Core, ensure intrinsics are extern "C" here too.</i></td></tr>
<tr><th id="337">337</th><td><i>    // notice that since these are C headers, the extern "C" is theoretically needed anyways.</i></td></tr>
<tr><th id="338">338</th><td>    <b>extern</b> <q>"C"</q> {</td></tr>
<tr><th id="339">339</th><td>      <i>// In theory we should only include immintrin.h and not the other *mmintrin.h header files directly.</i></td></tr>
<tr><th id="340">340</th><td><i>      // Doing so triggers some issues with ICC. However old gcc versions seems to not have this file, thus:</i></td></tr>
<tr><th id="341">341</th><td>      <u>#<span data-ppcond="341">if</span> <a class="macro" href="Macros.h.html#87" title="0" data-ref="_M/EIGEN_COMP_ICC">EIGEN_COMP_ICC</a> &gt;= 1110</u></td></tr>
<tr><th id="342">342</th><td>        <u>#include &lt;immintrin.h&gt;</u></td></tr>
<tr><th id="343">343</th><td>      <u>#<span data-ppcond="341">else</span></u></td></tr>
<tr><th id="344">344</th><td>        <u>#include &lt;mmintrin.h&gt;</u></td></tr>
<tr><th id="345">345</th><td>        <u>#include &lt;emmintrin.h&gt;</u></td></tr>
<tr><th id="346">346</th><td>        <u>#include &lt;xmmintrin.h&gt;</u></td></tr>
<tr><th id="347">347</th><td>        <u>#<span data-ppcond="347">ifdef</span>  <span class="macro" data-ref="_M/EIGEN_VECTORIZE_SSE3">EIGEN_VECTORIZE_SSE3</span></u></td></tr>
<tr><th id="348">348</th><td>        <u>#include &lt;pmmintrin.h&gt;</u></td></tr>
<tr><th id="349">349</th><td>        <u>#<span data-ppcond="347">endif</span></u></td></tr>
<tr><th id="350">350</th><td>        <u>#<span data-ppcond="350">ifdef</span> <span class="macro" data-ref="_M/EIGEN_VECTORIZE_SSSE3">EIGEN_VECTORIZE_SSSE3</span></u></td></tr>
<tr><th id="351">351</th><td>        <u>#include &lt;tmmintrin.h&gt;</u></td></tr>
<tr><th id="352">352</th><td>        <u>#<span data-ppcond="350">endif</span></u></td></tr>
<tr><th id="353">353</th><td>        <u>#<span data-ppcond="353">ifdef</span> <span class="macro" data-ref="_M/EIGEN_VECTORIZE_SSE4_1">EIGEN_VECTORIZE_SSE4_1</span></u></td></tr>
<tr><th id="354">354</th><td>        <u>#include &lt;smmintrin.h&gt;</u></td></tr>
<tr><th id="355">355</th><td>        <u>#<span data-ppcond="353">endif</span></u></td></tr>
<tr><th id="356">356</th><td>        <u>#<span data-ppcond="356">ifdef</span> <span class="macro" data-ref="_M/EIGEN_VECTORIZE_SSE4_2">EIGEN_VECTORIZE_SSE4_2</span></u></td></tr>
<tr><th id="357">357</th><td>        <u>#include &lt;nmmintrin.h&gt;</u></td></tr>
<tr><th id="358">358</th><td>        <u>#<span data-ppcond="356">endif</span></u></td></tr>
<tr><th id="359">359</th><td>        <u>#<span data-ppcond="359">if</span> defined(<span class="macro" data-ref="_M/EIGEN_VECTORIZE_AVX">EIGEN_VECTORIZE_AVX</span>) || defined(<span class="macro" data-ref="_M/EIGEN_VECTORIZE_AVX512">EIGEN_VECTORIZE_AVX512</span>)</u></td></tr>
<tr><th id="360">360</th><td>        <u>#include &lt;immintrin.h&gt;</u></td></tr>
<tr><th id="361">361</th><td>        <u>#<span data-ppcond="359">endif</span></u></td></tr>
<tr><th id="362">362</th><td>      <u>#<span data-ppcond="341">endif</span></u></td></tr>
<tr><th id="363">363</th><td>    } <i>// end extern "C"</i></td></tr>
<tr><th id="364">364</th><td></td></tr>
<tr><th id="365">365</th><td>  <u>#<span data-ppcond="217">elif</span> defined __VSX__</u></td></tr>
<tr><th id="366">366</th><td></td></tr>
<tr><th id="367">367</th><td>    <u>#define EIGEN_VECTORIZE</u></td></tr>
<tr><th id="368">368</th><td>    <u>#define EIGEN_VECTORIZE_VSX</u></td></tr>
<tr><th id="369">369</th><td>    <u>#include &lt;altivec.h&gt;</u></td></tr>
<tr><th id="370">370</th><td>    <i>// We need to #undef all these ugly tokens defined in &lt;altivec.h&gt;</i></td></tr>
<tr><th id="371">371</th><td><i>    // =&gt; use __vector instead of vector</i></td></tr>
<tr><th id="372">372</th><td>    <u>#undef bool</u></td></tr>
<tr><th id="373">373</th><td>    <u>#undef vector</u></td></tr>
<tr><th id="374">374</th><td>    <u>#undef pixel</u></td></tr>
<tr><th id="375">375</th><td></td></tr>
<tr><th id="376">376</th><td>  <u>#elif defined __ALTIVEC__</u></td></tr>
<tr><th id="377">377</th><td></td></tr>
<tr><th id="378">378</th><td>    <u>#define EIGEN_VECTORIZE</u></td></tr>
<tr><th id="379">379</th><td>    <u>#define EIGEN_VECTORIZE_ALTIVEC</u></td></tr>
<tr><th id="380">380</th><td>    <u>#include &lt;altivec.h&gt;</u></td></tr>
<tr><th id="381">381</th><td>    <i>// We need to #undef all these ugly tokens defined in &lt;altivec.h&gt;</i></td></tr>
<tr><th id="382">382</th><td><i>    // =&gt; use __vector instead of vector</i></td></tr>
<tr><th id="383">383</th><td>    <u>#undef bool</u></td></tr>
<tr><th id="384">384</th><td>    <u>#undef vector</u></td></tr>
<tr><th id="385">385</th><td>    <u>#undef pixel</u></td></tr>
<tr><th id="386">386</th><td></td></tr>
<tr><th id="387">387</th><td>  <u>#elif (defined  __ARM_NEON) || (defined __ARM_NEON__)</u></td></tr>
<tr><th id="388">388</th><td></td></tr>
<tr><th id="389">389</th><td>    <u>#define EIGEN_VECTORIZE</u></td></tr>
<tr><th id="390">390</th><td>    <u>#define EIGEN_VECTORIZE_NEON</u></td></tr>
<tr><th id="391">391</th><td>    <u>#include &lt;arm_neon.h&gt;</u></td></tr>
<tr><th id="392">392</th><td></td></tr>
<tr><th id="393">393</th><td>  <u>#elif (defined __s390x__ &amp;&amp; defined __VEC__)</u></td></tr>
<tr><th id="394">394</th><td></td></tr>
<tr><th id="395">395</th><td>    <u>#define EIGEN_VECTORIZE</u></td></tr>
<tr><th id="396">396</th><td>    <u>#define EIGEN_VECTORIZE_ZVECTOR</u></td></tr>
<tr><th id="397">397</th><td>    <u>#include &lt;vecintrin.h&gt;</u></td></tr>
<tr><th id="398">398</th><td></td></tr>
<tr><th id="399">399</th><td>  <u>#elif defined __mips_msa</u></td></tr>
<tr><th id="400">400</th><td></td></tr>
<tr><th id="401">401</th><td>    <i>// Limit MSA optimizations to little-endian CPUs for now.</i></td></tr>
<tr><th id="402">402</th><td><i>    // TODO: Perhaps, eventually support MSA optimizations on big-endian CPUs?</i></td></tr>
<tr><th id="403">403</th><td>    <u>#if defined(__BYTE_ORDER__) &amp;&amp; (__BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__)</u></td></tr>
<tr><th id="404">404</th><td>      <u>#if defined(__LP64__)</u></td></tr>
<tr><th id="405">405</th><td>        <u>#define EIGEN_MIPS_64</u></td></tr>
<tr><th id="406">406</th><td>      <u>#else</u></td></tr>
<tr><th id="407">407</th><td>        <u>#define EIGEN_MIPS_32</u></td></tr>
<tr><th id="408">408</th><td>      <u>#endif</u></td></tr>
<tr><th id="409">409</th><td>      <u>#define EIGEN_VECTORIZE</u></td></tr>
<tr><th id="410">410</th><td>      <u>#define EIGEN_VECTORIZE_MSA</u></td></tr>
<tr><th id="411">411</th><td>      <u>#include &lt;msa.h&gt;</u></td></tr>
<tr><th id="412">412</th><td>    <u>#endif</u></td></tr>
<tr><th id="413">413</th><td></td></tr>
<tr><th id="414">414</th><td>  <u>#<span data-ppcond="217">endif</span></u></td></tr>
<tr><th id="415">415</th><td><u>#<span data-ppcond="215">endif</span></u></td></tr>
<tr><th id="416">416</th><td></td></tr>
<tr><th id="417">417</th><td><u>#<span data-ppcond="417">if</span> defined(<span class="macro" data-ref="_M/__F16C__">__F16C__</span>) &amp;&amp; (!defined(<span class="macro" data-ref="_M/EIGEN_GPUCC">EIGEN_GPUCC</span>) &amp;&amp; (!defined(<a class="macro" href="Macros.h.html#70" data-ref="_M/EIGEN_COMP_CLANG">EIGEN_COMP_CLANG</a>) || <a class="macro" href="Macros.h.html#70" title="(10*100+0)" data-ref="_M/EIGEN_COMP_CLANG">EIGEN_COMP_CLANG</a>&gt;=380))</u></td></tr>
<tr><th id="418">418</th><td>  <i>// We can use the optimized fp16 to float and float to fp16 conversion routines</i></td></tr>
<tr><th id="419">419</th><td>  <u>#define EIGEN_HAS_FP16_C</u></td></tr>
<tr><th id="420">420</th><td></td></tr>
<tr><th id="421">421</th><td>  <u>#if defined(EIGEN_COMP_CLANG)</u></td></tr>
<tr><th id="422">422</th><td>    <i>// Workaround for clang: The FP16C intrinsics for clang are included by</i></td></tr>
<tr><th id="423">423</th><td><i>    // immintrin.h, as opposed to emmintrin.h as suggested by Intel:</i></td></tr>
<tr><th id="424">424</th><td><i>    // <a href="https://software.intel.com/sites/landingpage/IntrinsicsGuide/#othertechs=FP16C&expand=1711">https://software.intel.com/sites/landingpage/IntrinsicsGuide/#othertechs=FP16C&amp;expand=1711</a></i></td></tr>
<tr><th id="425">425</th><td>    <u>#include &lt;immintrin.h&gt;</u></td></tr>
<tr><th id="426">426</th><td>  <u>#endif</u></td></tr>
<tr><th id="427">427</th><td><u>#<span data-ppcond="417">endif</span></u></td></tr>
<tr><th id="428">428</th><td></td></tr>
<tr><th id="429">429</th><td><u>#<span data-ppcond="429">if</span> defined <span class="macro" data-ref="_M/EIGEN_CUDACC">EIGEN_CUDACC</span></u></td></tr>
<tr><th id="430">430</th><td>  <u>#define EIGEN_VECTORIZE_GPU</u></td></tr>
<tr><th id="431">431</th><td>  <u>#include &lt;vector_types.h&gt;</u></td></tr>
<tr><th id="432">432</th><td>  <u>#if EIGEN_CUDA_SDK_VER &gt;= 70500</u></td></tr>
<tr><th id="433">433</th><td>    <u>#define EIGEN_HAS_CUDA_FP16</u></td></tr>
<tr><th id="434">434</th><td>  <u>#endif</u></td></tr>
<tr><th id="435">435</th><td><u>#<span data-ppcond="429">endif</span></u></td></tr>
<tr><th id="436">436</th><td></td></tr>
<tr><th id="437">437</th><td><u>#<span data-ppcond="437">if</span> defined(<span class="macro" data-ref="_M/EIGEN_HAS_CUDA_FP16">EIGEN_HAS_CUDA_FP16</span>)</u></td></tr>
<tr><th id="438">438</th><td>  <u>#include &lt;cuda_runtime_api.h&gt;</u></td></tr>
<tr><th id="439">439</th><td>  <u>#include &lt;cuda_fp16.h&gt;</u></td></tr>
<tr><th id="440">440</th><td><u>#<span data-ppcond="437">endif</span></u></td></tr>
<tr><th id="441">441</th><td></td></tr>
<tr><th id="442">442</th><td><u>#<span data-ppcond="442">if</span> defined(<span class="macro" data-ref="_M/EIGEN_HIPCC">EIGEN_HIPCC</span>)</u></td></tr>
<tr><th id="443">443</th><td>  <u>#define EIGEN_VECTORIZE_GPU</u></td></tr>
<tr><th id="444">444</th><td>  <u>#include &lt;hip/hip_vector_types.h&gt;</u></td></tr>
<tr><th id="445">445</th><td>  <u>#define EIGEN_HAS_HIP_FP16</u></td></tr>
<tr><th id="446">446</th><td>  <u>#include &lt;hip/hip_fp16.h&gt;</u></td></tr>
<tr><th id="447">447</th><td><u>#<span data-ppcond="442">endif</span></u></td></tr>
<tr><th id="448">448</th><td></td></tr>
<tr><th id="449">449</th><td></td></tr>
<tr><th id="450">450</th><td><i class="doc">/** <span class="command">\brief</span> Namespace containing all symbols from the %Eigen library. */</i></td></tr>
<tr><th id="451">451</th><td><b>namespace</b> <span class="namespace">Eigen</span> {</td></tr>
<tr><th id="452">452</th><td></td></tr>
<tr><th id="453">453</th><td><b>inline</b> <em>static</em> <em>const</em> <em>char</em> *<dfn class="decl def fn" id="_ZN5EigenL24SimdInstructionSetsInUseEv" title='Eigen::SimdInstructionSetsInUse' data-ref="_ZN5EigenL24SimdInstructionSetsInUseEv" data-ref-filename="_ZN5EigenL24SimdInstructionSetsInUseEv">SimdInstructionSetsInUse</dfn>(<em>void</em>) {</td></tr>
<tr><th id="454">454</th><td><u>#<span data-ppcond="454">if</span> defined(<span class="macro" data-ref="_M/EIGEN_VECTORIZE_AVX512">EIGEN_VECTORIZE_AVX512</span>)</u></td></tr>
<tr><th id="455">455</th><td>  <b>return</b> <q>"AVX512, FMA, AVX2, AVX, SSE, SSE2, SSE3, SSSE3, SSE4.1, SSE4.2"</q>;</td></tr>
<tr><th id="456">456</th><td><u>#<span data-ppcond="454">elif</span> defined(<span class="macro" data-ref="_M/EIGEN_VECTORIZE_AVX">EIGEN_VECTORIZE_AVX</span>)</u></td></tr>
<tr><th id="457">457</th><td>  <b>return</b> <q>"AVX SSE, SSE2, SSE3, SSSE3, SSE4.1, SSE4.2"</q>;</td></tr>
<tr><th id="458">458</th><td><u>#<span data-ppcond="454">elif</span> defined(<span class="macro" data-ref="_M/EIGEN_VECTORIZE_SSE4_2">EIGEN_VECTORIZE_SSE4_2</span>)</u></td></tr>
<tr><th id="459">459</th><td>  <b>return</b> <q>"SSE, SSE2, SSE3, SSSE3, SSE4.1, SSE4.2"</q>;</td></tr>
<tr><th id="460">460</th><td><u>#<span data-ppcond="454">elif</span> defined(<span class="macro" data-ref="_M/EIGEN_VECTORIZE_SSE4_1">EIGEN_VECTORIZE_SSE4_1</span>)</u></td></tr>
<tr><th id="461">461</th><td>  <b>return</b> <q>"SSE, SSE2, SSE3, SSSE3, SSE4.1"</q>;</td></tr>
<tr><th id="462">462</th><td><u>#<span data-ppcond="454">elif</span> defined(<span class="macro" data-ref="_M/EIGEN_VECTORIZE_SSSE3">EIGEN_VECTORIZE_SSSE3</span>)</u></td></tr>
<tr><th id="463">463</th><td>  <b>return</b> <q>"SSE, SSE2, SSE3, SSSE3"</q>;</td></tr>
<tr><th id="464">464</th><td><u>#<span data-ppcond="454">elif</span> defined(<span class="macro" data-ref="_M/EIGEN_VECTORIZE_SSE3">EIGEN_VECTORIZE_SSE3</span>)</u></td></tr>
<tr><th id="465">465</th><td>  <b>return</b> <q>"SSE, SSE2, SSE3"</q>;</td></tr>
<tr><th id="466">466</th><td><u>#<span data-ppcond="454">elif</span> defined(<a class="macro" href="#224" data-ref="_M/EIGEN_VECTORIZE_SSE2">EIGEN_VECTORIZE_SSE2</a>)</u></td></tr>
<tr><th id="467">467</th><td>  <b>return</b> <q>"SSE, SSE2"</q>;</td></tr>
<tr><th id="468">468</th><td><u>#<span data-ppcond="454">elif</span> defined(EIGEN_VECTORIZE_ALTIVEC)</u></td></tr>
<tr><th id="469">469</th><td>  <b>return</b> <q>"AltiVec"</q>;</td></tr>
<tr><th id="470">470</th><td><u>#elif defined(EIGEN_VECTORIZE_VSX)</u></td></tr>
<tr><th id="471">471</th><td>  <b>return</b> <q>"VSX"</q>;</td></tr>
<tr><th id="472">472</th><td><u>#elif defined(EIGEN_VECTORIZE_NEON)</u></td></tr>
<tr><th id="473">473</th><td>  <b>return</b> <q>"ARM NEON"</q>;</td></tr>
<tr><th id="474">474</th><td><u>#elif defined(EIGEN_VECTORIZE_ZVECTOR)</u></td></tr>
<tr><th id="475">475</th><td>  <b>return</b> <q>"S390X ZVECTOR"</q>;</td></tr>
<tr><th id="476">476</th><td><u>#elif defined(EIGEN_VECTORIZE_MSA)</u></td></tr>
<tr><th id="477">477</th><td>  <b>return</b> <q>"MIPS MSA"</q>;</td></tr>
<tr><th id="478">478</th><td><u>#else</u></td></tr>
<tr><th id="479">479</th><td>  <b>return</b> <q>"None"</q>;</td></tr>
<tr><th id="480">480</th><td><u>#<span data-ppcond="454">endif</span></u></td></tr>
<tr><th id="481">481</th><td>}</td></tr>
<tr><th id="482">482</th><td></td></tr>
<tr><th id="483">483</th><td>} <i>// end namespace Eigen</i></td></tr>
<tr><th id="484">484</th><td></td></tr>
<tr><th id="485">485</th><td></td></tr>
<tr><th id="486">486</th><td><u>#<span data-ppcond="10">endif</span> // EIGEN_CONFIGURE_VECTORIZATION_H</u></td></tr>
<tr><th id="487">487</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../../../../../apps/linear_algebra/benchmarks/eigen_benchmarks.cpp.html'>halide/apps/linear_algebra/benchmarks/eigen_benchmarks.cpp</a><br/>Generated on <em>2021-Aug-05</em> from project halide revision <em>v12.0.1</em>