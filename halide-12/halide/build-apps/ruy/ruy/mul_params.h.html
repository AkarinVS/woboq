<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>mul_params.h source code [halide/build-apps/ruy/ruy/mul_params.h] - Woboq Code Browser</title>
<meta name="woboq:interestingDefinitions" content="ruy::ChannelDimension,ruy::MulParams,ruy::detail::MulParamsStorage "/>
<link rel="stylesheet" href="../../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'halide/build-apps/ruy/ruy/mul_params.h'; var root_path = '../../../..'; var data_path = '../../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../..'>halide</a>/<a href='../..'>build-apps</a>/<a href='..'>ruy</a>/<a href='./'>ruy</a>/<a href='mul_params.h.html'>mul_params.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* Copyright 2019 Google LLC. All Rights Reserved.</i></td></tr>
<tr><th id="2">2</th><td><i></i></td></tr>
<tr><th id="3">3</th><td><i>Licensed under the Apache License, Version 2.0 (the "License");</i></td></tr>
<tr><th id="4">4</th><td><i>you may not use this file except in compliance with the License.</i></td></tr>
<tr><th id="5">5</th><td><i>You may obtain a copy of the License at</i></td></tr>
<tr><th id="6">6</th><td><i></i></td></tr>
<tr><th id="7">7</th><td><i>    <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></i></td></tr>
<tr><th id="8">8</th><td><i></i></td></tr>
<tr><th id="9">9</th><td><i>Unless required by applicable law or agreed to in writing, software</i></td></tr>
<tr><th id="10">10</th><td><i>distributed under the License is distributed on an "AS IS" BASIS,</i></td></tr>
<tr><th id="11">11</th><td><i>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</i></td></tr>
<tr><th id="12">12</th><td><i>See the License for the specific language governing permissions and</i></td></tr>
<tr><th id="13">13</th><td><i>limitations under the License.</i></td></tr>
<tr><th id="14">14</th><td><i>==============================================================================*/</i></td></tr>
<tr><th id="15">15</th><td></td></tr>
<tr><th id="16">16</th><td><u>#<span data-ppcond="16">ifndef</span> <span class="macro" data-ref="_M/RUY_RUY_MUL_PARAMS_H_">RUY_RUY_MUL_PARAMS_H_</span></u></td></tr>
<tr><th id="17">17</th><td><u>#define <dfn class="macro" id="_M/RUY_RUY_MUL_PARAMS_H_" data-ref="_M/RUY_RUY_MUL_PARAMS_H_">RUY_RUY_MUL_PARAMS_H_</dfn></u></td></tr>
<tr><th id="18">18</th><td></td></tr>
<tr><th id="19">19</th><td><u>#include &lt;cstdint&gt;</u></td></tr>
<tr><th id="20">20</th><td><u>#include &lt;limits&gt;</u></td></tr>
<tr><th id="21">21</th><td><u>#include &lt;type_traits&gt;</u></td></tr>
<tr><th id="22">22</th><td></td></tr>
<tr><th id="23">23</th><td><u>#include <a href="check_macros.h.html">"ruy/check_macros.h"</a></u></td></tr>
<tr><th id="24">24</th><td><u>#include <a href="size_util.h.html">"ruy/size_util.h"</a></u></td></tr>
<tr><th id="25">25</th><td></td></tr>
<tr><th id="26">26</th><td><b>namespace</b> <span class="namespace">ruy</span> {</td></tr>
<tr><th id="27">27</th><td></td></tr>
<tr><th id="28">28</th><td><i>// Enumeration to designate which dimension is the 'channels', for MulParams</i></td></tr>
<tr><th id="29">29</th><td><i>// features that are 'per-channel', namely the bias-vector and the quantized</i></td></tr>
<tr><th id="30">30</th><td><i>// multiplier.</i></td></tr>
<tr><th id="31">31</th><td><b>enum</b> <b>class</b> <dfn class="type def" id="ruy::ChannelDimension" title='ruy::ChannelDimension' data-ref="ruy::ChannelDimension" data-ref-filename="ruy..ChannelDimension">ChannelDimension</dfn> : std::int8_t {</td></tr>
<tr><th id="32">32</th><td>  <i>// kRow means that 'per-channel' means 'per row of the destination matrix'</i></td></tr>
<tr><th id="33">33</th><td>  <dfn class="enum" id="ruy::ChannelDimension::kRow" title='ruy::ChannelDimension::kRow' data-ref="ruy::ChannelDimension::kRow" data-ref-filename="ruy..ChannelDimension..kRow">kRow</dfn>,</td></tr>
<tr><th id="34">34</th><td>  <i>// kCol means that 'per-channel' means 'per column of the destination matrix'</i></td></tr>
<tr><th id="35">35</th><td>  <dfn class="enum" id="ruy::ChannelDimension::kCol" title='ruy::ChannelDimension::kCol' data-ref="ruy::ChannelDimension::kCol" data-ref-filename="ruy..ChannelDimension..kCol">kCol</dfn></td></tr>
<tr><th id="36">36</th><td>};</td></tr>
<tr><th id="37">37</th><td></td></tr>
<tr><th id="38">38</th><td><b>namespace</b> <span class="namespace">detail</span> {</td></tr>
<tr><th id="39">39</th><td><b>template</b> &lt;<b>typename</b> tAccumScalar, <b>typename</b> tDstScalar&gt;</td></tr>
<tr><th id="40">40</th><td><b>struct</b> <a class="type" href="#ruy::detail::MulParamsStorage" title='ruy::detail::MulParamsStorage' data-ref="ruy::detail::MulParamsStorage" data-ref-filename="ruy..detail..MulParamsStorage">MulParamsStorage</a>;</td></tr>
<tr><th id="41">41</th><td>}</td></tr>
<tr><th id="42">42</th><td></td></tr>
<tr><th id="43">43</th><td><i>// MulParams describes all about a matrix multiplication that</i></td></tr>
<tr><th id="44">44</th><td><i>// isn't encoded in the LHS, RHS and destination matrices. Some of that</i></td></tr>
<tr><th id="45">45</th><td><i>// information is encoded as compile-time constants and types (for instance, the</i></td></tr>
<tr><th id="46">46</th><td><i>// choice of accumulator type, AccumScalar). Some of that information is encoded</i></td></tr>
<tr><th id="47">47</th><td><i>// as runtime values (for instance, the optional bias vector).</i></td></tr>
<tr><th id="48">48</th><td><i>//</i></td></tr>
<tr><th id="49">49</th><td><i>// Template parameters:</i></td></tr>
<tr><th id="50">50</th><td><i>// AccumScalar: Accumulator type. The type of accumulators used to compute the</i></td></tr>
<tr><th id="51">51</th><td><i>// dot-products before being ultimately casted to the destination type.</i></td></tr>
<tr><th id="52">52</th><td><i>// DstScalar: The destination scalar type.</i></td></tr>
<tr><th id="53">53</th><td><i>//</i></td></tr>
<tr><th id="54">54</th><td><i>// Constraints on these template parameters (see also the ruy::Mul comment):</i></td></tr>
<tr><th id="55">55</th><td><i>// * If DstScalar is floating-point then AccumScalar must also be.</i></td></tr>
<tr><th id="56">56</th><td><i>// * If DstScalar is integral then AccumScalar must be std::int32_t. Moreover</i></td></tr>
<tr><th id="57">57</th><td><i>//   in that integral case, there is a mode switch:</i></td></tr>
<tr><th id="58">58</th><td><i>//   - If DstScalar is std::int32_t then the multiplier_* fields are all</i></td></tr>
<tr><th id="59">59</th><td><i>//     disabled, and ruy::Mul will just return raw (unscaled) accumulators.</i></td></tr>
<tr><th id="60">60</th><td><i>//   - If DstScalar is not std::int32_t then the multiplier_* fields are</i></td></tr>
<tr><th id="61">61</th><td><i>//     enabled, and ruy::Mul will use them to scale internal std::int32_t</i></td></tr>
<tr><th id="62">62</th><td><i>//     accumulators before casting them to the DstScalar type. The default</i></td></tr>
<tr><th id="63">63</th><td><i>//     values are such that the effective multiplier is 1 (no scaling).</i></td></tr>
<tr><th id="64">64</th><td><i>//  </i></td></tr>
<tr><th id="65">65</th><td><i>// For the latter case (DstScalar integral and narrower than std::int32_t),</i></td></tr>
<tr><th id="66">66</th><td><i>// reference code can be found in the implementation of ruy::ApplyMultiplier.</i></td></tr>
<tr><th id="67">67</th><td><i>// If you look there, you'll find warnings like this:</i></td></tr>
<tr><th id="68">68</th><td><i>//</i></td></tr>
<tr><th id="69">69</th><td><i>//   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</i></td></tr>
<tr><th id="70">70</th><td><i>//   Warning: this code is not meant to be bit-exact-normative.</i></td></tr>
<tr><th id="71">71</th><td><i>//   Please refer to the class comment of ruy::MulParams, in mul_params.h.</i></td></tr>
<tr><th id="72">72</th><td><i>//   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</i></td></tr>
<tr><th id="73">73</th><td><i>//</i></td></tr>
<tr><th id="74">74</th><td><i>// The explanation of this warning is that as of early 2021, we still don't know</i></td></tr>
<tr><th id="75">75</th><td><i>// whether it is advisable to let this code as-is have normative value, or</i></td></tr>
<tr><th id="76">76</th><td><i>// whether that would become advisable after some specific final change.</i></td></tr>
<tr><th id="77">77</th><td><i>//</i></td></tr>
<tr><th id="78">78</th><td><i>// Ruy's CPU backends (x86 and ARM) as of early 2021 happen to conform</i></td></tr>
<tr><th id="79">79</th><td><i>// bit-exactly to this reference, but we also know that x86 could be faster if</i></td></tr>
<tr><th id="80">80</th><td><i>// it didn't, and so could NEON-less ARM (such as Cortex-M) (see [2]). We don't</i></td></tr>
<tr><th id="81">81</th><td><i>// know that this particular reference code is inherently better than other</i></td></tr>
<tr><th id="82">82</th><td><i>// forms that could perform better on these architectures --- in fact, the</i></td></tr>
<tr><th id="83">83</th><td><i>// alternative that was proposed in [2] as better performing on ARM Cortex-M</i></td></tr>
<tr><th id="84">84</th><td><i>// is also inherently more accurate thanks to rounding only once, but it would</i></td></tr>
<tr><th id="85">85</th><td><i>// perform worse on both ARM NEON, and x86.</i></td></tr>
<tr><th id="86">86</th><td><i>//</i></td></tr>
<tr><th id="87">87</th><td><i>// In fact, if we look at other hardware architectures beyond current Ruy</i></td></tr>
<tr><th id="88">88</th><td><i>// targets, namely "hardware accelerators", it becomes clear that there is no</i></td></tr>
<tr><th id="89">89</th><td><i>// hope for any form of this to be efficiently implementable simultaneously on</i></td></tr>
<tr><th id="90">90</th><td><i>// all current relevant hardware. Indeed, some accelerators prefer to perform</i></td></tr>
<tr><th id="91">91</th><td><i>// the multiplication in IEEE float32, others in IEEE float16, others in</i></td></tr>
<tr><th id="92">92</th><td><i>// bfloat16, others in 16-bit fixed-point...</i></td></tr>
<tr><th id="93">93</th><td><i>//</i></td></tr>
<tr><th id="94">94</th><td><i>// See:</i></td></tr>
<tr><th id="95">95</th><td><i>//   [1] <a href="https://github.com/google/ruy/pull/227">https://github.com/google/ruy/pull/227</a></i></td></tr>
<tr><th id="96">96</th><td><i>//   [2] <a href="https://github.com/tensorflow/tensorflow/issues/25087">https://github.com/tensorflow/tensorflow/issues/25087</a></i></td></tr>
<tr><th id="97">97</th><td><b>template</b> &lt;<b>typename</b> tAccumScalar, <b>typename</b> tDstScalar&gt;</td></tr>
<tr><th id="98">98</th><td><b>class</b> <dfn class="type def" id="ruy::MulParams" title='ruy::MulParams' data-ref="ruy::MulParams" data-ref-filename="ruy..MulParams">MulParams</dfn> final {</td></tr>
<tr><th id="99">99</th><td> <b>public</b>:</td></tr>
<tr><th id="100">100</th><td>  <b>using</b> <dfn class="typedef" id="ruy::MulParams::AccumScalar" title='ruy::MulParams::AccumScalar' data-type='tAccumScalar' data-ref="ruy::MulParams::AccumScalar" data-ref-filename="ruy..MulParams..AccumScalar">AccumScalar</dfn> = tAccumScalar;</td></tr>
<tr><th id="101">101</th><td>  <b>using</b> <dfn class="typedef" id="ruy::MulParams::DstScalar" title='ruy::MulParams::DstScalar' data-type='tDstScalar' data-ref="ruy::MulParams::DstScalar" data-ref-filename="ruy..MulParams..DstScalar">DstScalar</dfn> = tDstScalar;</td></tr>
<tr><th id="102">102</th><td></td></tr>
<tr><th id="103">103</th><td>  <i>// The bias vector data, if not null.</i></td></tr>
<tr><th id="104">104</th><td>  <em>const</em> <a class="typedef" href="#ruy::MulParams::AccumScalar" title='ruy::MulParams::AccumScalar' data-type='tAccumScalar' data-ref="ruy::MulParams::AccumScalar" data-ref-filename="ruy..MulParams..AccumScalar">AccumScalar</a>* <dfn class="decl def fn" id="_ZNK3ruy9MulParams4biasEv" title='ruy::MulParams::bias' data-ref="_ZNK3ruy9MulParams4biasEv" data-ref-filename="_ZNK3ruy9MulParams4biasEv">bias</dfn>() <em>const</em> { <b>return</b> <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.bias; }</td></tr>
<tr><th id="105">105</th><td>  <em>void</em> <dfn class="decl def fn" id="_ZN3ruy9MulParams8set_biasEPKT_" title='ruy::MulParams::set_bias' data-ref="_ZN3ruy9MulParams8set_biasEPKT_" data-ref-filename="_ZN3ruy9MulParams8set_biasEPKT_">set_bias</dfn>(<em>const</em> <a class="typedef" href="#ruy::MulParams::AccumScalar" title='ruy::MulParams::AccumScalar' data-type='tAccumScalar' data-ref="ruy::MulParams::AccumScalar" data-ref-filename="ruy..MulParams..AccumScalar">AccumScalar</a>* <dfn class="local col5 decl" id="5665ptr" title='ptr' data-type='const ruy::MulParams::AccumScalar *' data-ref="5665ptr" data-ref-filename="5665ptr">ptr</dfn>) { <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.bias = <a class="local col5 ref" href="#5665ptr" title='ptr' data-ref="5665ptr" data-ref-filename="5665ptr">ptr</a>; }</td></tr>
<tr><th id="106">106</th><td>  <i>// Only for non-floating-point cases. The fixed-point part (i.e. the mantissa)</i></td></tr>
<tr><th id="107">107</th><td><i>  // of the multiplier by which accumulators are multiplied before being casted</i></td></tr>
<tr><th id="108">108</th><td><i>  // to the destination type.</i></td></tr>
<tr><th id="109">109</th><td>  <a class="typedef" href="#ruy::MulParams::AccumScalar" title='ruy::MulParams::AccumScalar' data-type='tAccumScalar' data-ref="ruy::MulParams::AccumScalar" data-ref-filename="ruy..MulParams..AccumScalar">AccumScalar</a> <dfn class="decl def fn" id="_ZNK3ruy9MulParams21multiplier_fixedpointEv" title='ruy::MulParams::multiplier_fixedpoint' data-ref="_ZNK3ruy9MulParams21multiplier_fixedpointEv" data-ref-filename="_ZNK3ruy9MulParams21multiplier_fixedpointEv">multiplier_fixedpoint</dfn>() <em>const</em> {</td></tr>
<tr><th id="110">110</th><td>    <b>return</b> <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.perchannel ? <var>0</var> : <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.multiplier_fixedpoint;</td></tr>
<tr><th id="111">111</th><td>  }</td></tr>
<tr><th id="112">112</th><td>  <em>void</em> <dfn class="decl def fn" id="_ZN3ruy9MulParams25set_multiplier_fixedpointET_" title='ruy::MulParams::set_multiplier_fixedpoint' data-ref="_ZN3ruy9MulParams25set_multiplier_fixedpointET_" data-ref-filename="_ZN3ruy9MulParams25set_multiplier_fixedpointET_">set_multiplier_fixedpoint</dfn>(<em>const</em> <a class="typedef" href="#ruy::MulParams::AccumScalar" title='ruy::MulParams::AccumScalar' data-type='tAccumScalar' data-ref="ruy::MulParams::AccumScalar" data-ref-filename="ruy..MulParams..AccumScalar">AccumScalar</a> <dfn class="local col6 decl" id="5666value" title='value' data-type='const ruy::MulParams::AccumScalar' data-ref="5666value" data-ref-filename="5666value">value</dfn>) {</td></tr>
<tr><th id="113">113</th><td>    <a class="member fn" href="#_ZN3ruy9MulParams14set_perchannelEb" title='ruy::MulParams::set_perchannel' data-ref="_ZN3ruy9MulParams14set_perchannelEb" data-ref-filename="_ZN3ruy9MulParams14set_perchannelEb">set_perchannel</a>(<b>false</b>);</td></tr>
<tr><th id="114">114</th><td>    <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.multiplier_fixedpoint = <a class="local col6 ref" href="#5666value" title='value' data-ref="5666value" data-ref-filename="5666value">value</a>;</td></tr>
<tr><th id="115">115</th><td>  }</td></tr>
<tr><th id="116">116</th><td>  <i>// Only for non-floating-point cases. The exponent part of the aforementioned</i></td></tr>
<tr><th id="117">117</th><td><i>  // multiplier.</i></td></tr>
<tr><th id="118">118</th><td>  <em>int</em> <dfn class="decl def fn" id="_ZNK3ruy9MulParams19multiplier_exponentEv" title='ruy::MulParams::multiplier_exponent' data-ref="_ZNK3ruy9MulParams19multiplier_exponentEv" data-ref-filename="_ZNK3ruy9MulParams19multiplier_exponentEv">multiplier_exponent</dfn>() <em>const</em> {</td></tr>
<tr><th id="119">119</th><td>    <b>return</b> <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.perchannel ? <var>0</var> : <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.multiplier_exponent;</td></tr>
<tr><th id="120">120</th><td>  }</td></tr>
<tr><th id="121">121</th><td>  <em>void</em> <dfn class="decl def fn" id="_ZN3ruy9MulParams23set_multiplier_exponentEi" title='ruy::MulParams::set_multiplier_exponent' data-ref="_ZN3ruy9MulParams23set_multiplier_exponentEi" data-ref-filename="_ZN3ruy9MulParams23set_multiplier_exponentEi">set_multiplier_exponent</dfn>(<em>const</em> <em>int</em> <dfn class="local col7 decl" id="5667value" title='value' data-type='const int' data-ref="5667value" data-ref-filename="5667value">value</dfn>) {</td></tr>
<tr><th id="122">122</th><td>    <a class="member fn" href="#_ZN3ruy9MulParams14set_perchannelEb" title='ruy::MulParams::set_perchannel' data-ref="_ZN3ruy9MulParams14set_perchannelEb" data-ref-filename="_ZN3ruy9MulParams14set_perchannelEb">set_perchannel</a>(<b>false</b>);</td></tr>
<tr><th id="123">123</th><td>    <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.multiplier_exponent = <a class="local col7 ref" href="#5667value" title='value' data-ref="5667value" data-ref-filename="5667value">value</a>;</td></tr>
<tr><th id="124">124</th><td>  }</td></tr>
<tr><th id="125">125</th><td>  <i>// Per-channel variant of multiplier_fixedpoint. Setting this switches</i></td></tr>
<tr><th id="126">126</th><td><i>  // to per-channel mode, where `multiplier_fixedpoint` and</i></td></tr>
<tr><th id="127">127</th><td><i>  // `multiplier_exponent` are disabled and `multiplier_fixedpoint_perchannel`</i></td></tr>
<tr><th id="128">128</th><td><i>  // and `multiplier_exponent_perchannel` are used instead.</i></td></tr>
<tr><th id="129">129</th><td><i>  //</i></td></tr>
<tr><th id="130">130</th><td><i>  // This must point to a buffer of as many values as there are rows in the</i></td></tr>
<tr><th id="131">131</th><td><i>  // destination matrix. Each row of the destination matrix will use the</i></td></tr>
<tr><th id="132">132</th><td><i>  // corresponding buffer element instead of multiplier_fixedpoint.</i></td></tr>
<tr><th id="133">133</th><td>  <em>const</em> <a class="typedef" href="#ruy::MulParams::AccumScalar" title='ruy::MulParams::AccumScalar' data-type='tAccumScalar' data-ref="ruy::MulParams::AccumScalar" data-ref-filename="ruy..MulParams..AccumScalar">AccumScalar</a>* <dfn class="decl def fn" id="_ZNK3ruy9MulParams32multiplier_fixedpoint_perchannelEv" title='ruy::MulParams::multiplier_fixedpoint_perchannel' data-ref="_ZNK3ruy9MulParams32multiplier_fixedpoint_perchannelEv" data-ref-filename="_ZNK3ruy9MulParams32multiplier_fixedpoint_perchannelEv">multiplier_fixedpoint_perchannel</dfn>() <em>const</em> {</td></tr>
<tr><th id="134">134</th><td>    <b>return</b> <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.perchannel ? <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.multiplier_fixedpoint_perchannel</td></tr>
<tr><th id="135">135</th><td>                               : <b>nullptr</b>;</td></tr>
<tr><th id="136">136</th><td>  }</td></tr>
<tr><th id="137">137</th><td>  <em>void</em> <dfn class="decl def fn" id="_ZN3ruy9MulParams36set_multiplier_fixedpoint_perchannelEPKT_" title='ruy::MulParams::set_multiplier_fixedpoint_perchannel' data-ref="_ZN3ruy9MulParams36set_multiplier_fixedpoint_perchannelEPKT_" data-ref-filename="_ZN3ruy9MulParams36set_multiplier_fixedpoint_perchannelEPKT_">set_multiplier_fixedpoint_perchannel</dfn>(<em>const</em> <a class="typedef" href="#ruy::MulParams::AccumScalar" title='ruy::MulParams::AccumScalar' data-type='tAccumScalar' data-ref="ruy::MulParams::AccumScalar" data-ref-filename="ruy..MulParams..AccumScalar">AccumScalar</a>* <dfn class="local col8 decl" id="5668ptr" title='ptr' data-type='const ruy::MulParams::AccumScalar *' data-ref="5668ptr" data-ref-filename="5668ptr">ptr</dfn>) {</td></tr>
<tr><th id="138">138</th><td>    <a class="member fn" href="#_ZN3ruy9MulParams14set_perchannelEb" title='ruy::MulParams::set_perchannel' data-ref="_ZN3ruy9MulParams14set_perchannelEb" data-ref-filename="_ZN3ruy9MulParams14set_perchannelEb">set_perchannel</a>(<b>true</b>);</td></tr>
<tr><th id="139">139</th><td>    <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.multiplier_fixedpoint_perchannel = <a class="local col8 ref" href="#5668ptr" title='ptr' data-ref="5668ptr" data-ref-filename="5668ptr">ptr</a>;</td></tr>
<tr><th id="140">140</th><td>  }</td></tr>
<tr><th id="141">141</th><td>  <i>// Per-channel variant of multiplier_exponent. Same comments as for</i></td></tr>
<tr><th id="142">142</th><td><i>  // multiplier_fixedpoint_perchannel.</i></td></tr>
<tr><th id="143">143</th><td>  <em>const</em> <em>int</em>* <dfn class="decl def fn" id="_ZNK3ruy9MulParams30multiplier_exponent_perchannelEv" title='ruy::MulParams::multiplier_exponent_perchannel' data-ref="_ZNK3ruy9MulParams30multiplier_exponent_perchannelEv" data-ref-filename="_ZNK3ruy9MulParams30multiplier_exponent_perchannelEv">multiplier_exponent_perchannel</dfn>() <em>const</em> {</td></tr>
<tr><th id="144">144</th><td>    <b>return</b> <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.perchannel ? <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.multiplier_exponent_perchannel</td></tr>
<tr><th id="145">145</th><td>                               : <b>nullptr</b>;</td></tr>
<tr><th id="146">146</th><td>  }</td></tr>
<tr><th id="147">147</th><td>  <em>void</em> <dfn class="decl def fn" id="_ZN3ruy9MulParams34set_multiplier_exponent_perchannelEPKi" title='ruy::MulParams::set_multiplier_exponent_perchannel' data-ref="_ZN3ruy9MulParams34set_multiplier_exponent_perchannelEPKi" data-ref-filename="_ZN3ruy9MulParams34set_multiplier_exponent_perchannelEPKi">set_multiplier_exponent_perchannel</dfn>(<em>const</em> <em>int</em>* <dfn class="local col9 decl" id="5669ptr" title='ptr' data-type='const int *' data-ref="5669ptr" data-ref-filename="5669ptr">ptr</dfn>) {</td></tr>
<tr><th id="148">148</th><td>    <a class="member fn" href="#_ZN3ruy9MulParams14set_perchannelEb" title='ruy::MulParams::set_perchannel' data-ref="_ZN3ruy9MulParams14set_perchannelEb" data-ref-filename="_ZN3ruy9MulParams14set_perchannelEb">set_perchannel</a>(<b>true</b>);</td></tr>
<tr><th id="149">149</th><td>    <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.multiplier_exponent_perchannel = <a class="local col9 ref" href="#5669ptr" title='ptr' data-ref="5669ptr" data-ref-filename="5669ptr">ptr</a>;</td></tr>
<tr><th id="150">150</th><td>  }</td></tr>
<tr><th id="151">151</th><td>  <i>// min clamp bound of destination values.</i></td></tr>
<tr><th id="152">152</th><td>  <a class="typedef" href="#ruy::MulParams::DstScalar" title='ruy::MulParams::DstScalar' data-type='tDstScalar' data-ref="ruy::MulParams::DstScalar" data-ref-filename="ruy..MulParams..DstScalar">DstScalar</a> <dfn class="decl def fn" id="_ZNK3ruy9MulParams9clamp_minEv" title='ruy::MulParams::clamp_min' data-ref="_ZNK3ruy9MulParams9clamp_minEv" data-ref-filename="_ZNK3ruy9MulParams9clamp_minEv">clamp_min</dfn>() <em>const</em> { <b>return</b> <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.clamp_min; }</td></tr>
<tr><th id="153">153</th><td>  <em>void</em> <dfn class="decl def fn" id="_ZN3ruy9MulParams13set_clamp_minET0_" title='ruy::MulParams::set_clamp_min' data-ref="_ZN3ruy9MulParams13set_clamp_minET0_" data-ref-filename="_ZN3ruy9MulParams13set_clamp_minET0_">set_clamp_min</dfn>(<em>const</em> <a class="typedef" href="#ruy::MulParams::DstScalar" title='ruy::MulParams::DstScalar' data-type='tDstScalar' data-ref="ruy::MulParams::DstScalar" data-ref-filename="ruy..MulParams..DstScalar">DstScalar</a> <dfn class="local col0 decl" id="5670value" title='value' data-type='const ruy::MulParams::DstScalar' data-ref="5670value" data-ref-filename="5670value">value</dfn>) { <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.clamp_min = <a class="local col0 ref" href="#5670value" title='value' data-ref="5670value" data-ref-filename="5670value">value</a>; }</td></tr>
<tr><th id="154">154</th><td>  <i>// max clamp bound of destination values.</i></td></tr>
<tr><th id="155">155</th><td>  <a class="typedef" href="#ruy::MulParams::DstScalar" title='ruy::MulParams::DstScalar' data-type='tDstScalar' data-ref="ruy::MulParams::DstScalar" data-ref-filename="ruy..MulParams..DstScalar">DstScalar</a> <dfn class="decl def fn" id="_ZNK3ruy9MulParams9clamp_maxEv" title='ruy::MulParams::clamp_max' data-ref="_ZNK3ruy9MulParams9clamp_maxEv" data-ref-filename="_ZNK3ruy9MulParams9clamp_maxEv">clamp_max</dfn>() <em>const</em> { <b>return</b> <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.clamp_max; }</td></tr>
<tr><th id="156">156</th><td>  <em>void</em> <dfn class="decl def fn" id="_ZN3ruy9MulParams13set_clamp_maxET0_" title='ruy::MulParams::set_clamp_max' data-ref="_ZN3ruy9MulParams13set_clamp_maxET0_" data-ref-filename="_ZN3ruy9MulParams13set_clamp_maxET0_">set_clamp_max</dfn>(<em>const</em> <a class="typedef" href="#ruy::MulParams::DstScalar" title='ruy::MulParams::DstScalar' data-type='tDstScalar' data-ref="ruy::MulParams::DstScalar" data-ref-filename="ruy..MulParams..DstScalar">DstScalar</a> <dfn class="local col1 decl" id="5671value" title='value' data-type='const ruy::MulParams::DstScalar' data-ref="5671value" data-ref-filename="5671value">value</dfn>) { <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.clamp_max = <a class="local col1 ref" href="#5671value" title='value' data-ref="5671value" data-ref-filename="5671value">value</a>; }</td></tr>
<tr><th id="157">157</th><td>  <i>// Designates which dimension is the 'channels', for per-channel features</i></td></tr>
<tr><th id="158">158</th><td><i>  // such as bias-addition and per-channel quantization multipliers.</i></td></tr>
<tr><th id="159">159</th><td>  <a class="type" href="#ruy::ChannelDimension" title='ruy::ChannelDimension' data-ref="ruy::ChannelDimension" data-ref-filename="ruy..ChannelDimension">ChannelDimension</a> <dfn class="decl def fn" id="_ZNK3ruy9MulParams17channel_dimensionEv" title='ruy::MulParams::channel_dimension' data-ref="_ZNK3ruy9MulParams17channel_dimensionEv" data-ref-filename="_ZNK3ruy9MulParams17channel_dimensionEv">channel_dimension</dfn>() <em>const</em> {</td></tr>
<tr><th id="160">160</th><td>    <b>return</b> <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.channel_dimension;</td></tr>
<tr><th id="161">161</th><td>  }</td></tr>
<tr><th id="162">162</th><td>  <em>void</em> <dfn class="decl def fn" id="_ZN3ruy9MulParams21set_channel_dimensionENS_16ChannelDimensionE" title='ruy::MulParams::set_channel_dimension' data-ref="_ZN3ruy9MulParams21set_channel_dimensionENS_16ChannelDimensionE" data-ref-filename="_ZN3ruy9MulParams21set_channel_dimensionENS_16ChannelDimensionE">set_channel_dimension</dfn>(<a class="type" href="#ruy::ChannelDimension" title='ruy::ChannelDimension' data-ref="ruy::ChannelDimension" data-ref-filename="ruy..ChannelDimension">ChannelDimension</a> <dfn class="local col2 decl" id="5672value" title='value' data-type='ruy::ChannelDimension' data-ref="5672value" data-ref-filename="5672value">value</dfn>) {</td></tr>
<tr><th id="163">163</th><td>    <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.channel_dimension = <a class="local col2 ref" href="#5672value" title='value' data-ref="5672value" data-ref-filename="5672value">value</a>;</td></tr>
<tr><th id="164">164</th><td>  }</td></tr>
<tr><th id="165">165</th><td>  <i>// Specifies the upward rounding of the allocated capacity of per-channel</i></td></tr>
<tr><th id="166">166</th><td><i>  // buffers such as bias vectors and per-channel quantization multipliers.</i></td></tr>
<tr><th id="167">167</th><td><i>  // The unit is matrix entries, not bytes.</i></td></tr>
<tr><th id="168">168</th><td><i>  //</i></td></tr>
<tr><th id="169">169</th><td><i>  // This value must be a power of two.</i></td></tr>
<tr><th id="170">170</th><td><i>  //</i></td></tr>
<tr><th id="171">171</th><td><i>  // The default value, 1, means no upward rounding, meaning that the buffers</i></td></tr>
<tr><th id="172">172</th><td><i>  // are not required to have a capacity greater than the size of the</i></td></tr>
<tr><th id="173">173</th><td><i>  // corresponding matrix dimension, i.e. the number of rows (respectively</i></td></tr>
<tr><th id="174">174</th><td><i>  // columns) of the destination matrix if `channel_dimension()` is kRow</i></td></tr>
<tr><th id="175">175</th><td><i>  // (respectively kCol).</i></td></tr>
<tr><th id="176">176</th><td><i>  //</i></td></tr>
<tr><th id="177">177</th><td><i>  // Higher values allow the implementation to assume that it is OK to access</i></td></tr>
<tr><th id="178">178</th><td><i>  // these buffers a little past this boundary, which is useful in SIMD</i></td></tr>
<tr><th id="179">179</th><td><i>  // optimized kernels. In practice, when this value is lower than what the</i></td></tr>
<tr><th id="180">180</th><td><i>  // kernel requires, ruy has to internally reallocate and copy per-channel</i></td></tr>
<tr><th id="181">181</th><td><i>  // buffers. When this value is high enough, this reallocation and copy is</i></td></tr>
<tr><th id="182">182</th><td><i>  // avoided.</i></td></tr>
<tr><th id="183">183</th><td><i>  //</i></td></tr>
<tr><th id="184">184</th><td><i>  // When a value greater than 1 is specified, the tail region of the buffer</i></td></tr>
<tr><th id="185">185</th><td><i>  // (past the end of the values actually corresponding to channels) is required</i></td></tr>
<tr><th id="186">186</th><td><i>  // to be zero-initialized.</i></td></tr>
<tr><th id="187">187</th><td><i>  //</i></td></tr>
<tr><th id="188">188</th><td><i>  // As of 2020, values as high as 16 may be useful on some CPU architectures</i></td></tr>
<tr><th id="189">189</th><td><i>  // (corresponding to the widest kernels used on any CPU architecture).</i></td></tr>
<tr><th id="190">190</th><td>  <em>int</em> <dfn class="decl def fn" id="_ZNK3ruy9MulParams36perchannel_buffers_capacity_roundingEv" title='ruy::MulParams::perchannel_buffers_capacity_rounding' data-ref="_ZNK3ruy9MulParams36perchannel_buffers_capacity_roundingEv" data-ref-filename="_ZNK3ruy9MulParams36perchannel_buffers_capacity_roundingEv">perchannel_buffers_capacity_rounding</dfn>() <em>const</em> {</td></tr>
<tr><th id="191">191</th><td>    <b>return</b> <var>1</var> &lt;&lt; <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.perchannel_buffers_capacity_rounding_log2;</td></tr>
<tr><th id="192">192</th><td>  }</td></tr>
<tr><th id="193">193</th><td>  <em>void</em> <dfn class="decl def fn" id="_ZN3ruy9MulParams40set_perchannel_buffers_capacity_roundingEi" title='ruy::MulParams::set_perchannel_buffers_capacity_rounding' data-ref="_ZN3ruy9MulParams40set_perchannel_buffers_capacity_roundingEi" data-ref-filename="_ZN3ruy9MulParams40set_perchannel_buffers_capacity_roundingEi">set_perchannel_buffers_capacity_rounding</dfn>(<em>int</em> <dfn class="local col3 decl" id="5673value" title='value' data-type='int' data-ref="5673value" data-ref-filename="5673value">value</dfn>) {</td></tr>
<tr><th id="194">194</th><td>    <i>// Note: pot_log2 asserts (debug-only) that its argument is a power-of-two.</i></td></tr>
<tr><th id="195">195</th><td>    <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.perchannel_buffers_capacity_rounding_log2 = <a class="ref fn" href="size_util.h.html#_ZN3ruy8pot_log2ET_" title='ruy::pot_log2' data-ref="_ZN3ruy8pot_log2ET_" data-ref-filename="_ZN3ruy8pot_log2ET_">pot_log2</a>(<a class="local col3 ref" href="#5673value" title='value' data-ref="5673value" data-ref-filename="5673value">value</a>);</td></tr>
<tr><th id="196">196</th><td>  }</td></tr>
<tr><th id="197">197</th><td></td></tr>
<tr><th id="198">198</th><td> <b>private</b>:</td></tr>
<tr><th id="199">199</th><td>  <span class="namespace">detail::</span><a class="type" href="#ruy::detail::MulParamsStorage" title='ruy::detail::MulParamsStorage' data-ref="ruy::detail::MulParamsStorage" data-ref-filename="ruy..detail..MulParamsStorage">MulParamsStorage</a>&lt;<a class="typedef" href="#ruy::MulParams::AccumScalar" title='ruy::MulParams::AccumScalar' data-type='tAccumScalar' data-ref="ruy::MulParams::AccumScalar" data-ref-filename="ruy..MulParams..AccumScalar">AccumScalar</a>, <a class="typedef" href="#ruy::MulParams::DstScalar" title='ruy::MulParams::DstScalar' data-type='tDstScalar' data-ref="ruy::MulParams::DstScalar" data-ref-filename="ruy..MulParams..DstScalar">DstScalar</a>&gt; <dfn class="decl field" id="ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</dfn>;</td></tr>
<tr><th id="200">200</th><td></td></tr>
<tr><th id="201">201</th><td>  <em>void</em> <dfn class="decl def fn" id="_ZN3ruy9MulParams14set_perchannelEb" title='ruy::MulParams::set_perchannel' data-ref="_ZN3ruy9MulParams14set_perchannelEb" data-ref-filename="_ZN3ruy9MulParams14set_perchannelEb">set_perchannel</dfn>(<em>bool</em> <dfn class="local col4 decl" id="5674perchannel" title='perchannel' data-type='bool' data-ref="5674perchannel" data-ref-filename="5674perchannel">perchannel</dfn>) {</td></tr>
<tr><th id="202">202</th><td>    <b>if</b> (<a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.perchannel == <a class="local col4 ref" href="#5674perchannel" title='perchannel' data-ref="5674perchannel" data-ref-filename="5674perchannel">perchannel</a>) {</td></tr>
<tr><th id="203">203</th><td>      <b>return</b>;</td></tr>
<tr><th id="204">204</th><td>    }</td></tr>
<tr><th id="205">205</th><td>    <b>if</b> (<a class="local col4 ref" href="#5674perchannel" title='perchannel' data-ref="5674perchannel" data-ref-filename="5674perchannel">perchannel</a>) {</td></tr>
<tr><th id="206">206</th><td>      <a class="macro" href="check_macros.h.html#131" title="if (false) ruy::check_macros::CheckImpl&lt;std::equal_to&gt;( &quot;/fast/tmp/halide.git/build-apps/ruy/ruy/mul_params.h&quot;, 206, &quot;RUY_CHECK_EQ&quot;, &quot;storage_.multiplier_fixedpoint&quot;, storage_.multiplier_fixedpoint, &quot;==&quot;, &quot;0&quot;, 0)" data-ref="_M/RUY_DCHECK_EQ">RUY_DCHECK_EQ</a>(<a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.multiplier_fixedpoint, <var>0</var>);</td></tr>
<tr><th id="207">207</th><td>      <a class="macro" href="check_macros.h.html#131" title="if (false) ruy::check_macros::CheckImpl&lt;std::equal_to&gt;( &quot;/fast/tmp/halide.git/build-apps/ruy/ruy/mul_params.h&quot;, 207, &quot;RUY_CHECK_EQ&quot;, &quot;storage_.multiplier_exponent&quot;, storage_.multiplier_exponent, &quot;==&quot;, &quot;0&quot;, 0)" data-ref="_M/RUY_DCHECK_EQ">RUY_DCHECK_EQ</a>(<a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.multiplier_exponent, <var>0</var>);</td></tr>
<tr><th id="208">208</th><td>    } <b>else</b> {</td></tr>
<tr><th id="209">209</th><td>      <a class="macro" href="check_macros.h.html#131" title="if (false) ruy::check_macros::CheckImpl&lt;std::equal_to&gt;( &quot;/fast/tmp/halide.git/build-apps/ruy/ruy/mul_params.h&quot;, 209, &quot;RUY_CHECK_EQ&quot;, &quot;storage_.multiplier_fixedpoint_perchannel&quot;, storage_.multiplier_fixedpoint_perchannel, &quot;==&quot;, &quot;nullptr&quot;, nullptr)" data-ref="_M/RUY_DCHECK_EQ">RUY_DCHECK_EQ</a>(<a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.multiplier_fixedpoint_perchannel, <b>nullptr</b>);</td></tr>
<tr><th id="210">210</th><td>      <a class="macro" href="check_macros.h.html#131" title="if (false) ruy::check_macros::CheckImpl&lt;std::equal_to&gt;( &quot;/fast/tmp/halide.git/build-apps/ruy/ruy/mul_params.h&quot;, 210, &quot;RUY_CHECK_EQ&quot;, &quot;storage_.multiplier_exponent_perchannel&quot;, storage_.multiplier_exponent_perchannel, &quot;==&quot;, &quot;nullptr&quot;, nullptr)" data-ref="_M/RUY_DCHECK_EQ">RUY_DCHECK_EQ</a>(<a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.multiplier_exponent_perchannel, <b>nullptr</b>);</td></tr>
<tr><th id="211">211</th><td>    }</td></tr>
<tr><th id="212">212</th><td>    <a class="member field" href="#ruy::MulParams::storage_" title='ruy::MulParams::storage_' data-ref="ruy::MulParams::storage_" data-ref-filename="ruy..MulParams..storage_">storage_</a>.perchannel = <a class="local col4 ref" href="#5674perchannel" title='perchannel' data-ref="5674perchannel" data-ref-filename="5674perchannel">perchannel</a>;</td></tr>
<tr><th id="213">213</th><td>  }</td></tr>
<tr><th id="214">214</th><td>};</td></tr>
<tr><th id="215">215</th><td></td></tr>
<tr><th id="216">216</th><td><b>namespace</b> <span class="namespace">detail</span> {</td></tr>
<tr><th id="217">217</th><td></td></tr>
<tr><th id="218">218</th><td><i>// Floating-point case.</i></td></tr>
<tr><th id="219">219</th><td><b>template</b> &lt;<b>typename</b> AccumScalar, <b>typename</b> DstScalar&gt;</td></tr>
<tr><th id="220">220</th><td><b>struct</b> <dfn class="type def" id="ruy::detail::MulParamsStorage" title='ruy::detail::MulParamsStorage' data-ref="ruy::detail::MulParamsStorage" data-ref-filename="ruy..detail..MulParamsStorage">MulParamsStorage</dfn> final {</td></tr>
<tr><th id="221">221</th><td>  <b>static_assert</b>(<span class="namespace">std::</span><span class='type' title='std::is_floating_point' data-ref="std::is_floating_point" data-ref-filename="std..is_floating_point">is_floating_point</span>&lt;AccumScalar&gt;::value, <q>""</q>);</td></tr>
<tr><th id="222">222</th><td>  <b>static_assert</b>(<span class="namespace">std::</span><span class='type' title='std::is_floating_point' data-ref="std::is_floating_point" data-ref-filename="std..is_floating_point">is_floating_point</span>&lt;DstScalar&gt;::value, <q>""</q>);</td></tr>
<tr><th id="223">223</th><td>  <b>static_assert</b>(<b>sizeof</b>(DstScalar) &lt;= <b>sizeof</b>(AccumScalar), <q>""</q>);</td></tr>
<tr><th id="224">224</th><td></td></tr>
<tr><th id="225">225</th><td>  <em>const</em> AccumScalar* <dfn class="decl field" id="ruy::detail::MulParamsStorage::bias" title='ruy::detail::MulParamsStorage::bias' data-ref="ruy::detail::MulParamsStorage::bias" data-ref-filename="ruy..detail..MulParamsStorage..bias">bias</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="226">226</th><td>  DstScalar <dfn class="decl field" id="ruy::detail::MulParamsStorage::clamp_min" title='ruy::detail::MulParamsStorage::clamp_min' data-ref="ruy::detail::MulParamsStorage::clamp_min" data-ref-filename="ruy..detail..MulParamsStorage..clamp_min">clamp_min</dfn> = -<span class="namespace">std::</span><span class='type' title='std::numeric_limits' data-ref="std::numeric_limits" data-ref-filename="std..numeric_limits">numeric_limits</span>&lt;DstScalar&gt;::infinity();</td></tr>
<tr><th id="227">227</th><td>  DstScalar <dfn class="decl field" id="ruy::detail::MulParamsStorage::clamp_max" title='ruy::detail::MulParamsStorage::clamp_max' data-ref="ruy::detail::MulParamsStorage::clamp_max" data-ref-filename="ruy..detail..MulParamsStorage..clamp_max">clamp_max</dfn> = <span class="namespace">std::</span><span class='type' title='std::numeric_limits' data-ref="std::numeric_limits" data-ref-filename="std..numeric_limits">numeric_limits</span>&lt;DstScalar&gt;::infinity();</td></tr>
<tr><th id="228">228</th><td>  <a class="type" href="#ruy::ChannelDimension" title='ruy::ChannelDimension' data-ref="ruy::ChannelDimension" data-ref-filename="ruy..ChannelDimension">ChannelDimension</a> <dfn class="decl field" id="ruy::detail::MulParamsStorage::channel_dimension" title='ruy::detail::MulParamsStorage::channel_dimension' data-ref="ruy::detail::MulParamsStorage::channel_dimension" data-ref-filename="ruy..detail..MulParamsStorage..channel_dimension">channel_dimension</dfn> = <a class="type" href="#ruy::ChannelDimension" title='ruy::ChannelDimension' data-ref="ruy::ChannelDimension" data-ref-filename="ruy..ChannelDimension">ChannelDimension</a>::<a class="enum" href="#ruy::ChannelDimension::kRow" title='ruy::ChannelDimension::kRow' data-ref="ruy::ChannelDimension::kRow" data-ref-filename="ruy..ChannelDimension..kRow">kRow</a>;</td></tr>
<tr><th id="229">229</th><td>  <span class="namespace">std::</span><a class="typedef" href="../../../../include/bits/stdint-intn.h.html#int8_t" title='int8_t' data-type='__int8_t' data-ref="int8_t" data-ref-filename="int8_t">int8_t</a> <dfn class="decl field" id="ruy::detail::MulParamsStorage::perchannel_buffers_capacity_rounding_log2" title='ruy::detail::MulParamsStorage::perchannel_buffers_capacity_rounding_log2' data-ref="ruy::detail::MulParamsStorage::perchannel_buffers_capacity_rounding_log2" data-ref-filename="ruy..detail..MulParamsStorage..perchannel_buffers_capacity_rounding_log2">perchannel_buffers_capacity_rounding_log2</dfn> = <var>0</var>;</td></tr>
<tr><th id="230">230</th><td></td></tr>
<tr><th id="231">231</th><td>  <i>// Data members that are disabled in this case are left as `static constexpr`</i></td></tr>
<tr><th id="232">232</th><td><i>  // so that one can write some generic code.</i></td></tr>
<tr><th id="233">233</th><td>  <em>static</em> <b>constexpr</b> <em>const</em> AccumScalar* <dfn class="decl" id="ruy::detail::MulParamsStorage::multiplier_fixedpoint_perchannel" title='ruy::detail::MulParamsStorage::multiplier_fixedpoint_perchannel' data-ref="ruy::detail::MulParamsStorage::multiplier_fixedpoint_perchannel" data-ref-filename="ruy..detail..MulParamsStorage..multiplier_fixedpoint_perchannel">multiplier_fixedpoint_perchannel</dfn> =</td></tr>
<tr><th id="234">234</th><td>      <b>nullptr</b>;</td></tr>
<tr><th id="235">235</th><td>  <em>static</em> <b>constexpr</b> <em>const</em> <em>int</em>* <dfn class="decl" id="ruy::detail::MulParamsStorage::multiplier_exponent_perchannel" title='ruy::detail::MulParamsStorage::multiplier_exponent_perchannel' data-ref="ruy::detail::MulParamsStorage::multiplier_exponent_perchannel" data-ref-filename="ruy..detail..MulParamsStorage..multiplier_exponent_perchannel">multiplier_exponent_perchannel</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="236">236</th><td>  <em>static</em> <b>constexpr</b> AccumScalar <dfn class="decl" id="ruy::detail::MulParamsStorage::multiplier_fixedpoint" title='ruy::detail::MulParamsStorage::multiplier_fixedpoint' data-ref="ruy::detail::MulParamsStorage::multiplier_fixedpoint" data-ref-filename="ruy..detail..MulParamsStorage..multiplier_fixedpoint">multiplier_fixedpoint</dfn> = <var>0</var>;</td></tr>
<tr><th id="237">237</th><td>  <em>static</em> <b>constexpr</b> <em>int</em> <dfn class="decl" id="ruy::detail::MulParamsStorage::multiplier_exponent" title='ruy::detail::MulParamsStorage::multiplier_exponent' data-ref="ruy::detail::MulParamsStorage::multiplier_exponent" data-ref-filename="ruy..detail..MulParamsStorage..multiplier_exponent">multiplier_exponent</dfn> = <var>0</var>;</td></tr>
<tr><th id="238">238</th><td>  <em>static</em> <b>constexpr</b> <em>bool</em> <dfn class="decl" id="ruy::detail::MulParamsStorage::perchannel" title='ruy::detail::MulParamsStorage::perchannel' data-ref="ruy::detail::MulParamsStorage::perchannel" data-ref-filename="ruy..detail..MulParamsStorage..perchannel">perchannel</dfn> = <b>false</b>;</td></tr>
<tr><th id="239">239</th><td>};</td></tr>
<tr><th id="240">240</th><td></td></tr>
<tr><th id="241">241</th><td><i>// Specialization for the integer-quantized type, with down-quantization of</i></td></tr>
<tr><th id="242">242</th><td><i>// int32 accumulators to a narrower destination scalar type.</i></td></tr>
<tr><th id="243">243</th><td><b>template</b> &lt;<b>typename</b> DstScalar&gt;</td></tr>
<tr><th id="244">244</th><td><b>struct</b> <dfn class="type def" id="ruy::detail::MulParamsStorage" title='ruy::detail::MulParamsStorage' data-ref="ruy::detail::MulParamsStorage" data-ref-filename="ruy..detail..MulParamsStorage">MulParamsStorage</dfn>&lt;<span class="namespace">std::</span><a class="typedef" href="../../../../include/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a>, DstScalar&gt; final {</td></tr>
<tr><th id="245">245</th><td>  <b>using</b> <dfn class="typedef" id="ruy::detail::MulParamsStorage{int,type-parameter-0-0}::AccumScalar" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::AccumScalar' data-type='std::int32_t' data-ref="ruy::detail::MulParamsStorage{int,type-parameter-0-0}::AccumScalar" data-ref-filename="ruy..detail..MulParamsStorage{int,type-parameter-0-0}..AccumScalar">AccumScalar</dfn> = <span class="namespace">std::</span><a class="typedef" href="../../../../include/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a>;</td></tr>
<tr><th id="246">246</th><td>  <b>static_assert</b>(<span class="namespace">std::</span><span class='type' title='std::is_integral' data-ref="std::is_integral" data-ref-filename="std..is_integral">is_integral</span>&lt;DstScalar&gt;::value, <q>""</q>);</td></tr>
<tr><th id="247">247</th><td>  <b>static_assert</b>(<b>sizeof</b>(DstScalar) &lt; <b>sizeof</b>(<a class="typedef" href="#ruy::detail::MulParamsStorage{int,type-parameter-0-0}::AccumScalar" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::AccumScalar' data-type='std::int32_t' data-ref="ruy::detail::MulParamsStorage{int,type-parameter-0-0}::AccumScalar" data-ref-filename="ruy..detail..MulParamsStorage{int,type-parameter-0-0}..AccumScalar">AccumScalar</a>), <q>""</q>);</td></tr>
<tr><th id="248">248</th><td></td></tr>
<tr><th id="249">249</th><td>  <em>const</em> <a class="typedef" href="#ruy::detail::MulParamsStorage{int,type-parameter-0-0}::AccumScalar" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::AccumScalar' data-type='std::int32_t' data-ref="ruy::detail::MulParamsStorage{int,type-parameter-0-0}::AccumScalar" data-ref-filename="ruy..detail..MulParamsStorage{int,type-parameter-0-0}..AccumScalar">AccumScalar</a>* <dfn class="decl field" id="ruy::detail::MulParamsStorage::bias" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::bias' data-ref="ruy::detail::MulParamsStorage::bias" data-ref-filename="ruy..detail..MulParamsStorage..bias">bias</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="250">250</th><td>  <i>// union {  // This used to be a union, temporarily flattened to debug a crash</i></td></tr>
<tr><th id="251">251</th><td>  <em>const</em> <a class="typedef" href="#ruy::detail::MulParamsStorage{int,type-parameter-0-0}::AccumScalar" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::AccumScalar' data-type='std::int32_t' data-ref="ruy::detail::MulParamsStorage{int,type-parameter-0-0}::AccumScalar" data-ref-filename="ruy..detail..MulParamsStorage{int,type-parameter-0-0}..AccumScalar">AccumScalar</a>* <dfn class="decl field" id="ruy::detail::MulParamsStorage::multiplier_fixedpoint_perchannel" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::multiplier_fixedpoint_perchannel' data-ref="ruy::detail::MulParamsStorage::multiplier_fixedpoint_perchannel" data-ref-filename="ruy..detail..MulParamsStorage..multiplier_fixedpoint_perchannel">multiplier_fixedpoint_perchannel</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="252">252</th><td>  <i>// Let the default multiplier be effecively a multiplication by 1, so that</i></td></tr>
<tr><th id="253">253</th><td><i>  // the matmul behaves as a (saturating) plain integer matmul. Unfortunately</i></td></tr>
<tr><th id="254">254</th><td><i>  // 1 is not exactly representable in fixedpoint with 0 integer bits, but</i></td></tr>
<tr><th id="255">255</th><td><i>  // using the highest representable value is a sufficiently good</i></td></tr>
<tr><th id="256">256</th><td><i>  // approximation: since this specialization of MulParams is for the case</i></td></tr>
<tr><th id="257">257</th><td><i>  // where DstScalar is at least 2x narrower than MulScalar, the values</i></td></tr>
<tr><th id="258">258</th><td><i>  // for which there would be a difference will get saturated anyway.</i></td></tr>
<tr><th id="259">259</th><td>  <a class="typedef" href="#ruy::detail::MulParamsStorage{int,type-parameter-0-0}::AccumScalar" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::AccumScalar' data-type='std::int32_t' data-ref="ruy::detail::MulParamsStorage{int,type-parameter-0-0}::AccumScalar" data-ref-filename="ruy..detail..MulParamsStorage{int,type-parameter-0-0}..AccumScalar">AccumScalar</a> <dfn class="decl field" id="ruy::detail::MulParamsStorage::multiplier_fixedpoint" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::multiplier_fixedpoint' data-ref="ruy::detail::MulParamsStorage::multiplier_fixedpoint" data-ref-filename="ruy..detail..MulParamsStorage..multiplier_fixedpoint">multiplier_fixedpoint</dfn> = <var>0</var>;</td></tr>
<tr><th id="260">260</th><td>  <i>//};</i></td></tr>
<tr><th id="261">261</th><td><i>  // union {  // This used to be a union, temporarily flattened to debug a crash</i></td></tr>
<tr><th id="262">262</th><td>  <em>const</em> <em>int</em>* <dfn class="decl field" id="ruy::detail::MulParamsStorage::multiplier_exponent_perchannel" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::multiplier_exponent_perchannel' data-ref="ruy::detail::MulParamsStorage::multiplier_exponent_perchannel" data-ref-filename="ruy..detail..MulParamsStorage..multiplier_exponent_perchannel">multiplier_exponent_perchannel</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="263">263</th><td>  <i>// See the above comment about the default value of multiplier_fixedpoint.</i></td></tr>
<tr><th id="264">264</th><td>  <em>int</em> <dfn class="decl field" id="ruy::detail::MulParamsStorage::multiplier_exponent" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::multiplier_exponent' data-ref="ruy::detail::MulParamsStorage::multiplier_exponent" data-ref-filename="ruy..detail..MulParamsStorage..multiplier_exponent">multiplier_exponent</dfn> = <var>0</var>;</td></tr>
<tr><th id="265">265</th><td>  <i>// };</i></td></tr>
<tr><th id="266">266</th><td>  DstScalar <dfn class="decl field" id="ruy::detail::MulParamsStorage::clamp_min" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::clamp_min' data-ref="ruy::detail::MulParamsStorage::clamp_min" data-ref-filename="ruy..detail..MulParamsStorage..clamp_min">clamp_min</dfn> = <span class="namespace">std::</span><span class='type' title='std::numeric_limits' data-ref="std::numeric_limits" data-ref-filename="std..numeric_limits">numeric_limits</span>&lt;DstScalar&gt;::lowest();</td></tr>
<tr><th id="267">267</th><td>  DstScalar <dfn class="decl field" id="ruy::detail::MulParamsStorage::clamp_max" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::clamp_max' data-ref="ruy::detail::MulParamsStorage::clamp_max" data-ref-filename="ruy..detail..MulParamsStorage..clamp_max">clamp_max</dfn> = <span class="namespace">std::</span><span class='type' title='std::numeric_limits' data-ref="std::numeric_limits" data-ref-filename="std..numeric_limits">numeric_limits</span>&lt;DstScalar&gt;::max();</td></tr>
<tr><th id="268">268</th><td>  <a class="type" href="#ruy::ChannelDimension" title='ruy::ChannelDimension' data-ref="ruy::ChannelDimension" data-ref-filename="ruy..ChannelDimension">ChannelDimension</a> <dfn class="decl field" id="ruy::detail::MulParamsStorage::channel_dimension" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::channel_dimension' data-ref="ruy::detail::MulParamsStorage::channel_dimension" data-ref-filename="ruy..detail..MulParamsStorage..channel_dimension">channel_dimension</dfn> = <a class="type" href="#ruy::ChannelDimension" title='ruy::ChannelDimension' data-ref="ruy::ChannelDimension" data-ref-filename="ruy..ChannelDimension">ChannelDimension</a>::<a class="enum" href="#ruy::ChannelDimension::kRow" title='ruy::ChannelDimension::kRow' data-ref="ruy::ChannelDimension::kRow" data-ref-filename="ruy..ChannelDimension..kRow">kRow</a>;</td></tr>
<tr><th id="269">269</th><td>  <em>bool</em> <dfn class="decl field" id="ruy::detail::MulParamsStorage::perchannel" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::perchannel' data-ref="ruy::detail::MulParamsStorage::perchannel" data-ref-filename="ruy..detail..MulParamsStorage..perchannel">perchannel</dfn> = <b>false</b>;</td></tr>
<tr><th id="270">270</th><td>  <span class="namespace">std::</span><a class="typedef" href="../../../../include/bits/stdint-intn.h.html#int8_t" title='int8_t' data-type='__int8_t' data-ref="int8_t" data-ref-filename="int8_t">int8_t</a> <dfn class="decl field" id="ruy::detail::MulParamsStorage::perchannel_buffers_capacity_rounding_log2" title='ruy::detail::MulParamsStorage&lt;int, type-parameter-0-0&gt;::perchannel_buffers_capacity_rounding_log2' data-ref="ruy::detail::MulParamsStorage::perchannel_buffers_capacity_rounding_log2" data-ref-filename="ruy..detail..MulParamsStorage..perchannel_buffers_capacity_rounding_log2">perchannel_buffers_capacity_rounding_log2</dfn> = <var>0</var>;</td></tr>
<tr><th id="271">271</th><td>};</td></tr>
<tr><th id="272">272</th><td></td></tr>
<tr><th id="273">273</th><td><i>// Specialization used in the integer case when outputting raw int32</i></td></tr>
<tr><th id="274">274</th><td><i>// accumulators, without down-quantization to a narrower destination scalar</i></td></tr>
<tr><th id="275">275</th><td><i>// type. In this case, the feature of clamping destination values is not</i></td></tr>
<tr><th id="276">276</th><td><i>// available.</i></td></tr>
<tr><th id="277">277</th><td><b>template</b> &lt;&gt;</td></tr>
<tr><th id="278">278</th><td><b>struct</b> <dfn class="type def" id="ruy::detail::MulParamsStorage" title='ruy::detail::MulParamsStorage' data-ref="ruy::detail::MulParamsStorage" data-ref-filename="ruy..detail..MulParamsStorage"><a class="type" href="#ruy::detail::MulParamsStorage" title='ruy::detail::MulParamsStorage' data-ref="ruy::detail::MulParamsStorage" data-ref-filename="ruy..detail..MulParamsStorage">MulParamsStorage</a></dfn>&lt;<span class="namespace">std::</span><a class="typedef" href="../../../../include/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a>, <span class="namespace">std::</span><a class="typedef" href="../../../../include/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a>&gt; final {</td></tr>
<tr><th id="279">279</th><td>  <b>using</b> <dfn class="typedef" id="ruy::detail::MulParamsStorage{int,int}::AccumScalar" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::AccumScalar' data-type='std::int32_t' data-ref="ruy::detail::MulParamsStorage{int,int}::AccumScalar" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..AccumScalar">AccumScalar</dfn> = <span class="namespace">std::</span><a class="typedef" href="../../../../include/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a>;</td></tr>
<tr><th id="280">280</th><td>  <b>using</b> <dfn class="typedef" id="ruy::detail::MulParamsStorage{int,int}::DstScalar" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::DstScalar' data-type='std::int32_t' data-ref="ruy::detail::MulParamsStorage{int,int}::DstScalar" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..DstScalar">DstScalar</dfn> = <span class="namespace">std::</span><a class="typedef" href="../../../../include/bits/stdint-intn.h.html#int32_t" title='int32_t' data-type='__int32_t' data-ref="int32_t" data-ref-filename="int32_t">int32_t</a>;</td></tr>
<tr><th id="281">281</th><td></td></tr>
<tr><th id="282">282</th><td>  <em>const</em> <a class="typedef" href="#ruy::detail::MulParamsStorage{int,int}::AccumScalar" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::AccumScalar' data-type='std::int32_t' data-ref="ruy::detail::MulParamsStorage{int,int}::AccumScalar" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..AccumScalar">AccumScalar</a>* <dfn class="decl field" id="ruy::detail::MulParamsStorage::bias" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::bias' data-ref="ruy::detail::MulParamsStorage::bias" data-ref-filename="ruy..detail..MulParamsStorage..bias">bias</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="283">283</th><td>  <a class="type" href="#ruy::ChannelDimension" title='ruy::ChannelDimension' data-ref="ruy::ChannelDimension" data-ref-filename="ruy..ChannelDimension">ChannelDimension</a> <dfn class="decl field" id="ruy::detail::MulParamsStorage::channel_dimension" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::channel_dimension' data-ref="ruy::detail::MulParamsStorage::channel_dimension" data-ref-filename="ruy..detail..MulParamsStorage..channel_dimension">channel_dimension</dfn> = <a class="type" href="#ruy::ChannelDimension" title='ruy::ChannelDimension' data-ref="ruy::ChannelDimension" data-ref-filename="ruy..ChannelDimension">ChannelDimension</a>::<a class="enum" href="#ruy::ChannelDimension::kRow" title='ruy::ChannelDimension::kRow' data-ref="ruy::ChannelDimension::kRow" data-ref-filename="ruy..ChannelDimension..kRow">kRow</a>;</td></tr>
<tr><th id="284">284</th><td>  <span class="namespace">std::</span><a class="typedef" href="../../../../include/bits/stdint-intn.h.html#int8_t" title='int8_t' data-type='__int8_t' data-ref="int8_t" data-ref-filename="int8_t">int8_t</a> <dfn class="decl field" id="ruy::detail::MulParamsStorage::perchannel_buffers_capacity_rounding_log2" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::perchannel_buffers_capacity_rounding_log2' data-ref="ruy::detail::MulParamsStorage::perchannel_buffers_capacity_rounding_log2" data-ref-filename="ruy..detail..MulParamsStorage..perchannel_buffers_capacity_rounding_log2">perchannel_buffers_capacity_rounding_log2</dfn> = <var>0</var>;</td></tr>
<tr><th id="285">285</th><td></td></tr>
<tr><th id="286">286</th><td>  <i>// Data members that are disabled in this case are left as `static constexpr`</i></td></tr>
<tr><th id="287">287</th><td><i>  // so that one can write some generic code.</i></td></tr>
<tr><th id="288">288</th><td>  <em>static</em> <b>constexpr</b> <em>const</em> <a class="typedef" href="#ruy::detail::MulParamsStorage{int,int}::AccumScalar" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::AccumScalar' data-type='std::int32_t' data-ref="ruy::detail::MulParamsStorage{int,int}::AccumScalar" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..AccumScalar">AccumScalar</a>* <dfn class="decl" id="ruy::detail::MulParamsStorage{int,int}::multiplier_fixedpoint_perchannel" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::multiplier_fixedpoint_perchannel' data-ref="ruy::detail::MulParamsStorage{int,int}::multiplier_fixedpoint_perchannel" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..multiplier_fixedpoint_perchannel">multiplier_fixedpoint_perchannel</dfn> =</td></tr>
<tr><th id="289">289</th><td>      <b>nullptr</b>;</td></tr>
<tr><th id="290">290</th><td>  <em>static</em> <b>constexpr</b> <em>const</em> <em>int</em>* <dfn class="decl" id="ruy::detail::MulParamsStorage{int,int}::multiplier_exponent_perchannel" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::multiplier_exponent_perchannel' data-ref="ruy::detail::MulParamsStorage{int,int}::multiplier_exponent_perchannel" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..multiplier_exponent_perchannel">multiplier_exponent_perchannel</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="291">291</th><td>  <em>static</em> <b>constexpr</b> <a class="typedef" href="#ruy::detail::MulParamsStorage{int,int}::AccumScalar" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::AccumScalar' data-type='std::int32_t' data-ref="ruy::detail::MulParamsStorage{int,int}::AccumScalar" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..AccumScalar">AccumScalar</a> <dfn class="decl" id="ruy::detail::MulParamsStorage{int,int}::multiplier_fixedpoint" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::multiplier_fixedpoint' data-ref="ruy::detail::MulParamsStorage{int,int}::multiplier_fixedpoint" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..multiplier_fixedpoint">multiplier_fixedpoint</dfn> = <var>0</var>;</td></tr>
<tr><th id="292">292</th><td>  <em>static</em> <b>constexpr</b> <em>int</em> <dfn class="decl" id="ruy::detail::MulParamsStorage{int,int}::multiplier_exponent" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::multiplier_exponent' data-ref="ruy::detail::MulParamsStorage{int,int}::multiplier_exponent" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..multiplier_exponent">multiplier_exponent</dfn> = <var>0</var>;</td></tr>
<tr><th id="293">293</th><td>  <em>static</em> <b>constexpr</b> <a class="typedef" href="#ruy::detail::MulParamsStorage{int,int}::DstScalar" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::DstScalar' data-type='std::int32_t' data-ref="ruy::detail::MulParamsStorage{int,int}::DstScalar" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..DstScalar">DstScalar</a> <dfn class="decl" id="ruy::detail::MulParamsStorage{int,int}::clamp_min" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::clamp_min' data-ref="ruy::detail::MulParamsStorage{int,int}::clamp_min" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..clamp_min">clamp_min</dfn> =</td></tr>
<tr><th id="294">294</th><td>      <span class="namespace">std::</span><span class='type' title='std::numeric_limits' data-ref="std::numeric_limits" data-ref-filename="std..numeric_limits">numeric_limits</span>&lt;<a class="typedef" href="#ruy::detail::MulParamsStorage{int,int}::DstScalar" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::DstScalar' data-type='std::int32_t' data-ref="ruy::detail::MulParamsStorage{int,int}::DstScalar" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..DstScalar">DstScalar</a>&gt;::<span class='ref fn' title='std::numeric_limits&lt;int&gt;::lowest' data-ref="_ZNSt14numeric_limitsIiE6lowestEv" data-ref-filename="_ZNSt14numeric_limitsIiE6lowestEv">lowest</span>();</td></tr>
<tr><th id="295">295</th><td>  <em>static</em> <b>constexpr</b> <a class="typedef" href="#ruy::detail::MulParamsStorage{int,int}::DstScalar" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::DstScalar' data-type='std::int32_t' data-ref="ruy::detail::MulParamsStorage{int,int}::DstScalar" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..DstScalar">DstScalar</a> <dfn class="decl" id="ruy::detail::MulParamsStorage{int,int}::clamp_max" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::clamp_max' data-ref="ruy::detail::MulParamsStorage{int,int}::clamp_max" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..clamp_max">clamp_max</dfn> = <span class="namespace">std::</span><span class='type' title='std::numeric_limits' data-ref="std::numeric_limits" data-ref-filename="std..numeric_limits">numeric_limits</span>&lt;<a class="typedef" href="#ruy::detail::MulParamsStorage{int,int}::DstScalar" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::DstScalar' data-type='std::int32_t' data-ref="ruy::detail::MulParamsStorage{int,int}::DstScalar" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..DstScalar">DstScalar</a>&gt;::<span class='ref fn' title='std::numeric_limits&lt;int&gt;::max' data-ref="_ZNSt14numeric_limitsIiE3maxEv" data-ref-filename="_ZNSt14numeric_limitsIiE3maxEv">max</span>();</td></tr>
<tr><th id="296">296</th><td>  <em>static</em> <b>constexpr</b> <em>bool</em> <dfn class="decl" id="ruy::detail::MulParamsStorage{int,int}::perchannel" title='ruy::detail::MulParamsStorage&lt;int, int&gt;::perchannel' data-ref="ruy::detail::MulParamsStorage{int,int}::perchannel" data-ref-filename="ruy..detail..MulParamsStorage{int,int}..perchannel">perchannel</dfn> = <b>false</b>;</td></tr>
<tr><th id="297">297</th><td>};</td></tr>
<tr><th id="298">298</th><td></td></tr>
<tr><th id="299">299</th><td>}  <i>// namespace detail</i></td></tr>
<tr><th id="300">300</th><td></td></tr>
<tr><th id="301">301</th><td>}  <i>// namespace ruy</i></td></tr>
<tr><th id="302">302</th><td></td></tr>
<tr><th id="303">303</th><td><u>#<span data-ppcond="16">endif</span>  // RUY_RUY_MUL_PARAMS_H_</u></td></tr>
<tr><th id="304">304</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../_deps/tflite-src/tensorflow/lite/kernels/activations.cc.html'>halide/build-apps/_deps/tflite-src/tensorflow/lite/kernels/activations.cc</a><br/>Generated on <em>2021-Aug-05</em> from project halide revision <em>v12.0.1</em>