<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>class.h source code [halide/build/_deps/pybind11-src/include/pybind11/detail/class.h] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../../../../.././data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../../../../.././data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../../../../.././data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../../../../.././data/jquery/jquery-ui.min.js"></script>
<script>var file = 'halide/build/_deps/pybind11-src/include/pybind11/detail/class.h'; var root_path = '../../../../../../..'; var data_path = '../../../../../../.././data'; var ecma_script_api_version = 2;</script>
<script src='../../../../../../.././data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='../../../../../..'>halide</a>/<a href='../../../../..'>build</a>/<a href='../../../..'>_deps</a>/<a href='../../..'>pybind11-src</a>/<a href='../..'>include</a>/<a href='..'>pybind11</a>/<a href='./'>detail</a>/<a href='class.h.html'>class.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i>    pybind11/detail/class.h: Python C API implementation details for py::class_</i></td></tr>
<tr><th id="3">3</th><td><i></i></td></tr>
<tr><th id="4">4</th><td><i>    Copyright (c) 2017 Wenzel Jakob &lt;wenzel.jakob@epfl.ch&gt;</i></td></tr>
<tr><th id="5">5</th><td><i></i></td></tr>
<tr><th id="6">6</th><td><i>    All rights reserved. Use of this source code is governed by a</i></td></tr>
<tr><th id="7">7</th><td><i>    BSD-style license that can be found in the LICENSE file.</i></td></tr>
<tr><th id="8">8</th><td><i>*/</i></td></tr>
<tr><th id="9">9</th><td></td></tr>
<tr><th id="10">10</th><td><u>#pragma once</u></td></tr>
<tr><th id="11">11</th><td></td></tr>
<tr><th id="12">12</th><td><u>#include <a href="../attr.h.html">"../attr.h"</a></u></td></tr>
<tr><th id="13">13</th><td><u>#include <a href="../options.h.html">"../options.h"</a></u></td></tr>
<tr><th id="14">14</th><td></td></tr>
<tr><th id="15">15</th><td><a class="macro" href="common.h.html#16" title="namespace pybind11 __attribute__((visibility(&quot;hidden&quot;))) {" data-ref="_M/PYBIND11_NAMESPACE_BEGIN">PYBIND11_NAMESPACE_BEGIN</a>(<a class="macro" href="common.h.html#24" title="pybind11 __attribute__((visibility(&quot;hidden&quot;)))" data-ref="_M/PYBIND11_NAMESPACE">PYBIND11_NAMESPACE</a>)</td></tr>
<tr><th id="16">16</th><td><a class="macro" href="common.h.html#16" title="namespace detail {" data-ref="_M/PYBIND11_NAMESPACE_BEGIN">PYBIND11_NAMESPACE_BEGIN</a>(<span class="namespace">detail</span>)</td></tr>
<tr><th id="17">17</th><td></td></tr>
<tr><th id="18">18</th><td><u>#<span data-ppcond="18">if</span> <a class="macro" href="../../../../../../../include/python3.8/patchlevel.h.html#31" title="((3 &lt;&lt; 24) | (8 &lt;&lt; 16) | (5 &lt;&lt; 8) | (0xF &lt;&lt; 4) | (0 &lt;&lt; 0))" data-ref="_M/PY_VERSION_HEX">PY_VERSION_HEX</a> &gt;= 0x03030000 &amp;&amp; !defined(<span class="macro" data-ref="_M/PYPY_VERSION">PYPY_VERSION</span>)</u></td></tr>
<tr><th id="19">19</th><td><u>#  define <dfn class="macro" id="_M/PYBIND11_BUILTIN_QUALNAME" data-ref="_M/PYBIND11_BUILTIN_QUALNAME">PYBIND11_BUILTIN_QUALNAME</dfn></u></td></tr>
<tr><th id="20">20</th><td><u>#  define <dfn class="macro" id="_M/PYBIND11_SET_OLDPY_QUALNAME" data-ref="_M/PYBIND11_SET_OLDPY_QUALNAME">PYBIND11_SET_OLDPY_QUALNAME</dfn>(obj, nameobj)</u></td></tr>
<tr><th id="21">21</th><td><u>#<span data-ppcond="18">else</span></u></td></tr>
<tr><th id="22">22</th><td><i>// In pre-3.3 Python, we still set __qualname__ so that we can produce reliable function type</i></td></tr>
<tr><th id="23">23</th><td><i>// signatures; in 3.3+ this macro expands to nothing:</i></td></tr>
<tr><th id="24">24</th><td><u>#  define PYBIND11_SET_OLDPY_QUALNAME(obj, nameobj) setattr((PyObject *) obj, "__qualname__", nameobj)</u></td></tr>
<tr><th id="25">25</th><td><u>#<span data-ppcond="18">endif</span></u></td></tr>
<tr><th id="26">26</th><td></td></tr>
<tr><th id="27">27</th><td><b>inline</b> <span class="namespace">std::</span><span class='typedef' title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</span> <dfn class="decl def fn" id="_ZN8pybind116detail27get_fully_qualified_tp_nameB5cxx11EP11_typeobject" title='pybind11::detail::get_fully_qualified_tp_name' data-ref="_ZN8pybind116detail27get_fully_qualified_tp_nameB5cxx11EP11_typeobject" data-ref-filename="_ZN8pybind116detail27get_fully_qualified_tp_nameB5cxx11EP11_typeobject">get_fully_qualified_tp_name</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *<dfn class="local col2 decl" id="1132type" title='type' data-type='PyTypeObject *' data-ref="1132type" data-ref-filename="1132type">type</dfn>) {</td></tr>
<tr><th id="28">28</th><td><u>#<span data-ppcond="28">if</span> !defined(<span class="macro" data-ref="_M/PYPY_VERSION">PYPY_VERSION</span>)</u></td></tr>
<tr><th id="29">29</th><td>    <b>return</b> <span class='ref fn fake' title='std::__cxx11::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></span><a class="local col2 ref" href="#1132type" title='type' data-ref="1132type" data-ref-filename="1132type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_name" title='_typeobject::tp_name' data-ref="_typeobject::tp_name" data-ref-filename="_typeobject..tp_name">tp_name</a>;</td></tr>
<tr><th id="30">30</th><td><u>#<span data-ppcond="28">else</span></u></td></tr>
<tr><th id="31">31</th><td>    <em>auto</em> module_name = handle((PyObject *) type).attr(<q>"__module__"</q>).cast&lt;std::string&gt;();</td></tr>
<tr><th id="32">32</th><td>    <b>if</b> (module_name == PYBIND11_BUILTINS_MODULE)</td></tr>
<tr><th id="33">33</th><td>        <b>return</b> type-&gt;tp_name;</td></tr>
<tr><th id="34">34</th><td>    <b>else</b></td></tr>
<tr><th id="35">35</th><td>        <b>return</b> std::move(module_name) + <q>"."</q> + type-&gt;tp_name;</td></tr>
<tr><th id="36">36</th><td><u>#<span data-ppcond="28">endif</span></u></td></tr>
<tr><th id="37">37</th><td>}</td></tr>
<tr><th id="38">38</th><td></td></tr>
<tr><th id="39">39</th><td><b>inline</b> <a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *<dfn class="decl def fn" id="_ZN8pybind116detail11type_increfEP11_typeobject" title='pybind11::detail::type_incref' data-ref="_ZN8pybind116detail11type_increfEP11_typeobject" data-ref-filename="_ZN8pybind116detail11type_increfEP11_typeobject">type_incref</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *<dfn class="local col3 decl" id="1133type" title='type' data-type='PyTypeObject *' data-ref="1133type" data-ref-filename="1133type">type</dfn>) {</td></tr>
<tr><th id="40">40</th><td>    <a class="macro" href="../../../../../../../include/python3.8/object.h.html#462" title="_Py_INCREF(((PyObject*)(type)))" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="local col3 ref" href="#1133type" title='type' data-ref="1133type" data-ref-filename="1133type">type</a>);</td></tr>
<tr><th id="41">41</th><td>    <b>return</b> <a class="local col3 ref" href="#1133type" title='type' data-ref="1133type" data-ref-filename="1133type">type</a>;</td></tr>
<tr><th id="42">42</th><td>}</td></tr>
<tr><th id="43">43</th><td></td></tr>
<tr><th id="44">44</th><td><u>#<span data-ppcond="44">if</span> !defined(<span class="macro" data-ref="_M/PYPY_VERSION">PYPY_VERSION</span>)</u></td></tr>
<tr><th id="45">45</th><td></td></tr>
<tr><th id="46">46</th><td><i class="doc">/// `pybind11_static_property.__get__()`: Always pass the class instead of the instance.</i></td></tr>
<tr><th id="47">47</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="decl def fn" id="pybind11::detail::pybind11_static_get" title='pybind11::detail::pybind11_static_get' data-ref="pybind11::detail::pybind11_static_get" data-ref-filename="pybind11..detail..pybind11_static_get">pybind11_static_get</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col4 decl" id="1134self" title='self' data-type='PyObject *' data-ref="1134self" data-ref-filename="1134self">self</dfn>, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> * <i>/*ob*/</i>, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col5 decl" id="1135cls" title='cls' data-type='PyObject *' data-ref="1135cls" data-ref-filename="1135cls">cls</dfn>) {</td></tr>
<tr><th id="48">48</th><td>    <b>return</b> <a class="ref" href="../../../../../../../include/python3.8/descrobject.h.html#PyProperty_Type" title='PyProperty_Type' data-ref="PyProperty_Type" data-ref-filename="PyProperty_Type">PyProperty_Type</a>.<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_descr_get" title='_typeobject::tp_descr_get' data-ref="_typeobject::tp_descr_get" data-ref-filename="_typeobject..tp_descr_get">tp_descr_get</a>(<a class="local col4 ref" href="#1134self" title='self' data-ref="1134self" data-ref-filename="1134self">self</a>, <a class="local col5 ref" href="#1135cls" title='cls' data-ref="1135cls" data-ref-filename="1135cls">cls</a>, <a class="local col5 ref" href="#1135cls" title='cls' data-ref="1135cls" data-ref-filename="1135cls">cls</a>);</td></tr>
<tr><th id="49">49</th><td>}</td></tr>
<tr><th id="50">50</th><td></td></tr>
<tr><th id="51">51</th><td><i class="doc">/// `pybind11_static_property.__set__()`: Just like the above `__get__()`.</i></td></tr>
<tr><th id="52">52</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <em>int</em> <dfn class="decl def fn" id="pybind11::detail::pybind11_static_set" title='pybind11::detail::pybind11_static_set' data-ref="pybind11::detail::pybind11_static_set" data-ref-filename="pybind11..detail..pybind11_static_set">pybind11_static_set</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col6 decl" id="1136self" title='self' data-type='PyObject *' data-ref="1136self" data-ref-filename="1136self">self</dfn>, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col7 decl" id="1137obj" title='obj' data-type='PyObject *' data-ref="1137obj" data-ref-filename="1137obj">obj</dfn>, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col8 decl" id="1138value" title='value' data-type='PyObject *' data-ref="1138value" data-ref-filename="1138value">value</dfn>) {</td></tr>
<tr><th id="53">53</th><td>    <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col9 decl" id="1139cls" title='cls' data-type='PyObject *' data-ref="1139cls" data-ref-filename="1139cls">cls</dfn> = <a class="macro" href="../../../../../../../include/python3.8/object.h.html#212" title="((((((PyObject*)(obj))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 31))) != 0)" data-ref="_M/PyType_Check">PyType_Check</a>(<a class="local col7 ref" href="#1137obj" title='obj' data-ref="1137obj" data-ref-filename="1137obj">obj</a>) ? <a class="local col7 ref" href="#1137obj" title='obj' data-ref="1137obj" data-ref-filename="1137obj">obj</a> : (<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *) <a class="macro" href="../../../../../../../include/python3.8/object.h.html#122" title="(((PyObject*)(obj))-&gt;ob_type)" data-ref="_M/Py_TYPE">Py_TYPE</a>(<a class="local col7 ref" href="#1137obj" title='obj' data-ref="1137obj" data-ref-filename="1137obj">obj</a>);</td></tr>
<tr><th id="54">54</th><td>    <b>return</b> <a class="ref" href="../../../../../../../include/python3.8/descrobject.h.html#PyProperty_Type" title='PyProperty_Type' data-ref="PyProperty_Type" data-ref-filename="PyProperty_Type">PyProperty_Type</a>.<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_descr_set" title='_typeobject::tp_descr_set' data-ref="_typeobject::tp_descr_set" data-ref-filename="_typeobject..tp_descr_set">tp_descr_set</a>(<a class="local col6 ref" href="#1136self" title='self' data-ref="1136self" data-ref-filename="1136self">self</a>, <a class="local col9 ref" href="#1139cls" title='cls' data-ref="1139cls" data-ref-filename="1139cls">cls</a>, <a class="local col8 ref" href="#1138value" title='value' data-ref="1138value" data-ref-filename="1138value">value</a>);</td></tr>
<tr><th id="55">55</th><td>}</td></tr>
<tr><th id="56">56</th><td></td></tr>
<tr><th id="57">57</th><td><i class="doc">/** A `static_property` is the same as a `property` but the `__get__()` and `__set__()`</i></td></tr>
<tr><th id="58">58</th><td><i class="doc">    methods are modified to always use the object type instead of a concrete instance.</i></td></tr>
<tr><th id="59">59</th><td><i class="doc">    Return value: New reference. */</i></td></tr>
<tr><th id="60">60</th><td><b>inline</b> <a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *<dfn class="decl def fn" id="_ZN8pybind116detail25make_static_property_typeEv" title='pybind11::detail::make_static_property_type' data-ref="_ZN8pybind116detail25make_static_property_typeEv" data-ref-filename="_ZN8pybind116detail25make_static_property_typeEv">make_static_property_type</dfn>() {</td></tr>
<tr><th id="61">61</th><td>    <b>constexpr</b> <em>auto</em> *<dfn class="local col0 decl" id="1140name" title='name' data-type='const char *const' data-ref="1140name" data-ref-filename="1140name">name</dfn> = <q>"pybind11_static_property"</q>;</td></tr>
<tr><th id="62">62</th><td>    <em>auto</em> <dfn class="local col1 decl" id="1141name_obj" title='name_obj' data-type='pybind11::object' data-ref="1141name_obj" data-ref-filename="1141name_obj">name_obj</dfn> = <a class="ref fn" href="../pytypes.h.html#_ZN8pybind1117reinterpret_stealENS_6handleE" title='pybind11::reinterpret_steal' data-ref="_ZN8pybind1117reinterpret_stealENS_6handleE" data-ref-filename="_ZN8pybind1117reinterpret_stealENS_6handleE">reinterpret_steal</a>&lt;<a class="type" href="../pytypes.h.html#pybind11::object" title='pybind11::object' data-ref="pybind11::object" data-ref-filename="pybind11..object">object</a>&gt;(<a class="macro" href="common.h.html#183" title="PyUnicode_FromString" data-ref="_M/PYBIND11_FROM_STRING">PYBIND11_FROM_STRING</a>(<a class="local col0 ref" href="#1140name" title='name' data-ref="1140name" data-ref-filename="1140name">name</a>));</td></tr>
<tr><th id="63">63</th><td></td></tr>
<tr><th id="64">64</th><td>    <i>/* Danger zone: from now (and until PyType_Ready), make sure to</i></td></tr>
<tr><th id="65">65</th><td><i>       issue no Python C API calls which could potentially invoke the</i></td></tr>
<tr><th id="66">66</th><td><i>       garbage collector (the GC will call type_traverse(), which will in</i></td></tr>
<tr><th id="67">67</th><td><i>       turn find the newly constructed type in an invalid state) */</i></td></tr>
<tr><th id="68">68</th><td>    <em>auto</em> <dfn class="local col2 decl" id="1142heap_type" title='heap_type' data-type='_heaptypeobject *' data-ref="1142heap_type" data-ref-filename="1142heap_type">heap_type</dfn> = (<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyHeapTypeObject" title='PyHeapTypeObject' data-type='struct _heaptypeobject' data-ref="PyHeapTypeObject" data-ref-filename="PyHeapTypeObject">PyHeapTypeObject</a> *) <a class="ref" href="../../../../../../../include/python3.8/object.h.html#PyType_Type" title='PyType_Type' data-ref="PyType_Type" data-ref-filename="PyType_Type">PyType_Type</a>.<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_alloc" title='_typeobject::tp_alloc' data-ref="_typeobject::tp_alloc" data-ref-filename="_typeobject..tp_alloc">tp_alloc</a>(&amp;<a class="ref" href="../../../../../../../include/python3.8/object.h.html#PyType_Type" title='PyType_Type' data-ref="PyType_Type" data-ref-filename="PyType_Type">PyType_Type</a>, <var>0</var>);</td></tr>
<tr><th id="69">69</th><td>    <b>if</b> (!<a class="local col2 ref" href="#1142heap_type" title='heap_type' data-ref="1142heap_type" data-ref-filename="1142heap_type">heap_type</a>)</td></tr>
<tr><th id="70">70</th><td>        <a class="ref fn" href="common.h.html#_ZN8pybind1113pybind11_failEPKc" title='pybind11::pybind11_fail' data-ref="_ZN8pybind1113pybind11_failEPKc" data-ref-filename="_ZN8pybind1113pybind11_failEPKc">pybind11_fail</a>(<q>"make_static_property_type(): error allocating type!"</q>);</td></tr>
<tr><th id="71">71</th><td></td></tr>
<tr><th id="72">72</th><td>    <a class="local col2 ref" href="#1142heap_type" title='heap_type' data-ref="1142heap_type" data-ref-filename="1142heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::ht_name" title='_heaptypeobject::ht_name' data-ref="_heaptypeobject::ht_name" data-ref-filename="_heaptypeobject..ht_name">ht_name</a> = <a class="local col1 ref" href="#1141name_obj" title='name_obj' data-ref="1141name_obj" data-ref-filename="1141name_obj">name_obj</a>.<a class="ref fn" href="../pytypes.h.html#_ZNKR8pybind116handle7inc_refEv" title='pybind11::handle::inc_ref' data-ref="_ZNKR8pybind116handle7inc_refEv" data-ref-filename="_ZNKR8pybind116handle7inc_refEv">inc_ref</a>().<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZNK8pybind116handle3ptrEv" data-ref-filename="_ZNK8pybind116handle3ptrEv">ptr</a>();</td></tr>
<tr><th id="73">73</th><td><u>#<span data-ppcond="73">ifdef</span> <a class="macro" href="#19" data-ref="_M/PYBIND11_BUILTIN_QUALNAME">PYBIND11_BUILTIN_QUALNAME</a></u></td></tr>
<tr><th id="74">74</th><td>    <a class="local col2 ref" href="#1142heap_type" title='heap_type' data-ref="1142heap_type" data-ref-filename="1142heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::ht_qualname" title='_heaptypeobject::ht_qualname' data-ref="_heaptypeobject::ht_qualname" data-ref-filename="_heaptypeobject..ht_qualname">ht_qualname</a> = <a class="local col1 ref" href="#1141name_obj" title='name_obj' data-ref="1141name_obj" data-ref-filename="1141name_obj">name_obj</a>.<a class="ref fn" href="../pytypes.h.html#_ZNKR8pybind116handle7inc_refEv" title='pybind11::handle::inc_ref' data-ref="_ZNKR8pybind116handle7inc_refEv" data-ref-filename="_ZNKR8pybind116handle7inc_refEv">inc_ref</a>().<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZNK8pybind116handle3ptrEv" data-ref-filename="_ZNK8pybind116handle3ptrEv">ptr</a>();</td></tr>
<tr><th id="75">75</th><td><u>#<span data-ppcond="73">endif</span></u></td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td>    <em>auto</em> <dfn class="local col3 decl" id="1143type" title='type' data-type='_typeobject *' data-ref="1143type" data-ref-filename="1143type">type</dfn> = &amp;<a class="local col2 ref" href="#1142heap_type" title='heap_type' data-ref="1142heap_type" data-ref-filename="1142heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::ht_type" title='_heaptypeobject::ht_type' data-ref="_heaptypeobject::ht_type" data-ref-filename="_heaptypeobject..ht_type">ht_type</a>;</td></tr>
<tr><th id="78">78</th><td>    <a class="local col3 ref" href="#1143type" title='type' data-ref="1143type" data-ref-filename="1143type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_name" title='_typeobject::tp_name' data-ref="_typeobject::tp_name" data-ref-filename="_typeobject..tp_name">tp_name</a> = <a class="local col0 ref" href="#1140name" title='name' data-ref="1140name" data-ref-filename="1140name">name</a>;</td></tr>
<tr><th id="79">79</th><td>    <a class="local col3 ref" href="#1143type" title='type' data-ref="1143type" data-ref-filename="1143type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_base" title='_typeobject::tp_base' data-ref="_typeobject::tp_base" data-ref-filename="_typeobject..tp_base">tp_base</a> = <a class="ref fn" href="#_ZN8pybind116detail11type_increfEP11_typeobject" title='pybind11::detail::type_incref' data-ref="_ZN8pybind116detail11type_increfEP11_typeobject" data-ref-filename="_ZN8pybind116detail11type_increfEP11_typeobject">type_incref</a>(&amp;<a class="ref" href="../../../../../../../include/python3.8/descrobject.h.html#PyProperty_Type" title='PyProperty_Type' data-ref="PyProperty_Type" data-ref-filename="PyProperty_Type">PyProperty_Type</a>);</td></tr>
<tr><th id="80">80</th><td>    <a class="local col3 ref" href="#1143type" title='type' data-ref="1143type" data-ref-filename="1143type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_flags" title='_typeobject::tp_flags' data-ref="_typeobject::tp_flags" data-ref-filename="_typeobject..tp_flags">tp_flags</a> = <a class="macro" href="../../../../../../../include/python3.8/object.h.html#332" title="( 0 | (1UL &lt;&lt; 18) | 0)" data-ref="_M/Py_TPFLAGS_DEFAULT">Py_TPFLAGS_DEFAULT</a> | <a class="macro" href="../../../../../../../include/python3.8/object.h.html#289" title="(1UL &lt;&lt; 10)" data-ref="_M/Py_TPFLAGS_BASETYPE">Py_TPFLAGS_BASETYPE</a> | <a class="macro" href="../../../../../../../include/python3.8/object.h.html#286" title="(1UL &lt;&lt; 9)" data-ref="_M/Py_TPFLAGS_HEAPTYPE">Py_TPFLAGS_HEAPTYPE</a>;</td></tr>
<tr><th id="81">81</th><td>    <a class="local col3 ref" href="#1143type" title='type' data-ref="1143type" data-ref-filename="1143type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_descr_get" title='_typeobject::tp_descr_get' data-ref="_typeobject::tp_descr_get" data-ref-filename="_typeobject..tp_descr_get">tp_descr_get</a> = <a class="ref fn" href="#pybind11::detail::pybind11_static_get" title='pybind11::detail::pybind11_static_get' data-ref="pybind11::detail::pybind11_static_get" data-ref-filename="pybind11..detail..pybind11_static_get">pybind11_static_get</a>;</td></tr>
<tr><th id="82">82</th><td>    <a class="local col3 ref" href="#1143type" title='type' data-ref="1143type" data-ref-filename="1143type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_descr_set" title='_typeobject::tp_descr_set' data-ref="_typeobject::tp_descr_set" data-ref-filename="_typeobject..tp_descr_set">tp_descr_set</a> = <a class="ref fn" href="#pybind11::detail::pybind11_static_set" title='pybind11::detail::pybind11_static_set' data-ref="pybind11::detail::pybind11_static_set" data-ref-filename="pybind11..detail..pybind11_static_set">pybind11_static_set</a>;</td></tr>
<tr><th id="83">83</th><td></td></tr>
<tr><th id="84">84</th><td>    <b>if</b> (<a class="ref fn" href="../../../../../../../include/python3.8/object.h.html#PyType_Ready" title='PyType_Ready' data-ref="PyType_Ready" data-ref-filename="PyType_Ready">PyType_Ready</a>(<a class="local col3 ref" href="#1143type" title='type' data-ref="1143type" data-ref-filename="1143type">type</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="85">85</th><td>        <a class="ref fn" href="common.h.html#_ZN8pybind1113pybind11_failEPKc" title='pybind11::pybind11_fail' data-ref="_ZN8pybind1113pybind11_failEPKc" data-ref-filename="_ZN8pybind1113pybind11_failEPKc">pybind11_fail</a>(<q>"make_static_property_type(): failure in PyType_Ready()!"</q>);</td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td>    <a class="ref fn" href="../pytypes.h.html#_ZN8pybind117setattrENS_6handleEPKcS0_" title='pybind11::setattr' data-ref="_ZN8pybind117setattrENS_6handleEPKcS0_" data-ref-filename="_ZN8pybind117setattrENS_6handleEPKcS0_">setattr</a>(<a class="ref fn fake" href="../pytypes.h.html#_ZN8pybind116handleC1EP7_object" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1EP7_object" data-ref-filename="_ZN8pybind116handleC1EP7_object"></a>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *) <a class="local col3 ref" href="#1143type" title='type' data-ref="1143type" data-ref-filename="1143type">type</a>, <q>"__module__"</q>, <a class="ref fn fake" href="../pytypes.h.html#176" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1EOS0_" data-ref-filename="_ZN8pybind116handleC1EOS0_"></a><a class="type" href="../pytypes.h.html#pybind11::str" title='pybind11::str' data-ref="pybind11::str" data-ref-filename="pybind11..str">str</a><a class="ref fn" href="../pytypes.h.html#_ZN8pybind113strC1EPKc" title='pybind11::str::str' data-ref="_ZN8pybind113strC1EPKc" data-ref-filename="_ZN8pybind113strC1EPKc">(</a><q>"pybind11_builtins"</q>));</td></tr>
<tr><th id="88">88</th><td>    <a class="macro" href="#20" title="" data-ref="_M/PYBIND11_SET_OLDPY_QUALNAME">PYBIND11_SET_OLDPY_QUALNAME</a>(type, name_obj);</td></tr>
<tr><th id="89">89</th><td></td></tr>
<tr><th id="90">90</th><td>    <b>return</b> <a class="local col3 ref" href="#1143type" title='type' data-ref="1143type" data-ref-filename="1143type">type</a>;</td></tr>
<tr><th id="91">91</th><td>}</td></tr>
<tr><th id="92">92</th><td></td></tr>
<tr><th id="93">93</th><td><u>#<span data-ppcond="44">else</span> // PYPY</u></td></tr>
<tr><th id="94">94</th><td></td></tr>
<tr><th id="95">95</th><td><i class="doc">/** PyPy has some issues with the above C API, so we evaluate Python code instead.</i></td></tr>
<tr><th id="96">96</th><td><i class="doc">    This function will only be called once so performance isn't really a concern.</i></td></tr>
<tr><th id="97">97</th><td><i class="doc">    Return value: New reference. */</i></td></tr>
<tr><th id="98">98</th><td><b>inline</b> PyTypeObject *make_static_property_type() {</td></tr>
<tr><th id="99">99</th><td>    <em>auto</em> d = dict();</td></tr>
<tr><th id="100">100</th><td>    PyObject *result = PyRun_String(<q>R"(\</q></td></tr>
<tr><th id="101">101</th><td><q>        class pybind11_static_property(property):</q></td></tr>
<tr><th id="102">102</th><td><q>            def __get__(self, obj, cls):</q></td></tr>
<tr><th id="103">103</th><td><q>                return property.__get__(self, cls, cls)</q></td></tr>
<tr><th id="104">104</th><td><q></q></td></tr>
<tr><th id="105">105</th><td><q>            def __set__(self, obj, value):</q></td></tr>
<tr><th id="106">106</th><td><q>                cls = obj if isinstance(obj, type) else type(obj)</q></td></tr>
<tr><th id="107">107</th><td><q>                property.__set__(self, cls, value)</q></td></tr>
<tr><th id="108">108</th><td><q>        )"</q>, Py_file_input, d.ptr(), d.ptr()</td></tr>
<tr><th id="109">109</th><td>    );</td></tr>
<tr><th id="110">110</th><td>    <b>if</b> (result == <b>nullptr</b>)</td></tr>
<tr><th id="111">111</th><td>        <b>throw</b> error_already_set();</td></tr>
<tr><th id="112">112</th><td>    Py_DECREF(result);</td></tr>
<tr><th id="113">113</th><td>    <b>return</b> (PyTypeObject *) d[<q>"pybind11_static_property"</q>].cast&lt;object&gt;().release().ptr();</td></tr>
<tr><th id="114">114</th><td>}</td></tr>
<tr><th id="115">115</th><td></td></tr>
<tr><th id="116">116</th><td><u>#<span data-ppcond="44">endif</span> // PYPY</u></td></tr>
<tr><th id="117">117</th><td></td></tr>
<tr><th id="118">118</th><td><i class="doc">/** Types with static properties need to handle `Type.static_prop = x` in a specific way.</i></td></tr>
<tr><th id="119">119</th><td><i class="doc">    By default, Python replaces the `static_property` itself, but for wrapped C++ types</i></td></tr>
<tr><th id="120">120</th><td><i class="doc">    we need to call `static_property.__set__()` in order to propagate the new value to</i></td></tr>
<tr><th id="121">121</th><td><i class="doc">    the underlying C++ data structure. */</i></td></tr>
<tr><th id="122">122</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <em>int</em> <dfn class="decl def fn" id="pybind11::detail::pybind11_meta_setattro" title='pybind11::detail::pybind11_meta_setattro' data-ref="pybind11::detail::pybind11_meta_setattro" data-ref-filename="pybind11..detail..pybind11_meta_setattro">pybind11_meta_setattro</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a>* <dfn class="local col4 decl" id="1144obj" title='obj' data-type='PyObject *' data-ref="1144obj" data-ref-filename="1144obj">obj</dfn>, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a>* <dfn class="local col5 decl" id="1145name" title='name' data-type='PyObject *' data-ref="1145name" data-ref-filename="1145name">name</dfn>, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a>* <dfn class="local col6 decl" id="1146value" title='value' data-type='PyObject *' data-ref="1146value" data-ref-filename="1146value">value</dfn>) {</td></tr>
<tr><th id="123">123</th><td>    <i>// Use `_PyType_Lookup()` instead of `PyObject_GetAttr()` in order to get the raw</i></td></tr>
<tr><th id="124">124</th><td><i>    // descriptor (`property`) instead of calling `tp_descr_get` (`property.__get__()`).</i></td></tr>
<tr><th id="125">125</th><td>    <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col7 decl" id="1147descr" title='descr' data-type='PyObject *' data-ref="1147descr" data-ref-filename="1147descr">descr</dfn> = <a class="ref fn" href="../../../../../../../include/python3.8/cpython/object.h.html#_PyType_Lookup" title='_PyType_Lookup' data-ref="_PyType_Lookup" data-ref-filename="_PyType_Lookup">_PyType_Lookup</a>((<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *) <a class="local col4 ref" href="#1144obj" title='obj' data-ref="1144obj" data-ref-filename="1144obj">obj</a>, <a class="local col5 ref" href="#1145name" title='name' data-ref="1145name" data-ref-filename="1145name">name</a>);</td></tr>
<tr><th id="126">126</th><td></td></tr>
<tr><th id="127">127</th><td>    <i>// The following assignment combinations are possible:</i></td></tr>
<tr><th id="128">128</th><td><i>    //   1. `Type.static_prop = value`             --&gt; descr_set: `Type.static_prop.__set__(value)`</i></td></tr>
<tr><th id="129">129</th><td><i>    //   2. `Type.static_prop = other_static_prop` --&gt; setattro:  replace existing `static_prop`</i></td></tr>
<tr><th id="130">130</th><td><i>    //   3. `Type.regular_attribute = value`       --&gt; setattro:  regular attribute assignment</i></td></tr>
<tr><th id="131">131</th><td>    <em>const</em> <em>auto</em> <dfn class="local col8 decl" id="1148static_prop" title='static_prop' data-type='_object *const' data-ref="1148static_prop" data-ref-filename="1148static_prop">static_prop</dfn> = (<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *) <a class="ref fn" href="internals.h.html#_ZN8pybind116detail13get_internalsEv" title='pybind11::detail::get_internals' data-ref="_ZN8pybind116detail13get_internalsEv" data-ref-filename="_ZN8pybind116detail13get_internalsEv">get_internals</a>().<a class="ref field" href="internals.h.html#pybind11::detail::internals::static_property_type" title='pybind11::detail::internals::static_property_type' data-ref="pybind11::detail::internals::static_property_type" data-ref-filename="pybind11..detail..internals..static_property_type">static_property_type</a>;</td></tr>
<tr><th id="132">132</th><td>    <em>const</em> <em>auto</em> <dfn class="local col9 decl" id="1149call_descr_set" title='call_descr_set' data-type='const bool' data-ref="1149call_descr_set" data-ref-filename="1149call_descr_set">call_descr_set</dfn> = <a class="local col7 ref" href="#1147descr" title='descr' data-ref="1147descr" data-ref-filename="1147descr">descr</a> &amp;&amp; <a class="local col6 ref" href="#1146value" title='value' data-ref="1146value" data-ref-filename="1146value">value</a> &amp;&amp; <a class="ref fn" href="../../../../../../../include/python3.8/abstract.h.html#PyObject_IsInstance" title='PyObject_IsInstance' data-ref="PyObject_IsInstance" data-ref-filename="PyObject_IsInstance">PyObject_IsInstance</a>(<a class="local col7 ref" href="#1147descr" title='descr' data-ref="1147descr" data-ref-filename="1147descr">descr</a>, <a class="local col8 ref" href="#1148static_prop" title='static_prop' data-ref="1148static_prop" data-ref-filename="1148static_prop">static_prop</a>)</td></tr>
<tr><th id="133">133</th><td>                                &amp;&amp; !<a class="ref fn" href="../../../../../../../include/python3.8/abstract.h.html#PyObject_IsInstance" title='PyObject_IsInstance' data-ref="PyObject_IsInstance" data-ref-filename="PyObject_IsInstance">PyObject_IsInstance</a>(<a class="local col6 ref" href="#1146value" title='value' data-ref="1146value" data-ref-filename="1146value">value</a>, <a class="local col8 ref" href="#1148static_prop" title='static_prop' data-ref="1148static_prop" data-ref-filename="1148static_prop">static_prop</a>);</td></tr>
<tr><th id="134">134</th><td>    <b>if</b> (<a class="local col9 ref" href="#1149call_descr_set" title='call_descr_set' data-ref="1149call_descr_set" data-ref-filename="1149call_descr_set">call_descr_set</a>) {</td></tr>
<tr><th id="135">135</th><td>        <i>// Call `static_property.__set__()` instead of replacing the `static_property`.</i></td></tr>
<tr><th id="136">136</th><td><u>#<span data-ppcond="136">if</span> !defined(<span class="macro" data-ref="_M/PYPY_VERSION">PYPY_VERSION</span>)</u></td></tr>
<tr><th id="137">137</th><td>        <b>return</b> <a class="macro" href="../../../../../../../include/python3.8/object.h.html#122" title="(((PyObject*)(descr))-&gt;ob_type)" data-ref="_M/Py_TYPE">Py_TYPE</a>(<a class="local col7 ref" href="#1147descr" title='descr' data-ref="1147descr" data-ref-filename="1147descr">descr</a>)-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_descr_set" title='_typeobject::tp_descr_set' data-ref="_typeobject::tp_descr_set" data-ref-filename="_typeobject..tp_descr_set">tp_descr_set</a>(<a class="local col7 ref" href="#1147descr" title='descr' data-ref="1147descr" data-ref-filename="1147descr">descr</a>, <a class="local col4 ref" href="#1144obj" title='obj' data-ref="1144obj" data-ref-filename="1144obj">obj</a>, <a class="local col6 ref" href="#1146value" title='value' data-ref="1146value" data-ref-filename="1146value">value</a>);</td></tr>
<tr><th id="138">138</th><td><u>#<span data-ppcond="136">else</span></u></td></tr>
<tr><th id="139">139</th><td>        <b>if</b> (PyObject *result = PyObject_CallMethod(descr, <q>"__set__"</q>, <q>"OO"</q>, obj, value)) {</td></tr>
<tr><th id="140">140</th><td>            Py_DECREF(result);</td></tr>
<tr><th id="141">141</th><td>            <b>return</b> <var>0</var>;</td></tr>
<tr><th id="142">142</th><td>        } <b>else</b> {</td></tr>
<tr><th id="143">143</th><td>            <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="144">144</th><td>        }</td></tr>
<tr><th id="145">145</th><td><u>#<span data-ppcond="136">endif</span></u></td></tr>
<tr><th id="146">146</th><td>    } <b>else</b> {</td></tr>
<tr><th id="147">147</th><td>        <i>// Replace existing attribute.</i></td></tr>
<tr><th id="148">148</th><td>        <b>return</b> <a class="ref" href="../../../../../../../include/python3.8/object.h.html#PyType_Type" title='PyType_Type' data-ref="PyType_Type" data-ref-filename="PyType_Type">PyType_Type</a>.<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_setattro" title='_typeobject::tp_setattro' data-ref="_typeobject::tp_setattro" data-ref-filename="_typeobject..tp_setattro">tp_setattro</a>(<a class="local col4 ref" href="#1144obj" title='obj' data-ref="1144obj" data-ref-filename="1144obj">obj</a>, <a class="local col5 ref" href="#1145name" title='name' data-ref="1145name" data-ref-filename="1145name">name</a>, <a class="local col6 ref" href="#1146value" title='value' data-ref="1146value" data-ref-filename="1146value">value</a>);</td></tr>
<tr><th id="149">149</th><td>    }</td></tr>
<tr><th id="150">150</th><td>}</td></tr>
<tr><th id="151">151</th><td></td></tr>
<tr><th id="152">152</th><td><u>#<span data-ppcond="152">if</span> <a class="macro" href="../../../../../../../include/python3.8/patchlevel.h.html#19" title="3" data-ref="_M/PY_MAJOR_VERSION">PY_MAJOR_VERSION</a> &gt;= 3</u></td></tr>
<tr><th id="153">153</th><td><i class="doc">/**</i></td></tr>
<tr><th id="154">154</th><td><i class="doc"> * Python 3's PyInstanceMethod_Type hides itself via its tp_descr_get, which prevents aliasing</i></td></tr>
<tr><th id="155">155</th><td><i class="doc"> * methods via cls.attr("m2") = cls.attr("m1"): instead the tp_descr_get returns a plain function,</i></td></tr>
<tr><th id="156">156</th><td><i class="doc"> * when called on a class, or a PyMethod, when called on an instance.  Override that behaviour here</i></td></tr>
<tr><th id="157">157</th><td><i class="doc"> * to do a special case bypass for PyInstanceMethod_Types.</i></td></tr>
<tr><th id="158">158</th><td><i class="doc"> */</i></td></tr>
<tr><th id="159">159</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="decl def fn" id="pybind11::detail::pybind11_meta_getattro" title='pybind11::detail::pybind11_meta_getattro' data-ref="pybind11::detail::pybind11_meta_getattro" data-ref-filename="pybind11..detail..pybind11_meta_getattro">pybind11_meta_getattro</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col0 decl" id="1150obj" title='obj' data-type='PyObject *' data-ref="1150obj" data-ref-filename="1150obj">obj</dfn>, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col1 decl" id="1151name" title='name' data-type='PyObject *' data-ref="1151name" data-ref-filename="1151name">name</dfn>) {</td></tr>
<tr><th id="160">160</th><td>    <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col2 decl" id="1152descr" title='descr' data-type='PyObject *' data-ref="1152descr" data-ref-filename="1152descr">descr</dfn> = <a class="ref fn" href="../../../../../../../include/python3.8/cpython/object.h.html#_PyType_Lookup" title='_PyType_Lookup' data-ref="_PyType_Lookup" data-ref-filename="_PyType_Lookup">_PyType_Lookup</a>((<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *) <a class="local col0 ref" href="#1150obj" title='obj' data-ref="1150obj" data-ref-filename="1150obj">obj</a>, <a class="local col1 ref" href="#1151name" title='name' data-ref="1151name" data-ref-filename="1151name">name</a>);</td></tr>
<tr><th id="161">161</th><td>    <b>if</b> (<a class="local col2 ref" href="#1152descr" title='descr' data-ref="1152descr" data-ref-filename="1152descr">descr</a> &amp;&amp; <a class="macro" href="../../../../../../../include/python3.8/classobject.h.html#45" title="((descr)-&gt;ob_type == &amp;PyInstanceMethod_Type)" data-ref="_M/PyInstanceMethod_Check">PyInstanceMethod_Check</a>(<a class="local col2 ref" href="#1152descr" title='descr' data-ref="1152descr" data-ref-filename="1152descr">descr</a>)) {</td></tr>
<tr><th id="162">162</th><td>        <a class="macro" href="../../../../../../../include/python3.8/object.h.html#462" title="_Py_INCREF(((PyObject*)(descr)))" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="local col2 ref" href="#1152descr" title='descr' data-ref="1152descr" data-ref-filename="1152descr">descr</a>);</td></tr>
<tr><th id="163">163</th><td>        <b>return</b> <a class="local col2 ref" href="#1152descr" title='descr' data-ref="1152descr" data-ref-filename="1152descr">descr</a>;</td></tr>
<tr><th id="164">164</th><td>    }</td></tr>
<tr><th id="165">165</th><td>    <b>else</b> {</td></tr>
<tr><th id="166">166</th><td>        <b>return</b> <a class="ref" href="../../../../../../../include/python3.8/object.h.html#PyType_Type" title='PyType_Type' data-ref="PyType_Type" data-ref-filename="PyType_Type">PyType_Type</a>.<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_getattro" title='_typeobject::tp_getattro' data-ref="_typeobject::tp_getattro" data-ref-filename="_typeobject..tp_getattro">tp_getattro</a>(<a class="local col0 ref" href="#1150obj" title='obj' data-ref="1150obj" data-ref-filename="1150obj">obj</a>, <a class="local col1 ref" href="#1151name" title='name' data-ref="1151name" data-ref-filename="1151name">name</a>);</td></tr>
<tr><th id="167">167</th><td>    }</td></tr>
<tr><th id="168">168</th><td>}</td></tr>
<tr><th id="169">169</th><td><u>#<span data-ppcond="152">endif</span></u></td></tr>
<tr><th id="170">170</th><td></td></tr>
<tr><th id="171">171</th><td><i class="doc">/// metaclass `__call__` function that is used to create all pybind11 objects.</i></td></tr>
<tr><th id="172">172</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="decl def fn" id="pybind11::detail::pybind11_meta_call" title='pybind11::detail::pybind11_meta_call' data-ref="pybind11::detail::pybind11_meta_call" data-ref-filename="pybind11..detail..pybind11_meta_call">pybind11_meta_call</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col3 decl" id="1153type" title='type' data-type='PyObject *' data-ref="1153type" data-ref-filename="1153type">type</dfn>, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col4 decl" id="1154args" title='args' data-type='PyObject *' data-ref="1154args" data-ref-filename="1154args">args</dfn>, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col5 decl" id="1155kwargs" title='kwargs' data-type='PyObject *' data-ref="1155kwargs" data-ref-filename="1155kwargs">kwargs</dfn>) {</td></tr>
<tr><th id="173">173</th><td></td></tr>
<tr><th id="174">174</th><td>    <i>// use the default metaclass call to create/initialize the object</i></td></tr>
<tr><th id="175">175</th><td>    <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col6 decl" id="1156self" title='self' data-type='PyObject *' data-ref="1156self" data-ref-filename="1156self">self</dfn> = <a class="ref" href="../../../../../../../include/python3.8/object.h.html#PyType_Type" title='PyType_Type' data-ref="PyType_Type" data-ref-filename="PyType_Type">PyType_Type</a>.<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_call" title='_typeobject::tp_call' data-ref="_typeobject::tp_call" data-ref-filename="_typeobject..tp_call">tp_call</a>(<a class="local col3 ref" href="#1153type" title='type' data-ref="1153type" data-ref-filename="1153type">type</a>, <a class="local col4 ref" href="#1154args" title='args' data-ref="1154args" data-ref-filename="1154args">args</a>, <a class="local col5 ref" href="#1155kwargs" title='kwargs' data-ref="1155kwargs" data-ref-filename="1155kwargs">kwargs</a>);</td></tr>
<tr><th id="176">176</th><td>    <b>if</b> (<a class="local col6 ref" href="#1156self" title='self' data-ref="1156self" data-ref-filename="1156self">self</a> == <b>nullptr</b>) {</td></tr>
<tr><th id="177">177</th><td>        <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="178">178</th><td>    }</td></tr>
<tr><th id="179">179</th><td></td></tr>
<tr><th id="180">180</th><td>    <i>// This must be a pybind11 instance</i></td></tr>
<tr><th id="181">181</th><td>    <em>auto</em> <dfn class="local col7 decl" id="1157instance" title='instance' data-type='pybind11::detail::instance *' data-ref="1157instance" data-ref-filename="1157instance">instance</dfn> = <b>reinterpret_cast</b>&lt;<span class="namespace">detail::</span><a class="type" href="common.h.html#pybind11::detail::instance" title='pybind11::detail::instance' data-ref="pybind11::detail::instance" data-ref-filename="pybind11..detail..instance">instance</a> *&gt;(<a class="local col6 ref" href="#1156self" title='self' data-ref="1156self" data-ref-filename="1156self">self</a>);</td></tr>
<tr><th id="182">182</th><td></td></tr>
<tr><th id="183">183</th><td>    <i>// Ensure that the base __init__ function(s) were called</i></td></tr>
<tr><th id="184">184</th><td>    <b>for</b> (<em>const</em> <em>auto</em> &amp;<dfn class="local col8 decl" id="1158vh" title='vh' data-type='const pybind11::detail::value_and_holder &amp;' data-ref="1158vh" data-ref-filename="1158vh">vh</dfn> : <a class="type" href="../cast.h.html#pybind11::detail::values_and_holders" title='pybind11::detail::values_and_holders' data-ref="pybind11::detail::values_and_holders" data-ref-filename="pybind11..detail..values_and_holders">values_and_holders</a><a class="ref fn" href="../cast.h.html#_ZN8pybind116detail18values_and_holdersC1EPNS0_8instanceE" title='pybind11::detail::values_and_holders::values_and_holders' data-ref="_ZN8pybind116detail18values_and_holdersC1EPNS0_8instanceE" data-ref-filename="_ZN8pybind116detail18values_and_holdersC1EPNS0_8instanceE">(</a><a class="local col7 ref" href="#1157instance" title='instance' data-ref="1157instance" data-ref-filename="1157instance">instance</a>)) {</td></tr>
<tr><th id="185">185</th><td>        <b>if</b> (!<a class="local col8 ref" href="#1158vh" title='vh' data-ref="1158vh" data-ref-filename="1158vh">vh</a>.<a class="ref fn" href="../cast.h.html#_ZNK8pybind116detail16value_and_holder18holder_constructedEv" title='pybind11::detail::value_and_holder::holder_constructed' data-ref="_ZNK8pybind116detail16value_and_holder18holder_constructedEv" data-ref-filename="_ZNK8pybind116detail16value_and_holder18holder_constructedEv">holder_constructed</a>()) {</td></tr>
<tr><th id="186">186</th><td>            <a class="ref fn" href="../../../../../../../include/python3.8/pyerrors.h.html#PyErr_Format" title='PyErr_Format' data-ref="PyErr_Format" data-ref-filename="PyErr_Format">PyErr_Format</a>(<a class="ref" href="../../../../../../../include/python3.8/pyerrors.h.html#PyExc_TypeError" title='PyExc_TypeError' data-ref="PyExc_TypeError" data-ref-filename="PyExc_TypeError">PyExc_TypeError</a>, <q>"%.200s.__init__() must be called when overriding __init__"</q>,</td></tr>
<tr><th id="187">187</th><td>                         <a class="ref fn" href="#_ZN8pybind116detail27get_fully_qualified_tp_nameB5cxx11EP11_typeobject" title='pybind11::detail::get_fully_qualified_tp_name' data-ref="_ZN8pybind116detail27get_fully_qualified_tp_nameB5cxx11EP11_typeobject" data-ref-filename="_ZN8pybind116detail27get_fully_qualified_tp_nameB5cxx11EP11_typeobject">get_fully_qualified_tp_name</a>(<a class="local col8 ref" href="#1158vh" title='vh' data-ref="1158vh" data-ref-filename="1158vh">vh</a>.<a class="ref field" href="../cast.h.html#pybind11::detail::value_and_holder::type" title='pybind11::detail::value_and_holder::type' data-ref="pybind11::detail::value_and_holder::type" data-ref-filename="pybind11..detail..value_and_holder..type">type</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::type" title='pybind11::detail::type_info::type' data-ref="pybind11::detail::type_info::type" data-ref-filename="pybind11..detail..type_info..type">type</a>).<span class='ref fn' title='std::__cxx11::basic_string::c_str' data-ref="_ZNKSt7__cxx1112basic_string5c_strEv" data-ref-filename="_ZNKSt7__cxx1112basic_string5c_strEv">c_str</span>());</td></tr>
<tr><th id="188">188</th><td>            <a class="macro" href="../../../../../../../include/python3.8/object.h.html#482" title="_Py_DECREF(&quot;/fast/tmp/halide.git/build/_deps/pybind11-src/include/pybind11/detail/class.h&quot;, 188, ((PyObject*)(self)))" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col6 ref" href="#1156self" title='self' data-ref="1156self" data-ref-filename="1156self">self</a>);</td></tr>
<tr><th id="189">189</th><td>            <b>return</b> <b>nullptr</b>;</td></tr>
<tr><th id="190">190</th><td>        }</td></tr>
<tr><th id="191">191</th><td>    }</td></tr>
<tr><th id="192">192</th><td></td></tr>
<tr><th id="193">193</th><td>    <b>return</b> <a class="local col6 ref" href="#1156self" title='self' data-ref="1156self" data-ref-filename="1156self">self</a>;</td></tr>
<tr><th id="194">194</th><td>}</td></tr>
<tr><th id="195">195</th><td></td></tr>
<tr><th id="196">196</th><td><i class="doc">/// Cleanup the type-info for a pybind11-registered type.</i></td></tr>
<tr><th id="197">197</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <em>void</em> <dfn class="decl def fn" id="pybind11::detail::pybind11_meta_dealloc" title='pybind11::detail::pybind11_meta_dealloc' data-ref="pybind11::detail::pybind11_meta_dealloc" data-ref-filename="pybind11..detail..pybind11_meta_dealloc">pybind11_meta_dealloc</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col9 decl" id="1159obj" title='obj' data-type='PyObject *' data-ref="1159obj" data-ref-filename="1159obj">obj</dfn>) {</td></tr>
<tr><th id="198">198</th><td>    <em>auto</em> *<dfn class="local col0 decl" id="1160type" title='type' data-type='_typeobject *' data-ref="1160type" data-ref-filename="1160type">type</dfn> = (<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *) <a class="local col9 ref" href="#1159obj" title='obj' data-ref="1159obj" data-ref-filename="1159obj">obj</a>;</td></tr>
<tr><th id="199">199</th><td>    <em>auto</em> &amp;<dfn class="local col1 decl" id="1161internals" title='internals' data-type='pybind11::detail::internals &amp;' data-ref="1161internals" data-ref-filename="1161internals">internals</dfn> = <a class="ref fn" href="internals.h.html#_ZN8pybind116detail13get_internalsEv" title='pybind11::detail::get_internals' data-ref="_ZN8pybind116detail13get_internalsEv" data-ref-filename="_ZN8pybind116detail13get_internalsEv">get_internals</a>();</td></tr>
<tr><th id="200">200</th><td></td></tr>
<tr><th id="201">201</th><td>    <i>// A pybind11-registered type will:</i></td></tr>
<tr><th id="202">202</th><td><i>    // 1) be found in internals.registered_types_py</i></td></tr>
<tr><th id="203">203</th><td><i>    // 2) have exactly one associated `detail::type_info`</i></td></tr>
<tr><th id="204">204</th><td>    <em>auto</em> <dfn class="local col2 decl" id="1162found_type" title='found_type' data-type='std::__detail::_Node_iterator&lt;std::pair&lt;_typeobject *const, std::vector&lt;pybind11::detail::type_info *, std::allocator&lt;pybind11::detail::type_info *&gt; &gt; &gt;, false, false&gt;' data-ref="1162found_type" data-ref-filename="1162found_type">found_type</dfn> = <a class="local col1 ref" href="#1161internals" title='internals' data-ref="1161internals" data-ref-filename="1161internals">internals</a>.<a class="ref field" href="internals.h.html#pybind11::detail::internals::registered_types_py" title='pybind11::detail::internals::registered_types_py' data-ref="pybind11::detail::internals::registered_types_py" data-ref-filename="pybind11..detail..internals..registered_types_py">registered_types_py</a>.<span class='ref fn' title='std::unordered_map::find' data-ref="_ZNSt13unordered_map4findERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS12423071" data-ref-filename="_ZNSt13unordered_map4findERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS12423071">find</span>(<a class="local col0 ref" href="#1160type" title='type' data-ref="1160type" data-ref-filename="1160type">type</a>);</td></tr>
<tr><th id="205">205</th><td>    <b>if</b> (<a class="local col2 ref" href="#1162found_type" title='found_type' data-ref="1162found_type" data-ref-filename="1162found_type">found_type</a> <span class='ref fn' title='std::__detail::operator!=' data-ref="_ZNSt8__detailneERKNS_19_Node_iterator_baseIT_XT0_EEES4_" data-ref-filename="_ZNSt8__detailneERKNS_19_Node_iterator_baseIT_XT0_EEES4_">!=</span> <a class="local col1 ref" href="#1161internals" title='internals' data-ref="1161internals" data-ref-filename="1161internals">internals</a>.<a class="ref field" href="internals.h.html#pybind11::detail::internals::registered_types_py" title='pybind11::detail::internals::registered_types_py' data-ref="pybind11::detail::internals::registered_types_py" data-ref-filename="pybind11..detail..internals..registered_types_py">registered_types_py</a>.<span class='ref fn' title='std::unordered_map::end' data-ref="_ZNSt13unordered_map3endEv" data-ref-filename="_ZNSt13unordered_map3endEv">end</span>() &amp;&amp;</td></tr>
<tr><th id="206">206</th><td>        <a class="local col2 ref" href="#1162found_type" title='found_type' data-ref="1162found_type" data-ref-filename="1162found_type">found_type</a><span class='ref fn' title='std::__detail::_Node_iterator::operator-&gt;' data-ref="_ZNKSt8__detail14_Node_iteratorptEv" data-ref-filename="_ZNKSt8__detail14_Node_iteratorptEv">-&gt;</span><span class='ref field' title='std::pair&lt;_typeobject *const, std::vector&lt;pybind11::detail::type_info *, std::allocator&lt;pybind11::detail::type_info *&gt; &gt; &gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>.<span class='ref fn' title='std::vector::size' data-ref="_ZNKSt6vector4sizeEv" data-ref-filename="_ZNKSt6vector4sizeEv">size</span>() == <var>1</var> &amp;&amp;</td></tr>
<tr><th id="207">207</th><td>        <a class="local col2 ref" href="#1162found_type" title='found_type' data-ref="1162found_type" data-ref-filename="1162found_type">found_type</a><span class='ref fn' title='std::__detail::_Node_iterator::operator-&gt;' data-ref="_ZNKSt8__detail14_Node_iteratorptEv" data-ref-filename="_ZNKSt8__detail14_Node_iteratorptEv">-&gt;</span><span class='ref field' title='std::pair&lt;_typeobject *const, std::vector&lt;pybind11::detail::type_info *, std::allocator&lt;pybind11::detail::type_info *&gt; &gt; &gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<var>0</var>]</span>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::type" title='pybind11::detail::type_info::type' data-ref="pybind11::detail::type_info::type" data-ref-filename="pybind11..detail..type_info..type">type</a> == <a class="local col0 ref" href="#1160type" title='type' data-ref="1160type" data-ref-filename="1160type">type</a>) {</td></tr>
<tr><th id="208">208</th><td></td></tr>
<tr><th id="209">209</th><td>        <em>auto</em> *<dfn class="local col3 decl" id="1163tinfo" title='tinfo' data-type='pybind11::detail::type_info *' data-ref="1163tinfo" data-ref-filename="1163tinfo">tinfo</dfn> = <a class="local col2 ref" href="#1162found_type" title='found_type' data-ref="1162found_type" data-ref-filename="1162found_type">found_type</a><span class='ref fn' title='std::__detail::_Node_iterator::operator-&gt;' data-ref="_ZNKSt8__detail14_Node_iteratorptEv" data-ref-filename="_ZNKSt8__detail14_Node_iteratorptEv">-&gt;</span><span class='ref field' title='std::pair&lt;_typeobject *const, std::vector&lt;pybind11::detail::type_info *, std::allocator&lt;pybind11::detail::type_info *&gt; &gt; &gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<var>0</var>]</span>;</td></tr>
<tr><th id="210">210</th><td>        <em>auto</em> <dfn class="local col4 decl" id="1164tindex" title='tindex' data-type='std::type_index' data-ref="1164tindex" data-ref-filename="1164tindex">tindex</dfn> = <span class="namespace">std::</span><span class='type' title='std::type_index' data-ref="std::type_index" data-ref-filename="std..type_index">type_index</span><span class='ref fn' title='std::type_index::type_index' data-ref="_ZNSt10type_indexC1ERKSt9type_info" data-ref-filename="_ZNSt10type_indexC1ERKSt9type_info">(</span>*<a class="local col3 ref" href="#1163tinfo" title='tinfo' data-ref="1163tinfo" data-ref-filename="1163tinfo">tinfo</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::cpptype" title='pybind11::detail::type_info::cpptype' data-ref="pybind11::detail::type_info::cpptype" data-ref-filename="pybind11..detail..type_info..cpptype">cpptype</a>);</td></tr>
<tr><th id="211">211</th><td>        <a class="local col1 ref" href="#1161internals" title='internals' data-ref="1161internals" data-ref-filename="1161internals">internals</a>.<a class="ref field" href="internals.h.html#pybind11::detail::internals::direct_conversions" title='pybind11::detail::internals::direct_conversions' data-ref="pybind11::detail::internals::direct_conversions" data-ref-filename="pybind11..detail..internals..direct_conversions">direct_conversions</a>.<span class='ref fn' title='std::unordered_map::erase' data-ref="_ZNSt13unordered_map5eraseERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashEN6262575" data-ref-filename="_ZNSt13unordered_map5eraseERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashEN6262575">erase</span>(<a class="local col4 ref" href="#1164tindex" title='tindex' data-ref="1164tindex" data-ref-filename="1164tindex">tindex</a>);</td></tr>
<tr><th id="212">212</th><td></td></tr>
<tr><th id="213">213</th><td>        <b>if</b> (<a class="local col3 ref" href="#1163tinfo" title='tinfo' data-ref="1163tinfo" data-ref-filename="1163tinfo">tinfo</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::module_local" title='pybind11::detail::type_info::module_local' data-ref="pybind11::detail::type_info::module_local" data-ref-filename="pybind11..detail..type_info..module_local">module_local</a>)</td></tr>
<tr><th id="214">214</th><td>            <a class="ref fn" href="internals.h.html#_ZN8pybind116detail26registered_local_types_cppEv" title='pybind11::detail::registered_local_types_cpp' data-ref="_ZN8pybind116detail26registered_local_types_cppEv" data-ref-filename="_ZN8pybind116detail26registered_local_types_cppEv">registered_local_types_cpp</a>().<span class='ref fn' title='std::unordered_map::erase' data-ref="_ZNSt13unordered_map5eraseERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashEN6262575" data-ref-filename="_ZNSt13unordered_map5eraseERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashEN6262575">erase</span>(<a class="local col4 ref" href="#1164tindex" title='tindex' data-ref="1164tindex" data-ref-filename="1164tindex">tindex</a>);</td></tr>
<tr><th id="215">215</th><td>        <b>else</b></td></tr>
<tr><th id="216">216</th><td>            <a class="local col1 ref" href="#1161internals" title='internals' data-ref="1161internals" data-ref-filename="1161internals">internals</a>.<a class="ref field" href="internals.h.html#pybind11::detail::internals::registered_types_cpp" title='pybind11::detail::internals::registered_types_cpp' data-ref="pybind11::detail::internals::registered_types_cpp" data-ref-filename="pybind11..detail..internals..registered_types_cpp">registered_types_cpp</a>.<span class='ref fn' title='std::unordered_map::erase' data-ref="_ZNSt13unordered_map5eraseERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashEN6262575" data-ref-filename="_ZNSt13unordered_map5eraseERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashEN6262575">erase</span>(<a class="local col4 ref" href="#1164tindex" title='tindex' data-ref="1164tindex" data-ref-filename="1164tindex">tindex</a>);</td></tr>
<tr><th id="217">217</th><td>        <a class="local col1 ref" href="#1161internals" title='internals' data-ref="1161internals" data-ref-filename="1161internals">internals</a>.<a class="ref field" href="internals.h.html#pybind11::detail::internals::registered_types_py" title='pybind11::detail::internals::registered_types_py' data-ref="pybind11::detail::internals::registered_types_py" data-ref-filename="pybind11..detail..internals..registered_types_py">registered_types_py</a>.<span class='ref fn' title='std::unordered_map::erase' data-ref="_ZNSt13unordered_map5eraseERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashEN6262575" data-ref-filename="_ZNSt13unordered_map5eraseERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashEN6262575">erase</span>(<a class="local col3 ref" href="#1163tinfo" title='tinfo' data-ref="1163tinfo" data-ref-filename="1163tinfo">tinfo</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::type" title='pybind11::detail::type_info::type' data-ref="pybind11::detail::type_info::type" data-ref-filename="pybind11..detail..type_info..type">type</a>);</td></tr>
<tr><th id="218">218</th><td></td></tr>
<tr><th id="219">219</th><td>        <i>// Actually just `std::erase_if`, but that's only available in C++20</i></td></tr>
<tr><th id="220">220</th><td>        <em>auto</em> &amp;<dfn class="local col5 decl" id="1165cache" title='cache' data-type='std::unordered_set&lt;std::pair&lt;const _object *, const char *&gt;, pybind11::detail::override_hash, std::equal_to&lt;std::pair&lt;const _object *, const char *&gt; &gt;, std::allocator&lt;std::pair&lt;const _object *, const char *&gt; &gt; &gt; &amp;' data-ref="1165cache" data-ref-filename="1165cache">cache</dfn> = <a class="local col1 ref" href="#1161internals" title='internals' data-ref="1161internals" data-ref-filename="1161internals">internals</a>.<a class="ref field" href="internals.h.html#pybind11::detail::internals::inactive_override_cache" title='pybind11::detail::internals::inactive_override_cache' data-ref="pybind11::detail::internals::inactive_override_cache" data-ref-filename="pybind11..detail..internals..inactive_override_cache">inactive_override_cache</a>;</td></tr>
<tr><th id="221">221</th><td>        <b>for</b> (<em>auto</em> <dfn class="local col6 decl" id="1166it" title='it' data-type='std::__detail::_Node_iterator&lt;std::pair&lt;const _object *, const char *&gt;, true, true&gt;' data-ref="1166it" data-ref-filename="1166it">it</dfn> = <a class="local col5 ref" href="#1165cache" title='cache' data-ref="1165cache" data-ref-filename="1165cache">cache</a>.<span class='ref fn' title='std::unordered_set::begin' data-ref="_ZNSt13unordered_set5beginEv" data-ref-filename="_ZNSt13unordered_set5beginEv">begin</span>(), <dfn class="local col7 decl" id="1167last" title='last' data-type='std::__detail::_Node_iterator&lt;std::pair&lt;const _object *, const char *&gt;, true, true&gt;' data-ref="1167last" data-ref-filename="1167last">last</dfn> = <a class="local col5 ref" href="#1165cache" title='cache' data-ref="1165cache" data-ref-filename="1165cache">cache</a>.<span class='ref fn' title='std::unordered_set::end' data-ref="_ZNSt13unordered_set3endEv" data-ref-filename="_ZNSt13unordered_set3endEv">end</span>(); <a class="local col6 ref" href="#1166it" title='it' data-ref="1166it" data-ref-filename="1166it">it</a> <span class='ref fn' title='std::__detail::operator!=' data-ref="_ZNSt8__detailneERKNS_19_Node_iterator_baseIT_XT0_EEES4_" data-ref-filename="_ZNSt8__detailneERKNS_19_Node_iterator_baseIT_XT0_EEES4_">!=</span> <a class="local col7 ref" href="#1167last" title='last' data-ref="1167last" data-ref-filename="1167last">last</a>; ) {</td></tr>
<tr><th id="222">222</th><td>            <b>if</b> (<a class="local col6 ref" href="#1166it" title='it' data-ref="1166it" data-ref-filename="1166it">it</a><span class='ref fn' title='std::__detail::_Node_iterator::operator-&gt;' data-ref="_ZNKSt8__detail14_Node_iteratorptEv" data-ref-filename="_ZNKSt8__detail14_Node_iteratorptEv">-&gt;</span><span class='ref field' title='std::pair&lt;const _object *, const char *&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span> == (<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *) <a class="local col3 ref" href="#1163tinfo" title='tinfo' data-ref="1163tinfo" data-ref-filename="1163tinfo">tinfo</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::type" title='pybind11::detail::type_info::type' data-ref="pybind11::detail::type_info::type" data-ref-filename="pybind11..detail..type_info..type">type</a>)</td></tr>
<tr><th id="223">223</th><td>                <a class="local col6 ref" href="#1166it" title='it' data-ref="1166it" data-ref-filename="1166it">it</a> <span class='ref fn' title='std::__detail::_Node_iterator&lt;std::pair&lt;const _object *, const char *&gt;, true, true&gt;::operator=' data-ref="_ZNSt8__detail14_Node_iteratorISt4pairIPK7_objectPKcELb1ELb1EEaSEOS8_" data-ref-filename="_ZNSt8__detail14_Node_iteratorISt4pairIPK7_objectPKcELb1ELb1EEaSEOS8_">=</span> <a class="local col5 ref" href="#1165cache" title='cache' data-ref="1165cache" data-ref-filename="1165cache">cache</a>.<span class='ref fn' title='std::unordered_set::erase' data-ref="_ZNSt13unordered_set5eraseENSt10_HashtableIT_S1_T2_NSt8__detail9_IdentityET1_T0_NS3_18_Mod_range_hashingENS3_20_Default_ranged_hashENS3_20_Prime_rehas2589459" data-ref-filename="_ZNSt13unordered_set5eraseENSt10_HashtableIT_S1_T2_NSt8__detail9_IdentityET1_T0_NS3_18_Mod_range_hashingENS3_20_Default_ranged_hashENS3_20_Prime_rehas2589459">erase</span>(<span class='ref fn fake' title='std::__detail::_Node_iterator&lt;std::pair&lt;const _object *, const char *&gt;, true, true&gt;::_Node_iterator' data-ref="_ZNSt8__detail14_Node_iteratorISt4pairIPK7_objectPKcELb1ELb1EEC1ERKS8_" data-ref-filename="_ZNSt8__detail14_Node_iteratorISt4pairIPK7_objectPKcELb1ELb1EEC1ERKS8_"></span><a class="local col6 ref" href="#1166it" title='it' data-ref="1166it" data-ref-filename="1166it">it</a>);</td></tr>
<tr><th id="224">224</th><td>            <b>else</b></td></tr>
<tr><th id="225">225</th><td>                <span class='ref fn' title='std::__detail::_Node_iterator::operator++' data-ref="_ZNSt8__detail14_Node_iteratorppEv" data-ref-filename="_ZNSt8__detail14_Node_iteratorppEv">++</span><a class="local col6 ref" href="#1166it" title='it' data-ref="1166it" data-ref-filename="1166it">it</a>;</td></tr>
<tr><th id="226">226</th><td>        }</td></tr>
<tr><th id="227">227</th><td></td></tr>
<tr><th id="228">228</th><td>        <b>delete</b> <a class="local col3 ref" href="#1163tinfo" title='tinfo' data-ref="1163tinfo" data-ref-filename="1163tinfo">tinfo</a>;</td></tr>
<tr><th id="229">229</th><td>    }</td></tr>
<tr><th id="230">230</th><td></td></tr>
<tr><th id="231">231</th><td>    <a class="ref" href="../../../../../../../include/python3.8/object.h.html#PyType_Type" title='PyType_Type' data-ref="PyType_Type" data-ref-filename="PyType_Type">PyType_Type</a>.<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_dealloc" title='_typeobject::tp_dealloc' data-ref="_typeobject::tp_dealloc" data-ref-filename="_typeobject..tp_dealloc">tp_dealloc</a>(<a class="local col9 ref" href="#1159obj" title='obj' data-ref="1159obj" data-ref-filename="1159obj">obj</a>);</td></tr>
<tr><th id="232">232</th><td>}</td></tr>
<tr><th id="233">233</th><td></td></tr>
<tr><th id="234">234</th><td><i class="doc">/** This metaclass is assigned by default to all pybind11 types and is required in order</i></td></tr>
<tr><th id="235">235</th><td><i class="doc">    for static properties to function correctly. Users may override this using `py::metaclass`.</i></td></tr>
<tr><th id="236">236</th><td><i class="doc">    Return value: New reference. */</i></td></tr>
<tr><th id="237">237</th><td><b>inline</b> <a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a>* <dfn class="decl def fn" id="_ZN8pybind116detail22make_default_metaclassEv" title='pybind11::detail::make_default_metaclass' data-ref="_ZN8pybind116detail22make_default_metaclassEv" data-ref-filename="_ZN8pybind116detail22make_default_metaclassEv">make_default_metaclass</dfn>() {</td></tr>
<tr><th id="238">238</th><td>    <b>constexpr</b> <em>auto</em> *<dfn class="local col8 decl" id="1168name" title='name' data-type='const char *const' data-ref="1168name" data-ref-filename="1168name">name</dfn> = <q>"pybind11_type"</q>;</td></tr>
<tr><th id="239">239</th><td>    <em>auto</em> <dfn class="local col9 decl" id="1169name_obj" title='name_obj' data-type='pybind11::object' data-ref="1169name_obj" data-ref-filename="1169name_obj">name_obj</dfn> = <a class="ref fn" href="../pytypes.h.html#_ZN8pybind1117reinterpret_stealENS_6handleE" title='pybind11::reinterpret_steal' data-ref="_ZN8pybind1117reinterpret_stealENS_6handleE" data-ref-filename="_ZN8pybind1117reinterpret_stealENS_6handleE">reinterpret_steal</a>&lt;<a class="type" href="../pytypes.h.html#pybind11::object" title='pybind11::object' data-ref="pybind11::object" data-ref-filename="pybind11..object">object</a>&gt;(<a class="macro" href="common.h.html#183" title="PyUnicode_FromString" data-ref="_M/PYBIND11_FROM_STRING">PYBIND11_FROM_STRING</a>(<a class="local col8 ref" href="#1168name" title='name' data-ref="1168name" data-ref-filename="1168name">name</a>));</td></tr>
<tr><th id="240">240</th><td></td></tr>
<tr><th id="241">241</th><td>    <i>/* Danger zone: from now (and until PyType_Ready), make sure to</i></td></tr>
<tr><th id="242">242</th><td><i>       issue no Python C API calls which could potentially invoke the</i></td></tr>
<tr><th id="243">243</th><td><i>       garbage collector (the GC will call type_traverse(), which will in</i></td></tr>
<tr><th id="244">244</th><td><i>       turn find the newly constructed type in an invalid state) */</i></td></tr>
<tr><th id="245">245</th><td>    <em>auto</em> <dfn class="local col0 decl" id="1170heap_type" title='heap_type' data-type='_heaptypeobject *' data-ref="1170heap_type" data-ref-filename="1170heap_type">heap_type</dfn> = (<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyHeapTypeObject" title='PyHeapTypeObject' data-type='struct _heaptypeobject' data-ref="PyHeapTypeObject" data-ref-filename="PyHeapTypeObject">PyHeapTypeObject</a> *) <a class="ref" href="../../../../../../../include/python3.8/object.h.html#PyType_Type" title='PyType_Type' data-ref="PyType_Type" data-ref-filename="PyType_Type">PyType_Type</a>.<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_alloc" title='_typeobject::tp_alloc' data-ref="_typeobject::tp_alloc" data-ref-filename="_typeobject..tp_alloc">tp_alloc</a>(&amp;<a class="ref" href="../../../../../../../include/python3.8/object.h.html#PyType_Type" title='PyType_Type' data-ref="PyType_Type" data-ref-filename="PyType_Type">PyType_Type</a>, <var>0</var>);</td></tr>
<tr><th id="246">246</th><td>    <b>if</b> (!<a class="local col0 ref" href="#1170heap_type" title='heap_type' data-ref="1170heap_type" data-ref-filename="1170heap_type">heap_type</a>)</td></tr>
<tr><th id="247">247</th><td>        <a class="ref fn" href="common.h.html#_ZN8pybind1113pybind11_failEPKc" title='pybind11::pybind11_fail' data-ref="_ZN8pybind1113pybind11_failEPKc" data-ref-filename="_ZN8pybind1113pybind11_failEPKc">pybind11_fail</a>(<q>"make_default_metaclass(): error allocating metaclass!"</q>);</td></tr>
<tr><th id="248">248</th><td></td></tr>
<tr><th id="249">249</th><td>    <a class="local col0 ref" href="#1170heap_type" title='heap_type' data-ref="1170heap_type" data-ref-filename="1170heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::ht_name" title='_heaptypeobject::ht_name' data-ref="_heaptypeobject::ht_name" data-ref-filename="_heaptypeobject..ht_name">ht_name</a> = <a class="local col9 ref" href="#1169name_obj" title='name_obj' data-ref="1169name_obj" data-ref-filename="1169name_obj">name_obj</a>.<a class="ref fn" href="../pytypes.h.html#_ZNKR8pybind116handle7inc_refEv" title='pybind11::handle::inc_ref' data-ref="_ZNKR8pybind116handle7inc_refEv" data-ref-filename="_ZNKR8pybind116handle7inc_refEv">inc_ref</a>().<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZNK8pybind116handle3ptrEv" data-ref-filename="_ZNK8pybind116handle3ptrEv">ptr</a>();</td></tr>
<tr><th id="250">250</th><td><u>#<span data-ppcond="250">ifdef</span> <a class="macro" href="#19" data-ref="_M/PYBIND11_BUILTIN_QUALNAME">PYBIND11_BUILTIN_QUALNAME</a></u></td></tr>
<tr><th id="251">251</th><td>    <a class="local col0 ref" href="#1170heap_type" title='heap_type' data-ref="1170heap_type" data-ref-filename="1170heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::ht_qualname" title='_heaptypeobject::ht_qualname' data-ref="_heaptypeobject::ht_qualname" data-ref-filename="_heaptypeobject..ht_qualname">ht_qualname</a> = <a class="local col9 ref" href="#1169name_obj" title='name_obj' data-ref="1169name_obj" data-ref-filename="1169name_obj">name_obj</a>.<a class="ref fn" href="../pytypes.h.html#_ZNKR8pybind116handle7inc_refEv" title='pybind11::handle::inc_ref' data-ref="_ZNKR8pybind116handle7inc_refEv" data-ref-filename="_ZNKR8pybind116handle7inc_refEv">inc_ref</a>().<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZNK8pybind116handle3ptrEv" data-ref-filename="_ZNK8pybind116handle3ptrEv">ptr</a>();</td></tr>
<tr><th id="252">252</th><td><u>#<span data-ppcond="250">endif</span></u></td></tr>
<tr><th id="253">253</th><td></td></tr>
<tr><th id="254">254</th><td>    <em>auto</em> <dfn class="local col1 decl" id="1171type" title='type' data-type='_typeobject *' data-ref="1171type" data-ref-filename="1171type">type</dfn> = &amp;<a class="local col0 ref" href="#1170heap_type" title='heap_type' data-ref="1170heap_type" data-ref-filename="1170heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::ht_type" title='_heaptypeobject::ht_type' data-ref="_heaptypeobject::ht_type" data-ref-filename="_heaptypeobject..ht_type">ht_type</a>;</td></tr>
<tr><th id="255">255</th><td>    <a class="local col1 ref" href="#1171type" title='type' data-ref="1171type" data-ref-filename="1171type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_name" title='_typeobject::tp_name' data-ref="_typeobject::tp_name" data-ref-filename="_typeobject..tp_name">tp_name</a> = <a class="local col8 ref" href="#1168name" title='name' data-ref="1168name" data-ref-filename="1168name">name</a>;</td></tr>
<tr><th id="256">256</th><td>    <a class="local col1 ref" href="#1171type" title='type' data-ref="1171type" data-ref-filename="1171type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_base" title='_typeobject::tp_base' data-ref="_typeobject::tp_base" data-ref-filename="_typeobject..tp_base">tp_base</a> = <a class="ref fn" href="#_ZN8pybind116detail11type_increfEP11_typeobject" title='pybind11::detail::type_incref' data-ref="_ZN8pybind116detail11type_increfEP11_typeobject" data-ref-filename="_ZN8pybind116detail11type_increfEP11_typeobject">type_incref</a>(&amp;<a class="ref" href="../../../../../../../include/python3.8/object.h.html#PyType_Type" title='PyType_Type' data-ref="PyType_Type" data-ref-filename="PyType_Type">PyType_Type</a>);</td></tr>
<tr><th id="257">257</th><td>    <a class="local col1 ref" href="#1171type" title='type' data-ref="1171type" data-ref-filename="1171type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_flags" title='_typeobject::tp_flags' data-ref="_typeobject::tp_flags" data-ref-filename="_typeobject..tp_flags">tp_flags</a> = <a class="macro" href="../../../../../../../include/python3.8/object.h.html#332" title="( 0 | (1UL &lt;&lt; 18) | 0)" data-ref="_M/Py_TPFLAGS_DEFAULT">Py_TPFLAGS_DEFAULT</a> | <a class="macro" href="../../../../../../../include/python3.8/object.h.html#289" title="(1UL &lt;&lt; 10)" data-ref="_M/Py_TPFLAGS_BASETYPE">Py_TPFLAGS_BASETYPE</a> | <a class="macro" href="../../../../../../../include/python3.8/object.h.html#286" title="(1UL &lt;&lt; 9)" data-ref="_M/Py_TPFLAGS_HEAPTYPE">Py_TPFLAGS_HEAPTYPE</a>;</td></tr>
<tr><th id="258">258</th><td></td></tr>
<tr><th id="259">259</th><td>    <a class="local col1 ref" href="#1171type" title='type' data-ref="1171type" data-ref-filename="1171type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_call" title='_typeobject::tp_call' data-ref="_typeobject::tp_call" data-ref-filename="_typeobject..tp_call">tp_call</a> = <a class="ref fn" href="#pybind11::detail::pybind11_meta_call" title='pybind11::detail::pybind11_meta_call' data-ref="pybind11::detail::pybind11_meta_call" data-ref-filename="pybind11..detail..pybind11_meta_call">pybind11_meta_call</a>;</td></tr>
<tr><th id="260">260</th><td></td></tr>
<tr><th id="261">261</th><td>    <a class="local col1 ref" href="#1171type" title='type' data-ref="1171type" data-ref-filename="1171type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_setattro" title='_typeobject::tp_setattro' data-ref="_typeobject::tp_setattro" data-ref-filename="_typeobject..tp_setattro">tp_setattro</a> = <a class="ref fn" href="#pybind11::detail::pybind11_meta_setattro" title='pybind11::detail::pybind11_meta_setattro' data-ref="pybind11::detail::pybind11_meta_setattro" data-ref-filename="pybind11..detail..pybind11_meta_setattro">pybind11_meta_setattro</a>;</td></tr>
<tr><th id="262">262</th><td><u>#<span data-ppcond="262">if</span> <a class="macro" href="../../../../../../../include/python3.8/patchlevel.h.html#19" title="3" data-ref="_M/PY_MAJOR_VERSION">PY_MAJOR_VERSION</a> &gt;= 3</u></td></tr>
<tr><th id="263">263</th><td>    <a class="local col1 ref" href="#1171type" title='type' data-ref="1171type" data-ref-filename="1171type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_getattro" title='_typeobject::tp_getattro' data-ref="_typeobject::tp_getattro" data-ref-filename="_typeobject..tp_getattro">tp_getattro</a> = <a class="ref fn" href="#pybind11::detail::pybind11_meta_getattro" title='pybind11::detail::pybind11_meta_getattro' data-ref="pybind11::detail::pybind11_meta_getattro" data-ref-filename="pybind11..detail..pybind11_meta_getattro">pybind11_meta_getattro</a>;</td></tr>
<tr><th id="264">264</th><td><u>#<span data-ppcond="262">endif</span></u></td></tr>
<tr><th id="265">265</th><td></td></tr>
<tr><th id="266">266</th><td>    <a class="local col1 ref" href="#1171type" title='type' data-ref="1171type" data-ref-filename="1171type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_dealloc" title='_typeobject::tp_dealloc' data-ref="_typeobject::tp_dealloc" data-ref-filename="_typeobject..tp_dealloc">tp_dealloc</a> = <a class="ref fn" href="#pybind11::detail::pybind11_meta_dealloc" title='pybind11::detail::pybind11_meta_dealloc' data-ref="pybind11::detail::pybind11_meta_dealloc" data-ref-filename="pybind11..detail..pybind11_meta_dealloc">pybind11_meta_dealloc</a>;</td></tr>
<tr><th id="267">267</th><td></td></tr>
<tr><th id="268">268</th><td>    <b>if</b> (<a class="ref fn" href="../../../../../../../include/python3.8/object.h.html#PyType_Ready" title='PyType_Ready' data-ref="PyType_Ready" data-ref-filename="PyType_Ready">PyType_Ready</a>(<a class="local col1 ref" href="#1171type" title='type' data-ref="1171type" data-ref-filename="1171type">type</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="269">269</th><td>        <a class="ref fn" href="common.h.html#_ZN8pybind1113pybind11_failEPKc" title='pybind11::pybind11_fail' data-ref="_ZN8pybind1113pybind11_failEPKc" data-ref-filename="_ZN8pybind1113pybind11_failEPKc">pybind11_fail</a>(<q>"make_default_metaclass(): failure in PyType_Ready()!"</q>);</td></tr>
<tr><th id="270">270</th><td></td></tr>
<tr><th id="271">271</th><td>    <a class="ref fn" href="../pytypes.h.html#_ZN8pybind117setattrENS_6handleEPKcS0_" title='pybind11::setattr' data-ref="_ZN8pybind117setattrENS_6handleEPKcS0_" data-ref-filename="_ZN8pybind117setattrENS_6handleEPKcS0_">setattr</a>(<a class="ref fn fake" href="../pytypes.h.html#_ZN8pybind116handleC1EP7_object" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1EP7_object" data-ref-filename="_ZN8pybind116handleC1EP7_object"></a>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *) <a class="local col1 ref" href="#1171type" title='type' data-ref="1171type" data-ref-filename="1171type">type</a>, <q>"__module__"</q>, <a class="ref fn fake" href="../pytypes.h.html#176" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1EOS0_" data-ref-filename="_ZN8pybind116handleC1EOS0_"></a><a class="type" href="../pytypes.h.html#pybind11::str" title='pybind11::str' data-ref="pybind11::str" data-ref-filename="pybind11..str">str</a><a class="ref fn" href="../pytypes.h.html#_ZN8pybind113strC1EPKc" title='pybind11::str::str' data-ref="_ZN8pybind113strC1EPKc" data-ref-filename="_ZN8pybind113strC1EPKc">(</a><q>"pybind11_builtins"</q>));</td></tr>
<tr><th id="272">272</th><td>    <a class="macro" href="#20" title="" data-ref="_M/PYBIND11_SET_OLDPY_QUALNAME">PYBIND11_SET_OLDPY_QUALNAME</a>(type, name_obj);</td></tr>
<tr><th id="273">273</th><td></td></tr>
<tr><th id="274">274</th><td>    <b>return</b> <a class="local col1 ref" href="#1171type" title='type' data-ref="1171type" data-ref-filename="1171type">type</a>;</td></tr>
<tr><th id="275">275</th><td>}</td></tr>
<tr><th id="276">276</th><td></td></tr>
<tr><th id="277">277</th><td><i class="doc">/// For multiple inheritance types we need to recursively register/deregister base pointers for any</i></td></tr>
<tr><th id="278">278</th><td><i class="doc">/// base classes with pointers that are difference from the instance value pointer so that we can</i></td></tr>
<tr><th id="279">279</th><td><i class="doc">/// correctly recognize an offset base class pointer. This calls a function with any offset base ptrs.</i></td></tr>
<tr><th id="280">280</th><td><b>inline</b> <em>void</em> <dfn class="decl def fn" id="_ZN8pybind116detail21traverse_offset_basesEPvPKNS0_9type_infoEPNS0_8instanceEPFbS1_S6_E" title='pybind11::detail::traverse_offset_bases' data-ref="_ZN8pybind116detail21traverse_offset_basesEPvPKNS0_9type_infoEPNS0_8instanceEPFbS1_S6_E" data-ref-filename="_ZN8pybind116detail21traverse_offset_basesEPvPKNS0_9type_infoEPNS0_8instanceEPFbS1_S6_E">traverse_offset_bases</dfn>(<em>void</em> *<dfn class="local col2 decl" id="1172valueptr" title='valueptr' data-type='void *' data-ref="1172valueptr" data-ref-filename="1172valueptr">valueptr</dfn>, <em>const</em> <span class="namespace">detail::</span><a class="type" href="internals.h.html#pybind11::detail::type_info" title='pybind11::detail::type_info' data-ref="pybind11::detail::type_info" data-ref-filename="pybind11..detail..type_info">type_info</a> *<dfn class="local col3 decl" id="1173tinfo" title='tinfo' data-type='const detail::type_info *' data-ref="1173tinfo" data-ref-filename="1173tinfo">tinfo</dfn>, <a class="type" href="common.h.html#pybind11::detail::instance" title='pybind11::detail::instance' data-ref="pybind11::detail::instance" data-ref-filename="pybind11..detail..instance">instance</a> *<dfn class="local col4 decl" id="1174self" title='self' data-type='pybind11::detail::instance *' data-ref="1174self" data-ref-filename="1174self">self</dfn>,</td></tr>
<tr><th id="281">281</th><td>        <em>bool</em> (*<dfn class="local col5 decl" id="1175f" title='f' data-type='bool (*)(void *, pybind11::detail::instance *)' data-ref="1175f" data-ref-filename="1175f">f</dfn>)(<em>void</em> * <i>/*parentptr*/</i>, <a class="type" href="common.h.html#pybind11::detail::instance" title='pybind11::detail::instance' data-ref="pybind11::detail::instance" data-ref-filename="pybind11..detail..instance">instance</a> * <i>/*self*/</i>)) {</td></tr>
<tr><th id="282">282</th><td>    <b>for</b> (<a class="type" href="../pytypes.h.html#pybind11::handle" title='pybind11::handle' data-ref="pybind11::handle" data-ref-filename="pybind11..handle">handle</a> <dfn class="local col6 decl" id="1176h" title='h' data-type='pybind11::handle' data-ref="1176h" data-ref-filename="1176h">h</dfn> : <a class="ref fn" href="../pytypes.h.html#_ZN8pybind1118reinterpret_borrowENS_6handleE" title='pybind11::reinterpret_borrow' data-ref="_ZN8pybind1118reinterpret_borrowENS_6handleE" data-ref-filename="_ZN8pybind1118reinterpret_borrowENS_6handleE">reinterpret_borrow</a>&lt;<a class="type" href="../pytypes.h.html#pybind11::tuple" title='pybind11::tuple' data-ref="pybind11::tuple" data-ref-filename="pybind11..tuple">tuple</a>&gt;(<a class="ref fn fake" href="../pytypes.h.html#_ZN8pybind116handleC1EP7_object" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1EP7_object" data-ref-filename="_ZN8pybind116handleC1EP7_object"></a><a class="local col3 ref" href="#1173tinfo" title='tinfo' data-ref="1173tinfo" data-ref-filename="1173tinfo">tinfo</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::type" title='pybind11::detail::type_info::type' data-ref="pybind11::detail::type_info::type" data-ref-filename="pybind11..detail..type_info..type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_bases" title='_typeobject::tp_bases' data-ref="_typeobject::tp_bases" data-ref-filename="_typeobject..tp_bases">tp_bases</a>)) {</td></tr>
<tr><th id="283">283</th><td>        <b>if</b> (<em>auto</em> <dfn class="local col7 decl" id="1177parent_tinfo" title='parent_tinfo' data-type='pybind11::detail::type_info *' data-ref="1177parent_tinfo" data-ref-filename="1177parent_tinfo"><a class="local col7 ref" href="#1177parent_tinfo" title='parent_tinfo' data-ref="1177parent_tinfo" data-ref-filename="1177parent_tinfo">parent_tinfo</a></dfn> = <a class="ref fn" href="../cast.h.html#_ZN8pybind116detail13get_type_infoEP11_typeobject" title='pybind11::detail::get_type_info' data-ref="_ZN8pybind116detail13get_type_infoEP11_typeobject" data-ref-filename="_ZN8pybind116detail13get_type_infoEP11_typeobject">get_type_info</a>((<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *) <a class="local col6 ref" href="#1176h" title='h' data-ref="1176h" data-ref-filename="1176h">h</a>.<a class="ref fn" href="../pytypes.h.html#_ZN8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZN8pybind116handle3ptrEv" data-ref-filename="_ZN8pybind116handle3ptrEv">ptr</a>())) {</td></tr>
<tr><th id="284">284</th><td>            <b>for</b> (<em>auto</em> &amp;<dfn class="local col8 decl" id="1178c" title='c' data-type='std::pair&lt;const std::type_info *, void *(*)(void *)&gt; &amp;' data-ref="1178c" data-ref-filename="1178c">c</dfn> : <a class="local col7 ref" href="#1177parent_tinfo" title='parent_tinfo' data-ref="1177parent_tinfo" data-ref-filename="1177parent_tinfo">parent_tinfo</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::implicit_casts" title='pybind11::detail::type_info::implicit_casts' data-ref="pybind11::detail::type_info::implicit_casts" data-ref-filename="pybind11..detail..type_info..implicit_casts">implicit_casts</a>) {</td></tr>
<tr><th id="285">285</th><td>                <b>if</b> (<a class="local col8 ref" href="#1178c" title='c' data-ref="1178c" data-ref-filename="1178c">c</a>.<span class='ref field' title='std::pair&lt;const std::type_info *, void *(*)(void *)&gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span> == <a class="local col3 ref" href="#1173tinfo" title='tinfo' data-ref="1173tinfo" data-ref-filename="1173tinfo">tinfo</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::cpptype" title='pybind11::detail::type_info::cpptype' data-ref="pybind11::detail::type_info::cpptype" data-ref-filename="pybind11..detail..type_info..cpptype">cpptype</a>) {</td></tr>
<tr><th id="286">286</th><td>                    <em>auto</em> *<dfn class="local col9 decl" id="1179parentptr" title='parentptr' data-type='void *' data-ref="1179parentptr" data-ref-filename="1179parentptr">parentptr</dfn> = <a class="local col8 ref" href="#1178c" title='c' data-ref="1178c" data-ref-filename="1178c">c</a>.<span class='ref field' title='std::pair&lt;const std::type_info *, void *(*)(void *)&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>(<a class="local col2 ref" href="#1172valueptr" title='valueptr' data-ref="1172valueptr" data-ref-filename="1172valueptr">valueptr</a>);</td></tr>
<tr><th id="287">287</th><td>                    <b>if</b> (<a class="local col9 ref" href="#1179parentptr" title='parentptr' data-ref="1179parentptr" data-ref-filename="1179parentptr">parentptr</a> != <a class="local col2 ref" href="#1172valueptr" title='valueptr' data-ref="1172valueptr" data-ref-filename="1172valueptr">valueptr</a>)</td></tr>
<tr><th id="288">288</th><td>                        <a class="local col5 ref" href="#1175f" title='f' data-ref="1175f" data-ref-filename="1175f">f</a>(<a class="local col9 ref" href="#1179parentptr" title='parentptr' data-ref="1179parentptr" data-ref-filename="1179parentptr">parentptr</a>, <a class="local col4 ref" href="#1174self" title='self' data-ref="1174self" data-ref-filename="1174self">self</a>);</td></tr>
<tr><th id="289">289</th><td>                    <a class="ref fn" href="#_ZN8pybind116detail21traverse_offset_basesEPvPKNS0_9type_infoEPNS0_8instanceEPFbS1_S6_E" title='pybind11::detail::traverse_offset_bases' data-ref="_ZN8pybind116detail21traverse_offset_basesEPvPKNS0_9type_infoEPNS0_8instanceEPFbS1_S6_E" data-ref-filename="_ZN8pybind116detail21traverse_offset_basesEPvPKNS0_9type_infoEPNS0_8instanceEPFbS1_S6_E">traverse_offset_bases</a>(<a class="local col9 ref" href="#1179parentptr" title='parentptr' data-ref="1179parentptr" data-ref-filename="1179parentptr">parentptr</a>, <a class="local col7 ref" href="#1177parent_tinfo" title='parent_tinfo' data-ref="1177parent_tinfo" data-ref-filename="1177parent_tinfo">parent_tinfo</a>, <a class="local col4 ref" href="#1174self" title='self' data-ref="1174self" data-ref-filename="1174self">self</a>, <a class="local col5 ref" href="#1175f" title='f' data-ref="1175f" data-ref-filename="1175f">f</a>);</td></tr>
<tr><th id="290">290</th><td>                    <b>break</b>;</td></tr>
<tr><th id="291">291</th><td>                }</td></tr>
<tr><th id="292">292</th><td>            }</td></tr>
<tr><th id="293">293</th><td>        }</td></tr>
<tr><th id="294">294</th><td>    }</td></tr>
<tr><th id="295">295</th><td>}</td></tr>
<tr><th id="296">296</th><td></td></tr>
<tr><th id="297">297</th><td><b>inline</b> <em>bool</em> <dfn class="decl def fn" id="_ZN8pybind116detail22register_instance_implEPvPNS0_8instanceE" title='pybind11::detail::register_instance_impl' data-ref="_ZN8pybind116detail22register_instance_implEPvPNS0_8instanceE" data-ref-filename="_ZN8pybind116detail22register_instance_implEPvPNS0_8instanceE">register_instance_impl</dfn>(<em>void</em> *<dfn class="local col0 decl" id="1180ptr" title='ptr' data-type='void *' data-ref="1180ptr" data-ref-filename="1180ptr">ptr</dfn>, <a class="type" href="common.h.html#pybind11::detail::instance" title='pybind11::detail::instance' data-ref="pybind11::detail::instance" data-ref-filename="pybind11..detail..instance">instance</a> *<dfn class="local col1 decl" id="1181self" title='self' data-type='pybind11::detail::instance *' data-ref="1181self" data-ref-filename="1181self">self</dfn>) {</td></tr>
<tr><th id="298">298</th><td>    <a class="ref fn" href="internals.h.html#_ZN8pybind116detail13get_internalsEv" title='pybind11::detail::get_internals' data-ref="_ZN8pybind116detail13get_internalsEv" data-ref-filename="_ZN8pybind116detail13get_internalsEv">get_internals</a>().<a class="ref field" href="internals.h.html#pybind11::detail::internals::registered_instances" title='pybind11::detail::internals::registered_instances' data-ref="pybind11::detail::internals::registered_instances" data-ref-filename="pybind11..detail..internals..registered_instances">registered_instances</a>.<span class='ref fn' title='std::unordered_multimap::emplace' data-ref="_ZNSt18unordered_multimap7emplaceEDpOTL0__" data-ref-filename="_ZNSt18unordered_multimap7emplaceEDpOTL0__">emplace</span>(<span class='refarg'><a class="local col0 ref" href="#1180ptr" title='ptr' data-ref="1180ptr" data-ref-filename="1180ptr">ptr</a></span>, <span class='refarg'><a class="local col1 ref" href="#1181self" title='self' data-ref="1181self" data-ref-filename="1181self">self</a></span>);</td></tr>
<tr><th id="299">299</th><td>    <b>return</b> <b>true</b>; <i>// unused, but gives the same signature as the deregister func</i></td></tr>
<tr><th id="300">300</th><td>}</td></tr>
<tr><th id="301">301</th><td><b>inline</b> <em>bool</em> <dfn class="decl def fn" id="_ZN8pybind116detail24deregister_instance_implEPvPNS0_8instanceE" title='pybind11::detail::deregister_instance_impl' data-ref="_ZN8pybind116detail24deregister_instance_implEPvPNS0_8instanceE" data-ref-filename="_ZN8pybind116detail24deregister_instance_implEPvPNS0_8instanceE">deregister_instance_impl</dfn>(<em>void</em> *<dfn class="local col2 decl" id="1182ptr" title='ptr' data-type='void *' data-ref="1182ptr" data-ref-filename="1182ptr">ptr</dfn>, <a class="type" href="common.h.html#pybind11::detail::instance" title='pybind11::detail::instance' data-ref="pybind11::detail::instance" data-ref-filename="pybind11..detail..instance">instance</a> *<dfn class="local col3 decl" id="1183self" title='self' data-type='pybind11::detail::instance *' data-ref="1183self" data-ref-filename="1183self">self</dfn>) {</td></tr>
<tr><th id="302">302</th><td>    <em>auto</em> &amp;<dfn class="local col4 decl" id="1184registered_instances" title='registered_instances' data-type='std::unordered_multimap&lt;const void *, pybind11::detail::instance *, std::hash&lt;const void *&gt;, std::equal_to&lt;const void *&gt;, std::allocator&lt;std::pair&lt;const void *const, pybind11::detail::instance *&gt; &gt; &gt; &amp;' data-ref="1184registered_instances" data-ref-filename="1184registered_instances">registered_instances</dfn> = <a class="ref fn" href="internals.h.html#_ZN8pybind116detail13get_internalsEv" title='pybind11::detail::get_internals' data-ref="_ZN8pybind116detail13get_internalsEv" data-ref-filename="_ZN8pybind116detail13get_internalsEv">get_internals</a>().<a class="ref field" href="internals.h.html#pybind11::detail::internals::registered_instances" title='pybind11::detail::internals::registered_instances' data-ref="pybind11::detail::internals::registered_instances" data-ref-filename="pybind11..detail..internals..registered_instances">registered_instances</a>;</td></tr>
<tr><th id="303">303</th><td>    <em>auto</em> <dfn class="local col5 decl" id="1185range" title='range' data-type='std::pair&lt;std::__detail::_Node_iterator&lt;std::pair&lt;const void *const, pybind11::detail::instance *&gt;, false, false&gt;, std::__detail::_Node_iterator&lt;std::pair&lt;const void *const, pybind11::detail::instance *&gt;, false, false&gt; &gt;' data-ref="1185range" data-ref-filename="1185range">range</dfn> = <a class="local col4 ref" href="#1184registered_instances" title='registered_instances' data-ref="1184registered_instances" data-ref-filename="1184registered_instances">registered_instances</a>.<span class='ref fn' title='std::unordered_multimap::equal_range' data-ref="_ZNSt18unordered_multimap11equal_rangeERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_r4470279" data-ref-filename="_ZNSt18unordered_multimap11equal_rangeERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_r4470279">equal_range</span>(<a class="local col2 ref" href="#1182ptr" title='ptr' data-ref="1182ptr" data-ref-filename="1182ptr">ptr</a>);</td></tr>
<tr><th id="304">304</th><td>    <b>for</b> (<em>auto</em> <dfn class="local col6 decl" id="1186it" title='it' data-type='std::__detail::_Node_iterator&lt;std::pair&lt;const void *const, pybind11::detail::instance *&gt;, false, false&gt;' data-ref="1186it" data-ref-filename="1186it">it</dfn> = <span class='ref fn fake' title='std::__detail::_Node_iterator&lt;std::pair&lt;const void *const, pybind11::detail::instance *&gt;, false, false&gt;::_Node_iterator' data-ref="_ZNSt8__detail14_Node_iteratorISt4pairIKPKvPN8pybind116detail8instanceEELb0ELb0EEC1ERKSA_" data-ref-filename="_ZNSt8__detail14_Node_iteratorISt4pairIKPKvPN8pybind116detail8instanceEELb0ELb0EEC1ERKSA_"></span><a class="local col5 ref" href="#1185range" title='range' data-ref="1185range" data-ref-filename="1185range">range</a>.<span class='ref field' title='std::pair&lt;std::__detail::_Node_iterator&lt;std::pair&lt;const void *const, pybind11::detail::instance *&gt;, false, false&gt;, std::__detail::_Node_iterator&lt;std::pair&lt;const void *const, pybind11::detail::instance *&gt;, false, false&gt; &gt;::first' data-ref="std::pair::first" data-ref-filename="std..pair..first">first</span>; <a class="local col6 ref" href="#1186it" title='it' data-ref="1186it" data-ref-filename="1186it">it</a> <span class='ref fn' title='std::__detail::operator!=' data-ref="_ZNSt8__detailneERKNS_19_Node_iterator_baseIT_XT0_EEES4_" data-ref-filename="_ZNSt8__detailneERKNS_19_Node_iterator_baseIT_XT0_EEES4_">!=</span> <a class="local col5 ref" href="#1185range" title='range' data-ref="1185range" data-ref-filename="1185range">range</a>.<span class='ref field' title='std::pair&lt;std::__detail::_Node_iterator&lt;std::pair&lt;const void *const, pybind11::detail::instance *&gt;, false, false&gt;, std::__detail::_Node_iterator&lt;std::pair&lt;const void *const, pybind11::detail::instance *&gt;, false, false&gt; &gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>; <span class='ref fn' title='std::__detail::_Node_iterator::operator++' data-ref="_ZNSt8__detail14_Node_iteratorppEv" data-ref-filename="_ZNSt8__detail14_Node_iteratorppEv">++</span><a class="local col6 ref" href="#1186it" title='it' data-ref="1186it" data-ref-filename="1186it">it</a>) {</td></tr>
<tr><th id="305">305</th><td>        <b>if</b> (<a class="local col3 ref" href="#1183self" title='self' data-ref="1183self" data-ref-filename="1183self">self</a> == <a class="local col6 ref" href="#1186it" title='it' data-ref="1186it" data-ref-filename="1186it">it</a><span class='ref fn' title='std::__detail::_Node_iterator::operator-&gt;' data-ref="_ZNKSt8__detail14_Node_iteratorptEv" data-ref-filename="_ZNKSt8__detail14_Node_iteratorptEv">-&gt;</span><span class='ref field' title='std::pair&lt;const void *const, pybind11::detail::instance *&gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span>) {</td></tr>
<tr><th id="306">306</th><td>            <a class="local col4 ref" href="#1184registered_instances" title='registered_instances' data-ref="1184registered_instances" data-ref-filename="1184registered_instances">registered_instances</a>.<span class='ref fn' title='std::unordered_multimap::erase' data-ref="_ZNSt18unordered_multimap5eraseENSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_has2202080" data-ref-filename="_ZNSt18unordered_multimap5eraseENSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_has2202080">erase</span>(<span class='ref fn fake' title='std::__detail::_Node_iterator&lt;std::pair&lt;const void *const, pybind11::detail::instance *&gt;, false, false&gt;::_Node_iterator' data-ref="_ZNSt8__detail14_Node_iteratorISt4pairIKPKvPN8pybind116detail8instanceEELb0ELb0EEC1ERKSA_" data-ref-filename="_ZNSt8__detail14_Node_iteratorISt4pairIKPKvPN8pybind116detail8instanceEELb0ELb0EEC1ERKSA_"></span><a class="local col6 ref" href="#1186it" title='it' data-ref="1186it" data-ref-filename="1186it">it</a>);</td></tr>
<tr><th id="307">307</th><td>            <b>return</b> <b>true</b>;</td></tr>
<tr><th id="308">308</th><td>        }</td></tr>
<tr><th id="309">309</th><td>    }</td></tr>
<tr><th id="310">310</th><td>    <b>return</b> <b>false</b>;</td></tr>
<tr><th id="311">311</th><td>}</td></tr>
<tr><th id="312">312</th><td></td></tr>
<tr><th id="313">313</th><td><b>inline</b> <em>void</em> <dfn class="decl def fn" id="_ZN8pybind116detail17register_instanceEPNS0_8instanceEPvPKNS0_9type_infoE" title='pybind11::detail::register_instance' data-ref="_ZN8pybind116detail17register_instanceEPNS0_8instanceEPvPKNS0_9type_infoE" data-ref-filename="_ZN8pybind116detail17register_instanceEPNS0_8instanceEPvPKNS0_9type_infoE">register_instance</dfn>(<a class="type" href="common.h.html#pybind11::detail::instance" title='pybind11::detail::instance' data-ref="pybind11::detail::instance" data-ref-filename="pybind11..detail..instance">instance</a> *<dfn class="local col7 decl" id="1187self" title='self' data-type='pybind11::detail::instance *' data-ref="1187self" data-ref-filename="1187self">self</dfn>, <em>void</em> *<dfn class="local col8 decl" id="1188valptr" title='valptr' data-type='void *' data-ref="1188valptr" data-ref-filename="1188valptr">valptr</dfn>, <em>const</em> <a class="type" href="internals.h.html#pybind11::detail::type_info" title='pybind11::detail::type_info' data-ref="pybind11::detail::type_info" data-ref-filename="pybind11..detail..type_info">type_info</a> *<dfn class="local col9 decl" id="1189tinfo" title='tinfo' data-type='const pybind11::detail::type_info *' data-ref="1189tinfo" data-ref-filename="1189tinfo">tinfo</dfn>) {</td></tr>
<tr><th id="314">314</th><td>    <a class="ref fn" href="#_ZN8pybind116detail22register_instance_implEPvPNS0_8instanceE" title='pybind11::detail::register_instance_impl' data-ref="_ZN8pybind116detail22register_instance_implEPvPNS0_8instanceE" data-ref-filename="_ZN8pybind116detail22register_instance_implEPvPNS0_8instanceE">register_instance_impl</a>(<a class="local col8 ref" href="#1188valptr" title='valptr' data-ref="1188valptr" data-ref-filename="1188valptr">valptr</a>, <a class="local col7 ref" href="#1187self" title='self' data-ref="1187self" data-ref-filename="1187self">self</a>);</td></tr>
<tr><th id="315">315</th><td>    <b>if</b> (!<a class="local col9 ref" href="#1189tinfo" title='tinfo' data-ref="1189tinfo" data-ref-filename="1189tinfo">tinfo</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::simple_ancestors" title='pybind11::detail::type_info::simple_ancestors' data-ref="pybind11::detail::type_info::simple_ancestors" data-ref-filename="pybind11..detail..type_info..simple_ancestors">simple_ancestors</a>)</td></tr>
<tr><th id="316">316</th><td>        <a class="ref fn" href="#_ZN8pybind116detail21traverse_offset_basesEPvPKNS0_9type_infoEPNS0_8instanceEPFbS1_S6_E" title='pybind11::detail::traverse_offset_bases' data-ref="_ZN8pybind116detail21traverse_offset_basesEPvPKNS0_9type_infoEPNS0_8instanceEPFbS1_S6_E" data-ref-filename="_ZN8pybind116detail21traverse_offset_basesEPvPKNS0_9type_infoEPNS0_8instanceEPFbS1_S6_E">traverse_offset_bases</a>(<a class="local col8 ref" href="#1188valptr" title='valptr' data-ref="1188valptr" data-ref-filename="1188valptr">valptr</a>, <a class="local col9 ref" href="#1189tinfo" title='tinfo' data-ref="1189tinfo" data-ref-filename="1189tinfo">tinfo</a>, <a class="local col7 ref" href="#1187self" title='self' data-ref="1187self" data-ref-filename="1187self">self</a>, <a class="ref fn" href="#_ZN8pybind116detail22register_instance_implEPvPNS0_8instanceE" title='pybind11::detail::register_instance_impl' data-ref="_ZN8pybind116detail22register_instance_implEPvPNS0_8instanceE" data-ref-filename="_ZN8pybind116detail22register_instance_implEPvPNS0_8instanceE">register_instance_impl</a>);</td></tr>
<tr><th id="317">317</th><td>}</td></tr>
<tr><th id="318">318</th><td></td></tr>
<tr><th id="319">319</th><td><b>inline</b> <em>bool</em> <dfn class="decl def fn" id="_ZN8pybind116detail19deregister_instanceEPNS0_8instanceEPvPKNS0_9type_infoE" title='pybind11::detail::deregister_instance' data-ref="_ZN8pybind116detail19deregister_instanceEPNS0_8instanceEPvPKNS0_9type_infoE" data-ref-filename="_ZN8pybind116detail19deregister_instanceEPNS0_8instanceEPvPKNS0_9type_infoE">deregister_instance</dfn>(<a class="type" href="common.h.html#pybind11::detail::instance" title='pybind11::detail::instance' data-ref="pybind11::detail::instance" data-ref-filename="pybind11..detail..instance">instance</a> *<dfn class="local col0 decl" id="1190self" title='self' data-type='pybind11::detail::instance *' data-ref="1190self" data-ref-filename="1190self">self</dfn>, <em>void</em> *<dfn class="local col1 decl" id="1191valptr" title='valptr' data-type='void *' data-ref="1191valptr" data-ref-filename="1191valptr">valptr</dfn>, <em>const</em> <a class="type" href="internals.h.html#pybind11::detail::type_info" title='pybind11::detail::type_info' data-ref="pybind11::detail::type_info" data-ref-filename="pybind11..detail..type_info">type_info</a> *<dfn class="local col2 decl" id="1192tinfo" title='tinfo' data-type='const pybind11::detail::type_info *' data-ref="1192tinfo" data-ref-filename="1192tinfo">tinfo</dfn>) {</td></tr>
<tr><th id="320">320</th><td>    <em>bool</em> <dfn class="local col3 decl" id="1193ret" title='ret' data-type='bool' data-ref="1193ret" data-ref-filename="1193ret">ret</dfn> = <a class="ref fn" href="#_ZN8pybind116detail24deregister_instance_implEPvPNS0_8instanceE" title='pybind11::detail::deregister_instance_impl' data-ref="_ZN8pybind116detail24deregister_instance_implEPvPNS0_8instanceE" data-ref-filename="_ZN8pybind116detail24deregister_instance_implEPvPNS0_8instanceE">deregister_instance_impl</a>(<a class="local col1 ref" href="#1191valptr" title='valptr' data-ref="1191valptr" data-ref-filename="1191valptr">valptr</a>, <a class="local col0 ref" href="#1190self" title='self' data-ref="1190self" data-ref-filename="1190self">self</a>);</td></tr>
<tr><th id="321">321</th><td>    <b>if</b> (!<a class="local col2 ref" href="#1192tinfo" title='tinfo' data-ref="1192tinfo" data-ref-filename="1192tinfo">tinfo</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::simple_ancestors" title='pybind11::detail::type_info::simple_ancestors' data-ref="pybind11::detail::type_info::simple_ancestors" data-ref-filename="pybind11..detail..type_info..simple_ancestors">simple_ancestors</a>)</td></tr>
<tr><th id="322">322</th><td>        <a class="ref fn" href="#_ZN8pybind116detail21traverse_offset_basesEPvPKNS0_9type_infoEPNS0_8instanceEPFbS1_S6_E" title='pybind11::detail::traverse_offset_bases' data-ref="_ZN8pybind116detail21traverse_offset_basesEPvPKNS0_9type_infoEPNS0_8instanceEPFbS1_S6_E" data-ref-filename="_ZN8pybind116detail21traverse_offset_basesEPvPKNS0_9type_infoEPNS0_8instanceEPFbS1_S6_E">traverse_offset_bases</a>(<a class="local col1 ref" href="#1191valptr" title='valptr' data-ref="1191valptr" data-ref-filename="1191valptr">valptr</a>, <a class="local col2 ref" href="#1192tinfo" title='tinfo' data-ref="1192tinfo" data-ref-filename="1192tinfo">tinfo</a>, <a class="local col0 ref" href="#1190self" title='self' data-ref="1190self" data-ref-filename="1190self">self</a>, <a class="ref fn" href="#_ZN8pybind116detail24deregister_instance_implEPvPNS0_8instanceE" title='pybind11::detail::deregister_instance_impl' data-ref="_ZN8pybind116detail24deregister_instance_implEPvPNS0_8instanceE" data-ref-filename="_ZN8pybind116detail24deregister_instance_implEPvPNS0_8instanceE">deregister_instance_impl</a>);</td></tr>
<tr><th id="323">323</th><td>    <b>return</b> <a class="local col3 ref" href="#1193ret" title='ret' data-ref="1193ret" data-ref-filename="1193ret">ret</a>;</td></tr>
<tr><th id="324">324</th><td>}</td></tr>
<tr><th id="325">325</th><td></td></tr>
<tr><th id="326">326</th><td><i class="doc">/// Instance creation function for all pybind11 types. It allocates the internal instance layout for</i></td></tr>
<tr><th id="327">327</th><td><i class="doc">/// holding C++ objects and holders.  Allocation is done lazily (the first time the instance is cast</i></td></tr>
<tr><th id="328">328</th><td><i class="doc">/// to a reference or pointer), and initialization is done by an `__init__` function.</i></td></tr>
<tr><th id="329">329</th><td><b>inline</b> <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="decl def fn" id="_ZN8pybind116detail17make_new_instanceEP11_typeobject" title='pybind11::detail::make_new_instance' data-ref="_ZN8pybind116detail17make_new_instanceEP11_typeobject" data-ref-filename="_ZN8pybind116detail17make_new_instanceEP11_typeobject">make_new_instance</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *<dfn class="local col4 decl" id="1194type" title='type' data-type='PyTypeObject *' data-ref="1194type" data-ref-filename="1194type">type</dfn>) {</td></tr>
<tr><th id="330">330</th><td><u>#<span data-ppcond="330">if</span> defined(<span class="macro" data-ref="_M/PYPY_VERSION">PYPY_VERSION</span>)</u></td></tr>
<tr><th id="331">331</th><td>    <i>// PyPy gets tp_basicsize wrong (issue 2482) under multiple inheritance when the first inherited</i></td></tr>
<tr><th id="332">332</th><td><i>    // object is a a plain Python type (i.e. not derived from an extension type).  Fix it.</i></td></tr>
<tr><th id="333">333</th><td>    ssize_t instance_size = <b>static_cast</b>&lt;ssize_t&gt;(<b>sizeof</b>(instance));</td></tr>
<tr><th id="334">334</th><td>    <b>if</b> (type-&gt;tp_basicsize &lt; instance_size) {</td></tr>
<tr><th id="335">335</th><td>        type-&gt;tp_basicsize = instance_size;</td></tr>
<tr><th id="336">336</th><td>    }</td></tr>
<tr><th id="337">337</th><td><u>#<span data-ppcond="330">endif</span></u></td></tr>
<tr><th id="338">338</th><td>    <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col5 decl" id="1195self" title='self' data-type='PyObject *' data-ref="1195self" data-ref-filename="1195self">self</dfn> = <a class="local col4 ref" href="#1194type" title='type' data-ref="1194type" data-ref-filename="1194type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_alloc" title='_typeobject::tp_alloc' data-ref="_typeobject::tp_alloc" data-ref-filename="_typeobject..tp_alloc">tp_alloc</a>(<a class="local col4 ref" href="#1194type" title='type' data-ref="1194type" data-ref-filename="1194type">type</a>, <var>0</var>);</td></tr>
<tr><th id="339">339</th><td>    <em>auto</em> <dfn class="local col6 decl" id="1196inst" title='inst' data-type='pybind11::detail::instance *' data-ref="1196inst" data-ref-filename="1196inst">inst</dfn> = <b>reinterpret_cast</b>&lt;<a class="type" href="common.h.html#pybind11::detail::instance" title='pybind11::detail::instance' data-ref="pybind11::detail::instance" data-ref-filename="pybind11..detail..instance">instance</a> *&gt;(<a class="local col5 ref" href="#1195self" title='self' data-ref="1195self" data-ref-filename="1195self">self</a>);</td></tr>
<tr><th id="340">340</th><td>    <i>// Allocate the value/holder internals:</i></td></tr>
<tr><th id="341">341</th><td>    <a class="local col6 ref" href="#1196inst" title='inst' data-ref="1196inst" data-ref-filename="1196inst">inst</a>-&gt;<a class="ref fn" href="../cast.h.html#_ZN8pybind116detail8instance15allocate_layoutEv" title='pybind11::detail::instance::allocate_layout' data-ref="_ZN8pybind116detail8instance15allocate_layoutEv" data-ref-filename="_ZN8pybind116detail8instance15allocate_layoutEv">allocate_layout</a>();</td></tr>
<tr><th id="342">342</th><td></td></tr>
<tr><th id="343">343</th><td>    <b>return</b> <a class="local col5 ref" href="#1195self" title='self' data-ref="1195self" data-ref-filename="1195self">self</a>;</td></tr>
<tr><th id="344">344</th><td>}</td></tr>
<tr><th id="345">345</th><td></td></tr>
<tr><th id="346">346</th><td><i class="doc">/// Instance creation function for all pybind11 types. It only allocates space for the</i></td></tr>
<tr><th id="347">347</th><td><i class="doc">/// C++ object, but doesn't call the constructor -- an `__init__` function must do that.</i></td></tr>
<tr><th id="348">348</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="decl def fn" id="pybind11::detail::pybind11_object_new" title='pybind11::detail::pybind11_object_new' data-ref="pybind11::detail::pybind11_object_new" data-ref-filename="pybind11..detail..pybind11_object_new">pybind11_object_new</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *<dfn class="local col7 decl" id="1197type" title='type' data-type='PyTypeObject *' data-ref="1197type" data-ref-filename="1197type">type</dfn>, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *) {</td></tr>
<tr><th id="349">349</th><td>    <b>return</b> <a class="ref fn" href="#_ZN8pybind116detail17make_new_instanceEP11_typeobject" title='pybind11::detail::make_new_instance' data-ref="_ZN8pybind116detail17make_new_instanceEP11_typeobject" data-ref-filename="_ZN8pybind116detail17make_new_instanceEP11_typeobject">make_new_instance</a>(<a class="local col7 ref" href="#1197type" title='type' data-ref="1197type" data-ref-filename="1197type">type</a>);</td></tr>
<tr><th id="350">350</th><td>}</td></tr>
<tr><th id="351">351</th><td></td></tr>
<tr><th id="352">352</th><td><i class="doc">/// An `__init__` function constructs the C++ object. Users should provide at least one</i></td></tr>
<tr><th id="353">353</th><td><i class="doc">/// of these using `py::init` or directly with `.def(__init__, ...)`. Otherwise, the</i></td></tr>
<tr><th id="354">354</th><td><i class="doc">/// following default function will be used which simply throws an exception.</i></td></tr>
<tr><th id="355">355</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <em>int</em> <dfn class="decl def fn" id="pybind11::detail::pybind11_object_init" title='pybind11::detail::pybind11_object_init' data-ref="pybind11::detail::pybind11_object_init" data-ref-filename="pybind11..detail..pybind11_object_init">pybind11_object_init</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col8 decl" id="1198self" title='self' data-type='PyObject *' data-ref="1198self" data-ref-filename="1198self">self</dfn>, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *) {</td></tr>
<tr><th id="356">356</th><td>    <a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *<dfn class="local col9 decl" id="1199type" title='type' data-type='PyTypeObject *' data-ref="1199type" data-ref-filename="1199type">type</dfn> = <a class="macro" href="../../../../../../../include/python3.8/object.h.html#122" title="(((PyObject*)(self))-&gt;ob_type)" data-ref="_M/Py_TYPE">Py_TYPE</a>(<a class="local col8 ref" href="#1198self" title='self' data-ref="1198self" data-ref-filename="1198self">self</a>);</td></tr>
<tr><th id="357">357</th><td>    <span class="namespace">std::</span><span class='typedef' title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</span> <dfn class="local col0 decl" id="1200msg" title='msg' data-type='std::string' data-ref="1200msg" data-ref-filename="1200msg">msg</dfn> = <a class="ref fn" href="#_ZN8pybind116detail27get_fully_qualified_tp_nameB5cxx11EP11_typeobject" title='pybind11::detail::get_fully_qualified_tp_name' data-ref="_ZN8pybind116detail27get_fully_qualified_tp_nameB5cxx11EP11_typeobject" data-ref-filename="_ZN8pybind116detail27get_fully_qualified_tp_nameB5cxx11EP11_typeobject">get_fully_qualified_tp_name</a>(<a class="local col9 ref" href="#1199type" title='type' data-ref="1199type" data-ref-filename="1199type">type</a>) <span class='ref fn' title='std::operator+' data-ref="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_" data-ref-filename="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_">+</span> <q>": No constructor defined!"</q>;</td></tr>
<tr><th id="358">358</th><td>    <a class="ref fn" href="../../../../../../../include/python3.8/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString" data-ref-filename="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../../../../../../../include/python3.8/pyerrors.h.html#PyExc_TypeError" title='PyExc_TypeError' data-ref="PyExc_TypeError" data-ref-filename="PyExc_TypeError">PyExc_TypeError</a>, <a class="local col0 ref" href="#1200msg" title='msg' data-ref="1200msg" data-ref-filename="1200msg">msg</a>.<span class='ref fn' title='std::__cxx11::basic_string::c_str' data-ref="_ZNKSt7__cxx1112basic_string5c_strEv" data-ref-filename="_ZNKSt7__cxx1112basic_string5c_strEv">c_str</span>());</td></tr>
<tr><th id="359">359</th><td>    <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="360">360</th><td>}</td></tr>
<tr><th id="361">361</th><td></td></tr>
<tr><th id="362">362</th><td><b>inline</b> <em>void</em> <dfn class="decl def fn" id="_ZN8pybind116detail11add_patientEP7_objectS2_" title='pybind11::detail::add_patient' data-ref="_ZN8pybind116detail11add_patientEP7_objectS2_" data-ref-filename="_ZN8pybind116detail11add_patientEP7_objectS2_">add_patient</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col1 decl" id="1201nurse" title='nurse' data-type='PyObject *' data-ref="1201nurse" data-ref-filename="1201nurse">nurse</dfn>, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col2 decl" id="1202patient" title='patient' data-type='PyObject *' data-ref="1202patient" data-ref-filename="1202patient">patient</dfn>) {</td></tr>
<tr><th id="363">363</th><td>    <em>auto</em> &amp;<dfn class="local col3 decl" id="1203internals" title='internals' data-type='pybind11::detail::internals &amp;' data-ref="1203internals" data-ref-filename="1203internals">internals</dfn> = <a class="ref fn" href="internals.h.html#_ZN8pybind116detail13get_internalsEv" title='pybind11::detail::get_internals' data-ref="_ZN8pybind116detail13get_internalsEv" data-ref-filename="_ZN8pybind116detail13get_internalsEv">get_internals</a>();</td></tr>
<tr><th id="364">364</th><td>    <em>auto</em> <dfn class="local col4 decl" id="1204instance" title='instance' data-type='pybind11::detail::instance *' data-ref="1204instance" data-ref-filename="1204instance">instance</dfn> = <b>reinterpret_cast</b>&lt;<span class="namespace">detail::</span><a class="type" href="common.h.html#pybind11::detail::instance" title='pybind11::detail::instance' data-ref="pybind11::detail::instance" data-ref-filename="pybind11..detail..instance">instance</a> *&gt;(<a class="local col1 ref" href="#1201nurse" title='nurse' data-ref="1201nurse" data-ref-filename="1201nurse">nurse</a>);</td></tr>
<tr><th id="365">365</th><td>    <a class="local col4 ref" href="#1204instance" title='instance' data-ref="1204instance" data-ref-filename="1204instance">instance</a>-&gt;<a class="ref field" href="common.h.html#pybind11::detail::instance::has_patients" title='pybind11::detail::instance::has_patients' data-ref="pybind11::detail::instance::has_patients" data-ref-filename="pybind11..detail..instance..has_patients">has_patients</a> = <b>true</b>;</td></tr>
<tr><th id="366">366</th><td>    <a class="macro" href="../../../../../../../include/python3.8/object.h.html#462" title="_Py_INCREF(((PyObject*)(patient)))" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="local col2 ref" href="#1202patient" title='patient' data-ref="1202patient" data-ref-filename="1202patient">patient</a>);</td></tr>
<tr><th id="367">367</th><td>    <a class="local col3 ref" href="#1203internals" title='internals' data-ref="1203internals" data-ref-filename="1203internals">internals</a>.<a class="ref field" href="internals.h.html#pybind11::detail::internals::patients" title='pybind11::detail::internals::patients' data-ref="pybind11::detail::internals::patients" data-ref-filename="pybind11..detail..internals..patients">patients</a><span class='ref fn' title='std::unordered_map::operator[]' data-ref="_ZNSt13unordered_mapixERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS7_27272062" data-ref-filename="_ZNSt13unordered_mapixERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS7_27272062">[<a class="local col1 ref" href="#1201nurse" title='nurse' data-ref="1201nurse" data-ref-filename="1201nurse">nurse</a>]</span>.<span class='ref fn' title='std::vector::push_back' data-ref="_ZNSt6vector9push_backERKT_" data-ref-filename="_ZNSt6vector9push_backERKT_">push_back</span>(<a class="local col2 ref" href="#1202patient" title='patient' data-ref="1202patient" data-ref-filename="1202patient">patient</a>);</td></tr>
<tr><th id="368">368</th><td>}</td></tr>
<tr><th id="369">369</th><td></td></tr>
<tr><th id="370">370</th><td><b>inline</b> <em>void</em> <dfn class="decl def fn" id="_ZN8pybind116detail14clear_patientsEP7_object" title='pybind11::detail::clear_patients' data-ref="_ZN8pybind116detail14clear_patientsEP7_object" data-ref-filename="_ZN8pybind116detail14clear_patientsEP7_object">clear_patients</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col5 decl" id="1205self" title='self' data-type='PyObject *' data-ref="1205self" data-ref-filename="1205self">self</dfn>) {</td></tr>
<tr><th id="371">371</th><td>    <em>auto</em> <dfn class="local col6 decl" id="1206instance" title='instance' data-type='pybind11::detail::instance *' data-ref="1206instance" data-ref-filename="1206instance">instance</dfn> = <b>reinterpret_cast</b>&lt;<span class="namespace">detail::</span><a class="type" href="common.h.html#pybind11::detail::instance" title='pybind11::detail::instance' data-ref="pybind11::detail::instance" data-ref-filename="pybind11..detail..instance">instance</a> *&gt;(<a class="local col5 ref" href="#1205self" title='self' data-ref="1205self" data-ref-filename="1205self">self</a>);</td></tr>
<tr><th id="372">372</th><td>    <em>auto</em> &amp;<dfn class="local col7 decl" id="1207internals" title='internals' data-type='pybind11::detail::internals &amp;' data-ref="1207internals" data-ref-filename="1207internals">internals</dfn> = <a class="ref fn" href="internals.h.html#_ZN8pybind116detail13get_internalsEv" title='pybind11::detail::get_internals' data-ref="_ZN8pybind116detail13get_internalsEv" data-ref-filename="_ZN8pybind116detail13get_internalsEv">get_internals</a>();</td></tr>
<tr><th id="373">373</th><td>    <em>auto</em> <dfn class="local col8 decl" id="1208pos" title='pos' data-type='std::__detail::_Node_iterator&lt;std::pair&lt;const _object *const, std::vector&lt;_object *, std::allocator&lt;_object *&gt; &gt; &gt;, false, false&gt;' data-ref="1208pos" data-ref-filename="1208pos">pos</dfn> = <a class="local col7 ref" href="#1207internals" title='internals' data-ref="1207internals" data-ref-filename="1207internals">internals</a>.<a class="ref field" href="internals.h.html#pybind11::detail::internals::patients" title='pybind11::detail::internals::patients' data-ref="pybind11::detail::internals::patients" data-ref-filename="pybind11..detail..internals..patients">patients</a>.<span class='ref fn' title='std::unordered_map::find' data-ref="_ZNSt13unordered_map4findERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS12423071" data-ref-filename="_ZNSt13unordered_map4findERKNSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS12423071">find</span>(<a class="local col5 ref" href="#1205self" title='self' data-ref="1205self" data-ref-filename="1205self">self</a>);</td></tr>
<tr><th id="374">374</th><td>    <a class="macro" href="../../../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(pos != internals.patients.end());</td></tr>
<tr><th id="375">375</th><td>    <i>// Clearing the patients can cause more Python code to run, which</i></td></tr>
<tr><th id="376">376</th><td><i>    // can invalidate the iterator. Extract the vector of patients</i></td></tr>
<tr><th id="377">377</th><td><i>    // from the unordered_map first.</i></td></tr>
<tr><th id="378">378</th><td>    <em>auto</em> <dfn class="local col9 decl" id="1209patients" title='patients' data-type='std::vector&lt;_object *, std::allocator&lt;_object *&gt; &gt;' data-ref="1209patients" data-ref-filename="1209patients">patients</dfn> = <span class='ref fn fake' title='std::vector::vector&lt;_Tp, _Alloc&gt;' data-ref="_ZNSt6vectorC1EOSt6vectorIT_T0_E" data-ref-filename="_ZNSt6vectorC1EOSt6vectorIT_T0_E"></span><span class="namespace">std::</span><span class='ref fn' title='std::move' data-ref="_ZSt4moveOT_" data-ref-filename="_ZSt4moveOT_">move</span>(<span class='refarg'><a class="local col8 ref" href="#1208pos" title='pos' data-ref="1208pos" data-ref-filename="1208pos">pos</a><span class='ref fn' title='std::__detail::_Node_iterator::operator-&gt;' data-ref="_ZNKSt8__detail14_Node_iteratorptEv" data-ref-filename="_ZNKSt8__detail14_Node_iteratorptEv">-&gt;</span><span class='ref field' title='std::pair&lt;const _object *const, std::vector&lt;_object *, std::allocator&lt;_object *&gt; &gt; &gt;::second' data-ref="std::pair::second" data-ref-filename="std..pair..second">second</span></span>);</td></tr>
<tr><th id="379">379</th><td>    <a class="local col7 ref" href="#1207internals" title='internals' data-ref="1207internals" data-ref-filename="1207internals">internals</a>.<a class="ref field" href="internals.h.html#pybind11::detail::internals::patients" title='pybind11::detail::internals::patients' data-ref="pybind11::detail::internals::patients" data-ref-filename="pybind11..detail..internals..patients">patients</a>.<span class='ref fn' title='std::unordered_map::erase' data-ref="_ZNSt13unordered_map5eraseENSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS71173713" data-ref-filename="_ZNSt13unordered_map5eraseENSt10_HashtableIT_St4pairIKS1_T0_ET3_NSt8__detail10_Select1stET2_T1_NS7_18_Mod_range_hashingENS7_20_Default_ranged_hashENS71173713">erase</span>(<span class='ref fn fake' title='std::__detail::_Node_iterator&lt;std::pair&lt;const _object *const, std::vector&lt;_object *, std::allocator&lt;_object *&gt; &gt; &gt;, false, false&gt;::_Node_iterator' data-ref="_ZNSt8__detail14_Node_iteratorISt4pairIKPK7_objectSt6vectorIPS2_SaIS7_EEELb0ELb0EEC1ERKSB_" data-ref-filename="_ZNSt8__detail14_Node_iteratorISt4pairIKPK7_objectSt6vectorIPS2_SaIS7_EEELb0ELb0EEC1ERKSB_"></span><a class="local col8 ref" href="#1208pos" title='pos' data-ref="1208pos" data-ref-filename="1208pos">pos</a>);</td></tr>
<tr><th id="380">380</th><td>    <a class="local col6 ref" href="#1206instance" title='instance' data-ref="1206instance" data-ref-filename="1206instance">instance</a>-&gt;<a class="ref field" href="common.h.html#pybind11::detail::instance::has_patients" title='pybind11::detail::instance::has_patients' data-ref="pybind11::detail::instance::has_patients" data-ref-filename="pybind11..detail..instance..has_patients">has_patients</a> = <b>false</b>;</td></tr>
<tr><th id="381">381</th><td>    <b>for</b> (<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *&amp;<dfn class="local col0 decl" id="1210patient" title='patient' data-type='PyObject *&amp;' data-ref="1210patient" data-ref-filename="1210patient">patient</dfn> : <a class="local col9 ref" href="#1209patients" title='patients' data-ref="1209patients" data-ref-filename="1209patients">patients</a>)</td></tr>
<tr><th id="382">382</th><td>        <a class="macro" href="../../../../../../../include/python3.8/object.h.html#519" title="do { PyObject *_py_tmp = ((PyObject*)(patient)); if (_py_tmp != __null) { (patient) = __null; _Py_DECREF(&quot;/fast/tmp/halide.git/build/_deps/pybind11-src/include/pybind11/detail/class.h&quot;, 382, ((PyObject*)(_py_tmp))); } } while (0)" data-ref="_M/Py_CLEAR">Py_CLEAR</a>(<a class="local col0 ref" href="#1210patient" title='patient' data-ref="1210patient" data-ref-filename="1210patient">patient</a>);</td></tr>
<tr><th id="383">383</th><td>}</td></tr>
<tr><th id="384">384</th><td></td></tr>
<tr><th id="385">385</th><td><i class="doc">/// Clears all internal data from the instance and removes it from registered instances in</i></td></tr>
<tr><th id="386">386</th><td><i class="doc">/// preparation for deallocation.</i></td></tr>
<tr><th id="387">387</th><td><b>inline</b> <em>void</em> <dfn class="decl def fn" id="_ZN8pybind116detail14clear_instanceEP7_object" title='pybind11::detail::clear_instance' data-ref="_ZN8pybind116detail14clear_instanceEP7_object" data-ref-filename="_ZN8pybind116detail14clear_instanceEP7_object">clear_instance</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col1 decl" id="1211self" title='self' data-type='PyObject *' data-ref="1211self" data-ref-filename="1211self">self</dfn>) {</td></tr>
<tr><th id="388">388</th><td>    <em>auto</em> <dfn class="local col2 decl" id="1212instance" title='instance' data-type='pybind11::detail::instance *' data-ref="1212instance" data-ref-filename="1212instance">instance</dfn> = <b>reinterpret_cast</b>&lt;<span class="namespace">detail::</span><a class="type" href="common.h.html#pybind11::detail::instance" title='pybind11::detail::instance' data-ref="pybind11::detail::instance" data-ref-filename="pybind11..detail..instance">instance</a> *&gt;(<a class="local col1 ref" href="#1211self" title='self' data-ref="1211self" data-ref-filename="1211self">self</a>);</td></tr>
<tr><th id="389">389</th><td></td></tr>
<tr><th id="390">390</th><td>    <i>// Deallocate any values/holders, if present:</i></td></tr>
<tr><th id="391">391</th><td>    <b>for</b> (<em>auto</em> &amp;<dfn class="local col3 decl" id="1213v_h" title='v_h' data-type='pybind11::detail::value_and_holder &amp;' data-ref="1213v_h" data-ref-filename="1213v_h">v_h</dfn> : <a class="type" href="../cast.h.html#pybind11::detail::values_and_holders" title='pybind11::detail::values_and_holders' data-ref="pybind11::detail::values_and_holders" data-ref-filename="pybind11..detail..values_and_holders">values_and_holders</a><a class="ref fn" href="../cast.h.html#_ZN8pybind116detail18values_and_holdersC1EPNS0_8instanceE" title='pybind11::detail::values_and_holders::values_and_holders' data-ref="_ZN8pybind116detail18values_and_holdersC1EPNS0_8instanceE" data-ref-filename="_ZN8pybind116detail18values_and_holdersC1EPNS0_8instanceE">(</a><a class="local col2 ref" href="#1212instance" title='instance' data-ref="1212instance" data-ref-filename="1212instance">instance</a>)) {</td></tr>
<tr><th id="392">392</th><td>        <b>if</b> (<a class="ref fn fake" href="../cast.h.html#_ZNK8pybind116detail16value_and_holdercvbEv" title='pybind11::detail::value_and_holder::operator bool' data-ref="_ZNK8pybind116detail16value_and_holdercvbEv" data-ref-filename="_ZNK8pybind116detail16value_and_holdercvbEv"></a><a class="local col3 ref" href="#1213v_h" title='v_h' data-ref="1213v_h" data-ref-filename="1213v_h">v_h</a>) {</td></tr>
<tr><th id="393">393</th><td></td></tr>
<tr><th id="394">394</th><td>            <i>// We have to deregister before we call dealloc because, for virtual MI types, we still</i></td></tr>
<tr><th id="395">395</th><td><i>            // need to be able to get the parent pointers.</i></td></tr>
<tr><th id="396">396</th><td>            <b>if</b> (<a class="local col3 ref" href="#1213v_h" title='v_h' data-ref="1213v_h" data-ref-filename="1213v_h">v_h</a>.<a class="ref fn" href="../cast.h.html#_ZNK8pybind116detail16value_and_holder19instance_registeredEv" title='pybind11::detail::value_and_holder::instance_registered' data-ref="_ZNK8pybind116detail16value_and_holder19instance_registeredEv" data-ref-filename="_ZNK8pybind116detail16value_and_holder19instance_registeredEv">instance_registered</a>() &amp;&amp; !<a class="ref fn" href="#_ZN8pybind116detail19deregister_instanceEPNS0_8instanceEPvPKNS0_9type_infoE" title='pybind11::detail::deregister_instance' data-ref="_ZN8pybind116detail19deregister_instanceEPNS0_8instanceEPvPKNS0_9type_infoE" data-ref-filename="_ZN8pybind116detail19deregister_instanceEPNS0_8instanceEPvPKNS0_9type_infoE">deregister_instance</a>(<a class="local col2 ref" href="#1212instance" title='instance' data-ref="1212instance" data-ref-filename="1212instance">instance</a>, <a class="local col3 ref" href="#1213v_h" title='v_h' data-ref="1213v_h" data-ref-filename="1213v_h">v_h</a>.<a class="ref fn" href="../cast.h.html#_ZNK8pybind116detail16value_and_holder9value_ptrEv" title='pybind11::detail::value_and_holder::value_ptr' data-ref="_ZNK8pybind116detail16value_and_holder9value_ptrEv" data-ref-filename="_ZNK8pybind116detail16value_and_holder9value_ptrEv">value_ptr</a>(), <a class="local col3 ref" href="#1213v_h" title='v_h' data-ref="1213v_h" data-ref-filename="1213v_h">v_h</a>.<a class="ref field" href="../cast.h.html#pybind11::detail::value_and_holder::type" title='pybind11::detail::value_and_holder::type' data-ref="pybind11::detail::value_and_holder::type" data-ref-filename="pybind11..detail..value_and_holder..type">type</a>))</td></tr>
<tr><th id="397">397</th><td>                <a class="ref fn" href="common.h.html#_ZN8pybind1113pybind11_failEPKc" title='pybind11::pybind11_fail' data-ref="_ZN8pybind1113pybind11_failEPKc" data-ref-filename="_ZN8pybind1113pybind11_failEPKc">pybind11_fail</a>(<q>"pybind11_object_dealloc(): Tried to deallocate unregistered instance!"</q>);</td></tr>
<tr><th id="398">398</th><td></td></tr>
<tr><th id="399">399</th><td>            <b>if</b> (<a class="local col2 ref" href="#1212instance" title='instance' data-ref="1212instance" data-ref-filename="1212instance">instance</a>-&gt;<a class="ref field" href="common.h.html#pybind11::detail::instance::owned" title='pybind11::detail::instance::owned' data-ref="pybind11::detail::instance::owned" data-ref-filename="pybind11..detail..instance..owned">owned</a> || <a class="local col3 ref" href="#1213v_h" title='v_h' data-ref="1213v_h" data-ref-filename="1213v_h">v_h</a>.<a class="ref fn" href="../cast.h.html#_ZNK8pybind116detail16value_and_holder18holder_constructedEv" title='pybind11::detail::value_and_holder::holder_constructed' data-ref="_ZNK8pybind116detail16value_and_holder18holder_constructedEv" data-ref-filename="_ZNK8pybind116detail16value_and_holder18holder_constructedEv">holder_constructed</a>())</td></tr>
<tr><th id="400">400</th><td>                <a class="local col3 ref" href="#1213v_h" title='v_h' data-ref="1213v_h" data-ref-filename="1213v_h">v_h</a>.<a class="ref field" href="../cast.h.html#pybind11::detail::value_and_holder::type" title='pybind11::detail::value_and_holder::type' data-ref="pybind11::detail::value_and_holder::type" data-ref-filename="pybind11..detail..value_and_holder..type">type</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::dealloc" title='pybind11::detail::type_info::dealloc' data-ref="pybind11::detail::type_info::dealloc" data-ref-filename="pybind11..detail..type_info..dealloc">dealloc</a>(<a class="local col3 ref" href="#1213v_h" title='v_h' data-ref="1213v_h" data-ref-filename="1213v_h">v_h</a>);</td></tr>
<tr><th id="401">401</th><td>        }</td></tr>
<tr><th id="402">402</th><td>    }</td></tr>
<tr><th id="403">403</th><td>    <i>// Deallocate the value/holder layout internals:</i></td></tr>
<tr><th id="404">404</th><td>    <a class="local col2 ref" href="#1212instance" title='instance' data-ref="1212instance" data-ref-filename="1212instance">instance</a>-&gt;<a class="ref fn" href="../cast.h.html#_ZN8pybind116detail8instance17deallocate_layoutEv" title='pybind11::detail::instance::deallocate_layout' data-ref="_ZN8pybind116detail8instance17deallocate_layoutEv" data-ref-filename="_ZN8pybind116detail8instance17deallocate_layoutEv">deallocate_layout</a>();</td></tr>
<tr><th id="405">405</th><td></td></tr>
<tr><th id="406">406</th><td>    <b>if</b> (<a class="local col2 ref" href="#1212instance" title='instance' data-ref="1212instance" data-ref-filename="1212instance">instance</a>-&gt;<a class="ref field" href="common.h.html#pybind11::detail::instance::weakrefs" title='pybind11::detail::instance::weakrefs' data-ref="pybind11::detail::instance::weakrefs" data-ref-filename="pybind11..detail..instance..weakrefs">weakrefs</a>)</td></tr>
<tr><th id="407">407</th><td>        <a class="ref fn" href="../../../../../../../include/python3.8/object.h.html#PyObject_ClearWeakRefs" title='PyObject_ClearWeakRefs' data-ref="PyObject_ClearWeakRefs" data-ref-filename="PyObject_ClearWeakRefs">PyObject_ClearWeakRefs</a>(<a class="local col1 ref" href="#1211self" title='self' data-ref="1211self" data-ref-filename="1211self">self</a>);</td></tr>
<tr><th id="408">408</th><td></td></tr>
<tr><th id="409">409</th><td>    <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> **<dfn class="local col4 decl" id="1214dict_ptr" title='dict_ptr' data-type='PyObject **' data-ref="1214dict_ptr" data-ref-filename="1214dict_ptr">dict_ptr</dfn> = <a class="ref fn" href="../../../../../../../include/python3.8/cpython/object.h.html#_PyObject_GetDictPtr" title='_PyObject_GetDictPtr' data-ref="_PyObject_GetDictPtr" data-ref-filename="_PyObject_GetDictPtr">_PyObject_GetDictPtr</a>(<a class="local col1 ref" href="#1211self" title='self' data-ref="1211self" data-ref-filename="1211self">self</a>);</td></tr>
<tr><th id="410">410</th><td>    <b>if</b> (<a class="local col4 ref" href="#1214dict_ptr" title='dict_ptr' data-ref="1214dict_ptr" data-ref-filename="1214dict_ptr">dict_ptr</a>)</td></tr>
<tr><th id="411">411</th><td>        <a class="macro" href="../../../../../../../include/python3.8/object.h.html#519" title="do { PyObject *_py_tmp = ((PyObject*)(*dict_ptr)); if (_py_tmp != __null) { (*dict_ptr) = __null; _Py_DECREF(&quot;/fast/tmp/halide.git/build/_deps/pybind11-src/include/pybind11/detail/class.h&quot;, 411, ((PyObject*)(_py_tmp))); } } while (0)" data-ref="_M/Py_CLEAR">Py_CLEAR</a>(*<a class="local col4 ref" href="#1214dict_ptr" title='dict_ptr' data-ref="1214dict_ptr" data-ref-filename="1214dict_ptr">dict_ptr</a>);</td></tr>
<tr><th id="412">412</th><td></td></tr>
<tr><th id="413">413</th><td>    <b>if</b> (<a class="local col2 ref" href="#1212instance" title='instance' data-ref="1212instance" data-ref-filename="1212instance">instance</a>-&gt;<a class="ref field" href="common.h.html#pybind11::detail::instance::has_patients" title='pybind11::detail::instance::has_patients' data-ref="pybind11::detail::instance::has_patients" data-ref-filename="pybind11..detail..instance..has_patients">has_patients</a>)</td></tr>
<tr><th id="414">414</th><td>        <a class="ref fn" href="#_ZN8pybind116detail14clear_patientsEP7_object" title='pybind11::detail::clear_patients' data-ref="_ZN8pybind116detail14clear_patientsEP7_object" data-ref-filename="_ZN8pybind116detail14clear_patientsEP7_object">clear_patients</a>(<a class="local col1 ref" href="#1211self" title='self' data-ref="1211self" data-ref-filename="1211self">self</a>);</td></tr>
<tr><th id="415">415</th><td>}</td></tr>
<tr><th id="416">416</th><td></td></tr>
<tr><th id="417">417</th><td><i class="doc">/// Instance destructor function for all pybind11 types. It calls `type_info.dealloc`</i></td></tr>
<tr><th id="418">418</th><td><i class="doc">/// to destroy the C++ object itself, while the rest is Python bookkeeping.</i></td></tr>
<tr><th id="419">419</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <em>void</em> <dfn class="decl def fn" id="pybind11::detail::pybind11_object_dealloc" title='pybind11::detail::pybind11_object_dealloc' data-ref="pybind11::detail::pybind11_object_dealloc" data-ref-filename="pybind11..detail..pybind11_object_dealloc">pybind11_object_dealloc</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col5 decl" id="1215self" title='self' data-type='PyObject *' data-ref="1215self" data-ref-filename="1215self">self</dfn>) {</td></tr>
<tr><th id="420">420</th><td>    <a class="ref fn" href="#_ZN8pybind116detail14clear_instanceEP7_object" title='pybind11::detail::clear_instance' data-ref="_ZN8pybind116detail14clear_instanceEP7_object" data-ref-filename="_ZN8pybind116detail14clear_instanceEP7_object">clear_instance</a>(<a class="local col5 ref" href="#1215self" title='self' data-ref="1215self" data-ref-filename="1215self">self</a>);</td></tr>
<tr><th id="421">421</th><td></td></tr>
<tr><th id="422">422</th><td>    <em>auto</em> <dfn class="local col6 decl" id="1216type" title='type' data-type='_typeobject *' data-ref="1216type" data-ref-filename="1216type">type</dfn> = <a class="macro" href="../../../../../../../include/python3.8/object.h.html#122" title="(((PyObject*)(self))-&gt;ob_type)" data-ref="_M/Py_TYPE">Py_TYPE</a>(<a class="local col5 ref" href="#1215self" title='self' data-ref="1215self" data-ref-filename="1215self">self</a>);</td></tr>
<tr><th id="423">423</th><td>    <a class="local col6 ref" href="#1216type" title='type' data-ref="1216type" data-ref-filename="1216type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_free" title='_typeobject::tp_free' data-ref="_typeobject::tp_free" data-ref-filename="_typeobject..tp_free">tp_free</a>(<a class="local col5 ref" href="#1215self" title='self' data-ref="1215self" data-ref-filename="1215self">self</a>);</td></tr>
<tr><th id="424">424</th><td></td></tr>
<tr><th id="425">425</th><td><u>#<span data-ppcond="425">if</span> <a class="macro" href="../../../../../../../include/python3.8/patchlevel.h.html#31" title="((3 &lt;&lt; 24) | (8 &lt;&lt; 16) | (5 &lt;&lt; 8) | (0xF &lt;&lt; 4) | (0 &lt;&lt; 0))" data-ref="_M/PY_VERSION_HEX">PY_VERSION_HEX</a> &lt; 0x03080000</u></td></tr>
<tr><th id="426">426</th><td>    <i>// `type-&gt;tp_dealloc != pybind11_object_dealloc` means that we're being called</i></td></tr>
<tr><th id="427">427</th><td><i>    // as part of a derived type's dealloc, in which case we're not allowed to decref</i></td></tr>
<tr><th id="428">428</th><td><i>    // the type here. For cross-module compatibility, we shouldn't compare directly</i></td></tr>
<tr><th id="429">429</th><td><i>    // with `pybind11_object_dealloc`, but with the common one stashed in internals.</i></td></tr>
<tr><th id="430">430</th><td>    <em>auto</em> pybind11_object_type = (PyTypeObject *) get_internals().instance_base;</td></tr>
<tr><th id="431">431</th><td>    <b>if</b> (type-&gt;tp_dealloc == pybind11_object_type-&gt;tp_dealloc)</td></tr>
<tr><th id="432">432</th><td>        Py_DECREF(type);</td></tr>
<tr><th id="433">433</th><td><u>#<span data-ppcond="425">else</span></u></td></tr>
<tr><th id="434">434</th><td>    <i>// This was not needed before Python 3.8 (Python issue 35810)</i></td></tr>
<tr><th id="435">435</th><td><i>    // <a href="https://github.com/pybind/pybind11/issues/1946">https://github.com/pybind/pybind11/issues/1946</a></i></td></tr>
<tr><th id="436">436</th><td>    <a class="macro" href="../../../../../../../include/python3.8/object.h.html#482" title="_Py_DECREF(&quot;/fast/tmp/halide.git/build/_deps/pybind11-src/include/pybind11/detail/class.h&quot;, 436, ((PyObject*)(type)))" data-ref="_M/Py_DECREF">Py_DECREF</a>(<a class="local col6 ref" href="#1216type" title='type' data-ref="1216type" data-ref-filename="1216type">type</a>);</td></tr>
<tr><th id="437">437</th><td><u>#<span data-ppcond="425">endif</span></u></td></tr>
<tr><th id="438">438</th><td>}</td></tr>
<tr><th id="439">439</th><td></td></tr>
<tr><th id="440">440</th><td><i class="doc">/** Create the type which can be used as a common base for all classes.  This is</i></td></tr>
<tr><th id="441">441</th><td><i class="doc">    needed in order to satisfy Python's requirements for multiple inheritance.</i></td></tr>
<tr><th id="442">442</th><td><i class="doc">    Return value: New reference. */</i></td></tr>
<tr><th id="443">443</th><td><b>inline</b> <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="decl def fn" id="_ZN8pybind116detail21make_object_base_typeEP11_typeobject" title='pybind11::detail::make_object_base_type' data-ref="_ZN8pybind116detail21make_object_base_typeEP11_typeobject" data-ref-filename="_ZN8pybind116detail21make_object_base_typeEP11_typeobject">make_object_base_type</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *<dfn class="local col7 decl" id="1217metaclass" title='metaclass' data-type='PyTypeObject *' data-ref="1217metaclass" data-ref-filename="1217metaclass">metaclass</dfn>) {</td></tr>
<tr><th id="444">444</th><td>    <b>constexpr</b> <em>auto</em> *<dfn class="local col8 decl" id="1218name" title='name' data-type='const char *const' data-ref="1218name" data-ref-filename="1218name">name</dfn> = <q>"pybind11_object"</q>;</td></tr>
<tr><th id="445">445</th><td>    <em>auto</em> <dfn class="local col9 decl" id="1219name_obj" title='name_obj' data-type='pybind11::object' data-ref="1219name_obj" data-ref-filename="1219name_obj">name_obj</dfn> = <a class="ref fn" href="../pytypes.h.html#_ZN8pybind1117reinterpret_stealENS_6handleE" title='pybind11::reinterpret_steal' data-ref="_ZN8pybind1117reinterpret_stealENS_6handleE" data-ref-filename="_ZN8pybind1117reinterpret_stealENS_6handleE">reinterpret_steal</a>&lt;<a class="type" href="../pytypes.h.html#pybind11::object" title='pybind11::object' data-ref="pybind11::object" data-ref-filename="pybind11..object">object</a>&gt;(<a class="macro" href="common.h.html#183" title="PyUnicode_FromString" data-ref="_M/PYBIND11_FROM_STRING">PYBIND11_FROM_STRING</a>(<a class="local col8 ref" href="#1218name" title='name' data-ref="1218name" data-ref-filename="1218name">name</a>));</td></tr>
<tr><th id="446">446</th><td></td></tr>
<tr><th id="447">447</th><td>    <i>/* Danger zone: from now (and until PyType_Ready), make sure to</i></td></tr>
<tr><th id="448">448</th><td><i>       issue no Python C API calls which could potentially invoke the</i></td></tr>
<tr><th id="449">449</th><td><i>       garbage collector (the GC will call type_traverse(), which will in</i></td></tr>
<tr><th id="450">450</th><td><i>       turn find the newly constructed type in an invalid state) */</i></td></tr>
<tr><th id="451">451</th><td>    <em>auto</em> <dfn class="local col0 decl" id="1220heap_type" title='heap_type' data-type='_heaptypeobject *' data-ref="1220heap_type" data-ref-filename="1220heap_type">heap_type</dfn> = (<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyHeapTypeObject" title='PyHeapTypeObject' data-type='struct _heaptypeobject' data-ref="PyHeapTypeObject" data-ref-filename="PyHeapTypeObject">PyHeapTypeObject</a> *) <a class="local col7 ref" href="#1217metaclass" title='metaclass' data-ref="1217metaclass" data-ref-filename="1217metaclass">metaclass</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_alloc" title='_typeobject::tp_alloc' data-ref="_typeobject::tp_alloc" data-ref-filename="_typeobject..tp_alloc">tp_alloc</a>(<a class="local col7 ref" href="#1217metaclass" title='metaclass' data-ref="1217metaclass" data-ref-filename="1217metaclass">metaclass</a>, <var>0</var>);</td></tr>
<tr><th id="452">452</th><td>    <b>if</b> (!<a class="local col0 ref" href="#1220heap_type" title='heap_type' data-ref="1220heap_type" data-ref-filename="1220heap_type">heap_type</a>)</td></tr>
<tr><th id="453">453</th><td>        <a class="ref fn" href="common.h.html#_ZN8pybind1113pybind11_failEPKc" title='pybind11::pybind11_fail' data-ref="_ZN8pybind1113pybind11_failEPKc" data-ref-filename="_ZN8pybind1113pybind11_failEPKc">pybind11_fail</a>(<q>"make_object_base_type(): error allocating type!"</q>);</td></tr>
<tr><th id="454">454</th><td></td></tr>
<tr><th id="455">455</th><td>    <a class="local col0 ref" href="#1220heap_type" title='heap_type' data-ref="1220heap_type" data-ref-filename="1220heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::ht_name" title='_heaptypeobject::ht_name' data-ref="_heaptypeobject::ht_name" data-ref-filename="_heaptypeobject..ht_name">ht_name</a> = <a class="local col9 ref" href="#1219name_obj" title='name_obj' data-ref="1219name_obj" data-ref-filename="1219name_obj">name_obj</a>.<a class="ref fn" href="../pytypes.h.html#_ZNKR8pybind116handle7inc_refEv" title='pybind11::handle::inc_ref' data-ref="_ZNKR8pybind116handle7inc_refEv" data-ref-filename="_ZNKR8pybind116handle7inc_refEv">inc_ref</a>().<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZNK8pybind116handle3ptrEv" data-ref-filename="_ZNK8pybind116handle3ptrEv">ptr</a>();</td></tr>
<tr><th id="456">456</th><td><u>#<span data-ppcond="456">ifdef</span> <a class="macro" href="#19" data-ref="_M/PYBIND11_BUILTIN_QUALNAME">PYBIND11_BUILTIN_QUALNAME</a></u></td></tr>
<tr><th id="457">457</th><td>    <a class="local col0 ref" href="#1220heap_type" title='heap_type' data-ref="1220heap_type" data-ref-filename="1220heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::ht_qualname" title='_heaptypeobject::ht_qualname' data-ref="_heaptypeobject::ht_qualname" data-ref-filename="_heaptypeobject..ht_qualname">ht_qualname</a> = <a class="local col9 ref" href="#1219name_obj" title='name_obj' data-ref="1219name_obj" data-ref-filename="1219name_obj">name_obj</a>.<a class="ref fn" href="../pytypes.h.html#_ZNKR8pybind116handle7inc_refEv" title='pybind11::handle::inc_ref' data-ref="_ZNKR8pybind116handle7inc_refEv" data-ref-filename="_ZNKR8pybind116handle7inc_refEv">inc_ref</a>().<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZNK8pybind116handle3ptrEv" data-ref-filename="_ZNK8pybind116handle3ptrEv">ptr</a>();</td></tr>
<tr><th id="458">458</th><td><u>#<span data-ppcond="456">endif</span></u></td></tr>
<tr><th id="459">459</th><td></td></tr>
<tr><th id="460">460</th><td>    <em>auto</em> <dfn class="local col1 decl" id="1221type" title='type' data-type='_typeobject *' data-ref="1221type" data-ref-filename="1221type">type</dfn> = &amp;<a class="local col0 ref" href="#1220heap_type" title='heap_type' data-ref="1220heap_type" data-ref-filename="1220heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::ht_type" title='_heaptypeobject::ht_type' data-ref="_heaptypeobject::ht_type" data-ref-filename="_heaptypeobject..ht_type">ht_type</a>;</td></tr>
<tr><th id="461">461</th><td>    <a class="local col1 ref" href="#1221type" title='type' data-ref="1221type" data-ref-filename="1221type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_name" title='_typeobject::tp_name' data-ref="_typeobject::tp_name" data-ref-filename="_typeobject..tp_name">tp_name</a> = <a class="local col8 ref" href="#1218name" title='name' data-ref="1218name" data-ref-filename="1218name">name</a>;</td></tr>
<tr><th id="462">462</th><td>    <a class="local col1 ref" href="#1221type" title='type' data-ref="1221type" data-ref-filename="1221type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_base" title='_typeobject::tp_base' data-ref="_typeobject::tp_base" data-ref-filename="_typeobject..tp_base">tp_base</a> = <a class="ref fn" href="#_ZN8pybind116detail11type_increfEP11_typeobject" title='pybind11::detail::type_incref' data-ref="_ZN8pybind116detail11type_increfEP11_typeobject" data-ref-filename="_ZN8pybind116detail11type_increfEP11_typeobject">type_incref</a>(&amp;<a class="ref" href="../../../../../../../include/python3.8/object.h.html#PyBaseObject_Type" title='PyBaseObject_Type' data-ref="PyBaseObject_Type" data-ref-filename="PyBaseObject_Type">PyBaseObject_Type</a>);</td></tr>
<tr><th id="463">463</th><td>    <a class="local col1 ref" href="#1221type" title='type' data-ref="1221type" data-ref-filename="1221type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_basicsize" title='_typeobject::tp_basicsize' data-ref="_typeobject::tp_basicsize" data-ref-filename="_typeobject..tp_basicsize">tp_basicsize</a> = <b>static_cast</b>&lt;<a class="typedef" href="common.h.html#pybind11::ssize_t" title='pybind11::ssize_t' data-type='Py_ssize_t' data-ref="pybind11::ssize_t" data-ref-filename="pybind11..ssize_t">ssize_t</a>&gt;(<b>sizeof</b>(<a class="type" href="common.h.html#pybind11::detail::instance" title='pybind11::detail::instance' data-ref="pybind11::detail::instance" data-ref-filename="pybind11..detail..instance">instance</a>));</td></tr>
<tr><th id="464">464</th><td>    <a class="local col1 ref" href="#1221type" title='type' data-ref="1221type" data-ref-filename="1221type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_flags" title='_typeobject::tp_flags' data-ref="_typeobject::tp_flags" data-ref-filename="_typeobject..tp_flags">tp_flags</a> = <a class="macro" href="../../../../../../../include/python3.8/object.h.html#332" title="( 0 | (1UL &lt;&lt; 18) | 0)" data-ref="_M/Py_TPFLAGS_DEFAULT">Py_TPFLAGS_DEFAULT</a> | <a class="macro" href="../../../../../../../include/python3.8/object.h.html#289" title="(1UL &lt;&lt; 10)" data-ref="_M/Py_TPFLAGS_BASETYPE">Py_TPFLAGS_BASETYPE</a> | <a class="macro" href="../../../../../../../include/python3.8/object.h.html#286" title="(1UL &lt;&lt; 9)" data-ref="_M/Py_TPFLAGS_HEAPTYPE">Py_TPFLAGS_HEAPTYPE</a>;</td></tr>
<tr><th id="465">465</th><td></td></tr>
<tr><th id="466">466</th><td>    <a class="local col1 ref" href="#1221type" title='type' data-ref="1221type" data-ref-filename="1221type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_new" title='_typeobject::tp_new' data-ref="_typeobject::tp_new" data-ref-filename="_typeobject..tp_new">tp_new</a> = <a class="ref fn" href="#pybind11::detail::pybind11_object_new" title='pybind11::detail::pybind11_object_new' data-ref="pybind11::detail::pybind11_object_new" data-ref-filename="pybind11..detail..pybind11_object_new">pybind11_object_new</a>;</td></tr>
<tr><th id="467">467</th><td>    <a class="local col1 ref" href="#1221type" title='type' data-ref="1221type" data-ref-filename="1221type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_init" title='_typeobject::tp_init' data-ref="_typeobject::tp_init" data-ref-filename="_typeobject..tp_init">tp_init</a> = <a class="ref fn" href="#pybind11::detail::pybind11_object_init" title='pybind11::detail::pybind11_object_init' data-ref="pybind11::detail::pybind11_object_init" data-ref-filename="pybind11..detail..pybind11_object_init">pybind11_object_init</a>;</td></tr>
<tr><th id="468">468</th><td>    <a class="local col1 ref" href="#1221type" title='type' data-ref="1221type" data-ref-filename="1221type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_dealloc" title='_typeobject::tp_dealloc' data-ref="_typeobject::tp_dealloc" data-ref-filename="_typeobject..tp_dealloc">tp_dealloc</a> = <a class="ref fn" href="#pybind11::detail::pybind11_object_dealloc" title='pybind11::detail::pybind11_object_dealloc' data-ref="pybind11::detail::pybind11_object_dealloc" data-ref-filename="pybind11..detail..pybind11_object_dealloc">pybind11_object_dealloc</a>;</td></tr>
<tr><th id="469">469</th><td></td></tr>
<tr><th id="470">470</th><td>    <i>/* Support weak references (needed for the keep_alive feature) */</i></td></tr>
<tr><th id="471">471</th><td>    <a class="local col1 ref" href="#1221type" title='type' data-ref="1221type" data-ref-filename="1221type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_weaklistoffset" title='_typeobject::tp_weaklistoffset' data-ref="_typeobject::tp_weaklistoffset" data-ref-filename="_typeobject..tp_weaklistoffset">tp_weaklistoffset</a> = <span class="macro" title="__builtin_offsetof(instance, weakrefs)" data-ref="_M/offsetof">offsetof</span>(<a class="type" href="common.h.html#pybind11::detail::instance" title='pybind11::detail::instance' data-ref="pybind11::detail::instance" data-ref-filename="pybind11..detail..instance">instance</a>, weakrefs);</td></tr>
<tr><th id="472">472</th><td></td></tr>
<tr><th id="473">473</th><td>    <b>if</b> (<a class="ref fn" href="../../../../../../../include/python3.8/object.h.html#PyType_Ready" title='PyType_Ready' data-ref="PyType_Ready" data-ref-filename="PyType_Ready">PyType_Ready</a>(<a class="local col1 ref" href="#1221type" title='type' data-ref="1221type" data-ref-filename="1221type">type</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="474">474</th><td>        <a class="ref fn" href="common.h.html#_ZN8pybind1113pybind11_failERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='pybind11::pybind11_fail' data-ref="_ZN8pybind1113pybind11_failERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN8pybind1113pybind11_failERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">pybind11_fail</a>(<q>"PyType_Ready failed in make_object_base_type():"</q> <span class='ref fn' title='std::operator+' data-ref="_ZStplPKT_ONSt7__cxx1112basic_stringIS_T0_T1_EE" data-ref-filename="_ZStplPKT_ONSt7__cxx1112basic_stringIS_T0_T1_EE">+</span> <a class="ref fn" href="../cast.h.html#_ZN8pybind116detail12error_stringB5cxx11Ev" title='pybind11::detail::error_string' data-ref="_ZN8pybind116detail12error_stringB5cxx11Ev" data-ref-filename="_ZN8pybind116detail12error_stringB5cxx11Ev">error_string</a>());</td></tr>
<tr><th id="475">475</th><td></td></tr>
<tr><th id="476">476</th><td>    <a class="ref fn" href="../pytypes.h.html#_ZN8pybind117setattrENS_6handleEPKcS0_" title='pybind11::setattr' data-ref="_ZN8pybind117setattrENS_6handleEPKcS0_" data-ref-filename="_ZN8pybind117setattrENS_6handleEPKcS0_">setattr</a>(<a class="ref fn fake" href="../pytypes.h.html#_ZN8pybind116handleC1EP7_object" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1EP7_object" data-ref-filename="_ZN8pybind116handleC1EP7_object"></a>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *) <a class="local col1 ref" href="#1221type" title='type' data-ref="1221type" data-ref-filename="1221type">type</a>, <q>"__module__"</q>, <a class="ref fn fake" href="../pytypes.h.html#176" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1EOS0_" data-ref-filename="_ZN8pybind116handleC1EOS0_"></a><a class="type" href="../pytypes.h.html#pybind11::str" title='pybind11::str' data-ref="pybind11::str" data-ref-filename="pybind11..str">str</a><a class="ref fn" href="../pytypes.h.html#_ZN8pybind113strC1EPKc" title='pybind11::str::str' data-ref="_ZN8pybind113strC1EPKc" data-ref-filename="_ZN8pybind113strC1EPKc">(</a><q>"pybind11_builtins"</q>));</td></tr>
<tr><th id="477">477</th><td>    <a class="macro" href="#20" title="" data-ref="_M/PYBIND11_SET_OLDPY_QUALNAME">PYBIND11_SET_OLDPY_QUALNAME</a>(type, name_obj);</td></tr>
<tr><th id="478">478</th><td></td></tr>
<tr><th id="479">479</th><td>    <a class="macro" href="../../../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(!PyType_HasFeature(type, Py_TPFLAGS_HAVE_GC));</td></tr>
<tr><th id="480">480</th><td>    <b>return</b> (<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *) <a class="local col0 ref" href="#1220heap_type" title='heap_type' data-ref="1220heap_type" data-ref-filename="1220heap_type">heap_type</a>;</td></tr>
<tr><th id="481">481</th><td>}</td></tr>
<tr><th id="482">482</th><td></td></tr>
<tr><th id="483">483</th><td><i class="doc">/// dynamic_attr: Support for `d = instance.__dict__`.</i></td></tr>
<tr><th id="484">484</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="decl def fn" id="pybind11::detail::pybind11_get_dict" title='pybind11::detail::pybind11_get_dict' data-ref="pybind11::detail::pybind11_get_dict" data-ref-filename="pybind11..detail..pybind11_get_dict">pybind11_get_dict</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col2 decl" id="1222self" title='self' data-type='PyObject *' data-ref="1222self" data-ref-filename="1222self">self</dfn>, <em>void</em> *) {</td></tr>
<tr><th id="485">485</th><td>    <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *&amp;<dfn class="local col3 decl" id="1223dict" title='dict' data-type='PyObject *&amp;' data-ref="1223dict" data-ref-filename="1223dict">dict</dfn> = *<a class="ref fn" href="../../../../../../../include/python3.8/cpython/object.h.html#_PyObject_GetDictPtr" title='_PyObject_GetDictPtr' data-ref="_PyObject_GetDictPtr" data-ref-filename="_PyObject_GetDictPtr">_PyObject_GetDictPtr</a>(<a class="local col2 ref" href="#1222self" title='self' data-ref="1222self" data-ref-filename="1222self">self</a>);</td></tr>
<tr><th id="486">486</th><td>    <b>if</b> (!<a class="local col3 ref" href="#1223dict" title='dict' data-ref="1223dict" data-ref-filename="1223dict">dict</a>)</td></tr>
<tr><th id="487">487</th><td>        <a class="local col3 ref" href="#1223dict" title='dict' data-ref="1223dict" data-ref-filename="1223dict">dict</a> = <a class="ref fn" href="../../../../../../../include/python3.8/dictobject.h.html#PyDict_New" title='PyDict_New' data-ref="PyDict_New" data-ref-filename="PyDict_New">PyDict_New</a>();</td></tr>
<tr><th id="488">488</th><td>    <a class="macro" href="../../../../../../../include/python3.8/object.h.html#536" title="_Py_XINCREF(((PyObject*)(dict)))" data-ref="_M/Py_XINCREF">Py_XINCREF</a>(<a class="local col3 ref" href="#1223dict" title='dict' data-ref="1223dict" data-ref-filename="1223dict">dict</a>);</td></tr>
<tr><th id="489">489</th><td>    <b>return</b> <a class="local col3 ref" href="#1223dict" title='dict' data-ref="1223dict" data-ref-filename="1223dict">dict</a>;</td></tr>
<tr><th id="490">490</th><td>}</td></tr>
<tr><th id="491">491</th><td></td></tr>
<tr><th id="492">492</th><td><i class="doc">/// dynamic_attr: Support for `instance.__dict__ = dict()`.</i></td></tr>
<tr><th id="493">493</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <em>int</em> <dfn class="decl def fn" id="pybind11::detail::pybind11_set_dict" title='pybind11::detail::pybind11_set_dict' data-ref="pybind11::detail::pybind11_set_dict" data-ref-filename="pybind11..detail..pybind11_set_dict">pybind11_set_dict</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col4 decl" id="1224self" title='self' data-type='PyObject *' data-ref="1224self" data-ref-filename="1224self">self</dfn>, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col5 decl" id="1225new_dict" title='new_dict' data-type='PyObject *' data-ref="1225new_dict" data-ref-filename="1225new_dict">new_dict</dfn>, <em>void</em> *) {</td></tr>
<tr><th id="494">494</th><td>    <b>if</b> (!<a class="macro" href="../../../../../../../include/python3.8/dictobject.h.html#17" title="((((((PyObject*)(new_dict))-&gt;ob_type))-&gt;tp_flags &amp; ((1UL &lt;&lt; 29))) != 0)" data-ref="_M/PyDict_Check">PyDict_Check</a>(<a class="local col5 ref" href="#1225new_dict" title='new_dict' data-ref="1225new_dict" data-ref-filename="1225new_dict">new_dict</a>)) {</td></tr>
<tr><th id="495">495</th><td>        <a class="ref fn" href="../../../../../../../include/python3.8/pyerrors.h.html#PyErr_Format" title='PyErr_Format' data-ref="PyErr_Format" data-ref-filename="PyErr_Format">PyErr_Format</a>(<a class="ref" href="../../../../../../../include/python3.8/pyerrors.h.html#PyExc_TypeError" title='PyExc_TypeError' data-ref="PyExc_TypeError" data-ref-filename="PyExc_TypeError">PyExc_TypeError</a>, <q>"__dict__ must be set to a dictionary, not a '%.200s'"</q>,</td></tr>
<tr><th id="496">496</th><td>                     <a class="ref fn" href="#_ZN8pybind116detail27get_fully_qualified_tp_nameB5cxx11EP11_typeobject" title='pybind11::detail::get_fully_qualified_tp_name' data-ref="_ZN8pybind116detail27get_fully_qualified_tp_nameB5cxx11EP11_typeobject" data-ref-filename="_ZN8pybind116detail27get_fully_qualified_tp_nameB5cxx11EP11_typeobject">get_fully_qualified_tp_name</a>(<a class="macro" href="../../../../../../../include/python3.8/object.h.html#122" title="(((PyObject*)(new_dict))-&gt;ob_type)" data-ref="_M/Py_TYPE">Py_TYPE</a>(<a class="local col5 ref" href="#1225new_dict" title='new_dict' data-ref="1225new_dict" data-ref-filename="1225new_dict">new_dict</a>)).<span class='ref fn' title='std::__cxx11::basic_string::c_str' data-ref="_ZNKSt7__cxx1112basic_string5c_strEv" data-ref-filename="_ZNKSt7__cxx1112basic_string5c_strEv">c_str</span>());</td></tr>
<tr><th id="497">497</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="498">498</th><td>    }</td></tr>
<tr><th id="499">499</th><td>    <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *&amp;<dfn class="local col6 decl" id="1226dict" title='dict' data-type='PyObject *&amp;' data-ref="1226dict" data-ref-filename="1226dict">dict</dfn> = *<a class="ref fn" href="../../../../../../../include/python3.8/cpython/object.h.html#_PyObject_GetDictPtr" title='_PyObject_GetDictPtr' data-ref="_PyObject_GetDictPtr" data-ref-filename="_PyObject_GetDictPtr">_PyObject_GetDictPtr</a>(<a class="local col4 ref" href="#1224self" title='self' data-ref="1224self" data-ref-filename="1224self">self</a>);</td></tr>
<tr><th id="500">500</th><td>    <a class="macro" href="../../../../../../../include/python3.8/object.h.html#462" title="_Py_INCREF(((PyObject*)(new_dict)))" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="local col5 ref" href="#1225new_dict" title='new_dict' data-ref="1225new_dict" data-ref-filename="1225new_dict">new_dict</a>);</td></tr>
<tr><th id="501">501</th><td>    <a class="macro" href="../../../../../../../include/python3.8/object.h.html#519" title="do { PyObject *_py_tmp = ((PyObject*)(dict)); if (_py_tmp != __null) { (dict) = __null; _Py_DECREF(&quot;/fast/tmp/halide.git/build/_deps/pybind11-src/include/pybind11/detail/class.h&quot;, 501, ((PyObject*)(_py_tmp))); } } while (0)" data-ref="_M/Py_CLEAR">Py_CLEAR</a>(<a class="local col6 ref" href="#1226dict" title='dict' data-ref="1226dict" data-ref-filename="1226dict">dict</a>);</td></tr>
<tr><th id="502">502</th><td>    <a class="local col6 ref" href="#1226dict" title='dict' data-ref="1226dict" data-ref-filename="1226dict">dict</a> = <a class="local col5 ref" href="#1225new_dict" title='new_dict' data-ref="1225new_dict" data-ref-filename="1225new_dict">new_dict</a>;</td></tr>
<tr><th id="503">503</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="504">504</th><td>}</td></tr>
<tr><th id="505">505</th><td></td></tr>
<tr><th id="506">506</th><td><i class="doc">/// dynamic_attr: Allow the garbage collector to traverse the internal instance `__dict__`.</i></td></tr>
<tr><th id="507">507</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <em>int</em> <dfn class="decl def fn" id="pybind11::detail::pybind11_traverse" title='pybind11::detail::pybind11_traverse' data-ref="pybind11::detail::pybind11_traverse" data-ref-filename="pybind11..detail..pybind11_traverse">pybind11_traverse</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col7 decl" id="1227self" title='self' data-type='PyObject *' data-ref="1227self" data-ref-filename="1227self">self</dfn>, <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#visitproc" title='visitproc' data-type='int (*)(PyObject *, void *)' data-ref="visitproc" data-ref-filename="visitproc">visitproc</a> <dfn class="local col8 decl" id="1228visit" title='visit' data-type='visitproc' data-ref="1228visit" data-ref-filename="1228visit">visit</dfn>, <em>void</em> *<dfn class="local col9 decl" id="1229arg" title='arg' data-type='void *' data-ref="1229arg" data-ref-filename="1229arg">arg</dfn>) {</td></tr>
<tr><th id="508">508</th><td>    <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *&amp;<dfn class="local col0 decl" id="1230dict" title='dict' data-type='PyObject *&amp;' data-ref="1230dict" data-ref-filename="1230dict">dict</dfn> = *<a class="ref fn" href="../../../../../../../include/python3.8/cpython/object.h.html#_PyObject_GetDictPtr" title='_PyObject_GetDictPtr' data-ref="_PyObject_GetDictPtr" data-ref-filename="_PyObject_GetDictPtr">_PyObject_GetDictPtr</a>(<a class="local col7 ref" href="#1227self" title='self' data-ref="1227self" data-ref-filename="1227self">self</a>);</td></tr>
<tr><th id="509">509</th><td>    <a class="macro" href="../../../../../../../include/python3.8/objimpl.h.html#266" title="do { if (dict) { int vret = visit(((PyObject*)(dict)), arg); if (vret) return vret; } } while (0)" data-ref="_M/Py_VISIT">Py_VISIT</a>(<a class="local col0 ref" href="#1230dict" title='dict' data-ref="1230dict" data-ref-filename="1230dict">dict</a>);</td></tr>
<tr><th id="510">510</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="511">511</th><td>}</td></tr>
<tr><th id="512">512</th><td></td></tr>
<tr><th id="513">513</th><td><i class="doc">/// dynamic_attr: Allow the GC to clear the dictionary.</i></td></tr>
<tr><th id="514">514</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <em>int</em> <dfn class="decl def fn" id="pybind11::detail::pybind11_clear" title='pybind11::detail::pybind11_clear' data-ref="pybind11::detail::pybind11_clear" data-ref-filename="pybind11..detail..pybind11_clear">pybind11_clear</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col1 decl" id="1231self" title='self' data-type='PyObject *' data-ref="1231self" data-ref-filename="1231self">self</dfn>) {</td></tr>
<tr><th id="515">515</th><td>    <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *&amp;<dfn class="local col2 decl" id="1232dict" title='dict' data-type='PyObject *&amp;' data-ref="1232dict" data-ref-filename="1232dict">dict</dfn> = *<a class="ref fn" href="../../../../../../../include/python3.8/cpython/object.h.html#_PyObject_GetDictPtr" title='_PyObject_GetDictPtr' data-ref="_PyObject_GetDictPtr" data-ref-filename="_PyObject_GetDictPtr">_PyObject_GetDictPtr</a>(<a class="local col1 ref" href="#1231self" title='self' data-ref="1231self" data-ref-filename="1231self">self</a>);</td></tr>
<tr><th id="516">516</th><td>    <a class="macro" href="../../../../../../../include/python3.8/object.h.html#519" title="do { PyObject *_py_tmp = ((PyObject*)(dict)); if (_py_tmp != __null) { (dict) = __null; _Py_DECREF(&quot;/fast/tmp/halide.git/build/_deps/pybind11-src/include/pybind11/detail/class.h&quot;, 516, ((PyObject*)(_py_tmp))); } } while (0)" data-ref="_M/Py_CLEAR">Py_CLEAR</a>(<a class="local col2 ref" href="#1232dict" title='dict' data-ref="1232dict" data-ref-filename="1232dict">dict</a>);</td></tr>
<tr><th id="517">517</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="518">518</th><td>}</td></tr>
<tr><th id="519">519</th><td></td></tr>
<tr><th id="520">520</th><td><i class="doc">/// Give instances of this type a `__dict__` and opt into garbage collection.</i></td></tr>
<tr><th id="521">521</th><td><b>inline</b> <em>void</em> <dfn class="decl def fn" id="_ZN8pybind116detail25enable_dynamic_attributesEP15_heaptypeobject" title='pybind11::detail::enable_dynamic_attributes' data-ref="_ZN8pybind116detail25enable_dynamic_attributesEP15_heaptypeobject" data-ref-filename="_ZN8pybind116detail25enable_dynamic_attributesEP15_heaptypeobject">enable_dynamic_attributes</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyHeapTypeObject" title='PyHeapTypeObject' data-type='struct _heaptypeobject' data-ref="PyHeapTypeObject" data-ref-filename="PyHeapTypeObject">PyHeapTypeObject</a> *<dfn class="local col3 decl" id="1233heap_type" title='heap_type' data-type='PyHeapTypeObject *' data-ref="1233heap_type" data-ref-filename="1233heap_type">heap_type</dfn>) {</td></tr>
<tr><th id="522">522</th><td>    <em>auto</em> <dfn class="local col4 decl" id="1234type" title='type' data-type='_typeobject *' data-ref="1234type" data-ref-filename="1234type">type</dfn> = &amp;<a class="local col3 ref" href="#1233heap_type" title='heap_type' data-ref="1233heap_type" data-ref-filename="1233heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::ht_type" title='_heaptypeobject::ht_type' data-ref="_heaptypeobject::ht_type" data-ref-filename="_heaptypeobject..ht_type">ht_type</a>;</td></tr>
<tr><th id="523">523</th><td>    <a class="local col4 ref" href="#1234type" title='type' data-ref="1234type" data-ref-filename="1234type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_flags" title='_typeobject::tp_flags' data-ref="_typeobject::tp_flags" data-ref-filename="_typeobject..tp_flags">tp_flags</a> |= <a class="macro" href="../../../../../../../include/python3.8/object.h.html#303" title="(1UL &lt;&lt; 14)" data-ref="_M/Py_TPFLAGS_HAVE_GC">Py_TPFLAGS_HAVE_GC</a>;</td></tr>
<tr><th id="524">524</th><td>    <a class="local col4 ref" href="#1234type" title='type' data-ref="1234type" data-ref-filename="1234type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_dictoffset" title='_typeobject::tp_dictoffset' data-ref="_typeobject::tp_dictoffset" data-ref-filename="_typeobject..tp_dictoffset">tp_dictoffset</a> = <a class="local col4 ref" href="#1234type" title='type' data-ref="1234type" data-ref-filename="1234type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_basicsize" title='_typeobject::tp_basicsize' data-ref="_typeobject::tp_basicsize" data-ref-filename="_typeobject..tp_basicsize">tp_basicsize</a>; <i>// place dict at the end</i></td></tr>
<tr><th id="525">525</th><td>    <a class="local col4 ref" href="#1234type" title='type' data-ref="1234type" data-ref-filename="1234type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_basicsize" title='_typeobject::tp_basicsize' data-ref="_typeobject::tp_basicsize" data-ref-filename="_typeobject..tp_basicsize">tp_basicsize</a> += (<a class="typedef" href="common.h.html#pybind11::ssize_t" title='pybind11::ssize_t' data-type='Py_ssize_t' data-ref="pybind11::ssize_t" data-ref-filename="pybind11..ssize_t">ssize_t</a>)<b>sizeof</b>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *); <i>// and allocate enough space for it</i></td></tr>
<tr><th id="526">526</th><td>    <a class="local col4 ref" href="#1234type" title='type' data-ref="1234type" data-ref-filename="1234type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_traverse" title='_typeobject::tp_traverse' data-ref="_typeobject::tp_traverse" data-ref-filename="_typeobject..tp_traverse">tp_traverse</a> = <a class="ref fn" href="#pybind11::detail::pybind11_traverse" title='pybind11::detail::pybind11_traverse' data-ref="pybind11::detail::pybind11_traverse" data-ref-filename="pybind11..detail..pybind11_traverse">pybind11_traverse</a>;</td></tr>
<tr><th id="527">527</th><td>    <a class="local col4 ref" href="#1234type" title='type' data-ref="1234type" data-ref-filename="1234type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_clear" title='_typeobject::tp_clear' data-ref="_typeobject::tp_clear" data-ref-filename="_typeobject..tp_clear">tp_clear</a> = <a class="ref fn" href="#pybind11::detail::pybind11_clear" title='pybind11::detail::pybind11_clear' data-ref="pybind11::detail::pybind11_clear" data-ref-filename="pybind11..detail..pybind11_clear">pybind11_clear</a>;</td></tr>
<tr><th id="528">528</th><td></td></tr>
<tr><th id="529">529</th><td>    <em>static</em> <a class="typedef" href="../../../../../../../include/python3.8/descrobject.h.html#PyGetSetDef" title='PyGetSetDef' data-type='struct PyGetSetDef' data-ref="PyGetSetDef" data-ref-filename="PyGetSetDef">PyGetSetDef</a> <dfn class="local col5 decl" id="1235getset" title='getset' data-type='PyGetSetDef [2]' data-ref="1235getset" data-ref-filename="1235getset">getset</dfn>[] = {</td></tr>
<tr><th id="530">530</th><td>        {<b>const_cast</b>&lt;<em>char</em>*&gt;(<q>"__dict__"</q>), <a class="ref fn" href="#pybind11::detail::pybind11_get_dict" title='pybind11::detail::pybind11_get_dict' data-ref="pybind11::detail::pybind11_get_dict" data-ref-filename="pybind11..detail..pybind11_get_dict">pybind11_get_dict</a>, <a class="ref fn" href="#pybind11::detail::pybind11_set_dict" title='pybind11::detail::pybind11_set_dict' data-ref="pybind11::detail::pybind11_set_dict" data-ref-filename="pybind11..detail..pybind11_set_dict">pybind11_set_dict</a>, <b>nullptr</b>, <b>nullptr</b>},</td></tr>
<tr><th id="531">531</th><td>        {<b>nullptr</b>, <b>nullptr</b>, <b>nullptr</b>, <b>nullptr</b>, <b>nullptr</b>}</td></tr>
<tr><th id="532">532</th><td>    };</td></tr>
<tr><th id="533">533</th><td>    <a class="local col4 ref" href="#1234type" title='type' data-ref="1234type" data-ref-filename="1234type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_getset" title='_typeobject::tp_getset' data-ref="_typeobject::tp_getset" data-ref-filename="_typeobject..tp_getset">tp_getset</a> = <a class="local col5 ref" href="#1235getset" title='getset' data-ref="1235getset" data-ref-filename="1235getset">getset</a>;</td></tr>
<tr><th id="534">534</th><td>}</td></tr>
<tr><th id="535">535</th><td></td></tr>
<tr><th id="536">536</th><td><i class="doc">/// buffer_protocol: Fill in the view as specified by flags.</i></td></tr>
<tr><th id="537">537</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <em>int</em> <dfn class="decl def fn" id="pybind11::detail::pybind11_getbuffer" title='pybind11::detail::pybind11_getbuffer' data-ref="pybind11::detail::pybind11_getbuffer" data-ref-filename="pybind11..detail..pybind11_getbuffer">pybind11_getbuffer</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *<dfn class="local col6 decl" id="1236obj" title='obj' data-type='PyObject *' data-ref="1236obj" data-ref-filename="1236obj">obj</dfn>, <a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#Py_buffer" title='Py_buffer' data-type='struct bufferinfo' data-ref="Py_buffer" data-ref-filename="Py_buffer">Py_buffer</a> *<dfn class="local col7 decl" id="1237view" title='view' data-type='Py_buffer *' data-ref="1237view" data-ref-filename="1237view">view</dfn>, <em>int</em> <dfn class="local col8 decl" id="1238flags" title='flags' data-type='int' data-ref="1238flags" data-ref-filename="1238flags">flags</dfn>) {</td></tr>
<tr><th id="538">538</th><td>    <i>// Look for a `get_buffer` implementation in this type's info or any bases (following MRO).</i></td></tr>
<tr><th id="539">539</th><td>    <a class="type" href="internals.h.html#pybind11::detail::type_info" title='pybind11::detail::type_info' data-ref="pybind11::detail::type_info" data-ref-filename="pybind11..detail..type_info">type_info</a> *<dfn class="local col9 decl" id="1239tinfo" title='tinfo' data-type='pybind11::detail::type_info *' data-ref="1239tinfo" data-ref-filename="1239tinfo">tinfo</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="540">540</th><td>    <b>for</b> (<em>auto</em> <dfn class="local col0 decl" id="1240type" title='type' data-type='pybind11::handle' data-ref="1240type" data-ref-filename="1240type">type</dfn> : <a class="ref fn" href="../pytypes.h.html#_ZN8pybind1118reinterpret_borrowENS_6handleE" title='pybind11::reinterpret_borrow' data-ref="_ZN8pybind1118reinterpret_borrowENS_6handleE" data-ref-filename="_ZN8pybind1118reinterpret_borrowENS_6handleE">reinterpret_borrow</a>&lt;<a class="type" href="../pytypes.h.html#pybind11::tuple" title='pybind11::tuple' data-ref="pybind11::tuple" data-ref-filename="pybind11..tuple">tuple</a>&gt;(<a class="macro" href="../../../../../../../include/python3.8/object.h.html#122" title="(((PyObject*)(obj))-&gt;ob_type)" data-ref="_M/Py_TYPE">Py_TYPE</a>(<a class="local col6 ref" href="#1236obj" title='obj' data-ref="1236obj" data-ref-filename="1236obj">obj</a>)-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_mro" title='_typeobject::tp_mro' data-ref="_typeobject::tp_mro" data-ref-filename="_typeobject..tp_mro">tp_mro</a>)) {</td></tr>
<tr><th id="541">541</th><td>        <a class="local col9 ref" href="#1239tinfo" title='tinfo' data-ref="1239tinfo" data-ref-filename="1239tinfo">tinfo</a> = <a class="ref fn" href="../cast.h.html#_ZN8pybind116detail13get_type_infoEP11_typeobject" title='pybind11::detail::get_type_info' data-ref="_ZN8pybind116detail13get_type_infoEP11_typeobject" data-ref-filename="_ZN8pybind116detail13get_type_infoEP11_typeobject">get_type_info</a>((<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *) <a class="local col0 ref" href="#1240type" title='type' data-ref="1240type" data-ref-filename="1240type">type</a>.<a class="ref fn" href="../pytypes.h.html#_ZN8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZN8pybind116handle3ptrEv" data-ref-filename="_ZN8pybind116handle3ptrEv">ptr</a>());</td></tr>
<tr><th id="542">542</th><td>        <b>if</b> (<a class="local col9 ref" href="#1239tinfo" title='tinfo' data-ref="1239tinfo" data-ref-filename="1239tinfo">tinfo</a> &amp;&amp; <a class="local col9 ref" href="#1239tinfo" title='tinfo' data-ref="1239tinfo" data-ref-filename="1239tinfo">tinfo</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::get_buffer" title='pybind11::detail::type_info::get_buffer' data-ref="pybind11::detail::type_info::get_buffer" data-ref-filename="pybind11..detail..type_info..get_buffer">get_buffer</a>)</td></tr>
<tr><th id="543">543</th><td>            <b>break</b>;</td></tr>
<tr><th id="544">544</th><td>    }</td></tr>
<tr><th id="545">545</th><td>    <b>if</b> (<a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a> == <b>nullptr</b> || !<a class="local col9 ref" href="#1239tinfo" title='tinfo' data-ref="1239tinfo" data-ref-filename="1239tinfo">tinfo</a> || !<a class="local col9 ref" href="#1239tinfo" title='tinfo' data-ref="1239tinfo" data-ref-filename="1239tinfo">tinfo</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::get_buffer" title='pybind11::detail::type_info::get_buffer' data-ref="pybind11::detail::type_info::get_buffer" data-ref-filename="pybind11..detail..type_info..get_buffer">get_buffer</a>) {</td></tr>
<tr><th id="546">546</th><td>        <b>if</b> (<a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>)</td></tr>
<tr><th id="547">547</th><td>            <a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::obj" title='bufferinfo::obj' data-ref="bufferinfo::obj" data-ref-filename="bufferinfo..obj">obj</a> = <b>nullptr</b>;</td></tr>
<tr><th id="548">548</th><td>        <a class="ref fn" href="../../../../../../../include/python3.8/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString" data-ref-filename="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../../../../../../../include/python3.8/pyerrors.h.html#PyExc_BufferError" title='PyExc_BufferError' data-ref="PyExc_BufferError" data-ref-filename="PyExc_BufferError">PyExc_BufferError</a>, <q>"pybind11_getbuffer(): Internal error"</q>);</td></tr>
<tr><th id="549">549</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="550">550</th><td>    }</td></tr>
<tr><th id="551">551</th><td>    <span class="namespace">std::</span><a class="ref fn" href="../../../../../../../include/string.h.html#memset" title='memset' data-ref="memset" data-ref-filename="memset">memset</a>(<a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>, <var>0</var>, <b>sizeof</b>(<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#Py_buffer" title='Py_buffer' data-type='struct bufferinfo' data-ref="Py_buffer" data-ref-filename="Py_buffer">Py_buffer</a>));</td></tr>
<tr><th id="552">552</th><td>    <a class="type" href="../buffer_info.h.html#pybind11::buffer_info" title='pybind11::buffer_info' data-ref="pybind11::buffer_info" data-ref-filename="pybind11..buffer_info">buffer_info</a> *<dfn class="local col1 decl" id="1241info" title='info' data-type='pybind11::buffer_info *' data-ref="1241info" data-ref-filename="1241info">info</dfn> = <a class="local col9 ref" href="#1239tinfo" title='tinfo' data-ref="1239tinfo" data-ref-filename="1239tinfo">tinfo</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::get_buffer" title='pybind11::detail::type_info::get_buffer' data-ref="pybind11::detail::type_info::get_buffer" data-ref-filename="pybind11..detail..type_info..get_buffer">get_buffer</a>(<a class="local col6 ref" href="#1236obj" title='obj' data-ref="1236obj" data-ref-filename="1236obj">obj</a>, <a class="local col9 ref" href="#1239tinfo" title='tinfo' data-ref="1239tinfo" data-ref-filename="1239tinfo">tinfo</a>-&gt;<a class="ref field" href="internals.h.html#pybind11::detail::type_info::get_buffer_data" title='pybind11::detail::type_info::get_buffer_data' data-ref="pybind11::detail::type_info::get_buffer_data" data-ref-filename="pybind11..detail..type_info..get_buffer_data">get_buffer_data</a>);</td></tr>
<tr><th id="553">553</th><td>    <b>if</b> ((<a class="local col8 ref" href="#1238flags" title='flags' data-ref="1238flags" data-ref-filename="1238flags">flags</a> &amp; <a class="macro" href="../../../../../../../include/python3.8/cpython/object.h.html#66" title="0x0001" data-ref="_M/PyBUF_WRITABLE">PyBUF_WRITABLE</a>) == <a class="macro" href="../../../../../../../include/python3.8/cpython/object.h.html#66" title="0x0001" data-ref="_M/PyBUF_WRITABLE">PyBUF_WRITABLE</a> &amp;&amp; <a class="local col1 ref" href="#1241info" title='info' data-ref="1241info" data-ref-filename="1241info">info</a>-&gt;<a class="ref field" href="../buffer_info.h.html#pybind11::buffer_info::readonly" title='pybind11::buffer_info::readonly' data-ref="pybind11::buffer_info::readonly" data-ref-filename="pybind11..buffer_info..readonly">readonly</a>) {</td></tr>
<tr><th id="554">554</th><td>        <b>delete</b> <a class="local col1 ref" href="#1241info" title='info' data-ref="1241info" data-ref-filename="1241info">info</a>;</td></tr>
<tr><th id="555">555</th><td>        <i>// view-&gt;obj = nullptr;  // Was just memset to 0, so not necessary</i></td></tr>
<tr><th id="556">556</th><td>        <a class="ref fn" href="../../../../../../../include/python3.8/pyerrors.h.html#PyErr_SetString" title='PyErr_SetString' data-ref="PyErr_SetString" data-ref-filename="PyErr_SetString">PyErr_SetString</a>(<a class="ref" href="../../../../../../../include/python3.8/pyerrors.h.html#PyExc_BufferError" title='PyExc_BufferError' data-ref="PyExc_BufferError" data-ref-filename="PyExc_BufferError">PyExc_BufferError</a>, <q>"Writable buffer requested for readonly storage"</q>);</td></tr>
<tr><th id="557">557</th><td>        <b>return</b> -<var>1</var>;</td></tr>
<tr><th id="558">558</th><td>    }</td></tr>
<tr><th id="559">559</th><td>    <a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::obj" title='bufferinfo::obj' data-ref="bufferinfo::obj" data-ref-filename="bufferinfo..obj">obj</a> = <a class="local col6 ref" href="#1236obj" title='obj' data-ref="1236obj" data-ref-filename="1236obj">obj</a>;</td></tr>
<tr><th id="560">560</th><td>    <a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::ndim" title='bufferinfo::ndim' data-ref="bufferinfo::ndim" data-ref-filename="bufferinfo..ndim">ndim</a> = <var>1</var>;</td></tr>
<tr><th id="561">561</th><td>    <a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::internal" title='bufferinfo::internal' data-ref="bufferinfo::internal" data-ref-filename="bufferinfo..internal">internal</a> = <a class="local col1 ref" href="#1241info" title='info' data-ref="1241info" data-ref-filename="1241info">info</a>;</td></tr>
<tr><th id="562">562</th><td>    <a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::buf" title='bufferinfo::buf' data-ref="bufferinfo::buf" data-ref-filename="bufferinfo..buf">buf</a> = <a class="local col1 ref" href="#1241info" title='info' data-ref="1241info" data-ref-filename="1241info">info</a>-&gt;<a class="ref field" href="../buffer_info.h.html#pybind11::buffer_info::ptr" title='pybind11::buffer_info::ptr' data-ref="pybind11::buffer_info::ptr" data-ref-filename="pybind11..buffer_info..ptr">ptr</a>;</td></tr>
<tr><th id="563">563</th><td>    <a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::itemsize" title='bufferinfo::itemsize' data-ref="bufferinfo::itemsize" data-ref-filename="bufferinfo..itemsize">itemsize</a> = <a class="local col1 ref" href="#1241info" title='info' data-ref="1241info" data-ref-filename="1241info">info</a>-&gt;<a class="ref field" href="../buffer_info.h.html#pybind11::buffer_info::itemsize" title='pybind11::buffer_info::itemsize' data-ref="pybind11::buffer_info::itemsize" data-ref-filename="pybind11..buffer_info..itemsize">itemsize</a>;</td></tr>
<tr><th id="564">564</th><td>    <a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::len" title='bufferinfo::len' data-ref="bufferinfo::len" data-ref-filename="bufferinfo..len">len</a> = <a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::itemsize" title='bufferinfo::itemsize' data-ref="bufferinfo::itemsize" data-ref-filename="bufferinfo..itemsize">itemsize</a>;</td></tr>
<tr><th id="565">565</th><td>    <b>for</b> (<em>auto</em> <dfn class="local col2 decl" id="1242s" title='s' data-type='long' data-ref="1242s" data-ref-filename="1242s">s</dfn> : <a class="local col1 ref" href="#1241info" title='info' data-ref="1241info" data-ref-filename="1241info">info</a>-&gt;<a class="ref field" href="../buffer_info.h.html#pybind11::buffer_info::shape" title='pybind11::buffer_info::shape' data-ref="pybind11::buffer_info::shape" data-ref-filename="pybind11..buffer_info..shape">shape</a>)</td></tr>
<tr><th id="566">566</th><td>        <a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::len" title='bufferinfo::len' data-ref="bufferinfo::len" data-ref-filename="bufferinfo..len">len</a> *= <a class="local col2 ref" href="#1242s" title='s' data-ref="1242s" data-ref-filename="1242s">s</a>;</td></tr>
<tr><th id="567">567</th><td>    <a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::readonly" title='bufferinfo::readonly' data-ref="bufferinfo::readonly" data-ref-filename="bufferinfo..readonly">readonly</a> = <a class="local col1 ref" href="#1241info" title='info' data-ref="1241info" data-ref-filename="1241info">info</a>-&gt;<a class="ref field" href="../buffer_info.h.html#pybind11::buffer_info::readonly" title='pybind11::buffer_info::readonly' data-ref="pybind11::buffer_info::readonly" data-ref-filename="pybind11..buffer_info..readonly">readonly</a>;</td></tr>
<tr><th id="568">568</th><td>    <b>if</b> ((<a class="local col8 ref" href="#1238flags" title='flags' data-ref="1238flags" data-ref-filename="1238flags">flags</a> &amp; <a class="macro" href="../../../../../../../include/python3.8/cpython/object.h.html#69" title="0x0004" data-ref="_M/PyBUF_FORMAT">PyBUF_FORMAT</a>) == <a class="macro" href="../../../../../../../include/python3.8/cpython/object.h.html#69" title="0x0004" data-ref="_M/PyBUF_FORMAT">PyBUF_FORMAT</a>)</td></tr>
<tr><th id="569">569</th><td>        <a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::format" title='bufferinfo::format' data-ref="bufferinfo::format" data-ref-filename="bufferinfo..format">format</a> = <b>const_cast</b>&lt;<em>char</em> *&gt;(<a class="local col1 ref" href="#1241info" title='info' data-ref="1241info" data-ref-filename="1241info">info</a>-&gt;<a class="ref field" href="../buffer_info.h.html#pybind11::buffer_info::format" title='pybind11::buffer_info::format' data-ref="pybind11::buffer_info::format" data-ref-filename="pybind11..buffer_info..format">format</a>.<span class='ref fn' title='std::__cxx11::basic_string::c_str' data-ref="_ZNKSt7__cxx1112basic_string5c_strEv" data-ref-filename="_ZNKSt7__cxx1112basic_string5c_strEv">c_str</span>());</td></tr>
<tr><th id="570">570</th><td>    <b>if</b> ((<a class="local col8 ref" href="#1238flags" title='flags' data-ref="1238flags" data-ref-filename="1238flags">flags</a> &amp; <a class="macro" href="../../../../../../../include/python3.8/cpython/object.h.html#71" title="(0x0010 | 0x0008)" data-ref="_M/PyBUF_STRIDES">PyBUF_STRIDES</a>) == <a class="macro" href="../../../../../../../include/python3.8/cpython/object.h.html#71" title="(0x0010 | 0x0008)" data-ref="_M/PyBUF_STRIDES">PyBUF_STRIDES</a>) {</td></tr>
<tr><th id="571">571</th><td>        <a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::ndim" title='bufferinfo::ndim' data-ref="bufferinfo::ndim" data-ref-filename="bufferinfo..ndim">ndim</a> = (<em>int</em>) <a class="local col1 ref" href="#1241info" title='info' data-ref="1241info" data-ref-filename="1241info">info</a>-&gt;<a class="ref field" href="../buffer_info.h.html#pybind11::buffer_info::ndim" title='pybind11::buffer_info::ndim' data-ref="pybind11::buffer_info::ndim" data-ref-filename="pybind11..buffer_info..ndim">ndim</a>;</td></tr>
<tr><th id="572">572</th><td>        <a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::strides" title='bufferinfo::strides' data-ref="bufferinfo::strides" data-ref-filename="bufferinfo..strides">strides</a> = &amp;<a class="local col1 ref" href="#1241info" title='info' data-ref="1241info" data-ref-filename="1241info">info</a>-&gt;<a class="ref field" href="../buffer_info.h.html#pybind11::buffer_info::strides" title='pybind11::buffer_info::strides' data-ref="pybind11::buffer_info::strides" data-ref-filename="pybind11..buffer_info..strides">strides</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<var>0</var>]</span>;</td></tr>
<tr><th id="573">573</th><td>        <a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::shape" title='bufferinfo::shape' data-ref="bufferinfo::shape" data-ref-filename="bufferinfo..shape">shape</a> = &amp;<a class="local col1 ref" href="#1241info" title='info' data-ref="1241info" data-ref-filename="1241info">info</a>-&gt;<a class="ref field" href="../buffer_info.h.html#pybind11::buffer_info::shape" title='pybind11::buffer_info::shape' data-ref="pybind11::buffer_info::shape" data-ref-filename="pybind11..buffer_info..shape">shape</a><span class='ref fn' title='std::vector::operator[]' data-ref="_ZNSt6vectorixEm" data-ref-filename="_ZNSt6vectorixEm">[<var>0</var>]</span>;</td></tr>
<tr><th id="574">574</th><td>    }</td></tr>
<tr><th id="575">575</th><td>    <a class="macro" href="../../../../../../../include/python3.8/object.h.html#462" title="_Py_INCREF(((PyObject*)(view-&gt;obj)))" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="local col7 ref" href="#1237view" title='view' data-ref="1237view" data-ref-filename="1237view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::obj" title='bufferinfo::obj' data-ref="bufferinfo::obj" data-ref-filename="bufferinfo..obj">obj</a>);</td></tr>
<tr><th id="576">576</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="577">577</th><td>}</td></tr>
<tr><th id="578">578</th><td></td></tr>
<tr><th id="579">579</th><td><i class="doc">/// buffer_protocol: Release the resources of the buffer.</i></td></tr>
<tr><th id="580">580</th><td><b>extern</b> <q>"C"</q> <b>inline</b> <em>void</em> <dfn class="decl def fn" id="pybind11::detail::pybind11_releasebuffer" title='pybind11::detail::pybind11_releasebuffer' data-ref="pybind11::detail::pybind11_releasebuffer" data-ref-filename="pybind11..detail..pybind11_releasebuffer">pybind11_releasebuffer</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *, <a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#Py_buffer" title='Py_buffer' data-type='struct bufferinfo' data-ref="Py_buffer" data-ref-filename="Py_buffer">Py_buffer</a> *<dfn class="local col3 decl" id="1243view" title='view' data-type='Py_buffer *' data-ref="1243view" data-ref-filename="1243view">view</dfn>) {</td></tr>
<tr><th id="581">581</th><td>    <b>delete</b> (<a class="type" href="../buffer_info.h.html#pybind11::buffer_info" title='pybind11::buffer_info' data-ref="pybind11::buffer_info" data-ref-filename="pybind11..buffer_info">buffer_info</a> *) <a class="local col3 ref" href="#1243view" title='view' data-ref="1243view" data-ref-filename="1243view">view</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#bufferinfo::internal" title='bufferinfo::internal' data-ref="bufferinfo::internal" data-ref-filename="bufferinfo..internal">internal</a>;</td></tr>
<tr><th id="582">582</th><td>}</td></tr>
<tr><th id="583">583</th><td></td></tr>
<tr><th id="584">584</th><td><i class="doc">/// Give this type a buffer interface.</i></td></tr>
<tr><th id="585">585</th><td><b>inline</b> <em>void</em> <dfn class="decl def fn" id="_ZN8pybind116detail22enable_buffer_protocolEP15_heaptypeobject" title='pybind11::detail::enable_buffer_protocol' data-ref="_ZN8pybind116detail22enable_buffer_protocolEP15_heaptypeobject" data-ref-filename="_ZN8pybind116detail22enable_buffer_protocolEP15_heaptypeobject">enable_buffer_protocol</dfn>(<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyHeapTypeObject" title='PyHeapTypeObject' data-type='struct _heaptypeobject' data-ref="PyHeapTypeObject" data-ref-filename="PyHeapTypeObject">PyHeapTypeObject</a> *<dfn class="local col4 decl" id="1244heap_type" title='heap_type' data-type='PyHeapTypeObject *' data-ref="1244heap_type" data-ref-filename="1244heap_type">heap_type</dfn>) {</td></tr>
<tr><th id="586">586</th><td>    <a class="local col4 ref" href="#1244heap_type" title='heap_type' data-ref="1244heap_type" data-ref-filename="1244heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::ht_type" title='_heaptypeobject::ht_type' data-ref="_heaptypeobject::ht_type" data-ref-filename="_heaptypeobject..ht_type">ht_type</a>.<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_as_buffer" title='_typeobject::tp_as_buffer' data-ref="_typeobject::tp_as_buffer" data-ref-filename="_typeobject..tp_as_buffer">tp_as_buffer</a> = &amp;<a class="local col4 ref" href="#1244heap_type" title='heap_type' data-ref="1244heap_type" data-ref-filename="1244heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::as_buffer" title='_heaptypeobject::as_buffer' data-ref="_heaptypeobject::as_buffer" data-ref-filename="_heaptypeobject..as_buffer">as_buffer</a>;</td></tr>
<tr><th id="587">587</th><td><u>#<span data-ppcond="587">if</span> <a class="macro" href="../../../../../../../include/python3.8/patchlevel.h.html#19" title="3" data-ref="_M/PY_MAJOR_VERSION">PY_MAJOR_VERSION</a> &lt; 3</u></td></tr>
<tr><th id="588">588</th><td>    heap_type-&gt;ht_type.tp_flags |= Py_TPFLAGS_HAVE_NEWBUFFER;</td></tr>
<tr><th id="589">589</th><td><u>#<span data-ppcond="587">endif</span></u></td></tr>
<tr><th id="590">590</th><td></td></tr>
<tr><th id="591">591</th><td>    <a class="local col4 ref" href="#1244heap_type" title='heap_type' data-ref="1244heap_type" data-ref-filename="1244heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::as_buffer" title='_heaptypeobject::as_buffer' data-ref="_heaptypeobject::as_buffer" data-ref-filename="_heaptypeobject..as_buffer">as_buffer</a>.<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#(anonymous)::bf_getbuffer" title='(anonymous struct)::bf_getbuffer' data-ref="(anonymous)::bf_getbuffer" data-ref-filename="(anonymous)..bf_getbuffer">bf_getbuffer</a> = <a class="ref fn" href="#pybind11::detail::pybind11_getbuffer" title='pybind11::detail::pybind11_getbuffer' data-ref="pybind11::detail::pybind11_getbuffer" data-ref-filename="pybind11..detail..pybind11_getbuffer">pybind11_getbuffer</a>;</td></tr>
<tr><th id="592">592</th><td>    <a class="local col4 ref" href="#1244heap_type" title='heap_type' data-ref="1244heap_type" data-ref-filename="1244heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::as_buffer" title='_heaptypeobject::as_buffer' data-ref="_heaptypeobject::as_buffer" data-ref-filename="_heaptypeobject..as_buffer">as_buffer</a>.<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#(anonymous)::bf_releasebuffer" title='(anonymous struct)::bf_releasebuffer' data-ref="(anonymous)::bf_releasebuffer" data-ref-filename="(anonymous)..bf_releasebuffer">bf_releasebuffer</a> = <a class="ref fn" href="#pybind11::detail::pybind11_releasebuffer" title='pybind11::detail::pybind11_releasebuffer' data-ref="pybind11::detail::pybind11_releasebuffer" data-ref-filename="pybind11..detail..pybind11_releasebuffer">pybind11_releasebuffer</a>;</td></tr>
<tr><th id="593">593</th><td>}</td></tr>
<tr><th id="594">594</th><td></td></tr>
<tr><th id="595">595</th><td><i class="doc">/** Create a brand new Python type according to the `type_record` specification.</i></td></tr>
<tr><th id="596">596</th><td><i class="doc">    Return value: New reference. */</i></td></tr>
<tr><th id="597">597</th><td><b>inline</b> <a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a>* <dfn class="decl def fn" id="_ZN8pybind116detail20make_new_python_typeERKNS0_11type_recordE" title='pybind11::detail::make_new_python_type' data-ref="_ZN8pybind116detail20make_new_python_typeERKNS0_11type_recordE" data-ref-filename="_ZN8pybind116detail20make_new_python_typeERKNS0_11type_recordE">make_new_python_type</dfn>(<em>const</em> <a class="type" href="../attr.h.html#pybind11::detail::type_record" title='pybind11::detail::type_record' data-ref="pybind11::detail::type_record" data-ref-filename="pybind11..detail..type_record">type_record</a> &amp;<dfn class="local col5 decl" id="1245rec" title='rec' data-type='const pybind11::detail::type_record &amp;' data-ref="1245rec" data-ref-filename="1245rec">rec</dfn>) {</td></tr>
<tr><th id="598">598</th><td>    <em>auto</em> <dfn class="local col6 decl" id="1246name" title='name' data-type='pybind11::object' data-ref="1246name" data-ref-filename="1246name">name</dfn> = <a class="ref fn" href="../pytypes.h.html#_ZN8pybind1117reinterpret_stealENS_6handleE" title='pybind11::reinterpret_steal' data-ref="_ZN8pybind1117reinterpret_stealENS_6handleE" data-ref-filename="_ZN8pybind1117reinterpret_stealENS_6handleE">reinterpret_steal</a>&lt;<a class="type" href="../pytypes.h.html#pybind11::object" title='pybind11::object' data-ref="pybind11::object" data-ref-filename="pybind11..object">object</a>&gt;(<a class="macro" href="common.h.html#183" title="PyUnicode_FromString" data-ref="_M/PYBIND11_FROM_STRING">PYBIND11_FROM_STRING</a>(<a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::name" title='pybind11::detail::type_record::name' data-ref="pybind11::detail::type_record::name" data-ref-filename="pybind11..detail..type_record..name">name</a>));</td></tr>
<tr><th id="599">599</th><td></td></tr>
<tr><th id="600">600</th><td>    <em>auto</em> <dfn class="local col7 decl" id="1247qualname" title='qualname' data-type='pybind11::object' data-ref="1247qualname" data-ref-filename="1247qualname">qualname</dfn> = <a class="ref fn fake" href="../pytypes.h.html#_ZN8pybind116objectC1ERKS0_" title='pybind11::object::object' data-ref="_ZN8pybind116objectC1ERKS0_" data-ref-filename="_ZN8pybind116objectC1ERKS0_"></a><a class="local col6 ref" href="#1246name" title='name' data-ref="1246name" data-ref-filename="1246name">name</a>;</td></tr>
<tr><th id="601">601</th><td>    <b>if</b> (<a class="ref fn fake" href="../pytypes.h.html#_ZNK8pybind116handlecvbEv" title='pybind11::handle::operator bool' data-ref="_ZNK8pybind116handlecvbEv" data-ref-filename="_ZNK8pybind116handlecvbEv"></a><a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::scope" title='pybind11::detail::type_record::scope' data-ref="pybind11::detail::type_record::scope" data-ref-filename="pybind11..detail..type_record..scope">scope</a> &amp;&amp; !<a class="macro" href="../../../../../../../include/python3.8/moduleobject.h.html#12" title="((((PyObject*)(rec.scope.ptr()))-&gt;ob_type) == (&amp;PyModule_Type) || PyType_IsSubtype((((PyObject*)(rec.scope.ptr()))-&gt;ob_type), (&amp;PyModule_Type)))" data-ref="_M/PyModule_Check">PyModule_Check</a>(<a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::scope" title='pybind11::detail::type_record::scope' data-ref="pybind11::detail::type_record::scope" data-ref-filename="pybind11..detail..type_record..scope">scope</a>.<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZNK8pybind116handle3ptrEv" data-ref-filename="_ZNK8pybind116handle3ptrEv">ptr</a>()) &amp;&amp; <a class="ref fn" href="../pytypes.h.html#_ZN8pybind117hasattrENS_6handleEPKc" title='pybind11::hasattr' data-ref="_ZN8pybind117hasattrENS_6handleEPKc" data-ref-filename="_ZN8pybind117hasattrENS_6handleEPKc">hasattr</a>(<a class="ref fn fake" href="../pytypes.h.html#176" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1ERKS0_" data-ref-filename="_ZN8pybind116handleC1ERKS0_"></a><a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::scope" title='pybind11::detail::type_record::scope' data-ref="pybind11::detail::type_record::scope" data-ref-filename="pybind11..detail..type_record..scope">scope</a>, <q>"__qualname__"</q>)) {</td></tr>
<tr><th id="602">602</th><td><u>#<span data-ppcond="602">if</span> <a class="macro" href="../../../../../../../include/python3.8/patchlevel.h.html#19" title="3" data-ref="_M/PY_MAJOR_VERSION">PY_MAJOR_VERSION</a> &gt;= 3</u></td></tr>
<tr><th id="603">603</th><td>        <a class="local col7 ref" href="#1247qualname" title='qualname' data-ref="1247qualname" data-ref-filename="1247qualname">qualname</a> <a class="ref fn" href="../pytypes.h.html#_ZN8pybind116objectaSEOS0_" title='pybind11::object::operator=' data-ref="_ZN8pybind116objectaSEOS0_" data-ref-filename="_ZN8pybind116objectaSEOS0_">=</a> <a class="ref fn" href="../pytypes.h.html#_ZN8pybind1117reinterpret_stealENS_6handleE" title='pybind11::reinterpret_steal' data-ref="_ZN8pybind1117reinterpret_stealENS_6handleE" data-ref-filename="_ZN8pybind1117reinterpret_stealENS_6handleE">reinterpret_steal</a>&lt;<a class="type" href="../pytypes.h.html#pybind11::object" title='pybind11::object' data-ref="pybind11::object" data-ref-filename="pybind11..object">object</a>&gt;(</td></tr>
<tr><th id="604">604</th><td>            <a class="ref fn fake" href="../pytypes.h.html#_ZN8pybind116handleC1EP7_object" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1EP7_object" data-ref-filename="_ZN8pybind116handleC1EP7_object"></a><a class="ref fn" href="../../../../../../../include/python3.8/unicodeobject.h.html#PyUnicode_FromFormat" title='PyUnicode_FromFormat' data-ref="PyUnicode_FromFormat" data-ref-filename="PyUnicode_FromFormat">PyUnicode_FromFormat</a>(<q>"%U.%U"</q>, <a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::scope" title='pybind11::detail::type_record::scope' data-ref="pybind11::detail::type_record::scope" data-ref-filename="pybind11..detail..type_record..scope">scope</a>.<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116detail10object_api4attrEPKc" title='pybind11::detail::object_api::attr' data-ref="_ZNK8pybind116detail10object_api4attrEPKc" data-ref-filename="_ZNK8pybind116detail10object_api4attrEPKc">attr</a>(<q>"__qualname__"</q>).<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116detail8accessor3ptrEv" title='pybind11::detail::accessor::ptr' data-ref="_ZNK8pybind116detail8accessor3ptrEv" data-ref-filename="_ZNK8pybind116detail8accessor3ptrEv">ptr</a>(), <a class="local col6 ref" href="#1246name" title='name' data-ref="1246name" data-ref-filename="1246name">name</a>.<a class="ref fn" href="../pytypes.h.html#_ZN8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZN8pybind116handle3ptrEv" data-ref-filename="_ZN8pybind116handle3ptrEv">ptr</a>()));</td></tr>
<tr><th id="605">605</th><td><u>#<span data-ppcond="602">else</span></u></td></tr>
<tr><th id="606">606</th><td>        qualname = str(rec.scope.attr(<q>"__qualname__"</q>).cast&lt;std::string&gt;() + <q>"."</q> + rec.name);</td></tr>
<tr><th id="607">607</th><td><u>#<span data-ppcond="602">endif</span></u></td></tr>
<tr><th id="608">608</th><td>    }</td></tr>
<tr><th id="609">609</th><td></td></tr>
<tr><th id="610">610</th><td>    <a class="type" href="../pytypes.h.html#pybind11::object" title='pybind11::object' data-ref="pybind11::object" data-ref-filename="pybind11..object">object</a> <a class="ref fn fake" href="../pytypes.h.html#_ZN8pybind116objectC1Ev" title='pybind11::object::object' data-ref="_ZN8pybind116objectC1Ev" data-ref-filename="_ZN8pybind116objectC1Ev"></a><dfn class="local col8 decl" id="1248module_" title='module_' data-type='pybind11::object' data-ref="1248module_" data-ref-filename="1248module_">module_</dfn>;</td></tr>
<tr><th id="611">611</th><td>    <b>if</b> (<a class="ref fn fake" href="../pytypes.h.html#_ZNK8pybind116handlecvbEv" title='pybind11::handle::operator bool' data-ref="_ZNK8pybind116handlecvbEv" data-ref-filename="_ZNK8pybind116handlecvbEv"></a><a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::scope" title='pybind11::detail::type_record::scope' data-ref="pybind11::detail::type_record::scope" data-ref-filename="pybind11..detail..type_record..scope">scope</a>) {</td></tr>
<tr><th id="612">612</th><td>        <b>if</b> (<a class="ref fn" href="../pytypes.h.html#_ZN8pybind117hasattrENS_6handleEPKc" title='pybind11::hasattr' data-ref="_ZN8pybind117hasattrENS_6handleEPKc" data-ref-filename="_ZN8pybind117hasattrENS_6handleEPKc">hasattr</a>(<a class="ref fn fake" href="../pytypes.h.html#176" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1ERKS0_" data-ref-filename="_ZN8pybind116handleC1ERKS0_"></a><a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::scope" title='pybind11::detail::type_record::scope' data-ref="pybind11::detail::type_record::scope" data-ref-filename="pybind11..detail..type_record..scope">scope</a>, <q>"__module__"</q>))</td></tr>
<tr><th id="613">613</th><td>            <a class="local col8 ref" href="#1248module_" title='module_' data-ref="1248module_" data-ref-filename="1248module_">module_</a> <a class="ref fn" href="../pytypes.h.html#_ZN8pybind116objectaSEOS0_" title='pybind11::object::operator=' data-ref="_ZN8pybind116objectaSEOS0_" data-ref-filename="_ZN8pybind116objectaSEOS0_">=</a> <a class="ref fn fake" href="../pytypes.h.html#_ZNK8pybind116detail8accessorcvNS_6objectEEv" title='pybind11::detail::accessor::operator object' data-ref="_ZNK8pybind116detail8accessorcvNS_6objectEEv" data-ref-filename="_ZNK8pybind116detail8accessorcvNS_6objectEEv"></a><a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::scope" title='pybind11::detail::type_record::scope' data-ref="pybind11::detail::type_record::scope" data-ref-filename="pybind11..detail..type_record..scope">scope</a>.<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116detail10object_api4attrEPKc" title='pybind11::detail::object_api::attr' data-ref="_ZNK8pybind116detail10object_api4attrEPKc" data-ref-filename="_ZNK8pybind116detail10object_api4attrEPKc">attr</a>(<q>"__module__"</q>);</td></tr>
<tr><th id="614">614</th><td>        <b>else</b> <b>if</b> (<a class="ref fn" href="../pytypes.h.html#_ZN8pybind117hasattrENS_6handleEPKc" title='pybind11::hasattr' data-ref="_ZN8pybind117hasattrENS_6handleEPKc" data-ref-filename="_ZN8pybind117hasattrENS_6handleEPKc">hasattr</a>(<a class="ref fn fake" href="../pytypes.h.html#176" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1ERKS0_" data-ref-filename="_ZN8pybind116handleC1ERKS0_"></a><a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::scope" title='pybind11::detail::type_record::scope' data-ref="pybind11::detail::type_record::scope" data-ref-filename="pybind11..detail..type_record..scope">scope</a>, <q>"__name__"</q>))</td></tr>
<tr><th id="615">615</th><td>            <a class="local col8 ref" href="#1248module_" title='module_' data-ref="1248module_" data-ref-filename="1248module_">module_</a> <a class="ref fn" href="../pytypes.h.html#_ZN8pybind116objectaSEOS0_" title='pybind11::object::operator=' data-ref="_ZN8pybind116objectaSEOS0_" data-ref-filename="_ZN8pybind116objectaSEOS0_">=</a> <a class="ref fn fake" href="../pytypes.h.html#_ZNK8pybind116detail8accessorcvNS_6objectEEv" title='pybind11::detail::accessor::operator object' data-ref="_ZNK8pybind116detail8accessorcvNS_6objectEEv" data-ref-filename="_ZNK8pybind116detail8accessorcvNS_6objectEEv"></a><a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::scope" title='pybind11::detail::type_record::scope' data-ref="pybind11::detail::type_record::scope" data-ref-filename="pybind11..detail..type_record..scope">scope</a>.<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116detail10object_api4attrEPKc" title='pybind11::detail::object_api::attr' data-ref="_ZNK8pybind116detail10object_api4attrEPKc" data-ref-filename="_ZNK8pybind116detail10object_api4attrEPKc">attr</a>(<q>"__name__"</q>);</td></tr>
<tr><th id="616">616</th><td>    }</td></tr>
<tr><th id="617">617</th><td></td></tr>
<tr><th id="618">618</th><td>    <em>auto</em> <dfn class="local col9 decl" id="1249full_name" title='full_name' data-type='const char *' data-ref="1249full_name" data-ref-filename="1249full_name">full_name</dfn> = <a class="ref fn" href="internals.h.html#_ZN8pybind116detail5c_strEDpOT_" title='pybind11::detail::c_str' data-ref="_ZN8pybind116detail5c_strEDpOT_" data-ref-filename="_ZN8pybind116detail5c_strEDpOT_">c_str</a>(</td></tr>
<tr><th id="619">619</th><td><u>#<span data-ppcond="619">if</span> !defined(<span class="macro" data-ref="_M/PYPY_VERSION">PYPY_VERSION</span>)</u></td></tr>
<tr><th id="620">620</th><td>        <a class="ref fn fake" href="../pytypes.h.html#_ZNK8pybind116handlecvbEv" title='pybind11::handle::operator bool' data-ref="_ZNK8pybind116handlecvbEv" data-ref-filename="_ZNK8pybind116handlecvbEv"></a><a class="local col8 ref" href="#1248module_" title='module_' data-ref="1248module_" data-ref-filename="1248module_">module_</a> ? <a class="type" href="../pytypes.h.html#pybind11::str" title='pybind11::str' data-ref="pybind11::str" data-ref-filename="pybind11..str">str</a><a class="ref fn" href="../pytypes.h.html#937" title='pybind11::str::str' data-ref="_ZN8pybind113strC1ERKNS_6objectE" data-ref-filename="_ZN8pybind113strC1ERKNS_6objectE">(</a><a class="local col8 ref" href="#1248module_" title='module_' data-ref="1248module_" data-ref-filename="1248module_">module_</a>).<a class="ref fn" href="../cast.h.html#_ZNO8pybind116object4castEv" title='pybind11::object::cast' data-ref="_ZNO8pybind116object4castEv" data-ref-filename="_ZNO8pybind116object4castEv">cast</a>&lt;<span class="namespace">std::</span><span class='typedef' title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</span>&gt;() <span class='ref fn' title='std::operator+' data-ref="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_" data-ref-filename="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_">+</span> <q>"."</q> <span class='ref fn' title='std::operator+' data-ref="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_" data-ref-filename="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_">+</span> <a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::name" title='pybind11::detail::type_record::name' data-ref="pybind11::detail::type_record::name" data-ref-filename="pybind11..detail..type_record..name">name</a> :</td></tr>
<tr><th id="621">621</th><td><u>#<span data-ppcond="619">endif</span></u></td></tr>
<tr><th id="622">622</th><td>        <span class='ref fn fake' title='std::__cxx11::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_"></span><a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::name" title='pybind11::detail::type_record::name' data-ref="pybind11::detail::type_record::name" data-ref-filename="pybind11..detail..type_record..name">name</a>);</td></tr>
<tr><th id="623">623</th><td></td></tr>
<tr><th id="624">624</th><td>    <em>char</em> *<dfn class="local col0 decl" id="1250tp_doc" title='tp_doc' data-type='char *' data-ref="1250tp_doc" data-ref-filename="1250tp_doc">tp_doc</dfn> = <b>nullptr</b>;</td></tr>
<tr><th id="625">625</th><td>    <b>if</b> (<a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::doc" title='pybind11::detail::type_record::doc' data-ref="pybind11::detail::type_record::doc" data-ref-filename="pybind11..detail..type_record..doc">doc</a> &amp;&amp; <a class="type" href="../options.h.html#pybind11::options" title='pybind11::options' data-ref="pybind11::options" data-ref-filename="pybind11..options">options</a>::<a class="ref fn" href="../options.h.html#_ZN8pybind117options28show_user_defined_docstringsEv" title='pybind11::options::show_user_defined_docstrings' data-ref="_ZN8pybind117options28show_user_defined_docstringsEv" data-ref-filename="_ZN8pybind117options28show_user_defined_docstringsEv">show_user_defined_docstrings</a>()) {</td></tr>
<tr><th id="626">626</th><td>        <i>/* Allocate memory for docstring (using PyObject_MALLOC, since</i></td></tr>
<tr><th id="627">627</th><td><i>           Python will free this later on) */</i></td></tr>
<tr><th id="628">628</th><td>        <a class="typedef" href="common.h.html#pybind11::size_t" title='pybind11::size_t' data-type='std::size_t' data-ref="pybind11::size_t" data-ref-filename="pybind11..size_t">size_t</a> <dfn class="local col1 decl" id="1251size" title='size' data-type='pybind11::size_t' data-ref="1251size" data-ref-filename="1251size">size</dfn> = <a class="ref fn" href="../../../../../../../include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a>(<a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::doc" title='pybind11::detail::type_record::doc' data-ref="pybind11::detail::type_record::doc" data-ref-filename="pybind11..detail..type_record..doc">doc</a>) + <var>1</var>;</td></tr>
<tr><th id="629">629</th><td>        <a class="local col0 ref" href="#1250tp_doc" title='tp_doc' data-ref="1250tp_doc" data-ref-filename="1250tp_doc">tp_doc</a> = (<em>char</em> *) <a class="macro" href="../../../../../../../include/python3.8/objimpl.h.html#106" title="PyObject_Malloc" data-ref="_M/PyObject_MALLOC">PyObject_MALLOC</a>(<a class="local col1 ref" href="#1251size" title='size' data-ref="1251size" data-ref-filename="1251size">size</a>);</td></tr>
<tr><th id="630">630</th><td>        <a class="ref fn" href="../../../../../../../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>((<em>void</em> *) <a class="local col0 ref" href="#1250tp_doc" title='tp_doc' data-ref="1250tp_doc" data-ref-filename="1250tp_doc">tp_doc</a>, <a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::doc" title='pybind11::detail::type_record::doc' data-ref="pybind11::detail::type_record::doc" data-ref-filename="pybind11..detail..type_record..doc">doc</a>, <a class="local col1 ref" href="#1251size" title='size' data-ref="1251size" data-ref-filename="1251size">size</a>);</td></tr>
<tr><th id="631">631</th><td>    }</td></tr>
<tr><th id="632">632</th><td></td></tr>
<tr><th id="633">633</th><td>    <em>auto</em> &amp;<dfn class="local col2 decl" id="1252internals" title='internals' data-type='pybind11::detail::internals &amp;' data-ref="1252internals" data-ref-filename="1252internals">internals</dfn> = <a class="ref fn" href="internals.h.html#_ZN8pybind116detail13get_internalsEv" title='pybind11::detail::get_internals' data-ref="_ZN8pybind116detail13get_internalsEv" data-ref-filename="_ZN8pybind116detail13get_internalsEv">get_internals</a>();</td></tr>
<tr><th id="634">634</th><td>    <em>auto</em> <dfn class="local col3 decl" id="1253bases" title='bases' data-type='pybind11::tuple' data-ref="1253bases" data-ref-filename="1253bases">bases</dfn> = <a class="type" href="../pytypes.h.html#pybind11::tuple" title='pybind11::tuple' data-ref="pybind11::tuple" data-ref-filename="pybind11..tuple">tuple</a><a class="ref fn" href="../pytypes.h.html#1262" title='pybind11::tuple::tuple' data-ref="_ZN8pybind115tupleC1ERKNS_6objectE" data-ref-filename="_ZN8pybind115tupleC1ERKNS_6objectE">(</a><a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::bases" title='pybind11::detail::type_record::bases' data-ref="pybind11::detail::type_record::bases" data-ref-filename="pybind11..detail..type_record..bases">bases</a>);</td></tr>
<tr><th id="635">635</th><td>    <em>auto</em> <dfn class="local col4 decl" id="1254base" title='base' data-type='_object *' data-ref="1254base" data-ref-filename="1254base">base</dfn> = (<a class="local col3 ref" href="#1253bases" title='bases' data-ref="1253bases" data-ref-filename="1253bases">bases</a>.<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind115tuple5emptyEv" title='pybind11::tuple::empty' data-ref="_ZNK8pybind115tuple5emptyEv" data-ref-filename="_ZNK8pybind115tuple5emptyEv">empty</a>()) ? <a class="local col2 ref" href="#1252internals" title='internals' data-ref="1252internals" data-ref-filename="1252internals">internals</a>.<a class="ref field" href="internals.h.html#pybind11::detail::internals::instance_base" title='pybind11::detail::internals::instance_base' data-ref="pybind11::detail::internals::instance_base" data-ref-filename="pybind11..detail..internals..instance_base">instance_base</a></td></tr>
<tr><th id="636">636</th><td>                                    : <a class="local col3 ref" href="#1253bases" title='bases' data-ref="1253bases" data-ref-filename="1253bases">bases</a><a class="ref fn" href="../pytypes.h.html#_ZNK8pybind115tupleixEm" title='pybind11::tuple::operator[]' data-ref="_ZNK8pybind115tupleixEm" data-ref-filename="_ZNK8pybind115tupleixEm">[<var>0</var>]</a>.<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116detail8accessor3ptrEv" title='pybind11::detail::accessor::ptr' data-ref="_ZNK8pybind116detail8accessor3ptrEv" data-ref-filename="_ZNK8pybind116detail8accessor3ptrEv">ptr</a>();</td></tr>
<tr><th id="637">637</th><td></td></tr>
<tr><th id="638">638</th><td>    <i>/* Danger zone: from now (and until PyType_Ready), make sure to</i></td></tr>
<tr><th id="639">639</th><td><i>       issue no Python C API calls which could potentially invoke the</i></td></tr>
<tr><th id="640">640</th><td><i>       garbage collector (the GC will call type_traverse(), which will in</i></td></tr>
<tr><th id="641">641</th><td><i>       turn find the newly constructed type in an invalid state) */</i></td></tr>
<tr><th id="642">642</th><td>    <em>auto</em> <dfn class="local col5 decl" id="1255metaclass" title='metaclass' data-type='_typeobject *' data-ref="1255metaclass" data-ref-filename="1255metaclass">metaclass</dfn> = <a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::metaclass" title='pybind11::detail::type_record::metaclass' data-ref="pybind11::detail::type_record::metaclass" data-ref-filename="pybind11..detail..type_record..metaclass">metaclass</a>.<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZNK8pybind116handle3ptrEv" data-ref-filename="_ZNK8pybind116handle3ptrEv">ptr</a>() ? (<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *) <a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::metaclass" title='pybind11::detail::type_record::metaclass' data-ref="pybind11::detail::type_record::metaclass" data-ref-filename="pybind11..detail..type_record..metaclass">metaclass</a>.<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZNK8pybind116handle3ptrEv" data-ref-filename="_ZNK8pybind116handle3ptrEv">ptr</a>()</td></tr>
<tr><th id="643">643</th><td>                                         : <a class="local col2 ref" href="#1252internals" title='internals' data-ref="1252internals" data-ref-filename="1252internals">internals</a>.<a class="ref field" href="internals.h.html#pybind11::detail::internals::default_metaclass" title='pybind11::detail::internals::default_metaclass' data-ref="pybind11::detail::internals::default_metaclass" data-ref-filename="pybind11..detail..internals..default_metaclass">default_metaclass</a>;</td></tr>
<tr><th id="644">644</th><td></td></tr>
<tr><th id="645">645</th><td>    <em>auto</em> <dfn class="local col6 decl" id="1256heap_type" title='heap_type' data-type='_heaptypeobject *' data-ref="1256heap_type" data-ref-filename="1256heap_type">heap_type</dfn> = (<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyHeapTypeObject" title='PyHeapTypeObject' data-type='struct _heaptypeobject' data-ref="PyHeapTypeObject" data-ref-filename="PyHeapTypeObject">PyHeapTypeObject</a> *) <a class="local col5 ref" href="#1255metaclass" title='metaclass' data-ref="1255metaclass" data-ref-filename="1255metaclass">metaclass</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_alloc" title='_typeobject::tp_alloc' data-ref="_typeobject::tp_alloc" data-ref-filename="_typeobject..tp_alloc">tp_alloc</a>(<a class="local col5 ref" href="#1255metaclass" title='metaclass' data-ref="1255metaclass" data-ref-filename="1255metaclass">metaclass</a>, <var>0</var>);</td></tr>
<tr><th id="646">646</th><td>    <b>if</b> (!<a class="local col6 ref" href="#1256heap_type" title='heap_type' data-ref="1256heap_type" data-ref-filename="1256heap_type">heap_type</a>)</td></tr>
<tr><th id="647">647</th><td>        <a class="ref fn" href="common.h.html#_ZN8pybind1113pybind11_failERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='pybind11::pybind11_fail' data-ref="_ZN8pybind1113pybind11_failERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN8pybind1113pybind11_failERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">pybind11_fail</a>(<span class="namespace">std::</span><span class='typedef' title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</span><span class='ref fn' title='std::__cxx11::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_">(</span><a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::name" title='pybind11::detail::type_record::name' data-ref="pybind11::detail::type_record::name" data-ref-filename="pybind11..detail..type_record..name">name</a>) <span class='ref fn' title='std::operator+' data-ref="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_" data-ref-filename="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_">+</span> <q>": Unable to create type object!"</q>);</td></tr>
<tr><th id="648">648</th><td></td></tr>
<tr><th id="649">649</th><td>    <a class="local col6 ref" href="#1256heap_type" title='heap_type' data-ref="1256heap_type" data-ref-filename="1256heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::ht_name" title='_heaptypeobject::ht_name' data-ref="_heaptypeobject::ht_name" data-ref-filename="_heaptypeobject..ht_name">ht_name</a> = <a class="local col6 ref" href="#1246name" title='name' data-ref="1246name" data-ref-filename="1246name">name</a>.<a class="ref fn" href="../pytypes.h.html#_ZN8pybind116object7releaseEv" title='pybind11::object::release' data-ref="_ZN8pybind116object7releaseEv" data-ref-filename="_ZN8pybind116object7releaseEv">release</a>().<a class="ref fn" href="../pytypes.h.html#_ZN8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZN8pybind116handle3ptrEv" data-ref-filename="_ZN8pybind116handle3ptrEv">ptr</a>();</td></tr>
<tr><th id="650">650</th><td><u>#<span data-ppcond="650">ifdef</span> <a class="macro" href="#19" data-ref="_M/PYBIND11_BUILTIN_QUALNAME">PYBIND11_BUILTIN_QUALNAME</a></u></td></tr>
<tr><th id="651">651</th><td>    <a class="local col6 ref" href="#1256heap_type" title='heap_type' data-ref="1256heap_type" data-ref-filename="1256heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::ht_qualname" title='_heaptypeobject::ht_qualname' data-ref="_heaptypeobject::ht_qualname" data-ref-filename="_heaptypeobject..ht_qualname">ht_qualname</a> = <a class="local col7 ref" href="#1247qualname" title='qualname' data-ref="1247qualname" data-ref-filename="1247qualname">qualname</a>.<a class="ref fn" href="../pytypes.h.html#_ZNKR8pybind116handle7inc_refEv" title='pybind11::handle::inc_ref' data-ref="_ZNKR8pybind116handle7inc_refEv" data-ref-filename="_ZNKR8pybind116handle7inc_refEv">inc_ref</a>().<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZNK8pybind116handle3ptrEv" data-ref-filename="_ZNK8pybind116handle3ptrEv">ptr</a>();</td></tr>
<tr><th id="652">652</th><td><u>#<span data-ppcond="650">endif</span></u></td></tr>
<tr><th id="653">653</th><td></td></tr>
<tr><th id="654">654</th><td>    <em>auto</em> <dfn class="local col7 decl" id="1257type" title='type' data-type='_typeobject *' data-ref="1257type" data-ref-filename="1257type">type</dfn> = &amp;<a class="local col6 ref" href="#1256heap_type" title='heap_type' data-ref="1256heap_type" data-ref-filename="1256heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::ht_type" title='_heaptypeobject::ht_type' data-ref="_heaptypeobject::ht_type" data-ref-filename="_heaptypeobject..ht_type">ht_type</a>;</td></tr>
<tr><th id="655">655</th><td>    <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_name" title='_typeobject::tp_name' data-ref="_typeobject::tp_name" data-ref-filename="_typeobject..tp_name">tp_name</a> = <a class="local col9 ref" href="#1249full_name" title='full_name' data-ref="1249full_name" data-ref-filename="1249full_name">full_name</a>;</td></tr>
<tr><th id="656">656</th><td>    <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_doc" title='_typeobject::tp_doc' data-ref="_typeobject::tp_doc" data-ref-filename="_typeobject..tp_doc">tp_doc</a> = <a class="local col0 ref" href="#1250tp_doc" title='tp_doc' data-ref="1250tp_doc" data-ref-filename="1250tp_doc">tp_doc</a>;</td></tr>
<tr><th id="657">657</th><td>    <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_base" title='_typeobject::tp_base' data-ref="_typeobject::tp_base" data-ref-filename="_typeobject..tp_base">tp_base</a> = <a class="ref fn" href="#_ZN8pybind116detail11type_increfEP11_typeobject" title='pybind11::detail::type_incref' data-ref="_ZN8pybind116detail11type_increfEP11_typeobject" data-ref-filename="_ZN8pybind116detail11type_increfEP11_typeobject">type_incref</a>((<a class="typedef" href="../../../../../../../include/python3.8/cpython/object.h.html#PyTypeObject" title='PyTypeObject' data-type='struct _typeobject' data-ref="PyTypeObject" data-ref-filename="PyTypeObject">PyTypeObject</a> *)<a class="local col4 ref" href="#1254base" title='base' data-ref="1254base" data-ref-filename="1254base">base</a>);</td></tr>
<tr><th id="658">658</th><td>    <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_basicsize" title='_typeobject::tp_basicsize' data-ref="_typeobject::tp_basicsize" data-ref-filename="_typeobject..tp_basicsize">tp_basicsize</a> = <b>static_cast</b>&lt;<a class="typedef" href="common.h.html#pybind11::ssize_t" title='pybind11::ssize_t' data-type='Py_ssize_t' data-ref="pybind11::ssize_t" data-ref-filename="pybind11..ssize_t">ssize_t</a>&gt;(<b>sizeof</b>(<a class="type" href="common.h.html#pybind11::detail::instance" title='pybind11::detail::instance' data-ref="pybind11::detail::instance" data-ref-filename="pybind11..detail..instance">instance</a>));</td></tr>
<tr><th id="659">659</th><td>    <b>if</b> (!<a class="local col3 ref" href="#1253bases" title='bases' data-ref="1253bases" data-ref-filename="1253bases">bases</a>.<a class="ref fn" href="../pytypes.h.html#_ZNK8pybind115tuple5emptyEv" title='pybind11::tuple::empty' data-ref="_ZNK8pybind115tuple5emptyEv" data-ref-filename="_ZNK8pybind115tuple5emptyEv">empty</a>())</td></tr>
<tr><th id="660">660</th><td>        <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_bases" title='_typeobject::tp_bases' data-ref="_typeobject::tp_bases" data-ref-filename="_typeobject..tp_bases">tp_bases</a> = <a class="local col3 ref" href="#1253bases" title='bases' data-ref="1253bases" data-ref-filename="1253bases">bases</a>.<a class="ref fn" href="../pytypes.h.html#_ZN8pybind116object7releaseEv" title='pybind11::object::release' data-ref="_ZN8pybind116object7releaseEv" data-ref-filename="_ZN8pybind116object7releaseEv">release</a>().<a class="ref fn" href="../pytypes.h.html#_ZN8pybind116handle3ptrEv" title='pybind11::handle::ptr' data-ref="_ZN8pybind116handle3ptrEv" data-ref-filename="_ZN8pybind116handle3ptrEv">ptr</a>();</td></tr>
<tr><th id="661">661</th><td></td></tr>
<tr><th id="662">662</th><td>    <i>/* Don't inherit base __init__ */</i></td></tr>
<tr><th id="663">663</th><td>    <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_init" title='_typeobject::tp_init' data-ref="_typeobject::tp_init" data-ref-filename="_typeobject..tp_init">tp_init</a> = <a class="ref fn" href="#pybind11::detail::pybind11_object_init" title='pybind11::detail::pybind11_object_init' data-ref="pybind11::detail::pybind11_object_init" data-ref-filename="pybind11..detail..pybind11_object_init">pybind11_object_init</a>;</td></tr>
<tr><th id="664">664</th><td></td></tr>
<tr><th id="665">665</th><td>    <i>/* Supported protocols */</i></td></tr>
<tr><th id="666">666</th><td>    <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_as_number" title='_typeobject::tp_as_number' data-ref="_typeobject::tp_as_number" data-ref-filename="_typeobject..tp_as_number">tp_as_number</a> = &amp;<a class="local col6 ref" href="#1256heap_type" title='heap_type' data-ref="1256heap_type" data-ref-filename="1256heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::as_number" title='_heaptypeobject::as_number' data-ref="_heaptypeobject::as_number" data-ref-filename="_heaptypeobject..as_number">as_number</a>;</td></tr>
<tr><th id="667">667</th><td>    <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_as_sequence" title='_typeobject::tp_as_sequence' data-ref="_typeobject::tp_as_sequence" data-ref-filename="_typeobject..tp_as_sequence">tp_as_sequence</a> = &amp;<a class="local col6 ref" href="#1256heap_type" title='heap_type' data-ref="1256heap_type" data-ref-filename="1256heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::as_sequence" title='_heaptypeobject::as_sequence' data-ref="_heaptypeobject::as_sequence" data-ref-filename="_heaptypeobject..as_sequence">as_sequence</a>;</td></tr>
<tr><th id="668">668</th><td>    <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_as_mapping" title='_typeobject::tp_as_mapping' data-ref="_typeobject::tp_as_mapping" data-ref-filename="_typeobject..tp_as_mapping">tp_as_mapping</a> = &amp;<a class="local col6 ref" href="#1256heap_type" title='heap_type' data-ref="1256heap_type" data-ref-filename="1256heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::as_mapping" title='_heaptypeobject::as_mapping' data-ref="_heaptypeobject::as_mapping" data-ref-filename="_heaptypeobject..as_mapping">as_mapping</a>;</td></tr>
<tr><th id="669">669</th><td><u>#<span data-ppcond="669">if</span> <a class="macro" href="../../../../../../../include/python3.8/patchlevel.h.html#31" title="((3 &lt;&lt; 24) | (8 &lt;&lt; 16) | (5 &lt;&lt; 8) | (0xF &lt;&lt; 4) | (0 &lt;&lt; 0))" data-ref="_M/PY_VERSION_HEX">PY_VERSION_HEX</a> &gt;= 0x03050000</u></td></tr>
<tr><th id="670">670</th><td>    <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_as_async" title='_typeobject::tp_as_async' data-ref="_typeobject::tp_as_async" data-ref-filename="_typeobject..tp_as_async">tp_as_async</a> = &amp;<a class="local col6 ref" href="#1256heap_type" title='heap_type' data-ref="1256heap_type" data-ref-filename="1256heap_type">heap_type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_heaptypeobject::as_async" title='_heaptypeobject::as_async' data-ref="_heaptypeobject::as_async" data-ref-filename="_heaptypeobject..as_async">as_async</a>;</td></tr>
<tr><th id="671">671</th><td><u>#<span data-ppcond="669">endif</span></u></td></tr>
<tr><th id="672">672</th><td></td></tr>
<tr><th id="673">673</th><td>    <i>/* Flags */</i></td></tr>
<tr><th id="674">674</th><td>    <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_flags" title='_typeobject::tp_flags' data-ref="_typeobject::tp_flags" data-ref-filename="_typeobject..tp_flags">tp_flags</a> |= <a class="macro" href="../../../../../../../include/python3.8/object.h.html#332" title="( 0 | (1UL &lt;&lt; 18) | 0)" data-ref="_M/Py_TPFLAGS_DEFAULT">Py_TPFLAGS_DEFAULT</a> | <a class="macro" href="../../../../../../../include/python3.8/object.h.html#286" title="(1UL &lt;&lt; 9)" data-ref="_M/Py_TPFLAGS_HEAPTYPE">Py_TPFLAGS_HEAPTYPE</a>;</td></tr>
<tr><th id="675">675</th><td><u>#<span data-ppcond="675">if</span> <a class="macro" href="../../../../../../../include/python3.8/patchlevel.h.html#19" title="3" data-ref="_M/PY_MAJOR_VERSION">PY_MAJOR_VERSION</a> &lt; 3</u></td></tr>
<tr><th id="676">676</th><td>    type-&gt;tp_flags |= Py_TPFLAGS_CHECKTYPES;</td></tr>
<tr><th id="677">677</th><td><u>#<span data-ppcond="675">endif</span></u></td></tr>
<tr><th id="678">678</th><td>    <b>if</b> (!<a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::is_final" title='pybind11::detail::type_record::is_final' data-ref="pybind11::detail::type_record::is_final" data-ref-filename="pybind11..detail..type_record..is_final">is_final</a>)</td></tr>
<tr><th id="679">679</th><td>        <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>-&gt;<a class="ref field" href="../../../../../../../include/python3.8/cpython/object.h.html#_typeobject::tp_flags" title='_typeobject::tp_flags' data-ref="_typeobject::tp_flags" data-ref-filename="_typeobject..tp_flags">tp_flags</a> |= <a class="macro" href="../../../../../../../include/python3.8/object.h.html#289" title="(1UL &lt;&lt; 10)" data-ref="_M/Py_TPFLAGS_BASETYPE">Py_TPFLAGS_BASETYPE</a>;</td></tr>
<tr><th id="680">680</th><td></td></tr>
<tr><th id="681">681</th><td>    <b>if</b> (<a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::dynamic_attr" title='pybind11::detail::type_record::dynamic_attr' data-ref="pybind11::detail::type_record::dynamic_attr" data-ref-filename="pybind11..detail..type_record..dynamic_attr">dynamic_attr</a>)</td></tr>
<tr><th id="682">682</th><td>        <a class="ref fn" href="#_ZN8pybind116detail25enable_dynamic_attributesEP15_heaptypeobject" title='pybind11::detail::enable_dynamic_attributes' data-ref="_ZN8pybind116detail25enable_dynamic_attributesEP15_heaptypeobject" data-ref-filename="_ZN8pybind116detail25enable_dynamic_attributesEP15_heaptypeobject">enable_dynamic_attributes</a>(<a class="local col6 ref" href="#1256heap_type" title='heap_type' data-ref="1256heap_type" data-ref-filename="1256heap_type">heap_type</a>);</td></tr>
<tr><th id="683">683</th><td></td></tr>
<tr><th id="684">684</th><td>    <b>if</b> (<a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::buffer_protocol" title='pybind11::detail::type_record::buffer_protocol' data-ref="pybind11::detail::type_record::buffer_protocol" data-ref-filename="pybind11..detail..type_record..buffer_protocol">buffer_protocol</a>)</td></tr>
<tr><th id="685">685</th><td>        <a class="ref fn" href="#_ZN8pybind116detail22enable_buffer_protocolEP15_heaptypeobject" title='pybind11::detail::enable_buffer_protocol' data-ref="_ZN8pybind116detail22enable_buffer_protocolEP15_heaptypeobject" data-ref-filename="_ZN8pybind116detail22enable_buffer_protocolEP15_heaptypeobject">enable_buffer_protocol</a>(<a class="local col6 ref" href="#1256heap_type" title='heap_type' data-ref="1256heap_type" data-ref-filename="1256heap_type">heap_type</a>);</td></tr>
<tr><th id="686">686</th><td></td></tr>
<tr><th id="687">687</th><td>    <b>if</b> (<a class="ref fn" href="../../../../../../../include/python3.8/object.h.html#PyType_Ready" title='PyType_Ready' data-ref="PyType_Ready" data-ref-filename="PyType_Ready">PyType_Ready</a>(<a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>) &lt; <var>0</var>)</td></tr>
<tr><th id="688">688</th><td>        <a class="ref fn" href="common.h.html#_ZN8pybind1113pybind11_failERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" title='pybind11::pybind11_fail' data-ref="_ZN8pybind1113pybind11_failERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE" data-ref-filename="_ZN8pybind1113pybind11_failERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE">pybind11_fail</a>(<span class="namespace">std::</span><span class='typedef' title='std::string' data-type='basic_string&lt;char&gt;' data-ref="std::string" data-ref-filename="std..string">string</span><span class='ref fn' title='std::__cxx11::basic_string::basic_string&lt;_CharT, _Traits, _Alloc&gt;' data-ref="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_" data-ref-filename="_ZNSt7__cxx1112basic_stringC1EPKT_RKT1_">(</span><a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::name" title='pybind11::detail::type_record::name' data-ref="pybind11::detail::type_record::name" data-ref-filename="pybind11..detail..type_record..name">name</a>) <span class='ref fn' title='std::operator+' data-ref="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_" data-ref-filename="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_">+</span> <q>": PyType_Ready failed ("</q> <span class='ref fn' title='std::operator+' data-ref="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EES5_" data-ref-filename="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EES5_">+</span> <a class="ref fn" href="../cast.h.html#_ZN8pybind116detail12error_stringB5cxx11Ev" title='pybind11::detail::error_string' data-ref="_ZN8pybind116detail12error_stringB5cxx11Ev" data-ref-filename="_ZN8pybind116detail12error_stringB5cxx11Ev">error_string</a>() <span class='ref fn' title='std::operator+' data-ref="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_" data-ref-filename="_ZStplONSt7__cxx1112basic_stringIT_T0_T1_EEPKS1_">+</span> <q>")!"</q>);</td></tr>
<tr><th id="689">689</th><td></td></tr>
<tr><th id="690">690</th><td>    <a class="macro" href="../../../../../../../include/assert.h.html#50" title="(static_cast&lt;void&gt; (0))" data-ref="_M/assert">assert</a>(rec.dynamic_attr ? PyType_HasFeature(type, Py_TPFLAGS_HAVE_GC)</td></tr>
<tr><th id="691">691</th><td>                            : !PyType_HasFeature(type, Py_TPFLAGS_HAVE_GC));</td></tr>
<tr><th id="692">692</th><td></td></tr>
<tr><th id="693">693</th><td>    <i>/* Register type with the parent scope */</i></td></tr>
<tr><th id="694">694</th><td>    <b>if</b> (<a class="ref fn fake" href="../pytypes.h.html#_ZNK8pybind116handlecvbEv" title='pybind11::handle::operator bool' data-ref="_ZNK8pybind116handlecvbEv" data-ref-filename="_ZNK8pybind116handlecvbEv"></a><a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::scope" title='pybind11::detail::type_record::scope' data-ref="pybind11::detail::type_record::scope" data-ref-filename="pybind11..detail..type_record..scope">scope</a>)</td></tr>
<tr><th id="695">695</th><td>        <a class="ref fn" href="../pytypes.h.html#_ZN8pybind117setattrENS_6handleEPKcS0_" title='pybind11::setattr' data-ref="_ZN8pybind117setattrENS_6handleEPKcS0_" data-ref-filename="_ZN8pybind117setattrENS_6handleEPKcS0_">setattr</a>(<a class="ref fn fake" href="../pytypes.h.html#176" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1ERKS0_" data-ref-filename="_ZN8pybind116handleC1ERKS0_"></a><a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::scope" title='pybind11::detail::type_record::scope' data-ref="pybind11::detail::type_record::scope" data-ref-filename="pybind11..detail..type_record..scope">scope</a>, <a class="local col5 ref" href="#1245rec" title='rec' data-ref="1245rec" data-ref-filename="1245rec">rec</a>.<a class="ref field" href="../attr.h.html#pybind11::detail::type_record::name" title='pybind11::detail::type_record::name' data-ref="pybind11::detail::type_record::name" data-ref-filename="pybind11..detail..type_record..name">name</a>, <a class="ref fn fake" href="../pytypes.h.html#_ZN8pybind116handleC1EP7_object" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1EP7_object" data-ref-filename="_ZN8pybind116handleC1EP7_object"></a>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *) <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>);</td></tr>
<tr><th id="696">696</th><td>    <b>else</b></td></tr>
<tr><th id="697">697</th><td>        <a class="macro" href="../../../../../../../include/python3.8/object.h.html#462" title="_Py_INCREF(((PyObject*)(type)))" data-ref="_M/Py_INCREF">Py_INCREF</a>(<a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>); <i>// Keep it alive forever (reference leak)</i></td></tr>
<tr><th id="698">698</th><td></td></tr>
<tr><th id="699">699</th><td>    <b>if</b> (<a class="ref fn fake" href="../pytypes.h.html#_ZNK8pybind116handlecvbEv" title='pybind11::handle::operator bool' data-ref="_ZNK8pybind116handlecvbEv" data-ref-filename="_ZNK8pybind116handlecvbEv"></a><a class="local col8 ref" href="#1248module_" title='module_' data-ref="1248module_" data-ref-filename="1248module_">module_</a>) <i>// Needed by pydoc</i></td></tr>
<tr><th id="700">700</th><td>        <a class="ref fn" href="../pytypes.h.html#_ZN8pybind117setattrENS_6handleEPKcS0_" title='pybind11::setattr' data-ref="_ZN8pybind117setattrENS_6handleEPKcS0_" data-ref-filename="_ZN8pybind117setattrENS_6handleEPKcS0_">setattr</a>(<a class="ref fn fake" href="../pytypes.h.html#_ZN8pybind116handleC1EP7_object" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1EP7_object" data-ref-filename="_ZN8pybind116handleC1EP7_object"></a>(<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *) <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>, <q>"__module__"</q>, <a class="ref fn fake" href="../pytypes.h.html#176" title='pybind11::handle::handle' data-ref="_ZN8pybind116handleC1ERKS0_" data-ref-filename="_ZN8pybind116handleC1ERKS0_"></a><a class="local col8 ref" href="#1248module_" title='module_' data-ref="1248module_" data-ref-filename="1248module_">module_</a>);</td></tr>
<tr><th id="701">701</th><td></td></tr>
<tr><th id="702">702</th><td>    <a class="macro" href="#20" title="" data-ref="_M/PYBIND11_SET_OLDPY_QUALNAME">PYBIND11_SET_OLDPY_QUALNAME</a>(type, qualname);</td></tr>
<tr><th id="703">703</th><td></td></tr>
<tr><th id="704">704</th><td>    <b>return</b> (<a class="typedef" href="../../../../../../../include/python3.8/object.h.html#PyObject" title='PyObject' data-type='struct _object' data-ref="PyObject" data-ref-filename="PyObject">PyObject</a> *) <a class="local col7 ref" href="#1257type" title='type' data-ref="1257type" data-ref-filename="1257type">type</a>;</td></tr>
<tr><th id="705">705</th><td>}</td></tr>
<tr><th id="706">706</th><td></td></tr>
<tr><th id="707">707</th><td><a class="macro" href="common.h.html#17" title="}" data-ref="_M/PYBIND11_NAMESPACE_END">PYBIND11_NAMESPACE_END</a>(detail)</td></tr>
<tr><th id="708">708</th><td><a class="macro" href="common.h.html#17" title="}" data-ref="_M/PYBIND11_NAMESPACE_END">PYBIND11_NAMESPACE_END</a>(PYBIND11_NAMESPACE)</td></tr>
<tr><th id="709">709</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='../../../../../../python_bindings/src/PyArgument.cpp.html'>halide/python_bindings/src/PyArgument.cpp</a><br/>Generated on <em>2021-Aug-05</em> from project halide revision <em>v12.0.1</em>