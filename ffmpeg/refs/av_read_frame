<dec f='ffmpeg/libavformat/avformat.h' l='2331' type='int av_read_frame(AVFormatContext * s, AVPacket * pkt)'/>
<doc f='ffmpeg/libavformat/avformat.h' l='2304'>/**
 * Return the next frame of a stream.
 * This function returns what is stored in the file, and does not validate
 * that what is there are valid frames for the decoder. It will split what is
 * stored in the file into frames and return one for each call. It will not
 * omit invalid data between valid frames so as to give the decoder the maximum
 * information possible for decoding.
 *
 * On success, the returned packet is reference-counted (pkt-&gt;buf is set) and
 * valid indefinitely. The packet must be freed with av_packet_unref() when
 * it is no longer needed. For video, the packet contains exactly one frame.
 * For audio, it contains an integer number of frames if each frame has
 * a known fixed size (e.g. PCM or ADPCM data). If the audio frames have
 * a variable size (e.g. MPEG audio), then it contains one frame.
 *
 * pkt-&gt;pts, pkt-&gt;dts and pkt-&gt;duration are always set to correct
 * values in AVStream.time_base units (and guessed if the format cannot
 * provide them). pkt-&gt;pts can be AV_NOPTS_VALUE if the video format
 * has B-frames, so it is better to rely on pkt-&gt;dts if you do not
 * decompress the payload.
 *
 * @return 0 if OK, &lt; 0 on error or end of file. On error, pkt will be blank
 *         (as if it came from av_packet_alloc()).
 *
 * @note pkt will be initialized, so it may be uninitialized, but it must not
 *       contain data that needs to be freed.
 */</doc>
<use f='ffmpeg/fftools/ffmpeg.c' l='4097' u='c' c='input_thread'/>
<use f='ffmpeg/fftools/ffmpeg.c' l='4226' u='c' c='get_input_packet'/>
<use f='ffmpeg/fftools/ffprobe.c' l='2499' u='c' c='read_interval_packets'/>
<use f='ffmpeg/libavfilter/lavfutils.c' l='84' u='c' c='ff_load_image'/>
<use f='ffmpeg/libavfilter/src_movie.c' l='460' u='c' c='movie_decode_packet'/>
<use f='ffmpeg/libavformat/asfdec_f.c' l='1561' u='c' c='asf_read_pts'/>
<use f='ffmpeg/libavformat/concatdec.c' l='585' u='c' c='concat_read_packet'/>
<use f='ffmpeg/libavformat/hls.c' l='2167' u='c' c='hls_read_packet'/>
<use f='ffmpeg/libavformat/mpc.c' l='210' u='c' c='mpc_read_seek'/>
<use f='ffmpeg/libavformat/mpegts.c' l='3312' u='c' c='mpegts_get_dts'/>
<use f='ffmpeg/libavformat/sapdec.c' l='219' u='c' c='sap_fetch_packet'/>
<def f='ffmpeg/libavformat/utils.c' l='1746' ll='1842' type='int av_read_frame(AVFormatContext * s, AVPacket * pkt)'/>
<use f='ffmpeg/libavformat/utils.c' l='2416' u='c' c='seek_frame_generic'/>
